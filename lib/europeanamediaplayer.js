(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("jquery"), require("dashjs"));
	else if(typeof define === 'function' && define.amd)
		define("europeanamediaplayer", ["jquery", "dashjs"], factory);
	else if(typeof exports === 'object')
		exports["europeanamediaplayer"] = factory(require("jquery"), require("dashjs"));
	else
		root["europeanamediaplayer"] = factory(root["jquery"], root["dashjs"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_dashjs__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdateeuropeanamediaplayer"];
/******/ 	window["webpackHotUpdateeuropeanamediaplayer"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "a1bc035abb6f05a195eb";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(E,e){ true?module.exports=e():undefined}(window,(function(){return function(E){var e={};function T(t){if(e[t])return e[t].exports;var O=e[t]={i:t,l:!1,exports:{}};return E[t].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=E,T.c=e,T.d=function(E,e,t){T.o(E,e)||Object.defineProperty(E,e,{enumerable:!0,get:t})},T.r=function(E){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},T.t=function(E,e){if(1&e&&(E=T(E)),8&e)return E;if(4&e&&"object"==typeof E&&E&&E.__esModule)return E;var t=Object.create(null);if(T.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:E}),2&e&&"string"!=typeof E)for(var O in E)T.d(t,O,function(e){return E[e]}.bind(null,O));return t},T.n=function(E){var e=E&&E.__esModule?function(){return E.default}:function(){return E};return T.d(e,"a",e),e},T.o=function(E,e){return Object.prototype.hasOwnProperty.call(E,e)},T.p="",T(T.s=0)}([function(E,e,T){E.exports=T(1)},function(E,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])}));
//# sourceMappingURL=httpstatuscodes.js.map

/***/ }),

/***/ "./node_modules/@iiif/base-component/dist-esmodule/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/base-component/dist-esmodule/index.js ***!
  \******************************************************************/
/*! exports provided: BaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
var BaseComponent = /** @class */ (function () {
    function BaseComponent(options) {
        this.options = options;
        this.options.data = Object.assign({}, this.data(), options.data);
    }
    BaseComponent.prototype._init = function () {
        this.el = this.options.target;
        if (!this.el) {
            console.warn('element not found');
            return false;
        }
        this.el.innerHTML = '';
        return true;
    };
    BaseComponent.prototype.data = function () {
        return {};
    };
    BaseComponent.prototype.on = function (name, callback, ctx) {
        var e = this._e || (this._e = {});
        (e[name] || (e[name] = [])).push({
            fn: callback,
            ctx: ctx
        });
    };
    BaseComponent.prototype.fire = function (name) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var data = [].slice.call(arguments, 1);
        var evtArr = ((this._e || (this._e = {}))[name] || []).slice();
        var i = 0;
        var len = evtArr.length;
        for (i; i < len; i++) {
            evtArr[i].fn.apply(evtArr[i].ctx, data);
        }
    };
    BaseComponent.prototype._resize = function () {
    };
    BaseComponent.prototype.set = function (_data) {
    };
    return BaseComponent;
}());

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($, jQuery) {!function(t,e){ true?module.exports=e():undefined}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(e.AnnotationMotivation||(e.AnnotationMotivation={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(e.Behavior||(e.Behavior={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DOCUMENT="document",t.IMAGE="image",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(e.ExternalResourceType||(e.ExternalResourceType={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(e.IIIFResourceType||(e.IIIFResourceType={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(e.MediaType||(e.MediaType={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(e.RenderingFormat||(e.RenderingFormat={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(e.ServiceProfile||(e.ServiceProfile={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(e.ViewingDirection||(e.ViewingDirection={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(e.ViewingHint||(e.ViewingHint={}))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{l(i.next(t))}catch(t){a(t)}}function s(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(33);n(34);var l=function(){function t(){}return t.getMediaType=function(t){return(t=(t=t.toLowerCase()).split(";")[0]).trim()},t.getImageQuality=function(t){return t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_LEVEL_1||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_LEVEL_2||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},t.getInexactLocale=function(t){return-1!==t.indexOf("-")?t.substr(0,t.indexOf("-")):t},t.getLocalisedValue=function(t,e){if(!Array.isArray(t))return t;for(var n=0;n<t.length;n++){var i=t[n];if(e===i["@language"])return i["@value"]}var r=e.substr(0,e.indexOf("-"));for(n=0;n<t.length;n++){var a=t[n];if(a["@language"]===r)return a["@value"]}return null},t.generateTreeNodeIds=function(e,n){var i;void 0===n&&(n=0),i=e.parentNode?e.parentNode.id+"-"+n:"0",e.id=i;for(var r=0;r<e.nodes.length;r++){var a=e.nodes[r];t.generateTreeNodeIds(a,r)}},t.normaliseType=function(t){return-1!==(t=t.toLowerCase()).indexOf(":")?t.split(":")[1]:t},t.normaliseUrl=function(t){return-1!==(t=t.substr(t.indexOf("://"))).indexOf("#")&&(t=t.split("#")[0]),t},t.normalisedUrlsMatch=function(e,n){return t.normaliseUrl(e)===t.normaliseUrl(n)},t.isImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.isLevel0ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},t.isLevel1ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},t.isLevel2ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.parseManifest=function(t,e){return a.Deserialiser.parse(t,e)},t.checkStatus=function(t){if(t.ok)return t;var e=new Error(t.statusText);return e.response=t,Promise.reject(e)},t.loadManifest=function(e){return new Promise((function(n){fetch(e).then(t.checkStatus).then((function(t){return t.json()})).then((function(t){n(t)}))}))},t.loadExternalResourcesAuth1=function(e,n,i,r,a,o,s,l){return new Promise((function(c,u){var h=e.map((function(e){return t.loadExternalResourceAuth1(e,n,i,r,a,o,s,l)}));Promise.all(h).then((function(){c(e)})).catch((function(t){u(t)}))}))},t.loadExternalResourceAuth1=function(e,n,a,o,l,c,u,h){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return(i=r.sent())?[4,e.getData(i)]:[3,6];case 2:return r.sent(),e.status!==s.OK?[3,3]:[2,e];case 3:return[4,t.doAuthChain(e,n,a,l,c,u,h)];case 4:r.sent(),r.label=5;case 5:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return r.sent(),e.status!==s.MOVED_TEMPORARILY&&e.status!==s.UNAUTHORIZED?[3,9]:[4,t.doAuthChain(e,n,a,l,c,u,h)];case 8:r.sent(),r.label=9;case 9:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError()}}))}))},t.doAuthChain=function(e,n,a,o,l,c,u){return i(this,void 0,void 0,(function(){var i,h,p,f,_,d,v,g;return r(this,(function(r){switch(r.label){case 0:return e.isAccessControlled()?((i=e.externalService)&&(i.options=e.options),(h=e.kioskService)&&(h.options=e.options),(p=e.clickThroughService)&&(p.options=e.options),(f=e.loginService)&&(f.options=e.options),e.isResponseHandled||e.status!==s.MOVED_TEMPORARILY?[3,2]:[4,c(e)]):[2,e];case 1:return r.sent(),[2,e];case 2:return _=null,d=null,(_=i)?(d=_,[4,t.attemptResourceWithToken(e,a,_)]):[3,4];case 3:return r.sent(),[2,e];case 4:return(_=h)?(d=_,(v=n(_))?[4,o(v)]:[3,7]):[3,7];case 5:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 6:return r.sent(),[2,e];case 7:return(_=p)?(d=_,[4,l(e,_)]):[3,11];case 8:return(g=r.sent())?[4,o(g)]:[3,11];case 9:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 10:return r.sent(),[2,e];case 11:return(_=f)?(d=_,[4,l(e,_)]):[3,15];case 12:return(g=r.sent())?[4,o(g)]:[3,15];case 13:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 14:return r.sent(),[2,e];case 15:return d&&u(e,d),[2]}}))}))},t.attemptResourceWithToken=function(t,e,n){return i(this,void 0,void 0,(function(){var i,a;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(o.ServiceProfile.AUTH_1_TOKEN))?[4,e(t,i)]:[3,3];case 1:return(a=r.sent())&&a.accessToken?[4,t.getData(a)]:[3,3];case 2:return r.sent(),[2,t];case 3:return[2]}}))}))},t.loadExternalResourcesAuth09=function(e,n,i,r,a,o,s,l,c,u){return new Promise((function(h,p){var f=e.map((function(e){return t.loadExternalResourceAuth09(e,n,i,r,a,o,s,l,c,u)}));Promise.all(f).then((function(){h(e)})).catch((function(t){p(t)}))}))},t.loadExternalResourceAuth09=function(e,n,i,r,a,o,l,c,u,h){return new Promise((function(p,f){h&&h.pessimisticAccessControl?e.getData().then((function(){e.isAccessControlled()?e.clickThroughService?(p(i(e)),p(r(e))):a(e).then((function(){o(e,!0).then((function(n){e.getData(n).then((function(){p(u(e))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))})):p(e)})).catch((function(e){f(t.createInternalServerError(e))})):c(e,n).then((function(h){h?e.getData(h).then((function(){e.status===s.OK?p(u(e)):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())})):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())}))}))},t.createError=function(t,e){var n=new Error;return n.message=e,n.name=String(t),n},t.createAuthorizationFailedError=function(){return t.createError(a.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},t.createRestrictedError=function(){return t.createError(a.StatusCode.RESTRICTED,"Restricted")},t.createInternalServerError=function(e){return t.createError(a.StatusCode.INTERNAL_SERVER_ERROR,e)},t.authorize=function(e,n,i,r,a,o,l,c){return new Promise((function(u,h){e.getData().then((function(){e.isAccessControlled()?c(e,n).then((function(c){c?e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))})):o(e,!1).then((function(c){c?l(e,c,n).then((function(){e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))}))})).catch((function(e){h(t.createInternalServerError(e))})):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)}))})).catch((function(e){h(t.createInternalServerError(e))})):u(e)}))}))},t.showAuthInteraction=function(e,n,i,r,a,o,l,c,u){e.status!==s.MOVED_TEMPORARILY||e.isResponseHandled?e.clickThroughService&&!e.isResponseHandled?i(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):a(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):c(e)},t.getService=function(t,e){for(var n=this.getServices(t),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===e)return r}return null},t.getResourceById=function(e,n){return t.traverseAndFind(e.__jsonld,"@id",n)},t.traverseAndFind=function(e,n,i){if(e.hasOwnProperty(n)&&e[n]===i)return e;for(var r=0;r<Object.keys(e).length;r++)if("object"==typeof e[Object.keys(e)[r]]){var a=t.traverseAndFind(e[Object.keys(e)[r]],n,i);if(null!=a)return a}},t.getServices=function(t){var e,n=[];if(!(e=t.__jsonld?t.__jsonld.service:t.service))return n;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if("string"==typeof r){var o=this.getResourceById(t.options.resource,r);o&&n.push(new a.Service(o.__jsonld||o,t.options))}else n.push(new a.Service(r,t.options))}return n},t.getTemporalComponent=function(t){var e=/t=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t}();e.Utils=l},function(t,e,n){"use strict";n.r(e),e.default=function(t,e){return e=e||{},new Promise((function(n,i){var r=new XMLHttpRequest,a=[],o=[],s={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return o},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var c in r.open(e.method||"get",t,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){a.push(e=e.toLowerCase()),o.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(l())},r.onerror=i,r.withCredentials="include"==e.credentials,e.headers)r.setRequestHeader(c,e.headers[c]);r.send(e.body||null)}))}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(0));var i=n(2);e.loadManifest=function(t){return i.Utils.loadManifest(t)},e.parseManifest=function(t,e){return i.Utils.parseManifest(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return t.prototype.getProperty=function(t){var e=null;return this.__jsonld&&((e=this.__jsonld[t])||(e=this.__jsonld["@"+t])),e},t}();e.JSONLDResource=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=n,i}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){var t=this.getProperty("label");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDefaultLabel=function(){return a.LanguageMap.getValue(this.getLabel())},e.prototype.getMetadata=function(){var t=this.getProperty("metadata"),e=[];if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n],r=new a.LabelValuePair(this.options.locale);r.parse(i),e.push(r)}return e},e.prototype.getRendering=function(t){for(var e=this.getRenderings(),n=0;n<e.length;n++){var i=e[n];if(i.getFormat()===t)return i}return null},e.prototype.getRenderings=function(){var t,e=[];if(!(t=this.__jsonld?this.__jsonld.rendering:this.rendering))return e;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];e.push(new a.Rendering(i,this.options))}return e},e.prototype.getService=function(t){return a.Utils.getService(this,t)},e.prototype.getServices=function(){return a.Utils.getServices(this)},e.prototype.getThumbnail=function(){var t=this.getProperty("thumbnail");return Array.isArray(t)&&(t=t[0]),t?new a.Thumbnail(t,this.options):null},e.prototype.isAnnotation=function(){return this.getIIIFResourceType()===o.IIIFResourceType.ANNOTATION},e.prototype.isCanvas=function(){return this.getIIIFResourceType()===o.IIIFResourceType.CANVAS},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.isRange=function(){return this.getIIIFResourceType()===o.IIIFResourceType.RANGE},e.prototype.isSequence=function(){return this.getIIIFResourceType()===o.IIIFResourceType.SEQUENCE},e}(a.JSONLDResource);e.ManifestResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?t.toLowerCase():null},e.prototype.getResources=function(){var t=[];if(!this.__jsonld.resources)return t;for(var e=0;e<this.__jsonld.resources.length;e++){var n=this.__jsonld.resources[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getType=function(){var t=this.getProperty("type");return t?a.Utils.normaliseType(t):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},e.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},e}(a.ManifestResource);e.Resource=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(e,t),e.prototype.getAttribution=function(){var t=this.getProperty("attribution");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDescription=function(){var t=this.getProperty("description");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLogo=function(){var t=this.getProperty("logo");return t?"string"==typeof t?t:(Array.isArray(t)&&t.length&&(t=t[0]),t["@id"]||t.id):null},e.prototype.getLicense=function(){return a.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},e.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},e.prototype.getRelated=function(){return this.getProperty("related")},e.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},e.prototype.getTrackingLabel=function(){var t=this.getService(o.ServiceProfile.TRACKING_EXTENSIONS);return t?t.getProperty("trackingLabel"):""},e.prototype.getDefaultTree=function(){return this.defaultTree=new a.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},e.prototype.getRequiredStatement=function(){var t=null,e=this.getProperty("requiredStatement");if(e)(t=new a.LabelValuePair(this.options.locale)).parse(e);else{var n=this.getAttribution();n&&((t=new a.LabelValuePair(this.options.locale)).value=n)}return t},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.load=function(){var t=this;return new Promise((function(e){if(t.isLoaded)e(t);else{var n=t.options;n.navDate=t.getNavDate();var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(i){t.parentLabel=a.LanguageMap.getValue(t.getLabel(),n.locale);var r=a.Deserialiser.parse(i,n);(t=Object.assign(t,r)).index=n.index,e(t)}))}}))},e}(a.ManifestResource);e.IIIFResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getBody=function(){var t=[],e=this.getProperty("body");if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)if((o=e[n]).items)for(var i=0;i<o.items.length;i++){var r=o.items[i];t.push(new a.AnnotationBody(r,this.options))}else t.push(new a.AnnotationBody(o,this.options));else if(e.items)for(n=0;n<e.items.length;n++){var o=e.items[n];t.push(new a.AnnotationBody(o,this.options))}else t.push(new a.AnnotationBody(e,this.options));return t},e.prototype.getMotivation=function(){return this.getProperty("motivation")||null},e.prototype.getOn=function(){return this.getProperty("on")},e.prototype.getTarget=function(){return this.getProperty("target")},e.prototype.getResource=function(){return new a.Resource(this.getProperty("resource"),this.options)},e}(a.ManifestResource);e.Annotation=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?a.Utils.getMediaType(t):null},e.prototype.getType=function(){return this.getProperty("type")?a.Utils.normaliseType(this.getProperty("type")):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.ManifestResource);e.AnnotationBody=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.label=e,r.options=i,r}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){return this.label},e.prototype.getResources=function(){var t=this;return this.getProperty("resources").map((function(e){return new a.Annotation(e,t.options)}))},e.prototype.load=function(){var t=this;return new Promise((function(e,n){if(t.isLoaded)e(t);else{var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(n){t.__jsonld=n,t.context=t.getProperty("context"),t.id=t.getProperty("id"),t.isLoaded=!0,e(t)})).catch(n)}}))},e}(a.JSONLDResource);e.AnnotationList=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getItems=function(){return this.getProperty("items")},e}(n(0).ManifestResource);e.AnnotationPage=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getCanonicalImageUri=function(t){var e,n=null,i="default",r=t;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var o=this.getImages();if(o&&o.length){var s=o[0].getResource(),l=s.getServices();if(r||(r=s.getWidth()),l.length){var c=l[0];n=c.id,i=a.Utils.getImageQuality(c.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var u=this.getProperty("thumbnail");if(u){if("string"==typeof u)return u;if(u["@id"])return u["@id"];if(u.length)return u[0].id}}}return e=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",e,0,i+".jpg"].join("/")},e.prototype.getMaxDimensions=function(){var t,e=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(t=this.externalResource.data.profile,Array.isArray(t)&&(t=t.filter((function(t){return t.maxWidth}))[0])&&(e=new a.Size(t.maxWidth,t.maxHeight?t.maxHeight:t.maxWidth))),e},e.prototype.getContent=function(){var t=[],e=this.__jsonld.items||this.__jsonld.content;if(!e)return t;var n=null;if(e.length&&(n=new a.AnnotationPage(e[0],this.options)),!n)return t;for(var i=n.getItems(),r=0;r<i.length;r++){var o=i[r],s=new a.Annotation(o,this.options);t.push(s)}return t},e.prototype.getDuration=function(){return this.getProperty("duration")},e.prototype.getImages=function(){var t=[];if(!this.__jsonld.images)return t;for(var e=0;e<this.__jsonld.images.length;e++){var n=this.__jsonld.images[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getIndex=function(){return this.getProperty("index")},e.prototype.getOtherContent=function(){var t=this,e=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(t){return t&&"string"==typeof(e=t["@type"])&&e.toLowerCase()==e.toLowerCase();var e})).map((function(e,n){return new a.AnnotationList(e.label||"Annotation list "+n,e,t.options)})).map((function(t){return t.load()}));return Promise.all(e)},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.Resource);e.Canvas=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._collections=null,i._manifests=null,e.__collection=i,i}return r(e,t),e.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(t){return t.isCollection()}))},e.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(t){return t.isManifest()}))},e.prototype.getCollectionByIndex=function(t){for(var e,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Collection index not found")},e.prototype.getManifestByIndex=function(t){for(var e,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Manifest index not found")},e.prototype.getTotalCollections=function(){return this.getCollections().length},e.prototype.getTotalManifests=function(){return this.getManifests().length},e.prototype.getTotalItems=function(){return this.items.length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):a.ViewingDirection.LEFT_TO_RIGHT},e.prototype.getDefaultTree=function(){return t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._parseManifests=function(t){if(t.getManifests()&&t.getManifests().length)for(var e=0;e<t.getManifests().length;e++){var n=t.getManifests()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),t.defaultTree.addNode(i)}},e.prototype._parseCollections=function(t){if(t.getCollections()&&t.getCollections().length)for(var e=0;e<t.getCollections().length;e++){var n=t.getCollections()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),t.defaultTree.addNode(i)}},e}(o.IIIFResource);e.Collection=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getLength=function(){return this.end-this.start},t}();e.Duration=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t){this.defaultLocale=t}return t.prototype.parse=function(t){this.resource=t,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},t.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},t.prototype.setLabel=function(t){var e=this;if(this.label&&this.label.length){var n=this.label.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t.prototype.getValue=function(){if(this.value){var t=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(t=this.label[0].locale),i.LanguageMap.getValue(this.value,t)}return null},t.prototype.setValue=function(t){var e=this;if(this.value&&this.value.length){var n=this.value.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t}();e.LabelValuePair=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Language=function(t,e){Array.isArray(t)?1===t.length?this.value=t[0]:this.value=t.join("<br/>"):this.value=t,this.locale=e}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.parse=function(t,e){var n,i=[];if(!t)return i;if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=t[r];n="string"==typeof o?new a.Language(o,e):new a.Language(o["@value"],o["@language"]||e),i.push(n)}else{if("string"==typeof t)return n=new a.Language(t,e),i.push(n),i;t["@value"]?(n=new a.Language(t["@value"],t["@language"]||e),i.push(n)):Object.keys(t).forEach((function(e){if(!t[e].length)throw new Error("language must have a value");n=new a.Language(t[e],e),i.push(n)}))}return i},e.getValue=function(t,e){if(t.length){if(e){var n=t.filter((function(t){return t.locale===e||a.Utils.getInexactLocale(t.locale)===a.Utils.getInexactLocale(e)}))[0];if(n)return n.value}return t[0].value}return null},e}(Array);e.LanguageMap=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),a=0;a<r.length;a++){var o=r[a];i._parseRanges(o,String(a))}return i}return r(e,t),e.prototype.getPosterCanvas=function(){var t=this.getProperty("posterCanvas");return t&&(t=new o.Canvas(t,this.options)),t},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getDefaultTree=function(){if(t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var e=this.getTopRanges();return e.length&&e[0].getTree(this.defaultTree),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._getTopRanges=function(){var t=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];n.viewingHint===a.ViewingHint.TOP&&t.push(n)}if(!t.length){var i={};i.ranges=this.__jsonld.structures,t.push(i)}}return t},e.prototype.getTopRanges=function(){return this._topRanges},e.prototype._getRangeById=function(t){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];if(n["@id"]===t||n.id===t)return n}return null},e.prototype._parseRanges=function(t,e,n){var i,r=null;if("string"==typeof t&&(r=t,t=this._getRangeById(r)),t){(i=new o.Range(t,this.options)).parentRange=n,i.path=e,n?n.items.push(i):this._topRanges.push(i);var a=t.items||t.members;if(a)for(var s=0;s<a.length;s++){var l=a[s];if(l["@type"]&&"sc:range"===l["@type"].toLowerCase()||l.type&&"range"===l.type.toLowerCase())this._parseRanges(l,e+"/"+s,i);else if(l["@type"]&&"sc:canvas"===l["@type"].toLowerCase()||l.type&&"canvas"===l.type.toLowerCase()){i.canvases||(i.canvases=[]);var c=l.id||l["@id"];i.canvases.push(c)}}else if(t.ranges)for(s=0;s<t.ranges.length;s++)this._parseRanges(t.ranges[s],e+"/"+s,i)}else console.warn("Range:",r,"does not exist")},e.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var t=this.getTopRanges(),e=function(e){var i=t[e];i.id&&n._allRanges.push(i);var r=function(t,e){t.add(e);var n=e.getRanges();return n.length?n.reduce(r,t):t},a=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(a)},n=this,i=0;i<t.length;i++)e(i);return this._allRanges},e.prototype.getRangeById=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}return null},e.prototype.getRangeByPath=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.path===t)return i}return null},e.prototype.getSequences=function(){if(this.items.length)return this.items;var t=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(t)for(var e=0;e<t.length;e++){var n=t[e],i=new o.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new o.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},e.prototype.getSequenceByIndex=function(t){return this.getSequences()[t]},e.prototype.getTotalSequences=function(){return this.getSequences().length},e.prototype.getManifestType=function(){var t=this.getService(a.ServiceProfile.UI_EXTENSIONS);return t?t.getProperty("manifestType"):o.ManifestType.EMPTY},e.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();if(t)return t===a.ViewingHint.PAGED;var e=this.getBehavior();return!!e&&e===a.Behavior.PAGED},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e}(o.IIIFResource);e.Manifest=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.EMPTY="",t.MANUSCRIPT="manuscript",t.MONOGRAPH="monograph"}(e.ManifestType||(e.ManifestType={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(e,t),e.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},e.prototype.getDuration=function(){var t,e;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=a.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(t=Number(r[0])),n===this.canvases.length-1&&(e=Number(r[1])))}else{var o=this.getRanges();for(n=0;n<o.length;n++){var s=o[n].getDuration();s&&(0===n&&(t=s.start),n===o.length-1&&(e=s.end))}}if(void 0!==t&&void 0!==e)return new a.Duration(t,e)},e.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(t){return t.isRange()}))},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getTree=function(t){t.data=this,this.treeNode=t;var e=this.getRanges();if(e&&e.length)for(var n=0;n<e.length;n++){var i=e[n],r=new a.TreeNode;t.addNode(r),this._parseTreeNode(r,i)}return a.Utils.generateTreeNodeIds(t),t},e.prototype.spansTime=function(t){var e=this.getDuration();return!!(e&&t>=e.start&&t<=e.end)},e.prototype._parseTreeNode=function(t,e){t.label=a.LanguageMap.getValue(e.getLabel(),this.options.locale),t.data=e,t.data.type=a.Utils.normaliseType(a.TreeNodeType.RANGE),e.treeNode=t;var n=e.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==o.Behavior.NO_NAV){var s=new a.TreeNode;t.addNode(s),this._parseTreeNode(s,r)}}},e}(a.ManifestResource);e.Range=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){return this.getProperty("format")},e}(n(0).ManifestResource);e.Rendering=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._thumbnails=null,i}return r(e,t),e.prototype.getCanvases=function(){if(this.items.length)return this.items;var t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var e=0;e<t.length;e++){var n=t[e];(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}else if(this.__jsonld)for(e=0;e<this.__jsonld.length;e++){var i;n=this.__jsonld[e],(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}return this.items},e.prototype.getCanvasById=function(t){for(var e=0;e<this.getTotalCanvases();e++){var n=this.getCanvasByIndex(e),i=o.Utils.normaliseUrl(n.id);if(o.Utils.normaliseUrl(t)===i)return n}return null},e.prototype.getCanvasByIndex=function(t){return this.getCanvases()[t]},e.prototype.getCanvasIndexById=function(t){for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return null},e.prototype.getCanvasIndexByLabel=function(t,e){t=t.trim(),isNaN(t)||(t=parseInt(t,10).toString(),e&&(t+="r"));for(var n,i,r,a=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var l=this.getCanvasByIndex(s);if(o.LanguageMap.getValue(l.getLabel(),this.options.locale)===t)return s;if((n=a.exec(t))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(l.getLabel().toString())))return s}return-1},e.prototype.getLastCanvasLabel=function(t){for(var e=this.getTotalCanvases()-1;e>=0;e--){var n=this.getCanvasByIndex(e),i=o.LanguageMap.getValue(n.getLabel(),this.options.locale);if(t){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getNextPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=t+1;return n>this.getLastPageIndex()?-1:n},e.prototype.getPagedIndices=function(t,e){var n=[];if(e){n=this.isFirstCanvas(t)||this.isLastCanvas(t)?[t]:t%2?[t,t+1]:[t-1,t];var i=this.getViewingDirection();i&&i===a.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(t);return n},e.prototype.getPrevPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=t-1;return n},e.prototype.getStartCanvasIndex=function(){var t=this.getStartCanvas();if(t)for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return 0},e.prototype.getThumbs=function(t,e){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var a=this.getCanvasByIndex(r),s=new o.Thumb(t,a);n.push(s)}return n},e.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var t=this.getCanvases(),e=0;e<t.length;e++){var n=t[e].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},e.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},e.prototype.getTotalCanvases=function(){return this.getCanvases().length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.isCanvasIndexOutOfRange=function(t){return t>this.getTotalCanvases()-1},e.prototype.isFirstCanvas=function(t){return 0===t},e.prototype.isLastCanvas=function(t){return t===this.getTotalCanvases()-1},e.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();return!!t&&t===a.ViewingHint.PAGED},e.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},e}(o.ManifestResource);e.Sequence=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t.parse=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),this.parseJson(t,e)},t.parseJson=function(t,e){var n;if(e&&e.navDate&&!isNaN(e.navDate.getTime())&&(t.navDate=e.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":n=this.parseCollection(t,e);break;case"sc:Manifest":n=this.parseManifest(t,e);break;default:return null}else switch(t.type){case"Collection":n=this.parseCollection(t,e);break;case"Manifest":n=this.parseManifest(t,e);break;default:return null}return n.isLoaded=!0,n},t.parseCollection=function(t,e){var n=new i.Collection(t,e);return e?(n.index=e.index||0,e.resource&&(n.parentCollection=e.resource.parentCollection)):n.index=0,this.parseCollections(n,e),this.parseManifests(n,e),this.parseItems(n,e),n},t.parseCollections=function(t,e){var n;if(t.__jsonld.collections?n=t.__jsonld.collections:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"collection"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){e&&(e.index=i);var r=this.parseCollection(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseManifest=function(t,e){return new i.Manifest(t,e)},t.parseManifests=function(t,e){var n;if(t.__jsonld.manifests?n=t.__jsonld.manifests:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"manifest"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseItem=function(t,e){if(t["@type"]){if("sc:manifest"===t["@type"].toLowerCase())return this.parseManifest(t,e);if("sc:collection"===t["@type"].toLowerCase())return this.parseCollection(t,e)}else if(t.type){if("manifest"===t.type.toLowerCase())return this.parseManifest(t,e);if("collection"===t.type.toLowerCase())return this.parseCollection(t,e)}return null},t.parseItems=function(t,e){var n=t.__jsonld.members||t.__jsonld.items;if(n)for(var i=function(i){e&&(e.index=i);var a=r.parseItem(n[i],e);return a?t.items.filter((function(t){return t.id===a.id}))[0]?"continue":(a.index=i,a.parentCollection=t,void t.items.push(a)):{value:void 0}},r=this,a=0;a<n.length;a++){var o=i(a);if("object"==typeof o)return o.value}},t}();e.Deserialiser=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getProfile=function(){var t=this.getProperty("profile");return t||(t=this.getProperty("dcterms:conformsTo")),Array.isArray(t)?t[0]:t},e.prototype.getConfirmLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},e.prototype.getDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},e.prototype.getFailureDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},e.prototype.getFailureHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},e.prototype.getHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},e.prototype.getServiceLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},e.prototype.getInfoUri=function(){var t=this.id;return t.endsWith("/")||(t+="/"),t+"info.json"},e}(a.ManifestResource);e.Service=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=function(t,e){this.width=t,this.height=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",t[t.FORBIDDEN=2]="FORBIDDEN",t[t.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",t[t.RESTRICTED=4]="RESTRICTED"}(e.StatusCode||(e.StatusCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.Thumb=function(t,e){this.data=e,this.index=e.index,this.width=t;var n=e.getHeight()/e.getWidth();this.height=n?Math.floor(this.width*n):t,this.uri=e.getCanonicalImageUri(t),this.label=i.LanguageMap.getValue(e.getLabel())}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(n(0).Resource);e.Thumbnail=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.label=t,this.data=e||{},this.nodes=[]}return t.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},t.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},t.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},t.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},t}();e.TreeNode=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range"}(e.TreeNodeType||(e.TreeNodeType={}))},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(t,e,n){t.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseComponent",(function(){return i}));var i=function(){function t(t){this.options=t,this.options.data=Object.assign({},this.data(),t.data)}return t.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},t.prototype.data=function(){return{}},t.prototype.on=function(t,e,n){var i=this._e||(this._e={});(i[t]||(i[t]=[])).push({fn:e,ctx:n})},t.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[t]||[]).slice(),a=0,o=r.length;a<o;a++)r[a].fn.apply(r[a].ctx,i)},t.prototype._resize=function(){},t.prototype.set=function(t){},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t._compare=function(t,e){var n=[];return Object.keys(t).forEach((function(i){Object.is(e[i],t[i])||n.push(i)})),n},t.diff=function(e,n){return Array.from(new Set(t._compare(e,n).concat(t._compare(n,e))))},t.getSpatialComponent=function(t){var e=/xywh=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t.getFirstTargetedCanvasId=function(e){var n;if(e.canvases&&e.canvases.length)n=e.canvases[0];else{var r=e.getRanges();if(r.length)return t.getFirstTargetedCanvasId(r[0])}if(void 0!==n)return i.Utils.normaliseUrl(n)},t.getTimestamp=function(){return String((new Date).valueOf())},t.retargetTemporalComponent=function(t,e){var n=i.Utils.getTemporalComponent(e);if(n){for(var r=0,a=e.substr(0,e.indexOf("#")),o=0;o<t.length;o++){var s=t[o];if(s.id.includes(a))break;var l=s.getDuration();l&&(r+=l)}return n[0]=Number(n[0])+r,n[1]=Number(n[1])+r,a+"#t="+n[0]+","+n[1]}},t.formatTime=function(t){var e,n,i;return i=Math.ceil(t),((e=(e=Math.floor(i/3600))>=10?e:"0"+e)>=1?e+":":"")+(n=(n=Math.floor(i%3600/60))>=10?n:"0"+n)+":"+(i=(i=Math.floor(i%3600%60))>=10?i:"0"+i)},t.isIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},t.isSafari=function(){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return console.log("isSafari",t),t},t.debounce=function(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){t.debouncing=!1}),e),t.lastReturnVal}},t.normalise=function(t,e,n){return(t-e)/(n-e)},t.isHLSFormat=function(t){return this.hlsMimeTypes.includes(t.toString())},t.isMpegDashFormat=function(t){return"application/dash+xml"===t.toString()},t.canPlayHls=function(){var t="object"==typeof document&&document,e=t&&t.createElement("video");return Boolean(e&&e.canPlayType)&&this.hlsMimeTypes.some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))},t.hlsMimeTypes=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t}();e.AVComponentUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),o=n(0),s=n(1),l=n(8),c=n(2),u=n(5),h=n(6),p=function(t){function e(e){var n=t.call(this,e)||this;return n.canvasInstances=[],n._data=n.data(),n._readyMedia=0,n._readyWaveforms=0,n._posterCanvasWidth=0,n._posterCanvasHeight=0,n._posterImageExpanded=!1,n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){return t.prototype._init.call(this),this._$element=$(this.el),!0},e.prototype.data=function(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute",fullscreen:"Fullscreen"}}},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=c.AVComponentUtils.diff(n,this._data);if(i.includes("helper")&&this._reset(),this._data.helper){if(i.includes("limitToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({limitToRange:e._data.limitToRange})})),i.includes("constrainNavigationToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({constrainNavigationToRange:e._data.constrainNavigationToRange})})),i.includes("autoSelectRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({autoSelectRange:e._data.autoSelectRange})})),i.includes("canvasId")&&this._data.canvasId){var r=this._getCanvasInstanceById(this._data.canvasId);r&&this.canvasInstances.forEach((function(t){t.getCanvasId()!==r.getCanvasId()?t.set({visible:!1}):i.includes("range")?t.set({visible:!0,range:e._data.range?jQuery.extend(!0,{},e._data.range):void 0}):t.set({visible:!0})}))}if(i.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach((function(t){t.isVirtual()&&e.set({canvasId:t.getCanvasId(),range:void 0})}))),i.includes("range")&&this._data.range){var a=this._data.helper.getRangeById(this._data.range.id);if(a){var s=c.AVComponentUtils.getFirstTargetedCanvasId(a);if(s){var l=this._getCanvasInstanceById(s);if(l){if(l.isVirtual()&&this._data.virtualCanvasEnabled&&l.includesVirtualSubCanvas(s)){s=l.getCanvasId();for(var u=0;u<l.ranges.length;u++){var h=l.ranges[u];if(h.id===a.id){a=h;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?o.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==s?this.set({canvasId:s,range:jQuery.extend(!0,{},a)}):l.set({range:jQuery.extend(!0,{},a)})}}}else console.warn("range not found")}this._render(),this._resize()}else console.warn("must pass a helper object")},e.prototype._render=function(){},e.prototype.reset=function(){this._reset()},e.prototype._reset=function(){var t=this;if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach((function(t){t.destroy()})),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){var e=this._data.helper.manifest.getBehavior(),n=this._getCanvases();if(e&&e.toString()===a.Behavior.AUTO_ADVANCE){var i=new u.VirtualCanvas;n.forEach((function(t){i.addCanvas(t)})),this._initCanvas(i)}n.forEach((function(e){t._initCanvas(e)})),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=$('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=$('<div class="poster-image"></div>'),this._$posterExpandButton=$('\n                <button class="btn" title="'+(this._data&&this._data.content?this._data.content.expand:"")+'">\n                    <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span>'+(this._data&&this._data.content?this._data.content.expand:"")+"</span>\n                </button>\n            "),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",(function(e){e.preventDefault();var n=t._getPosterImageCss(!t._posterImageExpanded);if(t._$posterImage.animate(n),t._posterImageExpanded=!t._posterImageExpanded,t._data.content)if(t._posterImageExpanded){var i=t._data.content.collapse;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("expand","collapse")}else{i=t._data.content.expand;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("collapse","expand")}}));var r=this._data.helper.getPosterCanvas();if(r){this._posterCanvasWidth=r.getWidth(),this._posterCanvasHeight=r.getHeight();var o=this._data.helper.getPosterImage();if(o){this._$posterContainer.append(this._$posterImage);var s=this._getPosterImageCss(this._posterImageExpanded);s=Object.assign({},s,{"background-image":"url("+o+")"}),this._$posterImage.css(s)}}}},e.prototype._checkAllMediaReady=function(){console.log("loading media"),this._readyMedia===this.canvasInstances.length&&(console.log("all media ready"),clearInterval(this._checkAllMediaReadyInterval),this.fire(f.MEDIA_READY),this.resize())},e.prototype._checkAllWaveformsReady=function(){console.log("loading waveforms"),this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(console.log("waveforms ready"),clearInterval(this._checkAllWaveformsReadyInterval),this.fire(f.WAVEFORMS_READY),this.resize())},e.prototype._getCanvasInstancesWithWaveforms=function(){return this.canvasInstances.filter((function(t){return t.waveforms.length>0}))},e.prototype._getCanvases=function(){return this._data.helper?this._data.helper.getCanvases():[]},e.prototype._initCanvas=function(t){var e=this,n=new l.CanvasInstance({target:document.createElement("div"),data:Object.assign({},{canvas:t},this._data)});n.logMessage=this._logMessage.bind(this),n.isOnlyCanvasInstance=1===this._getCanvases().length,this._$element.append(n.$playerElement),n.init(),this.canvasInstances.push(n),n.on(f.MEDIA_READY,(function(){e._readyMedia++}),!1),n.on(f.WAVEFORM_READY,(function(){e._readyWaveforms++}),!1),n.on(l.CanvasInstanceEvents.PREVIOUS_RANGE,(function(){e._prevRange()}),!1),n.on(l.CanvasInstanceEvents.NEXT_RANGE,(function(){e._nextRange()}),!1),n.on(f.RANGE_CHANGED,(function(t){e.fire(f.RANGE_CHANGED,t)}),!1),n.on(h.VolumeEvents.VOLUME_CHANGED,(function(t){e._setCanvasInstanceVolumes(t),e.fire(h.VolumeEvents.VOLUME_CHANGED,t)}),!1),n.on(l.CanvasInstanceEvents.PLAYCANVAS,(function(){e.fire(l.CanvasInstanceEvents.PLAYCANVAS)}),!1),n.on(l.CanvasInstanceEvents.PAUSECANVAS,(function(){e.fire(l.CanvasInstanceEvents.PAUSECANVAS)}),!1),n.on(f.MEDIA_ERROR,(function(t){clearInterval(e._checkAllMediaReadyInterval),e.fire(f.MEDIA_ERROR,t)}),!1),n.on(f.FULLSCREEN,(function(t){e.fire(f.FULLSCREEN,t)}),!1)},e.prototype._prevRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getPreviousRange();t?this.playRange(t.id):this._rewind()}},e.prototype._nextRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getNextRange();t&&this.playRange(t.id)}},e.prototype._setCanvasInstanceVolumes=function(t){this.canvasInstances.forEach((function(e){e.set({volume:t})}))},e.prototype._getNormaliseCanvasId=function(t){return t.includes("://")?o.Utils.normaliseUrl(t):t},e.prototype._getCanvasInstanceById=function(t){if(t=this._getNormaliseCanvasId(t),this._data.virtualCanvasEnabled)for(var e=0;e<this.canvasInstances.length;e++){var n=(i=this.canvasInstances[e]).getCanvasId();if(n&&(n=this._getNormaliseCanvasId(n),(i.isVirtual()||1===this.canvasInstances.length)&&n===t||i.includesVirtualSubCanvas(t)))return i}else for(e=0;e<this.canvasInstances.length;e++){var i,r=(i=this.canvasInstances[e]).getCanvasId();if(r)if(o.Utils.normaliseUrl(r)===t)return i}},e.prototype._getCurrentCanvas=function(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)},e.prototype._rewind=function(){if(!this._data.limitToRange){var t=this._getCurrentCanvas();t&&t.set({range:void 0})}},e.prototype.play=function(){var t=this._getCurrentCanvas();t&&t.play()},e.prototype.pause=function(){var t=this._getCurrentCanvas();t&&t.pause()},e.prototype.playRange=function(t){if(this._data.helper){var e=this._data.helper.getRangeById(t);e&&this.set({range:jQuery.extend(!0,{},e)})}},e.prototype.showCanvas=function(t){var e=this._getCurrentCanvas();e&&e.getCanvasId()===t&&!e.isVisible()?e.set({visible:!0}):this.set({canvasId:t})},e.prototype._logMessage=function(t){this.fire(f.LOG,t)},e.prototype._getPosterImageCss=function(t){var e=this._getCurrentCanvas();if(e){var n=e.$playerElement.find(".options-container"),i=e.$playerElement.parent().width(),r=e.$playerElement.parent().height()-n.height();if(t)return{top:0,left:0,width:i,height:r};var a=void 0,o=void 0,s=void 0;return this._posterCanvasWidth>this._posterCanvasHeight?(a=this._posterCanvasHeight/this._posterCanvasWidth,s=(o=i*this._data.posterImageRatio)*a):(a=this._posterCanvasWidth/this._posterCanvasHeight,o=(s=r*this._data.posterImageRatio)*a),{top:0,left:i-o,width:o,height:s}}return null},e.prototype.resize=function(){this.canvasInstances.forEach((function(t){t.resize()})),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))},e}(s.BaseComponent);e.AVComponent=p;var f=function(){function t(){}return t.MEDIA_READY="mediaready",t.MEDIA_ERROR="mediaerror",t.LOG="log",t.RANGE_CHANGED="rangechanged",t.WAVEFORM_READY="waveformready",t.WAVEFORMS_READY="waveformsready",t.FULLSCREEN="fullscreen",t}();e.Events=f},function(t,e,n){"use strict";var i,r,a,o,s,l,c,u,h;n.r(e),n.d(e,"AnnotationMotivation",(function(){return i})),n.d(e,"Behavior",(function(){return r})),n.d(e,"ExternalResourceType",(function(){return a})),n.d(e,"IIIFResourceType",(function(){return o})),n.d(e,"MediaType",(function(){return s})),n.d(e,"RenderingFormat",(function(){return l})),n.d(e,"ServiceProfile",(function(){return c})),n.d(e,"ViewingDirection",(function(){return u})),n.d(e,"ViewingHint",(function(){return h})),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(i||(i={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(r||(r={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DATASET="dataset",t.DOCUMENT="document",t.IMAGE="image",t.MODEL="model",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXT="text",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(a||(a={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(o||(o={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.EPUB="application/epub+zip",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.OPF="application/oebps-package+xml",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(s||(s={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(l||(l={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(u||(u={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(h||(h={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(2),a=function(){function t(){this.canvases=[],this.id=r.AVComponentUtils.getTimestamp()}return t.prototype.addCanvas=function(t){this.canvases.push(jQuery.extend(!0,{},t))},t.prototype.getContent=function(){var t=this,e=[];return this.canvases.forEach((function(n){var a=n.getContent();a.forEach((function(t){var e=t.getTarget();e&&(i.Utils.getTemporalComponent(e)||(t.__jsonld.target+="#t=0,"+n.getDuration()))})),a.forEach((function(e){var n=e.getTarget();n&&(e.__jsonld.target=r.AVComponentUtils.retargetTemporalComponent(t.canvases,n))})),e.push.apply(e,a)})),e},t.prototype.getDuration=function(){var t=0;return this.canvases.forEach((function(e){var n=e.getDuration();n&&(t+=n)})),t},t.prototype.getWidth=function(){return this.canvases.length?this.canvases[0].getWidth():0},t.prototype.getHeight=function(){return this.canvases.length?this.canvases[0].getHeight():0},t}();e.VirtualCanvas=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n._lastVolume=1,n._data={volume:1},n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){var e=this;t.prototype._init.call(this),this._$element=$(this.el),this._$volumeMute=$('\n                            <button class="btn volume-mute" title="'+this.options.data.content.mute+'">\n                                <i class="av-icon av-icon-mute on" aria-hidden="true"></i>'+this.options.data.content.mute+"\n                            </button>"),this._$volumeSlider=$('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);var n=this;return this._$volumeMute.on("touchstart click",(function(t){t.preventDefault(),0!==e._data.volume?(e._lastVolume=e._data.volume,e._data.volume=0):e._data.volume=e._lastVolume,e.fire(o.VOLUME_CHANGED,e._data.volume)})),this._$volumeSlider.slider({value:n._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(t,e){},slide:function(t,e){n._data.volume=e.value,0===n._data.volume&&(n._lastVolume=0),n.fire(o.VOLUME_CHANGED,n._data.volume)},stop:function(t,e){}}),!0},e.prototype.set=function(t){this._data=Object.assign(this._data,t),this._render()},e.prototype._render=function(){if(void 0!==this._data.volume)if(this._$volumeSlider.slider({value:this._data.volume}),0===this._data.volume){var t=this.options.data.content.unmute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("on","off")}else{t=this.options.data.content.mute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("off","on")}},e.prototype._resize=function(){},e}(n(1).BaseComponent);e.AVVolumeControl=a;var o=function(){function t(){}return t.VOLUME_CHANGED="volumechanged",t}();e.VolumeEvents=o},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=n(3),l=n(5),c=n(9),u=n(6),h=n(2),p=n(4),f=function(t){function e(e){var n=t.call(this,e)||this;return n._canvasClockFrequency=25,n._canvasClockStartDate=0,n._canvasClockTime=0,n._canvasHeight=0,n._canvasWidth=0,n._data=n.data(),n._highPriorityFrequency=25,n._isPlaying=!1,n._isStalled=!1,n._lowPriorityFrequency=250,n._mediaSyncMarginSecs=1,n._rangeSpanPadding=.25,n._readyMediaCount=0,n._stallRequestedBy=[],n._wasPlaying=!1,n.ranges=[],n.waveforms=[],n.isOnlyCanvasInstance=!1,n._scaleY=function(t,e){return Math.max(n._data.waveformBarWidth,t*e/256)},n._data=n.options.data,n.$playerElement=$('<div class="player"></div>'),n}return r(e,t),e.prototype.init=function(){var t=this;if(this._data&&this._data.content&&this._data.canvas){this._$hoverPreviewTemplate=$('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=$('<div class="canvas-container"></div>'),this._$optionsContainer=$('<div class="options-container"></div>'),this._$rangeTimelineContainer=$('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=$('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=$('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=$('<div class="hover-highlight"></div>'),this._$durationHighlight=$('<div class="duration-highlight"></div>'),this._$timelineItemContainer=$('<div class="timeline-item-container"></div>'),this._$controlsContainer=$('<div class="controls-container"></div>'),this._$prevButton=$('\n                            <button class="btn" title="'+this._data.content.previous+'">\n                                <i class="av-icon av-icon-previous" aria-hidden="true"></i>'+this._data.content.previous+"\n                            </button>"),this._$playButton=$('\n                            <button class="btn button-play" title="'+this._data.content.play+'">\n                                <i class="av-icon av-icon-play play" aria-hidden="true"></i>'+this._data.content.play+"\n                            </button>"),this._$nextButton=$('\n                            <button class="btn" title="'+this._data.content.next+'">\n                                <i class="av-icon av-icon-next" aria-hidden="true"></i>'+this._data.content.next+"\n                            </button>"),this._$timeDisplay=$('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this._$canvasLoadingProgress=$('<div class="loading-progress"></div>'),this._$fullscreenButton=$('\n                                <button class="btn button-fullscreen" title="'+this._data.content.fullscreen+'">\n                                    <i class="av-icon av-icon-fullscreen" aria-hidden="true"></i>'+this._data.content.fullscreen+"\n                                </button>"),this.isVirtual()&&this.$playerElement.addClass("virtual");var e=$('<div class="volume"></div>');if(this._volume=new u.AVVolumeControl({target:e[0],data:Object.assign({},this._data)}),this._volume.on(u.VolumeEvents.VOLUME_CHANGED,(function(e){t.fire(u.VolumeEvents.VOLUME_CHANGED,e)}),!1),this._$controlsContainer.append(this._$prevButton,this._$playButton,this._$nextButton,this._$timeDisplay,this._$fullscreenButton,e),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight,this._$canvasLoadingProgress),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$timelineItemContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide(),this._data&&this._data.helper&&this._data.canvas){var n=[];this.isVirtual()?this._data.canvas.canvases.forEach((function(e){if(t._data&&t._data.helper){var i=t._data.helper.getCanvasRanges(e),r=[];i.forEach((function(e){var n=jQuery.extend(!0,{},e);if(r.push(n),n.canvases&&n.canvases.length)for(var i=0;i<n.canvases.length;i++)n.canvases[i]=h.AVComponentUtils.retargetTemporalComponent(t._data.canvas.canvases,n.__jsonld.items[i].id)})),n.push.apply(n,r)}})):n=n.concat(this._data.helper.getCanvasRanges(this._data.canvas)),n.forEach((function(e){t.ranges.push(e)}))}var i=this._data.canvas.getWidth(),r=this._data.canvas.getHeight();this._canvasWidth=i||this.$playerElement.parent().width(),this._canvasHeight=r||this._canvasWidth*this._data.defaultAspectRatio;var a=this,l=0,c=0;this._$prevButton.on("touchstart click",(function(e){e.preventDefault(),1===++l?(t._previous(!1),c=setTimeout((function(){l=0,c=0}),t._data.doubleClickMS)):(t._previous(!0),clearTimeout(c),l=0,c=0)})),this._$playButton.on("touchstart click",(function(e){e.preventDefault(),t._isPlaying?t.pause():t.play()})),this._$nextButton.on("touchstart click",(function(e){e.preventDefault(),t._next()})),this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:a._getDuration(),animate:!1,create:function(t,e){},slide:function(t,e){a._setCurrentTime(e.value)},stop:function(t,e){}}),this._$canvasTimelineContainer.mouseout((function(){a._$canvasHoverHighlight.width(0),a._$canvasHoverPreview.hide()})),this._$rangeTimelineContainer.mouseout((function(){a._$rangeHoverHighlight.width(0),a._$rangeHoverPreview.hide()})),this._$canvasTimelineContainer.on("mousemove",(function(e){t._updateHoverPreview(e,t._$canvasTimelineContainer,t._getDuration())})),this._$rangeTimelineContainer.on("mousemove",(function(e){if(t._data.range){var n=t._data.range.getDuration();t._updateHoverPreview(e,t._$rangeTimelineContainer,n?n.getLength():0)}})),this._$fullscreenButton[0].addEventListener("click",(function(e){e.preventDefault();var n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)t.fire(s.Events.FULLSCREEN,"off"),n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen();else{var i=t.$playerElement.get(0);t.fire(s.Events.FULLSCREEN,"on"),i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}}),!1),this._contentAnnotations=[];var p=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(var f=0;f<p.length;f++){var _=p[f],d=void 0,v=_.getBody();if(!v.length)return void console.warn("item has no body");var g=this._getBody(v);if(g){var E=g.getType(),m=g.getFormat();E&&"textualbody"===E.toString()||(d=g.id.split("#")[0]);var y=_.getTarget();if(!y)return void console.warn("item has no target");var I=h.AVComponentUtils.getSpatialComponent(y),C=o.Utils.getTemporalComponent(y);I||(I=[0,0,this._canvasWidth,this._canvasHeight]),C||(C=[0,this._getDuration()]);var T=parseInt(String(I[0])),A=parseInt(String(I[1])),O=parseInt(String(I[2])),M=parseInt(String(I[3])),L=parseInt(String(C[0])),P=parseInt(String(C[1])),R=this._convertToPercentage(A,this._canvasHeight),N=this._convertToPercentage(T,this._canvasWidth),S=this._convertToPercentage(O,this._canvasWidth),b=this._convertToPercentage(M,this._canvasHeight),w=/[\?|&]t=([^&]+)/g.exec(g.id),D=void 0,x=(D=w&&w[1]?w[1].split(","):[null,null])[0]?parseInt(D[0]):D[0],U={active:!1,end:P,endOffset:D[1]?parseInt(D[1]):D[1],format:m,height:b,left:N,source:d,start:L,startOffset:x,top:R,type:E,width:S};this._renderMediaElement(U);var V=_.getProperty("seeAlso");if(V&&V.length){var G=V[0].id;this.waveforms.push(G)}}else console.warn("unable to find suitable format for",_.id)}this._renderWaveform()}else console.warn("unable to initialise, missing canvas or content")},e.prototype._getBody=function(t){for(var e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isHLSFormat(i)&&h.AVComponentUtils.canPlayHls())return n}for(e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isMpegDashFormat(i)&&!h.AVComponentUtils.isSafari())return n}for(e=0;e<t.length;e++){var n,i;if((i=(n=t[e]).getFormat())&&!h.AVComponentUtils.isHLSFormat(i)&&!h.AVComponentUtils.isMpegDashFormat(i))return n}return null},e.prototype._getDuration=function(){return this._data&&this._data.canvas?this._data.canvas.getDuration():0},e.prototype.data=function(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}},e.prototype.isVirtual=function(){return this._data.canvas instanceof l.VirtualCanvas},e.prototype.isVisible=function(){return!!this._data.visible},e.prototype.includesVirtualSubCanvas=function(t){if(this.isVirtual()&&this._data.canvas&&this._data.canvas.canvases)for(var e=0;e<this._data.canvas.canvases.length;e++){var n=this._data.canvas.canvases[e];if(o.Utils.normaliseUrl(n.id)===t)return!0}return!1},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=h.AVComponentUtils.diff(n,this._data);if(i.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),i.includes("range")&&this._data.helper)if(this._data.range){var r=this._data.range.getDuration();r&&(this._data.range.autoChanged||this._setCurrentTime(r.start),this._data.autoPlay&&this.play(),this.fire(s.Events.RANGE_CHANGED,this._data.range.id))}else this.fire(s.Events.RANGE_CHANGED,null);i.includes("volume")?this._contentAnnotations.forEach((function(t){var n=void 0!==e._data.volume?e._data.volume:1;$(t.element).prop("volume",n),e._volume.set({volume:e._data.volume})})):this._render(),i.includes("limitToRange")&&this._render()},e.prototype._hasRangeChanged=function(){var t=this._getRangeForCurrentTime();t&&!this._data.limitToRange&&(!this._data.range||this._data.range&&t.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},t)})},e.prototype._getRangeForCurrentTime=function(t){var e;e=t?t.getRanges():this.ranges;for(var n=0;n<e.length;n++){var i=e[n];if(this._rangeSpansCurrentTime(i)){if(this._rangeNavigable(i))return i;for(var r=i.getRanges(),a=0;a<r.length;a++){var o=r[a];if(this._rangeSpansCurrentTime(o))return this._getRangeForCurrentTime(o)}return i.parentRange}}},e.prototype._rangeSpansCurrentTime=function(t){return!!t.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)},e.prototype._rangeNavigable=function(t){var e=t.getBehavior();return!e||e.toString()!==p.Behavior.NO_NAV},e.prototype._render=function(){if(this._data.range){var t=this._data.range.getDuration();if(t){var e=this._getDuration(),n=this._$canvasTimelineContainer.width()/e,i=t.start*n,r=t.end*n;(r>e||r<i)&&(r=e);var a=r-i;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:i,width:a})):this._$durationHighlight.hide();var o=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:t.start,step:.01,orientation:"horizontal",range:"min",min:t.start,max:t.end,animate:!1,create:function(t,e){},slide:function(t,e){o._setCurrentTime(e.value)},stop:function(t,e){}})}}else this._$durationHighlight.hide();this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()},e.prototype.getCanvasId=function(){if(this._data&&this._data.canvas)return this._data.canvas.id},e.prototype._updateHoverPreview=function(t,e,n){var i=e.offset(),r=t.pageX-i.left,a=e.find(".arrow"),o=e.find(".hover-highlight"),s=e.find(".hover-preview");o.width(r);var l=e.width(),c=r/l,u=Math.min(n*c);s.find(".label").text(h.AVComponentUtils.formatTime(u));var p=s.outerWidth(),f=s.outerHeight(),_=r-.5*p,d=.5*p-6;_<0&&(_=0,d=r-6),_+p>l&&(_=l-p,d=p-(l-r)-6),s.css({left:_,top:-1*f+"px"}).show(),a.css({left:d})},e.prototype._previous=function(t){this._data.limitToRange?t?this._isNavigationConstrainedToRange()?this._rewind():this.fire(_.PREVIOUS_RANGE):this._rewind():this._data.range?t?(this.set({range:void 0}),this._rewind()):this.fire(_.PREVIOUS_RANGE):this._rewind()},e.prototype._next=function(){this._data.limitToRange&&this._isNavigationConstrainedToRange()?this._fastforward():this.fire(_.NEXT_RANGE)},e.prototype.destroy=function(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)},e.prototype._convertToPercentage=function(t,e){return t/e*100},e.prototype._renderMediaElement=function(t){var e,n=this;switch(t.type.toString().toLowerCase()){case"video":e=$('<video class="anno" />');break;case"sound":case"audio":e=$('<audio class="anno" />');break;default:return}var i=e[0];if(t.format&&"application/dash+xml"===t.format.toString()){e.attr("data-dashjs-player","");var r=dashjs.MediaPlayer().create();r.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&r.setXHRWithCredentialsForType("MPD",!0),r.initialize(i,t.source)}else if(t.format&&"application/vnd.apple.mpegurl"===t.format.toString())if(Hls.isSupported()){var a=new Hls;a=this._data.adaptiveAuthEnabled?new Hls({xhrSetup:function(t){t.withCredentials=!0}}):new Hls,this._data.adaptiveAuthEnabled,a.loadSource(t.source),a.attachMedia(i)}else i.canPlayType("application/vnd.apple.mpegurl")&&(i.src=t.source);else e.attr("src",t.source);e.css({top:t.top+"%",left:t.left+"%",width:t.width+"%",height:t.height+"%"}).hide(),t.element=e,t.timeout=null;var o=this;t.checkForStall=function(){var t=this;this.active?(o._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?o._playbackStalled(!1,t):(o._playbackStalled(!0,t),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.checkForStall()}),1e3))):o._playbackStalled(!1,t)},this._contentAnnotations.push(t),this.$playerElement&&this._$canvasContainer.append(e),e.on("loadstart",(function(){})),e.on("waiting",(function(){})),e.on("seeking",(function(){})),e.on("loadedmetadata",(function(){n._readyMediaCount++,n._readyMediaCount===n._contentAnnotations.length&&(n._setCurrentTime(0),n._data.autoPlay&&n.play(),n._updateDurationDisplay(),n.fire(s.Events.MEDIA_READY))})),e.on("progress",(function(){if(i.buffered.length>0){var t=i.duration,e=i.buffered.end(i.buffered.length-1);t>0&&n._$optionsContainer.find(".loading-progress").width(e/t*100+"%")}})),e.attr("preload","auto"),e.get(0).load(),this._renderSyncIndicator(t)},e.prototype._getWaveformData=function(t){return new Promise((function(e,n){$.ajax({url:t,type:"GET",dataType:"binary",responseType:"arraybuffer",processData:!1}).done((function(t){e(WaveformData.create(t))})).fail((function(t){n(new Error("Network Error"))}))}))},e.prototype._renderWaveform=function(){var t=this;if(this.waveforms.length){var e=this.waveforms.map((function(e){return t._getWaveformData(e)}));Promise.all(e).then((function(e){t._waveformCanvas=document.createElement("canvas"),t._waveformCanvas.classList.add("waveform"),t._$canvasContainer.append(t._waveformCanvas),t._waveformCtx=t._waveformCanvas.getContext("2d"),t._waveformCtx&&(t._waveformCtx.fillStyle=t._data.waveformColor,t._compositeWaveform=new c.CompositeWaveform(e),t.fire(s.Events.WAVEFORM_READY))}))}},e.prototype._drawWaveform=function(){if(this._waveformCtx){var t,e=0,n=this._compositeWaveform.duration;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&(e=t.start,n=t.end);var i=e*this._compositeWaveform.pixelsPerSecond,r=n*this._compositeWaveform.pixelsPerSecond,a=this._waveformCtx.canvas.width,o=this._waveformCtx.canvas.height,s=this._data.waveformBarSpacing,l=this._data.waveformBarWidth,c=Math.floor((r-i)/a*s),u=a/s;this._waveformCtx.clearRect(0,0,a,o),this._waveformCtx.fillStyle=this._data.waveformColor;for(var p=i;p<r;p+=c){var f=this._getWaveformMaxAndMin(this._compositeWaveform,p,u),_=this._scaleY(f.max-f.min,o),d=(o-_)/2,v=a*h.AVComponentUtils.normalise(p,i,r);this._waveformCtx.fillRect(v,d,l,_)}}},e.prototype._getWaveformMaxAndMin=function(t,e,n){for(var i=-127,r=128,a=e;a<e+n;a++)t.max(a)>i&&(i=t.max(a)),t.min(a)<r&&(r=t.min(a));return{max:i,min:r}},e.prototype._updateCurrentTimeDisplay=function(){var t;if(this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t){var e=this._canvasClockTime-t.start;this._$canvasTime.text(h.AVComponentUtils.formatTime(e))}else this._$canvasTime.text(h.AVComponentUtils.formatTime(this._canvasClockTime))},e.prototype._updateDurationDisplay=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._$canvasDuration.text(h.AVComponentUtils.formatTime(t.getLength())):this._$canvasDuration.text(h.AVComponentUtils.formatTime(this._getDuration()))},e.prototype._renderSyncIndicator=function(t){var e=this._convertToPercentage(t.start,this._getDuration()),n=this._convertToPercentage(t.end-t.start,this._getDuration()),i=$('<div class="timeline-item" title="'+t.source+'" data-start="'+t.start+'" data-end="'+t.end+'"></div>');i.css({left:e+"%",width:n+"%"});var r=$('<div class="line-wrapper"></div>');i.appendTo(r),t.timelineElement=i,this.$playerElement&&this._$timelineItemContainer.append(r)},e.prototype._setCurrentTime=function(t){this._canvasClockTime=t,this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()},e.prototype._rewind=function(t){var e;this.pause(),this._data.range&&(e=this._data.range.getDuration()),this._data.limitToRange&&e?this._canvasClockTime=e.start:this._canvasClockTime=0,this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})},e.prototype._fastforward=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._canvasClockTime=t.end:this._canvasClockTime=this._getDuration(),this.pause()},e.prototype.play=function(t){var e=this;if(!this._isPlaying){var n;this._data.range&&(n=this._data.range.getDuration()),this._data.limitToRange&&n&&this._canvasClockTime>=n.end&&(this._canvasClockTime=n.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0),this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this._highPriorityInterval=window.setInterval((function(){e._highPriorityUpdater()}),this._highPriorityFrequency),this._lowPriorityInterval=window.setInterval((function(){e._lowPriorityUpdater()}),this._lowPriorityFrequency),this._canvasClockInterval=window.setInterval((function(){e._canvasClockUpdater()}),this._canvasClockFrequency),this._isPlaying=!0,t||this._synchronizeMedia();var i=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",i),this._$playButton.find("i").switchClass("play","pause"),this.fire(_.PLAYCANVAS),this.logMessage("PLAY canvas")}},e.prototype.pause=function(t){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,t||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia());var e=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",e),this._$playButton.find("i").switchClass("pause","play"),this.fire(_.PAUSECANVAS),this.logMessage("PAUSE canvas")},e.prototype._isNavigationConstrainedToRange=function(){return this._data.constrainNavigationToRange},e.prototype._canvasClockUpdater=function(){var t;this._canvasClockTime=(Date.now()-this._canvasClockStartDate)/1e3,this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&this._canvasClockTime>=t.end&&this.pause(),this._canvasClockTime>=this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())},e.prototype._highPriorityUpdater=function(){this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime}),this._updateCurrentTimeDisplay(),this._updateDurationDisplay()},e.prototype._lowPriorityUpdater=function(){this._updateMediaActiveStates(),this._isPlaying&&this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()},e.prototype._updateMediaActiveStates=function(){for(var t,e=0;e<this._contentAnnotations.length;e++)(t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime?(this._checkMediaSynchronization(),t.active||(this._synchronizeMedia(),t.active=!0,t.element.show(),t.timelineElement.addClass("active")),t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])):t.active&&(t.active=!1,t.element.hide(),t.timelineElement.removeClass("active"),this._pauseMedia(t.element[0]))},e.prototype._pauseMedia=function(t){t.pause()},e.prototype._setMediaCurrentTime=function(t,e){isNaN(t.duration)||(t.currentTime=e)},e.prototype._synchronizeMedia=function(){for(var t,e=0;e<this._contentAnnotations.length;e++){if(t=this._contentAnnotations[e],this._setMediaCurrentTime(t.element[0],this._canvasClockTime-t.start+t.startOffset),t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime)if(this._isPlaying){if(t.element[0].paused){var n=t.element[0].play();n&&n.catch((function(){}))}}else this._pauseMedia(t.element[0]);else this._pauseMedia(t.element[0]);t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")},e.prototype._checkMediaSynchronization=function(){for(var t,e=0,n=this._contentAnnotations.length;e<n;e++)if((t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime){var i=this._canvasClockTime-t.start+t.startOffset,r=t.element[0].currentTime;if(Math.abs(r-i)>this._mediaSyncMarginSecs){t.outOfSync=!0;var a=Math.abs(r-i);this.logMessage("DETECTED synchronization lag: "+Math.abs(a)),this._setMediaCurrentTime(t.element[0],i)}else t.outOfSync=!1}},e.prototype._playbackStalled=function(t,e){if(t)this._stallRequestedBy.indexOf(e)<0&&this._stallRequestedBy.push(e),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=t);else{var n=this._stallRequestedBy.indexOf(e);n>=0&&this._stallRequestedBy.splice(n,1),0===this._stallRequestedBy.length&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=t)}},e.prototype.resize=function(){if(this.$playerElement){var t=this._$canvasContainer.width();if(t){this._$canvasTimelineContainer.width(t);var e=this.$playerElement.find(".options-container");void 0!==this._data.halveAtWidth&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-e.height())}if(this._waveformCanvas){var n=this._$canvasContainer.width(),i=this._$canvasContainer.height();this._waveformCanvas.width=n,this._waveformCanvas.height=i}this._render()}},e}(a.BaseComponent);e.CanvasInstance=f;var _=function(){function t(){}return t.NEXT_RANGE="nextrange",t.PAUSECANVAS="pause",t.PLAYCANVAS="play",t.PREVIOUS_RANGE="previousrange",t}();e.CanvasInstanceEvents=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.length=0,this.duration=0,this.pixelsPerSecond=Number.MAX_VALUE,this.secondsPerPixel=Number.MAX_VALUE,this._waveforms=[],t.forEach((function(t){e._waveforms.push({start:e.length,end:e.length+t.adapter.length,waveform:t}),e.length+=t.adapter.length,e.duration+=t.duration,e.pixelsPerSecond=Math.min(e.pixelsPerSecond,t.pixels_per_second),e.secondsPerPixel=Math.min(e.secondsPerPixel,t.seconds_per_pixel)}))}return t.prototype.min=function(t){var e=this._find(t);return e?e.waveform.min_sample(t-e.start):0},t.prototype.max=function(t){var e=this._find(t);return e?e.waveform.max_sample(t-e.start):0},t.prototype._find=function(t){var e=this._waveforms.filter((function(e){return t>=e.start&&t<e.end}));return e.length>0?e[0]:null},t}();e.CompositeWaveform=i}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_LEVEL_1||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_LEVEL_2||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var i=e[n];if(t===i["@language"])return i["@value"]}var r=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===r)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var i;void 0===n&&(n=0),i=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=i;for(var r=0;r<t.nodes.length;r++){var o=t.nodes[r];e.generateTreeNodeIds(o,r)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,i,r,o,a,s,u){return new Promise((function(l,c){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,i,r,o,a,s,u)}));Promise.all(p).then((function(){l(t)})).catch((function(e){c(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,a,u,l,c,p){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:return(i=r.sent())?[4,t.getData(i)]:[3,6];case 2:return r.sent(),t.status!==s.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,l,c,p)];case 4:r.sent(),r.label=5;case 5:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return r.sent(),t.status!==s.MOVED_TEMPORARILY&&t.status!==s.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,l,c,p)];case 8:r.sent(),r.label=9;case 9:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,a,u,l,c){return i(this,void 0,void 0,(function(){var i,p,f,h,d,g,_,v;return r(this,(function(r){switch(r.label){case 0:return t.isAccessControlled()?((i=t.externalService)&&(i.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==s.MOVED_TEMPORARILY?[3,2]:[4,l(t)]):[2,t];case 1:return r.sent(),[2,t];case 2:return d=null,g=null,(d=i)?(g=d,[4,e.attemptResourceWithToken(t,o,d)]):[3,4];case 3:return r.sent(),[2,t];case 4:return(d=p)?(g=d,(_=n(d))?[4,a(_)]:[3,7]):[3,7];case 5:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 6:return r.sent(),[2,t];case 7:return(d=f)?(g=d,[4,u(t,d)]):[3,11];case 8:return(v=r.sent())?[4,a(v)]:[3,11];case 9:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 10:return r.sent(),[2,t];case 11:return(d=h)?(g=d,[4,u(t,d)]):[3,15];case 12:return(v=r.sent())?[4,a(v)]:[3,15];case 13:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 14:return r.sent(),[2,t];case 15:return g&&c(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,i)]:[3,3];case 1:return(o=r.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return r.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,i,r,o,a,s,u,l,c){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,i,r,o,a,s,u,l,c)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,i,r,o,a,u,l,c,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(i(t)),f(r(t))):o(t).then((function(){a(t,!0).then((function(n){t.getData(n).then((function(){f(c(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):l(t,n).then((function(p){p?t.getData(p).then((function(){t.status===s.OK?f(c(t)):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,i,r,o,a,u,l){return new Promise((function(c,p){t.getData().then((function(){t.isAccessControlled()?l(t,n).then((function(l){l?t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))})):a(t,!1).then((function(l){l?u(t,l,n).then((function(){t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):c(t)}))}))},e.showAuthInteraction=function(t,n,i,r,o,a,u,l,c){t.status!==s.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):o(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):l(t)},e.getService=function(e,t){for(var n=this.getServices(e),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===t)return r}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var r=0;r<Object.keys(t).length;r++)if("object"==typeof t[Object.keys(t)[r]]){var o=e.traverseAndFind(t[Object.keys(t)[r]],n,i);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if("string"==typeof r){var a=this.getResourceById(e.options.resource,r);a&&n.push(new o.Service(a.__jsonld||a,e.options))}else n.push(new o.Service(r,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var i=n(2);t.loadManifest=function(e){return i.Utils.loadManifest(e)},t.parseManifest=function(e,t){return i.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.options=n,i}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n],r=new o.LabelValuePair(this.options.locale);r.parse(i),t.push(r)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var i=t[n];if(i.getFormat()===e)return i}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];t.push(new o.Rendering(i,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(i){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var r=o.Deserialiser.parse(i,n);(e=Object.assign(e,r)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)if((a=t[n]).items)for(var i=0;i<a.items.length;i++){var r=a.items[i];e.push(new o.AnnotationBody(r,this.options))}else e.push(new o.AnnotationBody(a,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var a=t.items[n];e.push(new o.AnnotationBody(a,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.label=t,r.options=i,r}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,i="default",r=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),u=s.getServices();if(r||(r=s.getWidth()),u.length){var l=u[0];n=l.id,i=o.Utils.getImageQuality(l.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var c=this.getProperty("thumbnail");if(c){if("string"==typeof c)return c;if(c["@id"])return c["@id"];if(c.length)return c[0].id}}}return t=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,i+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var i=n.getItems(),r=0;r<i.length;r++){var a=i[r],s=new o.Annotation(a,this.options);e.push(s)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(e){return e&&"string"==typeof(t=e["@type"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,n){return new o.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.Resource);t.Canvas=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return r(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),e.defaultTree.addNode(i)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),e.defaultTree.addNode(i)}},t}(a.IIIFResource);t.Collection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),i.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Language=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.parse=function(e,t){var n,i=[];if(!e)return i;if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];n="string"==typeof a?new o.Language(a,t):new o.Language(a["@value"],a["@language"]||t),i.push(n)}else{if("string"==typeof e)return n=new o.Language(e,t),i.push(n),i;e["@value"]?(n=new o.Language(e["@value"],e["@language"]||t),i.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");n=new o.Language(e[t],t),i.push(n)}))}return i},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),o=0;o<r.length;o++){var a=r[o];i._parseRanges(a,String(o))}return i}return r(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var i={};i.ranges=this.__jsonld.structures,e.push(i)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var i,r=null;if("string"==typeof e&&(r=e,e=this._getRangeById(r)),e){(i=new a.Range(e,this.options)).parentRange=n,i.path=t,n?n.items.push(i):this._topRanges.push(i);var o=e.items||e.members;if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+s,i);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){i.canvases||(i.canvases=[]);var l=u.id||u["@id"];i.canvases.push(l)}}else if(e.ranges)for(s=0;s<e.ranges.length;s++)this._parseRanges(e.ranges[s],t+"/"+s,i)}else console.warn("Range:",r,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var i=e[t];i.id&&n._allRanges.push(i);var r=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(r,e):e},o=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(o)},n=this,i=0;i<e.length;i++)t(i);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.path===e)return i}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],i=new a.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new a.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):a.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(a.IIIFResource);t.Manifest=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=o.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(e=Number(r[0])),n===this.canvases.length-1&&(t=Number(r[1])))}else{var a=this.getRanges();for(n=0;n<a.length;n++){var s=a[n].getDuration();s&&(0===n&&(e=s.start),n===a.length-1&&(t=s.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],r=new o.TreeNode;e.addNode(r),this._parseTreeNode(r,i)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==a.Behavior.NO_NAV){var s=new o.TreeNode;e.addNode(s),this._parseTreeNode(s,r)}}},t}(o.ManifestResource);t.Range=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return r(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var i;n=this.__jsonld[t],(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),i=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(e)===i)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,i,r,o=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var u=this.getCanvasByIndex(s);if(a.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return s;if((n=o.exec(e))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(u.getLabel().toString())))return s}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),i=a.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var i=this.getViewingDirection();i&&i===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var o=this.getCanvasByIndex(r),s=new a.Thumb(e,o);n.push(s)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(a.ManifestResource);t.Sequence=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new i.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){t&&(t.index=i);var r=this.parseCollection(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseManifest=function(e,t){return new i.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var i=function(i){t&&(t.index=i);var o=r.parseItem(n[i],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=i,o.parentCollection=e,void e.items.push(o)):{value:void 0}},r=this,o=0;o<n.length;o++){var a=i(o);if("object"==typeof a)return a.value}},e}();t.Deserialiser=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+"info.json"},t}(o.ManifestResource);t.Service=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=i.LanguageMap.getValue(t.getLabel())}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},e}();t.TreeNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(5),s=function(e){function t(t){var n=e.call(this,t)||this;return n._data=n.data(),n._data=n.options.data,n._init(),n._resize(),n}return r(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._$element=$(this.el);var t=this;return this._$tree=$('<ul class="tree"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:"{^{for nodes}}\t\t\t\t\t{^{tree/}}\t\t\t\t{{/for}}",treeTemplate:'<li>\t\t\t\t\t\t{^{if nodes && nodes.length}}\t\t\t\t\t\t\t<div class="toggle" data-link="class{merge:expanded toggle=\'expanded\'}"></div>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t<div class="spacer"></div>\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if multiSelectEnabled}}\t\t\t\t\t\t\t<input id="tree-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? \'checked\' : \'\'}" class="multiSelect" />\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if selected}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}" class="selected">{{>label}}</a>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}">{{>label}}</a>\t\t\t\t\t\t{{/if}}\t\t\t\t</li>\t\t\t\t{^{if expanded}}\t\t\t\t\t<li>\t\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t\t\t{^{for nodes}}\t\t\t\t\t\t\t\t\t\t{^{tree/}}\t\t\t\t\t\t\t\t\t{{/for}}\t\t\t\t\t\t\t</ul>\t\t\t\t\t</li>\t\t\t\t{{/if}}'}),$.views.tags({tree:{toggleExpanded:function(){var e=this.data;t._setNodeExpanded(e,!e.expanded)},toggleMultiSelect:function(){var e=this.data;if(t._setNodeMultiSelected(e,!e.multiSelected),e.isRange()){var n=t._getMultiSelectState();n&&n.selectRange(e.data,e.multiSelected)}t.fire(u.TREE_NODE_MULTISELECTED,e)},init:function(e,t,n){this.data=e.view.data},onAfterLink:function(){var e=this;e.contents("li").first().on("click",".toggle",(function(){e.toggleExpanded()})).on("click","a",(function(n){n.preventDefault();var i=e.data;i.nodes.length&&t._data.branchNodesExpandOnClick&&e.toggleExpanded(),i.multiSelectEnabled?e.toggleMultiSelect():i.nodes.length?t._data.branchNodesSelectable&&(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i)):(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i))})).on("click","input.multiSelect",(function(t){e.toggleMultiSelect()}))},template:$.templates.treeTemplate}}),!0},t.prototype.set=function(e){var t=this;if(this._data=Object.assign(this._data,e),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var n=this._getMultiSelectState();if(n)for(var i=function(e){var t=n.ranges[e],i=r._getMultiSelectableNodes().filter((function(e){return e.data.id===t.id}))[0];i&&(r._setNodeMultiSelectEnabled(i,t.multiSelectEnabled),r._setNodeMultiSelected(i,t.multiSelected))},r=this,o=0;o<n.ranges.length;o++)i(o);if(this._data.autoExpand)this.getAllNodes().forEach((function(e,n){t._setNodeExpanded(e,!0)}))}},t.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},t.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:a.TreeSortType.NONE}},t.prototype.allNodesSelected=function(){var e=this._getMultiSelectableNodes(),t=this.getMultiSelectedNodes();return e.length===t.length},t.prototype._getMultiSelectableNodes=function(){var e=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var t=this.getAllNodes();return t?this._multiSelectableNodes=t.filter((function(t){return e._nodeIsMultiSelectable(t)})):[]},t.prototype._nodeIsMultiSelectable=function(e){return!!(e.data.type===o.TreeNodeType.MANIFEST&&e.nodes&&e.nodes.length>0||e.data.type===o.TreeNodeType.RANGE)},t.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},t.prototype.getMultiSelectedNodes=function(){var e=this;return this.getAllNodes().filter((function(t){return e._nodeIsMultiSelectable(t)&&t.multiSelected}))},t.prototype.getNodeById=function(e){return this.getAllNodes().filter((function(t){return t.id===e}))[0]},t.prototype.expandParents=function(e,t){e&&e.parentNode&&(this._setNodeExpanded(e.parentNode,t),this.expandParents(e.parentNode,t))},t.prototype._setNodeSelected=function(e,t){$.observable(e).setProperty("selected",t)},t.prototype._setNodeExpanded=function(e,t){$.observable(e).setProperty("expanded",t)},t.prototype._setNodeMultiSelected=function(e,t){$.observable(e).setProperty("multiSelected",t)},t.prototype._setNodeMultiSelectEnabled=function(e,t){$.observable(e).setProperty("multiSelectEnabled",t)},t.prototype.selectPath=function(e){if(this._rootNode){var t=e.split("/");t.length>=1&&t.shift();var n=this.getNodeByPath(this._rootNode,t);this.selectNode(n)}},t.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},t.prototype.selectNode=function(e){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=e,this._setNodeSelected(this.selectedNode,!0))},t.prototype.expandNode=function(e,t){this._rootNode&&this._setNodeExpanded(e,t)},t.prototype.getNodeByPath=function(e,t){if(0===t.length)return e;var n=Number(t.shift()),i=e.nodes[n];return this.getNodeByPath(i,t)},t.prototype.show=function(){this._$element.show()},t.prototype.hide=function(){this._$element.hide()},t.prototype._resize=function(){},t}(n(4).BaseComponent);t.TreeComponent=s;var u=function(){function e(){}return e.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",e.TREE_NODE_SELECTED="treeNodeSelected",e}();t.Events=u},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",(function(){return i}));var i=function(){function e(e){this.options=e,this.options.data=Object.assign({},this.data(),e.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(e,t,n){var i=this._e||(this._e={});(i[e]||(i[e]=[])).push({fn:t,ctx:n})},e.prototype.fire=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[e]||[]).slice(),o=0,a=r.length;o<a;o++)r[o].fn.apply(r[o].ctx,i)},e.prototype._resize=function(){},e.prototype.set=function(e){},e}()},function(e,t,n){"use strict";n.r(t);var i,r,o,a,s,u,l,c,p,f,h=function(e){this.isVisible=!0;var t=e.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(t[1]),this.y=Number(t[2]),this.width=Number(t[3]),this.height=Number(t[4]),this.chars=e.resource.chars},d=function(){function e(e,t){this.rects=[],this.canvasIndex=t,this.addRect(e)}return e.prototype.addRect=function(e){var t=new h(e);t.canvasIndex=this.canvasIndex,t.index=this.rects.length,this.rects.push(t),this.rects.sort((function(e,t){return e.index-t.index}))},e}(),g=n(0),_=function(){function e(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return e.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},e.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},e.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},e.prototype.getAll=function(){return this.canvases.concat(this.ranges)},e.prototype.getAllSelectedCanvases=function(){return this.canvases.filter((function(e){return e.multiSelected}))},e.prototype.getAllSelectedRanges=function(){return this.ranges.filter((function(e){return e.multiSelected}))},e.prototype.getCanvasById=function(e){return this.canvases.filter((function(t){return g.Utils.normaliseUrl(t.id)===g.Utils.normaliseUrl(e)}))[0]},e.prototype.getCanvasesByIds=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(this.getCanvasById(i))}return t},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesByIds(t)},e.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},e.prototype.selectCanvas=function(e,t){this.canvases.filter((function(t){return t.id===e.id}))[0].multiSelected=t},e.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},e.prototype.selectCanvases=function(e,t){for(var n=0;n<e.length;n++){e[n].multiSelected=t}},e.prototype.selectRange=function(e,t){var n=this.ranges.filter((function(t){return t.id===e.id}))[0];n.multiSelected=t;var i=this.getRangeCanvases(n);this.selectCanvases(i,t)},e.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},e.prototype.selectRanges=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.multiSelected=t;var r=this.getCanvasesByIds(i.getCanvasIds());this.selectCanvases(r,t)}},e.prototype.setEnabled=function(e){this.isEnabled=e;for(var t=this.getAll(),n=0;n<t.length;n++){var i=t[n];i.multiSelectEnabled=this.isEnabled,e||(i.multiSelected=!1)}},e}(),v=function(){function e(e,t){this.items=[],this.resource=e,this.label=t}return e.prototype.addItem=function(e){this.items.push(e)},e.prototype.addMetadata=function(e,t){void 0===t&&(t=!1);for(var n=0;n<e.length;n++){var i=e[n];i.isRootLevel=t,this.addItem(i)}},e}();!function(e){e.DATE="date",e.NONE="none"}(i||(i={})),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(r||(r={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(o||(o={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(a||(a={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(s||(s={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(u||(u={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(l||(l={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(p||(p={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(f||(f={}));var E=function(){function e(){}return e.manifestNotLoaded="Manifest has not loaded yet",e}(),y=function(){function e(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return e.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),t=null;return e&&((t=e.getService(c.SEARCH_0_AUTO_COMPLETE))||(t=e.getService(c.SEARCH_1_AUTO_COMPLETE))),t},e.prototype.getAttribution=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getAttribution();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},e.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},e.prototype.getCanvasesById=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getCanvasById(i);r&&t.push(r)}return t},e.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},e.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},e.prototype.getCanvasIndexByLabel=function(e){var t=this.getManifestType()===g.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,t)},e.prototype.getCanvasRange=function(e,t){var n=this.getCanvasRanges(e);if(t){for(var i=0;i<n.length;i++){var r=n[i];if(r.path===t)return r}return null}return n[0]},e.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return e.ranges?e.ranges:(e.ranges=this.manifest.getAllRanges().filter((function(t){return t.getCanvasIds().some((function(t){return g.Utils.normaliseUrl(t)===g.Utils.normaliseUrl(e.id)}))})),e.ranges)},e.prototype.getCollectionIndex=function(e){if(!e.parentCollection||e.parentCollection.parentCollection)return e.parentCollection?e.parentCollection.index:void 0},e.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},e.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},e.prototype.getDescription=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getDescription();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getLabel();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},e.prototype.getFirstPageIndex=function(){return 0},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getLicense=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLicense()},e.prototype.getLogo=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLogo()},e.prototype.getManifestType=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getManifestType();return e===g.ManifestType.EMPTY&&(e=g.ManifestType.MONOGRAPH),e},e.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=[],n=this.manifest.getMetadata(),i=new v(this.manifest),r=this.options.locale;(n&&n.length&&i.addMetadata(n,!0),this.manifest.getDescription().length)&&((s=new g.LabelValuePair(r)).label=[new g.Language("description",r)],s.value=this.manifest.getDescription(),s.isRootLevel=!0,i.addItem(s));this.manifest.getAttribution().length&&((s=new g.LabelValuePair(r)).label=[new g.Language("attribution",r)],s.value=this.manifest.getAttribution(),s.isRootLevel=!0,i.addItem(s));var o=this.manifest.getLicense();if(o){var a={label:"license",value:e&&e.licenseFormatter?e.licenseFormatter.format(o):o};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}if(this.manifest.getLogo()){var s;a={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}return t.push(i),e?this._parseMetadataOptions(e,t):t},e.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.getLabel(),value:e.getValue()}:null},e.prototype._parseMetadataOptions=function(e,t){var n=this.getCurrentSequence(),i=n.getMetadata();if(i&&i.length){var r=new v(n);r.addMetadata(i),t.push(r)}if(e.range){var o=this._getRangeMetadata([],e.range);o=o.reverse(),t=t.concat(o)}if(e.canvases&&e.canvases.length)for(var a=0;a<e.canvases.length;a++){var s=e.canvases[a],u=s.getMetadata();if(u&&u.length){var l=new v(s);l.addMetadata(s.getMetadata()),t.push(l)}for(var c=s.getImages(),p=0;p<c.length;p++){var f=c[p],h=f.getMetadata();if(h&&h.length){var d=new v(f);d.addMetadata(h),t.push(d)}}}return t},e.prototype._getRangeMetadata=function(e,t){var n=t.getMetadata();if(n&&n.length){var i=new v(t);i.addMetadata(n),e.push(i)}else if(t.parentRange)return this._getRangeMetadata(e,t.parentRange);return e},e.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new _,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},e.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},e.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getPosterCanvas()},e.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var t=e.getContent();if(t&&t.length)return t[0].getBody()[0].id}return null},e.prototype.getPreviousRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i>0;){return n[--i].data}break}}}return null},e.prototype.getNextRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i<n.length-1;){var o=n[++i];if(o.data.canvases&&o.data.canvases.length)return o.data}break}}}return null},e.prototype.getFlattenedTree=function(e){var t=null;return(t=e||this.getTree())?this._flattenTree(t,"nodes"):null},e.prototype._flattenTree=function(e,t){var n=this,i=[e];return e[t]&&e[t].length>0?i.concat(e[t].map((function(e){return n._flattenTree(e,t)})).reduce((function(e,t){return e.concat(t)}),[])):i},e.prototype.getRanges=function(){return this.manifest.getAllRanges()},e.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeByPath(e)},e.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeById(e)},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesById(t)},e.prototype.getRelated=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRelated()},e.prototype.getSearchService=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getService(c.SEARCH_0);return e||(e=this.manifest.getService(c.SEARCH_1)),e},e.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSeeAlso()},e.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},e.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=null,t=this.manifest.getService(c.SHARE_EXTENSIONS);return t&&(t.length&&(t=t[0]),e=t.__jsonld.shareUrl),e},e.prototype._getSortedTreeNodesByDate=function(e,t){var n=this.getFlattenedTree(t);if(n){var i=n.filter((function(e){return e.data.type===g.TreeNodeType.MANIFEST}));this.createDecadeNodes(e,n),this.sortDecadeNodes(e),this.createYearNodes(e,n),this.sortYearNodes(e),this.createMonthNodes(e,i),this.sortMonthNodes(e),this.createDateNodes(e,i),this.pruneDecadeNodes(e)}},e.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},e.prototype.getThumbs=function(e,t){return this.getCurrentSequence().getThumbs(e,t)},e.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTopRanges()},e.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},e.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTrackingLabel()},e.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},e.prototype.getTree=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=i.NONE),!this.iiifResource)return null;var n;if(this.iiifResource.isCollection())n=this.iiifResource.getDefaultTree();else{var r=this._getTopRanges(),o=new g.TreeNode;if(o.label="root",o.data=this.iiifResource,!r.length)return o;n=r[e].getTree(o)}var a=new g.TreeNode;switch(t.toString()){case i.DATE.toString():if(this.treeHasNavDates(n)){this._getSortedTreeNodesByDate(a,n);break}default:a=n}return a},e.prototype.treeHasNavDates=function(e){var t=this.getFlattenedTree(e);return!!t&&t.some((function(e){return!isNaN(e.navDate)}))},e.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},e.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},e.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return!!this.manifest.parentCollection},e.prototype.hasRelatedPage=function(){var e=this.getRelated();return!!e&&(e.length&&(e=e[0]),"text/html"===e.format)},e.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},e.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return!!e&&e===p.BOTTOM_TO_TOP},e.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},e.prototype.isContinuous=function(){var e=this.getViewingHint();return!!e&&e===f.CONTINUOUS},e.prototype.isFirstCanvas=function(e){return void 0!==e?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},e.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},e.prototype.isLastCanvas=function(e){return void 0!==e?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},e.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return!!e&&e===p.LEFT_TO_RIGHT},e.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},e.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isMultiSequence()},e.prototype.isPaged=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getViewingHint();return e?e===f.PAGED:this.manifest.isPagingEnabled()},e.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},e.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},e.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return!!e&&e===p.RIGHT_TO_LEFT},e.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return!!e&&e===p.TOP_TO_BOTTOM},e.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},e.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=this.manifest.getService(c.UI_EXTENSIONS);if(t){var n=t.getProperty("disableUI");if(n&&(-1!==n.indexOf(e)||-1!==n.indexOf(e.toLowerCase())))return!1}return!0},e.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},e.prototype.createDateNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=this.getNodeYear(i),o=this.getNodeMonth(i),a=new g.TreeNode;a.id=i.id,a.label=this.getNodeDisplayDate(i),a.data=i.data,a.data.type=g.TreeNodeType.MANIFEST,a.data.year=r,a.data.month=o;var s=this.getDecadeNode(e,r);if(s){var u=this.getYearNode(s,r);if(u){var l=this.getMonthNode(u,o);l&&l.addNode(a)}}}},e.prototype.createDecadeNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=Number(r.toString().substr(0,3)+"9");if(!this.getDecadeNode(e,r)){var a=new g.TreeNode;a.label=r+" - "+o,a.navDate=i.navDate,a.data.startYear=r,a.data.endYear=o,e.addNode(a)}}}},e.prototype.createMonthNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getNodeMonth(i),a=this.getDecadeNode(e,r),s=null;if(a&&(s=this.getYearNode(a,r)),a&&s&&!this.getMonthNode(s,o)){var u=new g.TreeNode;u.label=this.getNodeDisplayMonth(i),u.navDate=i.navDate,u.data.year=r,u.data.month=o,s.addNode(u)}}}},e.prototype.createYearNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getDecadeNode(e,r);if(o&&!this.getYearNode(o,r)){var a=new g.TreeNode;a.label=r.toString(),a.navDate=i.navDate,a.data.year=r,o.addNode(a)}}}},e.prototype.getDecadeNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t>=i.data.startYear&&t<=i.data.endYear)return i}return null},e.prototype.getMonthNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeMonth(i))return i}return null},e.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},e.prototype.getNodeDisplayMonth=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.navDate.getMonth()]},e.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},e.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},e.prototype.getYearNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeYear(i))return i}return null},e.prototype.pruneDecadeNodes=function(e){for(var t=[],n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes.length||t.push(i)}for(var r=0;r<t.length;r++){var o=t[r],a=e.nodes.indexOf(o);a>-1&&e.nodes.splice(a,1)}},e.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort((function(e,t){return e.data.startYear-t.data.startYear}))},e.prototype.sortMonthNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++)for(var i=e.nodes[n],r=0;r<i.nodes.length;r++){var o=i.nodes[r];o.nodes=o.nodes.sort((function(e,n){return t.getNodeMonth(e)-t.getNodeMonth(n)}))}},e.prototype.sortYearNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes=i.nodes.sort((function(e,n){return t.getNodeYear(e)-t.getNodeYear(n)}))}},e}(),T=function(){function e(e){this._options=e,this._options.locale=this._options.locale||"en-GB"}return e.prototype.bootstrap=function(e,t){var n=this;return new Promise((function(i,r){e&&t&&(i=e,r=t),g.Utils.loadManifest(n._options.manifestUri).then((function(e){n._loaded(n,e,i,r)}))}))},e.prototype._loaded=function(e,t,n,i){var r=g.Utils.parseManifest(t,{locale:e._options.locale});if(r){e._options.iiifResource||(e._options.iiifResource=r);var o=e._options.collectionIndex,a=e._options.manifestIndex;if(r.getIIIFResourceType()===s.COLLECTION){var u=r.getManifests(),l=r.getCollections();u.length||void 0!==o||(o=0),void 0!==o&&l&&l.length?r.getCollectionByIndex(o).then((function(t){t||i("Collection index not found"),0===t.getTotalManifests()&&0===a&&t.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=t.id,e.bootstrap(n,i)):void 0!==a&&t.getManifestByIndex(a).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))})):r.getManifestByIndex(e._options.manifestIndex).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))}else{e._options.manifest=r;var c=new y(e._options);n(c)}}else console.error("Unable to load IIIF resource")},e}(),I=n(1),O=function(){function e(e,t){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=t.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return e.prototype._getImageServiceDescriptor=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.id;r.endsWith("/")||(r+="/"),g.Utils.isImageProfile(i.getProfile())&&(t=r+"info.json")}return t},e.prototype._getDataUri=function(e){var t=e.getContent(),n=e.getImages(),i=null;if(t&&t.length){var r=t[0].getBody();return r.length?(o=r[0].getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:r[0].id:null}if(n&&n.length){var o,a=n[0].getResource();return(o=a.getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:a.id}var s=e.getService(c.IXIF);return s?s.getInfoUri():e.id},e.prototype._parseAuthServices=function(e){if(.9===this.authAPIVersion)this.clickThroughService=g.Utils.getService(e,c.AUTH_0_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_0_LOGIN),this.restrictedService=g.Utils.getService(e,c.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(c.AUTH_0_TOKEN));else{if(void 0!==e.isCanvas&&e.isCanvas()){var t=e.getContent();if(t&&t.length){var n=t[0].getBody();if(n&&n.length)e=n[0]}}this.clickThroughService=g.Utils.getService(e,c.AUTH_1_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_1_LOGIN),this.externalService=g.Utils.getService(e,c.AUTH_1_EXTERNAL),this.kioskService=g.Utils.getService(e,c.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(c.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_1_TOKEN),this.probeService=this.loginService.getService(c.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(c.AUTH_1_TOKEN),this.probeService=this.externalService.getService(c.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(c.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(c.AUTH_1_PROBE))}},e.prototype._parseCanvasDimensions=function(e){var t=e.getImages();if(t&&t.length){var n=t[0].getResource();this.width=n.getWidth(),this.height=n.getHeight()}else if((t=e.getContent()).length){var i=t[0].getBody();i.length&&(this.width=i[0].getWidth(),this.height=i[0].getHeight())}},e.prototype._parseDescriptorDimensions=function(e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},e.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},e.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},e.prototype.getData=function(e){var t=this;return t.data={},new Promise((function(n,i){if(t.dataUri)if(t.probeService){t.isProbed=!0;var r=new XMLHttpRequest;r.open("GET",t.probeService.id,!0),r.withCredentials=!0,r.onload=function(){var e=JSON.parse(r.responseText);unescape(e.contentLocation)!==t.dataUri?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)},r.onerror=function(){t.status=r.status,n(t)},r.send()}else{var o="GET";if(!t.hasServiceDescriptor()){if(!t.isAccessControlled())return t.status=I.OK,void n(t);o="HEAD"}var a=new XMLHttpRequest;a.open(o,t.dataUri,!0),e&&a.setRequestHeader("Authorization","Bearer "+e.accessToken),a.onload=function(){var e=JSON.parse(a.responseText);if(e){var i=unescape(e["@id"]);t.data=e,t._parseAuthServices(t.data),t._parseDescriptorDimensions(t.data),i.endsWith("/info.json")&&(i=i.substr(0,i.lastIndexOf("/")));var r=t.dataUri;r&&r.endsWith("/info.json")&&(r=r.substr(0,r.lastIndexOf("/"))),i!==r&&t.loginService?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)}else t.status=I.OK,n(t)},a.onerror=function(){t.status=a.status,a.responseText&&t._parseAuthServices(JSON.parse(a.responseText)),n(t)},a.send()}else i("There is no dataUri to fetch")}))},e}(),N=function(){},m=function(){},L=function(e,t){this.value=e,this.locale=t},A=function(){function e(e){this.labels=e}return e.prototype.format=function(e){return-1!=e.indexOf("<a")?e:'<a href="'+e+'">'+(this.labels[e]?this.labels[e]:e)+"</a>"},e}();n.d(t,"loadManifest",(function(){return S})),n.d(t,"AnnotationGroup",(function(){return d})),n.d(t,"AnnotationRect",(function(){return h})),n.d(t,"Bootstrapper",(function(){return T})),n.d(t,"ExternalResource",(function(){return O})),n.d(t,"Helper",(function(){return y})),n.d(t,"ILabelValuePair",(function(){return N})),n.d(t,"MetadataGroup",(function(){return v})),n.d(t,"MetadataOptions",(function(){return m})),n.d(t,"MultiSelectState",(function(){return _})),n.d(t,"Translation",(function(){return L})),n.d(t,"TreeSortType",(function(){return i})),n.d(t,"UriLabeller",(function(){return A}));var S=function(e){return new T(e).bootstrap()}}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js ***!
  \**********************************************************************/
/*! exports provided: AnnotationGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return AnnotationGroup; });
/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");

var AnnotationGroup = /** @class */ (function () {
    function AnnotationGroup(resource, canvasIndex) {
        this.rects = [];
        this.canvasIndex = canvasIndex;
        this.addRect(resource);
    }
    AnnotationGroup.prototype.addRect = function (resource) {
        var rect = new _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__["AnnotationRect"](resource);
        rect.canvasIndex = this.canvasIndex;
        rect.index = this.rects.length;
        this.rects.push(rect);
        // sort ascending
        this.rects.sort(function (a, b) {
            return a.index - b.index;
        });
    };
    return AnnotationGroup;
}());

//# sourceMappingURL=AnnotationGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js ***!
  \*********************************************************************/
/*! exports provided: AnnotationRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return AnnotationRect; });
var AnnotationRect = /** @class */ (function () {
    function AnnotationRect(result) {
        this.isVisible = true;
        var xywh = result.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);
        this.x = Number(xywh[1]);
        this.y = Number(xywh[2]);
        this.width = Number(xywh[3]);
        this.height = Number(xywh[4]);
        this.chars = result.resource.chars;
    }
    return AnnotationRect;
}());

//# sourceMappingURL=AnnotationRect.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js ***!
  \*******************************************************************/
/*! exports provided: Bootstrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return Bootstrapper; });
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_2__);



var Bootstrapper = /** @class */ (function () {
    function Bootstrapper(options) {
        this._options = options;
        this._options.locale = this._options.locale || 'en-GB'; // default locale
    }
    Bootstrapper.prototype.bootstrap = function (res, rej) {
        var that = this;
        return new Promise(function (resolve, reject) {
            // if this is a recursive bootstrap we will have existing resolve & reject methods.
            if (res && rej) {
                resolve = res;
                reject = rej;
            }
            manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].loadManifest(that._options.manifestUri).then(function (json) {
                that._loaded(that, json, resolve, reject);
            });
        });
    };
    Bootstrapper.prototype._loaded = function (bootstrapper, json, resolve, reject) {
        var iiifResource = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].parseManifest(json, {
            locale: bootstrapper._options.locale
        });
        if (iiifResource) {
            // only set the root IIIFResource on the first load
            if (!bootstrapper._options.iiifResource) {
                bootstrapper._options.iiifResource = iiifResource;
            }
            var collectionIndex = bootstrapper._options.collectionIndex; // this is either undefined, 0, or a positive number (defaults to undefined)
            var manifestIndex_1 = bootstrapper._options.manifestIndex; // this is either 0 or a positive number (defaults to 0)
            if (iiifResource.getIIIFResourceType() === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].COLLECTION) {
                // it's a collection
                var manifests = iiifResource.getManifests();
                var collections = iiifResource.getCollections();
                // if there are only collections available, set the collectionIndex to 0 if undefined.
                if (!manifests.length && collectionIndex === undefined) {
                    collectionIndex = 0;
                }
                if (collectionIndex !== undefined && collections && collections.length) {
                    // a collectionIndex has been passed and we have sub collections
                    iiifResource.getCollectionByIndex(collectionIndex).then(function (collection) {
                        if (!collection) {
                            reject('Collection index not found');
                        }
                        // Special case: we're trying to load the first manifest of the
                        // specified collection, but the collection has no manifests but does have
                        // subcollections. Thus, we should dive in until we find something
                        // we can display!
                        if (collection.getTotalManifests() === 0 && manifestIndex_1 === 0 && collection.getTotalCollections() > 0) {
                            bootstrapper._options.collectionIndex = 0;
                            bootstrapper._options.manifestUri = collection.id;
                            bootstrapper.bootstrap(resolve, reject);
                        }
                        else if (manifestIndex_1 !== undefined) {
                            collection.getManifestByIndex(manifestIndex_1).then(function (manifest) {
                                bootstrapper._options.manifest = manifest;
                                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                                resolve(helper);
                            });
                        }
                    });
                }
                else {
                    iiifResource.getManifestByIndex(bootstrapper._options.manifestIndex).then(function (manifest) {
                        bootstrapper._options.manifest = manifest;
                        var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                        resolve(helper);
                    });
                }
            }
            else {
                bootstrapper._options.manifest = iiifResource;
                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                resolve(helper);
            }
        }
        else {
            console.error('Unable to load IIIF resource');
        }
    };
    return Bootstrapper;
}());

//# sourceMappingURL=Bootstrapper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Errors.js ***!
  \*************************************************************/
/*! exports provided: Errors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Errors", function() { return Errors; });
var Errors = /** @class */ (function () {
    function Errors() {
    }
    Errors.manifestNotLoaded = "Manifest has not loaded yet";
    return Errors;
}());

//# sourceMappingURL=Errors.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js ***!
  \***********************************************************************/
/*! exports provided: ExternalResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return ExternalResource; });
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @edsilv/http-status-codes */ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_2__);



var ExternalResource = /** @class */ (function () {
    function ExternalResource(canvas, options) {
        this.authHoldingPage = null;
        this.clickThroughService = null;
        this.externalService = null;
        this.isProbed = false;
        this.isResponseHandled = false;
        this.kioskService = null;
        this.loginService = null;
        this.logoutService = null;
        this.probeService = null;
        this.restrictedService = null;
        this.tokenService = null;
        canvas.externalResource = this;
        this.dataUri = this._getDataUri(canvas);
        this.index = canvas.index;
        this.authAPIVersion = options.authApiVersion;
        this._parseAuthServices(canvas);
        // get the height and width of the image resource if available
        this._parseCanvasDimensions(canvas);
    }
    ExternalResource.prototype._getImageServiceDescriptor = function (services) {
        var infoUri = null;
        for (var i = 0; i < services.length; i++) {
            var service = services[i];
            var id = service.id;
            if (!id.endsWith('/')) {
                id += '/';
            }
            if (manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].isImageProfile(service.getProfile())) {
                infoUri = id + 'info.json';
            }
        }
        return infoUri;
    };
    ExternalResource.prototype._getDataUri = function (canvas) {
        var content = canvas.getContent();
        var images = canvas.getImages();
        var infoUri = null;
        // presentation 3
        if (content && content.length) {
            var annotation = content[0];
            var annotationBody = annotation.getBody();
            if (annotationBody.length) {
                var body = annotationBody[0];
                var services = body.getServices();
                if (services.length) {
                    infoUri = this._getImageServiceDescriptor(services);
                    if (infoUri) {
                        return infoUri;
                    }
                }
                // no image services. return the image id
                return annotationBody[0].id;
            }
            return null;
        }
        else if (images && images.length) { // presentation 2
            var firstImage = images[0];
            var resource = firstImage.getResource();
            var services = resource.getServices();
            if (services.length) {
                infoUri = this._getImageServiceDescriptor(services);
                if (infoUri) {
                    return infoUri;
                }
            }
            // no image services. return the image id
            return resource.id;
        }
        else {
            // Legacy IxIF
            var service = canvas.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].IXIF);
            if (service) { // todo: deprecate
                return service.getInfoUri();
            }
            // return the canvas id.
            return canvas.id;
        }
    };
    ExternalResource.prototype._parseAuthServices = function (resource) {
        if (this.authAPIVersion === 0.9) {
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGIN);
            this.restrictedService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_RESTRICTED);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.restrictedService) {
                this.logoutService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
        }
        else { // auth 1
            // if the resource is a canvas, not an info.json, look for auth services on its content.
            if (resource.isCanvas !== undefined && resource.isCanvas()) {
                var content = resource.getContent();
                if (content && content.length) {
                    var body = content[0].getBody();
                    if (body && body.length) {
                        var annotation = body[0];
                        resource = annotation;
                    }
                }
            }
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGIN);
            this.externalService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_EXTERNAL);
            this.kioskService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_KIOSK);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.externalService) {
                this.logoutService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.kioskService) {
                this.logoutService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
        }
    };
    ExternalResource.prototype._parseCanvasDimensions = function (canvas) {
        var images = canvas.getImages();
        if (images && images.length) {
            var firstImage = images[0];
            var resource = firstImage.getResource();
            this.width = resource.getWidth();
            this.height = resource.getHeight();
        }
        else {
            // presentation 3
            images = canvas.getContent();
            if (images.length) {
                var annotation = images[0];
                var body = annotation.getBody();
                if (body.length) {
                    this.width = body[0].getWidth();
                    this.height = body[0].getHeight();
                }
            }
        }
    };
    ExternalResource.prototype._parseDescriptorDimensions = function (descriptor) {
        if (descriptor.width !== undefined) {
            this.width = descriptor.width;
        }
        if (descriptor.height !== undefined) {
            this.height = descriptor.height;
        }
    };
    ExternalResource.prototype.isAccessControlled = function () {
        if (this.clickThroughService || this.loginService || this.externalService || this.kioskService || this.probeService) {
            return true;
        }
        return false;
    };
    ExternalResource.prototype.hasServiceDescriptor = function () {
        if (this.dataUri) {
            return this.dataUri.endsWith('info.json');
        }
        return false;
    };
    ExternalResource.prototype.getData = function (accessToken) {
        var that = this;
        that.data = {};
        return new Promise(function (resolve, reject) {
            if (!that.dataUri) {
                reject('There is no dataUri to fetch');
                return;
            }
            // if the resource has a probe service, use that to get http status code
            if (that.probeService) {
                that.isProbed = true;
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.probeService.id,
                //     type: 'GET',
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     let contentLocation: string = unescape(data.contentLocation);
                //     if (contentLocation !== that.dataUri) {
                //         that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //     } else {
                //         that.status = HTTPStatusCode.OK;
                //     }
                //     resolve(that);
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_1 = new XMLHttpRequest();
                xhr_1.open('GET', that.probeService.id, true);
                xhr_1.withCredentials = true;
                xhr_1.onload = function () {
                    var data = JSON.parse(xhr_1.responseText);
                    var contentLocation = unescape(data.contentLocation);
                    if (contentLocation !== that.dataUri) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                    }
                    else {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                    }
                    resolve(that);
                };
                xhr_1.onerror = function () {
                    that.status = xhr_1.status;
                    resolve(that);
                };
                xhr_1.send();
            }
            else {
                // check if dataUri ends with info.json
                // if not issue a HEAD request.
                var type = 'GET';
                if (!that.hasServiceDescriptor()) {
                    // If access control is unnecessary, short circuit the process.
                    // Note that isAccessControlled check for short-circuiting only
                    // works in the "binary resource" context, since in that case,
                    // we know about access control from the manifest. For image
                    // resources, we need to check info.json for details and can't
                    // short-circuit like this.
                    if (!that.isAccessControlled()) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                        return;
                    }
                    type = 'HEAD';
                }
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.dataUri,
                //     type: type,
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     // if it's a resource without an info.json
                //     // todo: if resource doesn't have a @profile
                //     if (!data) {
                //         that.status = HTTPStatusCode.OK;
                //         resolve(that);
                //     } else {
                //         let uri: string = unescape(data['@id']);
                //         that.data = data;
                //         that._parseAuthServices(that.data);
                //         // remove trailing /info.json
                //         if (uri.endsWith('/info.json')){
                //             uri = uri.substr(0, uri.lastIndexOf('/'));
                //         }
                //         let dataUri: string | null = that.dataUri;
                //         if (dataUri && dataUri.endsWith('/info.json')){
                //             dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                //         }
                //         // if the request was redirected to a degraded version and there's a login service to get the full quality version
                //         if (uri !== dataUri && that.loginService) {
                //             that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //         } else {
                //             that.status = HTTPStatusCode.OK;
                //         }
                //         resolve(that);
                //     }
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     if (error.responseJSON){
                //         that._parseAuthServices(error.responseJSON);
                //     }
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_2 = new XMLHttpRequest();
                xhr_2.open(type, that.dataUri, true);
                //xhr.withCredentials = true;
                if (accessToken) {
                    xhr_2.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                }
                xhr_2.onload = function () {
                    var data = JSON.parse(xhr_2.responseText);
                    // if it's a resource without an info.json
                    // todo: if resource doesn't have a @profile
                    if (!data) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                    }
                    else {
                        var uri = unescape(data['@id']);
                        that.data = data;
                        that._parseAuthServices(that.data);
                        that._parseDescriptorDimensions(that.data);
                        // remove trailing /info.json
                        if (uri.endsWith('/info.json')) {
                            uri = uri.substr(0, uri.lastIndexOf('/'));
                        }
                        var dataUri = that.dataUri;
                        if (dataUri && dataUri.endsWith('/info.json')) {
                            dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                        }
                        // if the request was redirected to a degraded version and there's a login service to get the full quality version
                        if (uri !== dataUri && that.loginService) {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                        }
                        else {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        }
                        resolve(that);
                    }
                };
                xhr_2.onerror = function () {
                    that.status = xhr_2.status;
                    if (xhr_2.responseText) {
                        that._parseAuthServices(JSON.parse(xhr_2.responseText));
                    }
                    resolve(that);
                };
                xhr_2.send();
            }
        });
    };
    return ExternalResource;
}());

//# sourceMappingURL=ExternalResource.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Helper.js ***!
  \*************************************************************/
/*! exports provided: Helper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return Helper; });
/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Errors */ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_5__);






var Helper = /** @class */ (function () {
    function Helper(options) {
        this.options = options;
        this.iiifResource = this.options.iiifResource;
        this.manifestUri = this.options.manifestUri;
        this.manifest = this.options.manifest;
        this.collectionIndex = this.options.collectionIndex || 0;
        this.manifestIndex = this.options.manifestIndex || 0;
        this.sequenceIndex = this.options.sequenceIndex || 0;
        this.canvasIndex = this.options.canvasIndex || 0;
    }
    // getters //
    Helper.prototype.getAutoCompleteService = function () {
        var service = this.getSearchService();
        var autoCompleteService = null;
        if (service) {
            autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0_AUTO_COMPLETE);
            if (!autoCompleteService) {
                autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1_AUTO_COMPLETE);
            }
        }
        return autoCompleteService;
    };
    Helper.prototype.getAttribution = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var attribution = this.manifest.getAttribution();
        if (attribution) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(attribution, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getCanvases = function () {
        return this.getCurrentSequence().getCanvases();
    };
    Helper.prototype.getCanvasById = function (id) {
        return this.getCurrentSequence().getCanvasById(id);
    };
    Helper.prototype.getCanvasesById = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            var canvas = this.getCanvasById(id);
            if (canvas) {
                canvases.push(canvas);
            }
        }
        return canvases;
    };
    Helper.prototype.getCanvasByIndex = function (index) {
        return this.getCurrentSequence().getCanvasByIndex(index);
    };
    Helper.prototype.getCanvasIndexById = function (id) {
        return this.getCurrentSequence().getCanvasIndexById(id);
    };
    Helper.prototype.getCanvasIndexByLabel = function (label) {
        var foliated = this.getManifestType() === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MANUSCRIPT;
        return this.getCurrentSequence().getCanvasIndexByLabel(label, foliated);
    };
    Helper.prototype.getCanvasRange = function (canvas, path) {
        var ranges = this.getCanvasRanges(canvas);
        if (path) {
            for (var i = 0; i < ranges.length; i++) {
                var range = ranges[i];
                if (range.path === path) {
                    return range;
                }
            }
            return null;
        }
        else {
            return ranges[0]; // else return the first range
        }
    };
    Helper.prototype.getCanvasRanges = function (canvas) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        if (canvas.ranges) {
            return canvas.ranges; // cache
        }
        else {
            // todo: write test
            canvas.ranges = this.manifest.getAllRanges().filter(function (range) { return (range.getCanvasIds().some(function (cid) { return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(cid) === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(canvas.id); })); });
        }
        return canvas.ranges;
    };
    Helper.prototype.getCollectionIndex = function (iiifResource) {
        // todo: this only works for collections nested one level deep
        if (iiifResource.parentCollection && !iiifResource.parentCollection.parentCollection) {
            // manifest must be in the root
            return undefined;
        }
        else if (iiifResource.parentCollection) {
            return iiifResource.parentCollection.index;
        }
        return undefined;
    };
    Helper.prototype.getCurrentCanvas = function () {
        return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex);
    };
    Helper.prototype.getCurrentSequence = function () {
        return this.getSequenceByIndex(this.sequenceIndex);
    };
    Helper.prototype.getDescription = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var description = this.manifest.getDescription();
        if (description) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(description, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var label = this.manifest.getLabel();
        if (label) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(label, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLastCanvasLabel = function (alphanumeric) {
        return this.getCurrentSequence().getLastCanvasLabel(alphanumeric);
    };
    Helper.prototype.getFirstPageIndex = function () {
        return 0; // why is this needed?
    };
    Helper.prototype.getLastPageIndex = function () {
        return this.getTotalCanvases() - 1;
    };
    Helper.prototype.getLicense = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLicense();
    };
    Helper.prototype.getLogo = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLogo();
    };
    Helper.prototype.getManifestType = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var manifestType = this.manifest.getManifestType();
        // default to monograph
        if (manifestType === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].EMPTY) {
            manifestType = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MONOGRAPH;
        }
        return manifestType;
    };
    Helper.prototype.getMetadata = function (options) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var metadataGroups = [];
        var manifestMetadata = this.manifest.getMetadata();
        var manifestGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](this.manifest);
        var locale = this.options.locale; // this will always default to en-GB
        if (manifestMetadata && manifestMetadata.length) {
            manifestGroup.addMetadata(manifestMetadata, true);
        }
        if (this.manifest.getDescription().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("description", locale)];
            metadataItem.value = this.manifest.getDescription();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getAttribution().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("attribution", locale)];
            metadataItem.value = this.manifest.getAttribution();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        var license = this.manifest.getLicense();
        if (license) {
            var item = {
                label: "license",
                value: (options && options.licenseFormatter) ? options.licenseFormatter.format(license) : license
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getLogo()) {
            var item = {
                label: "logo",
                value: '<img src="' + this.manifest.getLogo() + '"/>'
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        metadataGroups.push(manifestGroup);
        if (options) {
            return this._parseMetadataOptions(options, metadataGroups);
        }
        else {
            return metadataGroups;
        }
    };
    Helper.prototype.getRequiredStatement = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var requiredStatement = this.manifest.getRequiredStatement();
        if (requiredStatement) {
            return {
                label: requiredStatement.getLabel(),
                value: requiredStatement.getValue()
            };
        }
        return null;
    };
    Helper.prototype._parseMetadataOptions = function (options, metadataGroups) {
        // get sequence metadata
        var sequence = this.getCurrentSequence();
        var sequenceMetadata = sequence.getMetadata();
        if (sequenceMetadata && sequenceMetadata.length) {
            var sequenceGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](sequence);
            sequenceGroup.addMetadata(sequenceMetadata);
            metadataGroups.push(sequenceGroup);
        }
        // get range metadata
        if (options.range) {
            var rangeGroups = this._getRangeMetadata([], options.range);
            rangeGroups = rangeGroups.reverse();
            metadataGroups = metadataGroups.concat(rangeGroups);
        }
        // get canvas metadata
        if (options.canvases && options.canvases.length) {
            for (var i = 0; i < options.canvases.length; i++) {
                var canvas = options.canvases[i];
                var canvasMetadata = canvas.getMetadata();
                if (canvasMetadata && canvasMetadata.length) {
                    var canvasGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](canvas);
                    canvasGroup.addMetadata(canvas.getMetadata());
                    metadataGroups.push(canvasGroup);
                }
                // add image metadata
                var images = canvas.getImages();
                for (var j = 0; j < images.length; j++) {
                    var image = images[j];
                    var imageMetadata = image.getMetadata();
                    if (imageMetadata && imageMetadata.length) {
                        var imageGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](image);
                        imageGroup.addMetadata(imageMetadata);
                        metadataGroups.push(imageGroup);
                    }
                }
            }
        }
        return metadataGroups;
    };
    Helper.prototype._getRangeMetadata = function (metadataGroups, range) {
        var rangeMetadata = range.getMetadata();
        if (rangeMetadata && rangeMetadata.length) {
            var rangeGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](range);
            rangeGroup.addMetadata(rangeMetadata);
            metadataGroups.push(rangeGroup);
        }
        else if (range.parentRange) {
            return this._getRangeMetadata(metadataGroups, range.parentRange);
        }
        return metadataGroups;
    };
    Helper.prototype.getMultiSelectState = function () {
        if (!this._multiSelectState) {
            this._multiSelectState = new _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__["MultiSelectState"]();
            this._multiSelectState.ranges = this.getRanges().slice(0);
            this._multiSelectState.canvases = this.getCurrentSequence().getCanvases().slice(0);
        }
        return this._multiSelectState;
    };
    Helper.prototype.getCurrentRange = function () {
        if (this.rangeId) {
            return this.getRangeById(this.rangeId);
        }
        return null;
    };
    Helper.prototype.getPosterCanvas = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getPosterCanvas();
    };
    Helper.prototype.getPosterImage = function () {
        var posterCanvas = this.getPosterCanvas();
        if (posterCanvas) {
            var content = posterCanvas.getContent();
            if (content && content.length) {
                var anno = content[0];
                var body = anno.getBody();
                return body[0].id;
            }
        }
        return null;
    };
    Helper.prototype.getPreviousRange = function (range) {
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node before it that has canvases
                        while (i > 0) {
                            i--;
                            var prevNode = flatTree[i];
                            return prevNode.data;
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getNextRange = function (range) {
        // if a range is passed, use that. otherwise get the current range.
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node after it that has canvases
                        while (i < flatTree.length - 1) {
                            i++;
                            var nextNode = flatTree[i];
                            if (nextNode.data.canvases && nextNode.data.canvases.length) {
                                return nextNode.data;
                            }
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getFlattenedTree = function (treeNode) {
        var t = null;
        if (!treeNode) {
            t = this.getTree();
        }
        else {
            t = treeNode;
        }
        if (t) {
            return this._flattenTree(t, 'nodes');
        }
        return null;
    };
    // use object.assign to return a set of new nodes
    // right now the UV needs the nodes to retain properties for databinding like expanded
    // as we're not redrawing the tree every time as per react.
    // maybe make this optional.
    // not sure why deleting the nodes key from each node is necessary
    Helper.prototype._flattenTree = function (root, key) {
        var _this = this;
        var flatten = [root]; //[Object.assign({}, root)];
        //delete flatten[0][key];
        if (root[key] && root[key].length > 0) {
            return flatten.concat(root[key]
                .map(function (child) { return _this._flattenTree(child, key); })
                .reduce(function (a, b) { return a.concat(b); }, []));
        }
        return flatten;
    };
    Helper.prototype.getRanges = function () {
        return this.manifest.getAllRanges();
    };
    Helper.prototype.getRangeByPath = function (path) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeByPath(path);
    };
    Helper.prototype.getRangeById = function (id) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeById(id);
    };
    Helper.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesById(ids);
    };
    Helper.prototype.getRelated = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRelated();
    };
    Helper.prototype.getSearchService = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0);
        if (!service) {
            service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1);
        }
        return service;
    };
    Helper.prototype.getSeeAlso = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSeeAlso();
    };
    Helper.prototype.getSequenceByIndex = function (index) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSequenceByIndex(index);
    };
    Helper.prototype.getShareServiceUrl = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var url = null;
        var shareService = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SHARE_EXTENSIONS);
        if (shareService) {
            if (shareService.length) {
                shareService = shareService[0];
            }
            url = shareService.__jsonld.shareUrl;
        }
        return url;
    };
    Helper.prototype._getSortedTreeNodesByDate = function (sortedTree, tree) {
        // const all: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(node => node.nodes)
        //     .where((n) => n.data.type === TreeNodeType.COLLECTION ||
        //                 n.data.type === TreeNodeType.MANIFEST).toArray();
        var flattenedTree = this.getFlattenedTree(tree);
        // const manifests: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(n => n.nodes)
        //     .where((n) => n.data.type === TreeNodeType.MANIFEST).toArray();
        if (flattenedTree) {
            var manifests = flattenedTree.filter(function (n) { return n.data.type === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST; });
            this.createDecadeNodes(sortedTree, flattenedTree);
            this.sortDecadeNodes(sortedTree);
            this.createYearNodes(sortedTree, flattenedTree);
            this.sortYearNodes(sortedTree);
            this.createMonthNodes(sortedTree, manifests);
            this.sortMonthNodes(sortedTree);
            this.createDateNodes(sortedTree, manifests);
            this.pruneDecadeNodes(sortedTree);
        }
    };
    Helper.prototype.getStartCanvasIndex = function () {
        return this.getCurrentSequence().getStartCanvasIndex();
    };
    Helper.prototype.getThumbs = function (width, height) {
        return this.getCurrentSequence().getThumbs(width, height);
    };
    Helper.prototype.getTopRanges = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTopRanges();
    };
    Helper.prototype.getTotalCanvases = function () {
        return this.getCurrentSequence().getTotalCanvases();
    };
    Helper.prototype.getTrackingLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTrackingLabel();
    };
    Helper.prototype._getTopRanges = function () {
        return this.iiifResource.getTopRanges();
    };
    Helper.prototype.getTree = function (topRangeIndex, sortType) {
        // if it's a collection, use IIIFResource.getDefaultTree()
        // otherwise, get the top range by index and use Range.getTree()
        if (topRangeIndex === void 0) { topRangeIndex = 0; }
        if (sortType === void 0) { sortType = _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].NONE; }
        if (!this.iiifResource) {
            return null;
        }
        var tree;
        if (this.iiifResource.isCollection()) {
            tree = this.iiifResource.getDefaultTree();
        }
        else {
            var topRanges = this._getTopRanges();
            var root = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            root.label = 'root';
            root.data = this.iiifResource;
            if (topRanges.length) {
                var range = topRanges[topRangeIndex];
                tree = range.getTree(root);
            }
            else {
                return root;
            }
        }
        var sortedTree = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
        switch (sortType.toString()) {
            case _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].DATE.toString():
                // returns a list of treenodes for each decade.
                // expanding a decade generates a list of years
                // expanding a year gives a list of months containing issues
                // expanding a month gives a list of issues.
                if (this.treeHasNavDates(tree)) {
                    this._getSortedTreeNodesByDate(sortedTree, tree);
                    break;
                }
            default:
                sortedTree = tree;
        }
        return sortedTree;
    };
    Helper.prototype.treeHasNavDates = function (tree) {
        //const node: TreeNode = tree.nodes.en().traverseUnique(node => node.nodes).where((n) => !isNaN(<any>n.navDate)).first();
        // todo: write test
        var flattenedTree = this.getFlattenedTree(tree);
        return (flattenedTree) ? flattenedTree.some(function (n) { return !isNaN(n.navDate); }) : false;
    };
    Helper.prototype.getViewingDirection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingDirection = this.getCurrentSequence().getViewingDirection();
        if (!viewingDirection) {
            viewingDirection = this.manifest.getViewingDirection();
        }
        return viewingDirection;
    };
    Helper.prototype.getViewingHint = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingHint = this.getCurrentSequence().getViewingHint();
        if (!viewingHint) {
            viewingHint = this.manifest.getViewingHint();
        }
        return viewingHint;
    };
    // inquiries //
    Helper.prototype.hasParentCollection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return !!this.manifest.parentCollection;
    };
    Helper.prototype.hasRelatedPage = function () {
        var related = this.getRelated();
        if (!related)
            return false;
        if (related.length) {
            related = related[0];
        }
        return related['format'] === 'text/html';
    };
    Helper.prototype.hasResources = function () {
        var canvas = this.getCurrentCanvas();
        return canvas.getResources().length > 0;
    };
    Helper.prototype.isBottomToTop = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].BOTTOM_TO_TOP;
        }
        return false;
    };
    Helper.prototype.isCanvasIndexOutOfRange = function (index) {
        return this.getCurrentSequence().isCanvasIndexOutOfRange(index);
    };
    Helper.prototype.isContinuous = function () {
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].CONTINUOUS;
        }
        return false;
    };
    Helper.prototype.isFirstCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isFirstCanvas(index);
        }
        return this.getCurrentSequence().isFirstCanvas(this.canvasIndex);
    };
    Helper.prototype.isHorizontallyAligned = function () {
        return this.isLeftToRight() || this.isRightToLeft();
    };
    Helper.prototype.isLastCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isLastCanvas(index);
        }
        return this.getCurrentSequence().isLastCanvas(this.canvasIndex);
    };
    Helper.prototype.isLeftToRight = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].LEFT_TO_RIGHT;
        }
        return false;
    };
    Helper.prototype.isMultiCanvas = function () {
        return this.getCurrentSequence().isMultiCanvas();
    };
    Helper.prototype.isMultiSequence = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.isMultiSequence();
    };
    Helper.prototype.isPaged = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        // check the sequence for a viewingHint (deprecated)
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].PAGED;
        }
        // check the manifest for a viewingHint (deprecated) or paged behavior
        return this.manifest.isPagingEnabled();
    };
    Helper.prototype.isPagingAvailable = function () {
        // paged mode is useless unless you have at least 3 pages...
        return this.isPagingEnabled() && this.getTotalCanvases() > 2;
    };
    Helper.prototype.isPagingEnabled = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return (this.manifest.isPagingEnabled() || this.getCurrentSequence().isPagingEnabled());
    };
    Helper.prototype.isRightToLeft = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].RIGHT_TO_LEFT;
        }
        return false;
    };
    Helper.prototype.isTopToBottom = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].TOP_TO_BOTTOM;
        }
        return false;
    };
    Helper.prototype.isTotalCanvasesEven = function () {
        return this.getCurrentSequence().isTotalCanvasesEven();
    };
    Helper.prototype.isUIEnabled = function (name) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var uiExtensions = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].UI_EXTENSIONS);
        if (uiExtensions) {
            var disableUI = uiExtensions.getProperty('disableUI');
            if (disableUI) {
                if (disableUI.indexOf(name) !== -1 || disableUI.indexOf(name.toLowerCase()) !== -1) {
                    return false;
                }
            }
        }
        return true;
    };
    Helper.prototype.isVerticallyAligned = function () {
        return this.isTopToBottom() || this.isBottomToTop();
    };
    // dates //     
    Helper.prototype.createDateNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var dateNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            dateNode.id = node.id;
            dateNode.label = this.getNodeDisplayDate(node);
            dateNode.data = node.data;
            dateNode.data.type = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST;
            dateNode.data.year = year;
            dateNode.data.month = month;
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode) {
                var yearNode = this.getYearNode(decadeNode, year);
                if (yearNode) {
                    var monthNode = this.getMonthNode(yearNode, month);
                    if (monthNode) {
                        monthNode.addNode(dateNode);
                    }
                }
            }
        }
    };
    Helper.prototype.createDecadeNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var endYear = Number(year.toString().substr(0, 3) + "9");
            if (!this.getDecadeNode(rootNode, year)) {
                var decadeNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                decadeNode.label = year + " - " + endYear;
                decadeNode.navDate = node.navDate;
                decadeNode.data.startYear = year;
                decadeNode.data.endYear = endYear;
                rootNode.addNode(decadeNode);
            }
        }
    };
    Helper.prototype.createMonthNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            var yearNode = null;
            if (decadeNode) {
                yearNode = this.getYearNode(decadeNode, year);
            }
            if (decadeNode && yearNode && !this.getMonthNode(yearNode, month)) {
                var monthNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                monthNode.label = this.getNodeDisplayMonth(node);
                monthNode.navDate = node.navDate;
                monthNode.data.year = year;
                monthNode.data.month = month;
                yearNode.addNode(monthNode);
            }
        }
    };
    Helper.prototype.createYearNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode && !this.getYearNode(decadeNode, year)) {
                var yearNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                yearNode.label = year.toString();
                yearNode.navDate = node.navDate;
                yearNode.data.year = year;
                decadeNode.addNode(yearNode);
            }
        }
    };
    Helper.prototype.getDecadeNode = function (rootNode, year) {
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (year >= n.data.startYear && year <= n.data.endYear)
                return n;
        }
        return null;
    };
    Helper.prototype.getMonthNode = function (yearNode, month) {
        for (var i = 0; i < yearNode.nodes.length; i++) {
            var n = yearNode.nodes[i];
            if (month === this.getNodeMonth(n))
                return n;
        }
        return null;
    };
    Helper.prototype.getNodeDisplayDate = function (node) {
        return node.navDate.toDateString();
    };
    Helper.prototype.getNodeDisplayMonth = function (node) {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return months[node.navDate.getMonth()];
    };
    Helper.prototype.getNodeMonth = function (node) {
        return node.navDate.getMonth();
    };
    Helper.prototype.getNodeYear = function (node) {
        return node.navDate.getFullYear();
    };
    Helper.prototype.getYearNode = function (decadeNode, year) {
        for (var i = 0; i < decadeNode.nodes.length; i++) {
            var n = decadeNode.nodes[i];
            if (year === this.getNodeYear(n))
                return n;
        }
        return null;
    };
    // delete any empty decades
    Helper.prototype.pruneDecadeNodes = function (rootNode) {
        var pruned = [];
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (!n.nodes.length) {
                pruned.push(n);
            }
        }
        for (var j = 0; j < pruned.length; j++) {
            var p = pruned[j];
            var index = rootNode.nodes.indexOf(p);
            if (index > -1) {
                rootNode.nodes.splice(index, 1);
            }
        }
    };
    Helper.prototype.sortDecadeNodes = function (rootNode) {
        rootNode.nodes = rootNode.nodes.sort(function (a, b) {
            return a.data.startYear - b.data.startYear;
        });
    };
    Helper.prototype.sortMonthNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            for (var j = 0; j < decadeNode.nodes.length; j++) {
                var monthNode = decadeNode.nodes[j];
                monthNode.nodes = monthNode.nodes.sort(function (a, b) {
                    return _this.getNodeMonth(a) - _this.getNodeMonth(b);
                });
            }
        }
    };
    Helper.prototype.sortYearNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            decadeNode.nodes = decadeNode.nodes.sort(function (a, b) {
                return (_this.getNodeYear(a) - _this.getNodeYear(b));
            });
        }
    };
    return Helper;
}());

//# sourceMappingURL=Helper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js ***!
  \**********************************************************************/
/*! exports provided: ILabelValuePair */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return ILabelValuePair; });
var ILabelValuePair = /** @class */ (function () {
    function ILabelValuePair() {
    }
    return ILabelValuePair;
}());

//# sourceMappingURL=ILabelValuePair.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js":
/*!********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js ***!
  \********************************************************************/
/*! exports provided: MetadataGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return MetadataGroup; });
var MetadataGroup = /** @class */ (function () {
    function MetadataGroup(resource, label) {
        this.items = [];
        this.resource = resource;
        this.label = label;
    }
    MetadataGroup.prototype.addItem = function (item) {
        this.items.push(item);
    };
    MetadataGroup.prototype.addMetadata = function (metadata, isRootLevel) {
        if (isRootLevel === void 0) { isRootLevel = false; }
        for (var i = 0; i < metadata.length; i++) {
            var item = metadata[i];
            item.isRootLevel = isRootLevel;
            this.addItem(item);
        }
    };
    return MetadataGroup;
}());

//# sourceMappingURL=MetadataGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js ***!
  \**********************************************************************/
/*! exports provided: MetadataOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return MetadataOptions; });
var MetadataOptions = /** @class */ (function () {
    function MetadataOptions() {
    }
    return MetadataOptions;
}());

//# sourceMappingURL=MetadataOptions.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js ***!
  \***********************************************************************/
/*! exports provided: MultiSelectState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return MultiSelectState; });
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_0__);

var MultiSelectState = /** @class */ (function () {
    function MultiSelectState() {
        this.isEnabled = false;
        this.ranges = [];
        this.canvases = [];
    }
    MultiSelectState.prototype.allCanvasesSelected = function () {
        return this.canvases.length > 0 && this.getAllSelectedCanvases().length === this.canvases.length;
    };
    MultiSelectState.prototype.allRangesSelected = function () {
        return this.ranges.length > 0 && this.getAllSelectedRanges().length === this.ranges.length;
    };
    MultiSelectState.prototype.allSelected = function () {
        return this.allRangesSelected() && this.allCanvasesSelected();
    };
    MultiSelectState.prototype.getAll = function () {
        return this.canvases.concat(this.ranges);
    };
    MultiSelectState.prototype.getAllSelectedCanvases = function () {
        return this.canvases.filter(function (c) { return c.multiSelected; });
    };
    MultiSelectState.prototype.getAllSelectedRanges = function () {
        return this.ranges.filter(function (r) { return r.multiSelected; });
    };
    MultiSelectState.prototype.getCanvasById = function (id) {
        return this.canvases.filter(function (c) { return manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(c.id) === manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(id); })[0];
    };
    MultiSelectState.prototype.getCanvasesByIds = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            canvases.push(this.getCanvasById(id));
        }
        return canvases;
    };
    MultiSelectState.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesByIds(ids);
    };
    MultiSelectState.prototype.selectAll = function (selected) {
        this.selectRanges(this.ranges, selected);
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvas = function (canvas, selected) {
        var c = this.canvases.filter(function (c) { return c.id === canvas.id; })[0];
        c.multiSelected = selected;
    };
    MultiSelectState.prototype.selectAllCanvases = function (selected) {
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvases = function (canvases, selected) {
        for (var j = 0; j < canvases.length; j++) {
            var canvas = canvases[j];
            canvas.multiSelected = selected;
        }
    };
    MultiSelectState.prototype.selectRange = function (range, selected) {
        var r = this.ranges.filter(function (r) { return r.id === range.id; })[0];
        r.multiSelected = selected;
        var canvases = this.getRangeCanvases(r);
        this.selectCanvases(canvases, selected);
    };
    MultiSelectState.prototype.selectAllRanges = function (selected) {
        this.selectRanges(this.ranges, selected);
    };
    MultiSelectState.prototype.selectRanges = function (ranges, selected) {
        for (var i = 0; i < ranges.length; i++) {
            var range = ranges[i];
            range.multiSelected = selected;
            var canvases = this.getCanvasesByIds(range.getCanvasIds());
            this.selectCanvases(canvases, selected);
        }
    };
    MultiSelectState.prototype.setEnabled = function (enabled) {
        this.isEnabled = enabled;
        var items = this.getAll();
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.multiSelectEnabled = this.isEnabled;
            if (!enabled) {
                item.multiSelected = false;
            }
        }
    };
    return MultiSelectState;
}());

//# sourceMappingURL=MultiSelectState.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Translation.js ***!
  \******************************************************************/
/*! exports provided: Translation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return Translation; });
var Translation = /** @class */ (function () {
    function Translation(value, locale) {
        this.value = value;
        this.locale = locale;
    }
    return Translation;
}());

//# sourceMappingURL=Translation.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js ***!
  \*******************************************************************/
/*! exports provided: TreeSortType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return TreeSortType; });
var TreeSortType;
(function (TreeSortType) {
    TreeSortType["DATE"] = "date";
    TreeSortType["NONE"] = "none";
})(TreeSortType || (TreeSortType = {}));
//# sourceMappingURL=TreeSortType.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js ***!
  \******************************************************************/
/*! exports provided: UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return UriLabeller; });
// This class formats URIs into HTML <a> links, applying labels when available
var UriLabeller = /** @class */ (function () {
    function UriLabeller(labels) {
        this.labels = labels;
    }
    UriLabeller.prototype.format = function (url) {
        // if already a link, do nothing.
        if (url.indexOf('<a') != -1)
            return url;
        var label = (this.labels[url]) ? this.labels[url] : url;
        return '<a href="' + url + '">' + label + '</a>';
    };
    return UriLabeller;
}());

//# sourceMappingURL=UriLabeller.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/index.js ***!
  \************************************************************/
/*! exports provided: loadManifest, AnnotationGroup, AnnotationRect, Bootstrapper, ExternalResource, Helper, ILabelValuePair, MetadataGroup, MetadataOptions, MultiSelectState, Translation, TreeSortType, UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadManifest", function() { return loadManifest; });
/* harmony import */ var _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationGroup */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__["AnnotationGroup"]; });

/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__["AnnotationRect"]; });

/* harmony import */ var _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Bootstrapper */ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"]; });

/* harmony import */ var _ExternalResource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ExternalResource */ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return _ExternalResource__WEBPACK_IMPORTED_MODULE_3__["ExternalResource"]; });

/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return _Helper__WEBPACK_IMPORTED_MODULE_4__["Helper"]; });

/* harmony import */ var _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ILabelValuePair */ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__["ILabelValuePair"]; });

/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__["MetadataGroup"]; });

/* harmony import */ var _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MetadataOptions */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__["MetadataOptions"]; });

/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__["MultiSelectState"]; });

/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Translation */ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return _Translation__WEBPACK_IMPORTED_MODULE_9__["Translation"]; });

/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return _TreeSortType__WEBPACK_IMPORTED_MODULE_10__["TreeSortType"]; });

/* harmony import */ var _UriLabeller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UriLabeller */ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return _UriLabeller__WEBPACK_IMPORTED_MODULE_11__["UriLabeller"]; });














var loadManifest = function (options) {
    return new _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"](options).bootstrap();
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@iiif/vocabulary/dist-esmodule/index.js ***!
  \**************************************************************/
/*! exports provided: AnnotationMotivation, Behavior, ExternalResourceType, IIIFResourceType, MediaType, RenderingFormat, ServiceProfile, ViewingDirection, ViewingHint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationMotivation", function() { return AnnotationMotivation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Behavior", function() { return Behavior; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResourceType", function() { return ExternalResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IIIFResourceType", function() { return IIIFResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaType", function() { return MediaType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderingFormat", function() { return RenderingFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiceProfile", function() { return ServiceProfile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingDirection", function() { return ViewingDirection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingHint", function() { return ViewingHint; });
var AnnotationMotivation;
(function (AnnotationMotivation) {
    AnnotationMotivation["BOOKMARKING"] = "oa:bookmarking";
    AnnotationMotivation["CLASSIFYING"] = "oa:classifying";
    AnnotationMotivation["COMMENTING"] = "oa:commenting";
    AnnotationMotivation["DESCRIBING"] = "oa:describing";
    AnnotationMotivation["EDITING"] = "oa:editing";
    AnnotationMotivation["HIGHLIGHTING"] = "oa:highlighting";
    AnnotationMotivation["IDENTIFYING"] = "oa:identifying";
    AnnotationMotivation["LINKING"] = "oa:linking";
    AnnotationMotivation["MODERATING"] = "oa:moderating";
    AnnotationMotivation["PAINTING"] = "sc:painting";
    AnnotationMotivation["QUESTIONING"] = "oa:questioning";
    AnnotationMotivation["REPLYING"] = "oa:replying";
    AnnotationMotivation["TAGGING"] = "oa:tagging";
    AnnotationMotivation["TRANSCRIBING"] = "oad:transcribing";
})(AnnotationMotivation || (AnnotationMotivation = {}));
var Behavior;
(function (Behavior) {
    Behavior["AUTO_ADVANCE"] = "auto-advance";
    Behavior["CONTINUOUS"] = "continuous";
    Behavior["FACING_PAGES"] = "facing-pages";
    Behavior["HIDDEN"] = "hidden";
    Behavior["INDIVIDUALS"] = "individuals";
    Behavior["MULTI_PART"] = "multi-part";
    Behavior["NO_NAV"] = "no-nav";
    Behavior["NON_PAGED"] = "non-paged";
    Behavior["PAGED"] = "paged";
    Behavior["REPEAT"] = "repeat";
    Behavior["SEQUENCE"] = "sequence";
    Behavior["THUMBNAIL_NAV"] = "thumbnail-nav";
    Behavior["TOGETHER"] = "together";
    Behavior["UNORDERED"] = "unordered";
})(Behavior || (Behavior = {}));
var ExternalResourceType;
(function (ExternalResourceType) {
    ExternalResourceType["CANVAS"] = "canvas";
    ExternalResourceType["CHOICE"] = "choice";
    ExternalResourceType["CONTENT_AS_TEXT"] = "contentastext";
    ExternalResourceType["DATASET"] = "dataset";
    ExternalResourceType["DOCUMENT"] = "document";
    ExternalResourceType["IMAGE"] = "image";
    ExternalResourceType["MODEL"] = "model";
    ExternalResourceType["MOVING_IMAGE"] = "movingimage";
    ExternalResourceType["PDF"] = "pdf";
    ExternalResourceType["PHYSICAL_OBJECT"] = "physicalobject";
    ExternalResourceType["SOUND"] = "sound";
    ExternalResourceType["TEXT"] = "text";
    ExternalResourceType["TEXTUALBODY"] = "textualbody";
    ExternalResourceType["VIDEO"] = "video";
})(ExternalResourceType || (ExternalResourceType = {}));
var IIIFResourceType;
(function (IIIFResourceType) {
    IIIFResourceType["ANNOTATION"] = "annotation";
    IIIFResourceType["CANVAS"] = "canvas";
    IIIFResourceType["COLLECTION"] = "collection";
    IIIFResourceType["MANIFEST"] = "manifest";
    IIIFResourceType["RANGE"] = "range";
    IIIFResourceType["SEQUENCE"] = "sequence";
})(IIIFResourceType || (IIIFResourceType = {}));
var MediaType;
(function (MediaType) {
    MediaType["AUDIO_MP4"] = "audio/mp4";
    MediaType["CORTO"] = "application/corto";
    MediaType["DRACO"] = "application/draco";
    MediaType["EPUB"] = "application/epub+zip";
    MediaType["GLTF"] = "model/gltf+json";
    MediaType["JPG"] = "image/jpeg";
    MediaType["M3U8"] = "application/vnd.apple.mpegurl";
    MediaType["MP3"] = "audio/mp3";
    MediaType["MPEG_DASH"] = "application/dash+xml";
    MediaType["OBJ"] = "text/plain";
    MediaType["OPF"] = "application/oebps-package+xml";
    MediaType["PDF"] = "application/pdf";
    MediaType["PLY"] = "application/ply";
    MediaType["THREEJS"] = "application/vnd.threejs+json";
    MediaType["VIDEO_MP4"] = "video/mp4";
    MediaType["WEBM"] = "video/webm";
})(MediaType || (MediaType = {}));
var RenderingFormat;
(function (RenderingFormat) {
    RenderingFormat["DOC"] = "application/msword";
    RenderingFormat["DOCX"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
    RenderingFormat["PDF"] = "application/pdf";
})(RenderingFormat || (RenderingFormat = {}));
var ServiceProfile;
(function (ServiceProfile) {
    // image api
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level0";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level1";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level2";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level0";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level1";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level2";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2";
    ServiceProfile["IMAGE_1_LEVEL_0"] = "http://iiif.io/api/image/1/level0.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/1/profiles/level0.json";
    ServiceProfile["IMAGE_1_LEVEL_1"] = "http://iiif.io/api/image/1/level1.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/1/profiles/level1.json";
    ServiceProfile["IMAGE_1_LEVEL_2"] = "http://iiif.io/api/image/1/level2.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/1/profiles/level2.json";
    ServiceProfile["IMAGE_2_LEVEL_0"] = "http://iiif.io/api/image/2/level0.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/2/profiles/level0.json";
    ServiceProfile["IMAGE_2_LEVEL_1"] = "http://iiif.io/api/image/2/level1.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/2/profiles/level1.json";
    ServiceProfile["IMAGE_2_LEVEL_2"] = "http://iiif.io/api/image/2/level2.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/2/profiles/level2.json";
    // auth api
    ServiceProfile["AUTH_0_CLICK_THROUGH"] = "http://iiif.io/api/auth/0/login/clickthrough";
    ServiceProfile["AUTH_0_LOGIN"] = "http://iiif.io/api/auth/0/login";
    ServiceProfile["AUTH_0_LOGOUT"] = "http://iiif.io/api/auth/0/logout";
    ServiceProfile["AUTH_0_RESTRICTED"] = "http://iiif.io/api/auth/0/login/restricted";
    ServiceProfile["AUTH_0_TOKEN"] = "http://iiif.io/api/auth/0/token";
    ServiceProfile["AUTH_1_CLICK_THROUGH"] = "http://iiif.io/api/auth/1/clickthrough";
    ServiceProfile["AUTH_1_EXTERNAL"] = "http://iiif.io/api/auth/1/external";
    ServiceProfile["AUTH_1_KIOSK"] = "http://iiif.io/api/auth/1/kiosk";
    ServiceProfile["AUTH_1_LOGIN"] = "http://iiif.io/api/auth/1/login";
    ServiceProfile["AUTH_1_LOGOUT"] = "http://iiif.io/api/auth/1/logout";
    ServiceProfile["AUTH_1_PROBE"] = "http://iiif.io/api/auth/1/probe";
    ServiceProfile["AUTH_1_TOKEN"] = "http://iiif.io/api/auth/1/token";
    // search api
    ServiceProfile["SEARCH_0"] = "http://iiif.io/api/search/0/search";
    ServiceProfile["SEARCH_0_AUTO_COMPLETE"] = "http://iiif.io/api/search/0/autocomplete";
    ServiceProfile["SEARCH_1"] = "http://iiif.io/api/search/1/search";
    ServiceProfile["SEARCH_1_AUTO_COMPLETE"] = "http://iiif.io/api/search/1/autocomplete";
    // extensions
    ServiceProfile["TRACKING_EXTENSIONS"] = "http://universalviewer.io/tracking-extensions-profile";
    ServiceProfile["UI_EXTENSIONS"] = "http://universalviewer.io/ui-extensions-profile";
    ServiceProfile["PRINT_EXTENSIONS"] = "http://universalviewer.io/print-extensions-profile";
    ServiceProfile["SHARE_EXTENSIONS"] = "http://universalviewer.io/share-extensions-profile";
    // other
    ServiceProfile["OTHER_MANIFESTATIONS"] = "http://iiif.io/api/otherManifestations.json";
    ServiceProfile["IXIF"] = "http://wellcomelibrary.org/ld/ixif/0/alpha.json";
})(ServiceProfile || (ServiceProfile = {}));
var ViewingDirection;
(function (ViewingDirection) {
    ViewingDirection["BOTTOM_TO_TOP"] = "bottom-to-top";
    ViewingDirection["LEFT_TO_RIGHT"] = "left-to-right";
    ViewingDirection["RIGHT_TO_LEFT"] = "right-to-left";
    ViewingDirection["TOP_TO_BOTTOM"] = "top-to-bottom";
})(ViewingDirection || (ViewingDirection = {}));
var ViewingHint;
(function (ViewingHint) {
    ViewingHint["CONTINUOUS"] = "continuous";
    ViewingHint["INDIVIDUALS"] = "individuals";
    ViewingHint["NON_PAGED"] = "non-paged";
    ViewingHint["PAGED"] = "paged";
    ViewingHint["TOP"] = "top";
})(ViewingHint || (ViewingHint = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/banana-i18n/dist/banana-i18n.js":
/*!******************************************************!*\
  !*** ./node_modules/banana-i18n/dist/banana-i18n.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(u,e){ true?module.exports=e():undefined}(this,(function(){return function(u){var e={};function d(r){if(e[r])return e[r].exports;var t=e[r]={i:r,l:!1,exports:{}};return u[r].call(t.exports,t,t.exports,d),t.l=!0,t.exports}return d.m=u,d.c=e,d.d=function(u,e,r){d.o(u,e)||Object.defineProperty(u,e,{enumerable:!0,get:r})},d.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},d.t=function(u,e){if(1&e&&(u=d(u)),8&e)return u;if(4&e&&"object"==typeof u&&u&&u.__esModule)return u;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:u}),2&e&&"string"!=typeof u)for(var t in u)d.d(r,t,function(e){return u[e]}.bind(null,t));return r},d.n=function(u){var e=u&&u.__esModule?function(){return u.default}:function(){return u};return d.d(e,"a",e),e},d.o=function(u,e){return Object.prototype.hasOwnProperty.call(u,e)},d.p="",d(d.s=2)}([function(u){u.exports=JSON.parse('{"ar":"٠١٢٣٤٥٦٧٨٩","fa":"۰۱۲۳۴۵۶۷۸۹","ml":"൦൧൨൩൪൫൬൭൮൯","kn":"೦೧೨೩೪೫೬೭೮೯","lo":"໐໑໒໓໔໕໖໗໘໙","or":"୦୧୨୩୪୫୬୭୮୯","kh":"០១២៣៤៥៦៧៨៩","nqo":"߀߁߂߃߄߅߆߇߈߉","pa":"੦੧੨੩੪੫੬੭੮੯","gu":"૦૧૨૩૪૫૬૭૮૯","hi":"०१२३४५६७८९","my":"၀၁၂၃၄၅၆၇၈၉","ta":"௦௧௨௩௪௫௬௭௮௯","te":"౦౧౨౩౪౫౬౭౮౯","th":"๐๑๒๓๔๕๖๗๘๙","bo":"༠༡༢༣༤༥༦༧༨༩"}')},function(u){u.exports=JSON.parse('{"ab":["ru"],"ace":["id"],"aln":["sq"],"als":["gsw","de"],"an":["es"],"anp":["hi"],"arn":["es"],"arz":["ar"],"av":["ru"],"ay":["es"],"ba":["ru"],"bar":["de"],"bat-smg":["sgs","lt"],"bcc":["fa"],"be-x-old":["be-tarask"],"bh":["bho"],"bjn":["id"],"bm":["fr"],"bpy":["bn"],"bqi":["fa"],"bug":["id"],"cbk-zam":["es"],"ce":["ru"],"crh":["crh-latn"],"crh-cyrl":["ru"],"csb":["pl"],"cv":["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],"dsb":["de"],"dtp":["ms"],"egl":["it"],"eml":["it"],"ff":["fr"],"fit":["fi"],"fiu-vro":["vro","et"],"frc":["fr"],"frp":["fr"],"frr":["de"],"fur":["it"],"gag":["tr"],"gan":["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],"gl":["pt"],"glk":["fa"],"gn":["es"],"gsw":["de"],"hif":["hif-latn"],"hsb":["de"],"ht":["fr"],"ii":["zh-cn","zh-hans"],"inh":["ru"],"iu":["ike-cans"],"jut":["da"],"jv":["id"],"kaa":["kk-latn","kk-cyrl"],"kbd":["kbd-cyrl"],"khw":["ur"],"kiu":["tr"],"kk":["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],"kl":["da"],"ko-kp":["ko"],"koi":["ru"],"krc":["ru"],"ks":["ks-arab"],"ksh":["de"],"ku":["ku-latn"],"ku-arab":["ckb"],"kv":["ru"],"lad":["es"],"lb":["de"],"lbe":["ru"],"lez":["ru"],"li":["nl"],"lij":["it"],"liv":["et"],"lmo":["it"],"ln":["fr"],"ltg":["lv"],"lzz":["tr"],"mai":["hi"],"map-bms":["jv","id"],"mg":["fr"],"mhr":["ru"],"min":["id"],"mo":["ro"],"mrj":["ru"],"mwl":["pt"],"myv":["ru"],"mzn":["fa"],"nah":["es"],"nap":["it"],"nds":["de"],"nds-nl":["nl"],"nl-informal":["nl"],"no":["nb"],"os":["ru"],"pcd":["fr"],"pdc":["de"],"pdt":["de"],"pfl":["de"],"pms":["it"],"pt":["pt-br"],"pt-br":["pt"],"qu":["es"],"qug":["qu","es"],"rgn":["it"],"rmy":["ro"],"roa-rup":["rup"],"rue":["uk","ru"],"ruq":["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],"sa":["hi"],"sah":["ru"],"scn":["it"],"sg":["fr"],"sgs":["lt"],"sli":["de"],"sr":["sr-ec"],"srn":["nl"],"stq":["de"],"su":["id"],"szl":["pl"],"tcy":["kn"],"tg":["tg-cyrl"],"tt":["tt-cyrl","ru"],"tt-cyrl":["ru"],"ty":["fr"],"udm":["ru"],"ug":["ug-arab"],"uk":["ru"],"vec":["it"],"vep":["et"],"vls":["nl"],"vmf":["de"],"vot":["fi"],"vro":["et"],"wa":["fr"],"wo":["fr"],"wuu":["zh-hans"],"xal":["ru"],"xmf":["ka"],"yi":["he"],"za":["zh-hans"],"zea":["nl"],"zh":["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]}')},function(u,e,d){"use strict";d.r(e);var r=d(0);class t{constructor(u){this.locale=u}convertPlural(u,e){var d=new RegExp("\\d+=","i");if(!e||0===e.length)return"";for(let r=0;r<e.length;r++){let t=e[r];if(d.test(t)){if(parseInt(t.slice(0,t.indexOf("=")),10)===u)return t.slice(t.indexOf("=")+1);e[r]=void 0}}e=e.filter(u=>!!u);let r=this.getPluralForm(u,this.locale);return r=Math.min(r,e.length-1),e[r]}getPluralForm(u,e){const d=new Intl.PluralRules(e),r=d.resolvedOptions().pluralCategories,t=d.select(u);return["zero","one","two","few","many","other"].filter(u=>r.includes(u)).indexOf(t)}convertNumber(u,e){let d=this.digitTransformTable(this.locale),r=String(u),t="";if(!d)return u;if(e){if(parseFloat(u,10)===u)return u;let e=[];for(let u in d)e[d[u]]=u;d=e}for(let u=0;u<r.length;u++)d[r[u]]?t+=d[r[u]]:t+=r[u];return e?parseFloat(t,10):t}convertGrammar(u,e){return u}gender(u,e){if(!e||0===e.length)return"";for(;e.length<2;)e.push(e[e.length-1]);return"male"===u?e[0]:"female"===u?e[1]:3===e.length?e[2]:e[0]}digitTransformTable(u){return!!r[u]&&r[u].split("")}}var a={bs:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="s "+u;break;case"lokativ":u="o "+u}return u}},default:t,dsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},fi:class extends t{convertGrammar(u,e){let d=u.match(/[aou][^äöy]*$/i),r=u;switch(u.match(/wiki$/i)&&(d=!1),u.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(u+="i"),e){case"genitive":u+="n";break;case"elative":u+=d?"sta":"stä";break;case"partitive":u+=d?"a":"ä";break;case"illative":u+=u.slice(-1)+"n";break;case"inessive":u+=d?"ssa":"ssä";break;default:u=r}return u}},ga:class extends t{convertGrammar(u,e){if("ainmlae"===e)switch(u){case"an Domhnach":u="Dé Domhnaigh";break;case"an Luan":u="Dé Luain";break;case"an Mháirt":u="Dé Mháirt";break;case"an Chéadaoin":u="Dé Chéadaoin";break;case"an Déardaoin":u="Déardaoin";break;case"an Aoine":u="Dé hAoine";break;case"an Satharn":u="Dé Sathairn"}return u}},he:class extends t{convertGrammar(u,e){switch(e){case"prefixed":case"תחילית":"ו"===u.slice(0,1)&&"וו"!==u.slice(0,2)&&(u="ו"+u),"ה"===u.slice(0,1)&&(u=u.slice(1)),(u.slice(0,1)<"א"||u.slice(0,1)>"ת")&&(u="־"+u)}return u}},hsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},hu:class extends t{convertGrammar(u,e){switch(e){case"rol":u+="ról";break;case"ba":u+="ba";break;case"k":u+="k"}return u}},hy:class extends t{convertGrammar(u,e){return"genitive"===e&&("ա"===u.slice(-1)?u=u.slice(0,-1)+"այի":"ո"===u.slice(-1)?u=u.slice(0,-1)+"ոյի":"գիրք"===u.slice(-4)?u=u.slice(0,-4)+"գրքի":u+="ի"),u}},la:class extends t{convertGrammar(u,e){switch(e){case"genitive":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"i")).replace(/ommunia$/i,"ommunium")).replace(/a$/i,"ae")).replace(/libri$/i,"librorum")).replace(/nuntii$/i,"nuntiorum")).replace(/tio$/i,"tionis")).replace(/ns$/i,"ntis")).replace(/as$/i,"atis")).replace(/es$/i,"ei");break;case"accusative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"um")).replace(/ommunia$/i,"am")).replace(/a$/i,"ommunia")).replace(/libri$/i,"libros")).replace(/nuntii$/i,"nuntios")).replace(/tio$/i,"tionem")).replace(/ns$/i,"ntem")).replace(/as$/i,"atem")).replace(/es$/i,"em");break;case"ablative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"o")).replace(/ommunia$/i,"ommunibus")).replace(/a$/i,"a")).replace(/libri$/i,"libris")).replace(/nuntii$/i,"nuntiis")).replace(/tio$/i,"tione")).replace(/ns$/i,"nte")).replace(/as$/i,"ate")).replace(/es$/i,"e")}return u}},os:class extends t{convertGrammar(u,e){var d,r,t,a;switch(d="мæ",r="",t="",a="",u.match(/тæ$/i)?(u=u.slice(0,-1),d="æм"):u.match(/[аæеёиоыэюя]$/i)?r="й":u.match(/у$/i)?u.slice(-2,-1).match(/[аæеёиоыэюя]$/i)||(r="й"):u.match(/[бвгджзйклмнопрстфхцчшщьъ]$/i)||(t="-"),e){case"genitive":a=t+r+"ы";break;case"dative":a=t+r+"æн";break;case"allative":a=t+d;break;case"ablative":a="й"===r?t+r+"æ":t+r+"æй";break;case"superessive":a=t+r+"ыл";break;case"equative":a=t+r+"ау";break;case"comitative":a=t+"имæ"}return u+a}},ru:class extends t{convertGrammar(u,e){return"genitive"===e&&("ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ия"===u.slice(-2)?u=u.slice(0,-2)+"ии":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника")),u}},sl:class extends t{convertGrammar(u,e){switch(e){case"mestnik":u="o "+u;break;case"orodnik":u="z "+u}return u}},uk:class extends t{convertGrammar(u,e){switch(e){case"genitive":"ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ія"===u.slice(-2)?u=u.slice(0,-2)+"ії":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника");break;case"accusative":"ія"===u.slice(-2)&&(u=u.slice(0,-2)+"ію")}return u}}};const n=new RegExp("(?:([A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁːˑˠ-ˤˮͰ-ͳͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-҂Ҋ-ԯԱ-Ֆՙ-՟ա-և։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ঀংঃঅ-ঌএঐও-নপ-রলশ-হঽ-ীেৈোৌৎৗড়ঢ়য়-ৡ০-ৱ৴-৺ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ીૉોૌૐૠૡ૦-૰ૹଂଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽାୀେୈୋୌୗଡ଼ଢ଼ୟ-ୡ୦-୷ஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹாிுூெ-ைொ-ௌௐௗ௦-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౚౠౡ౦-౯౿ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊೋೕೖೞೠೡ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ീെ-ൈൊ-ൌൎൗൟ-ൡ൦-൵൹-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-෴ก-ะาำเ-ๆ๏-๛ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆ໐-໙ໜ-ໟༀ-༗༚-༴༶༸༾-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿚က-ာေးျြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃႄႇ-ႌႎ-ႜ႞-ჅჇჍა-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፼ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙿᚁ-ᚚᚠ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះៈ។-៚ៜ០-៩᠐-᠙ᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸ᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧚ᨀ-ᨖᨙᨚ᨞-ᩕᩗᩡᩣᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-ᭋ᭐-᭪᭴-᭼ᮂ-ᮡᮦᮧ᮪ᮮ-ᯥᯧᯪ-ᯬᯮ᯲᯳᯼-ᰫᰴᰵ᰻-᱉ᱍ-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〮〯〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎ㆐-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿕ꀀ-ꒌꓐ-ꘌꘐ-ꘫꙀ-ꙮꚀ-ꚝꚠ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꣽ꤀-ꤥ꤮-ꥆꥒ꥓꥟-ꥼꦃ-ꦲꦴꦵꦺꦻꦽ-꧍ꧏ-꧙꧞-ꧤꧦ-ꧾꨀ-ꨨꨯꨰꨳꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-ꩻꩽ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫫꫮ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭥꭰ-ꯤꯦꯧꯩ-꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]|\ud800[\udc00-\udc0b]|\ud800[\udc0d-\udc26]|\ud800[\udc28-\udc3a]|𐀼|𐀽|\ud800[\udc3f-\udc4d]|\ud800[\udc50-\udc5d]|\ud800[\udc80-\udcfa]|𐄀|𐄂|\ud800[\udd07-\udd33]|\ud800[\udd37-\udd3f]|\ud800[\uddd0-\uddfc]|\ud800[\ude80-\ude9c]|\ud800[\udea0-\uded0]|\ud800[\udf00-\udf23]|\ud800[\udf30-\udf4a]|\ud800[\udf50-\udf75]|\ud800[\udf80-\udf9d]|\ud800[\udf9f-\udfc3]|\ud800[\udfc8-\udfd5]|\ud801[\udc00-\udc9d]|\ud801[\udca0-\udca9]|\ud801[\udd00-\udd27]|\ud801[\udd30-\udd63]|𐕯|\ud801[\ude00-\udf36]|\ud801[\udf40-\udf55]|\ud801[\udf60-\udf67]|𑀀|\ud804[\udc02-\udc37]|\ud804[\udc47-\udc4d]|\ud804[\udc66-\udc6f]|\ud804[\udc82-\udcb2]|𑂷|𑂸|\ud804[\udcbb-\udcc1]|\ud804[\udcd0-\udce8]|\ud804[\udcf0-\udcf9]|\ud804[\udd03-\udd26]|𑄬|\ud804[\udd36-\udd43]|\ud804[\udd50-\udd72]|\ud804[\udd74-\udd76]|\ud804[\udd82-\uddb5]|\ud804[\uddbf-\uddc9]|𑇍|\ud804[\uddd0-\udddf]|\ud804[\udde1-\uddf4]|\ud804[\ude00-\ude11]|\ud804[\ude13-\ude2e]|𑈲|𑈳|𑈵|\ud804[\ude38-\ude3d]|\ud804[\ude80-\ude86]|𑊈|\ud804[\ude8a-\ude8d]|\ud804[\ude8f-\ude9d]|\ud804[\ude9f-\udea9]|\ud804[\udeb0-\udede]|\ud804[\udee0-\udee2]|\ud804[\udef0-\udef9]|𑌂|𑌃|\ud804[\udf05-\udf0c]|𑌏|𑌐|\ud804[\udf13-\udf28]|\ud804[\udf2a-\udf30]|𑌲|𑌳|\ud804[\udf35-\udf39]|\ud804[\udf3d-\udf3f]|\ud804[\udf41-\udf44]|𑍇|𑍈|\ud804[\udf4b-\udf4d]|𑍐|𑍗|\ud804[\udf5d-\udf63]|\ud805[\udc80-\udcb2]|𑒹|\ud805[\udcbb-\udcbe]|𑓁|\ud805[\udcc4-\udcc7]|\ud805[\udcd0-\udcd9]|\ud805[\udd80-\uddb1]|\ud805[\uddb8-\uddbb]|𑖾|\ud805[\uddc1-\udddb]|\ud805[\ude00-\ude32]|𑘻|𑘼|𑘾|\ud805[\ude41-\ude44]|\ud805[\ude50-\ude59]|\ud805[\ude80-\udeaa]|𑚬|𑚮|𑚯|𑚶|\ud805[\udec0-\udec9]|\ud805[\udf00-\udf19]|𑜠|𑜡|𑜦|\ud805[\udf30-\udf3f]|\ud806[\udca0-\udcf2]|𑣿|\ud806[\udec0-\udef8]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e]|\ud809[\udc70-\udc74]|\ud809[\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38]|\ud81a[\ude40-\ude5e]|\ud81a[\ude60-\ude69]|𖩮|𖩯|\ud81a[\uded0-\udeed]|𖫵|\ud81a[\udf00-\udf2f]|\ud81a[\udf37-\udf45]|\ud81a[\udf50-\udf59]|\ud81a[\udf5b-\udf61]|\ud81a[\udf63-\udf77]|\ud81a[\udf7d-\udf8f]|\ud81b[\udf00-\udf44]|\ud81b[\udf50-\udf7e]|\ud81b[\udf93-\udf9f]|𛀀|𛀁|\ud82f[\udc00-\udc6a]|\ud82f[\udc70-\udc7c]|\ud82f[\udc80-\udc88]|\ud82f[\udc90-\udc99]|𛲜|𛲟|\ud834[\udc00-\udcf5]|\ud834[\udd00-\udd26]|\ud834[\udd29-\udd66]|\ud834[\udd6a-\udd72]|𝆃|𝆄|\ud834[\udd8c-\udda9]|\ud834[\uddae-\udde8]|\ud834[\udf60-\udf71]|\ud835[\udc00-\udc54]|\ud835[\udc56-\udc9c]|𝒞|𝒟|𝒢|𝒥|𝒦|\ud835[\udca9-\udcac]|\ud835[\udcae-\udcb9]|𝒻|\ud835[\udcbd-\udcc3]|\ud835[\udcc5-\udd05]|\ud835[\udd07-\udd0a]|\ud835[\udd0d-\udd14]|\ud835[\udd16-\udd1c]|\ud835[\udd1e-\udd39]|\ud835[\udd3b-\udd3e]|\ud835[\udd40-\udd44]|𝕆|\ud835[\udd4a-\udd50]|\ud835[\udd52-\udea5]|\ud835[\udea8-\udeda]|\ud835[\udedc-\udf14]|\ud835[\udf16-\udf4e]|\ud835[\udf50-\udf88]|\ud835[\udf8a-\udfc2]|\ud835[\udfc4-\udfcb]|\ud836[\udc00-\uddff]|\ud836[\ude37-\ude3a]|\ud836[\ude6d-\ude74]|\ud836[\ude76-\ude83]|\ud836[\ude85-\ude8b]|\ud83c[\udd10-\udd2e]|\ud83c[\udd30-\udd69]|\ud83c[\udd70-\udd9a]|\ud83c[\udde6-\ude02]|\ud83c[\ude10-\ude3a]|\ud83c[\ude40-\ude48]|🉐|🉑|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6]|\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34]|\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]|[\udb80-\udbbe][\udc00-\udfff]|\udbbf[\udc00-\udffd]|[\udbc0-\udbfe][\udc00-\udfff]|\udbff[\udc00-\udffd])|([֐־׀׃׆׈-׿߀-ߪߴߵߺ-ࠕࠚࠤࠨ࠮-ࡘ࡜-࢟‏יִײַ-ﬨשׁ-ﭏ؈؋؍؛-ي٭-ٯٱ-ەۥۦۮۯۺ-ܐܒ-ܯ݋-ޥޱ-޿ࢠ-࣢ﭐ-ﴽ﵀-﷏ﷰ-﷼﷾﷿ﹰ-﻾]|\ud802[\udc00-\udd1e]|\ud802[\udd20-\ude00]|𐨄|\ud802[\ude07-\ude0b]|\ud802[\ude10-\ude37]|\ud802[\ude3b-\ude3e]|\ud802[\ude40-\udee4]|\ud802[\udee7-\udf38]|\ud802[\udf40-\udfff]|\ud803[\udc00-\ude5f]|\ud803[\ude7f-\udfff]|\ud83a[\udc00-\udccf]|\ud83a[\udcd7-\udfff]|\ud83b[\udc00-\uddff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\ude00-\udeef]|\ud83b[\udef2-\udeff]))");var c=class{constructor(u){this.locale=u,this.language=new(a[u]||a.default)(u)}emit(u,e){let d,r,t;switch(typeof u){case"string":case"number":d=u;break;case"object":if(r=u.slice(1).map(u=>this.emit(u,e)),t=u[0].toLowerCase(),"function"!=typeof this[t])throw new Error('unknown operation "'+t+'"');d=this[t](r,e);break;case"undefined":d="";break;default:throw new Error("unexpected type in AST: "+typeof u)}return d}concat(u){let e="";return u.forEach(u=>{e+=u}),e}replace(u,e){let d=parseInt(u[0],10);return d<e.length?e[d]:"$"+(d+1)}plural(u){let e=parseFloat(this.language.convertNumber(u[0],10)),d=u.slice(1);return d.length?this.language.convertPlural(e,d):""}gender(u){let e=u[0],d=u.slice(1);return this.language.gender(e,d)}grammar(u){let e=u[0],d=u[1];return d&&e&&this.language.convertGrammar(d,e)}bidi(u){var e=function(u){var e=u.match(n);if(!e)return null;if(void 0===e[2])return"ltr";return"rtl"}(u[0]);return"ltr"===e?"‪"+u[0]+"‬":"rtl"===e?"‫"+u[0]+"‬":u[0]}};function l(u){let e,d,r,t,a,n,c,l,s,i,f,o,h,b,m,p,k,g,v=0;function z(u){return()=>{for(let e=0;e<u.length;e++){let d=u[e]();if(null!==d)return d}return null}}function w(u){let e=v,d=[];for(let r=0;r<u.length;r++){let t=u[r]();if(null===t)return v=e,null;d.push(t)}return d}function y(u,e){return()=>{let d=v,r=[],t=e();for(;null!==t;)r.push(t),t=e();return r.length<u?(v=d,null):r}}function $(e){let d=e.length;return()=>{let r=null;return u.slice(v,v+d)===e&&(r=e,v+=d),r}}function x(e){return()=>{let d=u.slice(v).match(e);return null===d?null:(v+=d[0].length,d[0])}}function j(){let u=w([r,t]);return null===u?null:u[1]}function M(){let u=w([a,n]);return null===u?null:["REPLACE",parseInt(u[1],10)-1]}var O,S;function G(){let u=w([e,y(0,k)]);if(null===u)return null;let d=u[1];return d.length>1?["CONCAT"].concat(d):d[0]}function P(){let u=w([h,d,M]);return null===u?null:[u[0],u[2]]}function q(){let u=w([h,d,k]);return null===u?null:[u[0],u[2]]}function F(){let u=w([b,o,m]);return null===u?null:u[1]}if(e=$("|"),d=$(":"),r=$("\\"),t=x(/^./),a=$("$"),n=x(/^\d+/),c=x(/^[^{}[\]$\\]/),l=x(/^[^{}[\]$\\|]/),s=x(/^[^{}[\]$\s]/),z([j,s]),i=z([j,l]),f=z([j,c]),O=x(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),S=function(u){return u.toString()},h=()=>{let u=O();return null===u?null:S(u)},o=z([function(){let u=w([z([P,q]),y(0,G)]);return null===u?null:u[0].concat(u[1])},function(){let u=w([h,y(0,G)]);return null===u?null:[u[0]].concat(u[1])}]),b=$("{{"),m=$("}}"),p=z([F,M,function(){let u=y(1,f)();return null===u?null:u.join("")}]),k=z([F,M,function(){let u=y(1,i)();return null===u?null:u.join("")}]),g=function(){let u=y(0,p)();return null===u?null:["CONCAT"].concat(u)}(),null===g||v!==u.length)throw new Error("Parse error at position "+v.toString()+" in input: "+u);return g}class s{constructor(u){this.locale=u,this.emitter=new c(this.locale)}parse(u,e){if(u.includes("{{")){let d=new l(u);return this.emitter.emit(d,e)}return this.simpleParse(u,e)}simpleParse(u,e){return u.replace(/\$(\d+)/g,(u,d)=>{let r=parseInt(d,10)-1;return void 0!==e[r]?e[r]:"$"+d})}}class i{constructor(u){this.sourceMap=new Map}load(u,e){if("object"!=typeof u)throw Error("Invalid message source. Must be an object");if(e){if(!/^[a-zA-Z0-9-]+$/.test(e))throw Error(`Invalid locale ${e}`);for(let d in u)if(0!==d.indexOf("@")){if("object"==typeof u[d])return this.load(u);if("string"!=typeof u[d])throw Error(`Invalid message for message ${d} in ${e} locale.`);break}this.sourceMap.has(e)?this.sourceMap.set(e,Object.assign(this.sourceMap.get(e),u)):this.sourceMap.set(e,u)}else for(e in u)this.load(u[e],e)}getMessage(u,e){let d=this.sourceMap.get(e);return d?d[u]:null}hasLocale(u){return this.sourceMap.has(u)}}var f=d(1);d.d(e,"default",(function(){return o}));class o{constructor(u,e){e=e||{},this.locale=u,this.parser=new s(this.locale),this.messageStore=new i,e.messages&&this.load(e.messages,this.locale),this.finalFallback=e.finalFallback||"en"}load(u,e){return this.messageStore.load(u,e||this.locale)}i18n(u,...e){return this.parser.parse(this.getMessage(u),e)}setLocale(u){this.locale=u,this.parser=new s(this.locale)}getFallbackLocales(){return[...f[this.locale]||[],this.finalFallback]}getMessage(u){let e=this.locale,d=0;const r=this.getFallbackLocales(this.locale);for(;e;){let t=e.split("-"),a=t.length;do{let e=t.slice(0,a).join("-"),d=this.messageStore.getMessage(u,e);if(d)return d;a--}while(a);e=r[d],d++}return u}}}]).default}));
//# sourceMappingURL=banana-i18n.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css":
/*!*********************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css":
/*!*******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".iiif-av-component {\n  position: relative;\n  overflow: hidden;\n  background: #000;\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  font-family: \"Open Sans\";\n  outline: none;\n}\n\n.iiif-av-component .player {\n  width: 100%;\n  height: 100%;\n}\n\n.iiif-av-component .player--loading {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-image: url(data:image/gif;base64,R0lGODlhFAAUAMQSAGxsbFpaWnh4eEZGRhwcHD8/PzU1NVJSUisrKwgICH5+fkxMTGNjYyUlJXJycnt7exISEoCAgAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1OTFjMzhjNS0xZmQyLTg5NGUtYjMyZi1kYTNkZWQ5NmQ5YjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzc0OEE1NDA5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzc0OEE1M0Y5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTkxYzM4YzUtMWZkMi04OTRlLWIzMmYtZGEzZGVkOTZkOWIzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU5MWMzOGM1LTFmZDItODk0ZS1iMzJmLWRhM2RlZDk2ZDliMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkAABIALAAAAAAUABQAAAVAoCSOZGmeaKqmSeu+LRpEdG0Hsq1H+DnvtZ7pB+TlikYfMjlcCktE4JMU3U1HVd1VlL2hCIiweExYmc/otHoUAgAh+QQJAAASACwAAAAAFAAUAAAFWqAkjmRpnmgqEgyhnkykHNA7GlEePUXyJg6dzoFQDYTI1gnyQCIVC1PA6YySGlSkwEcCZIWGEu6bA5gSCwW5gWJlAy+EV6io/QrN3MA2ShwUW3wkBGyChocSIQAh+QQFAAASACwAAAAAFAAUAAAFXKAkjmRpnmhaJsuimoYQKcQrNkCkR8wLBbsgApUYKIJBR8LUcCCfBRPh+Aw+IKZDFXkwQR7bHc1UCO96q1yYUTMhtg6DioFUDJaq6S6AtUkWEQANfiMJcoSIiSUhADs=);\n}\n\n.iiif-av-component .poster-container {\n  position: absolute;\n  width: 100%;\n  top: 0;\n}\n\n.iiif-av-component .poster-container .poster-image {\n  position: absolute;\n  background-color: #000;\n  background-size: contain;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  cursor: pointer;\n}\n\n.iiif-av-component .poster-container .poster-image .btn {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n\n.iiif-av-component .canvas-container {\n  position: relative;\n  width: 100%;\n  height: 100% !important;\n}\n\n.iiif-av-component .canvas-container video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.iiif-av-component .canvas-container .working-indicator {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 10000;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  text-align: center;\n  padding-top: 30%;\n  box-sizing: border-box;\n  font-size: 20px;\n}\n\n.iiif-av-component .canvas-container .anno {\n  position: absolute;\n  background: transparent;\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n}\n\n.iiif-av-component .range-timeline-container {\n  background: #14a4c3;\n  height: 4px;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  background: rgba(255,255,255,0.4);\n  height: 5px;\n  width: 0px;\n  border: none;\n  cursor: pointer;\n}\n\n.iiif-av-component .hover-preview {\n  position: absolute;\n  z-index: 1;\n  padding-bottom: 7px;\n}\n\n.iiif-av-component .hover-preview .label {\n  background: rgba(66, 66, 66, 0.85);\n  height: 18px;\n  padding: 5px;\n  color: #fff;\n  line-height: 8px;\n}\n\n.iiif-av-component .hover-preview .pointer {\n  height: 6px;\n  position: relative;\n}\n\n.iiif-av-component .hover-preview .pointer .arrow {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  border-top: 6px solid rgba(66, 66, 66, 0.85);\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n}\n\n.iiif-av-component .hover-highlight {\n  position: absolute;\n  background: #e2e2e2;\n  height: 4px;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  border-radius: 0;\n}\n\n.iiif-av-component .canvas-timeline-container .duration-highlight {\n  position: absolute;\n  background: #14a4c3;\n  height: 4px;\n}\n\n.iiif-av-component .timeline-item-container {\n  position: relative;\n  width: 100%;\n  min-height: 6px;\n  background: #cfcfcf;\n  top: 0px;\n  padding-bottom: 3px;\n}\n\n.iiif-av-component .timeline-item-container .line-wrapper {\n  margin-top: 2px;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item {\n  position: relative;\n  height: 6px;\n  box-sizing: border-box;\n  border-right: 1px solid #efefef;\n  border-left: 1px solid #efefef;\n  background: #777;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item.active {\n  background: #333;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\nbutton:focus {\n  outline:0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .controls-container {\n  overflow: hidden;\n  margin-top: 5px;\n  height: 36px;\n}\n\n.iiif-av-component .controls-container .btn {\n  float: left;\n}\n\n.iiif-av-component .controls-container .pause-button {\n  margin-right: 14px;\n}\n\n.iiif-av-component .controls-container .time-display {\n  float: left;\n  padding: 8px 0px 0 10px;\n  color: rgba(255, 255, 255, 0.5);\n  min-width: 150px;\n  font-size: 14px;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-time {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-duration {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .volume {\n  float: right;\n  overflow: hidden;\n  width: 140px;\n}\n\n.iiif-av-component .controls-container .volume .volume-mute {\n  float: left;\n  padding-left: 0px;\n  padding-right: 2px;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider {\n  float: left;\n  margin-top: 12px;\n  width: 84px;\n  height: 5px;\n  border: none;\n  border-radius: 0;\n  background-color: rgba(255,255,255,0.4);  \n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle {\n  top: 0px;\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: -4px;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 1;\n  cursor: pointer;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle:focus {\n  outline: none;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .btn {\n  font-size: 0;\n  background: 0 0;\n  border: 0;\n  box-shadow: none;\n  padding: 0 5px 0 0;\n}\n\n.iiif-av-component .btn i {\n  background-repeat: no-repeat;\n  display: inline-block;\n  height: 30px;\n  vertical-align: middle;\n  width: 25px;\n  cursor: pointer;\n  font-size: 0;\n}\n\n.iiif-av-component .av-icon-mute.on {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.on:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.off {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcKDQk0smvw8gAAAOlJREFUSMftlTFKBEEQRd+fXRdBENlATDTyCoJHEA29gxcyNzPXzFSMBTOvYKRgoCDMPgMblGWDYZwZA+dF1VDVv7qqqIaRkZGOyG8vUOfAO7AOkOSl96zVU/VC3SjnagjRY7+4ahNftRQ9Aa7L8a3NHdOGQgfADHgGDoHzVbFqktiZMHADzIHFiirZZ6mrhv7ptcdd8GfCTXt8D2wDr8AusNfXQlqe1ok6KfaO+uA3lz/8qk5LnaROUhf7CTgC7pZfmWQxxObaVB/V28EHRN1Xz9St0o7ZYL9TSWAKrAF1ko/x0x8Z+R98AhcTb2KBHKCUAAAAAElFTkSuQmCC\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-previous {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCgq14wdqwAAAJ9JREFUSMft1TsOQUEUgOETpUYpcmMFEtuwEyvR2oLeQpQ6m6AiEY/Gp0CDK5L7Epm/mzmT+c/JzJyJSCQSdYI1Tuh9WNPGpGzx0Y0sJ97BAmoTo4/VPb77ds9WwYRGEbGMiMFjqvKKMfbKtipx9z6eek/p4gMuGGImn9LFe5wx95n/qbixM278VmfP7xib2sVFOtfP9+pmfqdEIvHTXAHKs7eDn/hqpQAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-play.play {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.play:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-play.pause {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23D6D9DD'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.pause:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23FFFFFF'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-next {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCkVePEB1wAAAKJJREFUSMftlbENwjAQRb8iqqSgRFHEBEiswRw0TJI2K7ANJR1LQJU0gISUR+MKSJTCOhzpXuPirHu2zz5LjuNYAtRAPhIvgSdwjS0GOAHLgXgV5jxii7uQ+AKsY4izqe4wbiSdgZ1VjVu+OVgc9S8xQBPiK2sxwBHYAj1wn5pzEWFde0mFpJekPvkdz7LG5rf69vmOZ9W5ku/V//mdHMdJmjdBx46OkJJ4sAAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-expand.expand {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-expand.collapse {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-more {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 13px;\n}\n\n.iiif-av-component .av-icon-more:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n}\n\n.iiif-av-component .av-icon-fullscreen {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n  float: right;\n}\n\n.iiif-av-component .av-icon-fullscreen:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-subtitles {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23D6D9DD' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-subtitles:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23FFFFFF' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.errormessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playwrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playcircle {\n  border-radius: 50%;\n  background-color: rgba(50,50,50,0.75);\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  cursor: pointer;\n  width: 15vh;\n  height: 15vh;\n  background-size: 8vh 8vh;\n  background-position: 66% 50%;\n  background-repeat: no-repeat;\n}\n\n.playcircle:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .options-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  padding: 0 2.5% 0 2.5%;\n  background: linear-gradient(0deg, rgba(50,50,50,0.75) 0%, rgba(29,29,29,0) 100%);\n}\n\n.iiif-av-component .canvas-timeline-container {\n  width: auto !important;\n}\n\n.iiif-av-component .loading-progress {\n  position: absolute;\n  height: 5px;\n  background-color: #CCCCCC;\n  box-shadow: inset 0 -1px 0 0 rgba(255,255,255,0.15), inset 0 1px 0 0 rgba(255,255,255,0.15);\n}\n\n.btn[title=Previous] {\n  display: none;\n}\n\n.btn[title=Next] {\n  display: none;\n}\n\n.btn.button-fullscreen {\n  float: right !important;\n}\n\n.btn[data-name=More] {\n  float: right !important;\n}\n\n.btn[data-name=Subtitles] {\n  display: none;\n  float: right !important;\n}\n\n.moremenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.moremenu-option {\n  cursor: pointer;\n}\n\n.subtitlemenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.subtitlemenu-option {\n  cursor: pointer;\n}\n\n.iiif-av-component .audio-background {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/index.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/index.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "#eups-content-wrapper {\n    float: left;\n    max-height: inherit;\n    max-width: inherit;\n}\n\n.eups-player {\n    height: 100%;\n    width: 100% !important;\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.editor {\n    width: 60%;\n}\n\n.no-editor {\n    width: 100%;\n    float: left;\n}\n\n#eups-editor-wrapper {\n    float: left;\n}\n\n#eups-annotationeditor {\n    padding-left: 5%;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/core.css":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/core.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/slider.css":
/*!*******************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/slider.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/ui/effect.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/effect.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Effects Core
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Extends the internal jQuery effects. Includes morphing and easing. Required by all other effects.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/category/effects-core/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var dataSpace = "ui-effects-",
	dataSpaceStyle = "ui-effects-style",
	dataSpaceAnimated = "ui-effects-animated",

	// Create a local jQuery because jQuery Color relies on it and the
	// global may not exist with AMD and a custom build (#10199)
	jQuery = $;

$.effects = {
	effect: {}
};

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
( function( jQuery, undefined ) {

	var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor " +
		"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",

	// Plusequals test for += 100 -= 100
	rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,

	// A set of RE's that can match strings and generate color tuples.
	stringParsers = [ {
			re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ],
					execResult[ 3 ],
					execResult[ 4 ]
				];
			}
		}, {
			re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ] * 2.55,
					execResult[ 2 ] * 2.55,
					execResult[ 3 ] * 2.55,
					execResult[ 4 ]
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ], 16 )
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ] + execResult[ 3 ], 16 )
				];
			}
		}, {
			re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			space: "hsla",
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ] / 100,
					execResult[ 3 ] / 100,
					execResult[ 4 ]
				];
			}
		} ],

	// JQuery.Color( )
	color = jQuery.Color = function( color, green, blue, alpha ) {
		return new jQuery.Color.fn.parse( color, green, blue, alpha );
	},
	spaces = {
		rgba: {
			props: {
				red: {
					idx: 0,
					type: "byte"
				},
				green: {
					idx: 1,
					type: "byte"
				},
				blue: {
					idx: 2,
					type: "byte"
				}
			}
		},

		hsla: {
			props: {
				hue: {
					idx: 0,
					type: "degrees"
				},
				saturation: {
					idx: 1,
					type: "percent"
				},
				lightness: {
					idx: 2,
					type: "percent"
				}
			}
		}
	},
	propTypes = {
		"byte": {
			floor: true,
			max: 255
		},
		"percent": {
			max: 1
		},
		"degrees": {
			mod: 360,
			floor: true
		}
	},
	support = color.support = {},

	// Element for support tests
	supportElem = jQuery( "<p>" )[ 0 ],

	// Colors = jQuery.Color.names
	colors,

	// Local aliases of functions called often
	each = jQuery.each;

// Determine rgba support immediately
supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
support.rgba = supportElem.style.backgroundColor.indexOf( "rgba" ) > -1;

// Define cache name and alpha properties
// for rgba and hsla spaces
each( spaces, function( spaceName, space ) {
	space.cache = "_" + spaceName;
	space.props.alpha = {
		idx: 3,
		type: "percent",
		def: 1
	};
} );

function clamp( value, prop, allowEmpty ) {
	var type = propTypes[ prop.type ] || {};

	if ( value == null ) {
		return ( allowEmpty || !prop.def ) ? null : prop.def;
	}

	// ~~ is an short way of doing floor for positive numbers
	value = type.floor ? ~~value : parseFloat( value );

	// IE will pass in empty strings as value for alpha,
	// which will hit this case
	if ( isNaN( value ) ) {
		return prop.def;
	}

	if ( type.mod ) {

		// We add mod before modding to make sure that negatives values
		// get converted properly: -10 -> 350
		return ( value + type.mod ) % type.mod;
	}

	// For now all property types without mod have min and max
	return 0 > value ? 0 : type.max < value ? type.max : value;
}

function stringParse( string ) {
	var inst = color(),
		rgba = inst._rgba = [];

	string = string.toLowerCase();

	each( stringParsers, function( i, parser ) {
		var parsed,
			match = parser.re.exec( string ),
			values = match && parser.parse( match ),
			spaceName = parser.space || "rgba";

		if ( values ) {
			parsed = inst[ spaceName ]( values );

			// If this was an rgba parse the assignment might happen twice
			// oh well....
			inst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];
			rgba = inst._rgba = parsed._rgba;

			// Exit each( stringParsers ) here because we matched
			return false;
		}
	} );

	// Found a stringParser that handled it
	if ( rgba.length ) {

		// If this came from a parsed string, force "transparent" when alpha is 0
		// chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
		if ( rgba.join() === "0,0,0,0" ) {
			jQuery.extend( rgba, colors.transparent );
		}
		return inst;
	}

	// Named colors
	return colors[ string ];
}

color.fn = jQuery.extend( color.prototype, {
	parse: function( red, green, blue, alpha ) {
		if ( red === undefined ) {
			this._rgba = [ null, null, null, null ];
			return this;
		}
		if ( red.jquery || red.nodeType ) {
			red = jQuery( red ).css( green );
			green = undefined;
		}

		var inst = this,
			type = jQuery.type( red ),
			rgba = this._rgba = [];

		// More than 1 argument specified - assume ( red, green, blue, alpha )
		if ( green !== undefined ) {
			red = [ red, green, blue, alpha ];
			type = "array";
		}

		if ( type === "string" ) {
			return this.parse( stringParse( red ) || colors._default );
		}

		if ( type === "array" ) {
			each( spaces.rgba.props, function( key, prop ) {
				rgba[ prop.idx ] = clamp( red[ prop.idx ], prop );
			} );
			return this;
		}

		if ( type === "object" ) {
			if ( red instanceof color ) {
				each( spaces, function( spaceName, space ) {
					if ( red[ space.cache ] ) {
						inst[ space.cache ] = red[ space.cache ].slice();
					}
				} );
			} else {
				each( spaces, function( spaceName, space ) {
					var cache = space.cache;
					each( space.props, function( key, prop ) {

						// If the cache doesn't exist, and we know how to convert
						if ( !inst[ cache ] && space.to ) {

							// If the value was null, we don't need to copy it
							// if the key was alpha, we don't need to copy it either
							if ( key === "alpha" || red[ key ] == null ) {
								return;
							}
							inst[ cache ] = space.to( inst._rgba );
						}

						// This is the only case where we allow nulls for ALL properties.
						// call clamp with alwaysAllowEmpty
						inst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );
					} );

					// Everything defined but alpha?
					if ( inst[ cache ] &&
							jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {

						// Use the default of 1
						inst[ cache ][ 3 ] = 1;
						if ( space.from ) {
							inst._rgba = space.from( inst[ cache ] );
						}
					}
				} );
			}
			return this;
		}
	},
	is: function( compare ) {
		var is = color( compare ),
			same = true,
			inst = this;

		each( spaces, function( _, space ) {
			var localCache,
				isCache = is[ space.cache ];
			if ( isCache ) {
				localCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];
				each( space.props, function( _, prop ) {
					if ( isCache[ prop.idx ] != null ) {
						same = ( isCache[ prop.idx ] === localCache[ prop.idx ] );
						return same;
					}
				} );
			}
			return same;
		} );
		return same;
	},
	_space: function() {
		var used = [],
			inst = this;
		each( spaces, function( spaceName, space ) {
			if ( inst[ space.cache ] ) {
				used.push( spaceName );
			}
		} );
		return used.pop();
	},
	transition: function( other, distance ) {
		var end = color( other ),
			spaceName = end._space(),
			space = spaces[ spaceName ],
			startColor = this.alpha() === 0 ? color( "transparent" ) : this,
			start = startColor[ space.cache ] || space.to( startColor._rgba ),
			result = start.slice();

		end = end[ space.cache ];
		each( space.props, function( key, prop ) {
			var index = prop.idx,
				startValue = start[ index ],
				endValue = end[ index ],
				type = propTypes[ prop.type ] || {};

			// If null, don't override start value
			if ( endValue === null ) {
				return;
			}

			// If null - use end
			if ( startValue === null ) {
				result[ index ] = endValue;
			} else {
				if ( type.mod ) {
					if ( endValue - startValue > type.mod / 2 ) {
						startValue += type.mod;
					} else if ( startValue - endValue > type.mod / 2 ) {
						startValue -= type.mod;
					}
				}
				result[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );
			}
		} );
		return this[ spaceName ]( result );
	},
	blend: function( opaque ) {

		// If we are already opaque - return ourself
		if ( this._rgba[ 3 ] === 1 ) {
			return this;
		}

		var rgb = this._rgba.slice(),
			a = rgb.pop(),
			blend = color( opaque )._rgba;

		return color( jQuery.map( rgb, function( v, i ) {
			return ( 1 - a ) * blend[ i ] + a * v;
		} ) );
	},
	toRgbaString: function() {
		var prefix = "rgba(",
			rgba = jQuery.map( this._rgba, function( v, i ) {
				return v == null ? ( i > 2 ? 1 : 0 ) : v;
			} );

		if ( rgba[ 3 ] === 1 ) {
			rgba.pop();
			prefix = "rgb(";
		}

		return prefix + rgba.join() + ")";
	},
	toHslaString: function() {
		var prefix = "hsla(",
			hsla = jQuery.map( this.hsla(), function( v, i ) {
				if ( v == null ) {
					v = i > 2 ? 1 : 0;
				}

				// Catch 1 and 2
				if ( i && i < 3 ) {
					v = Math.round( v * 100 ) + "%";
				}
				return v;
			} );

		if ( hsla[ 3 ] === 1 ) {
			hsla.pop();
			prefix = "hsl(";
		}
		return prefix + hsla.join() + ")";
	},
	toHexString: function( includeAlpha ) {
		var rgba = this._rgba.slice(),
			alpha = rgba.pop();

		if ( includeAlpha ) {
			rgba.push( ~~( alpha * 255 ) );
		}

		return "#" + jQuery.map( rgba, function( v ) {

			// Default to 0 when nulls exist
			v = ( v || 0 ).toString( 16 );
			return v.length === 1 ? "0" + v : v;
		} ).join( "" );
	},
	toString: function() {
		return this._rgba[ 3 ] === 0 ? "transparent" : this.toRgbaString();
	}
} );
color.fn.parse.prototype = color.fn;

// Hsla conversions adapted from:
// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021

function hue2rgb( p, q, h ) {
	h = ( h + 1 ) % 1;
	if ( h * 6 < 1 ) {
		return p + ( q - p ) * h * 6;
	}
	if ( h * 2 < 1 ) {
		return q;
	}
	if ( h * 3 < 2 ) {
		return p + ( q - p ) * ( ( 2 / 3 ) - h ) * 6;
	}
	return p;
}

spaces.hsla.to = function( rgba ) {
	if ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {
		return [ null, null, null, rgba[ 3 ] ];
	}
	var r = rgba[ 0 ] / 255,
		g = rgba[ 1 ] / 255,
		b = rgba[ 2 ] / 255,
		a = rgba[ 3 ],
		max = Math.max( r, g, b ),
		min = Math.min( r, g, b ),
		diff = max - min,
		add = max + min,
		l = add * 0.5,
		h, s;

	if ( min === max ) {
		h = 0;
	} else if ( r === max ) {
		h = ( 60 * ( g - b ) / diff ) + 360;
	} else if ( g === max ) {
		h = ( 60 * ( b - r ) / diff ) + 120;
	} else {
		h = ( 60 * ( r - g ) / diff ) + 240;
	}

	// Chroma (diff) == 0 means greyscale which, by definition, saturation = 0%
	// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)
	if ( diff === 0 ) {
		s = 0;
	} else if ( l <= 0.5 ) {
		s = diff / add;
	} else {
		s = diff / ( 2 - add );
	}
	return [ Math.round( h ) % 360, s, l, a == null ? 1 : a ];
};

spaces.hsla.from = function( hsla ) {
	if ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {
		return [ null, null, null, hsla[ 3 ] ];
	}
	var h = hsla[ 0 ] / 360,
		s = hsla[ 1 ],
		l = hsla[ 2 ],
		a = hsla[ 3 ],
		q = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,
		p = 2 * l - q;

	return [
		Math.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),
		Math.round( hue2rgb( p, q, h ) * 255 ),
		Math.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),
		a
	];
};

each( spaces, function( spaceName, space ) {
	var props = space.props,
		cache = space.cache,
		to = space.to,
		from = space.from;

	// Makes rgba() and hsla()
	color.fn[ spaceName ] = function( value ) {

		// Generate a cache for this space if it doesn't exist
		if ( to && !this[ cache ] ) {
			this[ cache ] = to( this._rgba );
		}
		if ( value === undefined ) {
			return this[ cache ].slice();
		}

		var ret,
			type = jQuery.type( value ),
			arr = ( type === "array" || type === "object" ) ? value : arguments,
			local = this[ cache ].slice();

		each( props, function( key, prop ) {
			var val = arr[ type === "object" ? key : prop.idx ];
			if ( val == null ) {
				val = local[ prop.idx ];
			}
			local[ prop.idx ] = clamp( val, prop );
		} );

		if ( from ) {
			ret = color( from( local ) );
			ret[ cache ] = local;
			return ret;
		} else {
			return color( local );
		}
	};

	// Makes red() green() blue() alpha() hue() saturation() lightness()
	each( props, function( key, prop ) {

		// Alpha is included in more than one space
		if ( color.fn[ key ] ) {
			return;
		}
		color.fn[ key ] = function( value ) {
			var vtype = jQuery.type( value ),
				fn = ( key === "alpha" ? ( this._hsla ? "hsla" : "rgba" ) : spaceName ),
				local = this[ fn ](),
				cur = local[ prop.idx ],
				match;

			if ( vtype === "undefined" ) {
				return cur;
			}

			if ( vtype === "function" ) {
				value = value.call( this, cur );
				vtype = jQuery.type( value );
			}
			if ( value == null && prop.empty ) {
				return this;
			}
			if ( vtype === "string" ) {
				match = rplusequals.exec( value );
				if ( match ) {
					value = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === "+" ? 1 : -1 );
				}
			}
			local[ prop.idx ] = value;
			return this[ fn ]( local );
		};
	} );
} );

// Add cssHook and .fx.step function for each named hook.
// accept a space separated string of properties
color.hook = function( hook ) {
	var hooks = hook.split( " " );
	each( hooks, function( i, hook ) {
		jQuery.cssHooks[ hook ] = {
			set: function( elem, value ) {
				var parsed, curElem,
					backgroundColor = "";

				if ( value !== "transparent" && ( jQuery.type( value ) !== "string" ||
						( parsed = stringParse( value ) ) ) ) {
					value = color( parsed || value );
					if ( !support.rgba && value._rgba[ 3 ] !== 1 ) {
						curElem = hook === "backgroundColor" ? elem.parentNode : elem;
						while (
							( backgroundColor === "" || backgroundColor === "transparent" ) &&
							curElem && curElem.style
						) {
							try {
								backgroundColor = jQuery.css( curElem, "backgroundColor" );
								curElem = curElem.parentNode;
							} catch ( e ) {
							}
						}

						value = value.blend( backgroundColor && backgroundColor !== "transparent" ?
							backgroundColor :
							"_default" );
					}

					value = value.toRgbaString();
				}
				try {
					elem.style[ hook ] = value;
				} catch ( e ) {

					// Wrapped to prevent IE from throwing errors on "invalid" values like
					// 'auto' or 'inherit'
				}
			}
		};
		jQuery.fx.step[ hook ] = function( fx ) {
			if ( !fx.colorInit ) {
				fx.start = color( fx.elem, hook );
				fx.end = color( fx.end );
				fx.colorInit = true;
			}
			jQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );
		};
	} );

};

color.hook( stepHooks );

jQuery.cssHooks.borderColor = {
	expand: function( value ) {
		var expanded = {};

		each( [ "Top", "Right", "Bottom", "Left" ], function( i, part ) {
			expanded[ "border" + part + "Color" ] = value;
		} );
		return expanded;
	}
};

// Basic color names only.
// Usage of any of the other color names requires adding yourself or including
// jquery.color.svg-names.js.
colors = jQuery.Color.names = {

	// 4.1. Basic color keywords
	aqua: "#00ffff",
	black: "#000000",
	blue: "#0000ff",
	fuchsia: "#ff00ff",
	gray: "#808080",
	green: "#008000",
	lime: "#00ff00",
	maroon: "#800000",
	navy: "#000080",
	olive: "#808000",
	purple: "#800080",
	red: "#ff0000",
	silver: "#c0c0c0",
	teal: "#008080",
	white: "#ffffff",
	yellow: "#ffff00",

	// 4.2.3. "transparent" color keyword
	transparent: [ null, null, null, 0 ],

	_default: "#ffffff"
};

} )( jQuery );

/******************************************************************************/
/****************************** CLASS ANIMATIONS ******************************/
/******************************************************************************/
( function() {

var classAnimationActions = [ "add", "remove", "toggle" ],
	shorthandStyles = {
		border: 1,
		borderBottom: 1,
		borderColor: 1,
		borderLeft: 1,
		borderRight: 1,
		borderTop: 1,
		borderWidth: 1,
		margin: 1,
		padding: 1
	};

$.each(
	[ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ],
	function( _, prop ) {
		$.fx.step[ prop ] = function( fx ) {
			if ( fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {
				jQuery.style( fx.elem, prop, fx.end );
				fx.setAttr = true;
			}
		};
	}
);

function getElementStyles( elem ) {
	var key, len,
		style = elem.ownerDocument.defaultView ?
			elem.ownerDocument.defaultView.getComputedStyle( elem, null ) :
			elem.currentStyle,
		styles = {};

	if ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {
		len = style.length;
		while ( len-- ) {
			key = style[ len ];
			if ( typeof style[ key ] === "string" ) {
				styles[ $.camelCase( key ) ] = style[ key ];
			}
		}

	// Support: Opera, IE <9
	} else {
		for ( key in style ) {
			if ( typeof style[ key ] === "string" ) {
				styles[ key ] = style[ key ];
			}
		}
	}

	return styles;
}

function styleDifference( oldStyle, newStyle ) {
	var diff = {},
		name, value;

	for ( name in newStyle ) {
		value = newStyle[ name ];
		if ( oldStyle[ name ] !== value ) {
			if ( !shorthandStyles[ name ] ) {
				if ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {
					diff[ name ] = value;
				}
			}
		}
	}

	return diff;
}

// Support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

$.effects.animateClass = function( value, duration, easing, callback ) {
	var o = $.speed( duration, easing, callback );

	return this.queue( function() {
		var animated = $( this ),
			baseClass = animated.attr( "class" ) || "",
			applyClassChange,
			allAnimations = o.children ? animated.find( "*" ).addBack() : animated;

		// Map the animated objects to store the original styles.
		allAnimations = allAnimations.map( function() {
			var el = $( this );
			return {
				el: el,
				start: getElementStyles( this )
			};
		} );

		// Apply class change
		applyClassChange = function() {
			$.each( classAnimationActions, function( i, action ) {
				if ( value[ action ] ) {
					animated[ action + "Class" ]( value[ action ] );
				}
			} );
		};
		applyClassChange();

		// Map all animated objects again - calculate new styles and diff
		allAnimations = allAnimations.map( function() {
			this.end = getElementStyles( this.el[ 0 ] );
			this.diff = styleDifference( this.start, this.end );
			return this;
		} );

		// Apply original class
		animated.attr( "class", baseClass );

		// Map all animated objects again - this time collecting a promise
		allAnimations = allAnimations.map( function() {
			var styleInfo = this,
				dfd = $.Deferred(),
				opts = $.extend( {}, o, {
					queue: false,
					complete: function() {
						dfd.resolve( styleInfo );
					}
				} );

			this.el.animate( this.diff, opts );
			return dfd.promise();
		} );

		// Once all animations have completed:
		$.when.apply( $, allAnimations.get() ).done( function() {

			// Set the final class
			applyClassChange();

			// For each animated element,
			// clear all css properties that were animated
			$.each( arguments, function() {
				var el = this.el;
				$.each( this.diff, function( key ) {
					el.css( key, "" );
				} );
			} );

			// This is guarnteed to be there if you use jQuery.speed()
			// it also handles dequeuing the next anim...
			o.complete.call( animated[ 0 ] );
		} );
	} );
};

$.fn.extend( {
	addClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return speed ?
				$.effects.animateClass.call( this,
					{ add: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.addClass ),

	removeClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return arguments.length > 1 ?
				$.effects.animateClass.call( this,
					{ remove: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.removeClass ),

	toggleClass: ( function( orig ) {
		return function( classNames, force, speed, easing, callback ) {
			if ( typeof force === "boolean" || force === undefined ) {
				if ( !speed ) {

					// Without speed parameter
					return orig.apply( this, arguments );
				} else {
					return $.effects.animateClass.call( this,
						( force ? { add: classNames } : { remove: classNames } ),
						speed, easing, callback );
				}
			} else {

				// Without force parameter
				return $.effects.animateClass.call( this,
					{ toggle: classNames }, force, speed, easing );
			}
		};
	} )( $.fn.toggleClass ),

	switchClass: function( remove, add, speed, easing, callback ) {
		return $.effects.animateClass.call( this, {
			add: add,
			remove: remove
		}, speed, easing, callback );
	}
} );

} )();

/******************************************************************************/
/*********************************** EFFECTS **********************************/
/******************************************************************************/

( function() {

if ( $.expr && $.expr.filters && $.expr.filters.animated ) {
	$.expr.filters.animated = ( function( orig ) {
		return function( elem ) {
			return !!$( elem ).data( dataSpaceAnimated ) || orig( elem );
		};
	} )( $.expr.filters.animated );
}

if ( $.uiBackCompat !== false ) {
	$.extend( $.effects, {

		// Saves a set of properties in a data storage
		save: function( element, set ) {
			var i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					element.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );
				}
			}
		},

		// Restores a set of previously saved properties from a data storage
		restore: function( element, set ) {
			var val, i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					val = element.data( dataSpace + set[ i ] );
					element.css( set[ i ], val );
				}
			}
		},

		setMode: function( el, mode ) {
			if ( mode === "toggle" ) {
				mode = el.is( ":hidden" ) ? "show" : "hide";
			}
			return mode;
		},

		// Wraps the element around a wrapper that copies position properties
		createWrapper: function( element ) {

			// If the element is already wrapped, return it
			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				return element.parent();
			}

			// Wrap the element
			var props = {
					width: element.outerWidth( true ),
					height: element.outerHeight( true ),
					"float": element.css( "float" )
				},
				wrapper = $( "<div></div>" )
					.addClass( "ui-effects-wrapper" )
					.css( {
						fontSize: "100%",
						background: "transparent",
						border: "none",
						margin: 0,
						padding: 0
					} ),

				// Store the size in case width/height are defined in % - Fixes #5245
				size = {
					width: element.width(),
					height: element.height()
				},
				active = document.activeElement;

			// Support: Firefox
			// Firefox incorrectly exposes anonymous content
			// https://bugzilla.mozilla.org/show_bug.cgi?id=561664
			try {
				active.id;
			} catch ( e ) {
				active = document.body;
			}

			element.wrap( wrapper );

			// Fixes #7595 - Elements lose focus when wrapped.
			if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
				$( active ).trigger( "focus" );
			}

			// Hotfix for jQuery 1.4 since some change in wrap() seems to actually
			// lose the reference to the wrapped element
			wrapper = element.parent();

			// Transfer positioning properties to the wrapper
			if ( element.css( "position" ) === "static" ) {
				wrapper.css( { position: "relative" } );
				element.css( { position: "relative" } );
			} else {
				$.extend( props, {
					position: element.css( "position" ),
					zIndex: element.css( "z-index" )
				} );
				$.each( [ "top", "left", "bottom", "right" ], function( i, pos ) {
					props[ pos ] = element.css( pos );
					if ( isNaN( parseInt( props[ pos ], 10 ) ) ) {
						props[ pos ] = "auto";
					}
				} );
				element.css( {
					position: "relative",
					top: 0,
					left: 0,
					right: "auto",
					bottom: "auto"
				} );
			}
			element.css( size );

			return wrapper.css( props ).show();
		},

		removeWrapper: function( element ) {
			var active = document.activeElement;

			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				element.parent().replaceWith( element );

				// Fixes #7595 - Elements lose focus when wrapped.
				if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
					$( active ).trigger( "focus" );
				}
			}

			return element;
		}
	} );
}

$.extend( $.effects, {
	version: "1.12.1",

	define: function( name, mode, effect ) {
		if ( !effect ) {
			effect = mode;
			mode = "effect";
		}

		$.effects.effect[ name ] = effect;
		$.effects.effect[ name ].mode = mode;

		return effect;
	},

	scaledDimensions: function( element, percent, direction ) {
		if ( percent === 0 ) {
			return {
				height: 0,
				width: 0,
				outerHeight: 0,
				outerWidth: 0
			};
		}

		var x = direction !== "horizontal" ? ( ( percent || 100 ) / 100 ) : 1,
			y = direction !== "vertical" ? ( ( percent || 100 ) / 100 ) : 1;

		return {
			height: element.height() * y,
			width: element.width() * x,
			outerHeight: element.outerHeight() * y,
			outerWidth: element.outerWidth() * x
		};

	},

	clipToBox: function( animation ) {
		return {
			width: animation.clip.right - animation.clip.left,
			height: animation.clip.bottom - animation.clip.top,
			left: animation.clip.left,
			top: animation.clip.top
		};
	},

	// Injects recently queued functions to be first in line (after "inprogress")
	unshift: function( element, queueLength, count ) {
		var queue = element.queue();

		if ( queueLength > 1 ) {
			queue.splice.apply( queue,
				[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );
		}
		element.dequeue();
	},

	saveStyle: function( element ) {
		element.data( dataSpaceStyle, element[ 0 ].style.cssText );
	},

	restoreStyle: function( element ) {
		element[ 0 ].style.cssText = element.data( dataSpaceStyle ) || "";
		element.removeData( dataSpaceStyle );
	},

	mode: function( element, mode ) {
		var hidden = element.is( ":hidden" );

		if ( mode === "toggle" ) {
			mode = hidden ? "show" : "hide";
		}
		if ( hidden ? mode === "hide" : mode === "show" ) {
			mode = "none";
		}
		return mode;
	},

	// Translates a [top,left] array into a baseline value
	getBaseline: function( origin, original ) {
		var y, x;

		switch ( origin[ 0 ] ) {
		case "top":
			y = 0;
			break;
		case "middle":
			y = 0.5;
			break;
		case "bottom":
			y = 1;
			break;
		default:
			y = origin[ 0 ] / original.height;
		}

		switch ( origin[ 1 ] ) {
		case "left":
			x = 0;
			break;
		case "center":
			x = 0.5;
			break;
		case "right":
			x = 1;
			break;
		default:
			x = origin[ 1 ] / original.width;
		}

		return {
			x: x,
			y: y
		};
	},

	// Creates a placeholder element so that the original element can be made absolute
	createPlaceholder: function( element ) {
		var placeholder,
			cssPosition = element.css( "position" ),
			position = element.position();

		// Lock in margins first to account for form elements, which
		// will change margin if you explicitly set height
		// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380
		// Support: Safari
		element.css( {
			marginTop: element.css( "marginTop" ),
			marginBottom: element.css( "marginBottom" ),
			marginLeft: element.css( "marginLeft" ),
			marginRight: element.css( "marginRight" )
		} )
		.outerWidth( element.outerWidth() )
		.outerHeight( element.outerHeight() );

		if ( /^(static|relative)/.test( cssPosition ) ) {
			cssPosition = "absolute";

			placeholder = $( "<" + element[ 0 ].nodeName + ">" ).insertAfter( element ).css( {

				// Convert inline to inline block to account for inline elements
				// that turn to inline block based on content (like img)
				display: /^(inline|ruby)/.test( element.css( "display" ) ) ?
					"inline-block" :
					"block",
				visibility: "hidden",

				// Margins need to be set to account for margin collapse
				marginTop: element.css( "marginTop" ),
				marginBottom: element.css( "marginBottom" ),
				marginLeft: element.css( "marginLeft" ),
				marginRight: element.css( "marginRight" ),
				"float": element.css( "float" )
			} )
			.outerWidth( element.outerWidth() )
			.outerHeight( element.outerHeight() )
			.addClass( "ui-effects-placeholder" );

			element.data( dataSpace + "placeholder", placeholder );
		}

		element.css( {
			position: cssPosition,
			left: position.left,
			top: position.top
		} );

		return placeholder;
	},

	removePlaceholder: function( element ) {
		var dataKey = dataSpace + "placeholder",
				placeholder = element.data( dataKey );

		if ( placeholder ) {
			placeholder.remove();
			element.removeData( dataKey );
		}
	},

	// Removes a placeholder if it exists and restores
	// properties that were modified during placeholder creation
	cleanUp: function( element ) {
		$.effects.restoreStyle( element );
		$.effects.removePlaceholder( element );
	},

	setTransition: function( element, list, factor, value ) {
		value = value || {};
		$.each( list, function( i, x ) {
			var unit = element.cssUnit( x );
			if ( unit[ 0 ] > 0 ) {
				value[ x ] = unit[ 0 ] * factor + unit[ 1 ];
			}
		} );
		return value;
	}
} );

// Return an effect options object for the given parameters:
function _normalizeArguments( effect, options, speed, callback ) {

	// Allow passing all options as the first parameter
	if ( $.isPlainObject( effect ) ) {
		options = effect;
		effect = effect.effect;
	}

	// Convert to an object
	effect = { effect: effect };

	// Catch (effect, null, ...)
	if ( options == null ) {
		options = {};
	}

	// Catch (effect, callback)
	if ( $.isFunction( options ) ) {
		callback = options;
		speed = null;
		options = {};
	}

	// Catch (effect, speed, ?)
	if ( typeof options === "number" || $.fx.speeds[ options ] ) {
		callback = speed;
		speed = options;
		options = {};
	}

	// Catch (effect, options, callback)
	if ( $.isFunction( speed ) ) {
		callback = speed;
		speed = null;
	}

	// Add options to effect
	if ( options ) {
		$.extend( effect, options );
	}

	speed = speed || options.duration;
	effect.duration = $.fx.off ? 0 :
		typeof speed === "number" ? speed :
		speed in $.fx.speeds ? $.fx.speeds[ speed ] :
		$.fx.speeds._default;

	effect.complete = callback || options.complete;

	return effect;
}

function standardAnimationOption( option ) {

	// Valid standard speeds (nothing, number, named speed)
	if ( !option || typeof option === "number" || $.fx.speeds[ option ] ) {
		return true;
	}

	// Invalid strings - treat as "normal" speed
	if ( typeof option === "string" && !$.effects.effect[ option ] ) {
		return true;
	}

	// Complete callback
	if ( $.isFunction( option ) ) {
		return true;
	}

	// Options hash (but not naming an effect)
	if ( typeof option === "object" && !option.effect ) {
		return true;
	}

	// Didn't match any standard API
	return false;
}

$.fn.extend( {
	effect: function( /* effect, options, speed, callback */ ) {
		var args = _normalizeArguments.apply( this, arguments ),
			effectMethod = $.effects.effect[ args.effect ],
			defaultMode = effectMethod.mode,
			queue = args.queue,
			queueName = queue || "fx",
			complete = args.complete,
			mode = args.mode,
			modes = [],
			prefilter = function( next ) {
				var el = $( this ),
					normalizedMode = $.effects.mode( el, mode ) || defaultMode;

				// Sentinel for duck-punching the :animated psuedo-selector
				el.data( dataSpaceAnimated, true );

				// Save effect mode for later use,
				// we can't just call $.effects.mode again later,
				// as the .show() below destroys the initial state
				modes.push( normalizedMode );

				// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13
				if ( defaultMode && ( normalizedMode === "show" ||
						( normalizedMode === defaultMode && normalizedMode === "hide" ) ) ) {
					el.show();
				}

				if ( !defaultMode || normalizedMode !== "none" ) {
					$.effects.saveStyle( el );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			};

		if ( $.fx.off || !effectMethod ) {

			// Delegate to the original method (e.g., .show()) if possible
			if ( mode ) {
				return this[ mode ]( args.duration, complete );
			} else {
				return this.each( function() {
					if ( complete ) {
						complete.call( this );
					}
				} );
			}
		}

		function run( next ) {
			var elem = $( this );

			function cleanup() {
				elem.removeData( dataSpaceAnimated );

				$.effects.cleanUp( elem );

				if ( args.mode === "hide" ) {
					elem.hide();
				}

				done();
			}

			function done() {
				if ( $.isFunction( complete ) ) {
					complete.call( elem[ 0 ] );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			}

			// Override mode option on a per element basis,
			// as toggle can be either show or hide depending on element state
			args.mode = modes.shift();

			if ( $.uiBackCompat !== false && !defaultMode ) {
				if ( elem.is( ":hidden" ) ? mode === "hide" : mode === "show" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, done );
				}
			} else {
				if ( args.mode === "none" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, cleanup );
				}
			}
		}

		// Run prefilter on all elements first to ensure that
		// any showing or hiding happens before placeholder creation,
		// which ensures that any layout changes are correctly captured.
		return queue === false ?
			this.each( prefilter ).each( run ) :
			this.queue( queueName, prefilter ).queue( queueName, run );
	},

	show: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "show";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.show ),

	hide: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "hide";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.hide ),

	toggle: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) || typeof option === "boolean" ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "toggle";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.toggle ),

	cssUnit: function( key ) {
		var style = this.css( key ),
			val = [];

		$.each( [ "em", "px", "%", "pt" ], function( i, unit ) {
			if ( style.indexOf( unit ) > 0 ) {
				val = [ parseFloat( style ), unit ];
			}
		} );
		return val;
	},

	cssClip: function( clipObj ) {
		if ( clipObj ) {
			return this.css( "clip", "rect(" + clipObj.top + "px " + clipObj.right + "px " +
				clipObj.bottom + "px " + clipObj.left + "px)" );
		}
		return parseClip( this.css( "clip" ), this );
	},

	transfer: function( options, done ) {
		var element = $( this ),
			target = $( options.to ),
			targetFixed = target.css( "position" ) === "fixed",
			body = $( "body" ),
			fixTop = targetFixed ? body.scrollTop() : 0,
			fixLeft = targetFixed ? body.scrollLeft() : 0,
			endPosition = target.offset(),
			animation = {
				top: endPosition.top - fixTop,
				left: endPosition.left - fixLeft,
				height: target.innerHeight(),
				width: target.innerWidth()
			},
			startPosition = element.offset(),
			transfer = $( "<div class='ui-effects-transfer'></div>" )
				.appendTo( "body" )
				.addClass( options.className )
				.css( {
					top: startPosition.top - fixTop,
					left: startPosition.left - fixLeft,
					height: element.innerHeight(),
					width: element.innerWidth(),
					position: targetFixed ? "fixed" : "absolute"
				} )
				.animate( animation, options.duration, options.easing, function() {
					transfer.remove();
					if ( $.isFunction( done ) ) {
						done();
					}
				} );
	}
} );

function parseClip( str, element ) {
		var outerWidth = element.outerWidth(),
			outerHeight = element.outerHeight(),
			clipRegex = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
			values = clipRegex.exec( str ) || [ "", 0, outerWidth, outerHeight, 0 ];

		return {
			top: parseFloat( values[ 1 ] ) || 0,
			right: values[ 2 ] === "auto" ? outerWidth : parseFloat( values[ 2 ] ),
			bottom: values[ 3 ] === "auto" ? outerHeight : parseFloat( values[ 3 ] ),
			left: parseFloat( values[ 4 ] ) || 0
		};
}

$.fx.step.clip = function( fx ) {
	if ( !fx.clipInit ) {
		fx.start = $( fx.elem ).cssClip();
		if ( typeof fx.end === "string" ) {
			fx.end = parseClip( fx.end, fx.elem );
		}
		fx.clipInit = true;
	}

	$( fx.elem ).cssClip( {
		top: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,
		right: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,
		bottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,
		left: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left
	} );
};

} )();

/******************************************************************************/
/*********************************** EASING ***********************************/
/******************************************************************************/

( function() {

// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)

var baseEasings = {};

$.each( [ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function( i, name ) {
	baseEasings[ name ] = function( p ) {
		return Math.pow( p, i + 2 );
	};
} );

$.extend( baseEasings, {
	Sine: function( p ) {
		return 1 - Math.cos( p * Math.PI / 2 );
	},
	Circ: function( p ) {
		return 1 - Math.sqrt( 1 - p * p );
	},
	Elastic: function( p ) {
		return p === 0 || p === 1 ? p :
			-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );
	},
	Back: function( p ) {
		return p * p * ( 3 * p - 2 );
	},
	Bounce: function( p ) {
		var pow2,
			bounce = 4;

		while ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}
		return 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );
	}
} );

$.each( baseEasings, function( name, easeIn ) {
	$.easing[ "easeIn" + name ] = easeIn;
	$.easing[ "easeOut" + name ] = function( p ) {
		return 1 - easeIn( 1 - p );
	};
	$.easing[ "easeInOut" + name ] = function( p ) {
		return p < 0.5 ?
			easeIn( p * 2 ) / 2 :
			1 - easeIn( p * -2 + 2 ) / 2;
	};
} );

} )();

return $.effects;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-blind.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-blind.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Blind Effect
//>>group: Effects
//>>description: Blinds the element.
//>>docs: http://api.jqueryui.com/blind-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "blind", "hide", function( options, done ) {
	var map = {
			up: [ "bottom", "top" ],
			vertical: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			horizontal: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		element = $( this ),
		direction = options.direction || "up",
		start = element.cssClip(),
		animate = { clip: $.extend( {}, start ) },
		placeholder = $.effects.createPlaceholder( element );

	animate.clip[ map[ direction ][ 0 ] ] = animate.clip[ map[ direction ][ 1 ] ];

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animate ) );
		}

		animate.clip = start;
	}

	if ( placeholder ) {
		placeholder.animate( $.effects.clipToBox( animate ), options.duration, options.easing );
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-bounce.js":
/*!************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-bounce.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Bounce 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Bounce Effect
//>>group: Effects
//>>description: Bounces an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/bounce-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "bounce", function( options, done ) {
	var upAnim, downAnim, refValue,
		element = $( this ),

		// Defaults:
		mode = options.mode,
		hide = mode === "hide",
		show = mode === "show",
		direction = options.direction || "up",
		distance = options.distance,
		times = options.times || 5,

		// Number of internal animations
		anims = times * 2 + ( show || hide ? 1 : 0 ),
		speed = options.duration / anims,
		easing = options.easing,

		// Utility:
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ),
		i = 0,

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	refValue = element.css( ref );

	// Default distance for the BIGGEST bounce is the outer Distance / 3
	if ( !distance ) {
		distance = element[ ref === "top" ? "outerHeight" : "outerWidth" ]() / 3;
	}

	if ( show ) {
		downAnim = { opacity: 1 };
		downAnim[ ref ] = refValue;

		// If we are showing, force opacity 0 and set the initial position
		// then do the "first" animation
		element
			.css( "opacity", 0 )
			.css( ref, motion ? -distance * 2 : distance * 2 )
			.animate( downAnim, speed, easing );
	}

	// Start at the smallest distance if we are hiding
	if ( hide ) {
		distance = distance / Math.pow( 2, times - 1 );
	}

	downAnim = {};
	downAnim[ ref ] = refValue;

	// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here
	for ( ; i < times; i++ ) {
		upAnim = {};
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element
			.animate( upAnim, speed, easing )
			.animate( downAnim, speed, easing );

		distance = hide ? distance * 2 : distance / 2;
	}

	// Last Bounce when Hiding
	if ( hide ) {
		upAnim = { opacity: 0 };
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element.animate( upAnim, speed, easing );
	}

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-clip.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-clip.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Clip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Clip Effect
//>>group: Effects
//>>description: Clips the element on and off like an old TV.
//>>docs: http://api.jqueryui.com/clip-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "clip", "hide", function( options, done ) {
	var start,
		animate = {},
		element = $( this ),
		direction = options.direction || "vertical",
		both = direction === "both",
		horizontal = both || direction === "horizontal",
		vertical = both || direction === "vertical";

	start = element.cssClip();
	animate.clip = {
		top: vertical ? ( start.bottom - start.top ) / 2 : start.top,
		right: horizontal ? ( start.right - start.left ) / 2 : start.right,
		bottom: vertical ? ( start.bottom - start.top ) / 2 : start.bottom,
		left: horizontal ? ( start.right - start.left ) / 2 : start.left
	};

	$.effects.createPlaceholder( element );

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		animate.clip = start;
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-drop.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-drop.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Drop 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Drop Effect
//>>group: Effects
//>>description: Moves an element in one direction and hides it at the same time.
//>>docs: http://api.jqueryui.com/drop-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "drop", "hide", function( options, done ) {

	var distance,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ) ? "-=" : "+=",
		oppositeMotion = ( motion === "+=" ) ? "-=" : "+=",
		animation = {
			opacity: 0
		};

	$.effects.createPlaceholder( element );

	distance = options.distance ||
		element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ) / 2;

	animation[ ref ] = motion + distance;

	if ( show ) {
		element.css( animation );

		animation[ ref ] = oppositeMotion + distance;
		animation.opacity = 1;
	}

	// Animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-explode.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-explode.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Explode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Explode Effect
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Explodes an element in all directions into n pieces. Implodes an element to its original wholeness.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/explode-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "explode", "hide", function( options, done ) {

	var i, j, left, top, mx, my,
		rows = options.pieces ? Math.round( Math.sqrt( options.pieces ) ) : 3,
		cells = rows,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",

		// Show and then visibility:hidden the element before calculating offset
		offset = element.show().css( "visibility", "hidden" ).offset(),

		// Width and height of a piece
		width = Math.ceil( element.outerWidth() / cells ),
		height = Math.ceil( element.outerHeight() / rows ),
		pieces = [];

	// Children animate complete:
	function childComplete() {
		pieces.push( this );
		if ( pieces.length === rows * cells ) {
			animComplete();
		}
	}

	// Clone the element for each row and cell.
	for ( i = 0; i < rows; i++ ) { // ===>
		top = offset.top + i * height;
		my = i - ( rows - 1 ) / 2;

		for ( j = 0; j < cells; j++ ) { // |||
			left = offset.left + j * width;
			mx = j - ( cells - 1 ) / 2;

			// Create a clone of the now hidden main element that will be absolute positioned
			// within a wrapper div off the -left and -top equal to size of our pieces
			element
				.clone()
				.appendTo( "body" )
				.wrap( "<div></div>" )
				.css( {
					position: "absolute",
					visibility: "visible",
					left: -j * width,
					top: -i * height
				} )

				// Select the wrapper - make it overflow: hidden and absolute positioned based on
				// where the original was located +left and +top equal to the size of pieces
				.parent()
					.addClass( "ui-effects-explode" )
					.css( {
						position: "absolute",
						overflow: "hidden",
						width: width,
						height: height,
						left: left + ( show ? mx * width : 0 ),
						top: top + ( show ? my * height : 0 ),
						opacity: show ? 0 : 1
					} )
					.animate( {
						left: left + ( show ? 0 : mx * width ),
						top: top + ( show ? 0 : my * height ),
						opacity: show ? 1 : 0
					}, options.duration || 500, options.easing, childComplete );
		}
	}

	function animComplete() {
		element.css( {
			visibility: "visible"
		} );
		$( pieces ).remove();
		done();
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fade.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fade.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fade 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fade Effect
//>>group: Effects
//>>description: Fades the element.
//>>docs: http://api.jqueryui.com/fade-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fade", "toggle", function( options, done ) {
	var show = options.mode === "show";

	$( this )
		.css( "opacity", show ? 0 : 1 )
		.animate( {
			opacity: show ? 1 : 0
		}, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fold.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fold.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fold 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fold Effect
//>>group: Effects
//>>description: Folds an element first horizontally and then vertically.
//>>docs: http://api.jqueryui.com/fold-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fold", "hide", function( options, done ) {

	// Create element
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		size = options.size || 15,
		percent = /([0-9]+)%/.exec( size ),
		horizFirst = !!options.horizFirst,
		ref = horizFirst ? [ "right", "bottom" ] : [ "bottom", "right" ],
		duration = options.duration / 2,

		placeholder = $.effects.createPlaceholder( element ),

		start = element.cssClip(),
		animation1 = { clip: $.extend( {}, start ) },
		animation2 = { clip: $.extend( {}, start ) },

		distance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ],

		queuelen = element.queue().length;

	if ( percent ) {
		size = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];
	}
	animation1.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 1 ] ] = 0;

	if ( show ) {
		element.cssClip( animation2.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animation2 ) );
		}

		animation2.clip = start;
	}

	// Animate
	element
		.queue( function( next ) {
			if ( placeholder ) {
				placeholder
					.animate( $.effects.clipToBox( animation1 ), duration, options.easing )
					.animate( $.effects.clipToBox( animation2 ), duration, options.easing );
			}

			next();
		} )
		.animate( animation1, duration, options.easing )
		.animate( animation2, duration, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, 4 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-highlight.js":
/*!***************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-highlight.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Highlight 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Highlight Effect
//>>group: Effects
//>>description: Highlights the background of an element in a defined color for a custom duration.
//>>docs: http://api.jqueryui.com/highlight-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "highlight", "show", function( options, done ) {
	var element = $( this ),
		animation = {
			backgroundColor: element.css( "backgroundColor" )
		};

	if ( options.mode === "hide" ) {
		animation.opacity = 0;
	}

	$.effects.saveStyle( element );

	element
		.css( {
			backgroundImage: "none",
			backgroundColor: options.color || "#ffff99"
		} )
		.animate( animation, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-puff.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-puff.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Puff 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Puff Effect
//>>group: Effects
//>>description: Creates a puff effect by scaling the element up and hiding it at the same time.
//>>docs: http://api.jqueryui.com/puff-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "puff", "hide", function( options, done ) {
	var newOptions = $.extend( true, {}, options, {
		fade: true,
		percent: parseInt( options.percent, 10 ) || 150
	} );

	$.effects.effect.scale.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-pulsate.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Pulsate 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Pulsate Effect
//>>group: Effects
//>>description: Pulsates an element n times by changing the opacity to zero and back.
//>>docs: http://api.jqueryui.com/pulsate-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "pulsate", "show", function( options, done ) {
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		showhide = show || hide,

		// Showing or hiding leaves off the "last" animation
		anims = ( ( options.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),
		duration = options.duration / anims,
		animateTo = 0,
		i = 1,
		queuelen = element.queue().length;

	if ( show || !element.is( ":visible" ) ) {
		element.css( "opacity", 0 ).show();
		animateTo = 1;
	}

	// Anims - 1 opacity "toggles"
	for ( ; i < anims; i++ ) {
		element.animate( { opacity: animateTo }, duration, options.easing );
		animateTo = 1 - animateTo;
	}

	element.animate( { opacity: animateTo }, duration, options.easing );

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-scale.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-scale.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Scale 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Scale Effect
//>>group: Effects
//>>description: Grows or shrinks an element and its content.
//>>docs: http://api.jqueryui.com/scale-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "scale", function( options, done ) {

	// Create element
	var el = $( this ),
		mode = options.mode,
		percent = parseInt( options.percent, 10 ) ||
			( parseInt( options.percent, 10 ) === 0 ? 0 : ( mode !== "effect" ? 0 : 100 ) ),

		newOptions = $.extend( true, {
			from: $.effects.scaledDimensions( el ),
			to: $.effects.scaledDimensions( el, percent, options.direction || "both" ),
			origin: options.origin || [ "middle", "center" ]
		}, options );

	// Fade option to support puff
	if ( options.fade ) {
		newOptions.from.opacity = 1;
		newOptions.to.opacity = 0;
	}

	$.effects.effect.size.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-shake.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-shake.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Shake 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Shake Effect
//>>group: Effects
//>>description: Shakes an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/shake-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "shake", function( options, done ) {

	var i = 1,
		element = $( this ),
		direction = options.direction || "left",
		distance = options.distance || 20,
		times = options.times || 3,
		anims = times * 2 + 1,
		speed = Math.round( options.duration / anims ),
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		animation = {},
		animation1 = {},
		animation2 = {},

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	// Animation
	animation[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance;
	animation1[ ref ] = ( positiveMotion ? "+=" : "-=" ) + distance * 2;
	animation2[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance * 2;

	// Animate
	element.animate( animation, speed, options.easing );

	// Shakes
	for ( ; i < times; i++ ) {
		element
			.animate( animation1, speed, options.easing )
			.animate( animation2, speed, options.easing );
	}

	element
		.animate( animation1, speed, options.easing )
		.animate( animation, speed / 2, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-size.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-size.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Size 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Size Effect
//>>group: Effects
//>>description: Resize an element to a specified width and height.
//>>docs: http://api.jqueryui.com/size-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "size", function( options, done ) {

	// Create element
	var baseline, factor, temp,
		element = $( this ),

		// Copy for children
		cProps = [ "fontSize" ],
		vProps = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ],
		hProps = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ],

		// Set options
		mode = options.mode,
		restore = mode !== "effect",
		scale = options.scale || "both",
		origin = options.origin || [ "middle", "center" ],
		position = element.css( "position" ),
		pos = element.position(),
		original = $.effects.scaledDimensions( element ),
		from = options.from || original,
		to = options.to || $.effects.scaledDimensions( element, 0 );

	$.effects.createPlaceholder( element );

	if ( mode === "show" ) {
		temp = from;
		from = to;
		to = temp;
	}

	// Set scaling factor
	factor = {
		from: {
			y: from.height / original.height,
			x: from.width / original.width
		},
		to: {
			y: to.height / original.height,
			x: to.width / original.width
		}
	};

	// Scale the css box
	if ( scale === "box" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, vProps, factor.from.y, from );
			to = $.effects.setTransition( element, vProps, factor.to.y, to );
		}

		// Horizontal props scaling
		if ( factor.from.x !== factor.to.x ) {
			from = $.effects.setTransition( element, hProps, factor.from.x, from );
			to = $.effects.setTransition( element, hProps, factor.to.x, to );
		}
	}

	// Scale the content
	if ( scale === "content" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, cProps, factor.from.y, from );
			to = $.effects.setTransition( element, cProps, factor.to.y, to );
		}
	}

	// Adjust the position properties based on the provided origin points
	if ( origin ) {
		baseline = $.effects.getBaseline( origin, original );
		from.top = ( original.outerHeight - from.outerHeight ) * baseline.y + pos.top;
		from.left = ( original.outerWidth - from.outerWidth ) * baseline.x + pos.left;
		to.top = ( original.outerHeight - to.outerHeight ) * baseline.y + pos.top;
		to.left = ( original.outerWidth - to.outerWidth ) * baseline.x + pos.left;
	}
	element.css( from );

	// Animate the children if desired
	if ( scale === "content" || scale === "both" ) {

		vProps = vProps.concat( [ "marginTop", "marginBottom" ] ).concat( cProps );
		hProps = hProps.concat( [ "marginLeft", "marginRight" ] );

		// Only animate children with width attributes specified
		// TODO: is this right? should we include anything with css width specified as well
		element.find( "*[width]" ).each( function() {
			var child = $( this ),
				childOriginal = $.effects.scaledDimensions( child ),
				childFrom = {
					height: childOriginal.height * factor.from.y,
					width: childOriginal.width * factor.from.x,
					outerHeight: childOriginal.outerHeight * factor.from.y,
					outerWidth: childOriginal.outerWidth * factor.from.x
				},
				childTo = {
					height: childOriginal.height * factor.to.y,
					width: childOriginal.width * factor.to.x,
					outerHeight: childOriginal.height * factor.to.y,
					outerWidth: childOriginal.width * factor.to.x
				};

			// Vertical props scaling
			if ( factor.from.y !== factor.to.y ) {
				childFrom = $.effects.setTransition( child, vProps, factor.from.y, childFrom );
				childTo = $.effects.setTransition( child, vProps, factor.to.y, childTo );
			}

			// Horizontal props scaling
			if ( factor.from.x !== factor.to.x ) {
				childFrom = $.effects.setTransition( child, hProps, factor.from.x, childFrom );
				childTo = $.effects.setTransition( child, hProps, factor.to.x, childTo );
			}

			if ( restore ) {
				$.effects.saveStyle( child );
			}

			// Animate children
			child.css( childFrom );
			child.animate( childTo, options.duration, options.easing, function() {

				// Restore children
				if ( restore ) {
					$.effects.restoreStyle( child );
				}
			} );
		} );
	}

	// Animate
	element.animate( to, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: function() {

			var offset = element.offset();

			if ( to.opacity === 0 ) {
				element.css( "opacity", from.opacity );
			}

			if ( !restore ) {
				element
					.css( "position", position === "static" ? "relative" : position )
					.offset( offset );

				// Need to save style here so that automatic style restoration
				// doesn't restore to the original styles from before the animation.
				$.effects.saveStyle( element );
			}

			done();
		}
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-slide.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-slide.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Slide 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slide Effect
//>>group: Effects
//>>description: Slides an element in and out of the viewport.
//>>docs: http://api.jqueryui.com/slide-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "slide", "show", function( options, done ) {
	var startClip, startRef,
		element = $( this ),
		map = {
			up: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		mode = options.mode,
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		distance = options.distance ||
			element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ),
		animation = {};

	$.effects.createPlaceholder( element );

	startClip = element.cssClip();
	startRef = element.position()[ ref ];

	// Define hide animation
	animation[ ref ] = ( positiveMotion ? -1 : 1 ) * distance + startRef;
	animation.clip = element.cssClip();
	animation.clip[ map[ direction ][ 1 ] ] = animation.clip[ map[ direction ][ 0 ] ];

	// Reverse the animation if we're showing
	if ( mode === "show" ) {
		element.cssClip( animation.clip );
		element.css( ref, animation[ ref ] );
		animation.clip = startClip;
		animation[ ref ] = startRef;
	}

	// Actually animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-transfer.js":
/*!**************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-transfer.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Transfer 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Transfer Effect
//>>group: Effects
//>>description: Displays a transfer effect from one element to another.
//>>docs: http://api.jqueryui.com/transfer-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var effect;
if ( $.uiBackCompat !== false ) {
	effect = $.effects.define( "transfer", function( options, done ) {
		$( this ).transfer( options, done );
	} );
}
return effect;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/ie.js":
/*!*****************************************!*\
  !*** ./node_modules/jquery-ui/ui/ie.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

// This file is deprecated
return $.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );
} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/keycode.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/keycode.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Keycode
//>>group: Core
//>>description: Provide keycodes as keynames
//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {
return $.ui.keyCode = {
	BACKSPACE: 8,
	COMMA: 188,
	DELETE: 46,
	DOWN: 40,
	END: 35,
	ENTER: 13,
	ESCAPE: 27,
	HOME: 36,
	LEFT: 37,
	PAGE_DOWN: 34,
	PAGE_UP: 33,
	PERIOD: 190,
	RIGHT: 39,
	SPACE: 32,
	TAB: 9,
	UP: 38
};

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/version.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/version.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

$.ui = $.ui || {};

return $.ui.version = "1.12.1";

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widget.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/widget.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Widget
//>>group: Core
//>>description: Provides a factory for creating stateful widgets with a common API.
//>>docs: http://api.jqueryui.com/jQuery.widget/
//>>demos: http://jqueryui.com/widget/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var widgetUuid = 0;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// Http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	// ProxiedPrototype allows the provided prototype to remain unmodified
	// so that it can be used as a mixin for multiple widgets (#8876)
	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( $.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	// Create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		// Allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// Allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	// Extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		// Copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),

		// Track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	} );

	basePrototype = new base();

	// We need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// Redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		// Remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {

				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );

				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			// If this is an empty collection, we need to have the instance method
			// return undefined instead of the jQuery instance
			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		// Callbacks
		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				// Element within the document
				element.ownerDocument :

				// Element is window or document
				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		// We can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		// Clean up events and states
		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			// Don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			// Handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			// We are doing this to create a new jQuery object because the _removeClass() call
			// on the next line is going to destroy the reference to the current elements being
			// tracked. We need to save a copy of this collection so that we can add the new classes
			// below.
			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			// We don't use _addClass() here, because that uses this.options.classes
			// for generating the string of classes. We want to use the value passed in from
			// _setOption(), this is the new value of the classes option which was passed to
			// _setOption(). We pass this value directly to _classes().
			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		// If the widget is becoming disabled, then nothing is interactive
		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					current = $( $.unique( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		this._on( options.element, {
			"remove": "_untrackClassesElement"
		} );

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		// No suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// No element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				// Allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// Copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName ).off( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		// The original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// Copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

return $.widget;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/mouse.js":
/*!****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/mouse.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Mouse
//>>group: Widgets
//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.
//>>docs: http://api.jqueryui.com/mouse/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../ie */ "./node_modules/jquery-ui/ui/ie.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var mouseHandled = false;
$( document ).on( "mouseup", function() {
	mouseHandled = false;
} );

return $.widget( "ui.mouse", {
	version: "1.12.1",
	options: {
		cancel: "input, textarea, button, select, option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.on( "mousedown." + this.widgetName, function( event ) {
				return that._mouseDown( event );
			} )
			.on( "click." + this.widgetName, function( event ) {
				if ( true === $.data( event.target, that.widgetName + ".preventClickEvent" ) ) {
					$.removeData( event.target, that.widgetName + ".preventClickEvent" );
					event.stopImmediatePropagation();
					return false;
				}
			} );

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.off( "." + this.widgetName );
		if ( this._mouseMoveDelegate ) {
			this.document
				.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
				.off( "mouseup." + this.widgetName, this._mouseUpDelegate );
		}
	},

	_mouseDown: function( event ) {

		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// We may have missed mouseup (out of window)
		( this._mouseStarted && this._mouseUp( event ) );

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = ( event.which === 1 ),

			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = ( typeof this.options.cancel === "string" && event.target.nodeName ?
				$( event.target ).closest( this.options.cancel ).length : false );
		if ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if ( !this.mouseDelayMet ) {
			this._mouseDelayTimer = setTimeout( function() {
				that.mouseDelayMet = true;
			}, this.options.delay );
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted = ( this._mouseStart( event ) !== false );
			if ( !this._mouseStarted ) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if ( true === $.data( event.target, this.widgetName + ".preventClickEvent" ) ) {
			$.removeData( event.target, this.widgetName + ".preventClickEvent" );
		}

		// These delegates are required to keep context
		this._mouseMoveDelegate = function( event ) {
			return that._mouseMove( event );
		};
		this._mouseUpDelegate = function( event ) {
			return that._mouseUp( event );
		};

		this.document
			.on( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.on( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function( event ) {

		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {

			// IE mouseup check - mouseup happened when mouse was out of window
			if ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&
					!event.button ) {
				return this._mouseUp( event );

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {

				// Support: Safari <=8 - 9
				// Safari sets which to 0 if you press any of the following keys
				// during a drag (#14461)
				if ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||
						event.originalEvent.metaKey || event.originalEvent.shiftKey ) {
					this.ignoreMissingWhich = true;
				} else if ( !this.ignoreMissingWhich ) {
					return this._mouseUp( event );
				}
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if ( this._mouseStarted ) {
			this._mouseDrag( event );
			return event.preventDefault();
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted =
				( this._mouseStart( this._mouseDownEvent, event ) !== false );
			( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );
		}

		return !this._mouseStarted;
	},

	_mouseUp: function( event ) {
		this.document
			.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.off( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if ( this._mouseStarted ) {
			this._mouseStarted = false;

			if ( event.target === this._mouseDownEvent.target ) {
				$.data( event.target, this.widgetName + ".preventClickEvent", true );
			}

			this._mouseStop( event );
		}

		if ( this._mouseDelayTimer ) {
			clearTimeout( this._mouseDelayTimer );
			delete this._mouseDelayTimer;
		}

		this.ignoreMissingWhich = false;
		mouseHandled = false;
		event.preventDefault();
	},

	_mouseDistanceMet: function( event ) {
		return ( Math.max(
				Math.abs( this._mouseDownEvent.pageX - event.pageX ),
				Math.abs( this._mouseDownEvent.pageY - event.pageY )
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function( /* event */ ) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function( /* event */ ) {},
	_mouseDrag: function( /* event */ ) {},
	_mouseStop: function( /* event */ ) {},
	_mouseCapture: function( /* event */ ) { return true; }
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/slider.js":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/slider.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slider
//>>group: Widgets
//>>description: Displays a flexible slider with ranges and accessibility via keyboard.
//>>docs: http://api.jqueryui.com/slider/
//>>demos: http://jqueryui.com/slider/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/slider.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ./mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js"),
			__webpack_require__(/*! ../keycode */ "./node_modules/jquery-ui/ui/keycode.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.widget( "ui.slider", $.ui.mouse, {
	version: "1.12.1",
	widgetEventPrefix: "slide",

	options: {
		animate: false,
		classes: {
			"ui-slider": "ui-corner-all",
			"ui-slider-handle": "ui-corner-all",

			// Note: ui-widget-header isn't the most fittingly semantic framework class for this
			// element, but worked best visually with a variety of themes
			"ui-slider-range": "ui-corner-all ui-widget-header"
		},
		distance: 0,
		max: 100,
		min: 0,
		orientation: "horizontal",
		range: false,
		step: 1,
		value: 0,
		values: null,

		// Callbacks
		change: null,
		slide: null,
		start: null,
		stop: null
	},

	// Number of pages in a slider
	// (how many times can you page up/down to go through the whole range)
	numPages: 5,

	_create: function() {
		this._keySliding = false;
		this._mouseSliding = false;
		this._animateOff = true;
		this._handleIndex = null;
		this._detectOrientation();
		this._mouseInit();
		this._calculateNewMax();

		this._addClass( "ui-slider ui-slider-" + this.orientation,
			"ui-widget ui-widget-content" );

		this._refresh();

		this._animateOff = false;
	},

	_refresh: function() {
		this._createRange();
		this._createHandles();
		this._setupEvents();
		this._refreshValue();
	},

	_createHandles: function() {
		var i, handleCount,
			options = this.options,
			existingHandles = this.element.find( ".ui-slider-handle" ),
			handle = "<span tabindex='0'></span>",
			handles = [];

		handleCount = ( options.values && options.values.length ) || 1;

		if ( existingHandles.length > handleCount ) {
			existingHandles.slice( handleCount ).remove();
			existingHandles = existingHandles.slice( 0, handleCount );
		}

		for ( i = existingHandles.length; i < handleCount; i++ ) {
			handles.push( handle );
		}

		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );

		this._addClass( this.handles, "ui-slider-handle", "ui-state-default" );

		this.handle = this.handles.eq( 0 );

		this.handles.each( function( i ) {
			$( this )
				.data( "ui-slider-handle-index", i )
				.attr( "tabIndex", 0 );
		} );
	},

	_createRange: function() {
		var options = this.options;

		if ( options.range ) {
			if ( options.range === true ) {
				if ( !options.values ) {
					options.values = [ this._valueMin(), this._valueMin() ];
				} else if ( options.values.length && options.values.length !== 2 ) {
					options.values = [ options.values[ 0 ], options.values[ 0 ] ];
				} else if ( $.isArray( options.values ) ) {
					options.values = options.values.slice( 0 );
				}
			}

			if ( !this.range || !this.range.length ) {
				this.range = $( "<div>" )
					.appendTo( this.element );

				this._addClass( this.range, "ui-slider-range" );
			} else {
				this._removeClass( this.range, "ui-slider-range-min ui-slider-range-max" );

				// Handle range switching from true to min/max
				this.range.css( {
					"left": "",
					"bottom": ""
				} );
			}
			if ( options.range === "min" || options.range === "max" ) {
				this._addClass( this.range, "ui-slider-range-" + options.range );
			}
		} else {
			if ( this.range ) {
				this.range.remove();
			}
			this.range = null;
		}
	},

	_setupEvents: function() {
		this._off( this.handles );
		this._on( this.handles, this._handleEvents );
		this._hoverable( this.handles );
		this._focusable( this.handles );
	},

	_destroy: function() {
		this.handles.remove();
		if ( this.range ) {
			this.range.remove();
		}

		this._mouseDestroy();
	},

	_mouseCapture: function( event ) {
		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
			that = this,
			o = this.options;

		if ( o.disabled ) {
			return false;
		}

		this.elementSize = {
			width: this.element.outerWidth(),
			height: this.element.outerHeight()
		};
		this.elementOffset = this.element.offset();

		position = { x: event.pageX, y: event.pageY };
		normValue = this._normValueFromMouse( position );
		distance = this._valueMax() - this._valueMin() + 1;
		this.handles.each( function( i ) {
			var thisDistance = Math.abs( normValue - that.values( i ) );
			if ( ( distance > thisDistance ) ||
				( distance === thisDistance &&
					( i === that._lastChangedValue || that.values( i ) === o.min ) ) ) {
				distance = thisDistance;
				closestHandle = $( this );
				index = i;
			}
		} );

		allowed = this._start( event, index );
		if ( allowed === false ) {
			return false;
		}
		this._mouseSliding = true;

		this._handleIndex = index;

		this._addClass( closestHandle, null, "ui-state-active" );
		closestHandle.trigger( "focus" );

		offset = closestHandle.offset();
		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
			top: event.pageY - offset.top -
				( closestHandle.height() / 2 ) -
				( parseInt( closestHandle.css( "borderTopWidth" ), 10 ) || 0 ) -
				( parseInt( closestHandle.css( "borderBottomWidth" ), 10 ) || 0 ) +
				( parseInt( closestHandle.css( "marginTop" ), 10 ) || 0 )
		};

		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
			this._slide( event, index, normValue );
		}
		this._animateOff = true;
		return true;
	},

	_mouseStart: function() {
		return true;
	},

	_mouseDrag: function( event ) {
		var position = { x: event.pageX, y: event.pageY },
			normValue = this._normValueFromMouse( position );

		this._slide( event, this._handleIndex, normValue );

		return false;
	},

	_mouseStop: function( event ) {
		this._removeClass( this.handles, null, "ui-state-active" );
		this._mouseSliding = false;

		this._stop( event, this._handleIndex );
		this._change( event, this._handleIndex );

		this._handleIndex = null;
		this._clickOffset = null;
		this._animateOff = false;

		return false;
	},

	_detectOrientation: function() {
		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
	},

	_normValueFromMouse: function( position ) {
		var pixelTotal,
			pixelMouse,
			percentMouse,
			valueTotal,
			valueMouse;

		if ( this.orientation === "horizontal" ) {
			pixelTotal = this.elementSize.width;
			pixelMouse = position.x - this.elementOffset.left -
				( this._clickOffset ? this._clickOffset.left : 0 );
		} else {
			pixelTotal = this.elementSize.height;
			pixelMouse = position.y - this.elementOffset.top -
				( this._clickOffset ? this._clickOffset.top : 0 );
		}

		percentMouse = ( pixelMouse / pixelTotal );
		if ( percentMouse > 1 ) {
			percentMouse = 1;
		}
		if ( percentMouse < 0 ) {
			percentMouse = 0;
		}
		if ( this.orientation === "vertical" ) {
			percentMouse = 1 - percentMouse;
		}

		valueTotal = this._valueMax() - this._valueMin();
		valueMouse = this._valueMin() + percentMouse * valueTotal;

		return this._trimAlignValue( valueMouse );
	},

	_uiHash: function( index, value, values ) {
		var uiHash = {
			handle: this.handles[ index ],
			handleIndex: index,
			value: value !== undefined ? value : this.value()
		};

		if ( this._hasMultipleValues() ) {
			uiHash.value = value !== undefined ? value : this.values( index );
			uiHash.values = values || this.values();
		}

		return uiHash;
	},

	_hasMultipleValues: function() {
		return this.options.values && this.options.values.length;
	},

	_start: function( event, index ) {
		return this._trigger( "start", event, this._uiHash( index ) );
	},

	_slide: function( event, index, newVal ) {
		var allowed, otherVal,
			currentValue = this.value(),
			newValues = this.values();

		if ( this._hasMultipleValues() ) {
			otherVal = this.values( index ? 0 : 1 );
			currentValue = this.values( index );

			if ( this.options.values.length === 2 && this.options.range === true ) {
				newVal =  index === 0 ? Math.min( otherVal, newVal ) : Math.max( otherVal, newVal );
			}

			newValues[ index ] = newVal;
		}

		if ( newVal === currentValue ) {
			return;
		}

		allowed = this._trigger( "slide", event, this._uiHash( index, newVal, newValues ) );

		// A slide can be canceled by returning false from the slide callback
		if ( allowed === false ) {
			return;
		}

		if ( this._hasMultipleValues() ) {
			this.values( index, newVal );
		} else {
			this.value( newVal );
		}
	},

	_stop: function( event, index ) {
		this._trigger( "stop", event, this._uiHash( index ) );
	},

	_change: function( event, index ) {
		if ( !this._keySliding && !this._mouseSliding ) {

			//store the last changed value index for reference when handles overlap
			this._lastChangedValue = index;
			this._trigger( "change", event, this._uiHash( index ) );
		}
	},

	value: function( newValue ) {
		if ( arguments.length ) {
			this.options.value = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, 0 );
			return;
		}

		return this._value();
	},

	values: function( index, newValue ) {
		var vals,
			newValues,
			i;

		if ( arguments.length > 1 ) {
			this.options.values[ index ] = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, index );
			return;
		}

		if ( arguments.length ) {
			if ( $.isArray( arguments[ 0 ] ) ) {
				vals = this.options.values;
				newValues = arguments[ 0 ];
				for ( i = 0; i < vals.length; i += 1 ) {
					vals[ i ] = this._trimAlignValue( newValues[ i ] );
					this._change( null, i );
				}
				this._refreshValue();
			} else {
				if ( this._hasMultipleValues() ) {
					return this._values( index );
				} else {
					return this.value();
				}
			}
		} else {
			return this._values();
		}
	},

	_setOption: function( key, value ) {
		var i,
			valsLength = 0;

		if ( key === "range" && this.options.range === true ) {
			if ( value === "min" ) {
				this.options.value = this._values( 0 );
				this.options.values = null;
			} else if ( value === "max" ) {
				this.options.value = this._values( this.options.values.length - 1 );
				this.options.values = null;
			}
		}

		if ( $.isArray( this.options.values ) ) {
			valsLength = this.options.values.length;
		}

		this._super( key, value );

		switch ( key ) {
			case "orientation":
				this._detectOrientation();
				this._removeClass( "ui-slider-horizontal ui-slider-vertical" )
					._addClass( "ui-slider-" + this.orientation );
				this._refreshValue();
				if ( this.options.range ) {
					this._refreshRange( value );
				}

				// Reset positioning from previous orientation
				this.handles.css( value === "horizontal" ? "bottom" : "left", "" );
				break;
			case "value":
				this._animateOff = true;
				this._refreshValue();
				this._change( null, 0 );
				this._animateOff = false;
				break;
			case "values":
				this._animateOff = true;
				this._refreshValue();

				// Start from the last handle to prevent unreachable handles (#9046)
				for ( i = valsLength - 1; i >= 0; i-- ) {
					this._change( null, i );
				}
				this._animateOff = false;
				break;
			case "step":
			case "min":
			case "max":
				this._animateOff = true;
				this._calculateNewMax();
				this._refreshValue();
				this._animateOff = false;
				break;
			case "range":
				this._animateOff = true;
				this._refresh();
				this._animateOff = false;
				break;
		}
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this._toggleClass( null, "ui-state-disabled", !!value );
	},

	//internal value getter
	// _value() returns value trimmed by min and max, aligned by step
	_value: function() {
		var val = this.options.value;
		val = this._trimAlignValue( val );

		return val;
	},

	//internal values getter
	// _values() returns array of values trimmed by min and max, aligned by step
	// _values( index ) returns single value trimmed by min and max, aligned by step
	_values: function( index ) {
		var val,
			vals,
			i;

		if ( arguments.length ) {
			val = this.options.values[ index ];
			val = this._trimAlignValue( val );

			return val;
		} else if ( this._hasMultipleValues() ) {

			// .slice() creates a copy of the array
			// this copy gets trimmed by min and max and then returned
			vals = this.options.values.slice();
			for ( i = 0; i < vals.length; i += 1 ) {
				vals[ i ] = this._trimAlignValue( vals[ i ] );
			}

			return vals;
		} else {
			return [];
		}
	},

	// Returns the step-aligned value that val is closest to, between (inclusive) min and max
	_trimAlignValue: function( val ) {
		if ( val <= this._valueMin() ) {
			return this._valueMin();
		}
		if ( val >= this._valueMax() ) {
			return this._valueMax();
		}
		var step = ( this.options.step > 0 ) ? this.options.step : 1,
			valModStep = ( val - this._valueMin() ) % step,
			alignValue = val - valModStep;

		if ( Math.abs( valModStep ) * 2 >= step ) {
			alignValue += ( valModStep > 0 ) ? step : ( -step );
		}

		// Since JavaScript has problems with large floats, round
		// the final value to 5 digits after the decimal point (see #4124)
		return parseFloat( alignValue.toFixed( 5 ) );
	},

	_calculateNewMax: function() {
		var max = this.options.max,
			min = this._valueMin(),
			step = this.options.step,
			aboveMin = Math.round( ( max - min ) / step ) * step;
		max = aboveMin + min;
		if ( max > this.options.max ) {

			//If max is not divisible by step, rounding off may increase its value
			max -= step;
		}
		this.max = parseFloat( max.toFixed( this._precision() ) );
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_valueMin: function() {
		return this.options.min;
	},

	_valueMax: function() {
		return this.max;
	},

	_refreshRange: function( orientation ) {
		if ( orientation === "vertical" ) {
			this.range.css( { "width": "", "left": "" } );
		}
		if ( orientation === "horizontal" ) {
			this.range.css( { "height": "", "bottom": "" } );
		}
	},

	_refreshValue: function() {
		var lastValPercent, valPercent, value, valueMin, valueMax,
			oRange = this.options.range,
			o = this.options,
			that = this,
			animate = ( !this._animateOff ) ? o.animate : false,
			_set = {};

		if ( this._hasMultipleValues() ) {
			this.handles.each( function( i ) {
				valPercent = ( that.values( i ) - that._valueMin() ) / ( that._valueMax() -
					that._valueMin() ) * 100;
				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
				if ( that.options.range === true ) {
					if ( that.orientation === "horizontal" ) {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								left: valPercent + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								width: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					} else {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								bottom: ( valPercent ) + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								height: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					}
				}
				lastValPercent = valPercent;
			} );
		} else {
			value = this.value();
			valueMin = this._valueMin();
			valueMax = this._valueMax();
			valPercent = ( valueMax !== valueMin ) ?
					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
					0;
			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );

			if ( oRange === "min" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
			if ( oRange === "min" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
		}
	},

	_handleEvents: {
		keydown: function( event ) {
			var allowed, curVal, newVal, step,
				index = $( event.target ).data( "ui-slider-handle-index" );

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_UP:
				case $.ui.keyCode.PAGE_DOWN:
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					event.preventDefault();
					if ( !this._keySliding ) {
						this._keySliding = true;
						this._addClass( $( event.target ), null, "ui-state-active" );
						allowed = this._start( event, index );
						if ( allowed === false ) {
							return;
						}
					}
					break;
			}

			step = this.options.step;
			if ( this._hasMultipleValues() ) {
				curVal = newVal = this.values( index );
			} else {
				curVal = newVal = this.value();
			}

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
					newVal = this._valueMin();
					break;
				case $.ui.keyCode.END:
					newVal = this._valueMax();
					break;
				case $.ui.keyCode.PAGE_UP:
					newVal = this._trimAlignValue(
						curVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )
					);
					break;
				case $.ui.keyCode.PAGE_DOWN:
					newVal = this._trimAlignValue(
						curVal - ( ( this._valueMax() - this._valueMin() ) / this.numPages ) );
					break;
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
					if ( curVal === this._valueMax() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal + step );
					break;
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					if ( curVal === this._valueMin() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal - step );
					break;
			}

			this._slide( event, index, newVal );
		},
		keyup: function( event ) {
			var index = $( event.target ).data( "ui-slider-handle-index" );

			if ( this._keySliding ) {
				this._keySliding = false;
				this._stop( event, index );
				this._change( event, index );
				this._removeClass( $( event.target ), null, "ui-state-active" );
			}
		}
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/manifesto.js/dist-umd/manifesto.js":
/*!*********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-umd/manifesto.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13)),r(n(14)),r(n(15)),r(n(16)),r(n(17)),r(n(18)),r(n(19)),r(n(20)),r(n(21)),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(32)),r(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_LEVEL_1||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_LEVEL_2||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var r=e[n];if(t===r["@language"])return r["@value"]}var i=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===i)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var r;void 0===n&&(n=0),r=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=r;for(var i=0;i<t.nodes.length;i++){var o=t.nodes[i];e.generateTreeNodeIds(o,i)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,r,i,o,s,a,u){return new Promise((function(c,l){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,r,i,o,s,a,u)}));Promise.all(p).then((function(){c(t)})).catch((function(e){l(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,s,u,c,l,p){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,s(t)];case 1:return(r=i.sent())?[4,t.getData(r)]:[3,6];case 2:return i.sent(),t.status!==a.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,c,l,p)];case 4:i.sent(),i.label=5;case 5:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return i.sent(),t.status!==a.MOVED_TEMPORARILY&&t.status!==a.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,c,l,p)];case 8:i.sent(),i.label=9;case 9:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,s,u,c,l){return r(this,void 0,void 0,(function(){var r,p,f,h,_,g,d,E;return i(this,(function(i){switch(i.label){case 0:return t.isAccessControlled()?((r=t.externalService)&&(r.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==a.MOVED_TEMPORARILY?[3,2]:[4,c(t)]):[2,t];case 1:return i.sent(),[2,t];case 2:return _=null,g=null,(_=r)?(g=_,[4,e.attemptResourceWithToken(t,o,_)]):[3,4];case 3:return i.sent(),[2,t];case 4:return(_=p)?(g=_,(d=n(_))?[4,s(d)]:[3,7]):[3,7];case 5:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 6:return i.sent(),[2,t];case 7:return(_=f)?(g=_,[4,u(t,_)]):[3,11];case 8:return(E=i.sent())?[4,s(E)]:[3,11];case 9:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 10:return i.sent(),[2,t];case 11:return(_=h)?(g=_,[4,u(t,_)]):[3,15];case 12:return(E=i.sent())?[4,s(E)]:[3,15];case 13:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 14:return i.sent(),[2,t];case 15:return g&&l(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=n.getService(s.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,r)]:[3,3];case 1:return(o=i.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return i.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,r,i,o,s,a,u,c,l){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,r,i,o,s,a,u,c,l)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,r,i,o,s,u,c,l,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(r(t)),f(i(t))):o(t).then((function(){s(t,!0).then((function(n){t.getData(n).then((function(){f(l(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):c(t,n).then((function(p){p?t.getData(p).then((function(){t.status===a.OK?f(l(t)):e.authorize(t,n,r,i,o,s,u,c).then((function(){f(l(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,r,i,o,s,u,c).then((function(){f(l(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,r,i,o,s,u,c){return new Promise((function(l,p){t.getData().then((function(){t.isAccessControlled()?c(t,n).then((function(c){c?t.getData(c).then((function(){t.status===a.OK?l(t):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)})).catch((function(t){p(e.createInternalServerError(t))})):s(t,!1).then((function(c){c?u(t,c,n).then((function(){t.getData(c).then((function(){t.status===a.OK?l(t):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):l(t)}))}))},e.showAuthInteraction=function(t,n,r,i,o,s,u,c,l){t.status!==a.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?r(t).then((function(){s(t,!0).then((function(r){u(t,r,n).then((function(){t.getData(r).then((function(){c(t)})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})):o(t).then((function(){s(t,!0).then((function(r){u(t,r,n).then((function(){t.getData(r).then((function(){c(t)})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})):c(t)},e.getService=function(e,t){for(var n=this.getServices(e),r=0;r<n.length;r++){var i=n[r];if(i.getProfile()===t)return i}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,r){if(t.hasOwnProperty(n)&&t[n]===r)return t;for(var i=0;i<Object.keys(t).length;i++)if("object"==typeof t[Object.keys(t)[i]]){var o=e.traverseAndFind(t[Object.keys(t)[i]],n,r);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if("string"==typeof i){var s=this.getResourceById(e.options.resource,i);s&&n.push(new o.Service(s.__jsonld||s,e.options))}else n.push(new o.Service(i,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var r=n(2);t.loadManifest=function(e){return r.Utils.loadManifest(e)},t.parseManifest=function(e,t){return r.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.options=n,r}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n],i=new o.LabelValuePair(this.options.locale);i.parse(r),t.push(i)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var r=t[n];if(r.getFormat()===e)return r}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];t.push(new o.Rendering(r,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===s.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===s.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===s.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===s.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],r=new o.Annotation(n,this.options);e.push(r)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.index=-1,r.isLoaded=!1;var i={defaultLabel:"-",locale:"en-GB",resource:r,pessimisticAccessControl:!1};return r.options=Object.assign(i,n),r}return i(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(s.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(r){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var i=o.Deserialiser.parse(r,n);(e=Object.assign(e,i)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++){if((s=t[n]).items)for(var r=0;r<s.items.length;r++){var i=s.items[r];e.push(new o.AnnotationBody(i,this.options))}else e.push(new o.AnnotationBody(s,this.options))}else if(t.items)for(n=0;n<t.items.length;n++){var s=t.items[n];e.push(new o.AnnotationBody(s,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){var e=this.getProperty("motivation");return e||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.label=t,i.options=r,i}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,r="default",i=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],i||(i=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(r="native");else{var s=this.getImages();if(s&&s.length){var a=s[0].getResource(),u=a.getServices();if(i||(i=a.getWidth()),u.length){var c=u[0];n=c.id,r=o.Utils.getImageQuality(c.getProfile())}else if(i===a.getWidth())return a.id}if(!n){var l=this.getProperty("thumbnail");if(l){if("string"==typeof l)return l;if(l["@id"])return l["@id"];if(l.length)return l[0].id}}}return t=i+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,r+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var r=n.getItems(),i=0;i<r.length;i++){var s=r[i],a=new o.Annotation(s,this.options);e.push(a)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],r=new o.Annotation(n,this.options);e.push(r)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],n=t.filter((function(e){return e&&(t=e["@type"],n="sc:AnnotationList","string"==typeof t&&"string"==typeof n&&t.toLowerCase()==t.toLowerCase());var t,n})).map((function(t,n){return new o.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(n)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.Resource);t.Canvas=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._collections=null,r._manifests=null,t.__collection=r,r}return i(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],r=n.getDefaultTree();r.label=n.parentLabel||s.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),e.defaultTree.addNode(r)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],r=n.getDefaultTree();r.label=n.parentLabel||s.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),e.defaultTree.addNode(r)}},t}(s.IIIFResource);t.Collection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=r.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=r.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?r.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===r.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),r.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===r.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t};t.Language=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.parse=function(e,t){var n,r=[];if(!e)return r;if(Array.isArray(e))for(var i=0;i<e.length;i++){var s=e[i];n="string"==typeof s?new o.Language(s,t):new o.Language(s["@value"],s["@language"]||t),r.push(n)}else{if("string"==typeof e)return n=new o.Language(e,t),r.push(n),r;e["@value"]?(n=new o.Language(e["@value"],e["@language"]||t),r.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");n=new o.Language(e[t],t),r.push(n)}))}return r},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.index=0,r._allRanges=null,r.items=[],r._topRanges=[],r.__jsonld.structures&&r.__jsonld.structures.length)for(var i=r._getTopRanges(),o=0;o<i.length;o++){var s=i[o];r._parseRanges(s,String(o))}return r}return i(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new s.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var r={};r.ranges=this.__jsonld.structures,e.push(r)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var r,i=null;if("string"==typeof e&&(i=e,e=this._getRangeById(i)),e){(r=new s.Range(e,this.options)).parentRange=n,r.path=t,n?n.items.push(r):this._topRanges.push(r);var o=e.items||e.members;if(o)for(var a=0;a<o.length;a++){var u=o[a];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+a,r);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){r.canvases||(r.canvases=[]);var c=u.id||u["@id"];r.canvases.push(c)}}else if(e.ranges)for(a=0;a<e.ranges.length;a++)this._parseRanges(e.ranges[a],t+"/"+a,r)}else console.warn("Range:",i,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var r=e[t];r.id&&n._allRanges.push(r);var i=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(i,e):e},o=Array.from(r.getRanges().reduce(i,new Set));n._allRanges=n._allRanges.concat(o)},n=this,r=0;r<e.length;r++)t(r);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.path===e)return r}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=new s.Sequence(n,this.options);this.items.push(r)}else if(this.__jsonld.items){r=new s.Sequence(this.__jsonld.items,this.options);this.items.push(r)}return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):s.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(s.IIIFResource);t.Manifest=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ranges=null,r.canvases=null,r.items=[],r}return i(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var r=this.canvases[n],i=o.Utils.getTemporalComponent(r);i&&i.length>1&&(0===n&&(e=Number(i[0])),n===this.canvases.length-1&&(t=Number(i[1])))}else{var s=this.getRanges();for(n=0;n<s.length;n++){var a=s[n].getDuration();a&&(0===n&&(e=a.start),n===s.length-1&&(t=a.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=new o.TreeNode;e.addNode(i),this._parseTreeNode(i,r)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];if(i.getBehavior()!==s.Behavior.NO_NAV){var a=new o.TreeNode;e.addNode(a),this._parseTreeNode(a,i)}}},t}(o.ManifestResource);t.Range=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._thumbnails=null,r}return i(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(r=new s.Canvas(n,this.options)).index=t,this.items.push(r)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var r;n=this.__jsonld[t];(r=new s.Canvas(n,this.options)).index=t,this.items.push(r)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),r=s.Utils.normaliseUrl(n.id);if(s.Utils.normaliseUrl(e)===r)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,r,i,o=/(\d*)\D+(\d*)/,a=0;a<this.getTotalCanvases();a++){var u=this.getCanvasByIndex(a);if(s.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return a;if((n=o.exec(e))&&(r=n[1],(i=n[2])&&new RegExp("^"+r+"\\D+"+i+"$").test(u.getLabel().toString())))return a}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),r=s.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(r))return r}else if(r)return r}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[0]+1:r[r.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var r=this.getViewingDirection();r&&r===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[r.length-1]-1:r[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return 0},t.prototype.getThumbs=function(e,t){for(var n=[],r=this.getTotalCanvases(),i=0;i<r;i++){var o=this.getCanvasByIndex(i),a=new s.Thumb(e,o);n.push(a)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(s.ManifestResource);t.Sequence=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new r.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){t&&(t.index=r);var i=this.parseCollection(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseManifest=function(e,t){return new r.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){var i=this.parseManifest(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var r=function(r){t&&(t.index=r);var o=i.parseItem(n[r],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=r,o.parentCollection=e,void e.items.push(o)):{value:void 0}},i=this,o=0;o<n.length;o++){var s=r(o);if("object"==typeof s)return s.value}},e}();t.Deserialiser=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+="info.json"},t}(o.ManifestResource);t.Service=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.width=e,this.height=t};t.Size=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=r.LanguageMap.getValue(t.getLabel())};t.Thumb=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.RANGE)},e}();t.TreeNode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])}));

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/webpack-jquery-ui/effects.js":
/*!**************************************!*\
  !*** (webpack)-jquery-ui/effects.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/effect */ "./node_modules/jquery-ui/ui/effect.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-blind */ "./node_modules/jquery-ui/ui/effects/effect-blind.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-bounce */ "./node_modules/jquery-ui/ui/effects/effect-bounce.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-clip */ "./node_modules/jquery-ui/ui/effects/effect-clip.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-drop */ "./node_modules/jquery-ui/ui/effects/effect-drop.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-explode */ "./node_modules/jquery-ui/ui/effects/effect-explode.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fade */ "./node_modules/jquery-ui/ui/effects/effect-fade.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fold */ "./node_modules/jquery-ui/ui/effects/effect-fold.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-highlight */ "./node_modules/jquery-ui/ui/effects/effect-highlight.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-puff */ "./node_modules/jquery-ui/ui/effects/effect-puff.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-pulsate */ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-shake */ "./node_modules/jquery-ui/ui/effects/effect-shake.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-slide */ "./node_modules/jquery-ui/ui/effects/effect-slide.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-transfer */ "./node_modules/jquery-ui/ui/effects/effect-transfer.js");

/***/ }),

/***/ "./node_modules/webpack-jquery-ui/slider.js":
/*!*************************************!*\
  !*** (webpack)-jquery-ui/slider.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/widget */ "./node_modules/jquery-ui/ui/widget.js");
__webpack_require__(/*! jquery-ui/ui/keycode */ "./node_modules/jquery-ui/ui/keycode.js");
__webpack_require__(/*! jquery-ui/ui/widgets/mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js");
__webpack_require__(/*! jquery-ui/ui/widgets/slider */ "./node_modules/jquery-ui/ui/widgets/slider.js");
__webpack_require__(/*! jquery-ui/themes/base/core.css */ "./node_modules/jquery-ui/themes/base/core.css");
__webpack_require__(/*! jquery-ui/themes/base/slider.css */ "./node_modules/jquery-ui/themes/base/slider.css");

/***/ }),

/***/ "./src/components/languages/lang.js":
/*!******************************************!*\
  !*** ./src/components/languages/lang.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  locales: [{
    name: 'Български',
    code: 'bg',
    iso: 'bg-BG'
  }, {
    name: 'Čeština',
    code: 'cs',
    iso: 'cs-CZ'
  }, {
    name: 'Dansk',
    code: 'da',
    iso: 'da-DK'
  }, {
    name: 'Deutsch',
    code: 'de',
    iso: 'de-DE'
  }, {
    name: 'Ελληνικά',
    code: 'el',
    iso: 'el-GR'
  }, {
    name: 'English',
    code: 'en',
    iso: 'en-GB'
  }, {
    name: 'Español',
    code: 'es',
    iso: 'es-ES'
  }, {
    name: 'Eesti',
    code: 'et',
    iso: 'et-EE'
  }, {
    name: 'Euskara',
    code: 'eu',
    iso: 'eu-ES'
  }, {
    name: 'Suomi',
    code: 'fi',
    iso: 'fi-FI'
  }, {
    name: 'Français',
    code: 'fr',
    iso: 'fr-FR'
  }, {
    name: 'Gaeilge',
    code: 'ga',
    iso: 'ga-IE'
  }, {
    name: 'Hrvatski',
    code: 'hr',
    iso: 'hr-HR'
  }, {
    name: 'Magyar',
    code: 'hu',
    iso: 'hu-HU'
  }, {
    name: 'Italiano',
    code: 'it',
    iso: 'it-IT'
  }, {
    name: 'Lietuvių',
    code: 'lt',
    iso: 'lt-LT'
  }, {
    name: 'Latviešu',
    code: 'lv',
    iso: 'lv-LV'
  }, {
    name: 'Malti',
    code: 'mt',
    iso: 'mt-MT'
  }, {
    name: 'Nederlands',
    code: 'nl',
    iso: 'nl-NL'
  }, {
    name: 'Polski',
    code: 'pl',
    iso: 'pl-PL'
  }, {
    name: 'Português',
    code: 'pt',
    iso: 'pt-PT'
  }, {
    name: 'Română',
    code: 'ro',
    iso: 'ro-RO'
  }, {
    name: 'Slovenčina',
    code: 'sk',
    iso: 'sk-SK'
  }, {
    name: 'Slovenščina',
    code: 'sl',
    iso: 'sl-SI'
  }, {
    name: 'Svenska',
    code: 'sv',
    iso: 'sv-SE'
  }]
};

/***/ }),

/***/ "./src/components/player/EUscreen.js":
/*!*******************************************!*\
  !*** ./src/components/player/EUscreen.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

/* global $ */

var idPart = '?id=';

function handleEUscreenItem(player, helper) {
  return new Promise(function (resolve, reject) {
    var EUscreenitempage = helper.manifest.__jsonld.items[0].items[0].items[0].body.id;
    var EUscreenId = EUscreenitempage.substring(EUscreenitempage.indexOf(idPart) + idPart.length);

    $.get('https://euscreen.embd.eu/' + EUscreenId, function (response) {
      helper.manifest.__jsonld.items[0].id = helper.manifest.__jsonld.id.substring(0, helper.manifest.__jsonld.id.lastIndexOf('/')) + '/canvas/p1';
      helper.manifest.__jsonld.items[0].type = 'Canvas';
      helper.manifest.__jsonld.items[0].height = response.height;
      helper.manifest.__jsonld.items[0].width = response.width;
      helper.manifest.__jsonld.items[0].duration = response.duration;

      helper.manifest.__jsonld.items[0].items[0].items[0].body.id = response.location;
      helper.manifest.__jsonld.items[0].items[0].items[0].body.format = response.format;

      resolve(helper);
    }).fail(function () {
      console.error('Could not receive required iem information for ' + EUscreenId);
      reject(helper);
    });
  });
}

module.exports = {
  handleEUscreenItem: handleEUscreenItem
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/i18n/languages.json":
/*!***************************************************!*\
  !*** ./src/components/player/i18n/languages.json ***!
  \***************************************************/
/*! exports provided: en, nl, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"en\":{\"player-play\":\"Play\",\"player-pause\":\"Pause\",\"player-fullscreen\":\"Fullscreen\",\"player-mute\":\"Mute\",\"player-unmute\":\"Unmute\",\"player-subtitles\":\"Subtitles\",\"player-more\":\"More\",\"player-create-annotations\":\"Create annotations\",\"player-create-embed\":\"Create embed\",\"player-create-playlist\":\"Create playlist\",\"player-create-subtitles\":\"Create subtitles\",\"player-error\":\"Error\",\"player-error-loading\":\"loading aborted\",\"player-error-network\":\"network error\",\"player-error-decoding\":\"decoding of media failed\",\"player-error-format\":\"media format not suppported by this browser\",\"player-error-unknown\":\"unknown\"},\"nl\":{\"player-play\":\"Afspelen\",\"player-pause\":\"Pauzeren\",\"player-fullscreen\":\"Volledig scherm\",\"player-mute\":\"Dempen\",\"player-unmute\":\"Dempen opheffen\",\"player-subtitles\":\"Ondertitels\",\"player-more\":\"Meer\",\"player-create-annotation\":\"Maak annotaties\",\"player-create-embed\":\"Maak een embed\",\"player-create-playlist\":\"Maak een playlist\",\"player-create-subtitles\":\"Maak ondertitels\",\"player-error\":\"Error\",\"player-error-loading\":\"laden geannuleerd\",\"player-error-network\":\"netwerk error\",\"player-error-decoding\":\"media decoderen mislukt\",\"player-error-format\":\"media formaat wordt niet ondersteund door deze browser\",\"player-error-unknown\":\"onbekend\"}}");

/***/ }),

/***/ "./src/components/player/index.css":
/*!*****************************************!*\
  !*** ./src/components/player/index.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css", function() {
		var newContent = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/components/player/index.js":
/*!****************************************!*\
  !*** ./src/components/player/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ initCanvasNavigation */

__webpack_require__(/*! ./index.css */ "./src/components/player/index.css");

var _bananaI18n = __webpack_require__(/*! banana-i18n */ "./node_modules/banana-i18n/dist/banana-i18n.js");

var _bananaI18n2 = _interopRequireDefault(_bananaI18n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

__webpack_require__(/*! @iiif/iiif-tree-component */ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js");
__webpack_require__(/*! @iiif/base-component */ "./node_modules/@iiif/base-component/dist-esmodule/index.js");
__webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
var Manifold = __webpack_require__(/*! @iiif/manifold */ "./node_modules/@iiif/manifold/dist-esmodule/index.js");
var IIIFAVComponent = __webpack_require__(/*! @iiif/iiif-av-component */ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js");
__webpack_require__(/*! dashjs */ "dashjs");

__webpack_require__(/*! webpack-jquery-ui/slider */ "./node_modules/webpack-jquery-ui/slider.js");
__webpack_require__(/*! webpack-jquery-ui/effects */ "./node_modules/webpack-jquery-ui/effects.js");

var _require = __webpack_require__(/*! ./playerEventHandlers */ "./src/components/player/playerEventHandlers.js"),
    playEventHandler = _require.playEventHandler,
    pauseEventHandler = _require.pauseEventHandler,
    volumeChangedEventHandler = _require.volumeChangedEventHandler,
    keyEventHandler = _require.keyEventHandler,
    playPauseEventHandler = _require.playPauseEventHandler,
    fullScreenEventHandler = _require.fullScreenEventHandler,
    editorButtonEventHandler = _require.editorButtonEventHandler,
    toggleSubtitlesEventHandler = _require.toggleSubtitlesEventHandler,
    subtitleMenuEventHandler = _require.subtitleMenuEventHandler,
    openEditorTypeEventHandler = _require.openEditorTypeEventHandler,
    mediaErrorHandler = _require.mediaErrorHandler;

var _require2 = __webpack_require__(/*! ./EUscreen */ "./src/components/player/EUscreen.js"),
    handleEUscreenItem = _require2.handleEUscreenItem;

var _require3 = __webpack_require__(/*! ./transcriptionAnnotations */ "./src/components/player/transcriptionAnnotations.js"),
    handleTranscriptionAnnotations = _require3.handleTranscriptionAnnotations;

var languages = __webpack_require__(/*! ../languages/lang.js */ "./src/components/languages/lang.js").default.locales;
var i18n = __webpack_require__(/*! ./i18n/languages.json */ "./src/components/player/i18n/languages.json");

var helper = void 0;

var Player = function () {
  function Player(elem) {
    _classCallCheck(this, Player);

    if (!elem) return;
    this.elem = elem;

    this.videoId = '';
    this.avcomponent;
    this.timeupdate;
    this.manifest;
    this.manifesturl;
    this.editorurl;
    this.banana;
  }

  _createClass(Player, [{
    key: 'init',
    value: function init(videoObj, editorurl, language) {
      this.createAVComponent();
      this.createManifest(videoObj);
      this.editorurl = editorurl;

      this.state = {
        limitToRange: false,
        autoSelectRange: true,
        constrainNavigationToRange: true,
        virtualCanvasEnabled: true
      };

      //Check if the language is set, and if we have this present, otherwise default to English
      if (language.length === 0 || languages.find(function (lang) {
        return lang.code === language;
      }) === undefined) {
        language = 'en';
      }

      var banana = new _bananaI18n2.default(language);
      banana.load(i18n[language], language);
      this.banana = banana;
    }
  }, {
    key: 'createAVComponent',
    value: function createAVComponent() {
      var _this = this;

      this.$avcomponent = $('<div class="iiif-av-component" tabindex="0"></div>');
      $(this.elem).append(this.$avcomponent);

      var player = this;

      this.avcomponent = new IIIFAVComponent.AVComponent({ target: this.$avcomponent[0] });

      this.avcomponent.on('mediaerror', function (error) {
        mediaErrorHandler(player, error);
      });

      this.avcomponent.on('log', function (message) {
        console.log(message);
      });

      this.avcomponent.on('play', function () {
        playEventHandler(player);
      });

      this.avcomponent.on('pause', function () {
        pauseEventHandler(player);
      });

      this.avcomponent.on('mediaready', function () {
        _this.handleMediaReady(player);
      });

      this.avcomponent.on('fullscreen', function () {
        fullScreenEventHandler(player);
      });

      this.avcomponent.on('volumechanged', function (value) {
        volumeChangedEventHandler(player, value);
      });

      this.$avcomponent.on('keydown', function (e) {
        keyEventHandler(player, e);
      });
    }
  }, {
    key: 'itemSelectListener',
    value: function itemSelectListener(data) {
      if (this.handler === undefined) {
        this.handler = this;
      }

      this.handler.videoId = data;

      var player = this;

      this.handler.ldManifest(data, function (helper) {
        player.manifest = helper.manifest;

        var canvases = helper.getCanvases();
        if (canvases.length > 1) {
          initCanvasNavigation(canvases);
        } else {
          $('.canvasNavigationContainer').hide();
        }
      }, function (error) {
        console.error('ERROR: Could not load manifest data.', error);
      });
    }
  }, {
    key: 'ldManifest',
    value: function ldManifest(manifest, successcb, errorcb) {
      var player = this;

      Manifold.loadManifest({
        manifestUri: manifest,
        collectionIndex: 0,
        manifestIndex: 0,
        sequenceIndex: 0,
        canvasIndex: 0
      }).then(function (h) {
        helper = h;

        if (helper.manifest.__jsonld.items[0].items[0].items[0].body.id.indexOf('http://www.euscreen.eu/item.html?id=') > -1) {
          handleEUscreenItem(player, helper).then(function (h) {
            helper = h;
            player.setAvComponent(player, successcb);
          });
        } else {
          player.setAvComponent(player, successcb);
        }
      }).catch(function (e) {
        errorcb(e);
      });
    }
  }, {
    key: 'setAvComponent',
    value: function setAvComponent(player, successcb) {
      player.avcomponent.set({
        helper: helper,
        limitToRange: player.state.limitToRange,
        autoSelectRange: player.state.autoSelectRange,
        constrainNavigationToRange: player.state.constrainNavigationToRange,
        virtualCanvasEnabled: player.state.virtualCanvasEnabled
      });
      successcb(helper);
      player.resize();
    }
  }, {
    key: 'resize',
    value: function resize() {
      var $playerContainer = $('#' + this.elem.id + ' .playerContainer');
      $playerContainer.height($playerContainer.width() * 0.75);
      this.avcomponent.resize();
    }
  }, {
    key: 'createManifest',
    value: function createManifest(vObj) {
      if (!vObj.manifest && vObj.source.startsWith('EUS_')) {
        vObj.manifest = 'https://videoeditor.noterik.com/manifest/euscreenmanifest.php?id=' + vObj.source;
      }

      this.manifesturl = vObj.manifest;
      this.itemSelectListener(vObj.manifest);
    }
  }, {
    key: 'initLanguages',
    value: function initLanguages() {
      var _this2 = this;

      var textTracks = $('#' + this.elem.id + ' video')[0].textTracks;

      //check if we have any texttracks
      if (textTracks.length === 0) {
        return;
      }

      //show button only if we have at least one language set
      $('.btn[data-name=Subtitles]').show();

      var menu = '<div class=\'anno subtitlemenu\'>';

      var _loop = function _loop(i) {
        menu += '<div class=\'subtitlemenu-option\' data-language=\'' + textTracks[i].language + '\'>' + languages.find(function (lang) {
          return lang.iso === textTracks[i].language;
        }).name + '</div>';
      };

      for (var i = 0; i < textTracks.length; i++) {
        _loop(i);
      }
      menu += '</div>';

      $('#' + this.elem.id + ' .canvas-container').append(menu);

      $('button[data-name="Subtitles"]')[0].addEventListener('click', function (e) {
        toggleSubtitlesEventHandler(_this2, e);
      });

      var player = this;

      $('.subtitlemenu-option').on('click', function (e) {
        subtitleMenuEventHandler(player, e);
      });
      this.avcomponent.fire('languagesinitialized');
    }

    //todo: address audio as well

  }, {
    key: 'hasEnded',
    value: function hasEnded() {
      if ($('#' + this.elem.id + ' video').length) {
        return $('#' + this.elem.id + ' video')[0].ended;
      } else {
        return false;
      }
    }
  }, {
    key: 'handleMediaReady',
    value: function handleMediaReady(player) {
      if (player.avcomponent.canvasInstances[0]._canvasWidth < 400) {
        this.optimizeForSmallerScreens();
      }

      this.updateAVComponentLanguage(player);

      var subtitles = this.createButton('Subtitles', this.banana.i18n('player-subtitles'), 'av-icon-subtitles');
      $('#' + player.elem.id + ' .controls-container').append(subtitles);

      if (player.editorurl && player.editorurl.length > 0) {
        var showMenu = player.needToShowMenu(player);

        if (showMenu) {
          this.addEditorOption(player);
        }
      }

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno playwrapper\'><span class=\'playcircle\'></span></div>');

      this.handleMediaType(player);
      handleTranscriptionAnnotations(player);

      $('#' + player.elem.id + ' .canvas-container').on('click', function () {
        playPauseEventHandler(player);
      });
    }
  }, {
    key: 'optimizeForSmallerScreens',
    value: function optimizeForSmallerScreens() {
      $('.iiif-av-component .controls-container .volume').css({ 'width': 80 });
      $('.iiif-av-component .controls-container .volume .volume-slider').css({ 'width': 42 });
    }
  }, {
    key: 'addEditorOption',
    value: function addEditorOption(player) {
      var more = this.createButton('More', this.banana.i18n('player-more'), 'av-icon-more');
      more[0].addEventListener('click', function (e) {
        editorButtonEventHandler(player, e);
      });
      $('#' + player.elem.id + ' .controls-container').append(more);

      this.handleMenuOptions(player);
    }
  }, {
    key: 'updateAVComponentLanguage',
    value: function updateAVComponentLanguage(player) {
      $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n('player-mute'));
      $('#' + player.elem.id + ' .button-fullscreen').attr('title', player.banana.i18n('player-fullscreen'));
      $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
    }
  }, {
    key: 'createButton',
    value: function createButton(name, text, classname) {
      var button = $('<button class="btn" data-name="' + name + '" title="' + text + '"><i class="av-icon ' + classname + '" aria-hidden="true"></i>' + text + '</button>');
      return button;
    }
  }, {
    key: 'handleMenuOptions',
    value: function handleMenuOptions(player) {
      var _this3 = this;

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno moremenu\'></div>');

      var options = { embed: true, annotation: false, playlist: false, subtitles: false };
      options = player.determineOptionDisplay(player, options);

      var _loop2 = function _loop2(key, value) {
        if (value) {
          $('#' + player.elem.id + ' .moremenu').append('<div id=\'create-' + key + '-link\' class=\'moremenu-option\'>' + _this3.banana.i18n('player-create-' + key) + '</div>');

          $('#' + player.elem.id + ' #create-' + key + '-link').on('click', function (e) {
            openEditorTypeEventHandler(player, e, key);
          });
        }
      };

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = Object.entries(options)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _ref = _step.value;

          var _ref2 = _slicedToArray(_ref, 2);

          var key = _ref2[0];
          var value = _ref2[1];

          _loop2(key, value);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'needToShowMenu',
    value: function needToShowMenu(player) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var _ref3 = _step2.value;

          var _ref4 = _slicedToArray(_ref3, 2);

          var key = _ref4[0];
          var value = _ref4[1];

          if (value === 'allowed' && (key === 'embed' || key === 'annotation' || key === 'playlist' || key === 'subtitles')) {
            return true;
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return false;
    }
  }, {
    key: 'determineOptionDisplay',
    value: function determineOptionDisplay(player, options) {
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var _ref5 = _step3.value;

          var _ref6 = _slicedToArray(_ref5, 2);

          var key = _ref6[0];
          var value = _ref6[1];

          if (value === 'allowed') {
            options[key] = true;
          }
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      return options;
    }
  }, {
    key: 'handleMediaType',
    value: function handleMediaType(player) {
      var w = void 0,
          h = void 0;
      w = h = 400;
      switch (this.getMediaType(player)) {
        case 'Audio':
          this.setImage(player, player.manifest.__jsonld.thumbnail[0].id);
          break;
        case 'Video':
          w = player.avcomponent.canvasInstances[0]._canvasWidth;
          h = player.avcomponent.canvasInstances[0]._canvasHeight;
      }
      $('#' + player.elem.id).css({ width: w, height: h });
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(player) {
      return player.manifest.__jsonld.items[0].items[0].items[0].body.type;
    }
  }, {
    key: 'setImage',
    value: function setImage(player, image) {
      $('#' + player.elem.id + ' .canvas-container').css({ 'background-image': 'url(' + image + ')' });
      $('#' + player.elem.id + ' .canvas-container').addClass('audio-background');
    }
  }]);

  return Player;
}();

exports.default = Player;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/playerEventHandlers.js":
/*!******************************************************!*\
  !*** ./src/components/player/playerEventHandlers.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

/* global $ */

function playEventHandler(player) {
  $('#' + player.elem.id + ' .playwrapper').hide();
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-pause'));
}

function pauseEventHandler(player) {
  clearInterval(player.timeupdate);
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
}

function volumeChangedEventHandler(player, value) {
  var muteType = value !== 0 ? 'player-mute' : 'player-unmute';
  $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n(muteType));
}

function keyEventHandler(player, e) {
  if (e.keyCode === 32 || e.keyCode === 75) {
    //space bar, k button
    playPauseEventHandler(player);
  }
  if (e.keyCode === 70) {
    //f button
    $('#' + player.elem.id + ' .button-fullscreen').click();
  }
  if (e.keyCode === 38) {
    //volume up by 10%
    handleVolumeChange(player, 0.1);
  }
  if (e.keyCode === 40) {
    //volume down by 10%
    handleVolumeChange(player, -0.1);
  }
}

function playPauseEventHandler(player) {
  if (player.avcomponent.canvasInstances[0]._isPlaying) {
    player.avcomponent.canvasInstances[0].pause();
  } else {
    //hide playcircle if showing
    if ($('#' + player.elem.id + ' .playwrapper').is(':visible')) {
      $('#' + player.elem.id + ' .playwrapper').hide();
    }
    player.avcomponent.canvasInstances[0].play();
  }
}

function fullScreenEventHandler(player) {
  $('#' + player.elem.id + ' .moremenu').hide();
  $('#' + player.elem.id + ' .subtitlemenu').hide();
}

function handleVolumeChange(player, rate) {
  var val = $('#' + player.elem.id + ' .volume-slider').slider('option', 'value');
  val = determineNewVolume(val, rate);
  $('#' + player.elem.id + ' .volume-slider').slider('value', val);
}

function determineNewVolume(val, rate) {
  if (rate < 0) {
    return decreaseVolume(val, rate);
  } else {
    return increaseVolume(val, rate);
  }
}

function decreaseVolume(val, rate) {
  return val < rate ? 0 : val + rate;
}

function increaseVolume(val, rate) {
  return val > rate + val > 1 ? 1 : val + rate;
}

function editorButtonEventHandler(player, e) {
  toggleMenuOption(player, e, 'moremenu', 'More');
}

function toggleSubtitlesEventHandler(player, e) {
  toggleMenuOption(player, e, 'subtitlemenu', 'Subtitles');
}

function toggleMenuOption(player, e, cls, name) {
  e.preventDefault();

  if ($('#' + player.elem.id + ' .' + cls).is(':visible')) {
    $('#' + player.elem.id + ' .' + cls).hide();
  } else {
    $('#' + player.elem.id + ' .' + cls).css({ bottom: $('#' + player.elem.id + ' .options-container').height(), left: $('#' + player.elem.id + ' .btn[data-name="' + name + '"]').offset().left - $('#' + player.elem.id + ' .player').offset().left - $('#' + player.elem.id + ' .' + cls).width() / 2 });
    $('#' + player.elem.id + ' .' + cls).show();
  }
}

function subtitleMenuEventHandler(player, e) {
  $('#' + player.elem.id + ' .subtitlemenu').hide();
  var textTracks = $('#' + player.elem.id + ' video')[0].textTracks;

  for (var i = 0; i < textTracks.length; i++) {
    if ($(e.target).data('language') === textTracks[i].language) {
      textTracks[i].mode = 'showing';
    } else {
      textTracks[i].mode = 'hidden';
    }
  }
  //prevent the play/pause handler to react
  e.stopPropagation();
}

function openEditorTypeEventHandler(player, e, type) {
  //prevent the play/pause handler to react
  e.stopPropagation();

  window.open(player.editorurl + '?manifest=' + encodeURIComponent(player.manifesturl) + '#' + type, '_blank');
}

function mediaErrorHandler(player, error) {
  console.error('media error', error);

  $('#' + player.elem.id + ' .player').removeClass('player--loading');
  var errormessage = player.banana.i18n('player-error') + ': ';
  switch (error.code) {
    case 1:
      errormessage += player.banana.i18n('player-error-loading');
      break;
    case 2:
      errormessage += player.banana.i18n('player-error-network');
      break;
    case 3:
      errormessage += player.banana.i18n('player-error-decoding');
      break;
    case 4:
      errormessage += player.banana.i18n('player-error-format');
      break;
    default:
      errormessage += player.banana.i18n('player-error-unknown');
      break;
  }

  $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno errormessage\'>' + errormessage + '</div>');
}

module.exports = {
  playEventHandler: playEventHandler, pauseEventHandler: pauseEventHandler, volumeChangedEventHandler: volumeChangedEventHandler, keyEventHandler: keyEventHandler, playPauseEventHandler: playPauseEventHandler, fullScreenEventHandler: fullScreenEventHandler, editorButtonEventHandler: editorButtonEventHandler, toggleSubtitlesEventHandler: toggleSubtitlesEventHandler, subtitleMenuEventHandler: subtitleMenuEventHandler, openEditorTypeEventHandler: openEditorTypeEventHandler, mediaErrorHandler: mediaErrorHandler
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/transcriptionAnnotations.js":
/*!***********************************************************!*\
  !*** ./src/components/player/transcriptionAnnotations.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

/* global $ */

var languages = __webpack_require__(/*! ../languages/lang.js */ "./src/components/languages/lang.js").default.locales;

function handleTranscriptionAnnotations(player) {
  if (player.manifest.__jsonld.items[0].annotations && player.manifest.__jsonld.items[0].annotations[0]) {
    fetchAnnotations(player);
  }
}

function fetchAnnotations(player) {
  $.get(player.manifest.__jsonld.items[0].annotations[0].id, function (response) {
    var textResource = response.resources.find(function (resource) {
      return resource.dcType === 'Media';
    });

    fetchTextResource(player, response, textResource);
  });
}

function fetchTextResource(player, annotationResource, textResource) {
  //determine text, fetch, then loop over all entries and add them to a text track
  $.ajax({
    type: 'GET',
    url: textResource.resource['@id'],
    contentType: 'application/x-www-form-urlencoded;charset=utf-8',
    dataType: 'json',
    success: function success(fullText) {
      var track = $('#' + player.elem.id + ' video')[0].addTextTrack('subtitles', 'subitles', languages.find(function (lang) {
        return lang.code === fullText.language;
      }).iso);

      annotationResource.resources.forEach(function (element) {
        if (element.dcType === 'Caption') {
          track.addCue(handleCaption(element, fullText));
        }
      });
      player.initLanguages();
    }
  });
}

function handleCaption(element, fullText) {
  var characterRange = element.resource['@id'].substring(element.resource['@id'].lastIndexOf('=') + 1);
  var charRange = characterRange.split(',');
  var subtitleString = fullText.value.substring(charRange[0], charRange[1]);
  var timeRange = element.on[0].substring(element.on[0].lastIndexOf('=') + 1);
  var tRange = timeRange.split(',');

  var cue = new VTTCue(timeToSeconds(tRange[0]), timeToSeconds(tRange[1]), subtitleString);
  cue.id = element.resource['@id'];
  cue.line = -4;
  cue.size = 90;

  return cue;
}

function timeToSeconds(time) {
  var _time$split = time.split(':'),
      _time$split2 = _slicedToArray(_time$split, 3),
      hours = _time$split2[0],
      minutes = _time$split2[1],
      seconds = _time$split2[2];

  hours = parseInt(hours);
  minutes = parseInt(minutes);
  var milliseconds = void 0;

  var parts = seconds.lastIndexOf('.') > -1 ? seconds.split('.') : [seconds, 0];
  seconds = parseInt(parts[0]);

  milliseconds = parts[1].length === 2 ? parseInt(parts[1]) * 10 : parseInt(parts[1]);

  return hours * 3600 + minutes * 60 + seconds + '.' + milliseconds;
}

module.exports = {
  handleTranscriptionAnnotations: handleTranscriptionAnnotations
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css", function() {
		var newContent = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.uuidv4 = exports.init = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ */


__webpack_require__(/*! ./index.css */ "./src/index.css");

var _player = __webpack_require__(/*! ./components/player */ "./src/components/player/index.js");

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editorurl = '';
var player = void 0;
var language = '';

var init = exports.init = function init(container, videoObj, options) {
  //Create unique player id
  var playerId = uuidv4();

  //Append player to container with the unique id
  $(container).append('<div id="eups-player-' + playerId + '" class="eups-player"></div>');

  //Set options
  editorurl = options.editor || editorurl;
  language = options.language || language;

  //Create player
  player = new _player2.default(document.getElementById('eups-player-' + playerId));

  //Initialize player
  player.init(videoObj, editorurl, language);
};

var uuidv4 = exports.uuidv4 = function uuidv4() {
  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
  });
};

var EuropeanaMediaPlayer = function () {
  function EuropeanaMediaPlayer(container, videoObj, options) {
    _classCallCheck(this, EuropeanaMediaPlayer);

    options = arguments.length > 2 ? options : {};
    init(container, videoObj, options);
  }

  _createClass(EuropeanaMediaPlayer, [{
    key: 'player',
    get: function get() {
      return player;
    }
  }]);

  return EuropeanaMediaPlayer;
}();

exports.default = EuropeanaMediaPlayer;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");


/***/ }),

/***/ "dashjs":
/*!*************************!*\
  !*** external "dashjs" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_dashjs__;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jquery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGVkc2lsdi9odHRwLXN0YXR1cy1jb2Rlcy9kaXN0LXVtZC9odHRwc3RhdHVzY29kZXMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvYmFzZS1jb21wb25lbnQvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9paWlmLWF2LWNvbXBvbmVudC9kaXN0LXVtZC9JSUlGQVZDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvaWlpZi10cmVlLWNvbXBvbmVudC9kaXN0LXVtZC9JSUlGVHJlZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Fubm90YXRpb25Hcm91cC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Fubm90YXRpb25SZWN0LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvQm9vdHN0cmFwcGVyLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvRXJyb3JzLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvRXh0ZXJuYWxSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0hlbHBlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0lMYWJlbFZhbHVlUGFpci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL01ldGFkYXRhR3JvdXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9NZXRhZGF0YU9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9NdWx0aVNlbGVjdFN0YXRlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9UcmVlU29ydFR5cGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9VcmlMYWJlbGxlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL3ZvY2FidWxhcnkvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9iYW5hbmEtaTE4bi9kaXN0L2JhbmFuYS1pMThuLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS90aGVtZXMvYmFzZS9jb3JlLmNzcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9jb21wb25lbnRzL3BsYXllci9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvaW5kZXguY3NzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2UvY29yZS5jc3M/MGVhYSIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzcz80NWFhIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3QuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWJsaW5kLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1ib3VuY2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWNsaXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWRyb3AuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWV4cGxvZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWZhZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWZvbGQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWhpZ2hsaWdodC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtcHVmZi5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtcHVsc2F0ZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2NhbGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNoYWtlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zaXplLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zbGlkZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtdHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2llLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9rZXljb2RlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS92ZXJzaW9uLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvbW91c2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvc2xpZGVyLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LXVtZC9tYW5pZmVzdG8uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLyh3ZWJwYWNrKS1qcXVlcnktdWkvZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8od2VicGFjayktanF1ZXJ5LXVpL3NsaWRlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9jb21wb25lbnRzL2xhbmd1YWdlcy9sYW5nLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL0VVc2NyZWVuLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmNzcz81ZDYxIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL3BsYXllckV2ZW50SGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvY29tcG9uZW50cy9wbGF5ZXIvdHJhbnNjcmlwdGlvbkFubm90YXRpb25zLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2luZGV4LmNzcz83ZDFmIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyL2V4dGVybmFsIFwiZGFzaGpzXCIiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvZXh0ZXJuYWwgXCJqcXVlcnlcIiJdLCJuYW1lcyI6WyJsb2NhbGVzIiwibmFtZSIsImNvZGUiLCJpc28iLCJpZFBhcnQiLCJoYW5kbGVFVXNjcmVlbkl0ZW0iLCJwbGF5ZXIiLCJoZWxwZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkVVc2NyZWVuaXRlbXBhZ2UiLCJtYW5pZmVzdCIsIl9fanNvbmxkIiwiaXRlbXMiLCJib2R5IiwiaWQiLCJFVXNjcmVlbklkIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImxlbmd0aCIsIiQiLCJnZXQiLCJyZXNwb25zZSIsImxhc3RJbmRleE9mIiwidHlwZSIsImhlaWdodCIsIndpZHRoIiwiZHVyYXRpb24iLCJsb2NhdGlvbiIsImZvcm1hdCIsImZhaWwiLCJjb25zb2xlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsIk1hbmlmb2xkIiwiSUlJRkFWQ29tcG9uZW50IiwicGxheUV2ZW50SGFuZGxlciIsInBhdXNlRXZlbnRIYW5kbGVyIiwidm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlciIsImtleUV2ZW50SGFuZGxlciIsInBsYXlQYXVzZUV2ZW50SGFuZGxlciIsImZ1bGxTY3JlZW5FdmVudEhhbmRsZXIiLCJlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIiLCJ0b2dnbGVTdWJ0aXRsZXNFdmVudEhhbmRsZXIiLCJzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIiLCJvcGVuRWRpdG9yVHlwZUV2ZW50SGFuZGxlciIsIm1lZGlhRXJyb3JIYW5kbGVyIiwiaGFuZGxlVHJhbnNjcmlwdGlvbkFubm90YXRpb25zIiwibGFuZ3VhZ2VzIiwiZGVmYXVsdCIsImkxOG4iLCJQbGF5ZXIiLCJlbGVtIiwidmlkZW9JZCIsImF2Y29tcG9uZW50IiwidGltZXVwZGF0ZSIsIm1hbmlmZXN0dXJsIiwiZWRpdG9ydXJsIiwiYmFuYW5hIiwidmlkZW9PYmoiLCJsYW5ndWFnZSIsImNyZWF0ZUFWQ29tcG9uZW50IiwiY3JlYXRlTWFuaWZlc3QiLCJzdGF0ZSIsImxpbWl0VG9SYW5nZSIsImF1dG9TZWxlY3RSYW5nZSIsImNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlIiwidmlydHVhbENhbnZhc0VuYWJsZWQiLCJmaW5kIiwibGFuZyIsInVuZGVmaW5lZCIsIkJhbmFuYSIsImxvYWQiLCIkYXZjb21wb25lbnQiLCJhcHBlbmQiLCJBVkNvbXBvbmVudCIsInRhcmdldCIsIm9uIiwibWVzc2FnZSIsImxvZyIsImhhbmRsZU1lZGlhUmVhZHkiLCJ2YWx1ZSIsImUiLCJkYXRhIiwiaGFuZGxlciIsImxkTWFuaWZlc3QiLCJjYW52YXNlcyIsImdldENhbnZhc2VzIiwiaW5pdENhbnZhc05hdmlnYXRpb24iLCJoaWRlIiwic3VjY2Vzc2NiIiwiZXJyb3JjYiIsImxvYWRNYW5pZmVzdCIsIm1hbmlmZXN0VXJpIiwiY29sbGVjdGlvbkluZGV4IiwibWFuaWZlc3RJbmRleCIsInNlcXVlbmNlSW5kZXgiLCJjYW52YXNJbmRleCIsInRoZW4iLCJoIiwic2V0QXZDb21wb25lbnQiLCJjYXRjaCIsInNldCIsInJlc2l6ZSIsIiRwbGF5ZXJDb250YWluZXIiLCJ2T2JqIiwic291cmNlIiwic3RhcnRzV2l0aCIsIml0ZW1TZWxlY3RMaXN0ZW5lciIsInRleHRUcmFja3MiLCJzaG93IiwibWVudSIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlyZSIsImVuZGVkIiwiY2FudmFzSW5zdGFuY2VzIiwiX2NhbnZhc1dpZHRoIiwib3B0aW1pemVGb3JTbWFsbGVyU2NyZWVucyIsInVwZGF0ZUFWQ29tcG9uZW50TGFuZ3VhZ2UiLCJzdWJ0aXRsZXMiLCJjcmVhdGVCdXR0b24iLCJzaG93TWVudSIsIm5lZWRUb1Nob3dNZW51IiwiYWRkRWRpdG9yT3B0aW9uIiwiaGFuZGxlTWVkaWFUeXBlIiwiY3NzIiwibW9yZSIsImhhbmRsZU1lbnVPcHRpb25zIiwiYXR0ciIsInRleHQiLCJjbGFzc25hbWUiLCJidXR0b24iLCJvcHRpb25zIiwiZW1iZWQiLCJhbm5vdGF0aW9uIiwicGxheWxpc3QiLCJkZXRlcm1pbmVPcHRpb25EaXNwbGF5Iiwia2V5IiwiT2JqZWN0IiwiZW50cmllcyIsInJpZ2h0cyIsInciLCJnZXRNZWRpYVR5cGUiLCJzZXRJbWFnZSIsInRodW1ibmFpbCIsIl9jYW52YXNIZWlnaHQiLCJpbWFnZSIsImFkZENsYXNzIiwiY2xlYXJJbnRlcnZhbCIsIm11dGVUeXBlIiwia2V5Q29kZSIsImNsaWNrIiwiaGFuZGxlVm9sdW1lQ2hhbmdlIiwiX2lzUGxheWluZyIsInBhdXNlIiwiaXMiLCJwbGF5IiwicmF0ZSIsInZhbCIsInNsaWRlciIsImRldGVybWluZU5ld1ZvbHVtZSIsImRlY3JlYXNlVm9sdW1lIiwiaW5jcmVhc2VWb2x1bWUiLCJ0b2dnbGVNZW51T3B0aW9uIiwiY2xzIiwicHJldmVudERlZmF1bHQiLCJib3R0b20iLCJsZWZ0Iiwib2Zmc2V0IiwibW9kZSIsInN0b3BQcm9wYWdhdGlvbiIsIndpbmRvdyIsIm9wZW4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmVDbGFzcyIsImVycm9ybWVzc2FnZSIsImFubm90YXRpb25zIiwiZmV0Y2hBbm5vdGF0aW9ucyIsInRleHRSZXNvdXJjZSIsInJlc291cmNlcyIsInJlc291cmNlIiwiZGNUeXBlIiwiZmV0Y2hUZXh0UmVzb3VyY2UiLCJhbm5vdGF0aW9uUmVzb3VyY2UiLCJhamF4IiwidXJsIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJmdWxsVGV4dCIsInRyYWNrIiwiYWRkVGV4dFRyYWNrIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJhZGRDdWUiLCJoYW5kbGVDYXB0aW9uIiwiaW5pdExhbmd1YWdlcyIsImNoYXJhY3RlclJhbmdlIiwiY2hhclJhbmdlIiwic3BsaXQiLCJzdWJ0aXRsZVN0cmluZyIsInRpbWVSYW5nZSIsInRSYW5nZSIsImN1ZSIsIlZUVEN1ZSIsInRpbWVUb1NlY29uZHMiLCJsaW5lIiwic2l6ZSIsInRpbWUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwicGFyc2VJbnQiLCJtaWxsaXNlY29uZHMiLCJwYXJ0cyIsImluaXQiLCJjb250YWluZXIiLCJwbGF5ZXJJZCIsInV1aWR2NCIsImVkaXRvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXBsYWNlIiwiYyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJ0b1N0cmluZyIsIkV1cm9wZWFuYU1lZGlhUGxheWVyIiwiYXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztRQ1ZBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxHQUFHOztRQUVIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQSxPQUFPO1FBQ1A7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FB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QUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0RBQW9EO0FBQzlDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDdEI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0Q0FBNEM7QUFDdEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDeEI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQ3BDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUNsQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUN0QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRiw2QkFBNkI7O0FBRTdCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUJBQXFCO0FBQzNCO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIsa0JBQWtCLElBQUkscUJBQXFCO0FBQzVEO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxNQUFNLHFCQUFxQjtBQUMzQjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDLGtCQUFrQix1QkFBdUI7QUFDekMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJ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QyxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7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QUEsb0dBQUU7QUFDZCxFQUFFLE1BQU0sRUFJTjtBQUNGLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsa0JBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0Esa0JBQWtCLGlDQUFpQztBQUNuRDs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7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QUhQLEdBMUJPLEVBK0JQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBL0JPLEVBb0NQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBcENPLEVBeUNQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBekNPLEVBOENQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBOUNPLEVBbURQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBbkRPLEVBd0RQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBeERPLEVBNkRQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBN0RPLEVBa0VQO0FBQ0VGLFVBQU0sUUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBbEVPLEVBdUVQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBdkVPLEVBNEVQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBNUVPLEVBaUZQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBakZPLEVBc0ZQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBdEZPLEVBMkZQO0FBQ0VGLFVBQU0sWUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBM0ZPLEVBZ0dQO0FBQ0VGLFVBQU0sUUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBaEdPLEVBcUdQO0FBQ0VGLFVBQU0sV0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztB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LFFBQVF1RixNQUFSLElBQWtCbkssU0FBOUI7QUFDQUcsYUFBV3lFLFFBQVF6RSxRQUFSLElBQW9CQSxRQUEvQjs7QUFFQTtBQUNBekQsV0FBUyxJQUFJZ0QsZ0JBQUosQ0FBVzBLLFNBQVNDLGNBQVQsQ0FBd0IsaUJBQWVKLFFBQXZDLENBQVgsQ0FBVDs7QUFFQTtBQUNBdk4sU0FBT3FOLElBQVAsQ0FBWTdKLFFBQVosRUFBc0JGLFNBQXRCLEVBQWlDRyxRQUFqQztBQUNELENBaEJNOztBQWtCQSxJQUFNK0osMEJBQVMsU0FBVEEsTUFBUyxHQUFNO0FBQzFCLFNBQU8sQ0FBQyxDQUFDLEdBQUQsSUFBTSxDQUFDLEdBQVAsR0FBVyxDQUFDLEdBQVosR0FBZ0IsQ0FBQyxHQUFqQixHQUFxQixDQUFDLElBQXZCLEVBQTZCSSxPQUE3QixDQUFxQyxRQUFyQyxFQUErQztBQUFBLFdBQ3BELENBQUNDLElBQUlDLE9BQU9DLGVBQVAsQ0FBdUIsSUFBSUMsVUFBSixDQUFlLENBQWYsQ0FBdkIsRUFBMEMsQ0FBMUMsSUFBK0MsTUFBTUgsSUFBSSxDQUE5RCxFQUFpRUksUUFBakUsQ0FBMEUsRUFBMUUsQ0FEb0Q7QUFBQSxHQUEvQyxDQUFQO0FBR0QsQ0FKTTs7SUFNY0Msb0I7QUFDbkIsZ0NBQVlaLFNBQVosRUFBdUI5SixRQUF2QixFQUFpQzBFLE9BQWpDLEVBQTBDO0FBQUE7O0FBQ3hDQSxjQUFVaUcsVUFBVXJOLE1BQVYsR0FBbUIsQ0FBbkIsR0FBdUJvSCxPQUF2QixHQUFpQyxFQUEzQztBQUNBbUYsU0FBS0MsU0FBTCxFQUFnQjlKLFFBQWhCLEVBQTBCMEUsT0FBMUI7QUFDRDs7Ozt3QkFFWTtBQUNYLGFBQU9sSSxNQUFQO0FBQ0Q7Ozs7OztrQkFSa0JrTyxvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakNyQixvRDs7Ozs7Ozs7Ozs7QUNBQSxvRCIsImZpbGUiOiJldXJvcGVhbmFtZWRpYXBsYXllci5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSwgcmVxdWlyZShcImRhc2hqc1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImV1cm9wZWFuYW1lZGlhcGxheWVyXCIsIFtcImpxdWVyeVwiLCBcImRhc2hqc1wiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJldXJvcGVhbmFtZWRpYXBsYXllclwiXSA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSwgcmVxdWlyZShcImRhc2hqc1wiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiZXVyb3BlYW5hbWVkaWFwbGF5ZXJcIl0gPSBmYWN0b3J5KHJvb3RbXCJqcXVlcnlcIl0sIHJvb3RbXCJkYXNoanNcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2pxdWVyeV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2Rhc2hqc19fKSB7XG5yZXR1cm4gIiwiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVldXJvcGVhbmFtZWRpYXBsYXllclwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVldXJvcGVhbmFtZWRpYXBsYXllclwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImExYmMwMzVhYmI2ZjA1YTE5NWViXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSBcIm1haW5cIjtcbiBcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHR7XG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkICYmXG4gXHRcdFx0XHQvLyByZW1vdmVkIHNlbGYtYWNjZXB0ZWQgbW9kdWxlcyBzaG91bGQgbm90IGJlIHJlcXVpcmVkXG4gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSAhPT0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIiFmdW5jdGlvbihFLGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiaHR0cHN0YXR1c2NvZGVzXCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5odHRwc3RhdHVzY29kZXM9ZSgpOkUuaHR0cHN0YXR1c2NvZGVzPWUoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihFKXt2YXIgZT17fTtmdW5jdGlvbiBUKHQpe2lmKGVbdF0pcmV0dXJuIGVbdF0uZXhwb3J0czt2YXIgTz1lW3RdPXtpOnQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gRVt0XS5jYWxsKE8uZXhwb3J0cyxPLE8uZXhwb3J0cyxUKSxPLmw9ITAsTy5leHBvcnRzfXJldHVybiBULm09RSxULmM9ZSxULmQ9ZnVuY3Rpb24oRSxlLHQpe1QubyhFLGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoRSxlLHtlbnVtZXJhYmxlOiEwLGdldDp0fSl9LFQucj1mdW5jdGlvbihFKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxULnQ9ZnVuY3Rpb24oRSxlKXtpZigxJmUmJihFPVQoRSkpLDgmZSlyZXR1cm4gRTtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiBFJiZFJiZFLl9fZXNNb2R1bGUpcmV0dXJuIEU7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihULnIodCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6RX0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIEUpZm9yKHZhciBPIGluIEUpVC5kKHQsTyxmdW5jdGlvbihlKXtyZXR1cm4gRVtlXX0uYmluZChudWxsLE8pKTtyZXR1cm4gdH0sVC5uPWZ1bmN0aW9uKEUpe3ZhciBlPUUmJkUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBFLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIEV9O3JldHVybiBULmQoZSxcImFcIixlKSxlfSxULm89ZnVuY3Rpb24oRSxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEUsZSl9LFQucD1cIlwiLFQoVC5zPTApfShbZnVuY3Rpb24oRSxlLFQpe0UuZXhwb3J0cz1UKDEpfSxmdW5jdGlvbihFLGUsVCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5DT05USU5VRT0xMDAsZS5TV0lUQ0hJTkdfUFJPVE9DT0xTPTEwMSxlLlBST0NFU1NJTkc9MTAyLGUuT0s9MjAwLGUuQ1JFQVRFRD0yMDEsZS5BQ0NFUFRFRD0yMDIsZS5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTj0yMDMsZS5OT19DT05URU5UPTIwNCxlLlJFU0VUX0NPTlRFTlQ9MjA1LGUuUEFSVElBTF9DT05URU5UPTIwNixlLk1VTFRJX1NUQVRVUz0yMDcsZS5NVUxUSVBMRV9DSE9JQ0VTPTMwMCxlLk1PVkVEX1BFUk1BTkVOVExZPTMwMSxlLk1PVkVEX1RFTVBPUkFSSUxZPTMwMixlLlNFRV9PVEhFUj0zMDMsZS5OT1RfTU9ESUZJRUQ9MzA0LGUuVVNFX1BST1hZPTMwNSxlLlRFTVBPUkFSWV9SRURJUkVDVD0zMDcsZS5CQURfUkVRVUVTVD00MDAsZS5VTkFVVEhPUklaRUQ9NDAxLGUuUEFZTUVOVF9SRVFVSVJFRD00MDIsZS5GT1JCSURERU49NDAzLGUuTk9UX0ZPVU5EPTQwNCxlLk1FVEhPRF9OT1RfQUxMT1dFRD00MDUsZS5OT1RfQUNDRVBUQUJMRT00MDYsZS5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRD00MDcsZS5SRVFVRVNUX1RJTUVfT1VUPTQwOCxlLkNPTkZMSUNUPTQwOSxlLkdPTkU9NDEwLGUuTEVOR1RIX1JFUVVJUkVEPTQxMSxlLlBSRUNPTkRJVElPTl9GQUlMRUQ9NDEyLGUuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFPTQxMyxlLlJFUVVFU1RfVVJJX1RPT19MQVJHRT00MTQsZS5VTlNVUFBPUlRFRF9NRURJQV9UWVBFPTQxNSxlLlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU9NDE2LGUuRVhQRUNUQVRJT05fRkFJTEVEPTQxNyxlLklNX0FfVEVBUE9UPTQxOCxlLlVOUFJPQ0VTU0FCTEVfRU5USVRZPTQyMixlLkxPQ0tFRD00MjMsZS5GQUlMRURfREVQRU5ERU5DWT00MjQsZS5VTk9SREVSRURfQ09MTEVDVElPTj00MjUsZS5VUEdSQURFX1JFUVVJUkVEPTQyNixlLlBSRUNPTkRJVElPTl9SRVFVSVJFRD00MjgsZS5UT09fTUFOWV9SRVFVRVNUUz00MjksZS5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFPTQzMSxlLklOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDAsZS5OT1RfSU1QTEVNRU5URUQ9NTAxLGUuQkFEX0dBVEVXQVk9NTAyLGUuU0VSVklDRV9VTkFWQUlMQUJMRT01MDMsZS5HQVRFV0FZX1RJTUVfT1VUPTUwNCxlLkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEPTUwNSxlLlZBUklBTlRfQUxTT19ORUdPVElBVEVTPTUwNixlLklOU1VGRklDSUVOVF9TVE9SQUdFPTUwNyxlLkJBTkRXSURUSF9MSU1JVF9FWENFRURFRD01MDksZS5OT1RfRVhURU5ERUQ9NTEwLGUuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRD01MTF9XSl9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwc3RhdHVzY29kZXMuanMubWFwIiwidmFyIEJhc2VDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCYXNlQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5kYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kYXRhKCksIG9wdGlvbnMuZGF0YSk7XHJcbiAgICB9XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmVsID0gdGhpcy5vcHRpb25zLnRhcmdldDtcclxuICAgICAgICBpZiAoIXRoaXMuZWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdlbGVtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5fZSB8fCAodGhpcy5fZSA9IHt9KTtcclxuICAgICAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XHJcbiAgICAgICAgICAgIGZuOiBjYWxsYmFjayxcclxuICAgICAgICAgICAgY3R4OiBjdHhcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgICAgIHZhciBldnRBcnIgPSAoKHRoaXMuX2UgfHwgKHRoaXMuX2UgPSB7fSkpW25hbWVdIHx8IFtdKS5zbGljZSgpO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLl9yZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKF9kYXRhKSB7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJhc2VDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEJhc2VDb21wb25lbnQgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJJSUlGQVZDb21wb25lbnRcIixbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLklJSUZBVkNvbXBvbmVudD1lKCk6dC5JSUlGQVZDb21wb25lbnQ9ZSgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciByPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQoaSxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9Nyl9KFtmdW5jdGlvbih0LGUsbil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYsdC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciByPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQoaSxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9NCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtmb3IodmFyIG4gaW4gdCllLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT10W25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKG4oNikpLGkobig3KSksaShuKDgpKSxpKG4oOSkpLGkobigxMCkpLGkobigxMSkpLGkobigxMikpLGkobigxMykpLGkobigxNCkpLGkobigxNSkpLGkobigxNikpLGkobigxNykpLGkobigxOCkpLGkobigxOSkpLGkobigyMCkpLGkobigyMSkpLGkobigyMikpLGkobigyMykpLGkobigyNCkpLGkobigyNSkpLGkobigyNikpLGkobigyNykpLGkobigyOCkpLGkobigyOSkpLGkobigzMCkpLGkobigzMSkpLGkobigzMikpLGkobigyKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0LkJPT0tNQVJLSU5HPVwib2E6Ym9va21hcmtpbmdcIix0LkNMQVNTSUZZSU5HPVwib2E6Y2xhc3NpZnlpbmdcIix0LkNPTU1FTlRJTkc9XCJvYTpjb21tZW50aW5nXCIsdC5ERVNDUklCSU5HPVwib2E6ZGVzY3JpYmluZ1wiLHQuRURJVElORz1cIm9hOmVkaXRpbmdcIix0LkhJR0hMSUdIVElORz1cIm9hOmhpZ2hsaWdodGluZ1wiLHQuSURFTlRJRllJTkc9XCJvYTppZGVudGlmeWluZ1wiLHQuTElOS0lORz1cIm9hOmxpbmtpbmdcIix0Lk1PREVSQVRJTkc9XCJvYTptb2RlcmF0aW5nXCIsdC5QQUlOVElORz1cInNjOnBhaW50aW5nXCIsdC5RVUVTVElPTklORz1cIm9hOnF1ZXN0aW9uaW5nXCIsdC5SRVBMWUlORz1cIm9hOnJlcGx5aW5nXCIsdC5UQUdHSU5HPVwib2E6dGFnZ2luZ1wiLHQuVFJBTlNDUklCSU5HPVwib2FkOnRyYW5zY3JpYmluZ1wifShlLkFubm90YXRpb25Nb3RpdmF0aW9ufHwoZS5Bbm5vdGF0aW9uTW90aXZhdGlvbj17fSkpLGZ1bmN0aW9uKHQpe3QuQVVUT19BRFZBTkNFPVwiYXV0by1hZHZhbmNlXCIsdC5DT05USU5VT1VTPVwiY29udGludW91c1wiLHQuRkFDSU5HX1BBR0VTPVwiZmFjaW5nLXBhZ2VzXCIsdC5ISURERU49XCJoaWRkZW5cIix0LklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIix0Lk1VTFRJX1BBUlQ9XCJtdWx0aS1wYXJ0XCIsdC5OT19OQVY9XCJuby1uYXZcIix0Lk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLHQuUEFHRUQ9XCJwYWdlZFwiLHQuUkVQRUFUPVwicmVwZWF0XCIsdC5TRVFVRU5DRT1cInNlcXVlbmNlXCIsdC5USFVNQk5BSUxfTkFWPVwidGh1bWJuYWlsLW5hdlwiLHQuVE9HRVRIRVI9XCJ0b2dldGhlclwiLHQuVU5PUkRFUkVEPVwidW5vcmRlcmVkXCJ9KGUuQmVoYXZpb3J8fChlLkJlaGF2aW9yPXt9KSksZnVuY3Rpb24odCl7dC5DQU5WQVM9XCJjYW52YXNcIix0LkNIT0lDRT1cImNob2ljZVwiLHQuQ09OVEVOVF9BU19URVhUPVwiY29udGVudGFzdGV4dFwiLHQuRE9DVU1FTlQ9XCJkb2N1bWVudFwiLHQuSU1BR0U9XCJpbWFnZVwiLHQuTU9WSU5HX0lNQUdFPVwibW92aW5naW1hZ2VcIix0LlBERj1cInBkZlwiLHQuUEhZU0lDQUxfT0JKRUNUPVwicGh5c2ljYWxvYmplY3RcIix0LlNPVU5EPVwic291bmRcIix0LlRFWFRVQUxCT0RZPVwidGV4dHVhbGJvZHlcIix0LlZJREVPPVwidmlkZW9cIn0oZS5FeHRlcm5hbFJlc291cmNlVHlwZXx8KGUuRXh0ZXJuYWxSZXNvdXJjZVR5cGU9e30pKSxmdW5jdGlvbih0KXt0LkFOTk9UQVRJT049XCJhbm5vdGF0aW9uXCIsdC5DQU5WQVM9XCJjYW52YXNcIix0LkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsdC5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsdC5SQU5HRT1cInJhbmdlXCIsdC5TRVFVRU5DRT1cInNlcXVlbmNlXCJ9KGUuSUlJRlJlc291cmNlVHlwZXx8KGUuSUlJRlJlc291cmNlVHlwZT17fSkpLGZ1bmN0aW9uKHQpe3QuQVVESU9fTVA0PVwiYXVkaW8vbXA0XCIsdC5DT1JUTz1cImFwcGxpY2F0aW9uL2NvcnRvXCIsdC5EUkFDTz1cImFwcGxpY2F0aW9uL2RyYWNvXCIsdC5HTFRGPVwibW9kZWwvZ2x0Zitqc29uXCIsdC5KUEc9XCJpbWFnZS9qcGVnXCIsdC5NM1U4PVwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIix0Lk1QMz1cImF1ZGlvL21wM1wiLHQuTVBFR19EQVNIPVwiYXBwbGljYXRpb24vZGFzaCt4bWxcIix0Lk9CSj1cInRleHQvcGxhaW5cIix0LlBERj1cImFwcGxpY2F0aW9uL3BkZlwiLHQuUExZPVwiYXBwbGljYXRpb24vcGx5XCIsdC5USFJFRUpTPVwiYXBwbGljYXRpb24vdm5kLnRocmVlanMranNvblwiLHQuVklERU9fTVA0PVwidmlkZW8vbXA0XCIsdC5XRUJNPVwidmlkZW8vd2VibVwifShlLk1lZGlhVHlwZXx8KGUuTWVkaWFUeXBlPXt9KSksZnVuY3Rpb24odCl7dC5ET0M9XCJhcHBsaWNhdGlvbi9tc3dvcmRcIix0LkRPQ1g9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiLHQuUERGPVwiYXBwbGljYXRpb24vcGRmXCJ9KGUuUmVuZGVyaW5nRm9ybWF0fHwoZS5SZW5kZXJpbmdGb3JtYXQ9e30pKSxmdW5jdGlvbih0KXt0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMC5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsdC5JTUFHRV8xX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDEuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDEuanNvblwiLHQuSU1BR0VfMV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMC5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDEuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDEuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIix0LkFVVEhfMF9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIix0LkFVVEhfMF9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW5cIix0LkFVVEhfMF9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ291dFwiLHQuQVVUSF8wX1JFU1RSSUNURUQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIix0LkFVVEhfMF9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvdG9rZW5cIix0LkFVVEhfMV9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9jbGlja3Rocm91Z2hcIix0LkFVVEhfMV9FWFRFUk5BTD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIix0LkFVVEhfMV9LSU9TSz1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEva2lvc2tcIix0LkFVVEhfMV9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9naW5cIix0LkFVVEhfMV9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiLHQuQVVUSF8xX1BST0JFPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9wcm9iZVwiLHQuQVVUSF8xX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS90b2tlblwiLHQuU0VBUkNIXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCIsdC5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL2F1dG9jb21wbGV0ZVwiLHQuU0VBUkNIXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvc2VhcmNoXCIsdC5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiLHQuVFJBQ0tJTkdfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdHJhY2tpbmctZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5VSV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby91aS1leHRlbnNpb25zLXByb2ZpbGVcIix0LlBSSU5UX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuU0hBUkVfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vc2hhcmUtZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5PVEhFUl9NQU5JRkVTVEFUSU9OUz1cImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIix0LklYSUY9XCJodHRwOi8vd2VsbGNvbWVsaWJyYXJ5Lm9yZy9sZC9peGlmLzAvYWxwaGEuanNvblwifShlLlNlcnZpY2VQcm9maWxlfHwoZS5TZXJ2aWNlUHJvZmlsZT17fSkpLGZ1bmN0aW9uKHQpe3QuQk9UVE9NX1RPX1RPUD1cImJvdHRvbS10by10b3BcIix0LkxFRlRfVE9fUklHSFQ9XCJsZWZ0LXRvLXJpZ2h0XCIsdC5SSUdIVF9UT19MRUZUPVwicmlnaHQtdG8tbGVmdFwiLHQuVE9QX1RPX0JPVFRPTT1cInRvcC10by1ib3R0b21cIn0oZS5WaWV3aW5nRGlyZWN0aW9ufHwoZS5WaWV3aW5nRGlyZWN0aW9uPXt9KSksZnVuY3Rpb24odCl7dC5DT05USU5VT1VTPVwiY29udGludW91c1wiLHQuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLHQuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsdC5QQUdFRD1cInBhZ2VkXCIsdC5UT1A9XCJ0b3BcIn0oZS5WaWV3aW5nSGludHx8KGUuVmlld2luZ0hpbnQ9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24ocixhKXtmdW5jdGlvbiBvKHQpe3RyeXtsKGkubmV4dCh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gcyh0KXt0cnl7bChpLnRocm93KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBsKHQpe3ZhciBlO3QuZG9uZT9yKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKX0pKSkudGhlbihvLHMpfWwoKGk9aS5hcHBseSh0LGV8fFtdKSkubmV4dCgpKX0pKX0scj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0LGUpe3ZhciBuLGkscixhLG89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmclswXSl0aHJvdyByWzFdO3JldHVybiByWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGE9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihhW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGE7ZnVuY3Rpb24gcyhhKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtvOyl0cnl7aWYobj0xLGkmJihyPTImYVswXT9pLnJldHVybjphWzBdP2kudGhyb3d8fCgocj1pLnJldHVybikmJnIuY2FsbChpKSwwKTppLm5leHQpJiYhKHI9ci5jYWxsKGksYVsxXSkpLmRvbmUpcmV0dXJuIHI7c3dpdGNoKGk9MCxyJiYoYT1bMiZhWzBdLHIudmFsdWVdKSxhWzBdKXtjYXNlIDA6Y2FzZSAxOnI9YTticmVhaztjYXNlIDQ6cmV0dXJuIG8ubGFiZWwrKyx7dmFsdWU6YVsxXSxkb25lOiExfTtjYXNlIDU6by5sYWJlbCsrLGk9YVsxXSxhPVswXTtjb250aW51ZTtjYXNlIDc6YT1vLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHI9KHI9by50cnlzKS5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSkmJig2PT09YVswXXx8Mj09PWFbMF0pKXtvPTA7Y29udGludWV9aWYoMz09PWFbMF0mJighcnx8YVsxXT5yWzBdJiZhWzFdPHJbM10pKXtvLmxhYmVsPWFbMV07YnJlYWt9aWYoNj09PWFbMF0mJm8ubGFiZWw8clsxXSl7by5sYWJlbD1yWzFdLHI9YTticmVha31pZihyJiZvLmxhYmVsPHJbMl0pe28ubGFiZWw9clsyXSxvLm9wcy5wdXNoKGEpO2JyZWFrfXJbMl0mJm8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZX1hPWUuY2FsbCh0LG8pfWNhdGNoKHQpe2E9WzYsdF0saT0wfWZpbmFsbHl7bj1yPTB9aWYoNSZhWzBdKXRocm93IGFbMV07cmV0dXJue3ZhbHVlOmFbMF0/YVsxXTp2b2lkIDAsZG9uZTohMH19KFthLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89bigxKSxzPW4oMzMpO24oMzQpO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9KHQ9dC50b0xvd2VyQ2FzZSgpKS5zcGxpdChcIjtcIilbMF0pLnRyaW0oKX0sdC5nZXRJbWFnZVF1YWxpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMnx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMnx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzJ8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMnx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI/XCJuYXRpdmVcIjpcImRlZmF1bHRcIn0sdC5nZXRJbmV4YWN0TG9jYWxlPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09dC5pbmRleE9mKFwiLVwiKT90LnN1YnN0cigwLHQuaW5kZXhPZihcIi1cIikpOnR9LHQuZ2V0TG9jYWxpc2VkVmFsdWU9ZnVuY3Rpb24odCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihlPT09aVtcIkBsYW5ndWFnZVwiXSlyZXR1cm4gaVtcIkB2YWx1ZVwiXX12YXIgcj1lLnN1YnN0cigwLGUuaW5kZXhPZihcIi1cIikpO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBhPXRbbl07aWYoYVtcIkBsYW5ndWFnZVwiXT09PXIpcmV0dXJuIGFbXCJAdmFsdWVcIl19cmV0dXJuIG51bGx9LHQuZ2VuZXJhdGVUcmVlTm9kZUlkcz1mdW5jdGlvbihlLG4pe3ZhciBpO3ZvaWQgMD09PW4mJihuPTApLGk9ZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5pZCtcIi1cIituOlwiMFwiLGUuaWQ9aTtmb3IodmFyIHI9MDtyPGUubm9kZXMubGVuZ3RoO3IrKyl7dmFyIGE9ZS5ub2Rlc1tyXTt0LmdlbmVyYXRlVHJlZU5vZGVJZHMoYSxyKX19LHQubm9ybWFsaXNlVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PSh0PXQudG9Mb3dlckNhc2UoKSkuaW5kZXhPZihcIjpcIik/dC5zcGxpdChcIjpcIilbMV06dH0sdC5ub3JtYWxpc2VVcmw9ZnVuY3Rpb24odCl7cmV0dXJuLTEhPT0odD10LnN1YnN0cih0LmluZGV4T2YoXCI6Ly9cIikpKS5pbmRleE9mKFwiI1wiKSYmKHQ9dC5zcGxpdChcIiNcIilbMF0pLHR9LHQubm9ybWFsaXNlZFVybHNNYXRjaD1mdW5jdGlvbihlLG4pe3JldHVybiB0Lm5vcm1hbGlzZVVybChlKT09PXQubm9ybWFsaXNlVXJsKG4pfSx0LmlzSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpfSx0LmlzTGV2ZWwwSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMCkpfSx0LmlzTGV2ZWwxSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMSkpfSx0LmlzTGV2ZWwySW1hZ2VQcm9maWxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpfSx0LnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5EZXNlcmlhbGlzZXIucGFyc2UodCxlKX0sdC5jaGVja1N0YXR1cz1mdW5jdGlvbih0KXtpZih0Lm9rKXJldHVybiB0O3ZhciBlPW5ldyBFcnJvcih0LnN0YXR1c1RleHQpO3JldHVybiBlLnJlc3BvbnNlPXQsUHJvbWlzZS5yZWplY3QoZSl9LHQubG9hZE1hbmlmZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZmV0Y2goZSkudGhlbih0LmNoZWNrU3RhdHVzKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KSkudGhlbigoZnVuY3Rpb24odCl7bih0KX0pKX0pKX0sdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZXNBdXRoMT1mdW5jdGlvbihlLG4saSxyLGEsbyxzLGwpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYyx1KXt2YXIgaD1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMShlLG4saSxyLGEsbyxzLGwpfSkpO1Byb21pc2UuYWxsKGgpLnRoZW4oKGZ1bmN0aW9uKCl7YyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7dSh0KX0pKX0pKX0sdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxPWZ1bmN0aW9uKGUsbixhLG8sbCxjLHUsaCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbyhlKV07Y2FzZSAxOnJldHVybihpPXIuc2VudCgpKT9bNCxlLmdldERhdGEoaSldOlszLDZdO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksZS5zdGF0dXMhPT1zLk9LP1szLDNdOlsyLGVdO2Nhc2UgMzpyZXR1cm5bNCx0LmRvQXV0aENoYWluKGUsbixhLGwsYyx1LGgpXTtjYXNlIDQ6ci5zZW50KCksci5sYWJlbD01O2Nhc2UgNTppZihlLnN0YXR1cz09PXMuT0t8fGUuc3RhdHVzPT09cy5NT1ZFRF9URU1QT1JBUklMWSlyZXR1cm5bMixlXTt0aHJvdyB0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpO2Nhc2UgNjpyZXR1cm5bNCxlLmdldERhdGEoKV07Y2FzZSA3OnJldHVybiByLnNlbnQoKSxlLnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFkmJmUuc3RhdHVzIT09cy5VTkFVVEhPUklaRUQ/WzMsOV06WzQsdC5kb0F1dGhDaGFpbihlLG4sYSxsLGMsdSxoKV07Y2FzZSA4OnIuc2VudCgpLHIubGFiZWw9OTtjYXNlIDk6aWYoZS5zdGF0dXM9PT1zLk9LfHxlLnN0YXR1cz09PXMuTU9WRURfVEVNUE9SQVJJTFkpcmV0dXJuWzIsZV07dGhyb3cgdC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKX19KSl9KSl9LHQuZG9BdXRoQ2hhaW49ZnVuY3Rpb24oZSxuLGEsbyxsLGMsdSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLGgscCxmLF8sZCx2LGc7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5pc0FjY2Vzc0NvbnRyb2xsZWQoKT8oKGk9ZS5leHRlcm5hbFNlcnZpY2UpJiYoaS5vcHRpb25zPWUub3B0aW9ucyksKGg9ZS5raW9za1NlcnZpY2UpJiYoaC5vcHRpb25zPWUub3B0aW9ucyksKHA9ZS5jbGlja1Rocm91Z2hTZXJ2aWNlKSYmKHAub3B0aW9ucz1lLm9wdGlvbnMpLChmPWUubG9naW5TZXJ2aWNlKSYmKGYub3B0aW9ucz1lLm9wdGlvbnMpLGUuaXNSZXNwb25zZUhhbmRsZWR8fGUuc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWT9bMywyXTpbNCxjKGUpXSk6WzIsZV07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDI6cmV0dXJuIF89bnVsbCxkPW51bGwsKF89aSk/KGQ9XyxbNCx0LmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbihlLGEsXyldKTpbMyw0XTtjYXNlIDM6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgNDpyZXR1cm4oXz1oKT8oZD1fLCh2PW4oXykpP1s0LG8odildOlszLDddKTpbMyw3XTtjYXNlIDU6cmV0dXJuIHIuc2VudCgpLFs0LHQuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKGUsYSxfKV07Y2FzZSA2OnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDc6cmV0dXJuKF89cCk/KGQ9XyxbNCxsKGUsXyldKTpbMywxMV07Y2FzZSA4OnJldHVybihnPXIuc2VudCgpKT9bNCxvKGcpXTpbMywxMV07Y2FzZSA5OnJldHVybiByLnNlbnQoKSxbNCx0LmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbihlLGEsXyldO2Nhc2UgMTA6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgMTE6cmV0dXJuKF89Zik/KGQ9XyxbNCxsKGUsXyldKTpbMywxNV07Y2FzZSAxMjpyZXR1cm4oZz1yLnNlbnQoKSk/WzQsbyhnKV06WzMsMTVdO2Nhc2UgMTM6cmV0dXJuIHIuc2VudCgpLFs0LHQuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKGUsYSxfKV07Y2FzZSAxNDpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSAxNTpyZXR1cm4gZCYmdShlLGQpLFsyXX19KSl9KSl9LHQuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksYTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybihpPW4uZ2V0U2VydmljZShvLlNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTikpP1s0LGUodCxpKV06WzMsM107Y2FzZSAxOnJldHVybihhPXIuc2VudCgpKSYmYS5hY2Nlc3NUb2tlbj9bNCx0LmdldERhdGEoYSldOlszLDNdO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LHQubG9hZEV4dGVybmFsUmVzb3VyY2VzQXV0aDA5PWZ1bmN0aW9uKGUsbixpLHIsYSxvLHMsbCxjLHUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaCxwKXt2YXIgZj1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMDkoZSxuLGkscixhLG8scyxsLGMsdSl9KSk7UHJvbWlzZS5hbGwoZikudGhlbigoZnVuY3Rpb24oKXtoKGUpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKHQpfSkpfSkpfSx0LmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5PWZ1bmN0aW9uKGUsbixpLHIsYSxvLGwsYyx1LGgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocCxmKXtoJiZoLnBlc3NpbWlzdGljQWNjZXNzQ29udHJvbD9lLmdldERhdGEoKS50aGVuKChmdW5jdGlvbigpe2UuaXNBY2Nlc3NDb250cm9sbGVkKCk/ZS5jbGlja1Rocm91Z2hTZXJ2aWNlPyhwKGkoZSkpLHAocihlKSkpOmEoZSkudGhlbigoZnVuY3Rpb24oKXtvKGUsITApLnRoZW4oKGZ1bmN0aW9uKG4pe2UuZ2V0RGF0YShuKS50aGVuKChmdW5jdGlvbigpe3AodShlKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSk6cChlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpOmMoZSxuKS50aGVuKChmdW5jdGlvbihoKXtoP2UuZ2V0RGF0YShoKS50aGVuKChmdW5jdGlvbigpe2Uuc3RhdHVzPT09cy5PSz9wKHUoZSkpOnQuYXV0aG9yaXplKGUsbixpLHIsYSxvLGwsYykudGhlbigoZnVuY3Rpb24oKXtwKHUoZSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpOnQuYXV0aG9yaXplKGUsbixpLHIsYSxvLGwsYykudGhlbigoZnVuY3Rpb24oKXtwKHUoZSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpfSx0LmNyZWF0ZUVycm9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEVycm9yO3JldHVybiBuLm1lc3NhZ2U9ZSxuLm5hbWU9U3RyaW5nKHQpLG59LHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlRXJyb3IoYS5TdGF0dXNDb2RlLkFVVEhPUklaQVRJT05fRkFJTEVELFwiQXV0aG9yaXphdGlvbiBmYWlsZWRcIil9LHQuY3JlYXRlUmVzdHJpY3RlZEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlRXJyb3IoYS5TdGF0dXNDb2RlLlJFU1RSSUNURUQsXCJSZXN0cmljdGVkXCIpfSx0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY3JlYXRlRXJyb3IoYS5TdGF0dXNDb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUixlKX0sdC5hdXRob3JpemU9ZnVuY3Rpb24oZSxuLGkscixhLG8sbCxjKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHUsaCl7ZS5nZXREYXRhKCkudGhlbigoZnVuY3Rpb24oKXtlLmlzQWNjZXNzQ29udHJvbGxlZCgpP2MoZSxuKS50aGVuKChmdW5jdGlvbihjKXtjP2UuZ2V0RGF0YShjKS50aGVuKChmdW5jdGlvbigpe2Uuc3RhdHVzPT09cy5PSz91KGUpOnQuc2hvd0F1dGhJbnRlcmFjdGlvbihlLG4saSxyLGEsbyxsLHUsaCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2godC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKTpvKGUsITEpLnRoZW4oKGZ1bmN0aW9uKGMpe2M/bChlLGMsbikudGhlbigoZnVuY3Rpb24oKXtlLmdldERhdGEoYykudGhlbigoZnVuY3Rpb24oKXtlLnN0YXR1cz09PXMuT0s/dShlKTp0LnNob3dBdXRoSW50ZXJhY3Rpb24oZSxuLGkscixhLG8sbCx1LGgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtoKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2godC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKTp0LnNob3dBdXRoSW50ZXJhY3Rpb24oZSxuLGkscixhLG8sbCx1LGgpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtoKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSk6dShlKX0pKX0pKX0sdC5zaG93QXV0aEludGVyYWN0aW9uPWZ1bmN0aW9uKGUsbixpLHIsYSxvLGwsYyx1KXtlLnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFl8fGUuaXNSZXNwb25zZUhhbmRsZWQ/ZS5jbGlja1Rocm91Z2hTZXJ2aWNlJiYhZS5pc1Jlc3BvbnNlSGFuZGxlZD9pKGUpLnRoZW4oKGZ1bmN0aW9uKCl7byhlLCEwKS50aGVuKChmdW5jdGlvbihpKXtsKGUsaSxuKS50aGVuKChmdW5jdGlvbigpe2UuZ2V0RGF0YShpKS50aGVuKChmdW5jdGlvbigpe2MoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSk6YShlKS50aGVuKChmdW5jdGlvbigpe28oZSwhMCkudGhlbigoZnVuY3Rpb24oaSl7bChlLGksbikudGhlbigoZnVuY3Rpb24oKXtlLmdldERhdGEoaSkudGhlbigoZnVuY3Rpb24oKXtjKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpOmMoZSl9LHQuZ2V0U2VydmljZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmdldFNlcnZpY2VzKHQpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyLmdldFByb2ZpbGUoKT09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LHQuZ2V0UmVzb3VyY2VCeUlkPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQudHJhdmVyc2VBbmRGaW5kKGUuX19qc29ubGQsXCJAaWRcIixuKX0sdC50cmF2ZXJzZUFuZEZpbmQ9ZnVuY3Rpb24oZSxuLGkpe2lmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT1pKXJldHVybiBlO2Zvcih2YXIgcj0wO3I8T2JqZWN0LmtleXMoZSkubGVuZ3RoO3IrKylpZihcIm9iamVjdFwiPT10eXBlb2YgZVtPYmplY3Qua2V5cyhlKVtyXV0pe3ZhciBhPXQudHJhdmVyc2VBbmRGaW5kKGVbT2JqZWN0LmtleXMoZSlbcl1dLG4saSk7aWYobnVsbCE9YSlyZXR1cm4gYX19LHQuZ2V0U2VydmljZXM9ZnVuY3Rpb24odCl7dmFyIGUsbj1bXTtpZighKGU9dC5fX2pzb25sZD90Ll9fanNvbmxkLnNlcnZpY2U6dC5zZXJ2aWNlKSlyZXR1cm4gbjtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXt2YXIgbz10aGlzLmdldFJlc291cmNlQnlJZCh0Lm9wdGlvbnMucmVzb3VyY2Uscik7byYmbi5wdXNoKG5ldyBhLlNlcnZpY2Uoby5fX2pzb25sZHx8byx0Lm9wdGlvbnMpKX1lbHNlIG4ucHVzaChuZXcgYS5TZXJ2aWNlKHIsdC5vcHRpb25zKSl9cmV0dXJuIG59LHQuZ2V0VGVtcG9yYWxDb21wb25lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9L3Q9KFteJl0rKS9nLmV4ZWModCksbj1udWxsO3JldHVybiBlJiZlWzFdJiYobj1lWzFdLnNwbGl0KFwiLFwiKSksbn0sdH0oKTtlLlV0aWxzPWx9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8e30sbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0LGE9W10sbz1bXSxzPXt9LGw9ZnVuY3Rpb24oKXtyZXR1cm57b2s6Mj09KHIuc3RhdHVzLzEwMHwwKSxzdGF0dXNUZXh0OnIuc3RhdHVzVGV4dCxzdGF0dXM6ci5zdGF0dXMsdXJsOnIucmVzcG9uc2VVUkwsdGV4dDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoci5yZXNwb25zZVRleHQpfSxqc29uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShKU09OLnBhcnNlKHIucmVzcG9uc2VUZXh0KSl9LGJsb2I6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFtyLnJlc3BvbnNlXSkpfSxjbG9uZTpsLGhlYWRlcnM6e2tleXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiBvfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHNbdC50b0xvd2VyQ2FzZSgpXX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKClpbiBzfX19fTtmb3IodmFyIGMgaW4gci5vcGVuKGUubWV0aG9kfHxcImdldFwiLHQsITApLHIub25sb2FkPWZ1bmN0aW9uKCl7ci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5yZXBsYWNlKC9eKC4qPyk6W15cXFNcXG5dKihbXFxzXFxTXSo/KSQvZ20sKGZ1bmN0aW9uKHQsZSxuKXthLnB1c2goZT1lLnRvTG93ZXJDYXNlKCkpLG8ucHVzaChbZSxuXSksc1tlXT1zW2VdP3NbZV0rXCIsXCIrbjpufSkpLG4obCgpKX0sci5vbmVycm9yPWksci53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PWUuY3JlZGVudGlhbHMsZS5oZWFkZXJzKXIuc2V0UmVxdWVzdEhlYWRlcihjLGUuaGVhZGVyc1tjXSk7ci5zZW5kKGUuYm9keXx8bnVsbCl9KSl9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oNSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXtmb3IodmFyIG4gaW4gdCllLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT10W25dKX0obigwKSk7dmFyIGk9bigyKTtlLmxvYWRNYW5pZmVzdD1mdW5jdGlvbih0KXtyZXR1cm4gaS5VdGlscy5sb2FkTWFuaWZlc3QodCl9LGUucGFyc2VNYW5pZmVzdD1mdW5jdGlvbih0LGUpe3JldHVybiBpLlV0aWxzLnBhcnNlTWFuaWZlc3QodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fX2pzb25sZD10LHRoaXMuY29udGV4dD10aGlzLmdldFByb3BlcnR5KFwiY29udGV4dFwiKSx0aGlzLmlkPXRoaXMuZ2V0UHJvcGVydHkoXCJpZFwiKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UHJvcGVydHk9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gdGhpcy5fX2pzb25sZCYmKChlPXRoaXMuX19qc29ubGRbdF0pfHwoZT10aGlzLl9fanNvbmxkW1wiQFwiK3RdKSksZX0sdH0oKTtlLkpTT05MRFJlc291cmNlPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89bigxKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gaS5vcHRpb25zPW4saX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIik7cmV0dXJuIHQ/YS5MYW5ndWFnZU1hcC5wYXJzZSh0LHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmdldExhYmVsKCkpfSxlLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJtZXRhZGF0YVwiKSxlPVtdO2lmKCF0KXJldHVybiBlO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9bmV3IGEuTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSk7ci5wYXJzZShpKSxlLnB1c2gocil9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFJlbmRlcmluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRSZW5kZXJpbmdzKCksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lmKGkuZ2V0Rm9ybWF0KCk9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJpbmdzPWZ1bmN0aW9uKCl7dmFyIHQsZT1bXTtpZighKHQ9dGhpcy5fX2pzb25sZD90aGlzLl9fanNvbmxkLnJlbmRlcmluZzp0aGlzLnJlbmRlcmluZykpcmV0dXJuIGU7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtlLnB1c2gobmV3IGEuUmVuZGVyaW5nKGksdGhpcy5vcHRpb25zKSl9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFNlcnZpY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGEuVXRpbHMuZ2V0U2VydmljZSh0aGlzLHQpfSxlLnByb3RvdHlwZS5nZXRTZXJ2aWNlcz1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldFNlcnZpY2VzKHRoaXMpfSxlLnByb3RvdHlwZS5nZXRUaHVtYm5haWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwidGh1bWJuYWlsXCIpO3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYodD10WzBdKSx0P25ldyBhLlRodW1ibmFpbCh0LHRoaXMub3B0aW9ucyk6bnVsbH0sZS5wcm90b3R5cGUuaXNBbm5vdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLkFOTk9UQVRJT059LGUucHJvdG90eXBlLmlzQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLkNBTlZBU30sZS5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT059LGUucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1R9LGUucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuUkFOR0V9LGUucHJvdG90eXBlLmlzU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuU0VRVUVOQ0V9LGV9KGEuSlNPTkxEUmVzb3VyY2UpO2UuTWFuaWZlc3RSZXNvdXJjZT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7cmV0dXJuIHQ/dC50b0xvd2VyQ2FzZSgpOm51bGx9LGUucHJvdG90eXBlLmdldFJlc291cmNlcz1mdW5jdGlvbigpe3ZhciB0PVtdO2lmKCF0aGlzLl9fanNvbmxkLnJlc291cmNlcylyZXR1cm4gdDtmb3IodmFyIGU9MDtlPHRoaXMuX19qc29ubGQucmVzb3VyY2VzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX19qc29ubGQucmVzb3VyY2VzW2VdLGk9bmV3IGEuQW5ub3RhdGlvbihuLHRoaXMub3B0aW9ucyk7dC5wdXNoKGkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik7cmV0dXJuIHQ/YS5VdGlscy5ub3JtYWxpc2VUeXBlKHQpOm51bGx9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LGUucHJvdG90eXBlLmdldE1heFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhXaWR0aFwiKX0sZS5wcm90b3R5cGUuZ2V0TWF4SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhIZWlnaHRcIik/bnVsbDp0aGlzLmdldE1heFdpZHRoKCl9LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5SZXNvdXJjZT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPW4oMSkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztpLmluZGV4PS0xLGkuaXNMb2FkZWQ9ITE7dmFyIHI9e2RlZmF1bHRMYWJlbDpcIi1cIixsb2NhbGU6XCJlbi1HQlwiLHJlc291cmNlOmkscGVzc2ltaXN0aWNBY2Nlc3NDb250cm9sOiExfTtyZXR1cm4gaS5vcHRpb25zPU9iamVjdC5hc3NpZ24ocixuKSxpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiYXR0cmlidXRpb25cIik7cmV0dXJuIHQ/YS5MYW5ndWFnZU1hcC5wYXJzZSh0LHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSxlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKTtyZXR1cm4gdD9hLkxhbmd1YWdlTWFwLnBhcnNlKHQsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LGUucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sZS5wcm90b3R5cGUuZ2V0TG9nbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJsb2dvXCIpO3JldHVybiB0P1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q6KEFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoJiYodD10WzBdKSx0W1wiQGlkXCJdfHx0LmlkKTpudWxsfSxlLnByb3RvdHlwZS5nZXRMaWNlbnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImxpY2Vuc2VcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldE5hdkRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy5nZXRQcm9wZXJ0eShcIm5hdkRhdGVcIikpfSxlLnByb3RvdHlwZS5nZXRSZWxhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJyZWxhdGVkXCIpfSxlLnByb3RvdHlwZS5nZXRTZWVBbHNvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzZWVBbHNvXCIpfSxlLnByb3RvdHlwZS5nZXRUcmFja2luZ0xhYmVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTZXJ2aWNlKG8uU2VydmljZVByb2ZpbGUuVFJBQ0tJTkdfRVhURU5TSU9OUyk7cmV0dXJuIHQ/dC5nZXRQcm9wZXJ0eShcInRyYWNraW5nTGFiZWxcIik6XCJcIn0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0VHJlZT1uZXcgYS5UcmVlTm9kZShcInJvb3RcIiksdGhpcy5kZWZhdWx0VHJlZS5kYXRhPXRoaXMsdGhpcy5kZWZhdWx0VHJlZX0sZS5wcm90b3R5cGUuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD1udWxsLGU9dGhpcy5nZXRQcm9wZXJ0eShcInJlcXVpcmVkU3RhdGVtZW50XCIpO2lmKGUpKHQ9bmV3IGEuTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSkpLnBhcnNlKGUpO2Vsc2V7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGlvbigpO24mJigodD1uZXcgYS5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKSkudmFsdWU9bil9cmV0dXJuIHR9LGUucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OfSxlLnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2lmKHQuaXNMb2FkZWQpZSh0KTtlbHNle3ZhciBuPXQub3B0aW9ucztuLm5hdkRhdGU9dC5nZXROYXZEYXRlKCk7dmFyIGk9dC5fX2pzb25sZC5pZDtpfHwoaT10Ll9fanNvbmxkW1wiQGlkXCJdKSxhLlV0aWxzLmxvYWRNYW5pZmVzdChpKS50aGVuKChmdW5jdGlvbihpKXt0LnBhcmVudExhYmVsPWEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodC5nZXRMYWJlbCgpLG4ubG9jYWxlKTt2YXIgcj1hLkRlc2VyaWFsaXNlci5wYXJzZShpLG4pOyh0PU9iamVjdC5hc3NpZ24odCxyKSkuaW5kZXg9bi5pbmRleCxlKHQpfSkpfX0pKX0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLklJSUZSZXNvdXJjZT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMuZ2V0UHJvcGVydHkoXCJib2R5XCIpO2lmKGUpaWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZigobz1lW25dKS5pdGVtcylmb3IodmFyIGk9MDtpPG8uaXRlbXMubGVuZ3RoO2krKyl7dmFyIHI9by5pdGVtc1tpXTt0LnB1c2gobmV3IGEuQW5ub3RhdGlvbkJvZHkocix0aGlzLm9wdGlvbnMpKX1lbHNlIHQucHVzaChuZXcgYS5Bbm5vdGF0aW9uQm9keShvLHRoaXMub3B0aW9ucykpO2Vsc2UgaWYoZS5pdGVtcylmb3Iobj0wO248ZS5pdGVtcy5sZW5ndGg7bisrKXt2YXIgbz1lLml0ZW1zW25dO3QucHVzaChuZXcgYS5Bbm5vdGF0aW9uQm9keShvLHRoaXMub3B0aW9ucykpfWVsc2UgdC5wdXNoKG5ldyBhLkFubm90YXRpb25Cb2R5KGUsdGhpcy5vcHRpb25zKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE1vdGl2YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdGl2YXRpb25cIil8fG51bGx9LGUucHJvdG90eXBlLmdldE9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJvblwiKX0sZS5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ0YXJnZXRcIil9LGUucHJvdG90eXBlLmdldFJlc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhLlJlc291cmNlKHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZVwiKSx0aGlzLm9wdGlvbnMpfSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuQW5ub3RhdGlvbj1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7cmV0dXJuIHQ/YS5VdGlscy5nZXRNZWRpYVR5cGUodCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKT9hLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpOm51bGx9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5Bbm5vdGF0aW9uQm9keT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiByLmxhYmVsPWUsci5vcHRpb25zPWkscn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbH0sZS5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlc1wiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYS5Bbm5vdGF0aW9uKGUsdC5vcHRpb25zKX0pKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe2lmKHQuaXNMb2FkZWQpZSh0KTtlbHNle3ZhciBpPXQuX19qc29ubGQuaWQ7aXx8KGk9dC5fX2pzb25sZFtcIkBpZFwiXSksYS5VdGlscy5sb2FkTWFuaWZlc3QoaSkudGhlbigoZnVuY3Rpb24obil7dC5fX2pzb25sZD1uLHQuY29udGV4dD10LmdldFByb3BlcnR5KFwiY29udGV4dFwiKSx0LmlkPXQuZ2V0UHJvcGVydHkoXCJpZFwiKSx0LmlzTG9hZGVkPSEwLGUodCl9KSkuY2F0Y2gobil9fSkpfSxlfShhLkpTT05MRFJlc291cmNlKTtlLkFubm90YXRpb25MaXN0PW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaXRlbXNcIil9LGV9KG4oMCkuTWFuaWZlc3RSZXNvdXJjZSk7ZS5Bbm5vdGF0aW9uUGFnZT1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldENhbm9uaWNhbEltYWdlVXJpPWZ1bmN0aW9uKHQpe3ZhciBlLG49bnVsbCxpPVwiZGVmYXVsdFwiLHI9dDtpZih0aGlzLmV4dGVybmFsUmVzb3VyY2UmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBpZFwiXSluPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdLHJ8fChyPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLndpZHRoKSx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdJiYodGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEuMC9jb250ZXh0Lmpzb25cIik+LTF8fHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xLjEvY29udGV4dC5qc29uXCIpPi0xfHx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS9jb250ZXh0Lmpzb25cIik+LTEpJiYoaT1cIm5hdGl2ZVwiKTtlbHNle3ZhciBvPXRoaXMuZ2V0SW1hZ2VzKCk7aWYobyYmby5sZW5ndGgpe3ZhciBzPW9bMF0uZ2V0UmVzb3VyY2UoKSxsPXMuZ2V0U2VydmljZXMoKTtpZihyfHwocj1zLmdldFdpZHRoKCkpLGwubGVuZ3RoKXt2YXIgYz1sWzBdO249Yy5pZCxpPWEuVXRpbHMuZ2V0SW1hZ2VRdWFsaXR5KGMuZ2V0UHJvZmlsZSgpKX1lbHNlIGlmKHI9PT1zLmdldFdpZHRoKCkpcmV0dXJuIHMuaWR9aWYoIW4pe3ZhciB1PXRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7aWYodSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHUpcmV0dXJuIHU7aWYodVtcIkBpZFwiXSlyZXR1cm4gdVtcIkBpZFwiXTtpZih1Lmxlbmd0aClyZXR1cm4gdVswXS5pZH19fXJldHVybiBlPXIrXCIsXCIsbiYmbi5lbmRzV2l0aChcIi9cIikmJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLFtuLFwiZnVsbFwiLGUsMCxpK1wiLmpwZ1wiXS5qb2luKFwiL1wiKX0sZS5wcm90b3R5cGUuZ2V0TWF4RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciB0LGU9bnVsbDtyZXR1cm4gdGhpcy5leHRlcm5hbFJlc291cmNlJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZSYmKHQ9dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZSxBcnJheS5pc0FycmF5KHQpJiYodD10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubWF4V2lkdGh9KSlbMF0pJiYoZT1uZXcgYS5TaXplKHQubWF4V2lkdGgsdC5tYXhIZWlnaHQ/dC5tYXhIZWlnaHQ6dC5tYXhXaWR0aCkpKSxlfSxlLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLl9fanNvbmxkLml0ZW1zfHx0aGlzLl9fanNvbmxkLmNvbnRlbnQ7aWYoIWUpcmV0dXJuIHQ7dmFyIG49bnVsbDtpZihlLmxlbmd0aCYmKG49bmV3IGEuQW5ub3RhdGlvblBhZ2UoZVswXSx0aGlzLm9wdGlvbnMpKSwhbilyZXR1cm4gdDtmb3IodmFyIGk9bi5nZXRJdGVtcygpLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxzPW5ldyBhLkFubm90YXRpb24obyx0aGlzLm9wdGlvbnMpO3QucHVzaChzKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImR1cmF0aW9uXCIpfSxlLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtpZighdGhpcy5fX2pzb25sZC5pbWFnZXMpcmV0dXJuIHQ7Zm9yKHZhciBlPTA7ZTx0aGlzLl9fanNvbmxkLmltYWdlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9fanNvbmxkLmltYWdlc1tlXSxpPW5ldyBhLkFubm90YXRpb24obix0aGlzLm9wdGlvbnMpO3QucHVzaChpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImluZGV4XCIpfSxlLnByb3RvdHlwZS5nZXRPdGhlckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9KEFycmF5LmlzQXJyYXkodGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKSk/dGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKTpbdGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKV0pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwic3RyaW5nXCI9PXR5cGVvZihlPXRbXCJAdHlwZVwiXSkmJmUudG9Mb3dlckNhc2UoKT09ZS50b0xvd2VyQ2FzZSgpO3ZhciBlfSkpLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IGEuQW5ub3RhdGlvbkxpc3QoZS5sYWJlbHx8XCJBbm5vdGF0aW9uIGxpc3QgXCIrbixlLHQub3B0aW9ucyl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2FkKCl9KSk7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSxlfShhLlJlc291cmNlKTtlLkNhbnZhcz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigxKSxvPW4oMCkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5pdGVtcz1bXSxpLl9jb2xsZWN0aW9ucz1udWxsLGkuX21hbmlmZXN0cz1udWxsLGUuX19jb2xsZWN0aW9uPWksaX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldENvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb25zP3RoaXMuX2NvbGxlY3Rpb25zOnRoaXMuX2NvbGxlY3Rpb25zPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0NvbGxlY3Rpb24oKX0pKX0sZS5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hbmlmZXN0cz90aGlzLl9tYW5pZmVzdHM6dGhpcy5fbWFuaWZlc3RzPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc01hbmlmZXN0KCl9KSl9LGUucHJvdG90eXBlLmdldENvbGxlY3Rpb25CeUluZGV4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXMuZ2V0Q29sbGVjdGlvbnMoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07ci5pbmRleD09PXQmJihlPXIpfWlmKGUpcmV0dXJuIGUub3B0aW9ucy5pbmRleD10LGUubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gaW5kZXggbm90IGZvdW5kXCIpfSxlLnByb3RvdHlwZS5nZXRNYW5pZmVzdEJ5SW5kZXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcy5nZXRNYW5pZmVzdHMoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07ci5pbmRleD09PXQmJihlPXIpfWlmKGUpcmV0dXJuIGUub3B0aW9ucy5pbmRleD10LGUubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIk1hbmlmZXN0IGluZGV4IG5vdCBmb3VuZFwiKX0sZS5wcm90b3R5cGUuZ2V0VG90YWxDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbGxlY3Rpb25zKCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRUb3RhbE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1hbmlmZXN0cygpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0VG90YWxJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKT90aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKTphLlZpZXdpbmdEaXJlY3Rpb24uTEVGVF9UT19SSUdIVH0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1vLlV0aWxzLm5vcm1hbGlzZVR5cGUoby5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksdGhpcy5fcGFyc2VNYW5pZmVzdHModGhpcyksdGhpcy5fcGFyc2VDb2xsZWN0aW9ucyh0aGlzKSxvLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sZS5wcm90b3R5cGUuX3BhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKHQpe2lmKHQuZ2V0TWFuaWZlc3RzKCkmJnQuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoKWZvcih2YXIgZT0wO2U8dC5nZXRNYW5pZmVzdHMoKS5sZW5ndGg7ZSsrKXt2YXIgbj10LmdldE1hbmlmZXN0cygpW2VdLGk9bi5nZXREZWZhdWx0VHJlZSgpO2kubGFiZWw9bi5wYXJlbnRMYWJlbHx8by5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSl8fFwibWFuaWZlc3QgXCIrKGUrMSksaS5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLGkuZGF0YS5pZD1uLmlkLGkuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksdC5kZWZhdWx0VHJlZS5hZGROb2RlKGkpfX0sZS5wcm90b3R5cGUuX3BhcnNlQ29sbGVjdGlvbnM9ZnVuY3Rpb24odCl7aWYodC5nZXRDb2xsZWN0aW9ucygpJiZ0LmdldENvbGxlY3Rpb25zKCkubGVuZ3RoKWZvcih2YXIgZT0wO2U8dC5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aDtlKyspe3ZhciBuPXQuZ2V0Q29sbGVjdGlvbnMoKVtlXSxpPW4uZ2V0RGVmYXVsdFRyZWUoKTtpLmxhYmVsPW4ucGFyZW50TGFiZWx8fG8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcImNvbGxlY3Rpb24gXCIrKGUrMSksaS5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLGkuZGF0YS5pZD1uLmlkLGkuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKSx0LmRlZmF1bHRUcmVlLmFkZE5vZGUoaSl9fSxlfShvLklJSUZSZXNvdXJjZSk7ZS5Db2xsZWN0aW9uPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9ZX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLXRoaXMuc3RhcnR9LHR9KCk7ZS5EdXJhdGlvbj1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRlZmF1bHRMb2NhbGU9dH1yZXR1cm4gdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7dGhpcy5yZXNvdXJjZT10LHRoaXMubGFiZWw9aS5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSksdGhpcy52YWx1ZT1pLkxhbmd1YWdlTWFwLnBhcnNlKHRoaXMucmVzb3VyY2UudmFsdWUsdGhpcy5kZWZhdWx0TG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbD9pLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMubGFiZWwsdGhpcy5kZWZhdWx0TG9jYWxlKTpudWxsfSx0LnByb3RvdHlwZS5zZXRMYWJlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoKXt2YXIgbj10aGlzLmxhYmVsLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9jYWxlPT09ZS5kZWZhdWx0TG9jYWxlfHx0LmxvY2FsZT09PWkuVXRpbHMuZ2V0SW5leGFjdExvY2FsZShlLmRlZmF1bHRMb2NhbGUpfSkpWzBdO24mJihuLnZhbHVlPXQpfX0sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlKXt2YXIgdD10aGlzLmRlZmF1bHRMb2NhbGU7cmV0dXJuIHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoJiZ0aGlzLmxhYmVsWzBdLmxvY2FsZSYmKHQ9dGhpcy5sYWJlbFswXS5sb2NhbGUpLGkuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy52YWx1ZSx0KX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmxlbmd0aCl7dmFyIG49dGhpcy52YWx1ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvY2FsZT09PWUuZGVmYXVsdExvY2FsZXx8dC5sb2NhbGU9PT1pLlV0aWxzLmdldEluZXhhY3RMb2NhbGUoZS5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT10KX19LHR9KCk7ZS5MYWJlbFZhbHVlUGFpcj1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5MYW5ndWFnZT1mdW5jdGlvbih0LGUpe0FycmF5LmlzQXJyYXkodCk/MT09PXQubGVuZ3RoP3RoaXMudmFsdWU9dFswXTp0aGlzLnZhbHVlPXQuam9pbihcIjxici8+XCIpOnRoaXMudmFsdWU9dCx0aGlzLmxvY2FsZT1lfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgbixpPVtdO2lmKCF0KXJldHVybiBpO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07bj1cInN0cmluZ1wiPT10eXBlb2Ygbz9uZXcgYS5MYW5ndWFnZShvLGUpOm5ldyBhLkxhbmd1YWdlKG9bXCJAdmFsdWVcIl0sb1tcIkBsYW5ndWFnZVwiXXx8ZSksaS5wdXNoKG4pfWVsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG49bmV3IGEuTGFuZ3VhZ2UodCxlKSxpLnB1c2gobiksaTt0W1wiQHZhbHVlXCJdPyhuPW5ldyBhLkxhbmd1YWdlKHRbXCJAdmFsdWVcIl0sdFtcIkBsYW5ndWFnZVwiXXx8ZSksaS5wdXNoKG4pKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighdFtlXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibGFuZ3VhZ2UgbXVzdCBoYXZlIGEgdmFsdWVcIik7bj1uZXcgYS5MYW5ndWFnZSh0W2VdLGUpLGkucHVzaChuKX0pKX1yZXR1cm4gaX0sZS5nZXRWYWx1ZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoKXtpZihlKXt2YXIgbj10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9jYWxlPT09ZXx8YS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQubG9jYWxlKT09PWEuVXRpbHMuZ2V0SW5leGFjdExvY2FsZShlKX0pKVswXTtpZihuKXJldHVybiBuLnZhbHVlfXJldHVybiB0WzBdLnZhbHVlfXJldHVybiBudWxsfSxlfShBcnJheSk7ZS5MYW5ndWFnZU1hcD1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigxKSxvPW4oMCkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztpZihpLmluZGV4PTAsaS5fYWxsUmFuZ2VzPW51bGwsaS5pdGVtcz1bXSxpLl90b3BSYW5nZXM9W10saS5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZpLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgcj1pLl9nZXRUb3BSYW5nZXMoKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBvPXJbYV07aS5fcGFyc2VSYW5nZXMobyxTdHJpbmcoYSkpfXJldHVybiBpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0UG9zdGVyQ2FudmFzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcInBvc3RlckNhbnZhc1wiKTtyZXR1cm4gdCYmKHQ9bmV3IG8uQ2FudmFzKHQsdGhpcy5vcHRpb25zKSksdH0sZS5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pLHR8fG51bGx9LGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7aWYodC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1vLlV0aWxzLm5vcm1hbGlzZVR5cGUoby5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLCF0aGlzLmlzTG9hZGVkKXJldHVybiB0aGlzLmRlZmF1bHRUcmVlO3ZhciBlPXRoaXMuZ2V0VG9wUmFuZ2VzKCk7cmV0dXJuIGUubGVuZ3RoJiZlWzBdLmdldFRyZWUodGhpcy5kZWZhdWx0VHJlZSksby5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LGUucHJvdG90eXBlLl9nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtpZih0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMmJnRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpe2Zvcih2YXIgZT0wO2U8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1tlXTtuLnZpZXdpbmdIaW50PT09YS5WaWV3aW5nSGludC5UT1AmJnQucHVzaChuKX1pZighdC5sZW5ndGgpe3ZhciBpPXt9O2kucmFuZ2VzPXRoaXMuX19qc29ubGQuc3RydWN0dXJlcyx0LnB1c2goaSl9fXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9wUmFuZ2VzfSxlLnByb3RvdHlwZS5fZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aClmb3IodmFyIGU9MDtlPHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXNbZV07aWYobltcIkBpZFwiXT09PXR8fG4uaWQ9PT10KXJldHVybiBufXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fcGFyc2VSYW5nZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHI9dCx0PXRoaXMuX2dldFJhbmdlQnlJZChyKSksdCl7KGk9bmV3IG8uUmFuZ2UodCx0aGlzLm9wdGlvbnMpKS5wYXJlbnRSYW5nZT1uLGkucGF0aD1lLG4/bi5pdGVtcy5wdXNoKGkpOnRoaXMuX3RvcFJhbmdlcy5wdXNoKGkpO3ZhciBhPXQuaXRlbXN8fHQubWVtYmVycztpZihhKWZvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO2lmKGxbXCJAdHlwZVwiXSYmXCJzYzpyYW5nZVwiPT09bFtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCl8fGwudHlwZSYmXCJyYW5nZVwiPT09bC50eXBlLnRvTG93ZXJDYXNlKCkpdGhpcy5fcGFyc2VSYW5nZXMobCxlK1wiL1wiK3MsaSk7ZWxzZSBpZihsW1wiQHR5cGVcIl0mJlwic2M6Y2FudmFzXCI9PT1sW1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8bC50eXBlJiZcImNhbnZhc1wiPT09bC50eXBlLnRvTG93ZXJDYXNlKCkpe2kuY2FudmFzZXN8fChpLmNhbnZhc2VzPVtdKTt2YXIgYz1sLmlkfHxsW1wiQGlkXCJdO2kuY2FudmFzZXMucHVzaChjKX19ZWxzZSBpZih0LnJhbmdlcylmb3Iocz0wO3M8dC5yYW5nZXMubGVuZ3RoO3MrKyl0aGlzLl9wYXJzZVJhbmdlcyh0LnJhbmdlc1tzXSxlK1wiL1wiK3MsaSl9ZWxzZSBjb25zb2xlLndhcm4oXCJSYW5nZTpcIixyLFwiZG9lcyBub3QgZXhpc3RcIil9LGUucHJvdG90eXBlLmdldEFsbFJhbmdlcz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX2FsbFJhbmdlcylyZXR1cm4gdGhpcy5fYWxsUmFuZ2VzO3RoaXMuX2FsbFJhbmdlcz1bXTtmb3IodmFyIHQ9dGhpcy5nZXRUb3BSYW5nZXMoKSxlPWZ1bmN0aW9uKGUpe3ZhciBpPXRbZV07aS5pZCYmbi5fYWxsUmFuZ2VzLnB1c2goaSk7dmFyIHI9ZnVuY3Rpb24odCxlKXt0LmFkZChlKTt2YXIgbj1lLmdldFJhbmdlcygpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShyLHQpOnR9LGE9QXJyYXkuZnJvbShpLmdldFJhbmdlcygpLnJlZHVjZShyLG5ldyBTZXQpKTtuLl9hbGxSYW5nZXM9bi5fYWxsUmFuZ2VzLmNvbmNhdChhKX0sbj10aGlzLGk9MDtpPHQubGVuZ3RoO2krKyllKGkpO3JldHVybiB0aGlzLl9hbGxSYW5nZXN9LGUucHJvdG90eXBlLmdldFJhbmdlQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRBbGxSYW5nZXMoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYoaS5pZD09PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLnBhdGg9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTZXF1ZW5jZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgdD10aGlzLl9fanNvbmxkLm1lZGlhU2VxdWVuY2VzfHx0aGlzLl9fanNvbmxkLnNlcXVlbmNlcztpZih0KWZvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdLGk9bmV3IG8uU2VxdWVuY2Uobix0aGlzLm9wdGlvbnMpO3RoaXMuaXRlbXMucHVzaChpKX1lbHNlIHRoaXMuX19qc29ubGQuaXRlbXMmJihpPW5ldyBvLlNlcXVlbmNlKHRoaXMuX19qc29ubGQuaXRlbXMsdGhpcy5vcHRpb25zKSx0aGlzLml0ZW1zLnB1c2goaSkpO3JldHVybiB0aGlzLml0ZW1zfSxlLnByb3RvdHlwZS5nZXRTZXF1ZW5jZUJ5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKClbdF19LGUucHJvdG90eXBlLmdldFRvdGFsU2VxdWVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlcnZpY2UoYS5TZXJ2aWNlUHJvZmlsZS5VSV9FWFRFTlNJT05TKTtyZXR1cm4gdD90LmdldFByb3BlcnR5KFwibWFuaWZlc3RUeXBlXCIpOm8uTWFuaWZlc3RUeXBlLkVNUFRZfSxlLnByb3RvdHlwZS5pc011bHRpU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbFNlcXVlbmNlcygpPjF9LGUucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtpZih0KXJldHVybiB0PT09YS5WaWV3aW5nSGludC5QQUdFRDt2YXIgZT10aGlzLmdldEJlaGF2aW9yKCk7cmV0dXJuISFlJiZlPT09YS5CZWhhdmlvci5QQUdFRH0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSxlfShvLklJSUZSZXNvdXJjZSk7ZS5NYW5pZmVzdD1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dC5FTVBUWT1cIlwiLHQuTUFOVVNDUklQVD1cIm1hbnVzY3JpcHRcIix0Lk1PTk9HUkFQSD1cIm1vbm9ncmFwaFwifShlLk1hbmlmZXN0VHlwZXx8KGUuTWFuaWZlc3RUeXBlPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89bigxKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBpLl9yYW5nZXM9bnVsbCxpLmNhbnZhc2VzPW51bGwsaS5pdGVtcz1bXSxpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Q2FudmFzSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19qc29ubGQuY2FudmFzZXM/dGhpcy5fX2pzb25sZC5jYW52YXNlczp0aGlzLmNhbnZhc2VzP3RoaXMuY2FudmFzZXM6W119LGUucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZTtpZih0aGlzLmNhbnZhc2VzJiZ0aGlzLmNhbnZhc2VzLmxlbmd0aClmb3IodmFyIG49MDtuPHRoaXMuY2FudmFzZXMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5jYW52YXNlc1tuXSxyPWEuVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQoaSk7ciYmci5sZW5ndGg+MSYmKDA9PT1uJiYodD1OdW1iZXIoclswXSkpLG49PT10aGlzLmNhbnZhc2VzLmxlbmd0aC0xJiYoZT1OdW1iZXIoclsxXSkpKX1lbHNle3ZhciBvPXRoaXMuZ2V0UmFuZ2VzKCk7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKyl7dmFyIHM9b1tuXS5nZXREdXJhdGlvbigpO3MmJigwPT09biYmKHQ9cy5zdGFydCksbj09PW8ubGVuZ3RoLTEmJihlPXMuZW5kKSl9fWlmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PWUpcmV0dXJuIG5ldyBhLkR1cmF0aW9uKHQsZSl9LGUucHJvdG90eXBlLmdldFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXM/dGhpcy5fcmFuZ2VzOnRoaXMuX3Jhbmdlcz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNSYW5nZSgpfSkpfSxlLnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmKHQ9dFswXSksdHx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSxlLnByb3RvdHlwZS5nZXRUcmVlPWZ1bmN0aW9uKHQpe3QuZGF0YT10aGlzLHRoaXMudHJlZU5vZGU9dDt2YXIgZT10aGlzLmdldFJhbmdlcygpO2lmKGUmJmUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dLHI9bmV3IGEuVHJlZU5vZGU7dC5hZGROb2RlKHIpLHRoaXMuX3BhcnNlVHJlZU5vZGUocixpKX1yZXR1cm4gYS5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHQpLHR9LGUucHJvdG90eXBlLnNwYW5zVGltZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldER1cmF0aW9uKCk7cmV0dXJuISEoZSYmdD49ZS5zdGFydCYmdDw9ZS5lbmQpfSxlLnByb3RvdHlwZS5fcGFyc2VUcmVlTm9kZT1mdW5jdGlvbih0LGUpe3QubGFiZWw9YS5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSksdC5kYXRhPWUsdC5kYXRhLnR5cGU9YS5VdGlscy5ub3JtYWxpc2VUeXBlKGEuVHJlZU5vZGVUeXBlLlJBTkdFKSxlLnRyZWVOb2RlPXQ7dmFyIG49ZS5nZXRSYW5nZXMoKTtpZihuJiZuLmxlbmd0aClmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyLmdldEJlaGF2aW9yKCkhPT1vLkJlaGF2aW9yLk5PX05BVil7dmFyIHM9bmV3IGEuVHJlZU5vZGU7dC5hZGROb2RlKHMpLHRoaXMuX3BhcnNlVHJlZU5vZGUocyxyKX19fSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuUmFuZ2U9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpfSxlfShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO2UuUmVuZGVyaW5nPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEpLG89bigwKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBpLml0ZW1zPVtdLGkuX3RodW1ibmFpbHM9bnVsbCxpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgdD10aGlzLl9fanNvbmxkLmNhbnZhc2VzfHx0aGlzLl9fanNvbmxkLmVsZW1lbnRzO2lmKHQpZm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07KGk9bmV3IG8uQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9ZSx0aGlzLml0ZW1zLnB1c2goaSl9ZWxzZSBpZih0aGlzLl9fanNvbmxkKWZvcihlPTA7ZTx0aGlzLl9fanNvbmxkLmxlbmd0aDtlKyspe3ZhciBpO249dGhpcy5fX2pzb25sZFtlXSwoaT1uZXcgby5DYW52YXMobix0aGlzLm9wdGlvbnMpKS5pbmRleD1lLHRoaXMuaXRlbXMucHVzaChpKX1yZXR1cm4gdGhpcy5pdGVtc30sZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO2UrKyl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KGUpLGk9by5VdGlscy5ub3JtYWxpc2VVcmwobi5pZCk7aWYoby5VdGlscy5ub3JtYWxpc2VVcmwodCk9PT1pKXJldHVybiBufXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDYW52YXNCeUluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKClbdF19LGUucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO2UrKylpZih0aGlzLmdldENhbnZhc0J5SW5kZXgoZSkuaWQ9PT10KXJldHVybiBlO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5TGFiZWw9ZnVuY3Rpb24odCxlKXt0PXQudHJpbSgpLGlzTmFOKHQpfHwodD1wYXJzZUludCh0LDEwKS50b1N0cmluZygpLGUmJih0Kz1cInJcIikpO2Zvcih2YXIgbixpLHIsYT0vKFxcZCopXFxEKyhcXGQqKS8scz0wO3M8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7cysrKXt2YXIgbD10aGlzLmdldENhbnZhc0J5SW5kZXgocyk7aWYoby5MYW5ndWFnZU1hcC5nZXRWYWx1ZShsLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSk9PT10KXJldHVybiBzO2lmKChuPWEuZXhlYyh0KSkmJihpPW5bMV0sKHI9blsyXSkmJm5ldyBSZWdFeHAoXCJeXCIraStcIlxcXFxEK1wiK3IrXCIkXCIpLnRlc3QobC5nZXRMYWJlbCgpLnRvU3RyaW5nKCkpKSlyZXR1cm4gc31yZXR1cm4tMX0sZS5wcm90b3R5cGUuZ2V0TGFzdENhbnZhc0xhYmVsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xO2U+PTA7ZS0tKXt2YXIgbj10aGlzLmdldENhbnZhc0J5SW5kZXgoZSksaT1vLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKTtpZih0KXtpZigvXlthLXpBLVowLTldKiQvLnRlc3QoaSkpcmV0dXJuIGl9ZWxzZSBpZihpKXJldHVybiBpfXJldHVybiB0aGlzLm9wdGlvbnMuZGVmYXVsdExhYmVsfSxlLnByb3RvdHlwZS5nZXRMYXN0UGFnZUluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LGUucHJvdG90eXBlLmdldE5leHRQYWdlSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihlKXt2YXIgaT10aGlzLmdldFBhZ2VkSW5kaWNlcyh0KSxyPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO249ciYmcj09PWEuVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUP2lbMF0rMTppW2kubGVuZ3RoLTFdKzF9ZWxzZSBuPXQrMTtyZXR1cm4gbj50aGlzLmdldExhc3RQYWdlSW5kZXgoKT8tMTpufSxlLnByb3RvdHlwZS5nZXRQYWdlZEluZGljZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZihlKXtuPXRoaXMuaXNGaXJzdENhbnZhcyh0KXx8dGhpcy5pc0xhc3RDYW52YXModCk/W3RdOnQlMj9bdCx0KzFdOlt0LTEsdF07dmFyIGk9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7aSYmaT09PWEuVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUJiYobj1uLnJldmVyc2UoKSl9ZWxzZSBuLnB1c2godCk7cmV0dXJuIG59LGUucHJvdG90eXBlLmdldFByZXZQYWdlSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihlKXt2YXIgaT10aGlzLmdldFBhZ2VkSW5kaWNlcyh0KSxyPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO249ciYmcj09PWEuVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUP2lbaS5sZW5ndGgtMV0tMTppWzBdLTF9ZWxzZSBuPXQtMTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXNJbmRleD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U3RhcnRDYW52YXMoKTtpZih0KWZvcih2YXIgZT0wO2U8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7ZSsrKWlmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleChlKS5pZD09PXQpcmV0dXJuIGU7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFRodW1icz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLHI9MDtyPGk7cisrKXt2YXIgYT10aGlzLmdldENhbnZhc0J5SW5kZXgocikscz1uZXcgby5UaHVtYih0LGEpO24ucHVzaChzKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0VGh1bWJuYWlscz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3RodW1ibmFpbHMpcmV0dXJuIHRoaXMuX3RodW1ibmFpbHM7dGhpcy5fdGh1bWJuYWlscz1bXTtmb3IodmFyIHQ9dGhpcy5nZXRDYW52YXNlcygpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXS5nZXRUaHVtYm5haWwoKTtuJiZ0aGlzLl90aHVtYm5haWxzLnB1c2gobil9cmV0dXJuIHRoaXMuX3RodW1ibmFpbHN9LGUucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzdGFydENhbnZhc1wiKX0sZS5wcm90b3R5cGUuZ2V0VG90YWxDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpP3RoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpOnRoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uP3RoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uKCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSxlLnByb3RvdHlwZS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdD50aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSxlLnByb3RvdHlwZS5pc0ZpcnN0Q2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dH0sZS5wcm90b3R5cGUuaXNMYXN0Q2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sZS5wcm90b3R5cGUuaXNNdWx0aUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKT4xfSxlLnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuISF0JiZ0PT09YS5WaWV3aW5nSGludC5QQUdFRH0sZS5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSUyPT0wfSxlfShvLk1hbmlmZXN0UmVzb3VyY2UpO2UuU2VxdWVuY2U9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucGFyc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9SlNPTi5wYXJzZSh0KSksdGhpcy5wYXJzZUpzb24odCxlKX0sdC5wYXJzZUpzb249ZnVuY3Rpb24odCxlKXt2YXIgbjtpZihlJiZlLm5hdkRhdGUmJiFpc05hTihlLm5hdkRhdGUuZ2V0VGltZSgpKSYmKHQubmF2RGF0ZT1lLm5hdkRhdGUudG9TdHJpbmcoKSksdFtcIkB0eXBlXCJdKXN3aXRjaCh0W1wiQHR5cGVcIl0pe2Nhc2VcInNjOkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKHQsZSk7YnJlYWs7Y2FzZVwic2M6TWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdCh0LGUpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9ZWxzZSBzd2l0Y2godC50eXBlKXtjYXNlXCJDb2xsZWN0aW9uXCI6bj10aGlzLnBhcnNlQ29sbGVjdGlvbih0LGUpO2JyZWFrO2Nhc2VcIk1hbmlmZXN0XCI6bj10aGlzLnBhcnNlTWFuaWZlc3QodCxlKTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiBuLmlzTG9hZGVkPSEwLG59LHQucGFyc2VDb2xsZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGkuQ29sbGVjdGlvbih0LGUpO3JldHVybiBlPyhuLmluZGV4PWUuaW5kZXh8fDAsZS5yZXNvdXJjZSYmKG4ucGFyZW50Q29sbGVjdGlvbj1lLnJlc291cmNlLnBhcmVudENvbGxlY3Rpb24pKTpuLmluZGV4PTAsdGhpcy5wYXJzZUNvbGxlY3Rpb25zKG4sZSksdGhpcy5wYXJzZU1hbmlmZXN0cyhuLGUpLHRoaXMucGFyc2VJdGVtcyhuLGUpLG59LHQucGFyc2VDb2xsZWN0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQuX19qc29ubGQuY29sbGVjdGlvbnM/bj10Ll9fanNvbmxkLmNvbGxlY3Rpb25zOnQuX19qc29ubGQuaXRlbXMmJihuPXQuX19qc29ubGQuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cImNvbGxlY3Rpb25cIj09PXQudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXtlJiYoZS5pbmRleD1pKTt2YXIgcj10aGlzLnBhcnNlQ29sbGVjdGlvbihuW2ldLGUpO3IuaW5kZXg9aSxyLnBhcmVudENvbGxlY3Rpb249dCx0Lml0ZW1zLnB1c2gocil9fSx0LnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGkuTWFuaWZlc3QodCxlKX0sdC5wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKHQuX19qc29ubGQubWFuaWZlc3RzP249dC5fX2pzb25sZC5tYW5pZmVzdHM6dC5fX2pzb25sZC5pdGVtcyYmKG49dC5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblwibWFuaWZlc3RcIj09PXQudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLnBhcnNlTWFuaWZlc3QobltpXSxlKTtyLmluZGV4PWksci5wYXJlbnRDb2xsZWN0aW9uPXQsdC5pdGVtcy5wdXNoKHIpfX0sdC5wYXJzZUl0ZW09ZnVuY3Rpb24odCxlKXtpZih0W1wiQHR5cGVcIl0pe2lmKFwic2M6bWFuaWZlc3RcIj09PXRbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QodCxlKTtpZihcInNjOmNvbGxlY3Rpb25cIj09PXRbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbih0LGUpfWVsc2UgaWYodC50eXBlKXtpZihcIm1hbmlmZXN0XCI9PT10LnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZU1hbmlmZXN0KHQsZSk7aWYoXCJjb2xsZWN0aW9uXCI9PT10LnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24odCxlKX1yZXR1cm4gbnVsbH0sdC5wYXJzZUl0ZW1zPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fX2pzb25sZC5tZW1iZXJzfHx0Ll9fanNvbmxkLml0ZW1zO2lmKG4pZm9yKHZhciBpPWZ1bmN0aW9uKGkpe2UmJihlLmluZGV4PWkpO3ZhciBhPXIucGFyc2VJdGVtKG5baV0sZSk7cmV0dXJuIGE/dC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09YS5pZH0pKVswXT9cImNvbnRpbnVlXCI6KGEuaW5kZXg9aSxhLnBhcmVudENvbGxlY3Rpb249dCx2b2lkIHQuaXRlbXMucHVzaChhKSk6e3ZhbHVlOnZvaWQgMH19LHI9dGhpcyxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBvPWkoYSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG8pcmV0dXJuIG8udmFsdWV9fSx0fSgpO2UuRGVzZXJpYWxpc2VyPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0UHJvZmlsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJwcm9maWxlXCIpO3JldHVybiB0fHwodD10aGlzLmdldFByb3BlcnR5KFwiZGN0ZXJtczpjb25mb3Jtc1RvXCIpKSxBcnJheS5pc0FycmF5KHQpP3RbMF06dH0sZS5wcm90b3R5cGUuZ2V0Q29uZmlybUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImNvbmZpcm1MYWJlbFwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldEZhaWx1cmVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlRGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldEZhaWx1cmVIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZUhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0SGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0U2VydmljZUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRJbmZvVXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pZDtyZXR1cm4gdC5lbmRzV2l0aChcIi9cIil8fCh0Kz1cIi9cIiksdCtcImluZm8uanNvblwifSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuU2VydmljZT1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWV9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dFt0LkFVVEhPUklaQVRJT05fRkFJTEVEPTFdPVwiQVVUSE9SSVpBVElPTl9GQUlMRURcIix0W3QuRk9SQklEREVOPTJdPVwiRk9SQklEREVOXCIsdFt0LklOVEVSTkFMX1NFUlZFUl9FUlJPUj0zXT1cIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLHRbdC5SRVNUUklDVEVEPTRdPVwiUkVTVFJJQ1RFRFwifShlLlN0YXR1c0NvZGV8fChlLlN0YXR1c0NvZGU9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCk7ZS5UaHVtYj1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YT1lLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLndpZHRoPXQ7dmFyIG49ZS5nZXRIZWlnaHQoKS9lLmdldFdpZHRoKCk7dGhpcy5oZWlnaHQ9bj9NYXRoLmZsb29yKHRoaXMud2lkdGgqbik6dCx0aGlzLnVyaT1lLmdldENhbm9uaWNhbEltYWdlVXJpKHQpLHRoaXMubGFiZWw9aS5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLmdldExhYmVsKCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGV9KG4oMCkuUmVzb3VyY2UpO2UuVGh1bWJuYWlsPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5sYWJlbD10LHRoaXMuZGF0YT1lfHx7fSx0aGlzLm5vZGVzPVtdfXJldHVybiB0LnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKHQpe3RoaXMubm9kZXMucHVzaCh0KSx0LnBhcmVudE5vZGU9dGhpc30sdC5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pfSx0LnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLk1BTklGRVNUKX0sdC5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5SQU5HRSl9LHR9KCk7ZS5UcmVlTm9kZT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dC5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLHQuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLHQuUkFOR0U9XCJyYW5nZVwifShlLlRyZWVOb2RlVHlwZXx8KGUuVHJlZU5vZGVUeXBlPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXt3aW5kb3csdC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciByPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQoaSxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkNPTlRJTlVFPTEwMCxlLlNXSVRDSElOR19QUk9UT0NPTFM9MTAxLGUuUFJPQ0VTU0lORz0xMDIsZS5PSz0yMDAsZS5DUkVBVEVEPTIwMSxlLkFDQ0VQVEVEPTIwMixlLk5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OPTIwMyxlLk5PX0NPTlRFTlQ9MjA0LGUuUkVTRVRfQ09OVEVOVD0yMDUsZS5QQVJUSUFMX0NPTlRFTlQ9MjA2LGUuTVVMVElfU1RBVFVTPTIwNyxlLk1VTFRJUExFX0NIT0lDRVM9MzAwLGUuTU9WRURfUEVSTUFORU5UTFk9MzAxLGUuTU9WRURfVEVNUE9SQVJJTFk9MzAyLGUuU0VFX09USEVSPTMwMyxlLk5PVF9NT0RJRklFRD0zMDQsZS5VU0VfUFJPWFk9MzA1LGUuVEVNUE9SQVJZX1JFRElSRUNUPTMwNyxlLkJBRF9SRVFVRVNUPTQwMCxlLlVOQVVUSE9SSVpFRD00MDEsZS5QQVlNRU5UX1JFUVVJUkVEPTQwMixlLkZPUkJJRERFTj00MDMsZS5OT1RfRk9VTkQ9NDA0LGUuTUVUSE9EX05PVF9BTExPV0VEPTQwNSxlLk5PVF9BQ0NFUFRBQkxFPTQwNixlLlBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTQwNyxlLlJFUVVFU1RfVElNRV9PVVQ9NDA4LGUuQ09ORkxJQ1Q9NDA5LGUuR09ORT00MTAsZS5MRU5HVEhfUkVRVUlSRUQ9NDExLGUuUFJFQ09ORElUSU9OX0ZBSUxFRD00MTIsZS5SRVFVRVNUX0VOVElUWV9UT09fTEFSR0U9NDEzLGUuUkVRVUVTVF9VUklfVE9PX0xBUkdFPTQxNCxlLlVOU1VQUE9SVEVEX01FRElBX1RZUEU9NDE1LGUuUkVRVUVTVEVEX1JBTkdFX05PVF9TQVRJU0ZJQUJMRT00MTYsZS5FWFBFQ1RBVElPTl9GQUlMRUQ9NDE3LGUuSU1fQV9URUFQT1Q9NDE4LGUuVU5QUk9DRVNTQUJMRV9FTlRJVFk9NDIyLGUuTE9DS0VEPTQyMyxlLkZBSUxFRF9ERVBFTkRFTkNZPTQyNCxlLlVOT1JERVJFRF9DT0xMRUNUSU9OPTQyNSxlLlVQR1JBREVfUkVRVUlSRUQ9NDI2LGUuUFJFQ09ORElUSU9OX1JFUVVJUkVEPTQyOCxlLlRPT19NQU5ZX1JFUVVFU1RTPTQyOSxlLlJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0U9NDMxLGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMCxlLk5PVF9JTVBMRU1FTlRFRD01MDEsZS5CQURfR0FURVdBWT01MDIsZS5TRVJWSUNFX1VOQVZBSUxBQkxFPTUwMyxlLkdBVEVXQVlfVElNRV9PVVQ9NTA0LGUuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ9NTA1LGUuVkFSSUFOVF9BTFNPX05FR09USUFURVM9NTA2LGUuSU5TVUZGSUNJRU5UX1NUT1JBR0U9NTA3LGUuQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEPTUwOSxlLk5PVF9FWFRFTkRFRD01MTAsZS5ORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTUxMX1dKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz13aW5kb3cuZmV0Y2h8fCh3aW5kb3cuZmV0Y2g9bigzKS5kZWZhdWx0fHxuKDMpKX1dKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxuLmQoZSxcIkJhc2VDb21wb25lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5vcHRpb25zPXQsdGhpcy5vcHRpb25zLmRhdGE9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmRhdGEoKSx0LmRhdGEpfXJldHVybiB0LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsPXRoaXMub3B0aW9ucy50YXJnZXQsdGhpcy5lbD8odGhpcy5lbC5pbm5lckhUTUw9XCJcIiwhMCk6KGNvbnNvbGUud2FybihcImVsZW1lbnQgbm90IGZvdW5kXCIpLCExKX0sdC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybnt9fSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZXx8KHRoaXMuX2U9e30pOyhpW3RdfHwoaVt0XT1bXSkpLnB1c2goe2ZuOmUsY3R4Om59KX0sdC5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtmb3IodmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj0oKHRoaXMuX2V8fCh0aGlzLl9lPXt9KSlbdF18fFtdKS5zbGljZSgpLGE9MCxvPXIubGVuZ3RoO2E8bzthKyspclthXS5mbi5hcHBseShyW2FdLmN0eCxpKX0sdC5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe30sdH0oKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuX2NvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7T2JqZWN0LmlzKGVbaV0sdFtpXSl8fG4ucHVzaChpKX0pKSxufSx0LmRpZmY9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHQuX2NvbXBhcmUoZSxuKS5jb25jYXQodC5fY29tcGFyZShuLGUpKSkpfSx0LmdldFNwYXRpYWxDb21wb25lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9L3h5d2g9KFteJl0rKS9nLmV4ZWModCksbj1udWxsO3JldHVybiBlJiZlWzFdJiYobj1lWzFdLnNwbGl0KFwiLFwiKSksbn0sdC5nZXRGaXJzdFRhcmdldGVkQ2FudmFzSWQ9ZnVuY3Rpb24oZSl7dmFyIG47aWYoZS5jYW52YXNlcyYmZS5jYW52YXNlcy5sZW5ndGgpbj1lLmNhbnZhc2VzWzBdO2Vsc2V7dmFyIHI9ZS5nZXRSYW5nZXMoKTtpZihyLmxlbmd0aClyZXR1cm4gdC5nZXRGaXJzdFRhcmdldGVkQ2FudmFzSWQoclswXSl9aWYodm9pZCAwIT09bilyZXR1cm4gaS5VdGlscy5ub3JtYWxpc2VVcmwobil9LHQuZ2V0VGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZygobmV3IERhdGUpLnZhbHVlT2YoKSl9LHQucmV0YXJnZXRUZW1wb3JhbENvbXBvbmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPWkuVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQoZSk7aWYobil7Zm9yKHZhciByPTAsYT1lLnN1YnN0cigwLGUuaW5kZXhPZihcIiNcIikpLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHM9dFtvXTtpZihzLmlkLmluY2x1ZGVzKGEpKWJyZWFrO3ZhciBsPXMuZ2V0RHVyYXRpb24oKTtsJiYocis9bCl9cmV0dXJuIG5bMF09TnVtYmVyKG5bMF0pK3IsblsxXT1OdW1iZXIoblsxXSkrcixhK1wiI3Q9XCIrblswXStcIixcIituWzFdfX0sdC5mb3JtYXRUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gaT1NYXRoLmNlaWwodCksKChlPShlPU1hdGguZmxvb3IoaS8zNjAwKSk+PTEwP2U6XCIwXCIrZSk+PTE/ZStcIjpcIjpcIlwiKSsobj0obj1NYXRoLmZsb29yKGklMzYwMC82MCkpPj0xMD9uOlwiMFwiK24pK1wiOlwiKyhpPShpPU1hdGguZmxvb3IoaSUzNjAwJTYwKSk+PTEwP2k6XCIwXCIraSl9LHQuaXNJRT1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LGU9dC5pbmRleE9mKFwiTVNJRSBcIik7aWYoZT4wKXJldHVybiBwYXJzZUludCh0LnN1YnN0cmluZyhlKzUsdC5pbmRleE9mKFwiLlwiLGUpKSwxMCk7aWYodC5pbmRleE9mKFwiVHJpZGVudC9cIik+MCl7dmFyIG49dC5pbmRleE9mKFwicnY6XCIpO3JldHVybiBwYXJzZUludCh0LnN1YnN0cmluZyhuKzMsdC5pbmRleE9mKFwiLlwiLG4pKSwxMCl9dmFyIGk9dC5pbmRleE9mKFwiRWRnZS9cIik7cmV0dXJuIGk+MCYmcGFyc2VJbnQodC5zdWJzdHJpbmcoaSs1LHQuaW5kZXhPZihcIi5cIixpKSksMTApfSx0LmlzU2FmYXJpPWZ1bmN0aW9uKCl7dmFyIHQ9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtyZXR1cm4gY29uc29sZS5sb2coXCJpc1NhZmFyaVwiLHQpLHR9LHQuZGVib3VuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxMDAsZnVuY3Rpb24oKXtpZighdC5kZWJvdW5jaW5nKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTt0Lmxhc3RSZXR1cm5WYWw9dC5hcHBseSh3aW5kb3csbiksdC5kZWJvdW5jaW5nPSEwfXJldHVybiBjbGVhclRpbWVvdXQodC5kZWJvdW5jZVRpbWVvdXQpLHQuZGVib3VuY2VUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5kZWJvdW5jaW5nPSExfSksZSksdC5sYXN0UmV0dXJuVmFsfX0sdC5ub3JtYWxpc2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybih0LWUpLyhuLWUpfSx0LmlzSExTRm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhsc01pbWVUeXBlcy5pbmNsdWRlcyh0LnRvU3RyaW5nKCkpfSx0LmlzTXBlZ0Rhc2hGb3JtYXQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiPT09dC50b1N0cmluZygpfSx0LmNhblBsYXlIbHM9ZnVuY3Rpb24oKXt2YXIgdD1cIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LGU9dCYmdC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7cmV0dXJuIEJvb2xlYW4oZSYmZS5jYW5QbGF5VHlwZSkmJnRoaXMuaGxzTWltZVR5cGVzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybi9tYXliZXxwcm9iYWJseS9pLnRlc3QoZS5jYW5QbGF5VHlwZSh0KSl9KSl9LHQuaGxzTWltZVR5cGVzPVtcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsXCJ2bmQuYXBwbGUubXBlZ3VybFwiLFwiYXVkaW8vbXBlZ3VybFwiLFwiYXVkaW8veC1tcGVndXJsXCIsXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixcInZpZGVvL3gtbXBlZ3VybFwiLFwidmlkZW8vbXBlZ3VybFwiLFwiYXBwbGljYXRpb24vbXBlZ3VybFwiXSx0fSgpO2UuQVZDb21wb25lbnRVdGlscz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9big0KSxvPW4oMCkscz1uKDEpLGw9big4KSxjPW4oMiksdT1uKDUpLGg9big2KSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uY2FudmFzSW5zdGFuY2VzPVtdLG4uX2RhdGE9bi5kYXRhKCksbi5fcmVhZHlNZWRpYT0wLG4uX3JlYWR5V2F2ZWZvcm1zPTAsbi5fcG9zdGVyQ2FudmFzV2lkdGg9MCxuLl9wb3N0ZXJDYW52YXNIZWlnaHQ9MCxuLl9wb3N0ZXJJbWFnZUV4cGFuZGVkPSExLG4uX2luaXQoKSxuLl9yZXNpemUoKSxufXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuX2luaXQuY2FsbCh0aGlzKSx0aGlzLl8kZWxlbWVudD0kKHRoaXMuZWwpLCEwfSxlLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJue2F1dG9QbGF5OiExLGNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlOiExLGRlZmF1bHRBc3BlY3RSYXRpbzouNTYsZG91YmxlQ2xpY2tNUzozNTAsaGFsdmVBdFdpZHRoOjIwMCxsaW1pdFRvUmFuZ2U6ITEscG9zdGVySW1hZ2VSYXRpbzouMyx2aXJ0dWFsQ2FudmFzRW5hYmxlZDohMCxjb250ZW50OntjdXJyZW50VGltZTpcIkN1cnJlbnQgVGltZVwiLGNvbGxhcHNlOlwiQ29sbGFwc2VcIixkdXJhdGlvbjpcIkR1cmF0aW9uXCIsZXhwYW5kOlwiRXhwYW5kXCIsbXV0ZTpcIk11dGVcIixuZXh0OlwiTmV4dFwiLHBhdXNlOlwiUGF1c2VcIixwbGF5OlwiUGxheVwiLHByZXZpb3VzOlwiUHJldmlvdXNcIix1bm11dGU6XCJVbm11dGVcIixmdWxsc2NyZWVuOlwiRnVsbHNjcmVlblwifX19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9kYXRhKTt0aGlzLl9kYXRhPU9iamVjdC5hc3NpZ24odGhpcy5fZGF0YSx0KTt2YXIgaT1jLkFWQ29tcG9uZW50VXRpbHMuZGlmZihuLHRoaXMuX2RhdGEpO2lmKGkuaW5jbHVkZXMoXCJoZWxwZXJcIikmJnRoaXMuX3Jlc2V0KCksdGhpcy5fZGF0YS5oZWxwZXIpe2lmKGkuaW5jbHVkZXMoXCJsaW1pdFRvUmFuZ2VcIikmJnRoaXMuX2RhdGEuY2FudmFzSWQmJnRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dC5zZXQoe2xpbWl0VG9SYW5nZTplLl9kYXRhLmxpbWl0VG9SYW5nZX0pfSkpLGkuaW5jbHVkZXMoXCJjb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZVwiKSYmdGhpcy5fZGF0YS5jYW52YXNJZCYmdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt0LnNldCh7Y29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6ZS5fZGF0YS5jb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZX0pfSkpLGkuaW5jbHVkZXMoXCJhdXRvU2VsZWN0UmFuZ2VcIikmJnRoaXMuX2RhdGEuY2FudmFzSWQmJnRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dC5zZXQoe2F1dG9TZWxlY3RSYW5nZTplLl9kYXRhLmF1dG9TZWxlY3RSYW5nZX0pfSkpLGkuaW5jbHVkZXMoXCJjYW52YXNJZFwiKSYmdGhpcy5fZGF0YS5jYW52YXNJZCl7dmFyIHI9dGhpcy5fZ2V0Q2FudmFzSW5zdGFuY2VCeUlkKHRoaXMuX2RhdGEuY2FudmFzSWQpO3ImJnRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZ2V0Q2FudmFzSWQoKSE9PXIuZ2V0Q2FudmFzSWQoKT90LnNldCh7dmlzaWJsZTohMX0pOmkuaW5jbHVkZXMoXCJyYW5nZVwiKT90LnNldCh7dmlzaWJsZTohMCxyYW5nZTplLl9kYXRhLnJhbmdlP2pRdWVyeS5leHRlbmQoITAse30sZS5fZGF0YS5yYW5nZSk6dm9pZCAwfSk6dC5zZXQoe3Zpc2libGU6ITB9KX0pKX1pZihpLmluY2x1ZGVzKFwidmlydHVhbENhbnZhc0VuYWJsZWRcIikmJih0aGlzLnNldCh7cmFuZ2U6dm9pZCAwfSksdGhpcy5fZGF0YS52aXJ0dWFsQ2FudmFzRW5hYmxlZCYmdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pc1ZpcnR1YWwoKSYmZS5zZXQoe2NhbnZhc0lkOnQuZ2V0Q2FudmFzSWQoKSxyYW5nZTp2b2lkIDB9KX0pKSksaS5pbmNsdWRlcyhcInJhbmdlXCIpJiZ0aGlzLl9kYXRhLnJhbmdlKXt2YXIgYT10aGlzLl9kYXRhLmhlbHBlci5nZXRSYW5nZUJ5SWQodGhpcy5fZGF0YS5yYW5nZS5pZCk7aWYoYSl7dmFyIHM9Yy5BVkNvbXBvbmVudFV0aWxzLmdldEZpcnN0VGFyZ2V0ZWRDYW52YXNJZChhKTtpZihzKXt2YXIgbD10aGlzLl9nZXRDYW52YXNJbnN0YW5jZUJ5SWQocyk7aWYobCl7aWYobC5pc1ZpcnR1YWwoKSYmdGhpcy5fZGF0YS52aXJ0dWFsQ2FudmFzRW5hYmxlZCYmbC5pbmNsdWRlc1ZpcnR1YWxTdWJDYW52YXMocykpe3M9bC5nZXRDYW52YXNJZCgpO2Zvcih2YXIgdT0wO3U8bC5yYW5nZXMubGVuZ3RoO3UrKyl7dmFyIGg9bC5yYW5nZXNbdV07aWYoaC5pZD09PWEuaWQpe2E9aDticmVha319fXRoaXMuX2RhdGEuY2FudmFzSWQmJih0aGlzLl9kYXRhLmNhbnZhc0lkLmluY2x1ZGVzKFwiOi8vXCIpP28uVXRpbHMubm9ybWFsaXNlVXJsKHRoaXMuX2RhdGEuY2FudmFzSWQpOnRoaXMuX2RhdGEuY2FudmFzSWQpIT09cz90aGlzLnNldCh7Y2FudmFzSWQ6cyxyYW5nZTpqUXVlcnkuZXh0ZW5kKCEwLHt9LGEpfSk6bC5zZXQoe3JhbmdlOmpRdWVyeS5leHRlbmQoITAse30sYSl9KX19fWVsc2UgY29uc29sZS53YXJuKFwicmFuZ2Ugbm90IGZvdW5kXCIpfXRoaXMuX3JlbmRlcigpLHRoaXMuX3Jlc2l6ZSgpfWVsc2UgY29uc29sZS53YXJuKFwibXVzdCBwYXNzIGEgaGVscGVyIG9iamVjdFwiKX0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9yZXNldCgpfSxlLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX3JlYWR5TWVkaWE9MCx0aGlzLl9yZWFkeVdhdmVmb3Jtcz0wLHRoaXMuX3Bvc3RlckNhbnZhc1dpZHRoPTAsdGhpcy5fcG9zdGVyQ2FudmFzSGVpZ2h0PTAsY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0FsbE1lZGlhUmVhZHlJbnRlcnZhbCksY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0FsbFdhdmVmb3Jtc1JlYWR5SW50ZXJ2YWwpLHRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZGVzdHJveSgpfSkpLHRoaXMuY2FudmFzSW5zdGFuY2VzPVtdLHRoaXMuXyRlbGVtZW50LmVtcHR5KCksdGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5oZWxwZXImJnRoaXMuX2RhdGEuaGVscGVyLm1hbmlmZXN0KXt2YXIgZT10aGlzLl9kYXRhLmhlbHBlci5tYW5pZmVzdC5nZXRCZWhhdmlvcigpLG49dGhpcy5fZ2V0Q2FudmFzZXMoKTtpZihlJiZlLnRvU3RyaW5nKCk9PT1hLkJlaGF2aW9yLkFVVE9fQURWQU5DRSl7dmFyIGk9bmV3IHUuVmlydHVhbENhbnZhcztuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYWRkQ2FudmFzKHQpfSkpLHRoaXMuX2luaXRDYW52YXMoaSl9bi5mb3JFYWNoKChmdW5jdGlvbihlKXt0Ll9pbml0Q2FudmFzKGUpfSkpLHRoaXMuY2FudmFzSW5zdGFuY2VzLmxlbmd0aD4wJiYodGhpcy5fZGF0YS5jYW52YXNJZD10aGlzLmNhbnZhc0luc3RhbmNlc1swXS5nZXRDYW52YXNJZCgpKSx0aGlzLl9jaGVja0FsbE1lZGlhUmVhZHlJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLl9jaGVja0FsbE1lZGlhUmVhZHkuYmluZCh0aGlzKSwxMDApLHRoaXMuX2NoZWNrQWxsV2F2ZWZvcm1zUmVhZHlJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLl9jaGVja0FsbFdhdmVmb3Jtc1JlYWR5LmJpbmQodGhpcyksMTAwKSx0aGlzLl8kcG9zdGVyQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJwb3N0ZXItY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJGVsZW1lbnQuYXBwZW5kKHRoaXMuXyRwb3N0ZXJDb250YWluZXIpLHRoaXMuXyRwb3N0ZXJJbWFnZT0kKCc8ZGl2IGNsYXNzPVwicG9zdGVyLWltYWdlXCI+PC9kaXY+JyksdGhpcy5fJHBvc3RlckV4cGFuZEJ1dHRvbj0kKCdcXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHRpdGxlPVwiJysodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jb250ZW50P3RoaXMuX2RhdGEuY29udGVudC5leHBhbmQ6XCJcIikrJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uICBhdi1pY29uLWV4cGFuZCBleHBhbmRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PHNwYW4+JysodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jb250ZW50P3RoaXMuX2RhdGEuY29udGVudC5leHBhbmQ6XCJcIikrXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgIFwiKSx0aGlzLl8kcG9zdGVySW1hZ2UuYXBwZW5kKHRoaXMuXyRwb3N0ZXJFeHBhbmRCdXR0b24pLHRoaXMuXyRwb3N0ZXJJbWFnZS5vbihcInRvdWNoc3RhcnQgY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXQuX2dldFBvc3RlckltYWdlQ3NzKCF0Ll9wb3N0ZXJJbWFnZUV4cGFuZGVkKTtpZih0Ll8kcG9zdGVySW1hZ2UuYW5pbWF0ZShuKSx0Ll9wb3N0ZXJJbWFnZUV4cGFuZGVkPSF0Ll9wb3N0ZXJJbWFnZUV4cGFuZGVkLHQuX2RhdGEuY29udGVudClpZih0Ll9wb3N0ZXJJbWFnZUV4cGFuZGVkKXt2YXIgaT10Ll9kYXRhLmNvbnRlbnQuY29sbGFwc2U7dC5fJHBvc3RlckV4cGFuZEJ1dHRvbi5wcm9wKFwidGl0bGVcIixpKSx0Ll8kcG9zdGVyRXhwYW5kQnV0dG9uLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwiZXhwYW5kXCIsXCJjb2xsYXBzZVwiKX1lbHNle2k9dC5fZGF0YS5jb250ZW50LmV4cGFuZDt0Ll8kcG9zdGVyRXhwYW5kQnV0dG9uLnByb3AoXCJ0aXRsZVwiLGkpLHQuXyRwb3N0ZXJFeHBhbmRCdXR0b24uZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJjb2xsYXBzZVwiLFwiZXhwYW5kXCIpfX0pKTt2YXIgcj10aGlzLl9kYXRhLmhlbHBlci5nZXRQb3N0ZXJDYW52YXMoKTtpZihyKXt0aGlzLl9wb3N0ZXJDYW52YXNXaWR0aD1yLmdldFdpZHRoKCksdGhpcy5fcG9zdGVyQ2FudmFzSGVpZ2h0PXIuZ2V0SGVpZ2h0KCk7dmFyIG89dGhpcy5fZGF0YS5oZWxwZXIuZ2V0UG9zdGVySW1hZ2UoKTtpZihvKXt0aGlzLl8kcG9zdGVyQ29udGFpbmVyLmFwcGVuZCh0aGlzLl8kcG9zdGVySW1hZ2UpO3ZhciBzPXRoaXMuX2dldFBvc3RlckltYWdlQ3NzKHRoaXMuX3Bvc3RlckltYWdlRXhwYW5kZWQpO3M9T2JqZWN0LmFzc2lnbih7fSxzLHtcImJhY2tncm91bmQtaW1hZ2VcIjpcInVybChcIitvK1wiKVwifSksdGhpcy5fJHBvc3RlckltYWdlLmNzcyhzKX19fX0sZS5wcm90b3R5cGUuX2NoZWNrQWxsTWVkaWFSZWFkeT1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwibG9hZGluZyBtZWRpYVwiKSx0aGlzLl9yZWFkeU1lZGlhPT09dGhpcy5jYW52YXNJbnN0YW5jZXMubGVuZ3RoJiYoY29uc29sZS5sb2coXCJhbGwgbWVkaWEgcmVhZHlcIiksY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0FsbE1lZGlhUmVhZHlJbnRlcnZhbCksdGhpcy5maXJlKGYuTUVESUFfUkVBRFkpLHRoaXMucmVzaXplKCkpfSxlLnByb3RvdHlwZS5fY2hlY2tBbGxXYXZlZm9ybXNSZWFkeT1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwibG9hZGluZyB3YXZlZm9ybXNcIiksdGhpcy5fcmVhZHlXYXZlZm9ybXM9PT10aGlzLl9nZXRDYW52YXNJbnN0YW5jZXNXaXRoV2F2ZWZvcm1zKCkubGVuZ3RoJiYoY29uc29sZS5sb2coXCJ3YXZlZm9ybXMgcmVhZHlcIiksY2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja0FsbFdhdmVmb3Jtc1JlYWR5SW50ZXJ2YWwpLHRoaXMuZmlyZShmLldBVkVGT1JNU19SRUFEWSksdGhpcy5yZXNpemUoKSl9LGUucHJvdG90eXBlLl9nZXRDYW52YXNJbnN0YW5jZXNXaXRoV2F2ZWZvcm1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzSW5zdGFuY2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQud2F2ZWZvcm1zLmxlbmd0aD4wfSkpfSxlLnByb3RvdHlwZS5fZ2V0Q2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5oZWxwZXI/dGhpcy5fZGF0YS5oZWxwZXIuZ2V0Q2FudmFzZXMoKTpbXX0sZS5wcm90b3R5cGUuX2luaXRDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBsLkNhbnZhc0luc3RhbmNlKHt0YXJnZXQ6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkYXRhOk9iamVjdC5hc3NpZ24oe30se2NhbnZhczp0fSx0aGlzLl9kYXRhKX0pO24ubG9nTWVzc2FnZT10aGlzLl9sb2dNZXNzYWdlLmJpbmQodGhpcyksbi5pc09ubHlDYW52YXNJbnN0YW5jZT0xPT09dGhpcy5fZ2V0Q2FudmFzZXMoKS5sZW5ndGgsdGhpcy5fJGVsZW1lbnQuYXBwZW5kKG4uJHBsYXllckVsZW1lbnQpLG4uaW5pdCgpLHRoaXMuY2FudmFzSW5zdGFuY2VzLnB1c2gobiksbi5vbihmLk1FRElBX1JFQURZLChmdW5jdGlvbigpe2UuX3JlYWR5TWVkaWErK30pLCExKSxuLm9uKGYuV0FWRUZPUk1fUkVBRFksKGZ1bmN0aW9uKCl7ZS5fcmVhZHlXYXZlZm9ybXMrK30pLCExKSxuLm9uKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuUFJFVklPVVNfUkFOR0UsKGZ1bmN0aW9uKCl7ZS5fcHJldlJhbmdlKCl9KSwhMSksbi5vbihsLkNhbnZhc0luc3RhbmNlRXZlbnRzLk5FWFRfUkFOR0UsKGZ1bmN0aW9uKCl7ZS5fbmV4dFJhbmdlKCl9KSwhMSksbi5vbihmLlJBTkdFX0NIQU5HRUQsKGZ1bmN0aW9uKHQpe2UuZmlyZShmLlJBTkdFX0NIQU5HRUQsdCl9KSwhMSksbi5vbihoLlZvbHVtZUV2ZW50cy5WT0xVTUVfQ0hBTkdFRCwoZnVuY3Rpb24odCl7ZS5fc2V0Q2FudmFzSW5zdGFuY2VWb2x1bWVzKHQpLGUuZmlyZShoLlZvbHVtZUV2ZW50cy5WT0xVTUVfQ0hBTkdFRCx0KX0pLCExKSxuLm9uKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuUExBWUNBTlZBUywoZnVuY3Rpb24oKXtlLmZpcmUobC5DYW52YXNJbnN0YW5jZUV2ZW50cy5QTEFZQ0FOVkFTKX0pLCExKSxuLm9uKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuUEFVU0VDQU5WQVMsKGZ1bmN0aW9uKCl7ZS5maXJlKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuUEFVU0VDQU5WQVMpfSksITEpLG4ub24oZi5NRURJQV9FUlJPUiwoZnVuY3Rpb24odCl7Y2xlYXJJbnRlcnZhbChlLl9jaGVja0FsbE1lZGlhUmVhZHlJbnRlcnZhbCksZS5maXJlKGYuTUVESUFfRVJST1IsdCl9KSwhMSksbi5vbihmLkZVTExTQ1JFRU4sKGZ1bmN0aW9uKHQpe2UuZmlyZShmLkZVTExTQ1JFRU4sdCl9KSwhMSl9LGUucHJvdG90eXBlLl9wcmV2UmFuZ2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmhlbHBlcil7dmFyIHQ9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0UHJldmlvdXNSYW5nZSgpO3Q/dGhpcy5wbGF5UmFuZ2UodC5pZCk6dGhpcy5fcmV3aW5kKCl9fSxlLnByb3RvdHlwZS5fbmV4dFJhbmdlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5oZWxwZXIpe3ZhciB0PXRoaXMuX2RhdGEuaGVscGVyLmdldE5leHRSYW5nZSgpO3QmJnRoaXMucGxheVJhbmdlKHQuaWQpfX0sZS5wcm90b3R5cGUuX3NldENhbnZhc0luc3RhbmNlVm9sdW1lcz1mdW5jdGlvbih0KXt0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnNldCh7dm9sdW1lOnR9KX0pKX0sZS5wcm90b3R5cGUuX2dldE5vcm1hbGlzZUNhbnZhc0lkPWZ1bmN0aW9uKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOi8vXCIpP28uVXRpbHMubm9ybWFsaXNlVXJsKHQpOnR9LGUucHJvdG90eXBlLl9nZXRDYW52YXNJbnN0YW5jZUJ5SWQ9ZnVuY3Rpb24odCl7aWYodD10aGlzLl9nZXROb3JtYWxpc2VDYW52YXNJZCh0KSx0aGlzLl9kYXRhLnZpcnR1YWxDYW52YXNFbmFibGVkKWZvcih2YXIgZT0wO2U8dGhpcy5jYW52YXNJbnN0YW5jZXMubGVuZ3RoO2UrKyl7dmFyIG49KGk9dGhpcy5jYW52YXNJbnN0YW5jZXNbZV0pLmdldENhbnZhc0lkKCk7aWYobiYmKG49dGhpcy5fZ2V0Tm9ybWFsaXNlQ2FudmFzSWQobiksKGkuaXNWaXJ0dWFsKCl8fDE9PT10aGlzLmNhbnZhc0luc3RhbmNlcy5sZW5ndGgpJiZuPT09dHx8aS5pbmNsdWRlc1ZpcnR1YWxTdWJDYW52YXModCkpKXJldHVybiBpfWVsc2UgZm9yKGU9MDtlPHRoaXMuY2FudmFzSW5zdGFuY2VzLmxlbmd0aDtlKyspe3ZhciBpLHI9KGk9dGhpcy5jYW52YXNJbnN0YW5jZXNbZV0pLmdldENhbnZhc0lkKCk7aWYocilpZihvLlV0aWxzLm5vcm1hbGlzZVVybChyKT09PXQpcmV0dXJuIGl9fSxlLnByb3RvdHlwZS5fZ2V0Q3VycmVudENhbnZhcz1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEuY2FudmFzSWQpcmV0dXJuIHRoaXMuX2dldENhbnZhc0luc3RhbmNlQnlJZCh0aGlzLl9kYXRhLmNhbnZhc0lkKX0sZS5wcm90b3R5cGUuX3Jld2luZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSl7dmFyIHQ9dGhpcy5fZ2V0Q3VycmVudENhbnZhcygpO3QmJnQuc2V0KHtyYW5nZTp2b2lkIDB9KX19LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDdXJyZW50Q2FudmFzKCk7dCYmdC5wbGF5KCl9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0Q3VycmVudENhbnZhcygpO3QmJnQucGF1c2UoKX0sZS5wcm90b3R5cGUucGxheVJhbmdlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RhdGEuaGVscGVyKXt2YXIgZT10aGlzLl9kYXRhLmhlbHBlci5nZXRSYW5nZUJ5SWQodCk7ZSYmdGhpcy5zZXQoe3JhbmdlOmpRdWVyeS5leHRlbmQoITAse30sZSl9KX19LGUucHJvdG90eXBlLnNob3dDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0Q3VycmVudENhbnZhcygpO2UmJmUuZ2V0Q2FudmFzSWQoKT09PXQmJiFlLmlzVmlzaWJsZSgpP2Uuc2V0KHt2aXNpYmxlOiEwfSk6dGhpcy5zZXQoe2NhbnZhc0lkOnR9KX0sZS5wcm90b3R5cGUuX2xvZ01lc3NhZ2U9ZnVuY3Rpb24odCl7dGhpcy5maXJlKGYuTE9HLHQpfSxlLnByb3RvdHlwZS5fZ2V0UG9zdGVySW1hZ2VDc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0Q3VycmVudENhbnZhcygpO2lmKGUpe3ZhciBuPWUuJHBsYXllckVsZW1lbnQuZmluZChcIi5vcHRpb25zLWNvbnRhaW5lclwiKSxpPWUuJHBsYXllckVsZW1lbnQucGFyZW50KCkud2lkdGgoKSxyPWUuJHBsYXllckVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCktbi5oZWlnaHQoKTtpZih0KXJldHVybnt0b3A6MCxsZWZ0OjAsd2lkdGg6aSxoZWlnaHQ6cn07dmFyIGE9dm9pZCAwLG89dm9pZCAwLHM9dm9pZCAwO3JldHVybiB0aGlzLl9wb3N0ZXJDYW52YXNXaWR0aD50aGlzLl9wb3N0ZXJDYW52YXNIZWlnaHQ/KGE9dGhpcy5fcG9zdGVyQ2FudmFzSGVpZ2h0L3RoaXMuX3Bvc3RlckNhbnZhc1dpZHRoLHM9KG89aSp0aGlzLl9kYXRhLnBvc3RlckltYWdlUmF0aW8pKmEpOihhPXRoaXMuX3Bvc3RlckNhbnZhc1dpZHRoL3RoaXMuX3Bvc3RlckNhbnZhc0hlaWdodCxvPShzPXIqdGhpcy5fZGF0YS5wb3N0ZXJJbWFnZVJhdGlvKSphKSx7dG9wOjAsbGVmdDppLW8sd2lkdGg6byxoZWlnaHQ6c319cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVzaXplKCl9KSksdGhpcy5fZ2V0Q3VycmVudENhbnZhcygpJiZ0aGlzLl8kcG9zdGVySW1hZ2UmJnRoaXMuXyRwb3N0ZXJJbWFnZS5pcyhcIjp2aXNpYmxlXCIpJiYodGhpcy5fcG9zdGVySW1hZ2VFeHBhbmRlZD90aGlzLl8kcG9zdGVySW1hZ2UuY3NzKHRoaXMuX2dldFBvc3RlckltYWdlQ3NzKCEwKSk6dGhpcy5fJHBvc3RlckltYWdlLmNzcyh0aGlzLl9nZXRQb3N0ZXJJbWFnZUNzcyghMSkpKX0sZX0ocy5CYXNlQ29tcG9uZW50KTtlLkFWQ29tcG9uZW50PXA7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lk1FRElBX1JFQURZPVwibWVkaWFyZWFkeVwiLHQuTUVESUFfRVJST1I9XCJtZWRpYWVycm9yXCIsdC5MT0c9XCJsb2dcIix0LlJBTkdFX0NIQU5HRUQ9XCJyYW5nZWNoYW5nZWRcIix0LldBVkVGT1JNX1JFQURZPVwid2F2ZWZvcm1yZWFkeVwiLHQuV0FWRUZPUk1TX1JFQURZPVwid2F2ZWZvcm1zcmVhZHlcIix0LkZVTExTQ1JFRU49XCJmdWxsc2NyZWVuXCIsdH0oKTtlLkV2ZW50cz1mfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscixhLG8scyxsLGMsdSxoO24ucihlKSxuLmQoZSxcIkFubm90YXRpb25Nb3RpdmF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJCZWhhdmlvclwiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZChlLFwiRXh0ZXJuYWxSZXNvdXJjZVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQoZSxcIklJSUZSZXNvdXJjZVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQoZSxcIk1lZGlhVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZChlLFwiUmVuZGVyaW5nRm9ybWF0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKGUsXCJTZXJ2aWNlUHJvZmlsZVwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZChlLFwiVmlld2luZ0RpcmVjdGlvblwiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZChlLFwiVmlld2luZ0hpbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxmdW5jdGlvbih0KXt0LkJPT0tNQVJLSU5HPVwib2E6Ym9va21hcmtpbmdcIix0LkNMQVNTSUZZSU5HPVwib2E6Y2xhc3NpZnlpbmdcIix0LkNPTU1FTlRJTkc9XCJvYTpjb21tZW50aW5nXCIsdC5ERVNDUklCSU5HPVwib2E6ZGVzY3JpYmluZ1wiLHQuRURJVElORz1cIm9hOmVkaXRpbmdcIix0LkhJR0hMSUdIVElORz1cIm9hOmhpZ2hsaWdodGluZ1wiLHQuSURFTlRJRllJTkc9XCJvYTppZGVudGlmeWluZ1wiLHQuTElOS0lORz1cIm9hOmxpbmtpbmdcIix0Lk1PREVSQVRJTkc9XCJvYTptb2RlcmF0aW5nXCIsdC5QQUlOVElORz1cInNjOnBhaW50aW5nXCIsdC5RVUVTVElPTklORz1cIm9hOnF1ZXN0aW9uaW5nXCIsdC5SRVBMWUlORz1cIm9hOnJlcGx5aW5nXCIsdC5UQUdHSU5HPVwib2E6dGFnZ2luZ1wiLHQuVFJBTlNDUklCSU5HPVwib2FkOnRyYW5zY3JpYmluZ1wifShpfHwoaT17fSkpLGZ1bmN0aW9uKHQpe3QuQVVUT19BRFZBTkNFPVwiYXV0by1hZHZhbmNlXCIsdC5DT05USU5VT1VTPVwiY29udGludW91c1wiLHQuRkFDSU5HX1BBR0VTPVwiZmFjaW5nLXBhZ2VzXCIsdC5ISURERU49XCJoaWRkZW5cIix0LklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIix0Lk1VTFRJX1BBUlQ9XCJtdWx0aS1wYXJ0XCIsdC5OT19OQVY9XCJuby1uYXZcIix0Lk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLHQuUEFHRUQ9XCJwYWdlZFwiLHQuUkVQRUFUPVwicmVwZWF0XCIsdC5TRVFVRU5DRT1cInNlcXVlbmNlXCIsdC5USFVNQk5BSUxfTkFWPVwidGh1bWJuYWlsLW5hdlwiLHQuVE9HRVRIRVI9XCJ0b2dldGhlclwiLHQuVU5PUkRFUkVEPVwidW5vcmRlcmVkXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24odCl7dC5DQU5WQVM9XCJjYW52YXNcIix0LkNIT0lDRT1cImNob2ljZVwiLHQuQ09OVEVOVF9BU19URVhUPVwiY29udGVudGFzdGV4dFwiLHQuREFUQVNFVD1cImRhdGFzZXRcIix0LkRPQ1VNRU5UPVwiZG9jdW1lbnRcIix0LklNQUdFPVwiaW1hZ2VcIix0Lk1PREVMPVwibW9kZWxcIix0Lk1PVklOR19JTUFHRT1cIm1vdmluZ2ltYWdlXCIsdC5QREY9XCJwZGZcIix0LlBIWVNJQ0FMX09CSkVDVD1cInBoeXNpY2Fsb2JqZWN0XCIsdC5TT1VORD1cInNvdW5kXCIsdC5URVhUPVwidGV4dFwiLHQuVEVYVFVBTEJPRFk9XCJ0ZXh0dWFsYm9keVwiLHQuVklERU89XCJ2aWRlb1wifShhfHwoYT17fSkpLGZ1bmN0aW9uKHQpe3QuQU5OT1RBVElPTj1cImFubm90YXRpb25cIix0LkNBTlZBUz1cImNhbnZhc1wiLHQuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIix0Lk1BTklGRVNUPVwibWFuaWZlc3RcIix0LlJBTkdFPVwicmFuZ2VcIix0LlNFUVVFTkNFPVwic2VxdWVuY2VcIn0ob3x8KG89e30pKSxmdW5jdGlvbih0KXt0LkFVRElPX01QND1cImF1ZGlvL21wNFwiLHQuQ09SVE89XCJhcHBsaWNhdGlvbi9jb3J0b1wiLHQuRFJBQ089XCJhcHBsaWNhdGlvbi9kcmFjb1wiLHQuRVBVQj1cImFwcGxpY2F0aW9uL2VwdWIremlwXCIsdC5HTFRGPVwibW9kZWwvZ2x0Zitqc29uXCIsdC5KUEc9XCJpbWFnZS9qcGVnXCIsdC5NM1U4PVwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIix0Lk1QMz1cImF1ZGlvL21wM1wiLHQuTVBFR19EQVNIPVwiYXBwbGljYXRpb24vZGFzaCt4bWxcIix0Lk9CSj1cInRleHQvcGxhaW5cIix0Lk9QRj1cImFwcGxpY2F0aW9uL29lYnBzLXBhY2thZ2UreG1sXCIsdC5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIix0LlBMWT1cImFwcGxpY2F0aW9uL3BseVwiLHQuVEhSRUVKUz1cImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIix0LlZJREVPX01QND1cInZpZGVvL21wNFwiLHQuV0VCTT1cInZpZGVvL3dlYm1cIn0oc3x8KHM9e30pKSxmdW5jdGlvbih0KXt0LkRPQz1cImFwcGxpY2F0aW9uL21zd29yZFwiLHQuRE9DWD1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsdC5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIn0obHx8KGw9e30pKSxmdW5jdGlvbih0KXt0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIix0LklNQUdFXzFfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMC5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsdC5JTUFHRV8xX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDEuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDEuanNvblwiLHQuSU1BR0VfMV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMC5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDEuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDEuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIix0LkFVVEhfMF9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIix0LkFVVEhfMF9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW5cIix0LkFVVEhfMF9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ291dFwiLHQuQVVUSF8wX1JFU1RSSUNURUQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIix0LkFVVEhfMF9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvdG9rZW5cIix0LkFVVEhfMV9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9jbGlja3Rocm91Z2hcIix0LkFVVEhfMV9FWFRFUk5BTD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIix0LkFVVEhfMV9LSU9TSz1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEva2lvc2tcIix0LkFVVEhfMV9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9naW5cIix0LkFVVEhfMV9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiLHQuQVVUSF8xX1BST0JFPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9wcm9iZVwiLHQuQVVUSF8xX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS90b2tlblwiLHQuU0VBUkNIXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCIsdC5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL2F1dG9jb21wbGV0ZVwiLHQuU0VBUkNIXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvc2VhcmNoXCIsdC5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiLHQuVFJBQ0tJTkdfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdHJhY2tpbmctZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5VSV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby91aS1leHRlbnNpb25zLXByb2ZpbGVcIix0LlBSSU5UX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuU0hBUkVfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vc2hhcmUtZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5PVEhFUl9NQU5JRkVTVEFUSU9OUz1cImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIix0LklYSUY9XCJodHRwOi8vd2VsbGNvbWVsaWJyYXJ5Lm9yZy9sZC9peGlmLzAvYWxwaGEuanNvblwifShjfHwoYz17fSkpLGZ1bmN0aW9uKHQpe3QuQk9UVE9NX1RPX1RPUD1cImJvdHRvbS10by10b3BcIix0LkxFRlRfVE9fUklHSFQ9XCJsZWZ0LXRvLXJpZ2h0XCIsdC5SSUdIVF9UT19MRUZUPVwicmlnaHQtdG8tbGVmdFwiLHQuVE9QX1RPX0JPVFRPTT1cInRvcC10by1ib3R0b21cIn0odXx8KHU9e30pKSxmdW5jdGlvbih0KXt0LkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsdC5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsdC5OT05fUEFHRUQ9XCJub24tcGFnZWRcIix0LlBBR0VEPVwicGFnZWRcIix0LlRPUD1cInRvcFwifShofHwoaD17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPW4oMiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmNhbnZhc2VzPVtdLHRoaXMuaWQ9ci5BVkNvbXBvbmVudFV0aWxzLmdldFRpbWVzdGFtcCgpfXJldHVybiB0LnByb3RvdHlwZS5hZGRDYW52YXM9ZnVuY3Rpb24odCl7dGhpcy5jYW52YXNlcy5wdXNoKGpRdWVyeS5leHRlbmQoITAse30sdCkpfSx0LnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPVtdO3JldHVybiB0aGlzLmNhbnZhc2VzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBhPW4uZ2V0Q29udGVudCgpO2EuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUYXJnZXQoKTtlJiYoaS5VdGlscy5nZXRUZW1wb3JhbENvbXBvbmVudChlKXx8KHQuX19qc29ubGQudGFyZ2V0Kz1cIiN0PTAsXCIrbi5nZXREdXJhdGlvbigpKSl9KSksYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLmdldFRhcmdldCgpO24mJihlLl9fanNvbmxkLnRhcmdldD1yLkFWQ29tcG9uZW50VXRpbHMucmV0YXJnZXRUZW1wb3JhbENvbXBvbmVudCh0LmNhbnZhc2VzLG4pKX0pKSxlLnB1c2guYXBwbHkoZSxhKX0pKSxlfSx0LnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PTA7cmV0dXJuIHRoaXMuY2FudmFzZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXREdXJhdGlvbigpO24mJih0Kz1uKX0pKSx0fSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc2VzLmxlbmd0aD90aGlzLmNhbnZhc2VzWzBdLmdldFdpZHRoKCk6MH0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzZXMubGVuZ3RoP3RoaXMuY2FudmFzZXNbMF0uZ2V0SGVpZ2h0KCk6MH0sdH0oKTtlLlZpcnR1YWxDYW52YXM9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uX2xhc3RWb2x1bWU9MSxuLl9kYXRhPXt2b2x1bWU6MX0sbi5faW5pdCgpLG4uX3Jlc2l6ZSgpLG59cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dC5wcm90b3R5cGUuX2luaXQuY2FsbCh0aGlzKSx0aGlzLl8kZWxlbWVudD0kKHRoaXMuZWwpLHRoaXMuXyR2b2x1bWVNdXRlPSQoJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIHZvbHVtZS1tdXRlXCIgdGl0bGU9XCInK3RoaXMub3B0aW9ucy5kYXRhLmNvbnRlbnQubXV0ZSsnXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gYXYtaWNvbi1tdXRlIG9uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGhpcy5vcHRpb25zLmRhdGEuY29udGVudC5tdXRlK1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlwiKSx0aGlzLl8kdm9sdW1lU2xpZGVyPSQoJzxkaXYgY2xhc3M9XCJ2b2x1bWUtc2xpZGVyXCI+PC9kaXY+JyksdGhpcy5fJGVsZW1lbnQuYXBwZW5kKHRoaXMuXyR2b2x1bWVNdXRlLHRoaXMuXyR2b2x1bWVTbGlkZXIpO3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuXyR2b2x1bWVNdXRlLm9uKFwidG91Y2hzdGFydCBjbGlja1wiLChmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksMCE9PWUuX2RhdGEudm9sdW1lPyhlLl9sYXN0Vm9sdW1lPWUuX2RhdGEudm9sdW1lLGUuX2RhdGEudm9sdW1lPTApOmUuX2RhdGEudm9sdW1lPWUuX2xhc3RWb2x1bWUsZS5maXJlKG8uVk9MVU1FX0NIQU5HRUQsZS5fZGF0YS52b2x1bWUpfSkpLHRoaXMuXyR2b2x1bWVTbGlkZXIuc2xpZGVyKHt2YWx1ZTpuLl9kYXRhLnZvbHVtZSxzdGVwOi4xLG9yaWVudGF0aW9uOlwiaG9yaXpvbnRhbFwiLHJhbmdlOlwibWluXCIsbWluOjAsbWF4OjEsYW5pbWF0ZTohMSxjcmVhdGU6ZnVuY3Rpb24odCxlKXt9LHNsaWRlOmZ1bmN0aW9uKHQsZSl7bi5fZGF0YS52b2x1bWU9ZS52YWx1ZSwwPT09bi5fZGF0YS52b2x1bWUmJihuLl9sYXN0Vm9sdW1lPTApLG4uZmlyZShvLlZPTFVNRV9DSEFOR0VELG4uX2RhdGEudm9sdW1lKX0sc3RvcDpmdW5jdGlvbih0LGUpe319KSwhMH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9T2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLHQpLHRoaXMuX3JlbmRlcigpfSxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fZGF0YS52b2x1bWUpaWYodGhpcy5fJHZvbHVtZVNsaWRlci5zbGlkZXIoe3ZhbHVlOnRoaXMuX2RhdGEudm9sdW1lfSksMD09PXRoaXMuX2RhdGEudm9sdW1lKXt2YXIgdD10aGlzLm9wdGlvbnMuZGF0YS5jb250ZW50LnVubXV0ZTt0aGlzLl8kdm9sdW1lTXV0ZS5wcm9wKFwidGl0bGVcIix0KSx0aGlzLl8kdm9sdW1lTXV0ZS5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcIm9uXCIsXCJvZmZcIil9ZWxzZXt0PXRoaXMub3B0aW9ucy5kYXRhLmNvbnRlbnQubXV0ZTt0aGlzLl8kdm9sdW1lTXV0ZS5wcm9wKFwidGl0bGVcIix0KSx0aGlzLl8kdm9sdW1lTXV0ZS5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcIm9mZlwiLFwib25cIil9fSxlLnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKCl7fSxlfShuKDEpLkJhc2VDb21wb25lbnQpO2UuQVZWb2x1bWVDb250cm9sPWE7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LlZPTFVNRV9DSEFOR0VEPVwidm9sdW1lY2hhbmdlZFwiLHR9KCk7ZS5Wb2x1bWVFdmVudHM9b30sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDMpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigxKSxvPW4oMCkscz1uKDMpLGw9big1KSxjPW4oOSksdT1uKDYpLGg9bigyKSxwPW4oNCksZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLl9jYW52YXNDbG9ja0ZyZXF1ZW5jeT0yNSxuLl9jYW52YXNDbG9ja1N0YXJ0RGF0ZT0wLG4uX2NhbnZhc0Nsb2NrVGltZT0wLG4uX2NhbnZhc0hlaWdodD0wLG4uX2NhbnZhc1dpZHRoPTAsbi5fZGF0YT1uLmRhdGEoKSxuLl9oaWdoUHJpb3JpdHlGcmVxdWVuY3k9MjUsbi5faXNQbGF5aW5nPSExLG4uX2lzU3RhbGxlZD0hMSxuLl9sb3dQcmlvcml0eUZyZXF1ZW5jeT0yNTAsbi5fbWVkaWFTeW5jTWFyZ2luU2Vjcz0xLG4uX3JhbmdlU3BhblBhZGRpbmc9LjI1LG4uX3JlYWR5TWVkaWFDb3VudD0wLG4uX3N0YWxsUmVxdWVzdGVkQnk9W10sbi5fd2FzUGxheWluZz0hMSxuLnJhbmdlcz1bXSxuLndhdmVmb3Jtcz1bXSxuLmlzT25seUNhbnZhc0luc3RhbmNlPSExLG4uX3NjYWxlWT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1heChuLl9kYXRhLndhdmVmb3JtQmFyV2lkdGgsdCplLzI1Nil9LG4uX2RhdGE9bi5vcHRpb25zLmRhdGEsbi4kcGxheWVyRWxlbWVudD0kKCc8ZGl2IGNsYXNzPVwicGxheWVyXCI+PC9kaXY+Jyksbn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY29udGVudCYmdGhpcy5fZGF0YS5jYW52YXMpe3RoaXMuXyRob3ZlclByZXZpZXdUZW1wbGF0ZT0kKCc8ZGl2IGNsYXNzPVwiaG92ZXItcHJldmlld1wiPjxkaXYgY2xhc3M9XCJsYWJlbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwb2ludGVyXCI+PHNwYW4gY2xhc3M9XCJhcnJvd1wiPjwvc3Bhbj48L2Rpdj48L2Rpdj4nKSx0aGlzLl8kY2FudmFzQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJjYW52YXMtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJG9wdGlvbnNDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cIm9wdGlvbnMtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cInJhbmdlLXRpbWVsaW5lLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwiY2FudmFzLXRpbWVsaW5lLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRjYW52YXNIb3ZlclByZXZpZXc9dGhpcy5fJGhvdmVyUHJldmlld1RlbXBsYXRlLmNsb25lKCksdGhpcy5fJGNhbnZhc0hvdmVySGlnaGxpZ2h0PSQoJzxkaXYgY2xhc3M9XCJob3Zlci1oaWdobGlnaHRcIj48L2Rpdj4nKSx0aGlzLl8kcmFuZ2VIb3ZlclByZXZpZXc9dGhpcy5fJGhvdmVyUHJldmlld1RlbXBsYXRlLmNsb25lKCksdGhpcy5fJHJhbmdlSG92ZXJIaWdobGlnaHQ9JCgnPGRpdiBjbGFzcz1cImhvdmVyLWhpZ2hsaWdodFwiPjwvZGl2PicpLHRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodD0kKCc8ZGl2IGNsYXNzPVwiZHVyYXRpb24taGlnaGxpZ2h0XCI+PC9kaXY+JyksdGhpcy5fJHRpbWVsaW5lSXRlbUNvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwidGltZWxpbmUtaXRlbS1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kY29udHJvbHNDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cImNvbnRyb2xzLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRwcmV2QnV0dG9uPSQoJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgdGl0bGU9XCInK3RoaXMuX2RhdGEuY29udGVudC5wcmV2aW91cysnXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gYXYtaWNvbi1wcmV2aW91c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RoaXMuX2RhdGEuY29udGVudC5wcmV2aW91cytcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cIiksdGhpcy5fJHBsYXlCdXR0b249JCgnXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnV0dG9uLXBsYXlcIiB0aXRsZT1cIicrdGhpcy5fZGF0YS5jb250ZW50LnBsYXkrJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uIGF2LWljb24tcGxheSBwbGF5XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGhpcy5fZGF0YS5jb250ZW50LnBsYXkrXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XCIpLHRoaXMuXyRuZXh0QnV0dG9uPSQoJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgdGl0bGU9XCInK3RoaXMuX2RhdGEuY29udGVudC5uZXh0KydcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiBhdi1pY29uLW5leHRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0aGlzLl9kYXRhLmNvbnRlbnQubmV4dCtcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cIiksdGhpcy5fJHRpbWVEaXNwbGF5PSQoJzxkaXYgY2xhc3M9XCJ0aW1lLWRpc3BsYXlcIj48c3BhbiBjbGFzcz1cImNhbnZhcy10aW1lXCI+PC9zcGFuPiAvIDxzcGFuIGNsYXNzPVwiY2FudmFzLWR1cmF0aW9uXCI+PC9zcGFuPjwvZGl2PicpLHRoaXMuXyRjYW52YXNUaW1lPXRoaXMuXyR0aW1lRGlzcGxheS5maW5kKFwiLmNhbnZhcy10aW1lXCIpLHRoaXMuXyRjYW52YXNEdXJhdGlvbj10aGlzLl8kdGltZURpc3BsYXkuZmluZChcIi5jYW52YXMtZHVyYXRpb25cIiksdGhpcy5fJGNhbnZhc0xvYWRpbmdQcm9ncmVzcz0kKCc8ZGl2IGNsYXNzPVwibG9hZGluZy1wcm9ncmVzc1wiPjwvZGl2PicpLHRoaXMuXyRmdWxsc2NyZWVuQnV0dG9uPSQoJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidXR0b24tZnVsbHNjcmVlblwiIHRpdGxlPVwiJyt0aGlzLl9kYXRhLmNvbnRlbnQuZnVsbHNjcmVlbisnXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uIGF2LWljb24tZnVsbHNjcmVlblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RoaXMuX2RhdGEuY29udGVudC5mdWxsc2NyZWVuK1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cIiksdGhpcy5pc1ZpcnR1YWwoKSYmdGhpcy4kcGxheWVyRWxlbWVudC5hZGRDbGFzcyhcInZpcnR1YWxcIik7dmFyIGU9JCgnPGRpdiBjbGFzcz1cInZvbHVtZVwiPjwvZGl2PicpO2lmKHRoaXMuX3ZvbHVtZT1uZXcgdS5BVlZvbHVtZUNvbnRyb2woe3RhcmdldDplWzBdLGRhdGE6T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9kYXRhKX0pLHRoaXMuX3ZvbHVtZS5vbih1LlZvbHVtZUV2ZW50cy5WT0xVTUVfQ0hBTkdFRCwoZnVuY3Rpb24oZSl7dC5maXJlKHUuVm9sdW1lRXZlbnRzLlZPTFVNRV9DSEFOR0VELGUpfSksITEpLHRoaXMuXyRjb250cm9sc0NvbnRhaW5lci5hcHBlbmQodGhpcy5fJHByZXZCdXR0b24sdGhpcy5fJHBsYXlCdXR0b24sdGhpcy5fJG5leHRCdXR0b24sdGhpcy5fJHRpbWVEaXNwbGF5LHRoaXMuXyRmdWxsc2NyZWVuQnV0dG9uLGUpLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5hcHBlbmQodGhpcy5fJGNhbnZhc0hvdmVyUHJldmlldyx0aGlzLl8kY2FudmFzSG92ZXJIaWdobGlnaHQsdGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0LHRoaXMuXyRjYW52YXNMb2FkaW5nUHJvZ3Jlc3MpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLmFwcGVuZCh0aGlzLl8kcmFuZ2VIb3ZlclByZXZpZXcsdGhpcy5fJHJhbmdlSG92ZXJIaWdobGlnaHQpLHRoaXMuXyRvcHRpb25zQ29udGFpbmVyLmFwcGVuZCh0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIsdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIsdGhpcy5fJHRpbWVsaW5lSXRlbUNvbnRhaW5lcix0aGlzLl8kY29udHJvbHNDb250YWluZXIpLHRoaXMuJHBsYXllckVsZW1lbnQuYXBwZW5kKHRoaXMuXyRjYW52YXNDb250YWluZXIsdGhpcy5fJG9wdGlvbnNDb250YWluZXIpLHRoaXMuXyRjYW52YXNIb3ZlclByZXZpZXcuaGlkZSgpLHRoaXMuXyRyYW5nZUhvdmVyUHJldmlldy5oaWRlKCksdGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5oZWxwZXImJnRoaXMuX2RhdGEuY2FudmFzKXt2YXIgbj1bXTt0aGlzLmlzVmlydHVhbCgpP3RoaXMuX2RhdGEuY2FudmFzLmNhbnZhc2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHQuX2RhdGEmJnQuX2RhdGEuaGVscGVyKXt2YXIgaT10Ll9kYXRhLmhlbHBlci5nZXRDYW52YXNSYW5nZXMoZSkscj1bXTtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWpRdWVyeS5leHRlbmQoITAse30sZSk7aWYoci5wdXNoKG4pLG4uY2FudmFzZXMmJm4uY2FudmFzZXMubGVuZ3RoKWZvcih2YXIgaT0wO2k8bi5jYW52YXNlcy5sZW5ndGg7aSsrKW4uY2FudmFzZXNbaV09aC5BVkNvbXBvbmVudFV0aWxzLnJldGFyZ2V0VGVtcG9yYWxDb21wb25lbnQodC5fZGF0YS5jYW52YXMuY2FudmFzZXMsbi5fX2pzb25sZC5pdGVtc1tpXS5pZCl9KSksbi5wdXNoLmFwcGx5KG4scil9fSkpOm49bi5jb25jYXQodGhpcy5fZGF0YS5oZWxwZXIuZ2V0Q2FudmFzUmFuZ2VzKHRoaXMuX2RhdGEuY2FudmFzKSksbi5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnJhbmdlcy5wdXNoKGUpfSkpfXZhciBpPXRoaXMuX2RhdGEuY2FudmFzLmdldFdpZHRoKCkscj10aGlzLl9kYXRhLmNhbnZhcy5nZXRIZWlnaHQoKTt0aGlzLl9jYW52YXNXaWR0aD1pfHx0aGlzLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLndpZHRoKCksdGhpcy5fY2FudmFzSGVpZ2h0PXJ8fHRoaXMuX2NhbnZhc1dpZHRoKnRoaXMuX2RhdGEuZGVmYXVsdEFzcGVjdFJhdGlvO3ZhciBhPXRoaXMsbD0wLGM9MDt0aGlzLl8kcHJldkJ1dHRvbi5vbihcInRvdWNoc3RhcnQgY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLDE9PT0rK2w/KHQuX3ByZXZpb3VzKCExKSxjPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bD0wLGM9MH0pLHQuX2RhdGEuZG91YmxlQ2xpY2tNUykpOih0Ll9wcmV2aW91cyghMCksY2xlYXJUaW1lb3V0KGMpLGw9MCxjPTApfSkpLHRoaXMuXyRwbGF5QnV0dG9uLm9uKFwidG91Y2hzdGFydCBjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5faXNQbGF5aW5nP3QucGF1c2UoKTp0LnBsYXkoKX0pKSx0aGlzLl8kbmV4dEJ1dHRvbi5vbihcInRvdWNoc3RhcnQgY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuX25leHQoKX0pKSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIuc2xpZGVyKHt2YWx1ZTowLHN0ZXA6LjAxLG9yaWVudGF0aW9uOlwiaG9yaXpvbnRhbFwiLHJhbmdlOlwibWluXCIsbWF4OmEuX2dldER1cmF0aW9uKCksYW5pbWF0ZTohMSxjcmVhdGU6ZnVuY3Rpb24odCxlKXt9LHNsaWRlOmZ1bmN0aW9uKHQsZSl7YS5fc2V0Q3VycmVudFRpbWUoZS52YWx1ZSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt9fSksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLm1vdXNlb3V0KChmdW5jdGlvbigpe2EuXyRjYW52YXNIb3ZlckhpZ2hsaWdodC53aWR0aCgwKSxhLl8kY2FudmFzSG92ZXJQcmV2aWV3LmhpZGUoKX0pKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5tb3VzZW91dCgoZnVuY3Rpb24oKXthLl8kcmFuZ2VIb3ZlckhpZ2hsaWdodC53aWR0aCgwKSxhLl8kcmFuZ2VIb3ZlclByZXZpZXcuaGlkZSgpfSkpLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5vbihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihlKXt0Ll91cGRhdGVIb3ZlclByZXZpZXcoZSx0Ll8kY2FudmFzVGltZWxpbmVDb250YWluZXIsdC5fZ2V0RHVyYXRpb24oKSl9KSksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIub24oXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oZSl7aWYodC5fZGF0YS5yYW5nZSl7dmFyIG49dC5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpO3QuX3VwZGF0ZUhvdmVyUHJldmlldyhlLHQuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLG4/bi5nZXRMZW5ndGgoKTowKX19KSksdGhpcy5fJGZ1bGxzY3JlZW5CdXR0b25bMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj1kb2N1bWVudDtpZihuLmZ1bGxzY3JlZW5FbGVtZW50fHxuLm1vekZ1bGxTY3JlZW5FbGVtZW50fHxuLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHxuLm1zRnVsbHNjcmVlbkVsZW1lbnQpdC5maXJlKHMuRXZlbnRzLkZVTExTQ1JFRU4sXCJvZmZcIiksbi5leGl0RnVsbHNjcmVlbj9uLmV4aXRGdWxsc2NyZWVuKCk6bi5tc0V4aXRGdWxsc2NyZWVuP24ubXNFeGl0RnVsbHNjcmVlbigpOm4ubW96Q2FuY2VsRnVsbFNjcmVlbj9uLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTpuLndlYmtpdEV4aXRGdWxsc2NyZWVuJiZuLndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7ZWxzZXt2YXIgaT10LiRwbGF5ZXJFbGVtZW50LmdldCgwKTt0LmZpcmUocy5FdmVudHMuRlVMTFNDUkVFTixcIm9uXCIpLGkucmVxdWVzdEZ1bGxzY3JlZW4/aS5yZXF1ZXN0RnVsbHNjcmVlbigpOmkubXNSZXF1ZXN0RnVsbHNjcmVlbj9pLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTppLm1velJlcXVlc3RGdWxsU2NyZWVuP2kubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTppLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCl9fSksITEpLHRoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucz1bXTt2YXIgcD10aGlzLl9kYXRhLmNhbnZhcy5nZXRDb250ZW50KCk7dGhpcy5fJHRpbWVsaW5lSXRlbUNvbnRhaW5lci5oaWRlKCk7Zm9yKHZhciBmPTA7ZjxwLmxlbmd0aDtmKyspe3ZhciBfPXBbZl0sZD12b2lkIDAsdj1fLmdldEJvZHkoKTtpZighdi5sZW5ndGgpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiaXRlbSBoYXMgbm8gYm9keVwiKTt2YXIgZz10aGlzLl9nZXRCb2R5KHYpO2lmKGcpe3ZhciBFPWcuZ2V0VHlwZSgpLG09Zy5nZXRGb3JtYXQoKTtFJiZcInRleHR1YWxib2R5XCI9PT1FLnRvU3RyaW5nKCl8fChkPWcuaWQuc3BsaXQoXCIjXCIpWzBdKTt2YXIgeT1fLmdldFRhcmdldCgpO2lmKCF5KXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIml0ZW0gaGFzIG5vIHRhcmdldFwiKTt2YXIgST1oLkFWQ29tcG9uZW50VXRpbHMuZ2V0U3BhdGlhbENvbXBvbmVudCh5KSxDPW8uVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQoeSk7SXx8KEk9WzAsMCx0aGlzLl9jYW52YXNXaWR0aCx0aGlzLl9jYW52YXNIZWlnaHRdKSxDfHwoQz1bMCx0aGlzLl9nZXREdXJhdGlvbigpXSk7dmFyIFQ9cGFyc2VJbnQoU3RyaW5nKElbMF0pKSxBPXBhcnNlSW50KFN0cmluZyhJWzFdKSksTz1wYXJzZUludChTdHJpbmcoSVsyXSkpLE09cGFyc2VJbnQoU3RyaW5nKElbM10pKSxMPXBhcnNlSW50KFN0cmluZyhDWzBdKSksUD1wYXJzZUludChTdHJpbmcoQ1sxXSkpLFI9dGhpcy5fY29udmVydFRvUGVyY2VudGFnZShBLHRoaXMuX2NhbnZhc0hlaWdodCksTj10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKFQsdGhpcy5fY2FudmFzV2lkdGgpLFM9dGhpcy5fY29udmVydFRvUGVyY2VudGFnZShPLHRoaXMuX2NhbnZhc1dpZHRoKSxiPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UoTSx0aGlzLl9jYW52YXNIZWlnaHQpLHc9L1tcXD98Jl10PShbXiZdKykvZy5leGVjKGcuaWQpLEQ9dm9pZCAwLHg9KEQ9dyYmd1sxXT93WzFdLnNwbGl0KFwiLFwiKTpbbnVsbCxudWxsXSlbMF0/cGFyc2VJbnQoRFswXSk6RFswXSxVPXthY3RpdmU6ITEsZW5kOlAsZW5kT2Zmc2V0OkRbMV0/cGFyc2VJbnQoRFsxXSk6RFsxXSxmb3JtYXQ6bSxoZWlnaHQ6YixsZWZ0Ok4sc291cmNlOmQsc3RhcnQ6TCxzdGFydE9mZnNldDp4LHRvcDpSLHR5cGU6RSx3aWR0aDpTfTt0aGlzLl9yZW5kZXJNZWRpYUVsZW1lbnQoVSk7dmFyIFY9Xy5nZXRQcm9wZXJ0eShcInNlZUFsc29cIik7aWYoViYmVi5sZW5ndGgpe3ZhciBHPVZbMF0uaWQ7dGhpcy53YXZlZm9ybXMucHVzaChHKX19ZWxzZSBjb25zb2xlLndhcm4oXCJ1bmFibGUgdG8gZmluZCBzdWl0YWJsZSBmb3JtYXQgZm9yXCIsXy5pZCl9dGhpcy5fcmVuZGVyV2F2ZWZvcm0oKX1lbHNlIGNvbnNvbGUud2FybihcInVuYWJsZSB0byBpbml0aWFsaXNlLCBtaXNzaW5nIGNhbnZhcyBvciBjb250ZW50XCIpfSxlLnByb3RvdHlwZS5fZ2V0Qm9keT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7aWYoKGk9KG49dFtlXSkuZ2V0Rm9ybWF0KCkpJiZoLkFWQ29tcG9uZW50VXRpbHMuaXNITFNGb3JtYXQoaSkmJmguQVZDb21wb25lbnRVdGlscy5jYW5QbGF5SGxzKCkpcmV0dXJuIG59Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl7aWYoKGk9KG49dFtlXSkuZ2V0Rm9ybWF0KCkpJiZoLkFWQ29tcG9uZW50VXRpbHMuaXNNcGVnRGFzaEZvcm1hdChpKSYmIWguQVZDb21wb25lbnRVdGlscy5pc1NhZmFyaSgpKXJldHVybiBufWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuLGk7aWYoKGk9KG49dFtlXSkuZ2V0Rm9ybWF0KCkpJiYhaC5BVkNvbXBvbmVudFV0aWxzLmlzSExTRm9ybWF0KGkpJiYhaC5BVkNvbXBvbmVudFV0aWxzLmlzTXBlZ0Rhc2hGb3JtYXQoaSkpcmV0dXJuIG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNhbnZhcz90aGlzLl9kYXRhLmNhbnZhcy5nZXREdXJhdGlvbigpOjB9LGUucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm57d2F2ZWZvcm1Db2xvcjpcIiNmZmZcIix3YXZlZm9ybUJhclNwYWNpbmc6NCx3YXZlZm9ybUJhcldpZHRoOjIsdm9sdW1lOjF9fSxlLnByb3RvdHlwZS5pc1ZpcnR1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jYW52YXMgaW5zdGFuY2VvZiBsLlZpcnR1YWxDYW52YXN9LGUucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZGF0YS52aXNpYmxlfSxlLnByb3RvdHlwZS5pbmNsdWRlc1ZpcnR1YWxTdWJDYW52YXM9ZnVuY3Rpb24odCl7aWYodGhpcy5pc1ZpcnR1YWwoKSYmdGhpcy5fZGF0YS5jYW52YXMmJnRoaXMuX2RhdGEuY2FudmFzLmNhbnZhc2VzKWZvcih2YXIgZT0wO2U8dGhpcy5fZGF0YS5jYW52YXMuY2FudmFzZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fZGF0YS5jYW52YXMuY2FudmFzZXNbZV07aWYoby5VdGlscy5ub3JtYWxpc2VVcmwobi5pZCk9PT10KXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGF0YSk7dGhpcy5fZGF0YT1PYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsdCk7dmFyIGk9aC5BVkNvbXBvbmVudFV0aWxzLmRpZmYobix0aGlzLl9kYXRhKTtpZihpLmluY2x1ZGVzKFwidmlzaWJsZVwiKSYmdGhpcy5fZGF0YS5jYW52YXMmJih0aGlzLl9kYXRhLnZpc2libGU/KHRoaXMuX3Jld2luZCgpLHRoaXMuJHBsYXllckVsZW1lbnQuc2hvdygpKToodGhpcy4kcGxheWVyRWxlbWVudC5oaWRlKCksdGhpcy5wYXVzZSgpKSx0aGlzLnJlc2l6ZSgpKSxpLmluY2x1ZGVzKFwicmFuZ2VcIikmJnRoaXMuX2RhdGEuaGVscGVyKWlmKHRoaXMuX2RhdGEucmFuZ2Upe3ZhciByPXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKTtyJiYodGhpcy5fZGF0YS5yYW5nZS5hdXRvQ2hhbmdlZHx8dGhpcy5fc2V0Q3VycmVudFRpbWUoci5zdGFydCksdGhpcy5fZGF0YS5hdXRvUGxheSYmdGhpcy5wbGF5KCksdGhpcy5maXJlKHMuRXZlbnRzLlJBTkdFX0NIQU5HRUQsdGhpcy5fZGF0YS5yYW5nZS5pZCkpfWVsc2UgdGhpcy5maXJlKHMuRXZlbnRzLlJBTkdFX0NIQU5HRUQsbnVsbCk7aS5pbmNsdWRlcyhcInZvbHVtZVwiKT90aGlzLl9jb250ZW50QW5ub3RhdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dm9pZCAwIT09ZS5fZGF0YS52b2x1bWU/ZS5fZGF0YS52b2x1bWU6MTskKHQuZWxlbWVudCkucHJvcChcInZvbHVtZVwiLG4pLGUuX3ZvbHVtZS5zZXQoe3ZvbHVtZTplLl9kYXRhLnZvbHVtZX0pfSkpOnRoaXMuX3JlbmRlcigpLGkuaW5jbHVkZXMoXCJsaW1pdFRvUmFuZ2VcIikmJnRoaXMuX3JlbmRlcigpfSxlLnByb3RvdHlwZS5faGFzUmFuZ2VDaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0UmFuZ2VGb3JDdXJyZW50VGltZSgpO3QmJiF0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmKCF0aGlzLl9kYXRhLnJhbmdlfHx0aGlzLl9kYXRhLnJhbmdlJiZ0LmlkIT09dGhpcy5fZGF0YS5yYW5nZS5pZCkmJnRoaXMuc2V0KHtyYW5nZTpqUXVlcnkuZXh0ZW5kKCEwLHthdXRvQ2hhbmdlZDohMH0sdCl9KX0sZS5wcm90b3R5cGUuX2dldFJhbmdlRm9yQ3VycmVudFRpbWU9ZnVuY3Rpb24odCl7dmFyIGU7ZT10P3QuZ2V0UmFuZ2VzKCk6dGhpcy5yYW5nZXM7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYodGhpcy5fcmFuZ2VTcGFuc0N1cnJlbnRUaW1lKGkpKXtpZih0aGlzLl9yYW5nZU5hdmlnYWJsZShpKSlyZXR1cm4gaTtmb3IodmFyIHI9aS5nZXRSYW5nZXMoKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBvPXJbYV07aWYodGhpcy5fcmFuZ2VTcGFuc0N1cnJlbnRUaW1lKG8pKXJldHVybiB0aGlzLl9nZXRSYW5nZUZvckN1cnJlbnRUaW1lKG8pfXJldHVybiBpLnBhcmVudFJhbmdlfX19LGUucHJvdG90eXBlLl9yYW5nZVNwYW5zQ3VycmVudFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuISF0LnNwYW5zVGltZShNYXRoLmNlaWwodGhpcy5fY2FudmFzQ2xvY2tUaW1lKSt0aGlzLl9yYW5nZVNwYW5QYWRkaW5nKX0sZS5wcm90b3R5cGUuX3JhbmdlTmF2aWdhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QmVoYXZpb3IoKTtyZXR1cm4hZXx8ZS50b1N0cmluZygpIT09cC5CZWhhdmlvci5OT19OQVZ9LGUucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhLnJhbmdlKXt2YXIgdD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCk7aWYodCl7dmFyIGU9dGhpcy5fZ2V0RHVyYXRpb24oKSxuPXRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci53aWR0aCgpL2UsaT10LnN0YXJ0Km4scj10LmVuZCpuOyhyPmV8fHI8aSkmJihyPWUpO3ZhciBhPXItaTt0aGlzLmlzVmlydHVhbCgpfHx0aGlzLmlzT25seUNhbnZhc0luc3RhbmNlPyh0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQuc2hvdygpLHRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodC5jc3Moe2xlZnQ6aSx3aWR0aDphfSkpOnRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodC5oaWRlKCk7dmFyIG89dGhpczt0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5kYXRhKFwidWktc29ydGFibGVcIikmJnRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLnNsaWRlcihcImRlc3Ryb3lcIiksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuc2xpZGVyKHt2YWx1ZTp0LnN0YXJ0LHN0ZXA6LjAxLG9yaWVudGF0aW9uOlwiaG9yaXpvbnRhbFwiLHJhbmdlOlwibWluXCIsbWluOnQuc3RhcnQsbWF4OnQuZW5kLGFuaW1hdGU6ITEsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7fSxzbGlkZTpmdW5jdGlvbih0LGUpe28uX3NldEN1cnJlbnRUaW1lKGUudmFsdWUpfSxzdG9wOmZ1bmN0aW9uKHQsZSl7fX0pfX1lbHNlIHRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodC5oaWRlKCk7dGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnRoaXMuX2RhdGEucmFuZ2U/KHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5oaWRlKCksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuc2hvdygpKToodGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLnNob3coKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5oaWRlKCkpLHRoaXMuX3VwZGF0ZUN1cnJlbnRUaW1lRGlzcGxheSgpLHRoaXMuX3VwZGF0ZUR1cmF0aW9uRGlzcGxheSgpLHRoaXMuX2RyYXdXYXZlZm9ybSgpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNJZD1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY2FudmFzKXJldHVybiB0aGlzLl9kYXRhLmNhbnZhcy5pZH0sZS5wcm90b3R5cGUuX3VwZGF0ZUhvdmVyUHJldmlldz1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5vZmZzZXQoKSxyPXQucGFnZVgtaS5sZWZ0LGE9ZS5maW5kKFwiLmFycm93XCIpLG89ZS5maW5kKFwiLmhvdmVyLWhpZ2hsaWdodFwiKSxzPWUuZmluZChcIi5ob3Zlci1wcmV2aWV3XCIpO28ud2lkdGgocik7dmFyIGw9ZS53aWR0aCgpLGM9ci9sLHU9TWF0aC5taW4obipjKTtzLmZpbmQoXCIubGFiZWxcIikudGV4dChoLkFWQ29tcG9uZW50VXRpbHMuZm9ybWF0VGltZSh1KSk7dmFyIHA9cy5vdXRlcldpZHRoKCksZj1zLm91dGVySGVpZ2h0KCksXz1yLS41KnAsZD0uNSpwLTY7XzwwJiYoXz0wLGQ9ci02KSxfK3A+bCYmKF89bC1wLGQ9cC0obC1yKS02KSxzLmNzcyh7bGVmdDpfLHRvcDotMSpmK1wicHhcIn0pLnNob3coKSxhLmNzcyh7bGVmdDpkfSl9LGUucHJvdG90eXBlLl9wcmV2aW91cz1mdW5jdGlvbih0KXt0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZT90P3RoaXMuX2lzTmF2aWdhdGlvbkNvbnN0cmFpbmVkVG9SYW5nZSgpP3RoaXMuX3Jld2luZCgpOnRoaXMuZmlyZShfLlBSRVZJT1VTX1JBTkdFKTp0aGlzLl9yZXdpbmQoKTp0aGlzLl9kYXRhLnJhbmdlP3Q/KHRoaXMuc2V0KHtyYW5nZTp2b2lkIDB9KSx0aGlzLl9yZXdpbmQoKSk6dGhpcy5maXJlKF8uUFJFVklPVVNfUkFOR0UpOnRoaXMuX3Jld2luZCgpfSxlLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbigpe3RoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0aGlzLl9pc05hdmlnYXRpb25Db25zdHJhaW5lZFRvUmFuZ2UoKT90aGlzLl9mYXN0Zm9yd2FyZCgpOnRoaXMuZmlyZShfLk5FWFRfUkFOR0UpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5faGlnaFByaW9yaXR5SW50ZXJ2YWwpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2xvd1ByaW9yaXR5SW50ZXJ2YWwpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2NhbnZhc0Nsb2NrSW50ZXJ2YWwpfSxlLnByb3RvdHlwZS5fY29udmVydFRvUGVyY2VudGFnZT1mdW5jdGlvbih0LGUpe3JldHVybiB0L2UqMTAwfSxlLnByb3RvdHlwZS5fcmVuZGVyTWVkaWFFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztzd2l0Y2godC50eXBlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSl7Y2FzZVwidmlkZW9cIjplPSQoJzx2aWRlbyBjbGFzcz1cImFubm9cIiAvPicpO2JyZWFrO2Nhc2VcInNvdW5kXCI6Y2FzZVwiYXVkaW9cIjplPSQoJzxhdWRpbyBjbGFzcz1cImFubm9cIiAvPicpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBpPWVbMF07aWYodC5mb3JtYXQmJlwiYXBwbGljYXRpb24vZGFzaCt4bWxcIj09PXQuZm9ybWF0LnRvU3RyaW5nKCkpe2UuYXR0cihcImRhdGEtZGFzaGpzLXBsYXllclwiLFwiXCIpO3ZhciByPWRhc2hqcy5NZWRpYVBsYXllcigpLmNyZWF0ZSgpO3IuZ2V0RGVidWcoKS5zZXRMb2dUb0Jyb3dzZXJDb25zb2xlKCExKSx0aGlzLl9kYXRhLmFkYXB0aXZlQXV0aEVuYWJsZWQmJnIuc2V0WEhSV2l0aENyZWRlbnRpYWxzRm9yVHlwZShcIk1QRFwiLCEwKSxyLmluaXRpYWxpemUoaSx0LnNvdXJjZSl9ZWxzZSBpZih0LmZvcm1hdCYmXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiPT09dC5mb3JtYXQudG9TdHJpbmcoKSlpZihIbHMuaXNTdXBwb3J0ZWQoKSl7dmFyIGE9bmV3IEhsczthPXRoaXMuX2RhdGEuYWRhcHRpdmVBdXRoRW5hYmxlZD9uZXcgSGxzKHt4aHJTZXR1cDpmdW5jdGlvbih0KXt0LndpdGhDcmVkZW50aWFscz0hMH19KTpuZXcgSGxzLHRoaXMuX2RhdGEuYWRhcHRpdmVBdXRoRW5hYmxlZCxhLmxvYWRTb3VyY2UodC5zb3VyY2UpLGEuYXR0YWNoTWVkaWEoaSl9ZWxzZSBpLmNhblBsYXlUeXBlKFwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIikmJihpLnNyYz10LnNvdXJjZSk7ZWxzZSBlLmF0dHIoXCJzcmNcIix0LnNvdXJjZSk7ZS5jc3Moe3RvcDp0LnRvcCtcIiVcIixsZWZ0OnQubGVmdCtcIiVcIix3aWR0aDp0LndpZHRoK1wiJVwiLGhlaWdodDp0LmhlaWdodCtcIiVcIn0pLmhpZGUoKSx0LmVsZW1lbnQ9ZSx0LnRpbWVvdXQ9bnVsbDt2YXIgbz10aGlzO3QuY2hlY2tGb3JTdGFsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5hY3RpdmU/KG8uX2NoZWNrTWVkaWFTeW5jaHJvbml6YXRpb24oKSx0aGlzLmVsZW1lbnQuZ2V0KDApLnJlYWR5U3RhdGU+MCYmIXRoaXMub3V0T2ZTeW5jP28uX3BsYXliYWNrU3RhbGxlZCghMSx0KTooby5fcGxheWJhY2tTdGFsbGVkKCEwLHQpLHRoaXMudGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMudGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNoZWNrRm9yU3RhbGwoKX0pLDFlMykpKTpvLl9wbGF5YmFja1N0YWxsZWQoITEsdCl9LHRoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucy5wdXNoKHQpLHRoaXMuJHBsYXllckVsZW1lbnQmJnRoaXMuXyRjYW52YXNDb250YWluZXIuYXBwZW5kKGUpLGUub24oXCJsb2Fkc3RhcnRcIiwoZnVuY3Rpb24oKXt9KSksZS5vbihcIndhaXRpbmdcIiwoZnVuY3Rpb24oKXt9KSksZS5vbihcInNlZWtpbmdcIiwoZnVuY3Rpb24oKXt9KSksZS5vbihcImxvYWRlZG1ldGFkYXRhXCIsKGZ1bmN0aW9uKCl7bi5fcmVhZHlNZWRpYUNvdW50Kyssbi5fcmVhZHlNZWRpYUNvdW50PT09bi5fY29udGVudEFubm90YXRpb25zLmxlbmd0aCYmKG4uX3NldEN1cnJlbnRUaW1lKDApLG4uX2RhdGEuYXV0b1BsYXkmJm4ucGxheSgpLG4uX3VwZGF0ZUR1cmF0aW9uRGlzcGxheSgpLG4uZmlyZShzLkV2ZW50cy5NRURJQV9SRUFEWSkpfSkpLGUub24oXCJwcm9ncmVzc1wiLChmdW5jdGlvbigpe2lmKGkuYnVmZmVyZWQubGVuZ3RoPjApe3ZhciB0PWkuZHVyYXRpb24sZT1pLmJ1ZmZlcmVkLmVuZChpLmJ1ZmZlcmVkLmxlbmd0aC0xKTt0PjAmJm4uXyRvcHRpb25zQ29udGFpbmVyLmZpbmQoXCIubG9hZGluZy1wcm9ncmVzc1wiKS53aWR0aChlL3QqMTAwK1wiJVwiKX19KSksZS5hdHRyKFwicHJlbG9hZFwiLFwiYXV0b1wiKSxlLmdldCgwKS5sb2FkKCksdGhpcy5fcmVuZGVyU3luY0luZGljYXRvcih0KX0sZS5wcm90b3R5cGUuX2dldFdhdmVmb3JtRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7JC5hamF4KHt1cmw6dCx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJiaW5hcnlcIixyZXNwb25zZVR5cGU6XCJhcnJheWJ1ZmZlclwiLHByb2Nlc3NEYXRhOiExfSkuZG9uZSgoZnVuY3Rpb24odCl7ZShXYXZlZm9ybURhdGEuY3JlYXRlKHQpKX0pKS5mYWlsKChmdW5jdGlvbih0KXtuKG5ldyBFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpfSkpfSkpfSxlLnByb3RvdHlwZS5fcmVuZGVyV2F2ZWZvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMud2F2ZWZvcm1zLmxlbmd0aCl7dmFyIGU9dGhpcy53YXZlZm9ybXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fZ2V0V2F2ZWZvcm1EYXRhKGUpfSkpO1Byb21pc2UuYWxsKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuX3dhdmVmb3JtQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdC5fd2F2ZWZvcm1DYW52YXMuY2xhc3NMaXN0LmFkZChcIndhdmVmb3JtXCIpLHQuXyRjYW52YXNDb250YWluZXIuYXBwZW5kKHQuX3dhdmVmb3JtQ2FudmFzKSx0Ll93YXZlZm9ybUN0eD10Ll93YXZlZm9ybUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdC5fd2F2ZWZvcm1DdHgmJih0Ll93YXZlZm9ybUN0eC5maWxsU3R5bGU9dC5fZGF0YS53YXZlZm9ybUNvbG9yLHQuX2NvbXBvc2l0ZVdhdmVmb3JtPW5ldyBjLkNvbXBvc2l0ZVdhdmVmb3JtKGUpLHQuZmlyZShzLkV2ZW50cy5XQVZFRk9STV9SRUFEWSkpfSkpfX0sZS5wcm90b3R5cGUuX2RyYXdXYXZlZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMuX3dhdmVmb3JtQ3R4KXt2YXIgdCxlPTAsbj10aGlzLl9jb21wb3NpdGVXYXZlZm9ybS5kdXJhdGlvbjt0aGlzLl9kYXRhLnJhbmdlJiYodD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0JiYoZT10LnN0YXJ0LG49dC5lbmQpO3ZhciBpPWUqdGhpcy5fY29tcG9zaXRlV2F2ZWZvcm0ucGl4ZWxzUGVyU2Vjb25kLHI9bip0aGlzLl9jb21wb3NpdGVXYXZlZm9ybS5waXhlbHNQZXJTZWNvbmQsYT10aGlzLl93YXZlZm9ybUN0eC5jYW52YXMud2lkdGgsbz10aGlzLl93YXZlZm9ybUN0eC5jYW52YXMuaGVpZ2h0LHM9dGhpcy5fZGF0YS53YXZlZm9ybUJhclNwYWNpbmcsbD10aGlzLl9kYXRhLndhdmVmb3JtQmFyV2lkdGgsYz1NYXRoLmZsb29yKChyLWkpL2EqcyksdT1hL3M7dGhpcy5fd2F2ZWZvcm1DdHguY2xlYXJSZWN0KDAsMCxhLG8pLHRoaXMuX3dhdmVmb3JtQ3R4LmZpbGxTdHlsZT10aGlzLl9kYXRhLndhdmVmb3JtQ29sb3I7Zm9yKHZhciBwPWk7cDxyO3ArPWMpe3ZhciBmPXRoaXMuX2dldFdhdmVmb3JtTWF4QW5kTWluKHRoaXMuX2NvbXBvc2l0ZVdhdmVmb3JtLHAsdSksXz10aGlzLl9zY2FsZVkoZi5tYXgtZi5taW4sbyksZD0oby1fKS8yLHY9YSpoLkFWQ29tcG9uZW50VXRpbHMubm9ybWFsaXNlKHAsaSxyKTt0aGlzLl93YXZlZm9ybUN0eC5maWxsUmVjdCh2LGQsbCxfKX19fSxlLnByb3RvdHlwZS5fZ2V0V2F2ZWZvcm1NYXhBbmRNaW49ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0tMTI3LHI9MTI4LGE9ZTthPGUrbjthKyspdC5tYXgoYSk+aSYmKGk9dC5tYXgoYSkpLHQubWluKGEpPHImJihyPXQubWluKGEpKTtyZXR1cm57bWF4OmksbWluOnJ9fSxlLnByb3RvdHlwZS5fdXBkYXRlQ3VycmVudFRpbWVEaXNwbGF5PWZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5fZGF0YS5yYW5nZSYmKHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdCl7dmFyIGU9dGhpcy5fY2FudmFzQ2xvY2tUaW1lLXQuc3RhcnQ7dGhpcy5fJGNhbnZhc1RpbWUudGV4dChoLkFWQ29tcG9uZW50VXRpbHMuZm9ybWF0VGltZShlKSl9ZWxzZSB0aGlzLl8kY2FudmFzVGltZS50ZXh0KGguQVZDb21wb25lbnRVdGlscy5mb3JtYXRUaW1lKHRoaXMuX2NhbnZhc0Nsb2NrVGltZSkpfSxlLnByb3RvdHlwZS5fdXBkYXRlRHVyYXRpb25EaXNwbGF5PWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fZGF0YS5yYW5nZSYmKHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdD90aGlzLl8kY2FudmFzRHVyYXRpb24udGV4dChoLkFWQ29tcG9uZW50VXRpbHMuZm9ybWF0VGltZSh0LmdldExlbmd0aCgpKSk6dGhpcy5fJGNhbnZhc0R1cmF0aW9uLnRleHQoaC5BVkNvbXBvbmVudFV0aWxzLmZvcm1hdFRpbWUodGhpcy5fZ2V0RHVyYXRpb24oKSkpfSxlLnByb3RvdHlwZS5fcmVuZGVyU3luY0luZGljYXRvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKHQuc3RhcnQsdGhpcy5fZ2V0RHVyYXRpb24oKSksbj10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKHQuZW5kLXQuc3RhcnQsdGhpcy5fZ2V0RHVyYXRpb24oKSksaT0kKCc8ZGl2IGNsYXNzPVwidGltZWxpbmUtaXRlbVwiIHRpdGxlPVwiJyt0LnNvdXJjZSsnXCIgZGF0YS1zdGFydD1cIicrdC5zdGFydCsnXCIgZGF0YS1lbmQ9XCInK3QuZW5kKydcIj48L2Rpdj4nKTtpLmNzcyh7bGVmdDplK1wiJVwiLHdpZHRoOm4rXCIlXCJ9KTt2YXIgcj0kKCc8ZGl2IGNsYXNzPVwibGluZS13cmFwcGVyXCI+PC9kaXY+Jyk7aS5hcHBlbmRUbyhyKSx0LnRpbWVsaW5lRWxlbWVudD1pLHRoaXMuJHBsYXllckVsZW1lbnQmJnRoaXMuXyR0aW1lbGluZUl0ZW1Db250YWluZXIuYXBwZW5kKHIpfSxlLnByb3RvdHlwZS5fc2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24odCl7dGhpcy5fY2FudmFzQ2xvY2tUaW1lPXQsdGhpcy5fY2FudmFzQ2xvY2tTdGFydERhdGU9RGF0ZS5ub3coKS0xZTMqdGhpcy5fY2FudmFzQ2xvY2tUaW1lLHRoaXMubG9nTWVzc2FnZShcIlNFVCBDVVJSRU5UIFRJTUUgdG86IFwiK3RoaXMuX2NhbnZhc0Nsb2NrVGltZStcIiBzZWNvbmRzLlwiKSx0aGlzLl9jYW52YXNDbG9ja1VwZGF0ZXIoKSx0aGlzLl9oaWdoUHJpb3JpdHlVcGRhdGVyKCksdGhpcy5fbG93UHJpb3JpdHlVcGRhdGVyKCksdGhpcy5fc3luY2hyb25pemVNZWRpYSgpfSxlLnByb3RvdHlwZS5fcmV3aW5kPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMucGF1c2UoKSx0aGlzLl9kYXRhLnJhbmdlJiYoZT10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZlP3RoaXMuX2NhbnZhc0Nsb2NrVGltZT1lLnN0YXJ0OnRoaXMuX2NhbnZhc0Nsb2NrVGltZT0wLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlfHx0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmhlbHBlciYmdGhpcy5zZXQoe3JhbmdlOnZvaWQgMH0pfSxlLnByb3RvdHlwZS5fZmFzdGZvcndhcmQ9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9kYXRhLnJhbmdlJiYodD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0P3RoaXMuX2NhbnZhc0Nsb2NrVGltZT10LmVuZDp0aGlzLl9jYW52YXNDbG9ja1RpbWU9dGhpcy5fZ2V0RHVyYXRpb24oKSx0aGlzLnBhdXNlKCl9LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZighdGhpcy5faXNQbGF5aW5nKXt2YXIgbjt0aGlzLl9kYXRhLnJhbmdlJiYobj10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZuJiZ0aGlzLl9jYW52YXNDbG9ja1RpbWU+PW4uZW5kJiYodGhpcy5fY2FudmFzQ2xvY2tUaW1lPW4uc3RhcnQpLHRoaXMuX2NhbnZhc0Nsb2NrVGltZT09PXRoaXMuX2dldER1cmF0aW9uKCkmJih0aGlzLl9jYW52YXNDbG9ja1RpbWU9MCksdGhpcy5fY2FudmFzQ2xvY2tTdGFydERhdGU9RGF0ZS5ub3coKS0xZTMqdGhpcy5fY2FudmFzQ2xvY2tUaW1lLHRoaXMuX2hpZ2hQcmlvcml0eUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLl9oaWdoUHJpb3JpdHlVcGRhdGVyKCl9KSx0aGlzLl9oaWdoUHJpb3JpdHlGcmVxdWVuY3kpLHRoaXMuX2xvd1ByaW9yaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2UuX2xvd1ByaW9yaXR5VXBkYXRlcigpfSksdGhpcy5fbG93UHJpb3JpdHlGcmVxdWVuY3kpLHRoaXMuX2NhbnZhc0Nsb2NrSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2UuX2NhbnZhc0Nsb2NrVXBkYXRlcigpfSksdGhpcy5fY2FudmFzQ2xvY2tGcmVxdWVuY3kpLHRoaXMuX2lzUGxheWluZz0hMCx0fHx0aGlzLl9zeW5jaHJvbml6ZU1lZGlhKCk7dmFyIGk9dGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jb250ZW50P3RoaXMuX2RhdGEuY29udGVudC5wYXVzZTpcIlwiO3RoaXMuXyRwbGF5QnV0dG9uLnByb3AoXCJ0aXRsZVwiLGkpLHRoaXMuXyRwbGF5QnV0dG9uLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwicGxheVwiLFwicGF1c2VcIiksdGhpcy5maXJlKF8uUExBWUNBTlZBUyksdGhpcy5sb2dNZXNzYWdlKFwiUExBWSBjYW52YXNcIil9fSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9oaWdoUHJpb3JpdHlJbnRlcnZhbCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbG93UHJpb3JpdHlJbnRlcnZhbCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fY2FudmFzQ2xvY2tJbnRlcnZhbCksdGhpcy5faXNQbGF5aW5nPSExLHR8fCh0aGlzLl9oaWdoUHJpb3JpdHlVcGRhdGVyKCksdGhpcy5fbG93UHJpb3JpdHlVcGRhdGVyKCksdGhpcy5fc3luY2hyb25pemVNZWRpYSgpKTt2YXIgZT10aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNvbnRlbnQ/dGhpcy5fZGF0YS5jb250ZW50LnBsYXk6XCJcIjt0aGlzLl8kcGxheUJ1dHRvbi5wcm9wKFwidGl0bGVcIixlKSx0aGlzLl8kcGxheUJ1dHRvbi5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcInBhdXNlXCIsXCJwbGF5XCIpLHRoaXMuZmlyZShfLlBBVVNFQ0FOVkFTKSx0aGlzLmxvZ01lc3NhZ2UoXCJQQVVTRSBjYW52YXNcIil9LGUucHJvdG90eXBlLl9pc05hdmlnYXRpb25Db25zdHJhaW5lZFRvUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZX0sZS5wcm90b3R5cGUuX2NhbnZhc0Nsb2NrVXBkYXRlcj1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX2NhbnZhc0Nsb2NrVGltZT0oRGF0ZS5ub3coKS10aGlzLl9jYW52YXNDbG9ja1N0YXJ0RGF0ZSkvMWUzLHRoaXMuX2RhdGEucmFuZ2UmJih0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnQmJnRoaXMuX2NhbnZhc0Nsb2NrVGltZT49dC5lbmQmJnRoaXMucGF1c2UoKSx0aGlzLl9jYW52YXNDbG9ja1RpbWU+PXRoaXMuX2dldER1cmF0aW9uKCkmJih0aGlzLl9jYW52YXNDbG9ja1RpbWU9dGhpcy5fZ2V0RHVyYXRpb24oKSx0aGlzLnBhdXNlKCkpfSxlLnByb3RvdHlwZS5faGlnaFByaW9yaXR5VXBkYXRlcj1mdW5jdGlvbigpe3RoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLnNsaWRlcih7dmFsdWU6dGhpcy5fY2FudmFzQ2xvY2tUaW1lfSksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLnNsaWRlcih7dmFsdWU6dGhpcy5fY2FudmFzQ2xvY2tUaW1lfSksdGhpcy5fdXBkYXRlQ3VycmVudFRpbWVEaXNwbGF5KCksdGhpcy5fdXBkYXRlRHVyYXRpb25EaXNwbGF5KCl9LGUucHJvdG90eXBlLl9sb3dQcmlvcml0eVVwZGF0ZXI9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVNZWRpYUFjdGl2ZVN0YXRlcygpLHRoaXMuX2lzUGxheWluZyYmdGhpcy5fZGF0YS5hdXRvU2VsZWN0UmFuZ2UmJih0aGlzLmlzVmlydHVhbCgpfHx0aGlzLmlzT25seUNhbnZhc0luc3RhbmNlKSYmdGhpcy5faGFzUmFuZ2VDaGFuZ2VkKCl9LGUucHJvdG90eXBlLl91cGRhdGVNZWRpYUFjdGl2ZVN0YXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPTA7ZTx0aGlzLl9jb250ZW50QW5ub3RhdGlvbnMubGVuZ3RoO2UrKykodD10aGlzLl9jb250ZW50QW5ub3RhdGlvbnNbZV0pLnN0YXJ0PD10aGlzLl9jYW52YXNDbG9ja1RpbWUmJnQuZW5kPj10aGlzLl9jYW52YXNDbG9ja1RpbWU/KHRoaXMuX2NoZWNrTWVkaWFTeW5jaHJvbml6YXRpb24oKSx0LmFjdGl2ZXx8KHRoaXMuX3N5bmNocm9uaXplTWVkaWEoKSx0LmFjdGl2ZT0hMCx0LmVsZW1lbnQuc2hvdygpLHQudGltZWxpbmVFbGVtZW50LmFkZENsYXNzKFwiYWN0aXZlXCIpKSx0LmVsZW1lbnRbMF0uY3VycmVudFRpbWU+dC5lbGVtZW50WzBdLmR1cmF0aW9uLXQuZW5kT2Zmc2V0JiZ0aGlzLl9wYXVzZU1lZGlhKHQuZWxlbWVudFswXSkpOnQuYWN0aXZlJiYodC5hY3RpdmU9ITEsdC5lbGVtZW50LmhpZGUoKSx0LnRpbWVsaW5lRWxlbWVudC5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSx0aGlzLl9wYXVzZU1lZGlhKHQuZWxlbWVudFswXSkpfSxlLnByb3RvdHlwZS5fcGF1c2VNZWRpYT1mdW5jdGlvbih0KXt0LnBhdXNlKCl9LGUucHJvdG90eXBlLl9zZXRNZWRpYUN1cnJlbnRUaW1lPWZ1bmN0aW9uKHQsZSl7aXNOYU4odC5kdXJhdGlvbil8fCh0LmN1cnJlbnRUaW1lPWUpfSxlLnByb3RvdHlwZS5fc3luY2hyb25pemVNZWRpYT1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPTA7ZTx0aGlzLl9jb250ZW50QW5ub3RhdGlvbnMubGVuZ3RoO2UrKyl7aWYodD10aGlzLl9jb250ZW50QW5ub3RhdGlvbnNbZV0sdGhpcy5fc2V0TWVkaWFDdXJyZW50VGltZSh0LmVsZW1lbnRbMF0sdGhpcy5fY2FudmFzQ2xvY2tUaW1lLXQuc3RhcnQrdC5zdGFydE9mZnNldCksdC5zdGFydDw9dGhpcy5fY2FudmFzQ2xvY2tUaW1lJiZ0LmVuZD49dGhpcy5fY2FudmFzQ2xvY2tUaW1lKWlmKHRoaXMuX2lzUGxheWluZyl7aWYodC5lbGVtZW50WzBdLnBhdXNlZCl7dmFyIG49dC5lbGVtZW50WzBdLnBsYXkoKTtuJiZuLmNhdGNoKChmdW5jdGlvbigpe30pKX19ZWxzZSB0aGlzLl9wYXVzZU1lZGlhKHQuZWxlbWVudFswXSk7ZWxzZSB0aGlzLl9wYXVzZU1lZGlhKHQuZWxlbWVudFswXSk7dC5lbGVtZW50WzBdLmN1cnJlbnRUaW1lPnQuZWxlbWVudFswXS5kdXJhdGlvbi10LmVuZE9mZnNldCYmdGhpcy5fcGF1c2VNZWRpYSh0LmVsZW1lbnRbMF0pfXRoaXMubG9nTWVzc2FnZShcIlNZTkMgTUVESUEgYXQ6IFwiK3RoaXMuX2NhbnZhc0Nsb2NrVGltZStcIiBzZWNvbmRzLlwiKX0sZS5wcm90b3R5cGUuX2NoZWNrTWVkaWFTeW5jaHJvbml6YXRpb249ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT0wLG49dGhpcy5fY29udGVudEFubm90YXRpb25zLmxlbmd0aDtlPG47ZSsrKWlmKCh0PXRoaXMuX2NvbnRlbnRBbm5vdGF0aW9uc1tlXSkuc3RhcnQ8PXRoaXMuX2NhbnZhc0Nsb2NrVGltZSYmdC5lbmQ+PXRoaXMuX2NhbnZhc0Nsb2NrVGltZSl7dmFyIGk9dGhpcy5fY2FudmFzQ2xvY2tUaW1lLXQuc3RhcnQrdC5zdGFydE9mZnNldCxyPXQuZWxlbWVudFswXS5jdXJyZW50VGltZTtpZihNYXRoLmFicyhyLWkpPnRoaXMuX21lZGlhU3luY01hcmdpblNlY3Mpe3Qub3V0T2ZTeW5jPSEwO3ZhciBhPU1hdGguYWJzKHItaSk7dGhpcy5sb2dNZXNzYWdlKFwiREVURUNURUQgc3luY2hyb25pemF0aW9uIGxhZzogXCIrTWF0aC5hYnMoYSkpLHRoaXMuX3NldE1lZGlhQ3VycmVudFRpbWUodC5lbGVtZW50WzBdLGkpfWVsc2UgdC5vdXRPZlN5bmM9ITF9fSxlLnByb3RvdHlwZS5fcGxheWJhY2tTdGFsbGVkPWZ1bmN0aW9uKHQsZSl7aWYodCl0aGlzLl9zdGFsbFJlcXVlc3RlZEJ5LmluZGV4T2YoZSk8MCYmdGhpcy5fc3RhbGxSZXF1ZXN0ZWRCeS5wdXNoKGUpLHRoaXMuX2lzU3RhbGxlZHx8KHRoaXMuJHBsYXllckVsZW1lbnQsdGhpcy5fd2FzUGxheWluZz10aGlzLl9pc1BsYXlpbmcsdGhpcy5wYXVzZSghMCksdGhpcy5faXNTdGFsbGVkPXQpO2Vsc2V7dmFyIG49dGhpcy5fc3RhbGxSZXF1ZXN0ZWRCeS5pbmRleE9mKGUpO24+PTAmJnRoaXMuX3N0YWxsUmVxdWVzdGVkQnkuc3BsaWNlKG4sMSksMD09PXRoaXMuX3N0YWxsUmVxdWVzdGVkQnkubGVuZ3RoJiYodGhpcy5faXNTdGFsbGVkJiZ0aGlzLl93YXNQbGF5aW5nJiZ0aGlzLnBsYXkoITApLHRoaXMuX2lzU3RhbGxlZD10KX19LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe2lmKHRoaXMuJHBsYXllckVsZW1lbnQpe3ZhciB0PXRoaXMuXyRjYW52YXNDb250YWluZXIud2lkdGgoKTtpZih0KXt0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIud2lkdGgodCk7dmFyIGU9dGhpcy4kcGxheWVyRWxlbWVudC5maW5kKFwiLm9wdGlvbnMtY29udGFpbmVyXCIpO3ZvaWQgMCE9PXRoaXMuX2RhdGEuaGFsdmVBdFdpZHRoJiZ0aGlzLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLndpZHRoKCk8dGhpcy5fZGF0YS5oYWx2ZUF0V2lkdGg/dGhpcy5fJGNhbnZhc0NvbnRhaW5lci5oZWlnaHQodGhpcy4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKS8yKTp0aGlzLl8kY2FudmFzQ29udGFpbmVyLmhlaWdodCh0aGlzLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLmhlaWdodCgpLWUuaGVpZ2h0KCkpfWlmKHRoaXMuX3dhdmVmb3JtQ2FudmFzKXt2YXIgbj10aGlzLl8kY2FudmFzQ29udGFpbmVyLndpZHRoKCksaT10aGlzLl8kY2FudmFzQ29udGFpbmVyLmhlaWdodCgpO3RoaXMuX3dhdmVmb3JtQ2FudmFzLndpZHRoPW4sdGhpcy5fd2F2ZWZvcm1DYW52YXMuaGVpZ2h0PWl9dGhpcy5fcmVuZGVyKCl9fSxlfShhLkJhc2VDb21wb25lbnQpO2UuQ2FudmFzSW5zdGFuY2U9Zjt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuTkVYVF9SQU5HRT1cIm5leHRyYW5nZVwiLHQuUEFVU0VDQU5WQVM9XCJwYXVzZVwiLHQuUExBWUNBTlZBUz1cInBsYXlcIix0LlBSRVZJT1VTX1JBTkdFPVwicHJldmlvdXNyYW5nZVwiLHR9KCk7ZS5DYW52YXNJbnN0YW5jZUV2ZW50cz1ffSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7dGhpcy5sZW5ndGg9MCx0aGlzLmR1cmF0aW9uPTAsdGhpcy5waXhlbHNQZXJTZWNvbmQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLnNlY29uZHNQZXJQaXhlbD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX3dhdmVmb3Jtcz1bXSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuX3dhdmVmb3Jtcy5wdXNoKHtzdGFydDplLmxlbmd0aCxlbmQ6ZS5sZW5ndGgrdC5hZGFwdGVyLmxlbmd0aCx3YXZlZm9ybTp0fSksZS5sZW5ndGgrPXQuYWRhcHRlci5sZW5ndGgsZS5kdXJhdGlvbis9dC5kdXJhdGlvbixlLnBpeGVsc1BlclNlY29uZD1NYXRoLm1pbihlLnBpeGVsc1BlclNlY29uZCx0LnBpeGVsc19wZXJfc2Vjb25kKSxlLnNlY29uZHNQZXJQaXhlbD1NYXRoLm1pbihlLnNlY29uZHNQZXJQaXhlbCx0LnNlY29uZHNfcGVyX3BpeGVsKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ZpbmQodCk7cmV0dXJuIGU/ZS53YXZlZm9ybS5taW5fc2FtcGxlKHQtZS5zdGFydCk6MH0sdC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ZpbmQodCk7cmV0dXJuIGU/ZS53YXZlZm9ybS5tYXhfc2FtcGxlKHQtZS5zdGFydCk6MH0sdC5wcm90b3R5cGUuX2ZpbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fd2F2ZWZvcm1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQ+PWUuc3RhcnQmJnQ8ZS5lbmR9KSk7cmV0dXJuIGUubGVuZ3RoPjA/ZVswXTpudWxsfSx0fSgpO2UuQ29tcG9zaXRlV2F2ZWZvcm09aX1dKX0pKTsiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIklJSUZUcmVlQ29tcG9uZW50XCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5JSUlGVHJlZUNvbXBvbmVudD10KCk6ZS5JSUlGVHJlZUNvbXBvbmVudD10KCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0yKX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZixlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz00KX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe2Zvcih2YXIgbiBpbiBlKXQuaGFzT3duUHJvcGVydHkobil8fCh0W25dPWVbbl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGkobig2KSksaShuKDcpKSxpKG4oOCkpLGkobig5KSksaShuKDEwKSksaShuKDExKSksaShuKDEyKSksaShuKDEzKSksaShuKDE0KSksaShuKDE1KSksaShuKDE2KSksaShuKDE3KSksaShuKDE4KSksaShuKDE5KSksaShuKDIwKSksaShuKDIxKSksaShuKDIyKSksaShuKDIzKSksaShuKDI0KSksaShuKDI1KSksaShuKDI2KSksaShuKDI3KSksaShuKDI4KSksaShuKDI5KSksaShuKDMwKSksaShuKDMxKSksaShuKDMyKSksaShuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuQk9PS01BUktJTkc9XCJvYTpib29rbWFya2luZ1wiLGUuQ0xBU1NJRllJTkc9XCJvYTpjbGFzc2lmeWluZ1wiLGUuQ09NTUVOVElORz1cIm9hOmNvbW1lbnRpbmdcIixlLkRFU0NSSUJJTkc9XCJvYTpkZXNjcmliaW5nXCIsZS5FRElUSU5HPVwib2E6ZWRpdGluZ1wiLGUuSElHSExJR0hUSU5HPVwib2E6aGlnaGxpZ2h0aW5nXCIsZS5JREVOVElGWUlORz1cIm9hOmlkZW50aWZ5aW5nXCIsZS5MSU5LSU5HPVwib2E6bGlua2luZ1wiLGUuTU9ERVJBVElORz1cIm9hOm1vZGVyYXRpbmdcIixlLlBBSU5USU5HPVwic2M6cGFpbnRpbmdcIixlLlFVRVNUSU9OSU5HPVwib2E6cXVlc3Rpb25pbmdcIixlLlJFUExZSU5HPVwib2E6cmVwbHlpbmdcIixlLlRBR0dJTkc9XCJvYTp0YWdnaW5nXCIsZS5UUkFOU0NSSUJJTkc9XCJvYWQ6dHJhbnNjcmliaW5nXCJ9KHQuQW5ub3RhdGlvbk1vdGl2YXRpb258fCh0LkFubm90YXRpb25Nb3RpdmF0aW9uPXt9KSksZnVuY3Rpb24oZSl7ZS5BVVRPX0FEVkFOQ0U9XCJhdXRvLWFkdmFuY2VcIixlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5GQUNJTkdfUEFHRVM9XCJmYWNpbmctcGFnZXNcIixlLkhJRERFTj1cImhpZGRlblwiLGUuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLGUuTVVMVElfUEFSVD1cIm11bHRpLXBhcnRcIixlLk5PX05BVj1cIm5vLW5hdlwiLGUuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsZS5QQUdFRD1cInBhZ2VkXCIsZS5SRVBFQVQ9XCJyZXBlYXRcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIixlLlRIVU1CTkFJTF9OQVY9XCJ0aHVtYm5haWwtbmF2XCIsZS5UT0dFVEhFUj1cInRvZ2V0aGVyXCIsZS5VTk9SREVSRUQ9XCJ1bm9yZGVyZWRcIn0odC5CZWhhdmlvcnx8KHQuQmVoYXZpb3I9e30pKSxmdW5jdGlvbihlKXtlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ0hPSUNFPVwiY2hvaWNlXCIsZS5DT05URU5UX0FTX1RFWFQ9XCJjb250ZW50YXN0ZXh0XCIsZS5ET0NVTUVOVD1cImRvY3VtZW50XCIsZS5JTUFHRT1cImltYWdlXCIsZS5NT1ZJTkdfSU1BR0U9XCJtb3ZpbmdpbWFnZVwiLGUuUERGPVwicGRmXCIsZS5QSFlTSUNBTF9PQkpFQ1Q9XCJwaHlzaWNhbG9iamVjdFwiLGUuU09VTkQ9XCJzb3VuZFwiLGUuVEVYVFVBTEJPRFk9XCJ0ZXh0dWFsYm9keVwiLGUuVklERU89XCJ2aWRlb1wifSh0LkV4dGVybmFsUmVzb3VyY2VUeXBlfHwodC5FeHRlcm5hbFJlc291cmNlVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuQU5OT1RBVElPTj1cImFubm90YXRpb25cIixlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIixlLk1BTklGRVNUPVwibWFuaWZlc3RcIixlLlJBTkdFPVwicmFuZ2VcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIn0odC5JSUlGUmVzb3VyY2VUeXBlfHwodC5JSUlGUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5BVURJT19NUDQ9XCJhdWRpby9tcDRcIixlLkNPUlRPPVwiYXBwbGljYXRpb24vY29ydG9cIixlLkRSQUNPPVwiYXBwbGljYXRpb24vZHJhY29cIixlLkdMVEY9XCJtb2RlbC9nbHRmK2pzb25cIixlLkpQRz1cImltYWdlL2pwZWdcIixlLk0zVTg9XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLGUuTVAzPVwiYXVkaW8vbXAzXCIsZS5NUEVHX0RBU0g9XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLGUuT0JKPVwidGV4dC9wbGFpblwiLGUuUERGPVwiYXBwbGljYXRpb24vcGRmXCIsZS5QTFk9XCJhcHBsaWNhdGlvbi9wbHlcIixlLlRIUkVFSlM9XCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCIsZS5WSURFT19NUDQ9XCJ2aWRlby9tcDRcIixlLldFQk09XCJ2aWRlby93ZWJtXCJ9KHQuTWVkaWFUeXBlfHwodC5NZWRpYVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkRPQz1cImFwcGxpY2F0aW9uL21zd29yZFwiLGUuRE9DWD1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIn0odC5SZW5kZXJpbmdGb3JtYXR8fCh0LlJlbmRlcmluZ0Zvcm1hdD17fSkpLGZ1bmN0aW9uKGUpe2UuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuQVVUSF8wX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8wX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiLGUuQVVUSF8wX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCIsZS5BVVRIXzBfUkVTVFJJQ1RFRD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiLGUuQVVUSF8wX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiLGUuQVVUSF8xX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8xX0VYVEVSTkFMPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiLGUuQVVUSF8xX0tJT1NLPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiLGUuQVVUSF8xX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiLGUuQVVUSF8xX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCIsZS5BVVRIXzFfUFJPQkU9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCIsZS5BVVRIXzFfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCIsZS5TRUFSQ0hfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIixlLlNFQVJDSF8wX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCIsZS5TRUFSQ0hfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIixlLlNFQVJDSF8xX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCIsZS5UUkFDS0lOR19FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIixlLlVJX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuUFJJTlRfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5TSEFSRV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIixlLk9USEVSX01BTklGRVNUQVRJT05TPVwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiLGUuSVhJRj1cImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCJ9KHQuU2VydmljZVByb2ZpbGV8fCh0LlNlcnZpY2VQcm9maWxlPXt9KSksZnVuY3Rpb24oZSl7ZS5CT1RUT01fVE9fVE9QPVwiYm90dG9tLXRvLXRvcFwiLGUuTEVGVF9UT19SSUdIVD1cImxlZnQtdG8tcmlnaHRcIixlLlJJR0hUX1RPX0xFRlQ9XCJyaWdodC10by1sZWZ0XCIsZS5UT1BfVE9fQk9UVE9NPVwidG9wLXRvLWJvdHRvbVwifSh0LlZpZXdpbmdEaXJlY3Rpb258fCh0LlZpZXdpbmdEaXJlY3Rpb249e30pKSxmdW5jdGlvbihlKXtlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlRPUD1cInRvcFwifSh0LlZpZXdpbmdIaW50fHwodC5WaWV3aW5nSGludD17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e3UoaS5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXt1KGkudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ7ZS5kb25lP3IoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9dSgoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxyPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZyWzBdKXRocm93IHJbMV07cmV0dXJuIHJbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKG8pe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2E7KXRyeXtpZihuPTEsaSYmKHI9MiZvWzBdP2kucmV0dXJuOm9bMF0/aS50aHJvd3x8KChyPWkucmV0dXJuKSYmci5jYWxsKGkpLDApOmkubmV4dCkmJiEocj1yLmNhbGwoaSxvWzFdKSkuZG9uZSlyZXR1cm4gcjtzd2l0Y2goaT0wLHImJihvPVsyJm9bMF0sci52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6cj1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssaT1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEocj0ocj1hLnRyeXMpLmxlbmd0aD4wJiZyW3IubGVuZ3RoLTFdKSYmKDY9PT1vWzBdfHwyPT09b1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFyfHxvWzFdPnJbMF0mJm9bMV08clszXSkpe2EubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmYS5sYWJlbDxyWzFdKXthLmxhYmVsPXJbMV0scj1vO2JyZWFrfWlmKHImJmEubGFiZWw8clsyXSl7YS5sYWJlbD1yWzJdLGEub3BzLnB1c2gobyk7YnJlYWt9clsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUsYSl9Y2F0Y2goZSl7bz1bNixlXSxpPTB9ZmluYWxseXtuPXI9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sc10pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1uKDEpLHM9bigzMyk7bigzNCk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4oZT0oZT1lLnRvTG93ZXJDYXNlKCkpLnNwbGl0KFwiO1wiKVswXSkudHJpbSgpfSxlLmdldEltYWdlUXVhbGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzJ8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMnx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj9cIm5hdGl2ZVwiOlwiZGVmYXVsdFwifSxlLmdldEluZXhhY3RMb2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCItXCIpP2Uuc3Vic3RyKDAsZS5pbmRleE9mKFwiLVwiKSk6ZX0sZS5nZXRMb2NhbGlzZWRWYWx1ZT1mdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lmKHQ9PT1pW1wiQGxhbmd1YWdlXCJdKXJldHVybiBpW1wiQHZhbHVlXCJdfXZhciByPXQuc3Vic3RyKDAsdC5pbmRleE9mKFwiLVwiKSk7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtpZihvW1wiQGxhbmd1YWdlXCJdPT09cilyZXR1cm4gb1tcIkB2YWx1ZVwiXX1yZXR1cm4gbnVsbH0sZS5nZW5lcmF0ZVRyZWVOb2RlSWRzPWZ1bmN0aW9uKHQsbil7dmFyIGk7dm9pZCAwPT09biYmKG49MCksaT10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmlkK1wiLVwiK246XCIwXCIsdC5pZD1pO2Zvcih2YXIgcj0wO3I8dC5ub2Rlcy5sZW5ndGg7cisrKXt2YXIgbz10Lm5vZGVzW3JdO2UuZ2VuZXJhdGVUcmVlTm9kZUlkcyhvLHIpfX0sZS5ub3JtYWxpc2VUeXBlPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09KGU9ZS50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKFwiOlwiKT9lLnNwbGl0KFwiOlwiKVsxXTplfSxlLm5vcm1hbGlzZVVybD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PShlPWUuc3Vic3RyKGUuaW5kZXhPZihcIjovL1wiKSkpLmluZGV4T2YoXCIjXCIpJiYoZT1lLnNwbGl0KFwiI1wiKVswXSksZX0sZS5ub3JtYWxpc2VkVXJsc01hdGNoPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUubm9ybWFsaXNlVXJsKHQpPT09ZS5ub3JtYWxpc2VVcmwobil9LGUuaXNJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LGUuaXNMZXZlbDBJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKSl9LGUuaXNMZXZlbDFJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKSl9LGUuaXNMZXZlbDJJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LGUucGFyc2VNYW5pZmVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBvLkRlc2VyaWFsaXNlci5wYXJzZShlLHQpfSxlLmNoZWNrU3RhdHVzPWZ1bmN0aW9uKGUpe2lmKGUub2spcmV0dXJuIGU7dmFyIHQ9bmV3IEVycm9yKGUuc3RhdHVzVGV4dCk7cmV0dXJuIHQucmVzcG9uc2U9ZSxQcm9taXNlLnJlamVjdCh0KX0sZS5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtmZXRjaCh0KS50aGVuKGUuY2hlY2tTdGF0dXMpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pKS50aGVuKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgxPWZ1bmN0aW9uKHQsbixpLHIsbyxhLHMsdSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihsLGMpe3ZhciBwPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxKHQsbixpLHIsbyxhLHMsdSl9KSk7UHJvbWlzZS5hbGwocCkudGhlbigoZnVuY3Rpb24oKXtsKHQpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjKGUpfSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDE9ZnVuY3Rpb24odCxuLG8sYSx1LGwsYyxwKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGk7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxhKHQpXTtjYXNlIDE6cmV0dXJuKGk9ci5zZW50KCkpP1s0LHQuZ2V0RGF0YShpKV06WzMsNl07Y2FzZSAyOnJldHVybiByLnNlbnQoKSx0LnN0YXR1cyE9PXMuT0s/WzMsM106WzIsdF07Y2FzZSAzOnJldHVybls0LGUuZG9BdXRoQ2hhaW4odCxuLG8sdSxsLGMscCldO2Nhc2UgNDpyLnNlbnQoKSxyLmxhYmVsPTU7Y2FzZSA1OmlmKHQuc3RhdHVzPT09cy5PS3x8dC5zdGF0dXM9PT1zLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLHRdO3Rocm93IGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCk7Y2FzZSA2OnJldHVybls0LHQuZ2V0RGF0YSgpXTtjYXNlIDc6cmV0dXJuIHIuc2VudCgpLHQuc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWSYmdC5zdGF0dXMhPT1zLlVOQVVUSE9SSVpFRD9bMyw5XTpbNCxlLmRvQXV0aENoYWluKHQsbixvLHUsbCxjLHApXTtjYXNlIDg6ci5zZW50KCksci5sYWJlbD05O2Nhc2UgOTppZih0LnN0YXR1cz09PXMuT0t8fHQuc3RhdHVzPT09cy5NT1ZFRF9URU1QT1JBUklMWSlyZXR1cm5bMix0XTt0aHJvdyBlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpfX0pKX0pKX0sZS5kb0F1dGhDaGFpbj1mdW5jdGlvbih0LG4sbyxhLHUsbCxjKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGkscCxmLGgsZCxnLF8sdjtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LmlzQWNjZXNzQ29udHJvbGxlZCgpPygoaT10LmV4dGVybmFsU2VydmljZSkmJihpLm9wdGlvbnM9dC5vcHRpb25zKSwocD10Lmtpb3NrU2VydmljZSkmJihwLm9wdGlvbnM9dC5vcHRpb25zKSwoZj10LmNsaWNrVGhyb3VnaFNlcnZpY2UpJiYoZi5vcHRpb25zPXQub3B0aW9ucyksKGg9dC5sb2dpblNlcnZpY2UpJiYoaC5vcHRpb25zPXQub3B0aW9ucyksdC5pc1Jlc3BvbnNlSGFuZGxlZHx8dC5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZP1szLDJdOls0LGwodCldKTpbMix0XTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgMjpyZXR1cm4gZD1udWxsLGc9bnVsbCwoZD1pKT8oZz1kLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxkKV0pOlszLDRdO2Nhc2UgMzpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSA0OnJldHVybihkPXApPyhnPWQsKF89bihkKSk/WzQsYShfKV06WzMsN10pOlszLDddO2Nhc2UgNTpyZXR1cm4gci5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLGQpXTtjYXNlIDY6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgNzpyZXR1cm4oZD1mKT8oZz1kLFs0LHUodCxkKV0pOlszLDExXTtjYXNlIDg6cmV0dXJuKHY9ci5zZW50KCkpP1s0LGEodildOlszLDExXTtjYXNlIDk6cmV0dXJuIHIuc2VudCgpLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxkKV07Y2FzZSAxMDpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSAxMTpyZXR1cm4oZD1oKT8oZz1kLFs0LHUodCxkKV0pOlszLDE1XTtjYXNlIDEyOnJldHVybih2PXIuc2VudCgpKT9bNCxhKHYpXTpbMywxNV07Y2FzZSAxMzpyZXR1cm4gci5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLGQpXTtjYXNlIDE0OnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDE1OnJldHVybiBnJiZjKHQsZyksWzJdfX0pKX0pKX0sZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW49ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxvO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuKGk9bi5nZXRTZXJ2aWNlKGEuU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKSk/WzQsdChlLGkpXTpbMywzXTtjYXNlIDE6cmV0dXJuKG89ci5zZW50KCkpJiZvLmFjY2Vzc1Rva2VuP1s0LGUuZ2V0RGF0YShvKV06WzMsM107Y2FzZSAyOnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZXNBdXRoMDk9ZnVuY3Rpb24odCxuLGkscixvLGEscyx1LGwsYyl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihwLGYpe3ZhciBoPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOSh0LG4saSxyLG8sYSxzLHUsbCxjKX0pKTtQcm9taXNlLmFsbChoKS50aGVuKChmdW5jdGlvbigpe3AodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YoZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMDk9ZnVuY3Rpb24odCxuLGkscixvLGEsdSxsLGMscCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihmLGgpe3AmJnAucGVzc2ltaXN0aWNBY2Nlc3NDb250cm9sP3QuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5pc0FjY2Vzc0NvbnRyb2xsZWQoKT90LmNsaWNrVGhyb3VnaFNlcnZpY2U/KGYoaSh0KSksZihyKHQpKSk6byh0KS50aGVuKChmdW5jdGlvbigpe2EodCwhMCkudGhlbigoZnVuY3Rpb24obil7dC5nZXREYXRhKG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZihjKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpmKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6bCh0LG4pLnRoZW4oKGZ1bmN0aW9uKHApe3A/dC5nZXREYXRhKHApLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1zLk9LP2YoYyh0KSk6ZS5hdXRob3JpemUodCxuLGkscixvLGEsdSxsKS50aGVuKChmdW5jdGlvbigpe2YoYyh0KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSk6ZS5hdXRob3JpemUodCxuLGkscixvLGEsdSxsKS50aGVuKChmdW5jdGlvbigpe2YoYyh0KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSl9LGUuY3JlYXRlRXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRXJyb3I7cmV0dXJuIG4ubWVzc2FnZT10LG4ubmFtZT1TdHJpbmcoZSksbn0sZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuQVVUSE9SSVpBVElPTl9GQUlMRUQsXCJBdXRob3JpemF0aW9uIGZhaWxlZFwiKX0sZS5jcmVhdGVSZXN0cmljdGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuUkVTVFJJQ1RFRCxcIlJlc3RyaWN0ZWRcIil9LGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLHQpfSxlLmF1dGhvcml6ZT1mdW5jdGlvbih0LG4saSxyLG8sYSx1LGwpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYyxwKXt0LmdldERhdGEoKS50aGVuKChmdW5jdGlvbigpe3QuaXNBY2Nlc3NDb250cm9sbGVkKCk/bCh0LG4pLnRoZW4oKGZ1bmN0aW9uKGwpe2w/dC5nZXREYXRhKGwpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1zLk9LP2ModCk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixpLHIsbyxhLHUsYyxwKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmEodCwhMSkudGhlbigoZnVuY3Rpb24obCl7bD91KHQsbCxuKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0RGF0YShsKS50aGVuKChmdW5jdGlvbigpe3Quc3RhdHVzPT09cy5PSz9jKHQpOmUuc2hvd0F1dGhJbnRlcmFjdGlvbih0LG4saSxyLG8sYSx1LGMscCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmUuc2hvd0F1dGhJbnRlcmFjdGlvbih0LG4saSxyLG8sYSx1LGMscCl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpjKHQpfSkpfSkpfSxlLnNob3dBdXRoSW50ZXJhY3Rpb249ZnVuY3Rpb24odCxuLGkscixvLGEsdSxsLGMpe3Quc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWXx8dC5pc1Jlc3BvbnNlSGFuZGxlZD90LmNsaWNrVGhyb3VnaFNlcnZpY2UmJiF0LmlzUmVzcG9uc2VIYW5kbGVkP2kodCkudGhlbigoZnVuY3Rpb24oKXthKHQsITApLnRoZW4oKGZ1bmN0aW9uKGkpe3UodCxpLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKGkpLnRoZW4oKGZ1bmN0aW9uKCl7bCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKTpvKHQpLnRoZW4oKGZ1bmN0aW9uKCl7YSh0LCEwKS50aGVuKChmdW5jdGlvbihpKXt1KHQsaSxuKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0RGF0YShpKS50aGVuKChmdW5jdGlvbigpe2wodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSk6bCh0KX0sZS5nZXRTZXJ2aWNlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuZ2V0U2VydmljZXMoZSksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHIuZ2V0UHJvZmlsZSgpPT09dClyZXR1cm4gcn1yZXR1cm4gbnVsbH0sZS5nZXRSZXNvdXJjZUJ5SWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS50cmF2ZXJzZUFuZEZpbmQodC5fX2pzb25sZCxcIkBpZFwiLG4pfSxlLnRyYXZlcnNlQW5kRmluZD1mdW5jdGlvbih0LG4saSl7aWYodC5oYXNPd25Qcm9wZXJ0eShuKSYmdFtuXT09PWkpcmV0dXJuIHQ7Zm9yKHZhciByPTA7cjxPYmplY3Qua2V5cyh0KS5sZW5ndGg7cisrKWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0W09iamVjdC5rZXlzKHQpW3JdXSl7dmFyIG89ZS50cmF2ZXJzZUFuZEZpbmQodFtPYmplY3Qua2V5cyh0KVtyXV0sbixpKTtpZihudWxsIT1vKXJldHVybiBvfX0sZS5nZXRTZXJ2aWNlcz1mdW5jdGlvbihlKXt2YXIgdCxuPVtdO2lmKCEodD1lLl9fanNvbmxkP2UuX19qc29ubGQuc2VydmljZTplLnNlcnZpY2UpKXJldHVybiBuO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXRbaV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpe3ZhciBhPXRoaXMuZ2V0UmVzb3VyY2VCeUlkKGUub3B0aW9ucy5yZXNvdXJjZSxyKTthJiZuLnB1c2gobmV3IG8uU2VydmljZShhLl9fanNvbmxkfHxhLGUub3B0aW9ucykpfWVsc2Ugbi5wdXNoKG5ldyBvLlNlcnZpY2UocixlLm9wdGlvbnMpKX1yZXR1cm4gbn0sZS5nZXRUZW1wb3JhbENvbXBvbmVudD1mdW5jdGlvbihlKXt2YXIgdD0vdD0oW14mXSspL2cuZXhlYyhlKSxuPW51bGw7cmV0dXJuIHQmJnRbMV0mJihuPXRbMV0uc3BsaXQoXCIsXCIpKSxufSxlfSgpO3QuVXRpbHM9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHx7fSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Qsbz1bXSxhPVtdLHM9e30sdT1mdW5jdGlvbigpe3JldHVybntvazoyPT0oci5zdGF0dXMvMTAwfDApLHN0YXR1c1RleHQ6ci5zdGF0dXNUZXh0LHN0YXR1czpyLnN0YXR1cyx1cmw6ci5yZXNwb25zZVVSTCx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShyLnJlc3BvbnNlVGV4dCl9LGpzb246ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpKX0sYmxvYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3IucmVzcG9uc2VdKSl9LGNsb25lOnUsaGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBvfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gc1tlLnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIHN9fX19O2Zvcih2YXIgbCBpbiByLm9wZW4odC5tZXRob2R8fFwiZ2V0XCIsZSwhMCksci5vbmxvYWQ9ZnVuY3Rpb24oKXtyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSwoZnVuY3Rpb24oZSx0LG4pe28ucHVzaCh0PXQudG9Mb3dlckNhc2UoKSksYS5wdXNoKFt0LG5dKSxzW3RdPXNbdF0/c1t0XStcIixcIituOm59KSksbih1KCkpfSxyLm9uZXJyb3I9aSxyLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09dC5jcmVkZW50aWFscyx0LmhlYWRlcnMpci5zZXRSZXF1ZXN0SGVhZGVyKGwsdC5oZWFkZXJzW2xdKTtyLnNlbmQodC5ib2R5fHxudWxsKX0pKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuaGFzT3duUHJvcGVydHkobil8fCh0W25dPWVbbl0pfShuKDApKTt2YXIgaT1uKDIpO3QubG9hZE1hbmlmZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBpLlV0aWxzLmxvYWRNYW5pZmVzdChlKX0sdC5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuVXRpbHMucGFyc2VNYW5pZmVzdChlLHQpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9fanNvbmxkPWUsdGhpcy5jb250ZXh0PXRoaXMuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLHRoaXMuaWQ9dGhpcy5nZXRQcm9wZXJ0eShcImlkXCIpfXJldHVybiBlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3JldHVybiB0aGlzLl9fanNvbmxkJiYoKHQ9dGhpcy5fX2pzb25sZFtlXSl8fCh0PXRoaXMuX19qc29ubGRbXCJAXCIrZV0pKSx0fSxlfSgpO3QuSlNPTkxEUmVzb3VyY2U9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1uKDEpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBpLm9wdGlvbnM9bixpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKTtyZXR1cm4gZT9vLkxhbmd1YWdlTWFwLnBhcnNlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LHQucHJvdG90eXBlLmdldERlZmF1bHRMYWJlbD1mdW5jdGlvbigpe3JldHVybiBvLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMuZ2V0TGFiZWwoKSl9LHQucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcIm1ldGFkYXRhXCIpLHQ9W107aWYoIWUpcmV0dXJuIHQ7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj1uZXcgby5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKTtyLnBhcnNlKGkpLHQucHVzaChyKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldFJlbmRlcmluZ3MoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5nZXRGb3JtYXQoKT09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFJlbmRlcmluZ3M9ZnVuY3Rpb24oKXt2YXIgZSx0PVtdO2lmKCEoZT10aGlzLl9fanNvbmxkP3RoaXMuX19qc29ubGQucmVuZGVyaW5nOnRoaXMucmVuZGVyaW5nKSlyZXR1cm4gdDtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO3QucHVzaChuZXcgby5SZW5kZXJpbmcoaSx0aGlzLm9wdGlvbnMpKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0U2VydmljZT1mdW5jdGlvbihlKXtyZXR1cm4gby5VdGlscy5nZXRTZXJ2aWNlKHRoaXMsZSl9LHQucHJvdG90eXBlLmdldFNlcnZpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0U2VydmljZXModGhpcyl9LHQucHJvdG90eXBlLmdldFRodW1ibmFpbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGU/bmV3IG8uVGh1bWJuYWlsKGUsdGhpcy5vcHRpb25zKTpudWxsfSx0LnByb3RvdHlwZS5pc0Fubm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuQU5OT1RBVElPTn0sdC5wcm90b3R5cGUuaXNDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuQ0FOVkFTfSx0LnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sdC5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sdC5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5SQU5HRX0sdC5wcm90b3R5cGUuaXNTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5TRVFVRU5DRX0sdH0oby5KU09OTERSZXNvdXJjZSk7dC5NYW5pZmVzdFJlc291cmNlPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gZT9lLnRvTG93ZXJDYXNlKCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoIXRoaXMuX19qc29ubGQucmVzb3VyY2VzKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5yZXNvdXJjZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5yZXNvdXJjZXNbdF0saT1uZXcgby5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTtlLnB1c2goaSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKTtyZXR1cm4gZT9vLlV0aWxzLm5vcm1hbGlzZVR5cGUoZSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdC5wcm90b3R5cGUuZ2V0TWF4V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFdpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRNYXhIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEhlaWdodFwiKT9udWxsOnRoaXMuZ2V0TWF4V2lkdGgoKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlJlc291cmNlPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9bigxKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO2kuaW5kZXg9LTEsaS5pc0xvYWRlZD0hMTt2YXIgcj17ZGVmYXVsdExhYmVsOlwiLVwiLGxvY2FsZTpcImVuLUdCXCIscmVzb3VyY2U6aSxwZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w6ITF9O3JldHVybiBpLm9wdGlvbnM9T2JqZWN0LmFzc2lnbihyLG4pLGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJhdHRyaWJ1dGlvblwiKTtyZXR1cm4gZT9vLkxhbmd1YWdlTWFwLnBhcnNlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LHQucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMb2dvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImxvZ29cIik7cmV0dXJuIGU/XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTooQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGgmJihlPWVbMF0pLGVbXCJAaWRcIl18fGUuaWQpOm51bGx9LHQucHJvdG90eXBlLmdldExpY2Vuc2U9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGljZW5zZVwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0TmF2RGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmdldFByb3BlcnR5KFwibmF2RGF0ZVwiKSl9LHQucHJvdG90eXBlLmdldFJlbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInJlbGF0ZWRcIil9LHQucHJvdG90eXBlLmdldFNlZUFsc289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInNlZUFsc29cIil9LHQucHJvdG90eXBlLmdldFRyYWNraW5nTGFiZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlcnZpY2UoYS5TZXJ2aWNlUHJvZmlsZS5UUkFDS0lOR19FWFRFTlNJT05TKTtyZXR1cm4gZT9lLmdldFByb3BlcnR5KFwidHJhY2tpbmdMYWJlbFwiKTpcIlwifSx0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHRUcmVlPW5ldyBvLlRyZWVOb2RlKFwicm9vdFwiKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGE9dGhpcyx0aGlzLmRlZmF1bHRUcmVlfSx0LnByb3RvdHlwZS5nZXRSZXF1aXJlZFN0YXRlbWVudD1mdW5jdGlvbigpe3ZhciBlPW51bGwsdD10aGlzLmdldFByb3BlcnR5KFwicmVxdWlyZWRTdGF0ZW1lbnRcIik7aWYodCkoZT1uZXcgby5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKSkucGFyc2UodCk7ZWxzZXt2YXIgbj10aGlzLmdldEF0dHJpYnV0aW9uKCk7biYmKChlPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS52YWx1ZT1uKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT059LHQucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1R9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7aWYoZS5pc0xvYWRlZCl0KGUpO2Vsc2V7dmFyIG49ZS5vcHRpb25zO24ubmF2RGF0ZT1lLmdldE5hdkRhdGUoKTt2YXIgaT1lLl9fanNvbmxkLmlkO2l8fChpPWUuX19qc29ubGRbXCJAaWRcIl0pLG8uVXRpbHMubG9hZE1hbmlmZXN0KGkpLnRoZW4oKGZ1bmN0aW9uKGkpe2UucGFyZW50TGFiZWw9by5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLmdldExhYmVsKCksbi5sb2NhbGUpO3ZhciByPW8uRGVzZXJpYWxpc2VyLnBhcnNlKGksbik7KGU9T2JqZWN0LmFzc2lnbihlLHIpKS5pbmRleD1uLmluZGV4LHQoZSl9KSl9fSkpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuSUlJRlJlc291cmNlPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5nZXRQcm9wZXJ0eShcImJvZHlcIik7aWYodClpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKChhPXRbbl0pLml0ZW1zKWZvcih2YXIgaT0wO2k8YS5pdGVtcy5sZW5ndGg7aSsrKXt2YXIgcj1hLml0ZW1zW2ldO2UucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShyLHRoaXMub3B0aW9ucykpfWVsc2UgZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KGEsdGhpcy5vcHRpb25zKSk7ZWxzZSBpZih0Lml0ZW1zKWZvcihuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspe3ZhciBhPXQuaXRlbXNbbl07ZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KGEsdGhpcy5vcHRpb25zKSl9ZWxzZSBlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkodCx0aGlzLm9wdGlvbnMpKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0TW90aXZhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibW90aXZhdGlvblwiKXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0T249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm9uXCIpfSx0LnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInRhcmdldFwiKX0sdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uUmVzb3VyY2UodGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlXCIpLHRoaXMub3B0aW9ucyl9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gZT9vLlV0aWxzLmdldE1lZGlhVHlwZShlKTpudWxsfSx0LnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpP28uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb25Cb2R5PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSl7dmFyIHI9ZS5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIHIubGFiZWw9dCxyLm9wdGlvbnM9aSxyfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VzXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkFubm90YXRpb24odCxlLm9wdGlvbnMpfSkpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7aWYoZS5pc0xvYWRlZCl0KGUpO2Vsc2V7dmFyIGk9ZS5fX2pzb25sZC5pZDtpfHwoaT1lLl9fanNvbmxkW1wiQGlkXCJdKSxvLlV0aWxzLmxvYWRNYW5pZmVzdChpKS50aGVuKChmdW5jdGlvbihuKXtlLl9fanNvbmxkPW4sZS5jb250ZXh0PWUuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLGUuaWQ9ZS5nZXRQcm9wZXJ0eShcImlkXCIpLGUuaXNMb2FkZWQ9ITAsdChlKX0pKS5jYXRjaChuKX19KSl9LHR9KG8uSlNPTkxEUmVzb3VyY2UpO3QuQW5ub3RhdGlvbkxpc3Q9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpdGVtc1wiKX0sdH0obigwKS5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb25QYWdlPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2Fub25pY2FsSW1hZ2VVcmk9ZnVuY3Rpb24oZSl7dmFyIHQsbj1udWxsLGk9XCJkZWZhdWx0XCIscj1lO2lmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdKW49dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0scnx8KHI9dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEud2lkdGgpLHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0mJih0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4wL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEuMS9jb250ZXh0Lmpzb25cIik+LTF8fHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xL2NvbnRleHQuanNvblwiKT4tMSkmJihpPVwibmF0aXZlXCIpO2Vsc2V7dmFyIGE9dGhpcy5nZXRJbWFnZXMoKTtpZihhJiZhLmxlbmd0aCl7dmFyIHM9YVswXS5nZXRSZXNvdXJjZSgpLHU9cy5nZXRTZXJ2aWNlcygpO2lmKHJ8fChyPXMuZ2V0V2lkdGgoKSksdS5sZW5ndGgpe3ZhciBsPXVbMF07bj1sLmlkLGk9by5VdGlscy5nZXRJbWFnZVF1YWxpdHkobC5nZXRQcm9maWxlKCkpfWVsc2UgaWYocj09PXMuZ2V0V2lkdGgoKSlyZXR1cm4gcy5pZH1pZighbil7dmFyIGM9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtpZihjKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYylyZXR1cm4gYztpZihjW1wiQGlkXCJdKXJldHVybiBjW1wiQGlkXCJdO2lmKGMubGVuZ3RoKXJldHVybiBjWzBdLmlkfX19cmV0dXJuIHQ9citcIixcIixuJiZuLmVuZHNXaXRoKFwiL1wiKSYmKG49bi5zdWJzdHIoMCxuLmxlbmd0aC0xKSksW24sXCJmdWxsXCIsdCwwLGkrXCIuanBnXCJdLmpvaW4oXCIvXCIpfSx0LnByb3RvdHlwZS5nZXRNYXhEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdD1udWxsO3JldHVybiB0aGlzLmV4dGVybmFsUmVzb3VyY2UmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlJiYoZT10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlLEFycmF5LmlzQXJyYXkoZSkmJihlPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXhXaWR0aH0pKVswXSkmJih0PW5ldyBvLlNpemUoZS5tYXhXaWR0aCxlLm1heEhlaWdodD9lLm1heEhlaWdodDplLm1heFdpZHRoKSkpLHR9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMuX19qc29ubGQuaXRlbXN8fHRoaXMuX19qc29ubGQuY29udGVudDtpZighdClyZXR1cm4gZTt2YXIgbj1udWxsO2lmKHQubGVuZ3RoJiYobj1uZXcgby5Bbm5vdGF0aW9uUGFnZSh0WzBdLHRoaXMub3B0aW9ucykpLCFuKXJldHVybiBlO2Zvcih2YXIgaT1uLmdldEl0ZW1zKCkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgYT1pW3JdLHM9bmV3IG8uQW5ub3RhdGlvbihhLHRoaXMub3B0aW9ucyk7ZS5wdXNoKHMpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZHVyYXRpb25cIil9LHQucHJvdG90eXBlLmdldEltYWdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0aGlzLl9fanNvbmxkLmltYWdlcylyZXR1cm4gZTtmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQuaW1hZ2VzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuaW1hZ2VzW3RdLGk9bmV3IG8uQW5ub3RhdGlvbihuLHRoaXMub3B0aW9ucyk7ZS5wdXNoKGkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaW5kZXhcIil9LHQucHJvdG90eXBlLmdldE90aGVyQ29udGVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0oQXJyYXkuaXNBcnJheSh0aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpKT90aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpOlt0aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJzdHJpbmdcIj09dHlwZW9mKHQ9ZVtcIkB0eXBlXCJdKSYmdC50b0xvd2VyQ2FzZSgpPT10LnRvTG93ZXJDYXNlKCk7dmFyIHR9KSkubWFwKChmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgby5Bbm5vdGF0aW9uTGlzdCh0LmxhYmVsfHxcIkFubm90YXRpb24gbGlzdCBcIituLHQsZS5vcHRpb25zKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvYWQoKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwodCl9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LHR9KG8uUmVzb3VyY2UpO3QuQ2FudmFzPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLGE9bigwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBpLml0ZW1zPVtdLGkuX2NvbGxlY3Rpb25zPW51bGwsaS5fbWFuaWZlc3RzPW51bGwsdC5fX2NvbGxlY3Rpb249aSxpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGVjdGlvbnM/dGhpcy5fY29sbGVjdGlvbnM6dGhpcy5fY29sbGVjdGlvbnM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQ29sbGVjdGlvbigpfSkpfSx0LnByb3RvdHlwZS5nZXRNYW5pZmVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFuaWZlc3RzP3RoaXMuX21hbmlmZXN0czp0aGlzLl9tYW5pZmVzdHM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTWFuaWZlc3QoKX0pKX0sdC5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbkJ5SW5kZXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5nZXRDb2xsZWN0aW9ucygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtyLmluZGV4PT09ZSYmKHQ9cil9aWYodClyZXR1cm4gdC5vcHRpb25zLmluZGV4PWUsdC5sb2FkKCk7dGhyb3cgbmV3IEVycm9yKFwiQ29sbGVjdGlvbiBpbmRleCBub3QgZm91bmRcIil9LHQucHJvdG90eXBlLmdldE1hbmlmZXN0QnlJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmdldE1hbmlmZXN0cygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtyLmluZGV4PT09ZSYmKHQ9cil9aWYodClyZXR1cm4gdC5vcHRpb25zLmluZGV4PWUsdC5sb2FkKCk7dGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgaW5kZXggbm90IGZvdW5kXCIpfSx0LnByb3RvdHlwZS5nZXRUb3RhbENvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldFRvdGFsTWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TWFuaWZlc3RzKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRUb3RhbEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpP3RoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpOm8uVmlld2luZ0RpcmVjdGlvbi5MRUZUX1RPX1JJR0hUfSx0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe3JldHVybiBlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZS5jYWxsKHRoaXMpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlPWEuVXRpbHMubm9ybWFsaXNlVHlwZShhLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKSx0aGlzLl9wYXJzZU1hbmlmZXN0cyh0aGlzKSx0aGlzLl9wYXJzZUNvbGxlY3Rpb25zKHRoaXMpLGEuVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyh0aGlzLmRlZmF1bHRUcmVlKSx0aGlzLmRlZmF1bHRUcmVlfSx0LnByb3RvdHlwZS5fcGFyc2VNYW5pZmVzdHM9ZnVuY3Rpb24oZSl7aWYoZS5nZXRNYW5pZmVzdHMoKSYmZS5nZXRNYW5pZmVzdHMoKS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmdldE1hbmlmZXN0cygpLmxlbmd0aDt0Kyspe3ZhciBuPWUuZ2V0TWFuaWZlc3RzKClbdF0saT1uLmdldERlZmF1bHRUcmVlKCk7aS5sYWJlbD1uLnBhcmVudExhYmVsfHxhLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKXx8XCJtYW5pZmVzdCBcIisodCsxKSxpLm5hdkRhdGU9bi5nZXROYXZEYXRlKCksaS5kYXRhLmlkPW4uaWQsaS5kYXRhLnR5cGU9YS5VdGlscy5ub3JtYWxpc2VUeXBlKGEuVHJlZU5vZGVUeXBlLk1BTklGRVNUKSxlLmRlZmF1bHRUcmVlLmFkZE5vZGUoaSl9fSx0LnByb3RvdHlwZS5fcGFyc2VDb2xsZWN0aW9ucz1mdW5jdGlvbihlKXtpZihlLmdldENvbGxlY3Rpb25zKCkmJmUuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmdldENvbGxlY3Rpb25zKCkubGVuZ3RoO3QrKyl7dmFyIG49ZS5nZXRDb2xsZWN0aW9ucygpW3RdLGk9bi5nZXREZWZhdWx0VHJlZSgpO2kubGFiZWw9bi5wYXJlbnRMYWJlbHx8YS5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSl8fFwiY29sbGVjdGlvbiBcIisodCsxKSxpLm5hdkRhdGU9bi5nZXROYXZEYXRlKCksaS5kYXRhLmlkPW4uaWQsaS5kYXRhLnR5cGU9YS5VdGlscy5ub3JtYWxpc2VUeXBlKGEuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pLGUuZGVmYXVsdFRyZWUuYWRkTm9kZShpKX19LHR9KGEuSUlJRlJlc291cmNlKTt0LkNvbGxlY3Rpb249c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuc3RhcnQ9ZSx0aGlzLmVuZD10fXJldHVybiBlLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQtdGhpcy5zdGFydH0sZX0oKTt0LkR1cmF0aW9uPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZGVmYXVsdExvY2FsZT1lfXJldHVybiBlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlKXt0aGlzLnJlc291cmNlPWUsdGhpcy5sYWJlbD1pLkxhbmd1YWdlTWFwLnBhcnNlKHRoaXMucmVzb3VyY2UubGFiZWwsdGhpcy5kZWZhdWx0TG9jYWxlKSx0aGlzLnZhbHVlPWkuTGFuZ3VhZ2VNYXAucGFyc2UodGhpcy5yZXNvdXJjZS52YWx1ZSx0aGlzLmRlZmF1bHRMb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsP2kuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy5sYWJlbCx0aGlzLmRlZmF1bHRMb2NhbGUpOm51bGx9LGUucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5sZW5ndGgpe3ZhciBuPXRoaXMubGFiZWwuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbGU9PT10LmRlZmF1bHRMb2NhbGV8fGUubG9jYWxlPT09aS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQuZGVmYXVsdExvY2FsZSl9KSlbMF07biYmKG4udmFsdWU9ZSl9fSxlLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe2lmKHRoaXMudmFsdWUpe3ZhciBlPXRoaXMuZGVmYXVsdExvY2FsZTtyZXR1cm4gdGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5sZW5ndGgmJnRoaXMubGFiZWxbMF0ubG9jYWxlJiYoZT10aGlzLmxhYmVsWzBdLmxvY2FsZSksaS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLnZhbHVlLGUpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMudmFsdWUmJnRoaXMudmFsdWUubGVuZ3RoKXt2YXIgbj10aGlzLnZhbHVlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYWxlPT09dC5kZWZhdWx0TG9jYWxlfHxlLmxvY2FsZT09PWkuVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0LmRlZmF1bHRMb2NhbGUpfSkpWzBdO24mJihuLnZhbHVlPWUpfX0sZX0oKTt0LkxhYmVsVmFsdWVQYWlyPXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lkxhbmd1YWdlPWZ1bmN0aW9uKGUsdCl7QXJyYXkuaXNBcnJheShlKT8xPT09ZS5sZW5ndGg/dGhpcy52YWx1ZT1lWzBdOnRoaXMudmFsdWU9ZS5qb2luKFwiPGJyLz5cIik6dGhpcy52YWx1ZT1lLHRoaXMubG9jYWxlPXR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiByKHQsZSksdC5wYXJzZT1mdW5jdGlvbihlLHQpe3ZhciBuLGk9W107aWYoIWUpcmV0dXJuIGk7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXTtuPVwic3RyaW5nXCI9PXR5cGVvZiBhP25ldyBvLkxhbmd1YWdlKGEsdCk6bmV3IG8uTGFuZ3VhZ2UoYVtcIkB2YWx1ZVwiXSxhW1wiQGxhbmd1YWdlXCJdfHx0KSxpLnB1c2gobil9ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gbj1uZXcgby5MYW5ndWFnZShlLHQpLGkucHVzaChuKSxpO2VbXCJAdmFsdWVcIl0/KG49bmV3IG8uTGFuZ3VhZ2UoZVtcIkB2YWx1ZVwiXSxlW1wiQGxhbmd1YWdlXCJdfHx0KSxpLnB1c2gobikpOk9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFlW3RdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJsYW5ndWFnZSBtdXN0IGhhdmUgYSB2YWx1ZVwiKTtuPW5ldyBvLkxhbmd1YWdlKGVbdF0sdCksaS5wdXNoKG4pfSkpfXJldHVybiBpfSx0LmdldFZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGgpe2lmKHQpe3ZhciBuPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbGU9PT10fHxvLlV0aWxzLmdldEluZXhhY3RMb2NhbGUoZS5sb2NhbGUpPT09by5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQpfSkpWzBdO2lmKG4pcmV0dXJuIG4udmFsdWV9cmV0dXJuIGVbMF0udmFsdWV9cmV0dXJuIG51bGx9LHR9KEFycmF5KTt0Lkxhbmd1YWdlTWFwPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLGE9bigwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO2lmKGkuaW5kZXg9MCxpLl9hbGxSYW5nZXM9bnVsbCxpLml0ZW1zPVtdLGkuX3RvcFJhbmdlcz1bXSxpLl9fanNvbmxkLnN0cnVjdHVyZXMmJmkuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpZm9yKHZhciByPWkuX2dldFRvcFJhbmdlcygpLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9cltvXTtpLl9wYXJzZVJhbmdlcyhhLFN0cmluZyhvKSl9cmV0dXJuIGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRQb3N0ZXJDYW52YXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwicG9zdGVyQ2FudmFzXCIpO3JldHVybiBlJiYoZT1uZXcgYS5DYW52YXMoZSx0aGlzLm9wdGlvbnMpKSxlfSx0LnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtpZihlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZS5jYWxsKHRoaXMpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlPWEuVXRpbHMubm9ybWFsaXNlVHlwZShhLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksIXRoaXMuaXNMb2FkZWQpcmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU7dmFyIHQ9dGhpcy5nZXRUb3BSYW5nZXMoKTtyZXR1cm4gdC5sZW5ndGgmJnRbMF0uZ2V0VHJlZSh0aGlzLmRlZmF1bHRUcmVlKSxhLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sdC5wcm90b3R5cGUuX2dldFRvcFJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW3RdO24udmlld2luZ0hpbnQ9PT1vLlZpZXdpbmdIaW50LlRPUCYmZS5wdXNoKG4pfWlmKCFlLmxlbmd0aCl7dmFyIGk9e307aS5yYW5nZXM9dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLGUucHVzaChpKX19cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFRvcFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3BSYW5nZXN9LHQucHJvdG90eXBlLl9nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZ0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1t0XTtpZihuW1wiQGlkXCJdPT09ZXx8bi5pZD09PWUpcmV0dXJuIG59cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVJhbmdlcz1mdW5jdGlvbihlLHQsbil7dmFyIGkscj1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYocj1lLGU9dGhpcy5fZ2V0UmFuZ2VCeUlkKHIpKSxlKXsoaT1uZXcgYS5SYW5nZShlLHRoaXMub3B0aW9ucykpLnBhcmVudFJhbmdlPW4saS5wYXRoPXQsbj9uLml0ZW1zLnB1c2goaSk6dGhpcy5fdG9wUmFuZ2VzLnB1c2goaSk7dmFyIG89ZS5pdGVtc3x8ZS5tZW1iZXJzO2lmKG8pZm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107aWYodVtcIkB0eXBlXCJdJiZcInNjOnJhbmdlXCI9PT11W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8dS50eXBlJiZcInJhbmdlXCI9PT11LnR5cGUudG9Mb3dlckNhc2UoKSl0aGlzLl9wYXJzZVJhbmdlcyh1LHQrXCIvXCIrcyxpKTtlbHNlIGlmKHVbXCJAdHlwZVwiXSYmXCJzYzpjYW52YXNcIj09PXVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpfHx1LnR5cGUmJlwiY2FudmFzXCI9PT11LnR5cGUudG9Mb3dlckNhc2UoKSl7aS5jYW52YXNlc3x8KGkuY2FudmFzZXM9W10pO3ZhciBsPXUuaWR8fHVbXCJAaWRcIl07aS5jYW52YXNlcy5wdXNoKGwpfX1lbHNlIGlmKGUucmFuZ2VzKWZvcihzPTA7czxlLnJhbmdlcy5sZW5ndGg7cysrKXRoaXMuX3BhcnNlUmFuZ2VzKGUucmFuZ2VzW3NdLHQrXCIvXCIrcyxpKX1lbHNlIGNvbnNvbGUud2FybihcIlJhbmdlOlwiLHIsXCJkb2VzIG5vdCBleGlzdFwiKX0sdC5wcm90b3R5cGUuZ2V0QWxsUmFuZ2VzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fYWxsUmFuZ2VzKXJldHVybiB0aGlzLl9hbGxSYW5nZXM7dGhpcy5fYWxsUmFuZ2VzPVtdO2Zvcih2YXIgZT10aGlzLmdldFRvcFJhbmdlcygpLHQ9ZnVuY3Rpb24odCl7dmFyIGk9ZVt0XTtpLmlkJiZuLl9hbGxSYW5nZXMucHVzaChpKTt2YXIgcj1mdW5jdGlvbihlLHQpe2UuYWRkKHQpO3ZhciBuPXQuZ2V0UmFuZ2VzKCk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKHIsZSk6ZX0sbz1BcnJheS5mcm9tKGkuZ2V0UmFuZ2VzKCkucmVkdWNlKHIsbmV3IFNldCkpO24uX2FsbFJhbmdlcz1uLl9hbGxSYW5nZXMuY29uY2F0KG8pfSxuPXRoaXMsaT0wO2k8ZS5sZW5ndGg7aSsrKXQoaSk7cmV0dXJuIHRoaXMuX2FsbFJhbmdlc30sdC5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLmlkPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VCeVBhdGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0QWxsUmFuZ2VzKCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkucGF0aD09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFNlcXVlbmNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXJldHVybiB0aGlzLml0ZW1zO3ZhciBlPXRoaXMuX19qc29ubGQubWVkaWFTZXF1ZW5jZXN8fHRoaXMuX19qc29ubGQuc2VxdWVuY2VzO2lmKGUpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0saT1uZXcgYS5TZXF1ZW5jZShuLHRoaXMub3B0aW9ucyk7dGhpcy5pdGVtcy5wdXNoKGkpfWVsc2UgdGhpcy5fX2pzb25sZC5pdGVtcyYmKGk9bmV3IGEuU2VxdWVuY2UodGhpcy5fX2pzb25sZC5pdGVtcyx0aGlzLm9wdGlvbnMpLHRoaXMuaXRlbXMucHVzaChpKSk7cmV0dXJuIHRoaXMuaXRlbXN9LHQucHJvdG90eXBlLmdldFNlcXVlbmNlQnlJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZXMoKVtlXX0sdC5wcm90b3R5cGUuZ2V0VG90YWxTZXF1ZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZXMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldE1hbmlmZXN0VHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VydmljZShvLlNlcnZpY2VQcm9maWxlLlVJX0VYVEVOU0lPTlMpO3JldHVybiBlP2UuZ2V0UHJvcGVydHkoXCJtYW5pZmVzdFR5cGVcIik6YS5NYW5pZmVzdFR5cGUuRU1QVFl9LHQucHJvdG90eXBlLmlzTXVsdGlTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsU2VxdWVuY2VzKCk+MX0sdC5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nSGludCgpO2lmKGUpcmV0dXJuIGU9PT1vLlZpZXdpbmdIaW50LlBBR0VEO3ZhciB0PXRoaXMuZ2V0QmVoYXZpb3IoKTtyZXR1cm4hIXQmJnQ9PT1vLkJlaGF2aW9yLlBBR0VEfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LHR9KGEuSUlJRlJlc291cmNlKTt0Lk1hbmlmZXN0PXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtlLkVNUFRZPVwiXCIsZS5NQU5VU0NSSVBUPVwibWFudXNjcmlwdFwiLGUuTU9OT0dSQVBIPVwibW9ub2dyYXBoXCJ9KHQuTWFuaWZlc3RUeXBlfHwodC5NYW5pZmVzdFR5cGU9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1uKDEpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGkuX3Jhbmdlcz1udWxsLGkuY2FudmFzZXM9bnVsbCxpLml0ZW1zPVtdLGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRDYW52YXNJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2pzb25sZC5jYW52YXNlcz90aGlzLl9fanNvbmxkLmNhbnZhc2VzOnRoaXMuY2FudmFzZXM/dGhpcy5jYW52YXNlczpbXX0sdC5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKHRoaXMuY2FudmFzZXMmJnRoaXMuY2FudmFzZXMubGVuZ3RoKWZvcih2YXIgbj0wO248dGhpcy5jYW52YXNlcy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmNhbnZhc2VzW25dLHI9by5VdGlscy5nZXRUZW1wb3JhbENvbXBvbmVudChpKTtyJiZyLmxlbmd0aD4xJiYoMD09PW4mJihlPU51bWJlcihyWzBdKSksbj09PXRoaXMuY2FudmFzZXMubGVuZ3RoLTEmJih0PU51bWJlcihyWzFdKSkpfWVsc2V7dmFyIGE9dGhpcy5nZXRSYW5nZXMoKTtmb3Iobj0wO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dLmdldER1cmF0aW9uKCk7cyYmKDA9PT1uJiYoZT1zLnN0YXJ0KSxuPT09YS5sZW5ndGgtMSYmKHQ9cy5lbmQpKX19aWYodm9pZCAwIT09ZSYmdm9pZCAwIT09dClyZXR1cm4gbmV3IG8uRHVyYXRpb24oZSx0KX0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhbmdlcz90aGlzLl9yYW5nZXM6dGhpcy5fcmFuZ2VzPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1JhbmdlKCl9KSl9LHQucHJvdG90eXBlLmdldEJlaGF2aW9yPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImJlaGF2aW9yXCIpO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYoZT1lWzBdKSxlfHxudWxsfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LHQucHJvdG90eXBlLmdldFRyZWU9ZnVuY3Rpb24oZSl7ZS5kYXRhPXRoaXMsdGhpcy50cmVlTm9kZT1lO3ZhciB0PXRoaXMuZ2V0UmFuZ2VzKCk7aWYodCYmdC5sZW5ndGgpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj1uZXcgby5UcmVlTm9kZTtlLmFkZE5vZGUociksdGhpcy5fcGFyc2VUcmVlTm9kZShyLGkpfXJldHVybiBvLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHMoZSksZX0sdC5wcm90b3R5cGUuc3BhbnNUaW1lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0RHVyYXRpb24oKTtyZXR1cm4hISh0JiZlPj10LnN0YXJ0JiZlPD10LmVuZCl9LHQucHJvdG90eXBlLl9wYXJzZVRyZWVOb2RlPWZ1bmN0aW9uKGUsdCl7ZS5sYWJlbD1vLkxhbmd1YWdlTWFwLmdldFZhbHVlKHQuZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKSxlLmRhdGE9dCxlLmRhdGEudHlwZT1vLlV0aWxzLm5vcm1hbGlzZVR5cGUoby5UcmVlTm9kZVR5cGUuUkFOR0UpLHQudHJlZU5vZGU9ZTt2YXIgbj10LmdldFJhbmdlcygpO2lmKG4mJm4ubGVuZ3RoKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHIuZ2V0QmVoYXZpb3IoKSE9PWEuQmVoYXZpb3IuTk9fTkFWKXt2YXIgcz1uZXcgby5UcmVlTm9kZTtlLmFkZE5vZGUocyksdGhpcy5fcGFyc2VUcmVlTm9kZShzLHIpfX19LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5SYW5nZT1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIil9LHR9KG4oMCkuTWFuaWZlc3RSZXNvdXJjZSk7dC5SZW5kZXJpbmc9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSksYT1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGkuaXRlbXM9W10saS5fdGh1bWJuYWlscz1udWxsLGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRDYW52YXNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXJldHVybiB0aGlzLml0ZW1zO3ZhciBlPXRoaXMuX19qc29ubGQuY2FudmFzZXN8fHRoaXMuX19qc29ubGQuZWxlbWVudHM7aWYoZSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTsoaT1uZXcgYS5DYW52YXMobix0aGlzLm9wdGlvbnMpKS5pbmRleD10LHRoaXMuaXRlbXMucHVzaChpKX1lbHNlIGlmKHRoaXMuX19qc29ubGQpZm9yKHQ9MDt0PHRoaXMuX19qc29ubGQubGVuZ3RoO3QrKyl7dmFyIGk7bj10aGlzLl9fanNvbmxkW3RdLChpPW5ldyBhLkNhbnZhcyhuLHRoaXMub3B0aW9ucykpLmluZGV4PXQsdGhpcy5pdGVtcy5wdXNoKGkpfXJldHVybiB0aGlzLml0ZW1zfSx0LnByb3RvdHlwZS5nZXRDYW52YXNCeUlkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7dCsrKXt2YXIgbj10aGlzLmdldENhbnZhc0J5SW5kZXgodCksaT1hLlV0aWxzLm5vcm1hbGlzZVVybChuLmlkKTtpZihhLlV0aWxzLm5vcm1hbGlzZVVybChlKT09PWkpcmV0dXJuIG59cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldENhbnZhc0J5SW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXMoKVtlXX0sdC5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUlkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7dCsrKWlmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KS5pZD09PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlMYWJlbD1mdW5jdGlvbihlLHQpe2U9ZS50cmltKCksaXNOYU4oZSl8fChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKCksdCYmKGUrPVwiclwiKSk7Zm9yKHZhciBuLGkscixvPS8oXFxkKilcXEQrKFxcZCopLyxzPTA7czx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTtzKyspe3ZhciB1PXRoaXMuZ2V0Q2FudmFzQnlJbmRleChzKTtpZihhLkxhbmd1YWdlTWFwLmdldFZhbHVlKHUuZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKT09PWUpcmV0dXJuIHM7aWYoKG49by5leGVjKGUpKSYmKGk9blsxXSwocj1uWzJdKSYmbmV3IFJlZ0V4cChcIl5cIitpK1wiXFxcXEQrXCIrcitcIiRcIikudGVzdCh1LmdldExhYmVsKCkudG9TdHJpbmcoKSkpKXJldHVybiBzfXJldHVybi0xfSx0LnByb3RvdHlwZS5nZXRMYXN0Q2FudmFzTGFiZWw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTE7dD49MDt0LS0pe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KSxpPWEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpO2lmKGUpe2lmKC9eW2EtekEtWjAtOV0qJC8udGVzdChpKSlyZXR1cm4gaX1lbHNlIGlmKGkpcmV0dXJuIGl9cmV0dXJuIHRoaXMub3B0aW9ucy5kZWZhdWx0TGFiZWx9LHQucHJvdG90eXBlLmdldExhc3RQYWdlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sdC5wcm90b3R5cGUuZ2V0TmV4dFBhZ2VJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQpe3ZhciBpPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKGUpLHI9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1yJiZyPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/aVswXSsxOmlbaS5sZW5ndGgtMV0rMX1lbHNlIG49ZSsxO3JldHVybiBuPnRoaXMuZ2V0TGFzdFBhZ2VJbmRleCgpPy0xOm59LHQucHJvdG90eXBlLmdldFBhZ2VkSW5kaWNlcz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKHQpe249dGhpcy5pc0ZpcnN0Q2FudmFzKGUpfHx0aGlzLmlzTGFzdENhbnZhcyhlKT9bZV06ZSUyP1tlLGUrMV06W2UtMSxlXTt2YXIgaT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtpJiZpPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQmJihuPW4ucmV2ZXJzZSgpKX1lbHNlIG4ucHVzaChlKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0UHJldlBhZ2VJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQpe3ZhciBpPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKGUpLHI9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1yJiZyPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/aVtpLmxlbmd0aC0xXS0xOmlbMF0tMX1lbHNlIG49ZS0xO3JldHVybiBufSx0LnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTdGFydENhbnZhcygpO2lmKGUpZm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0KyspaWYodGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLmlkPT09ZSlyZXR1cm4gdDtyZXR1cm4gMH0sdC5wcm90b3R5cGUuZ2V0VGh1bWJzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLGk9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCkscj0wO3I8aTtyKyspe3ZhciBvPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChyKSxzPW5ldyBhLlRodW1iKGUsbyk7bi5wdXNoKHMpfXJldHVybiBufSx0LnByb3RvdHlwZS5nZXRUaHVtYm5haWxzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fdGh1bWJuYWlscylyZXR1cm4gdGhpcy5fdGh1bWJuYWlsczt0aGlzLl90aHVtYm5haWxzPVtdO2Zvcih2YXIgZT10aGlzLmdldENhbnZhc2VzKCksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLmdldFRodW1ibmFpbCgpO24mJnRoaXMuX3RodW1ibmFpbHMucHVzaChuKX1yZXR1cm4gdGhpcy5fdGh1bWJuYWlsc30sdC5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInN0YXJ0Q2FudmFzXCIpfSx0LnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24/dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24oKTpudWxsfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LHQucHJvdG90eXBlLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPnRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LHQucHJvdG90eXBlLmlzRmlyc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lfSx0LnByb3RvdHlwZS5pc0xhc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5pc011bHRpQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpPjF9LHQucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4hIWUmJmU9PT1vLlZpZXdpbmdIaW50LlBBR0VEfSx0LnByb3RvdHlwZS5pc1RvdGFsQ2FudmFzZXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpJTI9PTB9LHR9KGEuTWFuaWZlc3RSZXNvdXJjZSk7dC5TZXF1ZW5jZT1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1KU09OLnBhcnNlKGUpKSx0aGlzLnBhcnNlSnNvbihlLHQpfSxlLnBhcnNlSnNvbj1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQmJnQubmF2RGF0ZSYmIWlzTmFOKHQubmF2RGF0ZS5nZXRUaW1lKCkpJiYoZS5uYXZEYXRlPXQubmF2RGF0ZS50b1N0cmluZygpKSxlW1wiQHR5cGVcIl0pc3dpdGNoKGVbXCJAdHlwZVwiXSl7Y2FzZVwic2M6Q29sbGVjdGlvblwiOm49dGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KTticmVhaztjYXNlXCJzYzpNYW5pZmVzdFwiOm49dGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1lbHNlIHN3aXRjaChlLnR5cGUpe2Nhc2VcIkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCk7YnJlYWs7Y2FzZVwiTWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIG4uaXNMb2FkZWQ9ITAsbn0sZS5wYXJzZUNvbGxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgaS5Db2xsZWN0aW9uKGUsdCk7cmV0dXJuIHQ/KG4uaW5kZXg9dC5pbmRleHx8MCx0LnJlc291cmNlJiYobi5wYXJlbnRDb2xsZWN0aW9uPXQucmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbikpOm4uaW5kZXg9MCx0aGlzLnBhcnNlQ29sbGVjdGlvbnMobix0KSx0aGlzLnBhcnNlTWFuaWZlc3RzKG4sdCksdGhpcy5wYXJzZUl0ZW1zKG4sdCksbn0sZS5wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5fX2pzb25sZC5jb2xsZWN0aW9ucz9uPWUuX19qc29ubGQuY29sbGVjdGlvbnM6ZS5fX2pzb25sZC5pdGVtcyYmKG49ZS5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiY29sbGVjdGlvblwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3QmJih0LmluZGV4PWkpO3ZhciByPXRoaXMucGFyc2VDb2xsZWN0aW9uKG5baV0sdCk7ci5pbmRleD1pLHIucGFyZW50Q29sbGVjdGlvbj1lLGUuaXRlbXMucHVzaChyKX19LGUucGFyc2VNYW5pZmVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaS5NYW5pZmVzdChlLHQpfSxlLnBhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5fX2pzb25sZC5tYW5pZmVzdHM/bj1lLl9fanNvbmxkLm1hbmlmZXN0czplLl9fanNvbmxkLml0ZW1zJiYobj1lLl9fanNvbmxkLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJtYW5pZmVzdFwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPXRoaXMucGFyc2VNYW5pZmVzdChuW2ldLHQpO3IuaW5kZXg9aSxyLnBhcmVudENvbGxlY3Rpb249ZSxlLml0ZW1zLnB1c2gocil9fSxlLnBhcnNlSXRlbT1mdW5jdGlvbihlLHQpe2lmKGVbXCJAdHlwZVwiXSl7aWYoXCJzYzptYW5pZmVzdFwiPT09ZVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2lmKFwic2M6Y29sbGVjdGlvblwiPT09ZVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCl9ZWxzZSBpZihlLnR5cGUpe2lmKFwibWFuaWZlc3RcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTtpZihcImNvbGxlY3Rpb25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpfXJldHVybiBudWxsfSxlLnBhcnNlSXRlbXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl9fanNvbmxkLm1lbWJlcnN8fGUuX19qc29ubGQuaXRlbXM7aWYobilmb3IodmFyIGk9ZnVuY3Rpb24oaSl7dCYmKHQuaW5kZXg9aSk7dmFyIG89ci5wYXJzZUl0ZW0obltpXSx0KTtyZXR1cm4gbz9lLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1vLmlkfSkpWzBdP1wiY29udGludWVcIjooby5pbmRleD1pLG8ucGFyZW50Q29sbGVjdGlvbj1lLHZvaWQgZS5pdGVtcy5wdXNoKG8pKTp7dmFsdWU6dm9pZCAwfX0scj10aGlzLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9aShvKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSlyZXR1cm4gYS52YWx1ZX19LGV9KCk7dC5EZXNlcmlhbGlzZXI9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRQcm9maWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInByb2ZpbGVcIik7cmV0dXJuIGV8fChlPXRoaXMuZ2V0UHJvcGVydHkoXCJkY3Rlcm1zOmNvbmZvcm1zVG9cIikpLEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfSx0LnByb3RvdHlwZS5nZXRDb25maXJtTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiY29uZmlybUxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RmFpbHVyZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImZhaWx1cmVEZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RmFpbHVyZUhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlSGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiaGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEluZm9Vcmk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlkO3JldHVybiBlLmVuZHNXaXRoKFwiL1wiKXx8KGUrPVwiL1wiKSxlK1wiaW5mby5qc29uXCJ9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5TZXJ2aWNlPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtlW2UuQVVUSE9SSVpBVElPTl9GQUlMRUQ9MV09XCJBVVRIT1JJWkFUSU9OX0ZBSUxFRFwiLGVbZS5GT1JCSURERU49Ml09XCJGT1JCSURERU5cIixlW2UuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTNdPVwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsZVtlLlJFU1RSSUNURUQ9NF09XCJSRVNUUklDVEVEXCJ9KHQuU3RhdHVzQ29kZXx8KHQuU3RhdHVzQ29kZT17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKTt0LlRodW1iPWZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhPXQsdGhpcy5pbmRleD10LmluZGV4LHRoaXMud2lkdGg9ZTt2YXIgbj10LmdldEhlaWdodCgpL3QuZ2V0V2lkdGgoKTt0aGlzLmhlaWdodD1uP01hdGguZmxvb3IodGhpcy53aWR0aCpuKTplLHRoaXMudXJpPXQuZ2V0Q2Fub25pY2FsSW1hZ2VVcmkoZSksdGhpcy5sYWJlbD1pLkxhbmd1YWdlTWFwLmdldFZhbHVlKHQuZ2V0TGFiZWwoKSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdH0obigwKS5SZXNvdXJjZSk7dC5UaHVtYm5haWw9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmxhYmVsPWUsdGhpcy5kYXRhPXR8fHt9LHRoaXMubm9kZXM9W119cmV0dXJuIGUucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24oZSl7dGhpcy5ub2Rlcy5wdXNoKGUpLGUucGFyZW50Tm9kZT10aGlzfSxlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTil9LGUucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpfSxlLnByb3RvdHlwZS5pc1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLlJBTkdFKX0sZX0oKTt0LlRyZWVOb2RlPXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtlLkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsZS5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsZS5SQU5HRT1cInJhbmdlXCJ9KHQuVHJlZU5vZGVUeXBlfHwodC5UcmVlTm9kZVR5cGU9e30pKX0sZnVuY3Rpb24oZSx0LG4pe3dpbmRvdyxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0wKX0oW2Z1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigxKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ09OVElOVUU9MTAwLHQuU1dJVENISU5HX1BST1RPQ09MUz0xMDEsdC5QUk9DRVNTSU5HPTEwMix0Lk9LPTIwMCx0LkNSRUFURUQ9MjAxLHQuQUNDRVBURUQ9MjAyLHQuTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT049MjAzLHQuTk9fQ09OVEVOVD0yMDQsdC5SRVNFVF9DT05URU5UPTIwNSx0LlBBUlRJQUxfQ09OVEVOVD0yMDYsdC5NVUxUSV9TVEFUVVM9MjA3LHQuTVVMVElQTEVfQ0hPSUNFUz0zMDAsdC5NT1ZFRF9QRVJNQU5FTlRMWT0zMDEsdC5NT1ZFRF9URU1QT1JBUklMWT0zMDIsdC5TRUVfT1RIRVI9MzAzLHQuTk9UX01PRElGSUVEPTMwNCx0LlVTRV9QUk9YWT0zMDUsdC5URU1QT1JBUllfUkVESVJFQ1Q9MzA3LHQuQkFEX1JFUVVFU1Q9NDAwLHQuVU5BVVRIT1JJWkVEPTQwMSx0LlBBWU1FTlRfUkVRVUlSRUQ9NDAyLHQuRk9SQklEREVOPTQwMyx0Lk5PVF9GT1VORD00MDQsdC5NRVRIT0RfTk9UX0FMTE9XRUQ9NDA1LHQuTk9UX0FDQ0VQVEFCTEU9NDA2LHQuUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NDA3LHQuUkVRVUVTVF9USU1FX09VVD00MDgsdC5DT05GTElDVD00MDksdC5HT05FPTQxMCx0LkxFTkdUSF9SRVFVSVJFRD00MTEsdC5QUkVDT05ESVRJT05fRkFJTEVEPTQxMix0LlJFUVVFU1RfRU5USVRZX1RPT19MQVJHRT00MTMsdC5SRVFVRVNUX1VSSV9UT09fTEFSR0U9NDE0LHQuVU5TVVBQT1JURURfTUVESUFfVFlQRT00MTUsdC5SRVFVRVNURURfUkFOR0VfTk9UX1NBVElTRklBQkxFPTQxNix0LkVYUEVDVEFUSU9OX0ZBSUxFRD00MTcsdC5JTV9BX1RFQVBPVD00MTgsdC5VTlBST0NFU1NBQkxFX0VOVElUWT00MjIsdC5MT0NLRUQ9NDIzLHQuRkFJTEVEX0RFUEVOREVOQ1k9NDI0LHQuVU5PUkRFUkVEX0NPTExFQ1RJT049NDI1LHQuVVBHUkFERV9SRVFVSVJFRD00MjYsdC5QUkVDT05ESVRJT05fUkVRVUlSRUQ9NDI4LHQuVE9PX01BTllfUkVRVUVTVFM9NDI5LHQuUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRT00MzEsdC5JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwLHQuTk9UX0lNUExFTUVOVEVEPTUwMSx0LkJBRF9HQVRFV0FZPTUwMix0LlNFUlZJQ0VfVU5BVkFJTEFCTEU9NTAzLHQuR0FURVdBWV9USU1FX09VVD01MDQsdC5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRD01MDUsdC5WQVJJQU5UX0FMU09fTkVHT1RJQVRFUz01MDYsdC5JTlNVRkZJQ0lFTlRfU1RPUkFHRT01MDcsdC5CQU5EV0lEVEhfTElNSVRfRVhDRUVERUQ9NTA5LHQuTk9UX0VYVEVOREVEPTUxMCx0Lk5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NTExfV0pfSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPXdpbmRvdy5mZXRjaHx8KHdpbmRvdy5mZXRjaD1uKDMpLmRlZmF1bHR8fG4oMykpfV0pfSxmdW5jdGlvbihlLHQsbil7d2luZG93LGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcj10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciByIGluIGUpbi5kKGkscixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDEpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DT05USU5VRT0xMDAsdC5TV0lUQ0hJTkdfUFJPVE9DT0xTPTEwMSx0LlBST0NFU1NJTkc9MTAyLHQuT0s9MjAwLHQuQ1JFQVRFRD0yMDEsdC5BQ0NFUFRFRD0yMDIsdC5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTj0yMDMsdC5OT19DT05URU5UPTIwNCx0LlJFU0VUX0NPTlRFTlQ9MjA1LHQuUEFSVElBTF9DT05URU5UPTIwNix0Lk1VTFRJX1NUQVRVUz0yMDcsdC5NVUxUSVBMRV9DSE9JQ0VTPTMwMCx0Lk1PVkVEX1BFUk1BTkVOVExZPTMwMSx0Lk1PVkVEX1RFTVBPUkFSSUxZPTMwMix0LlNFRV9PVEhFUj0zMDMsdC5OT1RfTU9ESUZJRUQ9MzA0LHQuVVNFX1BST1hZPTMwNSx0LlRFTVBPUkFSWV9SRURJUkVDVD0zMDcsdC5CQURfUkVRVUVTVD00MDAsdC5VTkFVVEhPUklaRUQ9NDAxLHQuUEFZTUVOVF9SRVFVSVJFRD00MDIsdC5GT1JCSURERU49NDAzLHQuTk9UX0ZPVU5EPTQwNCx0Lk1FVEhPRF9OT1RfQUxMT1dFRD00MDUsdC5OT1RfQUNDRVBUQUJMRT00MDYsdC5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRD00MDcsdC5SRVFVRVNUX1RJTUVfT1VUPTQwOCx0LkNPTkZMSUNUPTQwOSx0LkdPTkU9NDEwLHQuTEVOR1RIX1JFUVVJUkVEPTQxMSx0LlBSRUNPTkRJVElPTl9GQUlMRUQ9NDEyLHQuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFPTQxMyx0LlJFUVVFU1RfVVJJX1RPT19MQVJHRT00MTQsdC5VTlNVUFBPUlRFRF9NRURJQV9UWVBFPTQxNSx0LlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU9NDE2LHQuRVhQRUNUQVRJT05fRkFJTEVEPTQxNyx0LklNX0FfVEVBUE9UPTQxOCx0LlVOUFJPQ0VTU0FCTEVfRU5USVRZPTQyMix0LkxPQ0tFRD00MjMsdC5GQUlMRURfREVQRU5ERU5DWT00MjQsdC5VTk9SREVSRURfQ09MTEVDVElPTj00MjUsdC5VUEdSQURFX1JFUVVJUkVEPTQyNix0LlBSRUNPTkRJVElPTl9SRVFVSVJFRD00MjgsdC5UT09fTUFOWV9SRVFVRVNUUz00MjksdC5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFPTQzMSx0LklOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDAsdC5OT1RfSU1QTEVNRU5URUQ9NTAxLHQuQkFEX0dBVEVXQVk9NTAyLHQuU0VSVklDRV9VTkFWQUlMQUJMRT01MDMsdC5HQVRFV0FZX1RJTUVfT1VUPTUwNCx0LkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEPTUwNSx0LlZBUklBTlRfQUxTT19ORUdPVElBVEVTPTUwNix0LklOU1VGRklDSUVOVF9TVE9SQUdFPTUwNyx0LkJBTkRXSURUSF9MSU1JVF9FWENFRURFRD01MDksdC5OT1RfRVhURU5ERUQ9NTEwLHQuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRD01MTF9XSl9LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigzKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1uKDUpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi5fZGF0YT1uLmRhdGEoKSxuLl9kYXRhPW4ub3B0aW9ucy5kYXRhLG4uX2luaXQoKSxuLl9yZXNpemUoKSxufXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5faW5pdC5jYWxsKHRoaXMpLHRoaXMuXyRlbGVtZW50PSQodGhpcy5lbCk7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fJHRyZWU9JCgnPHVsIGNsYXNzPVwidHJlZVwiPjwvdWw+JyksdGhpcy5fJGVsZW1lbnQuYXBwZW5kKHRoaXMuXyR0cmVlKSwkLnRlbXBsYXRlcyh7cGFnZVRlbXBsYXRlOlwie157Zm9yIG5vZGVzfX1cXHRcXHRcXHRcXHRcXHR7Xnt0cmVlL319XFx0XFx0XFx0XFx0e3svZm9yfX1cIix0cmVlVGVtcGxhdGU6JzxsaT5cXHRcXHRcXHRcXHRcXHRcXHR7XntpZiBub2RlcyAmJiBub2Rlcy5sZW5ndGh9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XCJ0b2dnbGVcIiBkYXRhLWxpbms9XCJjbGFzc3ttZXJnZTpleHBhbmRlZCB0b2dnbGU9XFwnZXhwYW5kZWRcXCd9XCI+PC9kaXY+XFx0XFx0XFx0XFx0XFx0XFx0e3tlbHNlfX1cXHRcXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwic3BhY2VyXCI+PC9kaXY+XFx0XFx0XFx0XFx0XFx0XFx0e3svaWZ9fVxcdFxcdFxcdFxcdFxcdFxcdHtee2lmIG11bHRpU2VsZWN0RW5hYmxlZH19XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGlucHV0IGlkPVwidHJlZS1jaGVja2JveC17ez5pZH19XCIgdHlwZT1cImNoZWNrYm94XCIgZGF0YS1saW5rPVwiY2hlY2tlZHs6bXVsdGlTZWxlY3RlZCA/IFxcJ2NoZWNrZWRcXCcgOiBcXCdcXCd9XCIgY2xhc3M9XCJtdWx0aVNlbGVjdFwiIC8+XFx0XFx0XFx0XFx0XFx0XFx0e3svaWZ9fVxcdFxcdFxcdFxcdFxcdFxcdHtee2lmIHNlbGVjdGVkfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBpZD1cInRyZWUtbGluay17ez5pZH19XCIgaHJlZj1cIiNcIiB0aXRsZT1cInt7PmxhYmVsfX1cIiBjbGFzcz1cInNlbGVjdGVkXCI+e3s+bGFiZWx9fTwvYT5cXHRcXHRcXHRcXHRcXHRcXHR7e2Vsc2V9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGlkPVwidHJlZS1saW5rLXt7PmlkfX1cIiBocmVmPVwiI1wiIHRpdGxlPVwie3s+bGFiZWx9fVwiPnt7PmxhYmVsfX08L2E+XFx0XFx0XFx0XFx0XFx0XFx0e3svaWZ9fVxcdFxcdFxcdFxcdDwvbGk+XFx0XFx0XFx0XFx0e157aWYgZXhwYW5kZWR9fVxcdFxcdFxcdFxcdFxcdDxsaT5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8dWw+XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0e157Zm9yIG5vZGVzfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR7Xnt0cmVlL319XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0e3svZm9yfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8L3VsPlxcdFxcdFxcdFxcdFxcdDwvbGk+XFx0XFx0XFx0XFx0e3svaWZ9fSd9KSwkLnZpZXdzLnRhZ3Moe3RyZWU6e3RvZ2dsZUV4cGFuZGVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO3QuX3NldE5vZGVFeHBhbmRlZChlLCFlLmV4cGFuZGVkKX0sdG9nZ2xlTXVsdGlTZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7aWYodC5fc2V0Tm9kZU11bHRpU2VsZWN0ZWQoZSwhZS5tdWx0aVNlbGVjdGVkKSxlLmlzUmFuZ2UoKSl7dmFyIG49dC5fZ2V0TXVsdGlTZWxlY3RTdGF0ZSgpO24mJm4uc2VsZWN0UmFuZ2UoZS5kYXRhLGUubXVsdGlTZWxlY3RlZCl9dC5maXJlKHUuVFJFRV9OT0RFX01VTFRJU0VMRUNURUQsZSl9LGluaXQ6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZGF0YT1lLnZpZXcuZGF0YX0sb25BZnRlckxpbms6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY29udGVudHMoXCJsaVwiKS5maXJzdCgpLm9uKFwiY2xpY2tcIixcIi50b2dnbGVcIiwoZnVuY3Rpb24oKXtlLnRvZ2dsZUV4cGFuZGVkKCl9KSkub24oXCJjbGlja1wiLFwiYVwiLChmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9ZS5kYXRhO2kubm9kZXMubGVuZ3RoJiZ0Ll9kYXRhLmJyYW5jaE5vZGVzRXhwYW5kT25DbGljayYmZS50b2dnbGVFeHBhbmRlZCgpLGkubXVsdGlTZWxlY3RFbmFibGVkP2UudG9nZ2xlTXVsdGlTZWxlY3QoKTppLm5vZGVzLmxlbmd0aD90Ll9kYXRhLmJyYW5jaE5vZGVzU2VsZWN0YWJsZSYmKHQuZmlyZSh1LlRSRUVfTk9ERV9TRUxFQ1RFRCxpKSx0LnNlbGVjdE5vZGUoaSkpOih0LmZpcmUodS5UUkVFX05PREVfU0VMRUNURUQsaSksdC5zZWxlY3ROb2RlKGkpKX0pKS5vbihcImNsaWNrXCIsXCJpbnB1dC5tdWx0aVNlbGVjdFwiLChmdW5jdGlvbih0KXtlLnRvZ2dsZU11bHRpU2VsZWN0KCl9KSl9LHRlbXBsYXRlOiQudGVtcGxhdGVzLnRyZWVUZW1wbGF0ZX19KSwhMH0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fZGF0YT1PYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsZSksdGhpcy5fZGF0YS5oZWxwZXIpe3RoaXMuX3Jvb3ROb2RlPXRoaXMuX2RhdGEuaGVscGVyLmdldFRyZWUodGhpcy5fZGF0YS50b3BSYW5nZUluZGV4LHRoaXMuX2RhdGEudHJlZVNvcnRUeXBlKSx0aGlzLl9mbGF0dGVuZWRUcmVlPW51bGwsdGhpcy5fbXVsdGlTZWxlY3RhYmxlTm9kZXM9bnVsbCx0aGlzLl8kdHJlZS5saW5rKCQudGVtcGxhdGVzLnBhZ2VUZW1wbGF0ZSx0aGlzLl9yb290Tm9kZSk7dmFyIG49dGhpcy5fZ2V0TXVsdGlTZWxlY3RTdGF0ZSgpO2lmKG4pZm9yKHZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PW4ucmFuZ2VzW2VdLGk9ci5fZ2V0TXVsdGlTZWxlY3RhYmxlTm9kZXMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGEuaWQ9PT10LmlkfSkpWzBdO2kmJihyLl9zZXROb2RlTXVsdGlTZWxlY3RFbmFibGVkKGksdC5tdWx0aVNlbGVjdEVuYWJsZWQpLHIuX3NldE5vZGVNdWx0aVNlbGVjdGVkKGksdC5tdWx0aVNlbGVjdGVkKSl9LHI9dGhpcyxvPTA7bzxuLnJhbmdlcy5sZW5ndGg7bysrKWkobyk7aWYodGhpcy5fZGF0YS5hdXRvRXhwYW5kKXRoaXMuZ2V0QWxsTm9kZXMoKS5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3QuX3NldE5vZGVFeHBhbmRlZChlLCEwKX0pKX19LHQucHJvdG90eXBlLl9nZXRNdWx0aVNlbGVjdFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuaGVscGVyP3RoaXMuX2RhdGEuaGVscGVyLmdldE11bHRpU2VsZWN0U3RhdGUoKTpudWxsfSx0LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJue2F1dG9FeHBhbmQ6ITEsYnJhbmNoTm9kZXNFeHBhbmRPbkNsaWNrOiEwLGJyYW5jaE5vZGVzU2VsZWN0YWJsZTohMCxoZWxwZXI6bnVsbCx0b3BSYW5nZUluZGV4OjAsdHJlZVNvcnRUeXBlOmEuVHJlZVNvcnRUeXBlLk5PTkV9fSx0LnByb3RvdHlwZS5hbGxOb2Rlc1NlbGVjdGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0TXVsdGlTZWxlY3RhYmxlTm9kZXMoKSx0PXRoaXMuZ2V0TXVsdGlTZWxlY3RlZE5vZGVzKCk7cmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGh9LHQucHJvdG90eXBlLl9nZXRNdWx0aVNlbGVjdGFibGVOb2Rlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fbXVsdGlTZWxlY3RhYmxlTm9kZXMpcmV0dXJuIHRoaXMuX211bHRpU2VsZWN0YWJsZU5vZGVzO3ZhciB0PXRoaXMuZ2V0QWxsTm9kZXMoKTtyZXR1cm4gdD90aGlzLl9tdWx0aVNlbGVjdGFibGVOb2Rlcz10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX25vZGVJc011bHRpU2VsZWN0YWJsZSh0KX0pKTpbXX0sdC5wcm90b3R5cGUuX25vZGVJc011bHRpU2VsZWN0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLmRhdGEudHlwZT09PW8uVHJlZU5vZGVUeXBlLk1BTklGRVNUJiZlLm5vZGVzJiZlLm5vZGVzLmxlbmd0aD4wfHxlLmRhdGEudHlwZT09PW8uVHJlZU5vZGVUeXBlLlJBTkdFKX0sdC5wcm90b3R5cGUuZ2V0QWxsTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmxhdHRlbmVkVHJlZT90aGlzLl9mbGF0dGVuZWRUcmVlOnRoaXMuX2RhdGEuaGVscGVyP3RoaXMuX2ZsYXR0ZW5lZFRyZWU9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0RmxhdHRlbmVkVHJlZSh0aGlzLl9yb290Tm9kZSk6W119LHQucHJvdG90eXBlLmdldE11bHRpU2VsZWN0ZWROb2Rlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuZ2V0QWxsTm9kZXMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9ub2RlSXNNdWx0aVNlbGVjdGFibGUodCkmJnQubXVsdGlTZWxlY3RlZH0pKX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0QWxsTm9kZXMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pKVswXX0sdC5wcm90b3R5cGUuZXhwYW5kUGFyZW50cz1mdW5jdGlvbihlLHQpe2UmJmUucGFyZW50Tm9kZSYmKHRoaXMuX3NldE5vZGVFeHBhbmRlZChlLnBhcmVudE5vZGUsdCksdGhpcy5leHBhbmRQYXJlbnRzKGUucGFyZW50Tm9kZSx0KSl9LHQucHJvdG90eXBlLl9zZXROb2RlU2VsZWN0ZWQ9ZnVuY3Rpb24oZSx0KXskLm9ic2VydmFibGUoZSkuc2V0UHJvcGVydHkoXCJzZWxlY3RlZFwiLHQpfSx0LnByb3RvdHlwZS5fc2V0Tm9kZUV4cGFuZGVkPWZ1bmN0aW9uKGUsdCl7JC5vYnNlcnZhYmxlKGUpLnNldFByb3BlcnR5KFwiZXhwYW5kZWRcIix0KX0sdC5wcm90b3R5cGUuX3NldE5vZGVNdWx0aVNlbGVjdGVkPWZ1bmN0aW9uKGUsdCl7JC5vYnNlcnZhYmxlKGUpLnNldFByb3BlcnR5KFwibXVsdGlTZWxlY3RlZFwiLHQpfSx0LnByb3RvdHlwZS5fc2V0Tm9kZU11bHRpU2VsZWN0RW5hYmxlZD1mdW5jdGlvbihlLHQpeyQub2JzZXJ2YWJsZShlKS5zZXRQcm9wZXJ0eShcIm11bHRpU2VsZWN0RW5hYmxlZFwiLHQpfSx0LnByb3RvdHlwZS5zZWxlY3RQYXRoPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3Jvb3ROb2RlKXt2YXIgdD1lLnNwbGl0KFwiL1wiKTt0Lmxlbmd0aD49MSYmdC5zaGlmdCgpO3ZhciBuPXRoaXMuZ2V0Tm9kZUJ5UGF0aCh0aGlzLl9yb290Tm9kZSx0KTt0aGlzLnNlbGVjdE5vZGUobil9fSx0LnByb3RvdHlwZS5kZXNlbGVjdEN1cnJlbnROb2RlPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZE5vZGUmJnRoaXMuX3NldE5vZGVTZWxlY3RlZCh0aGlzLnNlbGVjdGVkTm9kZSwhMSl9LHQucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oZSl7dGhpcy5fcm9vdE5vZGUmJih0aGlzLmRlc2VsZWN0Q3VycmVudE5vZGUoKSx0aGlzLnNlbGVjdGVkTm9kZT1lLHRoaXMuX3NldE5vZGVTZWxlY3RlZCh0aGlzLnNlbGVjdGVkTm9kZSwhMCkpfSx0LnByb3RvdHlwZS5leHBhbmROb2RlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcm9vdE5vZGUmJnRoaXMuX3NldE5vZGVFeHBhbmRlZChlLHQpfSx0LnByb3RvdHlwZS5nZXROb2RlQnlQYXRoPWZ1bmN0aW9uKGUsdCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBlO3ZhciBuPU51bWJlcih0LnNoaWZ0KCkpLGk9ZS5ub2Rlc1tuXTtyZXR1cm4gdGhpcy5nZXROb2RlQnlQYXRoKGksdCl9LHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLl8kZWxlbWVudC5zaG93KCl9LHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLl8kZWxlbWVudC5oaWRlKCl9LHQucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oKXt9LHR9KG4oNCkuQmFzZUNvbXBvbmVudCk7dC5UcmVlQ29tcG9uZW50PXM7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLlRSRUVfTk9ERV9NVUxUSVNFTEVDVEVEPVwidHJlZU5vZGVNdWx0aVNlbGVjdGVkXCIsZS5UUkVFX05PREVfU0VMRUNURUQ9XCJ0cmVlTm9kZVNlbGVjdGVkXCIsZX0oKTt0LkV2ZW50cz11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiQmFzZUNvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9wdGlvbnM9ZSx0aGlzLm9wdGlvbnMuZGF0YT1PYmplY3QuYXNzaWduKHt9LHRoaXMuZGF0YSgpLGUuZGF0YSl9cmV0dXJuIGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWw9dGhpcy5vcHRpb25zLnRhcmdldCx0aGlzLmVsPyh0aGlzLmVsLmlubmVySFRNTD1cIlwiLCEwKTooY29uc29sZS53YXJuKFwiZWxlbWVudCBub3QgZm91bmRcIiksITEpfSxlLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJue319LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLl9lfHwodGhpcy5fZT17fSk7KGlbZV18fChpW2VdPVtdKSkucHVzaCh7Zm46dCxjdHg6bn0pfSxlLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2Zvcih2YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPSgodGhpcy5fZXx8KHRoaXMuX2U9e30pKVtlXXx8W10pLnNsaWNlKCksbz0wLGE9ci5sZW5ndGg7bzxhO28rKylyW29dLmZuLmFwcGx5KHJbb10uY3R4LGkpfSxlLnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSl7fSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpO3ZhciBpLHIsbyxhLHMsdSxsLGMscCxmLGg9ZnVuY3Rpb24oZSl7dGhpcy5pc1Zpc2libGU9ITA7dmFyIHQ9ZS5vbi5tYXRjaCgvLip4eXdoPShcXGQqKSwoXFxkKiksKFxcZCopLChcXGQqKS8pO3RoaXMueD1OdW1iZXIodFsxXSksdGhpcy55PU51bWJlcih0WzJdKSx0aGlzLndpZHRoPU51bWJlcih0WzNdKSx0aGlzLmhlaWdodD1OdW1iZXIodFs0XSksdGhpcy5jaGFycz1lLnJlc291cmNlLmNoYXJzfSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucmVjdHM9W10sdGhpcy5jYW52YXNJbmRleD10LHRoaXMuYWRkUmVjdChlKX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkUmVjdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaChlKTt0LmNhbnZhc0luZGV4PXRoaXMuY2FudmFzSW5kZXgsdC5pbmRleD10aGlzLnJlY3RzLmxlbmd0aCx0aGlzLnJlY3RzLnB1c2godCksdGhpcy5yZWN0cy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLmluZGV4LXQuaW5kZXh9KSl9LGV9KCksZz1uKDApLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5pc0VuYWJsZWQ9ITEsdGhpcy5yYW5nZXM9W10sdGhpcy5jYW52YXNlcz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWxsQ2FudmFzZXNTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc2VzLmxlbmd0aD4wJiZ0aGlzLmdldEFsbFNlbGVjdGVkQ2FudmFzZXMoKS5sZW5ndGg9PT10aGlzLmNhbnZhc2VzLmxlbmd0aH0sZS5wcm90b3R5cGUuYWxsUmFuZ2VzU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXMubGVuZ3RoPjAmJnRoaXMuZ2V0QWxsU2VsZWN0ZWRSYW5nZXMoKS5sZW5ndGg9PT10aGlzLnJhbmdlcy5sZW5ndGh9LGUucHJvdG90eXBlLmFsbFNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsUmFuZ2VzU2VsZWN0ZWQoKSYmdGhpcy5hbGxDYW52YXNlc1NlbGVjdGVkKCl9LGUucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc2VzLmNvbmNhdCh0aGlzLnJhbmdlcyl9LGUucHJvdG90eXBlLmdldEFsbFNlbGVjdGVkQ2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm11bHRpU2VsZWN0ZWR9KSl9LGUucHJvdG90eXBlLmdldEFsbFNlbGVjdGVkUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubXVsdGlTZWxlY3RlZH0pKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBnLlV0aWxzLm5vcm1hbGlzZVVybCh0LmlkKT09PWcuVXRpbHMubm9ybWFsaXNlVXJsKGUpfSkpWzBdfSxlLnByb3RvdHlwZS5nZXRDYW52YXNlc0J5SWRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07dC5wdXNoKHRoaXMuZ2V0Q2FudmFzQnlJZChpKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldFJhbmdlQ2FudmFzZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDYW52YXNJZHMoKTtyZXR1cm4gdGhpcy5nZXRDYW52YXNlc0J5SWRzKHQpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3RSYW5nZXModGhpcy5yYW5nZXMsZSksdGhpcy5zZWxlY3RDYW52YXNlcyh0aGlzLmNhbnZhc2VzLGUpfSxlLnByb3RvdHlwZS5zZWxlY3RDYW52YXM9ZnVuY3Rpb24oZSx0KXt0aGlzLmNhbnZhc2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lLmlkfSkpWzBdLm11bHRpU2VsZWN0ZWQ9dH0sZS5wcm90b3R5cGUuc2VsZWN0QWxsQ2FudmFzZXM9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3RDYW52YXNlcyh0aGlzLmNhbnZhc2VzLGUpfSxlLnByb3RvdHlwZS5zZWxlY3RDYW52YXNlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXtlW25dLm11bHRpU2VsZWN0ZWQ9dH19LGUucHJvdG90eXBlLnNlbGVjdFJhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yYW5nZXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWUuaWR9KSlbMF07bi5tdWx0aVNlbGVjdGVkPXQ7dmFyIGk9dGhpcy5nZXRSYW5nZUNhbnZhc2VzKG4pO3RoaXMuc2VsZWN0Q2FudmFzZXMoaSx0KX0sZS5wcm90b3R5cGUuc2VsZWN0QWxsUmFuZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0UmFuZ2VzKHRoaXMucmFuZ2VzLGUpfSxlLnByb3RvdHlwZS5zZWxlY3RSYW5nZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLm11bHRpU2VsZWN0ZWQ9dDt2YXIgcj10aGlzLmdldENhbnZhc2VzQnlJZHMoaS5nZXRDYW52YXNJZHMoKSk7dGhpcy5zZWxlY3RDYW52YXNlcyhyLHQpfX0sZS5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihlKXt0aGlzLmlzRW5hYmxlZD1lO2Zvcih2YXIgdD10aGlzLmdldEFsbCgpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLm11bHRpU2VsZWN0RW5hYmxlZD10aGlzLmlzRW5hYmxlZCxlfHwoaS5tdWx0aVNlbGVjdGVkPSExKX19LGV9KCksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLml0ZW1zPVtdLHRoaXMucmVzb3VyY2U9ZSx0aGlzLmxhYmVsPXR9cmV0dXJuIGUucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oZSl7dGhpcy5pdGVtcy5wdXNoKGUpfSxlLnByb3RvdHlwZS5hZGRNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSExKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmlzUm9vdExldmVsPXQsdGhpcy5hZGRJdGVtKGkpfX0sZX0oKTshZnVuY3Rpb24oZSl7ZS5EQVRFPVwiZGF0ZVwiLGUuTk9ORT1cIm5vbmVcIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLkJPT0tNQVJLSU5HPVwib2E6Ym9va21hcmtpbmdcIixlLkNMQVNTSUZZSU5HPVwib2E6Y2xhc3NpZnlpbmdcIixlLkNPTU1FTlRJTkc9XCJvYTpjb21tZW50aW5nXCIsZS5ERVNDUklCSU5HPVwib2E6ZGVzY3JpYmluZ1wiLGUuRURJVElORz1cIm9hOmVkaXRpbmdcIixlLkhJR0hMSUdIVElORz1cIm9hOmhpZ2hsaWdodGluZ1wiLGUuSURFTlRJRllJTkc9XCJvYTppZGVudGlmeWluZ1wiLGUuTElOS0lORz1cIm9hOmxpbmtpbmdcIixlLk1PREVSQVRJTkc9XCJvYTptb2RlcmF0aW5nXCIsZS5QQUlOVElORz1cInNjOnBhaW50aW5nXCIsZS5RVUVTVElPTklORz1cIm9hOnF1ZXN0aW9uaW5nXCIsZS5SRVBMWUlORz1cIm9hOnJlcGx5aW5nXCIsZS5UQUdHSU5HPVwib2E6dGFnZ2luZ1wiLGUuVFJBTlNDUklCSU5HPVwib2FkOnRyYW5zY3JpYmluZ1wifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQVVUT19BRFZBTkNFPVwiYXV0by1hZHZhbmNlXCIsZS5DT05USU5VT1VTPVwiY29udGludW91c1wiLGUuRkFDSU5HX1BBR0VTPVwiZmFjaW5nLXBhZ2VzXCIsZS5ISURERU49XCJoaWRkZW5cIixlLklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIixlLk1VTFRJX1BBUlQ9XCJtdWx0aS1wYXJ0XCIsZS5OT19OQVY9XCJuby1uYXZcIixlLk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLGUuUEFHRUQ9XCJwYWdlZFwiLGUuUkVQRUFUPVwicmVwZWF0XCIsZS5TRVFVRU5DRT1cInNlcXVlbmNlXCIsZS5USFVNQk5BSUxfTkFWPVwidGh1bWJuYWlsLW5hdlwiLGUuVE9HRVRIRVI9XCJ0b2dldGhlclwiLGUuVU5PUkRFUkVEPVwidW5vcmRlcmVkXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5DQU5WQVM9XCJjYW52YXNcIixlLkNIT0lDRT1cImNob2ljZVwiLGUuQ09OVEVOVF9BU19URVhUPVwiY29udGVudGFzdGV4dFwiLGUuREFUQVNFVD1cImRhdGFzZXRcIixlLkRPQ1VNRU5UPVwiZG9jdW1lbnRcIixlLklNQUdFPVwiaW1hZ2VcIixlLk1PREVMPVwibW9kZWxcIixlLk1PVklOR19JTUFHRT1cIm1vdmluZ2ltYWdlXCIsZS5QREY9XCJwZGZcIixlLlBIWVNJQ0FMX09CSkVDVD1cInBoeXNpY2Fsb2JqZWN0XCIsZS5TT1VORD1cInNvdW5kXCIsZS5URVhUPVwidGV4dFwiLGUuVEVYVFVBTEJPRFk9XCJ0ZXh0dWFsYm9keVwiLGUuVklERU89XCJ2aWRlb1wifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQU5OT1RBVElPTj1cImFubm90YXRpb25cIixlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIixlLk1BTklGRVNUPVwibWFuaWZlc3RcIixlLlJBTkdFPVwicmFuZ2VcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLkFVRElPX01QND1cImF1ZGlvL21wNFwiLGUuQ09SVE89XCJhcHBsaWNhdGlvbi9jb3J0b1wiLGUuRFJBQ089XCJhcHBsaWNhdGlvbi9kcmFjb1wiLGUuRVBVQj1cImFwcGxpY2F0aW9uL2VwdWIremlwXCIsZS5HTFRGPVwibW9kZWwvZ2x0Zitqc29uXCIsZS5KUEc9XCJpbWFnZS9qcGVnXCIsZS5NM1U4PVwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIixlLk1QMz1cImF1ZGlvL21wM1wiLGUuTVBFR19EQVNIPVwiYXBwbGljYXRpb24vZGFzaCt4bWxcIixlLk9CSj1cInRleHQvcGxhaW5cIixlLk9QRj1cImFwcGxpY2F0aW9uL29lYnBzLXBhY2thZ2UreG1sXCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIixlLlBMWT1cImFwcGxpY2F0aW9uL3BseVwiLGUuVEhSRUVKUz1cImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIixlLlZJREVPX01QND1cInZpZGVvL21wNFwiLGUuV0VCTT1cInZpZGVvL3dlYm1cIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLkRPQz1cImFwcGxpY2F0aW9uL21zd29yZFwiLGUuRE9DWD1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIn0obHx8KGw9e30pKSxmdW5jdGlvbihlKXtlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMC5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsZS5JTUFHRV8xX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDEuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDEuanNvblwiLGUuSU1BR0VfMV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMC5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDEuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDEuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIixlLkFVVEhfMF9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIixlLkFVVEhfMF9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW5cIixlLkFVVEhfMF9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ291dFwiLGUuQVVUSF8wX1JFU1RSSUNURUQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIixlLkFVVEhfMF9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvdG9rZW5cIixlLkFVVEhfMV9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9jbGlja3Rocm91Z2hcIixlLkFVVEhfMV9FWFRFUk5BTD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIixlLkFVVEhfMV9LSU9TSz1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEva2lvc2tcIixlLkFVVEhfMV9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9naW5cIixlLkFVVEhfMV9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiLGUuQVVUSF8xX1BST0JFPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9wcm9iZVwiLGUuQVVUSF8xX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS90b2tlblwiLGUuU0VBUkNIXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCIsZS5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL2F1dG9jb21wbGV0ZVwiLGUuU0VBUkNIXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvc2VhcmNoXCIsZS5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiLGUuVFJBQ0tJTkdfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdHJhY2tpbmctZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5VSV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby91aS1leHRlbnNpb25zLXByb2ZpbGVcIixlLlBSSU5UX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuU0hBUkVfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vc2hhcmUtZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5PVEhFUl9NQU5JRkVTVEFUSU9OUz1cImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIixlLklYSUY9XCJodHRwOi8vd2VsbGNvbWVsaWJyYXJ5Lm9yZy9sZC9peGlmLzAvYWxwaGEuanNvblwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuQk9UVE9NX1RPX1RPUD1cImJvdHRvbS10by10b3BcIixlLkxFRlRfVE9fUklHSFQ9XCJsZWZ0LXRvLXJpZ2h0XCIsZS5SSUdIVF9UT19MRUZUPVwicmlnaHQtdG8tbGVmdFwiLGUuVE9QX1RPX0JPVFRPTT1cInRvcC10by1ib3R0b21cIn0ocHx8KHA9e30pKSxmdW5jdGlvbihlKXtlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlRPUD1cInRvcFwifShmfHwoZj17fSkpO3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5tYW5pZmVzdE5vdExvYWRlZD1cIk1hbmlmZXN0IGhhcyBub3QgbG9hZGVkIHlldFwiLGV9KCkseT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5vcHRpb25zPWUsdGhpcy5paWlmUmVzb3VyY2U9dGhpcy5vcHRpb25zLmlpaWZSZXNvdXJjZSx0aGlzLm1hbmlmZXN0VXJpPXRoaXMub3B0aW9ucy5tYW5pZmVzdFVyaSx0aGlzLm1hbmlmZXN0PXRoaXMub3B0aW9ucy5tYW5pZmVzdCx0aGlzLmNvbGxlY3Rpb25JbmRleD10aGlzLm9wdGlvbnMuY29sbGVjdGlvbkluZGV4fHwwLHRoaXMubWFuaWZlc3RJbmRleD10aGlzLm9wdGlvbnMubWFuaWZlc3RJbmRleHx8MCx0aGlzLnNlcXVlbmNlSW5kZXg9dGhpcy5vcHRpb25zLnNlcXVlbmNlSW5kZXh8fDAsdGhpcy5jYW52YXNJbmRleD10aGlzLm9wdGlvbnMuY2FudmFzSW5kZXh8fDB9cmV0dXJuIGUucHJvdG90eXBlLmdldEF1dG9Db21wbGV0ZVNlcnZpY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlYXJjaFNlcnZpY2UoKSx0PW51bGw7cmV0dXJuIGUmJigodD1lLmdldFNlcnZpY2UoYy5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFKSl8fCh0PWUuZ2V0U2VydmljZShjLlNFQVJDSF8xX0FVVE9fQ09NUExFVEUpKSksdH0sZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb249ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpO3JldHVybiBlP2cuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpudWxsfSxlLnByb3RvdHlwZS5nZXRDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc2VzKCl9LGUucHJvdG90eXBlLmdldENhbnZhc0J5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJZChlKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXNCeUlkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj10aGlzLmdldENhbnZhc0J5SWQoaSk7ciYmdC5wdXNoKHIpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRDYW52YXNCeUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SW5kZXgoZSl9LGUucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNJbmRleEJ5SWQoZSl9LGUucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlMYWJlbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE1hbmlmZXN0VHlwZSgpPT09Zy5NYW5pZmVzdFR5cGUuTUFOVVNDUklQVDtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNJbmRleEJ5TGFiZWwoZSx0KX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldENhbnZhc1JhbmdlcyhlKTtpZih0KXtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyLnBhdGg9PT10KXJldHVybiByfXJldHVybiBudWxsfXJldHVybiBuWzBdfSxlLnByb3RvdHlwZS5nZXRDYW52YXNSYW5nZXM9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiBlLnJhbmdlcz9lLnJhbmdlczooZS5yYW5nZXM9dGhpcy5tYW5pZmVzdC5nZXRBbGxSYW5nZXMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldENhbnZhc0lkcygpLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBnLlV0aWxzLm5vcm1hbGlzZVVybCh0KT09PWcuVXRpbHMubm9ybWFsaXNlVXJsKGUuaWQpfSkpfSkpLGUucmFuZ2VzKX0sZS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbkluZGV4PWZ1bmN0aW9uKGUpe2lmKCFlLnBhcmVudENvbGxlY3Rpb258fGUucGFyZW50Q29sbGVjdGlvbi5wYXJlbnRDb2xsZWN0aW9uKXJldHVybiBlLnBhcmVudENvbGxlY3Rpb24/ZS5wYXJlbnRDb2xsZWN0aW9uLmluZGV4OnZvaWQgMH0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SW5kZXgodGhpcy5jYW52YXNJbmRleCl9LGUucHJvdG90eXBlLmdldEN1cnJlbnRTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlQnlJbmRleCh0aGlzLnNlcXVlbmNlSW5kZXgpfSxlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCk7cmV0dXJuIGU/Zy5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOm51bGx9LGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0TGFiZWwoKTtyZXR1cm4gZT9nLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdENhbnZhc0xhYmVsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldExhc3RDYW52YXNMYWJlbChlKX0sZS5wcm90b3R5cGUuZ2V0Rmlyc3RQYWdlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSxlLnByb3RvdHlwZS5nZXRMaWNlbnNlPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldExpY2Vuc2UoKX0sZS5wcm90b3R5cGUuZ2V0TG9nbz1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRMb2dvKCl9LGUucHJvdG90eXBlLmdldE1hbmlmZXN0VHlwZT1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldE1hbmlmZXN0VHlwZSgpO3JldHVybiBlPT09Zy5NYW5pZmVzdFR5cGUuRU1QVFkmJihlPWcuTWFuaWZlc3RUeXBlLk1PTk9HUkFQSCksZX0sZS5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciB0PVtdLG49dGhpcy5tYW5pZmVzdC5nZXRNZXRhZGF0YSgpLGk9bmV3IHYodGhpcy5tYW5pZmVzdCkscj10aGlzLm9wdGlvbnMubG9jYWxlOyhuJiZuLmxlbmd0aCYmaS5hZGRNZXRhZGF0YShuLCEwKSx0aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCkubGVuZ3RoKSYmKChzPW5ldyBnLkxhYmVsVmFsdWVQYWlyKHIpKS5sYWJlbD1bbmV3IGcuTGFuZ3VhZ2UoXCJkZXNjcmlwdGlvblwiLHIpXSxzLnZhbHVlPXRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKSxzLmlzUm9vdExldmVsPSEwLGkuYWRkSXRlbShzKSk7dGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpLmxlbmd0aCYmKChzPW5ldyBnLkxhYmVsVmFsdWVQYWlyKHIpKS5sYWJlbD1bbmV3IGcuTGFuZ3VhZ2UoXCJhdHRyaWJ1dGlvblwiLHIpXSxzLnZhbHVlPXRoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKSxzLmlzUm9vdExldmVsPSEwLGkuYWRkSXRlbShzKSk7dmFyIG89dGhpcy5tYW5pZmVzdC5nZXRMaWNlbnNlKCk7aWYobyl7dmFyIGE9e2xhYmVsOlwibGljZW5zZVwiLHZhbHVlOmUmJmUubGljZW5zZUZvcm1hdHRlcj9lLmxpY2Vuc2VGb3JtYXR0ZXIuZm9ybWF0KG8pOm99OyhzPW5ldyBnLkxhYmVsVmFsdWVQYWlyKHIpKS5wYXJzZShhKSxzLmlzUm9vdExldmVsPSEwLGkuYWRkSXRlbShzKX1pZih0aGlzLm1hbmlmZXN0LmdldExvZ28oKSl7dmFyIHM7YT17bGFiZWw6XCJsb2dvXCIsdmFsdWU6JzxpbWcgc3JjPVwiJyt0aGlzLm1hbmlmZXN0LmdldExvZ28oKSsnXCIvPid9OyhzPW5ldyBnLkxhYmVsVmFsdWVQYWlyKHIpKS5wYXJzZShhKSxzLmlzUm9vdExldmVsPSEwLGkuYWRkSXRlbShzKX1yZXR1cm4gdC5wdXNoKGkpLGU/dGhpcy5fcGFyc2VNZXRhZGF0YU9wdGlvbnMoZSx0KTp0fSxlLnByb3RvdHlwZS5nZXRSZXF1aXJlZFN0YXRlbWVudD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldFJlcXVpcmVkU3RhdGVtZW50KCk7cmV0dXJuIGU/e2xhYmVsOmUuZ2V0TGFiZWwoKSx2YWx1ZTplLmdldFZhbHVlKCl9Om51bGx9LGUucHJvdG90eXBlLl9wYXJzZU1ldGFkYXRhT3B0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCksaT1uLmdldE1ldGFkYXRhKCk7aWYoaSYmaS5sZW5ndGgpe3ZhciByPW5ldyB2KG4pO3IuYWRkTWV0YWRhdGEoaSksdC5wdXNoKHIpfWlmKGUucmFuZ2Upe3ZhciBvPXRoaXMuX2dldFJhbmdlTWV0YWRhdGEoW10sZS5yYW5nZSk7bz1vLnJldmVyc2UoKSx0PXQuY29uY2F0KG8pfWlmKGUuY2FudmFzZXMmJmUuY2FudmFzZXMubGVuZ3RoKWZvcih2YXIgYT0wO2E8ZS5jYW52YXNlcy5sZW5ndGg7YSsrKXt2YXIgcz1lLmNhbnZhc2VzW2FdLHU9cy5nZXRNZXRhZGF0YSgpO2lmKHUmJnUubGVuZ3RoKXt2YXIgbD1uZXcgdihzKTtsLmFkZE1ldGFkYXRhKHMuZ2V0TWV0YWRhdGEoKSksdC5wdXNoKGwpfWZvcih2YXIgYz1zLmdldEltYWdlcygpLHA9MDtwPGMubGVuZ3RoO3ArKyl7dmFyIGY9Y1twXSxoPWYuZ2V0TWV0YWRhdGEoKTtpZihoJiZoLmxlbmd0aCl7dmFyIGQ9bmV3IHYoZik7ZC5hZGRNZXRhZGF0YShoKSx0LnB1c2goZCl9fX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuX2dldFJhbmdlTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmdldE1ldGFkYXRhKCk7aWYobiYmbi5sZW5ndGgpe3ZhciBpPW5ldyB2KHQpO2kuYWRkTWV0YWRhdGEobiksZS5wdXNoKGkpfWVsc2UgaWYodC5wYXJlbnRSYW5nZSlyZXR1cm4gdGhpcy5fZ2V0UmFuZ2VNZXRhZGF0YShlLHQucGFyZW50UmFuZ2UpO3JldHVybiBlfSxlLnByb3RvdHlwZS5nZXRNdWx0aVNlbGVjdFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX211bHRpU2VsZWN0U3RhdGV8fCh0aGlzLl9tdWx0aVNlbGVjdFN0YXRlPW5ldyBfLHRoaXMuX211bHRpU2VsZWN0U3RhdGUucmFuZ2VzPXRoaXMuZ2V0UmFuZ2VzKCkuc2xpY2UoMCksdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZS5jYW52YXNlcz10aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc2VzKCkuc2xpY2UoMCkpLHRoaXMuX211bHRpU2VsZWN0U3RhdGV9LGUucHJvdG90eXBlLmdldEN1cnJlbnRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlSWQ/dGhpcy5nZXRSYW5nZUJ5SWQodGhpcy5yYW5nZUlkKTpudWxsfSxlLnByb3RvdHlwZS5nZXRQb3N0ZXJDYW52YXM9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UG9zdGVyQ2FudmFzKCl9LGUucHJvdG90eXBlLmdldFBvc3RlckltYWdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQb3N0ZXJDYW52YXMoKTtpZihlKXt2YXIgdD1lLmdldENvbnRlbnQoKTtpZih0JiZ0Lmxlbmd0aClyZXR1cm4gdFswXS5nZXRCb2R5KClbMF0uaWR9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFByZXZpb3VzUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZih0PWV8fHRoaXMuZ2V0Q3VycmVudFJhbmdlKCkpe3ZhciBuPXRoaXMuZ2V0RmxhdHRlbmVkVHJlZSgpO2lmKG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYociYmci5kYXRhLmlkPT09dC5pZCl7Zm9yKDtpPjA7KXtyZXR1cm4gblstLWldLmRhdGF9YnJlYWt9fX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TmV4dFJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYodD1lfHx0aGlzLmdldEN1cnJlbnRSYW5nZSgpKXt2YXIgbj10aGlzLmdldEZsYXR0ZW5lZFRyZWUoKTtpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHImJnIuZGF0YS5pZD09PXQuaWQpe2Zvcig7aTxuLmxlbmd0aC0xOyl7dmFyIG89blsrK2ldO2lmKG8uZGF0YS5jYW52YXNlcyYmby5kYXRhLmNhbnZhc2VzLmxlbmd0aClyZXR1cm4gby5kYXRhfWJyZWFrfX19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEZsYXR0ZW5lZFRyZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4odD1lfHx0aGlzLmdldFRyZWUoKSk/dGhpcy5fZmxhdHRlblRyZWUodCxcIm5vZGVzXCIpOm51bGx9LGUucHJvdG90eXBlLl9mbGF0dGVuVHJlZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT1bZV07cmV0dXJuIGVbdF0mJmVbdF0ubGVuZ3RoPjA/aS5jb25jYXQoZVt0XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLl9mbGF0dGVuVHJlZShlLHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSkpOml9LGUucHJvdG90eXBlLmdldFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlmZXN0LmdldEFsbFJhbmdlcygpfSxlLnByb3RvdHlwZS5nZXRSYW5nZUJ5UGF0aD1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmFuZ2VCeVBhdGgoZSl9LGUucHJvdG90eXBlLmdldFJhbmdlQnlJZD1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmFuZ2VCeUlkKGUpfSxlLnByb3RvdHlwZS5nZXRSYW5nZUNhbnZhc2VzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q2FudmFzSWRzKCk7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXNCeUlkKHQpfSxlLnByb3RvdHlwZS5nZXRSZWxhdGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFJlbGF0ZWQoKX0sZS5wcm90b3R5cGUuZ2V0U2VhcmNoU2VydmljZT1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoYy5TRUFSQ0hfMCk7cmV0dXJuIGV8fChlPXRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShjLlNFQVJDSF8xKSksZX0sZS5wcm90b3R5cGUuZ2V0U2VlQWxzbz1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRTZWVBbHNvKCl9LGUucHJvdG90eXBlLmdldFNlcXVlbmNlQnlJbmRleD1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0U2VxdWVuY2VCeUluZGV4KGUpfSxlLnByb3RvdHlwZS5nZXRTaGFyZVNlcnZpY2VVcmw9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9bnVsbCx0PXRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShjLlNIQVJFX0VYVEVOU0lPTlMpO3JldHVybiB0JiYodC5sZW5ndGgmJih0PXRbMF0pLGU9dC5fX2pzb25sZC5zaGFyZVVybCksZX0sZS5wcm90b3R5cGUuX2dldFNvcnRlZFRyZWVOb2Rlc0J5RGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0RmxhdHRlbmVkVHJlZSh0KTtpZihuKXt2YXIgaT1uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YS50eXBlPT09Zy5UcmVlTm9kZVR5cGUuTUFOSUZFU1R9KSk7dGhpcy5jcmVhdGVEZWNhZGVOb2RlcyhlLG4pLHRoaXMuc29ydERlY2FkZU5vZGVzKGUpLHRoaXMuY3JlYXRlWWVhck5vZGVzKGUsbiksdGhpcy5zb3J0WWVhck5vZGVzKGUpLHRoaXMuY3JlYXRlTW9udGhOb2RlcyhlLGkpLHRoaXMuc29ydE1vbnRoTm9kZXMoZSksdGhpcy5jcmVhdGVEYXRlTm9kZXMoZSxpKSx0aGlzLnBydW5lRGVjYWRlTm9kZXMoZSl9fSxlLnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0U3RhcnRDYW52YXNJbmRleCgpfSxlLnByb3RvdHlwZS5nZXRUaHVtYnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRUaHVtYnMoZSx0KX0sZS5wcm90b3R5cGUuZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFRvcFJhbmdlcygpfSxlLnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0VG90YWxDYW52YXNlcygpfSxlLnByb3RvdHlwZS5nZXRUcmFja2luZ0xhYmVsPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFRyYWNraW5nTGFiZWwoKX0sZS5wcm90b3R5cGUuX2dldFRvcFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlpaWZSZXNvdXJjZS5nZXRUb3BSYW5nZXMoKX0sZS5wcm90b3R5cGUuZ2V0VHJlZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PWkuTk9ORSksIXRoaXMuaWlpZlJlc291cmNlKXJldHVybiBudWxsO3ZhciBuO2lmKHRoaXMuaWlpZlJlc291cmNlLmlzQ29sbGVjdGlvbigpKW49dGhpcy5paWlmUmVzb3VyY2UuZ2V0RGVmYXVsdFRyZWUoKTtlbHNle3ZhciByPXRoaXMuX2dldFRvcFJhbmdlcygpLG89bmV3IGcuVHJlZU5vZGU7aWYoby5sYWJlbD1cInJvb3RcIixvLmRhdGE9dGhpcy5paWlmUmVzb3VyY2UsIXIubGVuZ3RoKXJldHVybiBvO249cltlXS5nZXRUcmVlKG8pfXZhciBhPW5ldyBnLlRyZWVOb2RlO3N3aXRjaCh0LnRvU3RyaW5nKCkpe2Nhc2UgaS5EQVRFLnRvU3RyaW5nKCk6aWYodGhpcy50cmVlSGFzTmF2RGF0ZXMobikpe3RoaXMuX2dldFNvcnRlZFRyZWVOb2Rlc0J5RGF0ZShhLG4pO2JyZWFrfWRlZmF1bHQ6YT1ufXJldHVybiBhfSxlLnByb3RvdHlwZS50cmVlSGFzTmF2RGF0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRGbGF0dGVuZWRUcmVlKGUpO3JldHVybiEhdCYmdC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4haXNOYU4oZS5uYXZEYXRlKX0pKX0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyZXR1cm4gZXx8KGU9dGhpcy5tYW5pZmVzdC5nZXRWaWV3aW5nRGlyZWN0aW9uKCkpLGV9LGUucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4gZXx8KGU9dGhpcy5tYW5pZmVzdC5nZXRWaWV3aW5nSGludCgpKSxlfSxlLnByb3RvdHlwZS5oYXNQYXJlbnRDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiEhdGhpcy5tYW5pZmVzdC5wYXJlbnRDb2xsZWN0aW9ufSxlLnByb3RvdHlwZS5oYXNSZWxhdGVkUGFnZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UmVsYXRlZCgpO3JldHVybiEhZSYmKGUubGVuZ3RoJiYoZT1lWzBdKSxcInRleHQvaHRtbFwiPT09ZS5mb3JtYXQpfSxlLnByb3RvdHlwZS5oYXNSZXNvdXJjZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50Q2FudmFzKCkuZ2V0UmVzb3VyY2VzKCkubGVuZ3RoPjB9LGUucHJvdG90eXBlLmlzQm90dG9tVG9Ub3A9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyZXR1cm4hIWUmJmU9PT1wLkJPVFRPTV9UT19UT1B9LGUucHJvdG90eXBlLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlKGUpfSxlLnByb3RvdHlwZS5pc0NvbnRpbnVvdXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuISFlJiZlPT09Zi5DT05USU5VT1VTfSxlLnByb3RvdHlwZS5pc0ZpcnN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lP3RoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNGaXJzdENhbnZhcyhlKTp0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzRmlyc3RDYW52YXModGhpcy5jYW52YXNJbmRleCl9LGUucHJvdG90eXBlLmlzSG9yaXpvbnRhbGx5QWxpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGVmdFRvUmlnaHQoKXx8dGhpcy5pc1JpZ2h0VG9MZWZ0KCl9LGUucHJvdG90eXBlLmlzTGFzdENhbnZhcz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTGFzdENhbnZhcyhlKTp0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTGFzdENhbnZhcyh0aGlzLmNhbnZhc0luZGV4KX0sZS5wcm90b3R5cGUuaXNMZWZ0VG9SaWdodD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3JldHVybiEhZSYmZT09PXAuTEVGVF9UT19SSUdIVH0sZS5wcm90b3R5cGUuaXNNdWx0aUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTXVsdGlDYW52YXMoKX0sZS5wcm90b3R5cGUuaXNNdWx0aVNlcXVlbmNlPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmlzTXVsdGlTZXF1ZW5jZSgpfSxlLnByb3RvdHlwZS5pc1BhZ2VkPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4gZT9lPT09Zi5QQUdFRDp0aGlzLm1hbmlmZXN0LmlzUGFnaW5nRW5hYmxlZCgpfSxlLnByb3RvdHlwZS5pc1BhZ2luZ0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGFnaW5nRW5hYmxlZCgpJiZ0aGlzLmdldFRvdGFsQ2FudmFzZXMoKT4yfSxlLnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuaXNQYWdpbmdFbmFibGVkKCl8fHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNQYWdpbmdFbmFibGVkKCl9LGUucHJvdG90eXBlLmlzUmlnaHRUb0xlZnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyZXR1cm4hIWUmJmU9PT1wLlJJR0hUX1RPX0xFRlR9LGUucHJvdG90eXBlLmlzVG9wVG9Cb3R0b209ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyZXR1cm4hIWUmJmU9PT1wLlRPUF9UT19CT1RUT019LGUucHJvdG90eXBlLmlzVG90YWxDYW52YXNlc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc1RvdGFsQ2FudmFzZXNFdmVuKCl9LGUucHJvdG90eXBlLmlzVUlFbmFibGVkPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgdD10aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoYy5VSV9FWFRFTlNJT05TKTtpZih0KXt2YXIgbj10LmdldFByb3BlcnR5KFwiZGlzYWJsZVVJXCIpO2lmKG4mJigtMSE9PW4uaW5kZXhPZihlKXx8LTEhPT1uLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKSkpcmV0dXJuITF9cmV0dXJuITB9LGUucHJvdG90eXBlLmlzVmVydGljYWxseUFsaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1RvcFRvQm90dG9tKCl8fHRoaXMuaXNCb3R0b21Ub1RvcCgpfSxlLnByb3RvdHlwZS5jcmVhdGVEYXRlTm9kZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPXRoaXMuZ2V0Tm9kZVllYXIoaSksbz10aGlzLmdldE5vZGVNb250aChpKSxhPW5ldyBnLlRyZWVOb2RlO2EuaWQ9aS5pZCxhLmxhYmVsPXRoaXMuZ2V0Tm9kZURpc3BsYXlEYXRlKGkpLGEuZGF0YT1pLmRhdGEsYS5kYXRhLnR5cGU9Zy5UcmVlTm9kZVR5cGUuTUFOSUZFU1QsYS5kYXRhLnllYXI9cixhLmRhdGEubW9udGg9bzt2YXIgcz10aGlzLmdldERlY2FkZU5vZGUoZSxyKTtpZihzKXt2YXIgdT10aGlzLmdldFllYXJOb2RlKHMscik7aWYodSl7dmFyIGw9dGhpcy5nZXRNb250aE5vZGUodSxvKTtsJiZsLmFkZE5vZGUoYSl9fX19LGUucHJvdG90eXBlLmNyZWF0ZURlY2FkZU5vZGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5uYXZEYXRlKXt2YXIgcj10aGlzLmdldE5vZGVZZWFyKGkpLG89TnVtYmVyKHIudG9TdHJpbmcoKS5zdWJzdHIoMCwzKStcIjlcIik7aWYoIXRoaXMuZ2V0RGVjYWRlTm9kZShlLHIpKXt2YXIgYT1uZXcgZy5UcmVlTm9kZTthLmxhYmVsPXIrXCIgLSBcIitvLGEubmF2RGF0ZT1pLm5hdkRhdGUsYS5kYXRhLnN0YXJ0WWVhcj1yLGEuZGF0YS5lbmRZZWFyPW8sZS5hZGROb2RlKGEpfX19fSxlLnByb3RvdHlwZS5jcmVhdGVNb250aE5vZGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5uYXZEYXRlKXt2YXIgcj10aGlzLmdldE5vZGVZZWFyKGkpLG89dGhpcy5nZXROb2RlTW9udGgoaSksYT10aGlzLmdldERlY2FkZU5vZGUoZSxyKSxzPW51bGw7aWYoYSYmKHM9dGhpcy5nZXRZZWFyTm9kZShhLHIpKSxhJiZzJiYhdGhpcy5nZXRNb250aE5vZGUocyxvKSl7dmFyIHU9bmV3IGcuVHJlZU5vZGU7dS5sYWJlbD10aGlzLmdldE5vZGVEaXNwbGF5TW9udGgoaSksdS5uYXZEYXRlPWkubmF2RGF0ZSx1LmRhdGEueWVhcj1yLHUuZGF0YS5tb250aD1vLHMuYWRkTm9kZSh1KX19fX0sZS5wcm90b3R5cGUuY3JlYXRlWWVhck5vZGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5uYXZEYXRlKXt2YXIgcj10aGlzLmdldE5vZGVZZWFyKGkpLG89dGhpcy5nZXREZWNhZGVOb2RlKGUscik7aWYobyYmIXRoaXMuZ2V0WWVhck5vZGUobyxyKSl7dmFyIGE9bmV3IGcuVHJlZU5vZGU7YS5sYWJlbD1yLnRvU3RyaW5nKCksYS5uYXZEYXRlPWkubmF2RGF0ZSxhLmRhdGEueWVhcj1yLG8uYWRkTm9kZShhKX19fX0sZS5wcm90b3R5cGUuZ2V0RGVjYWRlTm9kZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgaT1lLm5vZGVzW25dO2lmKHQ+PWkuZGF0YS5zdGFydFllYXImJnQ8PWkuZGF0YS5lbmRZZWFyKXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb250aE5vZGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9ZS5ub2Rlc1tuXTtpZih0PT09dGhpcy5nZXROb2RlTW9udGgoaSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE5vZGVEaXNwbGF5RGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5uYXZEYXRlLnRvRGF0ZVN0cmluZygpfSxlLnByb3RvdHlwZS5nZXROb2RlRGlzcGxheU1vbnRoPWZ1bmN0aW9uKGUpe3JldHVybltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXVtlLm5hdkRhdGUuZ2V0TW9udGgoKV19LGUucHJvdG90eXBlLmdldE5vZGVNb250aD1mdW5jdGlvbihlKXtyZXR1cm4gZS5uYXZEYXRlLmdldE1vbnRoKCl9LGUucHJvdG90eXBlLmdldE5vZGVZZWFyPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5hdkRhdGUuZ2V0RnVsbFllYXIoKX0sZS5wcm90b3R5cGUuZ2V0WWVhck5vZGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9ZS5ub2Rlc1tuXTtpZih0PT09dGhpcy5nZXROb2RlWWVhcihpKSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucHJ1bmVEZWNhZGVOb2Rlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgaT1lLm5vZGVzW25dO2kubm9kZXMubGVuZ3RofHx0LnB1c2goaSl9Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0sYT1lLm5vZGVzLmluZGV4T2Yobyk7YT4tMSYmZS5ub2Rlcy5zcGxpY2UoYSwxKX19LGUucHJvdG90eXBlLnNvcnREZWNhZGVOb2Rlcz1mdW5jdGlvbihlKXtlLm5vZGVzPWUubm9kZXMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kYXRhLnN0YXJ0WWVhci10LmRhdGEuc3RhcnRZZWFyfSkpfSxlLnByb3RvdHlwZS5zb3J0TW9udGhOb2Rlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspZm9yKHZhciBpPWUubm9kZXNbbl0scj0wO3I8aS5ub2Rlcy5sZW5ndGg7cisrKXt2YXIgbz1pLm5vZGVzW3JdO28ubm9kZXM9by5ub2Rlcy5zb3J0KChmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldE5vZGVNb250aChlKS10LmdldE5vZGVNb250aChuKX0pKX19LGUucHJvdG90eXBlLnNvcnRZZWFyTm9kZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMsbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgaT1lLm5vZGVzW25dO2kubm9kZXM9aS5ub2Rlcy5zb3J0KChmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldE5vZGVZZWFyKGUpLXQuZ2V0Tm9kZVllYXIobil9KSl9fSxlfSgpLFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX29wdGlvbnM9ZSx0aGlzLl9vcHRpb25zLmxvY2FsZT10aGlzLl9vcHRpb25zLmxvY2FsZXx8XCJlbi1HQlwifXJldHVybiBlLnByb3RvdHlwZS5ib290c3RyYXA9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxyKXtlJiZ0JiYoaT1lLHI9dCksZy5VdGlscy5sb2FkTWFuaWZlc3Qobi5fb3B0aW9ucy5tYW5pZmVzdFVyaSkudGhlbigoZnVuY3Rpb24oZSl7bi5fbG9hZGVkKG4sZSxpLHIpfSkpfSkpfSxlLnByb3RvdHlwZS5fbG9hZGVkPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPWcuVXRpbHMucGFyc2VNYW5pZmVzdCh0LHtsb2NhbGU6ZS5fb3B0aW9ucy5sb2NhbGV9KTtpZihyKXtlLl9vcHRpb25zLmlpaWZSZXNvdXJjZXx8KGUuX29wdGlvbnMuaWlpZlJlc291cmNlPXIpO3ZhciBvPWUuX29wdGlvbnMuY29sbGVjdGlvbkluZGV4LGE9ZS5fb3B0aW9ucy5tYW5pZmVzdEluZGV4O2lmKHIuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09cy5DT0xMRUNUSU9OKXt2YXIgdT1yLmdldE1hbmlmZXN0cygpLGw9ci5nZXRDb2xsZWN0aW9ucygpO3UubGVuZ3RofHx2b2lkIDAhPT1vfHwobz0wKSx2b2lkIDAhPT1vJiZsJiZsLmxlbmd0aD9yLmdldENvbGxlY3Rpb25CeUluZGV4KG8pLnRoZW4oKGZ1bmN0aW9uKHQpe3R8fGkoXCJDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZFwiKSwwPT09dC5nZXRUb3RhbE1hbmlmZXN0cygpJiYwPT09YSYmdC5nZXRUb3RhbENvbGxlY3Rpb25zKCk+MD8oZS5fb3B0aW9ucy5jb2xsZWN0aW9uSW5kZXg9MCxlLl9vcHRpb25zLm1hbmlmZXN0VXJpPXQuaWQsZS5ib290c3RyYXAobixpKSk6dm9pZCAwIT09YSYmdC5nZXRNYW5pZmVzdEJ5SW5kZXgoYSkudGhlbigoZnVuY3Rpb24odCl7ZS5fb3B0aW9ucy5tYW5pZmVzdD10O3ZhciBpPW5ldyB5KGUuX29wdGlvbnMpO24oaSl9KSl9KSk6ci5nZXRNYW5pZmVzdEJ5SW5kZXgoZS5fb3B0aW9ucy5tYW5pZmVzdEluZGV4KS50aGVuKChmdW5jdGlvbih0KXtlLl9vcHRpb25zLm1hbmlmZXN0PXQ7dmFyIGk9bmV3IHkoZS5fb3B0aW9ucyk7bihpKX0pKX1lbHNle2UuX29wdGlvbnMubWFuaWZlc3Q9cjt2YXIgYz1uZXcgeShlLl9vcHRpb25zKTtuKGMpfX1lbHNlIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gbG9hZCBJSUlGIHJlc291cmNlXCIpfSxlfSgpLEk9bigxKSxPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuYXV0aEhvbGRpbmdQYWdlPW51bGwsdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlPW51bGwsdGhpcy5leHRlcm5hbFNlcnZpY2U9bnVsbCx0aGlzLmlzUHJvYmVkPSExLHRoaXMuaXNSZXNwb25zZUhhbmRsZWQ9ITEsdGhpcy5raW9za1NlcnZpY2U9bnVsbCx0aGlzLmxvZ2luU2VydmljZT1udWxsLHRoaXMubG9nb3V0U2VydmljZT1udWxsLHRoaXMucHJvYmVTZXJ2aWNlPW51bGwsdGhpcy5yZXN0cmljdGVkU2VydmljZT1udWxsLHRoaXMudG9rZW5TZXJ2aWNlPW51bGwsZS5leHRlcm5hbFJlc291cmNlPXRoaXMsdGhpcy5kYXRhVXJpPXRoaXMuX2dldERhdGFVcmkoZSksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuYXV0aEFQSVZlcnNpb249dC5hdXRoQXBpVmVyc2lvbix0aGlzLl9wYXJzZUF1dGhTZXJ2aWNlcyhlKSx0aGlzLl9wYXJzZUNhbnZhc0RpbWVuc2lvbnMoZSl9cmV0dXJuIGUucHJvdG90eXBlLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1udWxsLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPWkuaWQ7ci5lbmRzV2l0aChcIi9cIil8fChyKz1cIi9cIiksZy5VdGlscy5pc0ltYWdlUHJvZmlsZShpLmdldFByb2ZpbGUoKSkmJih0PXIrXCJpbmZvLmpzb25cIil9cmV0dXJuIHR9LGUucHJvdG90eXBlLl9nZXREYXRhVXJpPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q29udGVudCgpLG49ZS5nZXRJbWFnZXMoKSxpPW51bGw7aWYodCYmdC5sZW5ndGgpe3ZhciByPXRbMF0uZ2V0Qm9keSgpO3JldHVybiByLmxlbmd0aD8obz1yWzBdLmdldFNlcnZpY2VzKCkpLmxlbmd0aCYmKGk9dGhpcy5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvcihvKSk/aTpyWzBdLmlkOm51bGx9aWYobiYmbi5sZW5ndGgpe3ZhciBvLGE9blswXS5nZXRSZXNvdXJjZSgpO3JldHVybihvPWEuZ2V0U2VydmljZXMoKSkubGVuZ3RoJiYoaT10aGlzLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yKG8pKT9pOmEuaWR9dmFyIHM9ZS5nZXRTZXJ2aWNlKGMuSVhJRik7cmV0dXJuIHM/cy5nZXRJbmZvVXJpKCk6ZS5pZH0sZS5wcm90b3R5cGUuX3BhcnNlQXV0aFNlcnZpY2VzPWZ1bmN0aW9uKGUpe2lmKC45PT09dGhpcy5hdXRoQVBJVmVyc2lvbil0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzBfQ0xJQ0tfVEhST1VHSCksdGhpcy5sb2dpblNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzBfTE9HSU4pLHRoaXMucmVzdHJpY3RlZFNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzBfUkVTVFJJQ1RFRCksdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlPyh0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9UT0tFTikpOnRoaXMubG9naW5TZXJ2aWNlPyh0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfVE9LRU4pKTp0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlJiYodGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMucmVzdHJpY3RlZFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMucmVzdHJpY3RlZFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9UT0tFTikpO2Vsc2V7aWYodm9pZCAwIT09ZS5pc0NhbnZhcyYmZS5pc0NhbnZhcygpKXt2YXIgdD1lLmdldENvbnRlbnQoKTtpZih0JiZ0Lmxlbmd0aCl7dmFyIG49dFswXS5nZXRCb2R5KCk7aWYobiYmbi5sZW5ndGgpZT1uWzBdfX10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzFfQ0xJQ0tfVEhST1VHSCksdGhpcy5sb2dpblNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzFfTE9HSU4pLHRoaXMuZXh0ZXJuYWxTZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8xX0VYVEVSTkFMKSx0aGlzLmtpb3NrU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMV9LSU9TSyksdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlPyh0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9UT0tFTiksdGhpcy5wcm9iZVNlcnZpY2U9dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfUFJPQkUpKTp0aGlzLmxvZ2luU2VydmljZT8odGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1RPS0VOKSx0aGlzLnByb2JlU2VydmljZT10aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1BST0JFKSk6dGhpcy5leHRlcm5hbFNlcnZpY2U/KHRoaXMubG9nb3V0U2VydmljZT10aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9UT0tFTiksdGhpcy5wcm9iZVNlcnZpY2U9dGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9QUk9CRSkpOnRoaXMua2lvc2tTZXJ2aWNlJiYodGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1RPS0VOKSx0aGlzLnByb2JlU2VydmljZT10aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1BST0JFKSl9fSxlLnByb3RvdHlwZS5fcGFyc2VDYW52YXNEaW1lbnNpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0SW1hZ2VzKCk7aWYodCYmdC5sZW5ndGgpe3ZhciBuPXRbMF0uZ2V0UmVzb3VyY2UoKTt0aGlzLndpZHRoPW4uZ2V0V2lkdGgoKSx0aGlzLmhlaWdodD1uLmdldEhlaWdodCgpfWVsc2UgaWYoKHQ9ZS5nZXRDb250ZW50KCkpLmxlbmd0aCl7dmFyIGk9dFswXS5nZXRCb2R5KCk7aS5sZW5ndGgmJih0aGlzLndpZHRoPWlbMF0uZ2V0V2lkdGgoKSx0aGlzLmhlaWdodD1pWzBdLmdldEhlaWdodCgpKX19LGUucHJvdG90eXBlLl9wYXJzZURlc2NyaXB0b3JEaW1lbnNpb25zPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUud2lkdGgmJih0aGlzLndpZHRoPWUud2lkdGgpLHZvaWQgMCE9PWUuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9ZS5oZWlnaHQpfSxlLnByb3RvdHlwZS5pc0FjY2Vzc0NvbnRyb2xsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2V8fHRoaXMubG9naW5TZXJ2aWNlfHx0aGlzLmV4dGVybmFsU2VydmljZXx8dGhpcy5raW9za1NlcnZpY2V8fHRoaXMucHJvYmVTZXJ2aWNlKX0sZS5wcm90b3R5cGUuaGFzU2VydmljZURlc2NyaXB0b3I9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZGF0YVVyaSYmdGhpcy5kYXRhVXJpLmVuZHNXaXRoKFwiaW5mby5qc29uXCIpfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHQuZGF0YT17fSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtpZih0LmRhdGFVcmkpaWYodC5wcm9iZVNlcnZpY2Upe3QuaXNQcm9iZWQ9ITA7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbihcIkdFVFwiLHQucHJvYmVTZXJ2aWNlLmlkLCEwKSxyLndpdGhDcmVkZW50aWFscz0hMCxyLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPUpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpO3VuZXNjYXBlKGUuY29udGVudExvY2F0aW9uKSE9PXQuZGF0YVVyaT90LnN0YXR1cz1JLk1PVkVEX1RFTVBPUkFSSUxZOnQuc3RhdHVzPUkuT0ssbih0KX0sci5vbmVycm9yPWZ1bmN0aW9uKCl7dC5zdGF0dXM9ci5zdGF0dXMsbih0KX0sci5zZW5kKCl9ZWxzZXt2YXIgbz1cIkdFVFwiO2lmKCF0Lmhhc1NlcnZpY2VEZXNjcmlwdG9yKCkpe2lmKCF0LmlzQWNjZXNzQ29udHJvbGxlZCgpKXJldHVybiB0LnN0YXR1cz1JLk9LLHZvaWQgbih0KTtvPVwiSEVBRFwifXZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdDthLm9wZW4obyx0LmRhdGFVcmksITApLGUmJmEuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIixcIkJlYXJlciBcIitlLmFjY2Vzc1Rva2VuKSxhLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPUpTT04ucGFyc2UoYS5yZXNwb25zZVRleHQpO2lmKGUpe3ZhciBpPXVuZXNjYXBlKGVbXCJAaWRcIl0pO3QuZGF0YT1lLHQuX3BhcnNlQXV0aFNlcnZpY2VzKHQuZGF0YSksdC5fcGFyc2VEZXNjcmlwdG9yRGltZW5zaW9ucyh0LmRhdGEpLGkuZW5kc1dpdGgoXCIvaW5mby5qc29uXCIpJiYoaT1pLnN1YnN0cigwLGkubGFzdEluZGV4T2YoXCIvXCIpKSk7dmFyIHI9dC5kYXRhVXJpO3ImJnIuZW5kc1dpdGgoXCIvaW5mby5qc29uXCIpJiYocj1yLnN1YnN0cigwLHIubGFzdEluZGV4T2YoXCIvXCIpKSksaSE9PXImJnQubG9naW5TZXJ2aWNlP3Quc3RhdHVzPUkuTU9WRURfVEVNUE9SQVJJTFk6dC5zdGF0dXM9SS5PSyxuKHQpfWVsc2UgdC5zdGF0dXM9SS5PSyxuKHQpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXt0LnN0YXR1cz1hLnN0YXR1cyxhLnJlc3BvbnNlVGV4dCYmdC5fcGFyc2VBdXRoU2VydmljZXMoSlNPTi5wYXJzZShhLnJlc3BvbnNlVGV4dCkpLG4odCl9LGEuc2VuZCgpfWVsc2UgaShcIlRoZXJlIGlzIG5vIGRhdGFVcmkgdG8gZmV0Y2hcIil9KSl9LGV9KCksTj1mdW5jdGlvbigpe30sbT1mdW5jdGlvbigpe30sTD1mdW5jdGlvbihlLHQpe3RoaXMudmFsdWU9ZSx0aGlzLmxvY2FsZT10fSxBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxhYmVscz1lfXJldHVybiBlLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPWUuaW5kZXhPZihcIjxhXCIpP2U6JzxhIGhyZWY9XCInK2UrJ1wiPicrKHRoaXMubGFiZWxzW2VdP3RoaXMubGFiZWxzW2VdOmUpK1wiPC9hPlwifSxlfSgpO24uZCh0LFwibG9hZE1hbmlmZXN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksbi5kKHQsXCJBbm5vdGF0aW9uR3JvdXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCxcIkFubm90YXRpb25SZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsXCJCb290c3RyYXBwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQodCxcIkV4dGVybmFsUmVzb3VyY2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCxcIkhlbHBlclwiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZCh0LFwiSUxhYmVsVmFsdWVQYWlyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKHQsXCJNZXRhZGF0YUdyb3VwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKHQsXCJNZXRhZGF0YU9wdGlvbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxuLmQodCxcIk11bHRpU2VsZWN0U3RhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCxcIlRyYW5zbGF0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksbi5kKHQsXCJUcmVlU29ydFR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCxcIlVyaUxhYmVsbGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIFM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBUKGUpLmJvb3RzdHJhcCgpfX1dKX0pKTsiLCJpbXBvcnQgeyBBbm5vdGF0aW9uUmVjdCB9IGZyb20gXCIuL0Fubm90YXRpb25SZWN0XCI7XHJcbnZhciBBbm5vdGF0aW9uR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBbm5vdGF0aW9uR3JvdXAocmVzb3VyY2UsIGNhbnZhc0luZGV4KSB7XHJcbiAgICAgICAgdGhpcy5yZWN0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FudmFzSW5kZXggPSBjYW52YXNJbmRleDtcclxuICAgICAgICB0aGlzLmFkZFJlY3QocmVzb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgQW5ub3RhdGlvbkdyb3VwLnByb3RvdHlwZS5hZGRSZWN0ID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBuZXcgQW5ub3RhdGlvblJlY3QocmVzb3VyY2UpO1xyXG4gICAgICAgIHJlY3QuY2FudmFzSW5kZXggPSB0aGlzLmNhbnZhc0luZGV4O1xyXG4gICAgICAgIHJlY3QuaW5kZXggPSB0aGlzLnJlY3RzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLnJlY3RzLnB1c2gocmVjdCk7XHJcbiAgICAgICAgLy8gc29ydCBhc2NlbmRpbmdcclxuICAgICAgICB0aGlzLnJlY3RzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbm5vdGF0aW9uR3JvdXA7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEFubm90YXRpb25Hcm91cCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm5vdGF0aW9uR3JvdXAuanMubWFwIiwidmFyIEFubm90YXRpb25SZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQW5ub3RhdGlvblJlY3QocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHZhciB4eXdoID0gcmVzdWx0Lm9uLm1hdGNoKC8uKnh5d2g9KFxcZCopLChcXGQqKSwoXFxkKiksKFxcZCopLyk7XHJcbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHh5d2hbMV0pO1xyXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih4eXdoWzJdKTtcclxuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHh5d2hbM10pO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKHh5d2hbNF0pO1xyXG4gICAgICAgIHRoaXMuY2hhcnMgPSByZXN1bHQucmVzb3VyY2UuY2hhcnM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQW5ub3RhdGlvblJlY3Q7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEFubm90YXRpb25SZWN0IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFubm90YXRpb25SZWN0LmpzLm1hcCIsImltcG9ydCB7IEhlbHBlciB9IGZyb20gXCIuL0hlbHBlclwiO1xyXG5pbXBvcnQgeyBJSUlGUmVzb3VyY2VUeXBlIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnlcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwibWFuaWZlc3RvLmpzXCI7XHJcbnZhciBCb290c3RyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCb290c3RyYXBwZXIob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMubG9jYWxlID0gdGhpcy5fb3B0aW9ucy5sb2NhbGUgfHwgJ2VuLUdCJzsgLy8gZGVmYXVsdCBsb2NhbGVcclxuICAgIH1cclxuICAgIEJvb3RzdHJhcHBlci5wcm90b3R5cGUuYm9vdHN0cmFwID0gZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSByZWN1cnNpdmUgYm9vdHN0cmFwIHdlIHdpbGwgaGF2ZSBleGlzdGluZyByZXNvbHZlICYgcmVqZWN0IG1ldGhvZHMuXHJcbiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gcmVqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFV0aWxzLmxvYWRNYW5pZmVzdCh0aGF0Ll9vcHRpb25zLm1hbmlmZXN0VXJpKS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9sb2FkZWQodGhhdCwganNvbiwgcmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQm9vdHN0cmFwcGVyLnByb3RvdHlwZS5fbG9hZGVkID0gZnVuY3Rpb24gKGJvb3RzdHJhcHBlciwganNvbiwgcmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgdmFyIGlpaWZSZXNvdXJjZSA9IFV0aWxzLnBhcnNlTWFuaWZlc3QoanNvbiwge1xyXG4gICAgICAgICAgICBsb2NhbGU6IGJvb3RzdHJhcHBlci5fb3B0aW9ucy5sb2NhbGVcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaWlpZlJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgc2V0IHRoZSByb290IElJSUZSZXNvdXJjZSBvbiB0aGUgZmlyc3QgbG9hZFxyXG4gICAgICAgICAgICBpZiAoIWJvb3RzdHJhcHBlci5fb3B0aW9ucy5paWlmUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5paWlmUmVzb3VyY2UgPSBpaWlmUmVzb3VyY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25JbmRleCA9IGJvb3RzdHJhcHBlci5fb3B0aW9ucy5jb2xsZWN0aW9uSW5kZXg7IC8vIHRoaXMgaXMgZWl0aGVyIHVuZGVmaW5lZCwgMCwgb3IgYSBwb3NpdGl2ZSBudW1iZXIgKGRlZmF1bHRzIHRvIHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdmFyIG1hbmlmZXN0SW5kZXhfMSA9IGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdEluZGV4OyAvLyB0aGlzIGlzIGVpdGhlciAwIG9yIGEgcG9zaXRpdmUgbnVtYmVyIChkZWZhdWx0cyB0byAwKVxyXG4gICAgICAgICAgICBpZiAoaWlpZlJlc291cmNlLmdldElJSUZSZXNvdXJjZVR5cGUoKSA9PT0gSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCdzIGEgY29sbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hbmlmZXN0cyA9IGlpaWZSZXNvdXJjZS5nZXRNYW5pZmVzdHMoKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9ucyA9IGlpaWZSZXNvdXJjZS5nZXRDb2xsZWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG9ubHkgY29sbGVjdGlvbnMgYXZhaWxhYmxlLCBzZXQgdGhlIGNvbGxlY3Rpb25JbmRleCB0byAwIGlmIHVuZGVmaW5lZC5cclxuICAgICAgICAgICAgICAgIGlmICghbWFuaWZlc3RzLmxlbmd0aCAmJiBjb2xsZWN0aW9uSW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbkluZGV4ICE9PSB1bmRlZmluZWQgJiYgY29sbGVjdGlvbnMgJiYgY29sbGVjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBjb2xsZWN0aW9uSW5kZXggaGFzIGJlZW4gcGFzc2VkIGFuZCB3ZSBoYXZlIHN1YiBjb2xsZWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIGlpaWZSZXNvdXJjZS5nZXRDb2xsZWN0aW9uQnlJbmRleChjb2xsZWN0aW9uSW5kZXgpLnRoZW4oZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0NvbGxlY3Rpb24gaW5kZXggbm90IGZvdW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlOiB3ZSdyZSB0cnlpbmcgdG8gbG9hZCB0aGUgZmlyc3QgbWFuaWZlc3Qgb2YgdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmllZCBjb2xsZWN0aW9uLCBidXQgdGhlIGNvbGxlY3Rpb24gaGFzIG5vIG1hbmlmZXN0cyBidXQgZG9lcyBoYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN1YmNvbGxlY3Rpb25zLiBUaHVzLCB3ZSBzaG91bGQgZGl2ZSBpbiB1bnRpbCB3ZSBmaW5kIHNvbWV0aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gZGlzcGxheSFcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24uZ2V0VG90YWxNYW5pZmVzdHMoKSA9PT0gMCAmJiBtYW5pZmVzdEluZGV4XzEgPT09IDAgJiYgY29sbGVjdGlvbi5nZXRUb3RhbENvbGxlY3Rpb25zKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMuY29sbGVjdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdFVyaSA9IGNvbGxlY3Rpb24uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuYm9vdHN0cmFwKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobWFuaWZlc3RJbmRleF8xICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uZ2V0TWFuaWZlc3RCeUluZGV4KG1hbmlmZXN0SW5kZXhfMSkudGhlbihmdW5jdGlvbiAobWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3QgPSBtYW5pZmVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVscGVyID0gbmV3IEhlbHBlcihib290c3RyYXBwZXIuX29wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGVscGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpaWlmUmVzb3VyY2UuZ2V0TWFuaWZlc3RCeUluZGV4KGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdEluZGV4KS50aGVuKGZ1bmN0aW9uIChtYW5pZmVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3QgPSBtYW5pZmVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoYm9vdHN0cmFwcGVyLl9vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShoZWxwZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0ID0gaWlpZlJlc291cmNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoYm9vdHN0cmFwcGVyLl9vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoaGVscGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGxvYWQgSUlJRiByZXNvdXJjZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQm9vdHN0cmFwcGVyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBCb290c3RyYXBwZXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qm9vdHN0cmFwcGVyLmpzLm1hcCIsInZhciBFcnJvcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFcnJvcnMoKSB7XHJcbiAgICB9XHJcbiAgICBFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQgPSBcIk1hbmlmZXN0IGhhcyBub3QgbG9hZGVkIHlldFwiO1xyXG4gICAgcmV0dXJuIEVycm9ycztcclxufSgpKTtcclxuZXhwb3J0IHsgRXJyb3JzIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVycm9ycy5qcy5tYXAiLCJpbXBvcnQgeyBTZXJ2aWNlUHJvZmlsZSB9IGZyb20gXCJAaWlpZi92b2NhYnVsYXJ5XCI7XHJcbmltcG9ydCAqIGFzIEhUVFBTdGF0dXNDb2RlIGZyb20gXCJAZWRzaWx2L2h0dHAtc3RhdHVzLWNvZGVzXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIm1hbmlmZXN0by5qc1wiO1xyXG52YXIgRXh0ZXJuYWxSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV4dGVybmFsUmVzb3VyY2UoY2FudmFzLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5hdXRoSG9sZGluZ1BhZ2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5leHRlcm5hbFNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNQcm9iZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUmVzcG9uc2VIYW5kbGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5raW9za1NlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9naW5TZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJvYmVTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgY2FudmFzLmV4dGVybmFsUmVzb3VyY2UgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZGF0YVVyaSA9IHRoaXMuX2dldERhdGFVcmkoY2FudmFzKTtcclxuICAgICAgICB0aGlzLmluZGV4ID0gY2FudmFzLmluZGV4O1xyXG4gICAgICAgIHRoaXMuYXV0aEFQSVZlcnNpb24gPSBvcHRpb25zLmF1dGhBcGlWZXJzaW9uO1xyXG4gICAgICAgIHRoaXMuX3BhcnNlQXV0aFNlcnZpY2VzKGNhbnZhcyk7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBoZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBpbWFnZSByZXNvdXJjZSBpZiBhdmFpbGFibGVcclxuICAgICAgICB0aGlzLl9wYXJzZUNhbnZhc0RpbWVuc2lvbnMoY2FudmFzKTtcclxuICAgIH1cclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKHNlcnZpY2VzKSB7XHJcbiAgICAgICAgdmFyIGluZm9VcmkgPSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VydmljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSBzZXJ2aWNlc1tpXTtcclxuICAgICAgICAgICAgdmFyIGlkID0gc2VydmljZS5pZDtcclxuICAgICAgICAgICAgaWYgKCFpZC5lbmRzV2l0aCgnLycpKSB7XHJcbiAgICAgICAgICAgICAgICBpZCArPSAnLyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFV0aWxzLmlzSW1hZ2VQcm9maWxlKHNlcnZpY2UuZ2V0UHJvZmlsZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mb1VyaSA9IGlkICsgJ2luZm8uanNvbic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZm9Vcmk7XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuX2dldERhdGFVcmkgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBjYW52YXMuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgIHZhciBpbWFnZXMgPSBjYW52YXMuZ2V0SW1hZ2VzKCk7XHJcbiAgICAgICAgdmFyIGluZm9VcmkgPSBudWxsO1xyXG4gICAgICAgIC8vIHByZXNlbnRhdGlvbiAzXHJcbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBjb250ZW50WzBdO1xyXG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbkJvZHkgPSBhbm5vdGF0aW9uLmdldEJvZHkoKTtcclxuICAgICAgICAgICAgaWYgKGFubm90YXRpb25Cb2R5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhbm5vdGF0aW9uQm9keVswXTtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlcyA9IGJvZHkuZ2V0U2VydmljZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvVXJpID0gdGhpcy5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvcihzZXJ2aWNlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9VcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZm9Vcmk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbm8gaW1hZ2Ugc2VydmljZXMuIHJldHVybiB0aGUgaW1hZ2UgaWRcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9uQm9keVswXS5pZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW1hZ2VzICYmIGltYWdlcy5sZW5ndGgpIHsgLy8gcHJlc2VudGF0aW9uIDJcclxuICAgICAgICAgICAgdmFyIGZpcnN0SW1hZ2UgPSBpbWFnZXNbMF07XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IGZpcnN0SW1hZ2UuZ2V0UmVzb3VyY2UoKTtcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2VzID0gcmVzb3VyY2UuZ2V0U2VydmljZXMoKTtcclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaW5mb1VyaSA9IHRoaXMuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3Ioc2VydmljZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9VcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5mb1VyaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBubyBpbWFnZSBzZXJ2aWNlcy4gcmV0dXJuIHRoZSBpbWFnZSBpZFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBMZWdhY3kgSXhJRlxyXG4gICAgICAgICAgICB2YXIgc2VydmljZSA9IGNhbnZhcy5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLklYSUYpO1xyXG4gICAgICAgICAgICBpZiAoc2VydmljZSkgeyAvLyB0b2RvOiBkZXByZWNhdGVcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmdldEluZm9VcmkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGNhbnZhcyBpZC5cclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcy5pZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuX3BhcnNlQXV0aFNlcnZpY2VzID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0aEFQSVZlcnNpb24gPT09IDAuOSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfQ0xJQ0tfVEhST1VHSCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9naW5TZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8wX0xPR0lOKTtcclxuICAgICAgICAgICAgdGhpcy5yZXN0cmljdGVkU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMF9SRVNUUklDVEVEKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9UT0tFTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5sb2dpblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX1RPS0VOKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMucmVzdHJpY3RlZFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfVE9LRU4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBhdXRoIDFcclxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlc291cmNlIGlzIGEgY2FudmFzLCBub3QgYW4gaW5mby5qc29uLCBsb29rIGZvciBhdXRoIHNlcnZpY2VzIG9uIGl0cyBjb250ZW50LlxyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuaXNDYW52YXMgIT09IHVuZGVmaW5lZCAmJiByZXNvdXJjZS5pc0NhbnZhcygpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IHJlc291cmNlLmdldENvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBjb250ZW50WzBdLmdldEJvZHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9keSAmJiBib2R5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGJvZHlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gYW5ub3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8xX0NMSUNLX1RIUk9VR0gpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2luU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMV9MT0dJTik7XHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8xX0VYVEVSTkFMKTtcclxuICAgICAgICAgICAgdGhpcy5raW9za1NlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfS0lPU0spO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvYmVTZXJ2aWNlID0gdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1BST0JFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxvZ2luU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9iZVNlcnZpY2UgPSB0aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9QUk9CRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5leHRlcm5hbFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvYmVTZXJ2aWNlID0gdGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfUFJPQkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMua2lvc2tTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlU2VydmljZSA9IHRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1BST0JFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5fcGFyc2VDYW52YXNEaW1lbnNpb25zID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgIHZhciBpbWFnZXMgPSBjYW52YXMuZ2V0SW1hZ2VzKCk7XHJcbiAgICAgICAgaWYgKGltYWdlcyAmJiBpbWFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdEltYWdlID0gaW1hZ2VzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBmaXJzdEltYWdlLmdldFJlc291cmNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSByZXNvdXJjZS5nZXRXaWR0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlc291cmNlLmdldEhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcHJlc2VudGF0aW9uIDNcclxuICAgICAgICAgICAgaW1hZ2VzID0gY2FudmFzLmdldENvbnRlbnQoKTtcclxuICAgICAgICAgICAgaWYgKGltYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uID0gaW1hZ2VzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhbm5vdGF0aW9uLmdldEJvZHkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChib2R5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSBib2R5WzBdLmdldFdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBib2R5WzBdLmdldEhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLl9wYXJzZURlc2NyaXB0b3JEaW1lbnNpb25zID0gZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHtcclxuICAgICAgICBpZiAoZGVzY3JpcHRvci53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBkZXNjcmlwdG9yLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVzY3JpcHRvci5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGRlc2NyaXB0b3IuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5pc0FjY2Vzc0NvbnRyb2xsZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSB8fCB0aGlzLmxvZ2luU2VydmljZSB8fCB0aGlzLmV4dGVybmFsU2VydmljZSB8fCB0aGlzLmtpb3NrU2VydmljZSB8fCB0aGlzLnByb2JlU2VydmljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLmhhc1NlcnZpY2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFVcmkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVVyaS5lbmRzV2l0aCgnaW5mby5qc29uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHRoYXQuZGF0YSA9IHt9O1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhhdC5kYXRhVXJpKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoJ1RoZXJlIGlzIG5vIGRhdGFVcmkgdG8gZmV0Y2gnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVzb3VyY2UgaGFzIGEgcHJvYmUgc2VydmljZSwgdXNlIHRoYXQgdG8gZ2V0IGh0dHAgc3RhdHVzIGNvZGVcclxuICAgICAgICAgICAgaWYgKHRoYXQucHJvYmVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmlzUHJvYmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIGxlYXZpbmcgdGhpcyBpbiBmb3IgcmVmZXJlbmNlIHVudGlsIHRoZSBYSFIgdmVyc2lvbiBpcyBmdWxseSB0ZXN0ZWRcclxuICAgICAgICAgICAgICAgIC8vICQuYWpheCg8SlF1ZXJ5QWpheFNldHRpbmdzPntcclxuICAgICAgICAgICAgICAgIC8vICAgICB1cmw6IHRoYXQucHJvYmVTZXJ2aWNlLmlkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgYmVmb3JlU2VuZDogKHhocikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIGFjY2Vzc1Rva2VuLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pLmRvbmUoKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxldCBjb250ZW50TG9jYXRpb246IHN0cmluZyA9IHVuZXNjYXBlKGRhdGEuY29udGVudExvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoY29udGVudExvY2F0aW9uICE9PSB0aGF0LmRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5NT1ZFRF9URU1QT1JBUklMWTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSkuZmFpbCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGF0LnN0YXR1cyA9IGVycm9yLnN0YXR1cztcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGF0LmVycm9yID0gZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8geGhyIGltcGxlbWVudGF0aW9uXHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyXzEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgIHhocl8xLm9wZW4oJ0dFVCcsIHRoYXQucHJvYmVTZXJ2aWNlLmlkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHhocl8xLndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB4aHJfMS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhocl8xLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRMb2NhdGlvbiA9IHVuZXNjYXBlKGRhdGEuY29udGVudExvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudExvY2F0aW9uICE9PSB0aGF0LmRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5NT1ZFRF9URU1QT1JBUklMWTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyXzEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IHhocl8xLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhocl8xLnNlbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGRhdGFVcmkgZW5kcyB3aXRoIGluZm8uanNvblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgbm90IGlzc3VlIGEgSEVBRCByZXF1ZXN0LlxyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSAnR0VUJztcclxuICAgICAgICAgICAgICAgIGlmICghdGhhdC5oYXNTZXJ2aWNlRGVzY3JpcHRvcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYWNjZXNzIGNvbnRyb2wgaXMgdW5uZWNlc3NhcnksIHNob3J0IGNpcmN1aXQgdGhlIHByb2Nlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGlzQWNjZXNzQ29udHJvbGxlZCBjaGVjayBmb3Igc2hvcnQtY2lyY3VpdGluZyBvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd29ya3MgaW4gdGhlIFwiYmluYXJ5IHJlc291cmNlXCIgY29udGV4dCwgc2luY2UgaW4gdGhhdCBjYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgYWJvdXQgYWNjZXNzIGNvbnRyb2wgZnJvbSB0aGUgbWFuaWZlc3QuIEZvciBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc291cmNlcywgd2UgbmVlZCB0byBjaGVjayBpbmZvLmpzb24gZm9yIGRldGFpbHMgYW5kIGNhbid0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBsaWtlIHRoaXMuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LmlzQWNjZXNzQ29udHJvbGxlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdIRUFEJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGxlYXZpbmcgdGhpcyBpbiBmb3IgcmVmZXJlbmNlIHVudGlsIHRoZSBYSFIgdmVyc2lvbiBpcyBmdWxseSB0ZXN0ZWRcclxuICAgICAgICAgICAgICAgIC8vICQuYWpheCg8SlF1ZXJ5QWpheFNldHRpbmdzPntcclxuICAgICAgICAgICAgICAgIC8vICAgICB1cmw6IHRoYXQuZGF0YVVyaSxcclxuICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgYmVmb3JlU2VuZDogKHhocikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIGFjY2Vzc1Rva2VuLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pLmRvbmUoKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIGlmIGl0J3MgYSByZXNvdXJjZSB3aXRob3V0IGFuIGluZm8uanNvblxyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRvZG86IGlmIHJlc291cmNlIGRvZXNuJ3QgaGF2ZSBhIEBwcm9maWxlXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IHVyaTogc3RyaW5nID0gdW5lc2NhcGUoZGF0YVsnQGlkJ10pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0Ll9wYXJzZUF1dGhTZXJ2aWNlcyh0aGF0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgL2luZm8uanNvblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAodXJpLmVuZHNXaXRoKCcvaW5mby5qc29uJykpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdXJpID0gdXJpLnN1YnN0cigwLCB1cmkubGFzdEluZGV4T2YoJy8nKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IGRhdGFVcmk6IHN0cmluZyB8IG51bGwgPSB0aGF0LmRhdGFVcmk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChkYXRhVXJpICYmIGRhdGFVcmkuZW5kc1dpdGgoJy9pbmZvLmpzb24nKSl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBkYXRhVXJpID0gZGF0YVVyaS5zdWJzdHIoMCwgZGF0YVVyaS5sYXN0SW5kZXhPZignLycpKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCB3YXMgcmVkaXJlY3RlZCB0byBhIGRlZ3JhZGVkIHZlcnNpb24gYW5kIHRoZXJlJ3MgYSBsb2dpbiBzZXJ2aWNlIHRvIGdldCB0aGUgZnVsbCBxdWFsaXR5IHZlcnNpb25cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHVyaSAhPT0gZGF0YVVyaSAmJiB0aGF0LmxvZ2luU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5NT1ZFRF9URU1QT1JBUklMWTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9KS5mYWlsKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoYXQuc3RhdHVzID0gZXJyb3Iuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoYXQuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZXJyb3IucmVzcG9uc2VKU09OKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5fcGFyc2VBdXRoU2VydmljZXMoZXJyb3IucmVzcG9uc2VKU09OKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8geGhyIGltcGxlbWVudGF0aW9uXHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyXzIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgIHhocl8yLm9wZW4odHlwZSwgdGhhdC5kYXRhVXJpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIC8veGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHJfMi5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIGFjY2Vzc1Rva2VuLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHhocl8yLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoeGhyXzIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIGEgcmVzb3VyY2Ugd2l0aG91dCBhbiBpbmZvLmpzb25cclxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvOiBpZiByZXNvdXJjZSBkb2Vzbid0IGhhdmUgYSBAcHJvZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVyaSA9IHVuZXNjYXBlKGRhdGFbJ0BpZCddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fcGFyc2VBdXRoU2VydmljZXModGhhdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fcGFyc2VEZXNjcmlwdG9yRGltZW5zaW9ucyh0aGF0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgL2luZm8uanNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJpLmVuZHNXaXRoKCcvaW5mby5qc29uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaSA9IHVyaS5zdWJzdHIoMCwgdXJpLmxhc3RJbmRleE9mKCcvJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhVXJpID0gdGhhdC5kYXRhVXJpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVVyaSAmJiBkYXRhVXJpLmVuZHNXaXRoKCcvaW5mby5qc29uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFVcmkgPSBkYXRhVXJpLnN1YnN0cigwLCBkYXRhVXJpLmxhc3RJbmRleE9mKCcvJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSByZXF1ZXN0IHdhcyByZWRpcmVjdGVkIHRvIGEgZGVncmFkZWQgdmVyc2lvbiBhbmQgdGhlcmUncyBhIGxvZ2luIHNlcnZpY2UgdG8gZ2V0IHRoZSBmdWxsIHF1YWxpdHkgdmVyc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJpICE9PSBkYXRhVXJpICYmIHRoYXQubG9naW5TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk1PVkVEX1RFTVBPUkFSSUxZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHJfMi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0geGhyXzIuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHJfMi5yZXNwb25zZVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fcGFyc2VBdXRoU2VydmljZXMoSlNPTi5wYXJzZSh4aHJfMi5yZXNwb25zZVRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHJfMi5zZW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXh0ZXJuYWxSZXNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0IHsgRXh0ZXJuYWxSZXNvdXJjZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRlcm5hbFJlc291cmNlLmpzLm1hcCIsImltcG9ydCB7IE11bHRpU2VsZWN0U3RhdGUgfSBmcm9tIFwiLi9NdWx0aVNlbGVjdFN0YXRlXCI7XHJcbmltcG9ydCB7IE1ldGFkYXRhR3JvdXAgfSBmcm9tIFwiLi9NZXRhZGF0YUdyb3VwXCI7XHJcbmltcG9ydCB7IFRyZWVTb3J0VHlwZSB9IGZyb20gXCIuL1RyZWVTb3J0VHlwZVwiO1xyXG5pbXBvcnQgeyBTZXJ2aWNlUHJvZmlsZSwgVmlld2luZ0hpbnQsIFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tIFwiQGlpaWYvdm9jYWJ1bGFyeVwiO1xyXG5pbXBvcnQgeyBFcnJvcnMgfSBmcm9tIFwiLi9FcnJvcnNcIjtcclxuaW1wb3J0IHsgTGFiZWxWYWx1ZVBhaXIsIExhbmd1YWdlLCBMYW5ndWFnZU1hcCwgTWFuaWZlc3RUeXBlLCBUcmVlTm9kZSwgVHJlZU5vZGVUeXBlLCBVdGlscyB9IGZyb20gXCJtYW5pZmVzdG8uanNcIjtcclxudmFyIEhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEhlbHBlcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLmlpaWZSZXNvdXJjZSA9IHRoaXMub3B0aW9ucy5paWlmUmVzb3VyY2U7XHJcbiAgICAgICAgdGhpcy5tYW5pZmVzdFVyaSA9IHRoaXMub3B0aW9ucy5tYW5pZmVzdFVyaTtcclxuICAgICAgICB0aGlzLm1hbmlmZXN0ID0gdGhpcy5vcHRpb25zLm1hbmlmZXN0O1xyXG4gICAgICAgIHRoaXMuY29sbGVjdGlvbkluZGV4ID0gdGhpcy5vcHRpb25zLmNvbGxlY3Rpb25JbmRleCB8fCAwO1xyXG4gICAgICAgIHRoaXMubWFuaWZlc3RJbmRleCA9IHRoaXMub3B0aW9ucy5tYW5pZmVzdEluZGV4IHx8IDA7XHJcbiAgICAgICAgdGhpcy5zZXF1ZW5jZUluZGV4ID0gdGhpcy5vcHRpb25zLnNlcXVlbmNlSW5kZXggfHwgMDtcclxuICAgICAgICB0aGlzLmNhbnZhc0luZGV4ID0gdGhpcy5vcHRpb25zLmNhbnZhc0luZGV4IHx8IDA7XHJcbiAgICB9XHJcbiAgICAvLyBnZXR0ZXJzIC8vXHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEF1dG9Db21wbGV0ZVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzLmdldFNlYXJjaFNlcnZpY2UoKTtcclxuICAgICAgICB2YXIgYXV0b0NvbXBsZXRlU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHNlcnZpY2UpIHtcclxuICAgICAgICAgICAgYXV0b0NvbXBsZXRlU2VydmljZSA9IHNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFKTtcclxuICAgICAgICAgICAgaWYgKCFhdXRvQ29tcGxldGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGVTZXJ2aWNlID0gc2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlNFQVJDSF8xX0FVVE9fQ09NUExFVEUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhdXRvQ29tcGxldGVTZXJ2aWNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXR0cmlidXRpb24gPSB0aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCk7XHJcbiAgICAgICAgaWYgKGF0dHJpYnV0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5nZXRWYWx1ZShhdHRyaWJ1dGlvbiwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzZXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUlkKGlkKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc2VzQnlJZCA9IGZ1bmN0aW9uIChpZHMpIHtcclxuICAgICAgICB2YXIgY2FudmFzZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhc0J5SWQoaWQpO1xyXG4gICAgICAgICAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXNlcy5wdXNoKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhc2VzO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SW5kZXgoaW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzSW5kZXhCeUlkKGlkKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlMYWJlbCA9IGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgICAgIHZhciBmb2xpYXRlZCA9IHRoaXMuZ2V0TWFuaWZlc3RUeXBlKCkgPT09IE1hbmlmZXN0VHlwZS5NQU5VU0NSSVBUO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0luZGV4QnlMYWJlbChsYWJlbCwgZm9saWF0ZWQpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzUmFuZ2UgPSBmdW5jdGlvbiAoY2FudmFzLCBwYXRoKSB7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZ2V0Q2FudmFzUmFuZ2VzKGNhbnZhcyk7XHJcbiAgICAgICAgaWYgKHBhdGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5wYXRoID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlc1swXTsgLy8gZWxzZSByZXR1cm4gdGhlIGZpcnN0IHJhbmdlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzUmFuZ2VzID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbnZhcy5yYW5nZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcy5yYW5nZXM7IC8vIGNhY2hlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0b2RvOiB3cml0ZSB0ZXN0XHJcbiAgICAgICAgICAgIGNhbnZhcy5yYW5nZXMgPSB0aGlzLm1hbmlmZXN0LmdldEFsbFJhbmdlcygpLmZpbHRlcihmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIChyYW5nZS5nZXRDYW52YXNJZHMoKS5zb21lKGZ1bmN0aW9uIChjaWQpIHsgcmV0dXJuIFV0aWxzLm5vcm1hbGlzZVVybChjaWQpID09PSBVdGlscy5ub3JtYWxpc2VVcmwoY2FudmFzLmlkKTsgfSkpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5yYW5nZXM7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uSW5kZXggPSBmdW5jdGlvbiAoaWlpZlJlc291cmNlKSB7XHJcbiAgICAgICAgLy8gdG9kbzogdGhpcyBvbmx5IHdvcmtzIGZvciBjb2xsZWN0aW9ucyBuZXN0ZWQgb25lIGxldmVsIGRlZXBcclxuICAgICAgICBpZiAoaWlpZlJlc291cmNlLnBhcmVudENvbGxlY3Rpb24gJiYgIWlpaWZSZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uLnBhcmVudENvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gbWFuaWZlc3QgbXVzdCBiZSBpbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpaWlmUmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gaWlpZlJlc291cmNlLnBhcmVudENvbGxlY3Rpb24uaW5kZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDdXJyZW50Q2FudmFzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SW5kZXgodGhpcy5jYW52YXNJbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDdXJyZW50U2VxdWVuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VCeUluZGV4KHRoaXMuc2VxdWVuY2VJbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKTtcclxuICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIExhbmd1YWdlTWFwLmdldFZhbHVlKGRlc2NyaXB0aW9uLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYWJlbCA9IHRoaXMubWFuaWZlc3QuZ2V0TGFiZWwoKTtcclxuICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIExhbmd1YWdlTWFwLmdldFZhbHVlKGxhYmVsLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRMYXN0Q2FudmFzTGFiZWwgPSBmdW5jdGlvbiAoYWxwaGFudW1lcmljKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0TGFzdENhbnZhc0xhYmVsKGFscGhhbnVtZXJpYyk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRGaXJzdFBhZ2VJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gMDsgLy8gd2h5IGlzIHRoaXMgbmVlZGVkP1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCkgLSAxO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TGljZW5zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldExpY2Vuc2UoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldExvZ28gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRMb2dvKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWFuaWZlc3RUeXBlID0gdGhpcy5tYW5pZmVzdC5nZXRNYW5pZmVzdFR5cGUoKTtcclxuICAgICAgICAvLyBkZWZhdWx0IHRvIG1vbm9ncmFwaFxyXG4gICAgICAgIGlmIChtYW5pZmVzdFR5cGUgPT09IE1hbmlmZXN0VHlwZS5FTVBUWSkge1xyXG4gICAgICAgICAgICBtYW5pZmVzdFR5cGUgPSBNYW5pZmVzdFR5cGUuTU9OT0dSQVBIO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFuaWZlc3RUeXBlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TWV0YWRhdGEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1ldGFkYXRhR3JvdXBzID0gW107XHJcbiAgICAgICAgdmFyIG1hbmlmZXN0TWV0YWRhdGEgPSB0aGlzLm1hbmlmZXN0LmdldE1ldGFkYXRhKCk7XHJcbiAgICAgICAgdmFyIG1hbmlmZXN0R3JvdXAgPSBuZXcgTWV0YWRhdGFHcm91cCh0aGlzLm1hbmlmZXN0KTtcclxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5vcHRpb25zLmxvY2FsZTsgLy8gdGhpcyB3aWxsIGFsd2F5cyBkZWZhdWx0IHRvIGVuLUdCXHJcbiAgICAgICAgaWYgKG1hbmlmZXN0TWV0YWRhdGEgJiYgbWFuaWZlc3RNZXRhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbWFuaWZlc3RHcm91cC5hZGRNZXRhZGF0YShtYW5pZmVzdE1ldGFkYXRhLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhSXRlbSA9IG5ldyBMYWJlbFZhbHVlUGFpcihsb2NhbGUpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0ubGFiZWwgPSBbbmV3IExhbmd1YWdlKFwiZGVzY3JpcHRpb25cIiwgbG9jYWxlKV07XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS52YWx1ZSA9IHRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmlzUm9vdExldmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgbWFuaWZlc3RHcm91cC5hZGRJdGVtKG1ldGFkYXRhSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YUl0ZW0gPSBuZXcgTGFiZWxWYWx1ZVBhaXIobG9jYWxlKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmxhYmVsID0gW25ldyBMYW5ndWFnZShcImF0dHJpYnV0aW9uXCIsIGxvY2FsZSldO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0udmFsdWUgPSB0aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5pc1Jvb3RMZXZlbCA9IHRydWU7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0R3JvdXAuYWRkSXRlbShtZXRhZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGljZW5zZSA9IHRoaXMubWFuaWZlc3QuZ2V0TGljZW5zZSgpO1xyXG4gICAgICAgIGlmIChsaWNlbnNlKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwibGljZW5zZVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IChvcHRpb25zICYmIG9wdGlvbnMubGljZW5zZUZvcm1hdHRlcikgPyBvcHRpb25zLmxpY2Vuc2VGb3JtYXR0ZXIuZm9ybWF0KGxpY2Vuc2UpIDogbGljZW5zZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFJdGVtID0gbmV3IExhYmVsVmFsdWVQYWlyKGxvY2FsZSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5wYXJzZShpdGVtKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmlzUm9vdExldmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgbWFuaWZlc3RHcm91cC5hZGRJdGVtKG1ldGFkYXRhSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1hbmlmZXN0LmdldExvZ28oKSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcImxvZ29cIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAnPGltZyBzcmM9XCInICsgdGhpcy5tYW5pZmVzdC5nZXRMb2dvKCkgKyAnXCIvPidcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhSXRlbSA9IG5ldyBMYWJlbFZhbHVlUGFpcihsb2NhbGUpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0ucGFyc2UoaXRlbSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5pc1Jvb3RMZXZlbCA9IHRydWU7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0R3JvdXAuYWRkSXRlbShtZXRhZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXRhZGF0YUdyb3Vwcy5wdXNoKG1hbmlmZXN0R3JvdXApO1xyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZU1ldGFkYXRhT3B0aW9ucyhvcHRpb25zLCBtZXRhZGF0YUdyb3Vwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFHcm91cHM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVxdWlyZWRTdGF0ZW1lbnQgPSB0aGlzLm1hbmlmZXN0LmdldFJlcXVpcmVkU3RhdGVtZW50KCk7XHJcbiAgICAgICAgaWYgKHJlcXVpcmVkU3RhdGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogcmVxdWlyZWRTdGF0ZW1lbnQuZ2V0TGFiZWwoKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXF1aXJlZFN0YXRlbWVudC5nZXRWYWx1ZSgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuX3BhcnNlTWV0YWRhdGFPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMsIG1ldGFkYXRhR3JvdXBzKSB7XHJcbiAgICAgICAgLy8gZ2V0IHNlcXVlbmNlIG1ldGFkYXRhXHJcbiAgICAgICAgdmFyIHNlcXVlbmNlID0gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKTtcclxuICAgICAgICB2YXIgc2VxdWVuY2VNZXRhZGF0YSA9IHNlcXVlbmNlLmdldE1ldGFkYXRhKCk7XHJcbiAgICAgICAgaWYgKHNlcXVlbmNlTWV0YWRhdGEgJiYgc2VxdWVuY2VNZXRhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcXVlbmNlR3JvdXAgPSBuZXcgTWV0YWRhdGFHcm91cChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgIHNlcXVlbmNlR3JvdXAuYWRkTWV0YWRhdGEoc2VxdWVuY2VNZXRhZGF0YSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhR3JvdXBzLnB1c2goc2VxdWVuY2VHcm91cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGdldCByYW5nZSBtZXRhZGF0YVxyXG4gICAgICAgIGlmIChvcHRpb25zLnJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZUdyb3VwcyA9IHRoaXMuX2dldFJhbmdlTWV0YWRhdGEoW10sIG9wdGlvbnMucmFuZ2UpO1xyXG4gICAgICAgICAgICByYW5nZUdyb3VwcyA9IHJhbmdlR3JvdXBzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFHcm91cHMgPSBtZXRhZGF0YUdyb3Vwcy5jb25jYXQocmFuZ2VHcm91cHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBnZXQgY2FudmFzIG1ldGFkYXRhXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY2FudmFzZXMgJiYgb3B0aW9ucy5jYW52YXNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmNhbnZhc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gb3B0aW9ucy5jYW52YXNlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBjYW52YXNNZXRhZGF0YSA9IGNhbnZhcy5nZXRNZXRhZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhc01ldGFkYXRhICYmIGNhbnZhc01ldGFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXNHcm91cCA9IG5ldyBNZXRhZGF0YUdyb3VwKGNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzR3JvdXAuYWRkTWV0YWRhdGEoY2FudmFzLmdldE1ldGFkYXRhKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhR3JvdXBzLnB1c2goY2FudmFzR3JvdXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGltYWdlIG1ldGFkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VzID0gY2FudmFzLmdldEltYWdlcygpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbWFnZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlTWV0YWRhdGEgPSBpbWFnZS5nZXRNZXRhZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZU1ldGFkYXRhICYmIGltYWdlTWV0YWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUdyb3VwID0gbmV3IE1ldGFkYXRhR3JvdXAoaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUdyb3VwLmFkZE1ldGFkYXRhKGltYWdlTWV0YWRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YUdyb3Vwcy5wdXNoKGltYWdlR3JvdXApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWV0YWRhdGFHcm91cHM7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5fZ2V0UmFuZ2VNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YUdyb3VwcywgcmFuZ2UpIHtcclxuICAgICAgICB2YXIgcmFuZ2VNZXRhZGF0YSA9IHJhbmdlLmdldE1ldGFkYXRhKCk7XHJcbiAgICAgICAgaWYgKHJhbmdlTWV0YWRhdGEgJiYgcmFuZ2VNZXRhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlR3JvdXAgPSBuZXcgTWV0YWRhdGFHcm91cChyYW5nZSk7XHJcbiAgICAgICAgICAgIHJhbmdlR3JvdXAuYWRkTWV0YWRhdGEocmFuZ2VNZXRhZGF0YSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhR3JvdXBzLnB1c2gocmFuZ2VHcm91cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJhbmdlLnBhcmVudFJhbmdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRSYW5nZU1ldGFkYXRhKG1ldGFkYXRhR3JvdXBzLCByYW5nZS5wYXJlbnRSYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXRhZGF0YUdyb3VwcztcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE11bHRpU2VsZWN0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tdWx0aVNlbGVjdFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX211bHRpU2VsZWN0U3RhdGUgPSBuZXcgTXVsdGlTZWxlY3RTdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9tdWx0aVNlbGVjdFN0YXRlLnJhbmdlcyA9IHRoaXMuZ2V0UmFuZ2VzKCkuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuX211bHRpU2VsZWN0U3RhdGUuY2FudmFzZXMgPSB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc2VzKCkuc2xpY2UoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9tdWx0aVNlbGVjdFN0YXRlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q3VycmVudFJhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJhbmdlSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2VCeUlkKHRoaXMucmFuZ2VJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UG9zdGVyQ2FudmFzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UG9zdGVyQ2FudmFzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRQb3N0ZXJJbWFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcG9zdGVyQ2FudmFzID0gdGhpcy5nZXRQb3N0ZXJDYW52YXMoKTtcclxuICAgICAgICBpZiAocG9zdGVyQ2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcG9zdGVyQ2FudmFzLmdldENvbnRlbnQoKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbm5vID0gY29udGVudFswXTtcclxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYW5uby5nZXRCb2R5KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keVswXS5pZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFByZXZpb3VzUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcclxuICAgICAgICB2YXIgY3VycmVudFJhbmdlID0gbnVsbDtcclxuICAgICAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICAgICAgY3VycmVudFJhbmdlID0gcmFuZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50UmFuZ2UgPSB0aGlzLmdldEN1cnJlbnRSYW5nZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudFJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciBmbGF0VHJlZSA9IHRoaXMuZ2V0RmxhdHRlbmVkVHJlZSgpO1xyXG4gICAgICAgICAgICBpZiAoZmxhdFRyZWUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmxhdFRyZWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGZsYXRUcmVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgY3VycmVudCByYW5nZSBpbiBmbGF0dGVuZWQgdHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuZGF0YS5pZCA9PT0gY3VycmVudFJhbmdlLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGZpcnN0IG5vZGUgYmVmb3JlIGl0IHRoYXQgaGFzIGNhbnZhc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZOb2RlID0gZmxhdFRyZWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldk5vZGUuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXROZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcclxuICAgICAgICAvLyBpZiBhIHJhbmdlIGlzIHBhc3NlZCwgdXNlIHRoYXQuIG90aGVyd2lzZSBnZXQgdGhlIGN1cnJlbnQgcmFuZ2UuXHJcbiAgICAgICAgdmFyIGN1cnJlbnRSYW5nZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRSYW5nZSA9IHJhbmdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudFJhbmdlID0gdGhpcy5nZXRDdXJyZW50UmFuZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRSYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgZmxhdFRyZWUgPSB0aGlzLmdldEZsYXR0ZW5lZFRyZWUoKTtcclxuICAgICAgICAgICAgaWYgKGZsYXRUcmVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZsYXRUcmVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBmbGF0VHJlZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGN1cnJlbnQgcmFuZ2UgaW4gZmxhdHRlbmVkIHRyZWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLmRhdGEuaWQgPT09IGN1cnJlbnRSYW5nZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBmaXJzdCBub2RlIGFmdGVyIGl0IHRoYXQgaGFzIGNhbnZhc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgZmxhdFRyZWUubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gZmxhdFRyZWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUuZGF0YS5jYW52YXNlcyAmJiBuZXh0Tm9kZS5kYXRhLmNhbnZhc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0Tm9kZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEZsYXR0ZW5lZFRyZWUgPSBmdW5jdGlvbiAodHJlZU5vZGUpIHtcclxuICAgICAgICB2YXIgdCA9IG51bGw7XHJcbiAgICAgICAgaWYgKCF0cmVlTm9kZSkge1xyXG4gICAgICAgICAgICB0ID0gdGhpcy5nZXRUcmVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0ID0gdHJlZU5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGF0dGVuVHJlZSh0LCAnbm9kZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLy8gdXNlIG9iamVjdC5hc3NpZ24gdG8gcmV0dXJuIGEgc2V0IG9mIG5ldyBub2Rlc1xyXG4gICAgLy8gcmlnaHQgbm93IHRoZSBVViBuZWVkcyB0aGUgbm9kZXMgdG8gcmV0YWluIHByb3BlcnRpZXMgZm9yIGRhdGFiaW5kaW5nIGxpa2UgZXhwYW5kZWRcclxuICAgIC8vIGFzIHdlJ3JlIG5vdCByZWRyYXdpbmcgdGhlIHRyZWUgZXZlcnkgdGltZSBhcyBwZXIgcmVhY3QuXHJcbiAgICAvLyBtYXliZSBtYWtlIHRoaXMgb3B0aW9uYWwuXHJcbiAgICAvLyBub3Qgc3VyZSB3aHkgZGVsZXRpbmcgdGhlIG5vZGVzIGtleSBmcm9tIGVhY2ggbm9kZSBpcyBuZWNlc3NhcnlcclxuICAgIEhlbHBlci5wcm90b3R5cGUuX2ZsYXR0ZW5UcmVlID0gZnVuY3Rpb24gKHJvb3QsIGtleSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZsYXR0ZW4gPSBbcm9vdF07IC8vW09iamVjdC5hc3NpZ24oe30sIHJvb3QpXTtcclxuICAgICAgICAvL2RlbGV0ZSBmbGF0dGVuWzBdW2tleV07XHJcbiAgICAgICAgaWYgKHJvb3Rba2V5XSAmJiByb290W2tleV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlbi5jb25jYXQocm9vdFtrZXldXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gX3RoaXMuX2ZsYXR0ZW5UcmVlKGNoaWxkLCBrZXkpOyB9KVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH0sIFtdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbGF0dGVuO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldEFsbFJhbmdlcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmFuZ2VCeVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmFuZ2VCeVBhdGgocGF0aCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSYW5nZUJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFJhbmdlQnlJZChpZCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSYW5nZUNhbnZhc2VzID0gZnVuY3Rpb24gKHJhbmdlKSB7XHJcbiAgICAgICAgdmFyIGlkcyA9IHJhbmdlLmdldENhbnZhc0lkcygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENhbnZhc2VzQnlJZChpZHMpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmVsYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFJlbGF0ZWQoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFNlYXJjaFNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2VydmljZSA9IHRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5TRUFSQ0hfMCk7XHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHNlcnZpY2UgPSB0aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuU0VBUkNIXzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFNlZUFsc28gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRTZWVBbHNvKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRTZXF1ZW5jZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFNlcXVlbmNlQnlJbmRleChpbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRTaGFyZVNlcnZpY2VVcmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdXJsID0gbnVsbDtcclxuICAgICAgICB2YXIgc2hhcmVTZXJ2aWNlID0gdGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlNIQVJFX0VYVEVOU0lPTlMpO1xyXG4gICAgICAgIGlmIChzaGFyZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgaWYgKHNoYXJlU2VydmljZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNoYXJlU2VydmljZSA9IHNoYXJlU2VydmljZVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cmwgPSBzaGFyZVNlcnZpY2UuX19qc29ubGQuc2hhcmVVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5fZ2V0U29ydGVkVHJlZU5vZGVzQnlEYXRlID0gZnVuY3Rpb24gKHNvcnRlZFRyZWUsIHRyZWUpIHtcclxuICAgICAgICAvLyBjb25zdCBhbGw6IFRyZWVOb2RlW10gPSA8VHJlZU5vZGVbXT50cmVlLm5vZGVzLmVuKCkudHJhdmVyc2VVbmlxdWUobm9kZSA9PiBub2RlLm5vZGVzKVxyXG4gICAgICAgIC8vICAgICAud2hlcmUoKG4pID0+IG4uZGF0YS50eXBlID09PSBUcmVlTm9kZVR5cGUuQ09MTEVDVElPTiB8fFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBuLmRhdGEudHlwZSA9PT0gVHJlZU5vZGVUeXBlLk1BTklGRVNUKS50b0FycmF5KCk7XHJcbiAgICAgICAgdmFyIGZsYXR0ZW5lZFRyZWUgPSB0aGlzLmdldEZsYXR0ZW5lZFRyZWUodHJlZSk7XHJcbiAgICAgICAgLy8gY29uc3QgbWFuaWZlc3RzOiBUcmVlTm9kZVtdID0gPFRyZWVOb2RlW10+dHJlZS5ub2Rlcy5lbigpLnRyYXZlcnNlVW5pcXVlKG4gPT4gbi5ub2RlcylcclxuICAgICAgICAvLyAgICAgLndoZXJlKChuKSA9PiBuLmRhdGEudHlwZSA9PT0gVHJlZU5vZGVUeXBlLk1BTklGRVNUKS50b0FycmF5KCk7XHJcbiAgICAgICAgaWYgKGZsYXR0ZW5lZFRyZWUpIHtcclxuICAgICAgICAgICAgdmFyIG1hbmlmZXN0cyA9IGZsYXR0ZW5lZFRyZWUuZmlsdGVyKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLmRhdGEudHlwZSA9PT0gVHJlZU5vZGVUeXBlLk1BTklGRVNUOyB9KTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWNhZGVOb2Rlcyhzb3J0ZWRUcmVlLCBmbGF0dGVuZWRUcmVlKTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0RGVjYWRlTm9kZXMoc29ydGVkVHJlZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlWWVhck5vZGVzKHNvcnRlZFRyZWUsIGZsYXR0ZW5lZFRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRZZWFyTm9kZXMoc29ydGVkVHJlZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTW9udGhOb2Rlcyhzb3J0ZWRUcmVlLCBtYW5pZmVzdHMpO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnRNb250aE5vZGVzKHNvcnRlZFRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURhdGVOb2Rlcyhzb3J0ZWRUcmVlLCBtYW5pZmVzdHMpO1xyXG4gICAgICAgICAgICB0aGlzLnBydW5lRGVjYWRlTm9kZXMoc29ydGVkVHJlZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRTdGFydENhbnZhc0luZGV4KCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRUaHVtYnMgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFRodW1icyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFRvcFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFRvcFJhbmdlcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0VG90YWxDYW52YXNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRUb3RhbENhbnZhc2VzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRUcmFja2luZ0xhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0VHJhY2tpbmdMYWJlbCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuX2dldFRvcFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5paWlmUmVzb3VyY2UuZ2V0VG9wUmFuZ2VzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRUcmVlID0gZnVuY3Rpb24gKHRvcFJhbmdlSW5kZXgsIHNvcnRUeXBlKSB7XHJcbiAgICAgICAgLy8gaWYgaXQncyBhIGNvbGxlY3Rpb24sIHVzZSBJSUlGUmVzb3VyY2UuZ2V0RGVmYXVsdFRyZWUoKVxyXG4gICAgICAgIC8vIG90aGVyd2lzZSwgZ2V0IHRoZSB0b3AgcmFuZ2UgYnkgaW5kZXggYW5kIHVzZSBSYW5nZS5nZXRUcmVlKClcclxuICAgICAgICBpZiAodG9wUmFuZ2VJbmRleCA9PT0gdm9pZCAwKSB7IHRvcFJhbmdlSW5kZXggPSAwOyB9XHJcbiAgICAgICAgaWYgKHNvcnRUeXBlID09PSB2b2lkIDApIHsgc29ydFR5cGUgPSBUcmVlU29ydFR5cGUuTk9ORTsgfVxyXG4gICAgICAgIGlmICghdGhpcy5paWlmUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0cmVlO1xyXG4gICAgICAgIGlmICh0aGlzLmlpaWZSZXNvdXJjZS5pc0NvbGxlY3Rpb24oKSkge1xyXG4gICAgICAgICAgICB0cmVlID0gdGhpcy5paWlmUmVzb3VyY2UuZ2V0RGVmYXVsdFRyZWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0b3BSYW5nZXMgPSB0aGlzLl9nZXRUb3BSYW5nZXMoKTtcclxuICAgICAgICAgICAgdmFyIHJvb3QgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgcm9vdC5sYWJlbCA9ICdyb290JztcclxuICAgICAgICAgICAgcm9vdC5kYXRhID0gdGhpcy5paWlmUmVzb3VyY2U7XHJcbiAgICAgICAgICAgIGlmICh0b3BSYW5nZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0b3BSYW5nZXNbdG9wUmFuZ2VJbmRleF07XHJcbiAgICAgICAgICAgICAgICB0cmVlID0gcmFuZ2UuZ2V0VHJlZShyb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzb3J0ZWRUcmVlID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgc3dpdGNoIChzb3J0VHlwZS50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVHJlZVNvcnRUeXBlLkRBVEUudG9TdHJpbmcoKTpcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybnMgYSBsaXN0IG9mIHRyZWVub2RlcyBmb3IgZWFjaCBkZWNhZGUuXHJcbiAgICAgICAgICAgICAgICAvLyBleHBhbmRpbmcgYSBkZWNhZGUgZ2VuZXJhdGVzIGEgbGlzdCBvZiB5ZWFyc1xyXG4gICAgICAgICAgICAgICAgLy8gZXhwYW5kaW5nIGEgeWVhciBnaXZlcyBhIGxpc3Qgb2YgbW9udGhzIGNvbnRhaW5pbmcgaXNzdWVzXHJcbiAgICAgICAgICAgICAgICAvLyBleHBhbmRpbmcgYSBtb250aCBnaXZlcyBhIGxpc3Qgb2YgaXNzdWVzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJlZUhhc05hdkRhdGVzKHRyZWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0U29ydGVkVHJlZU5vZGVzQnlEYXRlKHNvcnRlZFRyZWUsIHRyZWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc29ydGVkVHJlZSA9IHRyZWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3J0ZWRUcmVlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUudHJlZUhhc05hdkRhdGVzID0gZnVuY3Rpb24gKHRyZWUpIHtcclxuICAgICAgICAvL2NvbnN0IG5vZGU6IFRyZWVOb2RlID0gdHJlZS5ub2Rlcy5lbigpLnRyYXZlcnNlVW5pcXVlKG5vZGUgPT4gbm9kZS5ub2Rlcykud2hlcmUoKG4pID0+ICFpc05hTig8YW55Pm4ubmF2RGF0ZSkpLmZpcnN0KCk7XHJcbiAgICAgICAgLy8gdG9kbzogd3JpdGUgdGVzdFxyXG4gICAgICAgIHZhciBmbGF0dGVuZWRUcmVlID0gdGhpcy5nZXRGbGF0dGVuZWRUcmVlKHRyZWUpO1xyXG4gICAgICAgIHJldHVybiAoZmxhdHRlbmVkVHJlZSkgPyBmbGF0dGVuZWRUcmVlLnNvbWUoZnVuY3Rpb24gKG4pIHsgcmV0dXJuICFpc05hTihuLm5hdkRhdGUpOyB9KSA6IGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKCF2aWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLm1hbmlmZXN0LmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZpZXdpbmdEaXJlY3Rpb247XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRWaWV3aW5nSGludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB2aWV3aW5nSGludCA9IHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Vmlld2luZ0hpbnQoKTtcclxuICAgICAgICBpZiAoIXZpZXdpbmdIaW50KSB7XHJcbiAgICAgICAgICAgIHZpZXdpbmdIaW50ID0gdGhpcy5tYW5pZmVzdC5nZXRWaWV3aW5nSGludCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmlld2luZ0hpbnQ7XHJcbiAgICB9O1xyXG4gICAgLy8gaW5xdWlyaWVzIC8vXHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmhhc1BhcmVudENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gISF0aGlzLm1hbmlmZXN0LnBhcmVudENvbGxlY3Rpb247XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5oYXNSZWxhdGVkUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVsYXRlZCA9IHRoaXMuZ2V0UmVsYXRlZCgpO1xyXG4gICAgICAgIGlmICghcmVsYXRlZClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChyZWxhdGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZWxhdGVkID0gcmVsYXRlZFswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlbGF0ZWRbJ2Zvcm1hdCddID09PSAndGV4dC9odG1sJztcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmhhc1Jlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDdXJyZW50Q2FudmFzKCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRSZXNvdXJjZXMoKS5sZW5ndGggPiAwO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNCb3R0b21Ub1RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkJPVFRPTV9UT19UT1A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNDYW52YXNJbmRleE91dE9mUmFuZ2UoaW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNDb250aW51b3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nSGludCA9IHRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtcclxuICAgICAgICBpZiAodmlld2luZ0hpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdIaW50ID09PSBWaWV3aW5nSGludC5DT05USU5VT1VTO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0ZpcnN0Q2FudmFzID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNGaXJzdENhbnZhcyhpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzRmlyc3RDYW52YXModGhpcy5jYW52YXNJbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0hvcml6b250YWxseUFsaWduZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNMZWZ0VG9SaWdodCgpIHx8IHRoaXMuaXNSaWdodFRvTGVmdCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNMYXN0Q2FudmFzID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNMYXN0Q2FudmFzKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNMYXN0Q2FudmFzKHRoaXMuY2FudmFzSW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNMZWZ0VG9SaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxFRlRfVE9fUklHSFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzTXVsdGlDYW52YXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNNdWx0aUNhbnZhcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNNdWx0aVNlcXVlbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuaXNNdWx0aVNlcXVlbmNlKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1BhZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgdGhlIHNlcXVlbmNlIGZvciBhIHZpZXdpbmdIaW50IChkZXByZWNhdGVkKVxyXG4gICAgICAgIHZhciB2aWV3aW5nSGludCA9IHRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtcclxuICAgICAgICBpZiAodmlld2luZ0hpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdIaW50ID09PSBWaWV3aW5nSGludC5QQUdFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hlY2sgdGhlIG1hbmlmZXN0IGZvciBhIHZpZXdpbmdIaW50IChkZXByZWNhdGVkKSBvciBwYWdlZCBiZWhhdmlvclxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmlzUGFnaW5nRW5hYmxlZCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNQYWdpbmdBdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gcGFnZWQgbW9kZSBpcyB1c2VsZXNzIHVubGVzcyB5b3UgaGF2ZSBhdCBsZWFzdCAzIHBhZ2VzLi4uXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNQYWdpbmdFbmFibGVkKCkgJiYgdGhpcy5nZXRUb3RhbENhbnZhc2VzKCkgPiAyO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLm1hbmlmZXN0LmlzUGFnaW5nRW5hYmxlZCgpIHx8IHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNQYWdpbmdFbmFibGVkKCkpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNSaWdodFRvTGVmdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzVG9wVG9Cb3R0b20gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5UT1BfVE9fQk9UVE9NO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1RvdGFsQ2FudmFzZXNFdmVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzVG90YWxDYW52YXNlc0V2ZW4oKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzVUlFbmFibGVkID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1aUV4dGVuc2lvbnMgPSB0aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuVUlfRVhURU5TSU9OUyk7XHJcbiAgICAgICAgaWYgKHVpRXh0ZW5zaW9ucykge1xyXG4gICAgICAgICAgICB2YXIgZGlzYWJsZVVJID0gdWlFeHRlbnNpb25zLmdldFByb3BlcnR5KCdkaXNhYmxlVUknKTtcclxuICAgICAgICAgICAgaWYgKGRpc2FibGVVSSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc2FibGVVSS5pbmRleE9mKG5hbWUpICE9PSAtMSB8fCBkaXNhYmxlVUkuaW5kZXhPZihuYW1lLnRvTG93ZXJDYXNlKCkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzVmVydGljYWxseUFsaWduZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNUb3BUb0JvdHRvbSgpIHx8IHRoaXMuaXNCb3R0b21Ub1RvcCgpO1xyXG4gICAgfTtcclxuICAgIC8vIGRhdGVzIC8vICAgICBcclxuICAgIEhlbHBlci5wcm90b3R5cGUuY3JlYXRlRGF0ZU5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlLCBub2Rlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLmdldE5vZGVZZWFyKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSB0aGlzLmdldE5vZGVNb250aChub2RlKTtcclxuICAgICAgICAgICAgdmFyIGRhdGVOb2RlID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmlkID0gbm9kZS5pZDtcclxuICAgICAgICAgICAgZGF0ZU5vZGUubGFiZWwgPSB0aGlzLmdldE5vZGVEaXNwbGF5RGF0ZShub2RlKTtcclxuICAgICAgICAgICAgZGF0ZU5vZGUuZGF0YSA9IG5vZGUuZGF0YTtcclxuICAgICAgICAgICAgZGF0ZU5vZGUuZGF0YS50eXBlID0gVHJlZU5vZGVUeXBlLk1BTklGRVNUO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5kYXRhLnllYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5kYXRhLm1vbnRoID0gbW9udGg7XHJcbiAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gdGhpcy5nZXREZWNhZGVOb2RlKHJvb3ROb2RlLCB5ZWFyKTtcclxuICAgICAgICAgICAgaWYgKGRlY2FkZU5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyTm9kZSA9IHRoaXMuZ2V0WWVhck5vZGUoZGVjYWRlTm9kZSwgeWVhcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoeWVhck5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOb2RlID0gdGhpcy5nZXRNb250aE5vZGUoeWVhck5vZGUsIG1vbnRoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5hZGROb2RlKGRhdGVOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5jcmVhdGVEZWNhZGVOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSwgbm9kZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5uYXZEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMuZ2V0Tm9kZVllYXIobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBlbmRZZWFyID0gTnVtYmVyKHllYXIudG9TdHJpbmcoKS5zdWJzdHIoMCwgMykgKyBcIjlcIik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXREZWNhZGVOb2RlKHJvb3ROb2RlLCB5ZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgIGRlY2FkZU5vZGUubGFiZWwgPSB5ZWFyICsgXCIgLSBcIiArIGVuZFllYXI7XHJcbiAgICAgICAgICAgICAgICBkZWNhZGVOb2RlLm5hdkRhdGUgPSBub2RlLm5hdkRhdGU7XHJcbiAgICAgICAgICAgICAgICBkZWNhZGVOb2RlLmRhdGEuc3RhcnRZZWFyID0geWVhcjtcclxuICAgICAgICAgICAgICAgIGRlY2FkZU5vZGUuZGF0YS5lbmRZZWFyID0gZW5kWWVhcjtcclxuICAgICAgICAgICAgICAgIHJvb3ROb2RlLmFkZE5vZGUoZGVjYWRlTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5jcmVhdGVNb250aE5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlLCBub2Rlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFub2RlLm5hdkRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy5nZXROb2RlWWVhcihub2RlKTtcclxuICAgICAgICAgICAgdmFyIG1vbnRoID0gdGhpcy5nZXROb2RlTW9udGgobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gdGhpcy5nZXREZWNhZGVOb2RlKHJvb3ROb2RlLCB5ZWFyKTtcclxuICAgICAgICAgICAgdmFyIHllYXJOb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGRlY2FkZU5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHllYXJOb2RlID0gdGhpcy5nZXRZZWFyTm9kZShkZWNhZGVOb2RlLCB5ZWFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVjYWRlTm9kZSAmJiB5ZWFyTm9kZSAmJiAhdGhpcy5nZXRNb250aE5vZGUoeWVhck5vZGUsIG1vbnRoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgbW9udGhOb2RlLmxhYmVsID0gdGhpcy5nZXROb2RlRGlzcGxheU1vbnRoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgbW9udGhOb2RlLm5hdkRhdGUgPSBub2RlLm5hdkRhdGU7XHJcbiAgICAgICAgICAgICAgICBtb250aE5vZGUuZGF0YS55ZWFyID0geWVhcjtcclxuICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5kYXRhLm1vbnRoID0gbW9udGg7XHJcbiAgICAgICAgICAgICAgICB5ZWFyTm9kZS5hZGROb2RlKG1vbnRoTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5jcmVhdGVZZWFyTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUsIG5vZGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIW5vZGUubmF2RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLmdldE5vZGVZZWFyKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IHRoaXMuZ2V0RGVjYWRlTm9kZShyb290Tm9kZSwgeWVhcik7XHJcbiAgICAgICAgICAgIGlmIChkZWNhZGVOb2RlICYmICF0aGlzLmdldFllYXJOb2RlKGRlY2FkZU5vZGUsIHllYXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhck5vZGUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgIHllYXJOb2RlLmxhYmVsID0geWVhci50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgeWVhck5vZGUubmF2RGF0ZSA9IG5vZGUubmF2RGF0ZTtcclxuICAgICAgICAgICAgICAgIHllYXJOb2RlLmRhdGEueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgICAgICBkZWNhZGVOb2RlLmFkZE5vZGUoeWVhck5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0RGVjYWRlTm9kZSA9IGZ1bmN0aW9uIChyb290Tm9kZSwgeWVhcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdE5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSByb290Tm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKHllYXIgPj0gbi5kYXRhLnN0YXJ0WWVhciAmJiB5ZWFyIDw9IG4uZGF0YS5lbmRZZWFyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TW9udGhOb2RlID0gZnVuY3Rpb24gKHllYXJOb2RlLCBtb250aCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeWVhck5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSB5ZWFyTm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKG1vbnRoID09PSB0aGlzLmdldE5vZGVNb250aChuKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE5vZGVEaXNwbGF5RGF0ZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUubmF2RGF0ZS50b0RhdGVTdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE5vZGVEaXNwbGF5TW9udGggPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHZhciBtb250aHMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcclxuICAgICAgICByZXR1cm4gbW9udGhzW25vZGUubmF2RGF0ZS5nZXRNb250aCgpXTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE5vZGVNb250aCA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUubmF2RGF0ZS5nZXRNb250aCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Tm9kZVllYXIgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBub2RlLm5hdkRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFllYXJOb2RlID0gZnVuY3Rpb24gKGRlY2FkZU5vZGUsIHllYXIpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlY2FkZU5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSBkZWNhZGVOb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoeWVhciA9PT0gdGhpcy5nZXROb2RlWWVhcihuKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyBkZWxldGUgYW55IGVtcHR5IGRlY2FkZXNcclxuICAgIEhlbHBlci5wcm90b3R5cGUucHJ1bmVEZWNhZGVOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSkge1xyXG4gICAgICAgIHZhciBwcnVuZWQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3ROb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gcm9vdE5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghbi5ub2Rlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHBydW5lZC5wdXNoKG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJ1bmVkLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gcHJ1bmVkW2pdO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSByb290Tm9kZS5ub2Rlcy5pbmRleE9mKHApO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcm9vdE5vZGUubm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLnNvcnREZWNhZGVOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSkge1xyXG4gICAgICAgIHJvb3ROb2RlLm5vZGVzID0gcm9vdE5vZGUubm9kZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5kYXRhLnN0YXJ0WWVhciAtIGIuZGF0YS5zdGFydFllYXI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5zb3J0TW9udGhOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290Tm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IHJvb3ROb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRlY2FkZU5vZGUubm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aE5vZGUgPSBkZWNhZGVOb2RlLm5vZGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgbW9udGhOb2RlLm5vZGVzID0gbW9udGhOb2RlLm5vZGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Tm9kZU1vbnRoKGEpIC0gX3RoaXMuZ2V0Tm9kZU1vbnRoKGIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5zb3J0WWVhck5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3ROb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gcm9vdE5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGRlY2FkZU5vZGUubm9kZXMgPSBkZWNhZGVOb2RlLm5vZGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoX3RoaXMuZ2V0Tm9kZVllYXIoYSkgLSBfdGhpcy5nZXROb2RlWWVhcihiKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gSGVscGVyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBIZWxwZXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SGVscGVyLmpzLm1hcCIsInZhciBJTGFiZWxWYWx1ZVBhaXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBJTGFiZWxWYWx1ZVBhaXIoKSB7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSUxhYmVsVmFsdWVQYWlyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBJTGFiZWxWYWx1ZVBhaXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUxhYmVsVmFsdWVQYWlyLmpzLm1hcCIsInZhciBNZXRhZGF0YUdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTWV0YWRhdGFHcm91cChyZXNvdXJjZSwgbGFiZWwpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgIH1cclxuICAgIE1ldGFkYXRhR3JvdXAucHJvdG90eXBlLmFkZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcclxuICAgIH07XHJcbiAgICBNZXRhZGF0YUdyb3VwLnByb3RvdHlwZS5hZGRNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSwgaXNSb290TGV2ZWwpIHtcclxuICAgICAgICBpZiAoaXNSb290TGV2ZWwgPT09IHZvaWQgMCkgeyBpc1Jvb3RMZXZlbCA9IGZhbHNlOyB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IG1ldGFkYXRhW2ldO1xyXG4gICAgICAgICAgICBpdGVtLmlzUm9vdExldmVsID0gaXNSb290TGV2ZWw7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkSXRlbShpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1ldGFkYXRhR3JvdXA7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IE1ldGFkYXRhR3JvdXAgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWV0YWRhdGFHcm91cC5qcy5tYXAiLCJ2YXIgTWV0YWRhdGFPcHRpb25zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTWV0YWRhdGFPcHRpb25zKCkge1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1ldGFkYXRhT3B0aW9ucztcclxufSgpKTtcclxuZXhwb3J0IHsgTWV0YWRhdGFPcHRpb25zIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGFkYXRhT3B0aW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCJtYW5pZmVzdG8uanNcIjtcclxudmFyIE11bHRpU2VsZWN0U3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNdWx0aVNlbGVjdFN0YXRlKCkge1xyXG4gICAgICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhbnZhc2VzID0gW107XHJcbiAgICB9XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5hbGxDYW52YXNlc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc2VzLmxlbmd0aCA+IDAgJiYgdGhpcy5nZXRBbGxTZWxlY3RlZENhbnZhc2VzKCkubGVuZ3RoID09PSB0aGlzLmNhbnZhc2VzLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5hbGxSYW5nZXNTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMubGVuZ3RoID4gMCAmJiB0aGlzLmdldEFsbFNlbGVjdGVkUmFuZ2VzKCkubGVuZ3RoID09PSB0aGlzLnJhbmdlcy5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuYWxsU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxsUmFuZ2VzU2VsZWN0ZWQoKSAmJiB0aGlzLmFsbENhbnZhc2VzU2VsZWN0ZWQoKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzZXMuY29uY2F0KHRoaXMucmFuZ2VzKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRBbGxTZWxlY3RlZENhbnZhc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc2VzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tdWx0aVNlbGVjdGVkOyB9KTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRBbGxTZWxlY3RlZFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLm11bHRpU2VsZWN0ZWQ7IH0pO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldENhbnZhc0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNlcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIFV0aWxzLm5vcm1hbGlzZVVybChjLmlkKSA9PT0gVXRpbHMubm9ybWFsaXNlVXJsKGlkKTsgfSlbMF07XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXNCeUlkcyA9IGZ1bmN0aW9uIChpZHMpIHtcclxuICAgICAgICB2YXIgY2FudmFzZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07XHJcbiAgICAgICAgICAgIGNhbnZhc2VzLnB1c2godGhpcy5nZXRDYW52YXNCeUlkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYW52YXNlcztcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRSYW5nZUNhbnZhc2VzID0gZnVuY3Rpb24gKHJhbmdlKSB7XHJcbiAgICAgICAgdmFyIGlkcyA9IHJhbmdlLmdldENhbnZhc0lkcygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENhbnZhc2VzQnlJZHMoaWRzKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RBbGwgPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdFJhbmdlcyh0aGlzLnJhbmdlcywgc2VsZWN0ZWQpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q2FudmFzZXModGhpcy5jYW52YXNlcywgc2VsZWN0ZWQpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdENhbnZhcyA9IGZ1bmN0aW9uIChjYW52YXMsIHNlbGVjdGVkKSB7XHJcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNhbnZhc2VzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5pZCA9PT0gY2FudmFzLmlkOyB9KVswXTtcclxuICAgICAgICBjLm11bHRpU2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RBbGxDYW52YXNlcyA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q2FudmFzZXModGhpcy5jYW52YXNlcywgc2VsZWN0ZWQpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdENhbnZhc2VzID0gZnVuY3Rpb24gKGNhbnZhc2VzLCBzZWxlY3RlZCkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FudmFzZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGNhbnZhc2VzW2pdO1xyXG4gICAgICAgICAgICBjYW52YXMubXVsdGlTZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSwgc2VsZWN0ZWQpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXMucmFuZ2VzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5pZCA9PT0gcmFuZ2UuaWQ7IH0pWzBdO1xyXG4gICAgICAgIHIubXVsdGlTZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgICAgIHZhciBjYW52YXNlcyA9IHRoaXMuZ2V0UmFuZ2VDYW52YXNlcyhyKTtcclxuICAgICAgICB0aGlzLnNlbGVjdENhbnZhc2VzKGNhbnZhc2VzLCBzZWxlY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0QWxsUmFuZ2VzID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSYW5nZXModGhpcy5yYW5nZXMsIHNlbGVjdGVkKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RSYW5nZXMgPSBmdW5jdGlvbiAocmFuZ2VzLCBzZWxlY3RlZCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcclxuICAgICAgICAgICAgcmFuZ2UubXVsdGlTZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgICAgICAgICB2YXIgY2FudmFzZXMgPSB0aGlzLmdldENhbnZhc2VzQnlJZHMocmFuZ2UuZ2V0Q2FudmFzSWRzKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdENhbnZhc2VzKGNhbnZhc2VzLCBzZWxlY3RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNldEVuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuaXNFbmFibGVkID0gZW5hYmxlZDtcclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLmdldEFsbCgpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgaXRlbS5tdWx0aVNlbGVjdEVuYWJsZWQgPSB0aGlzLmlzRW5hYmxlZDtcclxuICAgICAgICAgICAgaWYgKCFlbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLm11bHRpU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gTXVsdGlTZWxlY3RTdGF0ZTtcclxufSgpKTtcclxuZXhwb3J0IHsgTXVsdGlTZWxlY3RTdGF0ZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NdWx0aVNlbGVjdFN0YXRlLmpzLm1hcCIsInZhciBUcmFuc2xhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRyYW5zbGF0aW9uKHZhbHVlLCBsb2NhbGUpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVHJhbnNsYXRpb247XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFRyYW5zbGF0aW9uIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zbGF0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgVHJlZVNvcnRUeXBlO1xyXG4oZnVuY3Rpb24gKFRyZWVTb3J0VHlwZSkge1xyXG4gICAgVHJlZVNvcnRUeXBlW1wiREFURVwiXSA9IFwiZGF0ZVwiO1xyXG4gICAgVHJlZVNvcnRUeXBlW1wiTk9ORVwiXSA9IFwibm9uZVwiO1xyXG59KShUcmVlU29ydFR5cGUgfHwgKFRyZWVTb3J0VHlwZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyZWVTb3J0VHlwZS5qcy5tYXAiLCIvLyBUaGlzIGNsYXNzIGZvcm1hdHMgVVJJcyBpbnRvIEhUTUwgPGE+IGxpbmtzLCBhcHBseWluZyBsYWJlbHMgd2hlbiBhdmFpbGFibGVcclxudmFyIFVyaUxhYmVsbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVXJpTGFiZWxsZXIobGFiZWxzKSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbHMgPSBsYWJlbHM7XHJcbiAgICB9XHJcbiAgICBVcmlMYWJlbGxlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIC8vIGlmIGFscmVhZHkgYSBsaW5rLCBkbyBub3RoaW5nLlxyXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignPGEnKSAhPSAtMSlcclxuICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICB2YXIgbGFiZWwgPSAodGhpcy5sYWJlbHNbdXJsXSkgPyB0aGlzLmxhYmVsc1t1cmxdIDogdXJsO1xyXG4gICAgICAgIHJldHVybiAnPGEgaHJlZj1cIicgKyB1cmwgKyAnXCI+JyArIGxhYmVsICsgJzwvYT4nO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVcmlMYWJlbGxlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgVXJpTGFiZWxsZXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXJpTGFiZWxsZXIuanMubWFwIiwiZXhwb3J0ICogZnJvbSBcIi4vQW5ub3RhdGlvbkdyb3VwXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0Fubm90YXRpb25SZWN0XCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0Jvb3RzdHJhcHBlclwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9FeHRlcm5hbFJlc291cmNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0hlbHBlclwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9JTGFiZWxWYWx1ZVBhaXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTWV0YWRhdGFHcm91cFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9NZXRhZGF0YU9wdGlvbnNcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTXVsdGlTZWxlY3RTdGF0ZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9UcmFuc2xhdGlvblwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9UcmVlU29ydFR5cGVcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vVXJpTGFiZWxsZXJcIjtcclxuaW1wb3J0IHsgQm9vdHN0cmFwcGVyIH0gZnJvbSBcIi4vQm9vdHN0cmFwcGVyXCI7XHJcbmV4cG9ydCB2YXIgbG9hZE1hbmlmZXN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgQm9vdHN0cmFwcGVyKG9wdGlvbnMpLmJvb3RzdHJhcCgpO1xyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgdmFyIEFubm90YXRpb25Nb3RpdmF0aW9uO1xyXG4oZnVuY3Rpb24gKEFubm90YXRpb25Nb3RpdmF0aW9uKSB7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkJPT0tNQVJLSU5HXCJdID0gXCJvYTpib29rbWFya2luZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJDTEFTU0lGWUlOR1wiXSA9IFwib2E6Y2xhc3NpZnlpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiQ09NTUVOVElOR1wiXSA9IFwib2E6Y29tbWVudGluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJERVNDUklCSU5HXCJdID0gXCJvYTpkZXNjcmliaW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkVESVRJTkdcIl0gPSBcIm9hOmVkaXRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiSElHSExJR0hUSU5HXCJdID0gXCJvYTpoaWdobGlnaHRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiSURFTlRJRllJTkdcIl0gPSBcIm9hOmlkZW50aWZ5aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkxJTktJTkdcIl0gPSBcIm9hOmxpbmtpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiTU9ERVJBVElOR1wiXSA9IFwib2E6bW9kZXJhdGluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJQQUlOVElOR1wiXSA9IFwic2M6cGFpbnRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiUVVFU1RJT05JTkdcIl0gPSBcIm9hOnF1ZXN0aW9uaW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIlJFUExZSU5HXCJdID0gXCJvYTpyZXBseWluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJUQUdHSU5HXCJdID0gXCJvYTp0YWdnaW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIlRSQU5TQ1JJQklOR1wiXSA9IFwib2FkOnRyYW5zY3JpYmluZ1wiO1xyXG59KShBbm5vdGF0aW9uTW90aXZhdGlvbiB8fCAoQW5ub3RhdGlvbk1vdGl2YXRpb24gPSB7fSkpO1xyXG5leHBvcnQgdmFyIEJlaGF2aW9yO1xyXG4oZnVuY3Rpb24gKEJlaGF2aW9yKSB7XHJcbiAgICBCZWhhdmlvcltcIkFVVE9fQURWQU5DRVwiXSA9IFwiYXV0by1hZHZhbmNlXCI7XHJcbiAgICBCZWhhdmlvcltcIkNPTlRJTlVPVVNcIl0gPSBcImNvbnRpbnVvdXNcIjtcclxuICAgIEJlaGF2aW9yW1wiRkFDSU5HX1BBR0VTXCJdID0gXCJmYWNpbmctcGFnZXNcIjtcclxuICAgIEJlaGF2aW9yW1wiSElEREVOXCJdID0gXCJoaWRkZW5cIjtcclxuICAgIEJlaGF2aW9yW1wiSU5ESVZJRFVBTFNcIl0gPSBcImluZGl2aWR1YWxzXCI7XHJcbiAgICBCZWhhdmlvcltcIk1VTFRJX1BBUlRcIl0gPSBcIm11bHRpLXBhcnRcIjtcclxuICAgIEJlaGF2aW9yW1wiTk9fTkFWXCJdID0gXCJuby1uYXZcIjtcclxuICAgIEJlaGF2aW9yW1wiTk9OX1BBR0VEXCJdID0gXCJub24tcGFnZWRcIjtcclxuICAgIEJlaGF2aW9yW1wiUEFHRURcIl0gPSBcInBhZ2VkXCI7XHJcbiAgICBCZWhhdmlvcltcIlJFUEVBVFwiXSA9IFwicmVwZWF0XCI7XHJcbiAgICBCZWhhdmlvcltcIlNFUVVFTkNFXCJdID0gXCJzZXF1ZW5jZVwiO1xyXG4gICAgQmVoYXZpb3JbXCJUSFVNQk5BSUxfTkFWXCJdID0gXCJ0aHVtYm5haWwtbmF2XCI7XHJcbiAgICBCZWhhdmlvcltcIlRPR0VUSEVSXCJdID0gXCJ0b2dldGhlclwiO1xyXG4gICAgQmVoYXZpb3JbXCJVTk9SREVSRURcIl0gPSBcInVub3JkZXJlZFwiO1xyXG59KShCZWhhdmlvciB8fCAoQmVoYXZpb3IgPSB7fSkpO1xyXG5leHBvcnQgdmFyIEV4dGVybmFsUmVzb3VyY2VUeXBlO1xyXG4oZnVuY3Rpb24gKEV4dGVybmFsUmVzb3VyY2VUeXBlKSB7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIkNBTlZBU1wiXSA9IFwiY2FudmFzXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIkNIT0lDRVwiXSA9IFwiY2hvaWNlXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIkNPTlRFTlRfQVNfVEVYVFwiXSA9IFwiY29udGVudGFzdGV4dFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJEQVRBU0VUXCJdID0gXCJkYXRhc2V0XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIkRPQ1VNRU5UXCJdID0gXCJkb2N1bWVudFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJJTUFHRVwiXSA9IFwiaW1hZ2VcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiTU9ERUxcIl0gPSBcIm1vZGVsXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIk1PVklOR19JTUFHRVwiXSA9IFwibW92aW5naW1hZ2VcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiUERGXCJdID0gXCJwZGZcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiUEhZU0lDQUxfT0JKRUNUXCJdID0gXCJwaHlzaWNhbG9iamVjdFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJTT1VORFwiXSA9IFwic291bmRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiVEVYVFwiXSA9IFwidGV4dFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJURVhUVUFMQk9EWVwiXSA9IFwidGV4dHVhbGJvZHlcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiVklERU9cIl0gPSBcInZpZGVvXCI7XHJcbn0pKEV4dGVybmFsUmVzb3VyY2VUeXBlIHx8IChFeHRlcm5hbFJlc291cmNlVHlwZSA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgSUlJRlJlc291cmNlVHlwZTtcclxuKGZ1bmN0aW9uIChJSUlGUmVzb3VyY2VUeXBlKSB7XHJcbiAgICBJSUlGUmVzb3VyY2VUeXBlW1wiQU5OT1RBVElPTlwiXSA9IFwiYW5ub3RhdGlvblwiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkNBTlZBU1wiXSA9IFwiY2FudmFzXCI7XHJcbiAgICBJSUlGUmVzb3VyY2VUeXBlW1wiQ09MTEVDVElPTlwiXSA9IFwiY29sbGVjdGlvblwiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIk1BTklGRVNUXCJdID0gXCJtYW5pZmVzdFwiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIlJBTkdFXCJdID0gXCJyYW5nZVwiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIlNFUVVFTkNFXCJdID0gXCJzZXF1ZW5jZVwiO1xyXG59KShJSUlGUmVzb3VyY2VUeXBlIHx8IChJSUlGUmVzb3VyY2VUeXBlID0ge30pKTtcclxuZXhwb3J0IHZhciBNZWRpYVR5cGU7XHJcbihmdW5jdGlvbiAoTWVkaWFUeXBlKSB7XHJcbiAgICBNZWRpYVR5cGVbXCJBVURJT19NUDRcIl0gPSBcImF1ZGlvL21wNFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiQ09SVE9cIl0gPSBcImFwcGxpY2F0aW9uL2NvcnRvXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJEUkFDT1wiXSA9IFwiYXBwbGljYXRpb24vZHJhY29cIjtcclxuICAgIE1lZGlhVHlwZVtcIkVQVUJcIl0gPSBcImFwcGxpY2F0aW9uL2VwdWIremlwXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJHTFRGXCJdID0gXCJtb2RlbC9nbHRmK2pzb25cIjtcclxuICAgIE1lZGlhVHlwZVtcIkpQR1wiXSA9IFwiaW1hZ2UvanBlZ1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiTTNVOFwiXSA9IFwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIjtcclxuICAgIE1lZGlhVHlwZVtcIk1QM1wiXSA9IFwiYXVkaW8vbXAzXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJNUEVHX0RBU0hcIl0gPSBcImFwcGxpY2F0aW9uL2Rhc2greG1sXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJPQkpcIl0gPSBcInRleHQvcGxhaW5cIjtcclxuICAgIE1lZGlhVHlwZVtcIk9QRlwiXSA9IFwiYXBwbGljYXRpb24vb2VicHMtcGFja2FnZSt4bWxcIjtcclxuICAgIE1lZGlhVHlwZVtcIlBERlwiXSA9IFwiYXBwbGljYXRpb24vcGRmXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJQTFlcIl0gPSBcImFwcGxpY2F0aW9uL3BseVwiO1xyXG4gICAgTWVkaWFUeXBlW1wiVEhSRUVKU1wiXSA9IFwiYXBwbGljYXRpb24vdm5kLnRocmVlanMranNvblwiO1xyXG4gICAgTWVkaWFUeXBlW1wiVklERU9fTVA0XCJdID0gXCJ2aWRlby9tcDRcIjtcclxuICAgIE1lZGlhVHlwZVtcIldFQk1cIl0gPSBcInZpZGVvL3dlYm1cIjtcclxufSkoTWVkaWFUeXBlIHx8IChNZWRpYVR5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFJlbmRlcmluZ0Zvcm1hdDtcclxuKGZ1bmN0aW9uIChSZW5kZXJpbmdGb3JtYXQpIHtcclxuICAgIFJlbmRlcmluZ0Zvcm1hdFtcIkRPQ1wiXSA9IFwiYXBwbGljYXRpb24vbXN3b3JkXCI7XHJcbiAgICBSZW5kZXJpbmdGb3JtYXRbXCJET0NYXCJdID0gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiO1xyXG4gICAgUmVuZGVyaW5nRm9ybWF0W1wiUERGXCJdID0gXCJhcHBsaWNhdGlvbi9wZGZcIjtcclxufSkoUmVuZGVyaW5nRm9ybWF0IHx8IChSZW5kZXJpbmdGb3JtYXQgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFNlcnZpY2VQcm9maWxlO1xyXG4oZnVuY3Rpb24gKFNlcnZpY2VQcm9maWxlKSB7XHJcbiAgICAvLyBpbWFnZSBhcGlcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9MRVZFTF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX1BST0ZJTEVfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9MRVZFTF8xXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDEuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX1BST0ZJTEVfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9MRVZFTF8yXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX1BST0ZJTEVfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9MRVZFTF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX1BST0ZJTEVfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9MRVZFTF8xXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDEuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX1BST0ZJTEVfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9MRVZFTF8yXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX1BST0ZJTEVfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIjtcclxuICAgIC8vIGF1dGggYXBpXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9DTElDS19USFJPVUdIXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfTE9HSU5cIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW5cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX0xPR09VVFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX1JFU1RSSUNURURcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfVE9LRU5cIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvdG9rZW5cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0NMSUNLX1RIUk9VR0hcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9FWFRFUk5BTFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfS0lPU0tcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEva2lvc2tcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0xPR0lOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9MT0dPVVRcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9QUk9CRVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9wcm9iZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfVE9LRU5cIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIjtcclxuICAgIC8vIHNlYXJjaCBhcGlcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzBfQVVUT19DT01QTEVURVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL2F1dG9jb21wbGV0ZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTRUFSQ0hfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTRUFSQ0hfMV9BVVRPX0NPTVBMRVRFXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCI7XHJcbiAgICAvLyBleHRlbnNpb25zXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlRSQUNLSU5HX0VYVEVOU0lPTlNcIl0gPSBcImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdHJhY2tpbmctZXh0ZW5zaW9ucy1wcm9maWxlXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlVJX0VYVEVOU0lPTlNcIl0gPSBcImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlBSSU5UX0VYVEVOU0lPTlNcIl0gPSBcImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNIQVJFX0VYVEVOU0lPTlNcIl0gPSBcImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vc2hhcmUtZXh0ZW5zaW9ucy1wcm9maWxlXCI7XHJcbiAgICAvLyBvdGhlclxyXG4gICAgU2VydmljZVByb2ZpbGVbXCJPVEhFUl9NQU5JRkVTVEFUSU9OU1wiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJWElGXCJdID0gXCJodHRwOi8vd2VsbGNvbWVsaWJyYXJ5Lm9yZy9sZC9peGlmLzAvYWxwaGEuanNvblwiO1xyXG59KShTZXJ2aWNlUHJvZmlsZSB8fCAoU2VydmljZVByb2ZpbGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIFZpZXdpbmdEaXJlY3Rpb247XHJcbihmdW5jdGlvbiAoVmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgVmlld2luZ0RpcmVjdGlvbltcIkJPVFRPTV9UT19UT1BcIl0gPSBcImJvdHRvbS10by10b3BcIjtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJMRUZUX1RPX1JJR0hUXCJdID0gXCJsZWZ0LXRvLXJpZ2h0XCI7XHJcbiAgICBWaWV3aW5nRGlyZWN0aW9uW1wiUklHSFRfVE9fTEVGVFwiXSA9IFwicmlnaHQtdG8tbGVmdFwiO1xyXG4gICAgVmlld2luZ0RpcmVjdGlvbltcIlRPUF9UT19CT1RUT01cIl0gPSBcInRvcC10by1ib3R0b21cIjtcclxufSkoVmlld2luZ0RpcmVjdGlvbiB8fCAoVmlld2luZ0RpcmVjdGlvbiA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgVmlld2luZ0hpbnQ7XHJcbihmdW5jdGlvbiAoVmlld2luZ0hpbnQpIHtcclxuICAgIFZpZXdpbmdIaW50W1wiQ09OVElOVU9VU1wiXSA9IFwiY29udGludW91c1wiO1xyXG4gICAgVmlld2luZ0hpbnRbXCJJTkRJVklEVUFMU1wiXSA9IFwiaW5kaXZpZHVhbHNcIjtcclxuICAgIFZpZXdpbmdIaW50W1wiTk9OX1BBR0VEXCJdID0gXCJub24tcGFnZWRcIjtcclxuICAgIFZpZXdpbmdIaW50W1wiUEFHRURcIl0gPSBcInBhZ2VkXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIlRPUFwiXSA9IFwidG9wXCI7XHJcbn0pKFZpZXdpbmdIaW50IHx8IChWaWV3aW5nSGludCA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIiFmdW5jdGlvbih1LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQmFuYW5hPWUoKTp1LkJhbmFuYT1lKCl9KHRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHUpe3ZhciBlPXt9O2Z1bmN0aW9uIGQocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciB0PWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB1W3JdLmNhbGwodC5leHBvcnRzLHQsdC5leHBvcnRzLGQpLHQubD0hMCx0LmV4cG9ydHN9cmV0dXJuIGQubT11LGQuYz1lLGQuZD1mdW5jdGlvbih1LGUscil7ZC5vKHUsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sZC5yPWZ1bmN0aW9uKHUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGQudD1mdW5jdGlvbih1LGUpe2lmKDEmZSYmKHU9ZCh1KSksOCZlKXJldHVybiB1O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHUmJnUmJnUuX19lc01vZHVsZSlyZXR1cm4gdTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGQucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp1fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdSlmb3IodmFyIHQgaW4gdSlkLmQocix0LGZ1bmN0aW9uKGUpe3JldHVybiB1W2VdfS5iaW5kKG51bGwsdCkpO3JldHVybiByfSxkLm49ZnVuY3Rpb24odSl7dmFyIGU9dSYmdS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdX07cmV0dXJuIGQuZChlLFwiYVwiLGUpLGV9LGQubz1mdW5jdGlvbih1LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxlKX0sZC5wPVwiXCIsZChkLnM9Mil9KFtmdW5jdGlvbih1KXt1LmV4cG9ydHM9SlNPTi5wYXJzZSgne1wiYXJcIjpcItmg2aHZotmj2aTZpdmm2afZqNmpXCIsXCJmYVwiOlwi27Dbsduy27PbtNu127bbt9u427lcIixcIm1sXCI6XCLgtabgtafgtajgtangtargtavgtazgta3gta7gta9cIixcImtuXCI6XCLgs6bgs6fgs6jgs6ngs6rgs6vgs6zgs63gs67gs69cIixcImxvXCI6XCLgu5Dgu5Hgu5Lgu5Pgu5Tgu5Xgu5bgu5fgu5jgu5lcIixcIm9yXCI6XCLgrabgrafgrajgrangrargravgrazgra3gra7gra9cIixcImtoXCI6XCLhn6Dhn6Hhn6Lhn6Phn6Thn6Xhn6bhn6fhn6jhn6lcIixcIm5xb1wiOlwi34Dfgd+C34PfhN+F34bfh9+I34lcIixcInBhXCI6XCLgqabgqafgqajgqangqargqavgqazgqa3gqa7gqa9cIixcImd1XCI6XCLgq6bgq6fgq6jgq6ngq6rgq6vgq6zgq63gq67gq69cIixcImhpXCI6XCLgpabgpafgpajgpangpargpavgpazgpa3gpa7gpa9cIixcIm15XCI6XCLhgYDhgYHhgYLhgYPhgYThgYXhgYbhgYfhgYjhgYlcIixcInRhXCI6XCLgr6bgr6fgr6jgr6ngr6rgr6vgr6zgr63gr67gr69cIixcInRlXCI6XCLgsabgsafgsajgsangsargsavgsazgsa3gsa7gsa9cIixcInRoXCI6XCLguZDguZHguZLguZPguZTguZXguZbguZfguZjguZlcIixcImJvXCI6XCLgvKDgvKHgvKLgvKPgvKTgvKXgvKbgvKfgvKjgvKlcIn0nKX0sZnVuY3Rpb24odSl7dS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcImFiXCI6W1wicnVcIl0sXCJhY2VcIjpbXCJpZFwiXSxcImFsblwiOltcInNxXCJdLFwiYWxzXCI6W1wiZ3N3XCIsXCJkZVwiXSxcImFuXCI6W1wiZXNcIl0sXCJhbnBcIjpbXCJoaVwiXSxcImFyblwiOltcImVzXCJdLFwiYXJ6XCI6W1wiYXJcIl0sXCJhdlwiOltcInJ1XCJdLFwiYXlcIjpbXCJlc1wiXSxcImJhXCI6W1wicnVcIl0sXCJiYXJcIjpbXCJkZVwiXSxcImJhdC1zbWdcIjpbXCJzZ3NcIixcImx0XCJdLFwiYmNjXCI6W1wiZmFcIl0sXCJiZS14LW9sZFwiOltcImJlLXRhcmFza1wiXSxcImJoXCI6W1wiYmhvXCJdLFwiYmpuXCI6W1wiaWRcIl0sXCJibVwiOltcImZyXCJdLFwiYnB5XCI6W1wiYm5cIl0sXCJicWlcIjpbXCJmYVwiXSxcImJ1Z1wiOltcImlkXCJdLFwiY2JrLXphbVwiOltcImVzXCJdLFwiY2VcIjpbXCJydVwiXSxcImNyaFwiOltcImNyaC1sYXRuXCJdLFwiY3JoLWN5cmxcIjpbXCJydVwiXSxcImNzYlwiOltcInBsXCJdLFwiY3ZcIjpbXCJydVwiXSxcImRlLWF0XCI6W1wiZGVcIl0sXCJkZS1jaFwiOltcImRlXCJdLFwiZGUtZm9ybWFsXCI6W1wiZGVcIl0sXCJkc2JcIjpbXCJkZVwiXSxcImR0cFwiOltcIm1zXCJdLFwiZWdsXCI6W1wiaXRcIl0sXCJlbWxcIjpbXCJpdFwiXSxcImZmXCI6W1wiZnJcIl0sXCJmaXRcIjpbXCJmaVwiXSxcImZpdS12cm9cIjpbXCJ2cm9cIixcImV0XCJdLFwiZnJjXCI6W1wiZnJcIl0sXCJmcnBcIjpbXCJmclwiXSxcImZyclwiOltcImRlXCJdLFwiZnVyXCI6W1wiaXRcIl0sXCJnYWdcIjpbXCJ0clwiXSxcImdhblwiOltcImdhbi1oYW50XCIsXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiZ2FuLWhhbnNcIjpbXCJ6aC1oYW5zXCJdLFwiZ2FuLWhhbnRcIjpbXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiZ2xcIjpbXCJwdFwiXSxcImdsa1wiOltcImZhXCJdLFwiZ25cIjpbXCJlc1wiXSxcImdzd1wiOltcImRlXCJdLFwiaGlmXCI6W1wiaGlmLWxhdG5cIl0sXCJoc2JcIjpbXCJkZVwiXSxcImh0XCI6W1wiZnJcIl0sXCJpaVwiOltcInpoLWNuXCIsXCJ6aC1oYW5zXCJdLFwiaW5oXCI6W1wicnVcIl0sXCJpdVwiOltcImlrZS1jYW5zXCJdLFwianV0XCI6W1wiZGFcIl0sXCJqdlwiOltcImlkXCJdLFwia2FhXCI6W1wia2stbGF0blwiLFwia2stY3lybFwiXSxcImtiZFwiOltcImtiZC1jeXJsXCJdLFwia2h3XCI6W1widXJcIl0sXCJraXVcIjpbXCJ0clwiXSxcImtrXCI6W1wia2stY3lybFwiXSxcImtrLWFyYWJcIjpbXCJray1jeXJsXCJdLFwia2stbGF0blwiOltcImtrLWN5cmxcIl0sXCJray1jblwiOltcImtrLWFyYWJcIixcImtrLWN5cmxcIl0sXCJray1relwiOltcImtrLWN5cmxcIl0sXCJray10clwiOltcImtrLWxhdG5cIixcImtrLWN5cmxcIl0sXCJrbFwiOltcImRhXCJdLFwia28ta3BcIjpbXCJrb1wiXSxcImtvaVwiOltcInJ1XCJdLFwia3JjXCI6W1wicnVcIl0sXCJrc1wiOltcImtzLWFyYWJcIl0sXCJrc2hcIjpbXCJkZVwiXSxcImt1XCI6W1wia3UtbGF0blwiXSxcImt1LWFyYWJcIjpbXCJja2JcIl0sXCJrdlwiOltcInJ1XCJdLFwibGFkXCI6W1wiZXNcIl0sXCJsYlwiOltcImRlXCJdLFwibGJlXCI6W1wicnVcIl0sXCJsZXpcIjpbXCJydVwiXSxcImxpXCI6W1wibmxcIl0sXCJsaWpcIjpbXCJpdFwiXSxcImxpdlwiOltcImV0XCJdLFwibG1vXCI6W1wiaXRcIl0sXCJsblwiOltcImZyXCJdLFwibHRnXCI6W1wibHZcIl0sXCJsenpcIjpbXCJ0clwiXSxcIm1haVwiOltcImhpXCJdLFwibWFwLWJtc1wiOltcImp2XCIsXCJpZFwiXSxcIm1nXCI6W1wiZnJcIl0sXCJtaHJcIjpbXCJydVwiXSxcIm1pblwiOltcImlkXCJdLFwibW9cIjpbXCJyb1wiXSxcIm1yalwiOltcInJ1XCJdLFwibXdsXCI6W1wicHRcIl0sXCJteXZcIjpbXCJydVwiXSxcIm16blwiOltcImZhXCJdLFwibmFoXCI6W1wiZXNcIl0sXCJuYXBcIjpbXCJpdFwiXSxcIm5kc1wiOltcImRlXCJdLFwibmRzLW5sXCI6W1wibmxcIl0sXCJubC1pbmZvcm1hbFwiOltcIm5sXCJdLFwibm9cIjpbXCJuYlwiXSxcIm9zXCI6W1wicnVcIl0sXCJwY2RcIjpbXCJmclwiXSxcInBkY1wiOltcImRlXCJdLFwicGR0XCI6W1wiZGVcIl0sXCJwZmxcIjpbXCJkZVwiXSxcInBtc1wiOltcIml0XCJdLFwicHRcIjpbXCJwdC1iclwiXSxcInB0LWJyXCI6W1wicHRcIl0sXCJxdVwiOltcImVzXCJdLFwicXVnXCI6W1wicXVcIixcImVzXCJdLFwicmduXCI6W1wiaXRcIl0sXCJybXlcIjpbXCJyb1wiXSxcInJvYS1ydXBcIjpbXCJydXBcIl0sXCJydWVcIjpbXCJ1a1wiLFwicnVcIl0sXCJydXFcIjpbXCJydXEtbGF0blwiLFwicm9cIl0sXCJydXEtY3lybFwiOltcIm1rXCJdLFwicnVxLWxhdG5cIjpbXCJyb1wiXSxcInNhXCI6W1wiaGlcIl0sXCJzYWhcIjpbXCJydVwiXSxcInNjblwiOltcIml0XCJdLFwic2dcIjpbXCJmclwiXSxcInNnc1wiOltcImx0XCJdLFwic2xpXCI6W1wiZGVcIl0sXCJzclwiOltcInNyLWVjXCJdLFwic3JuXCI6W1wibmxcIl0sXCJzdHFcIjpbXCJkZVwiXSxcInN1XCI6W1wiaWRcIl0sXCJzemxcIjpbXCJwbFwiXSxcInRjeVwiOltcImtuXCJdLFwidGdcIjpbXCJ0Zy1jeXJsXCJdLFwidHRcIjpbXCJ0dC1jeXJsXCIsXCJydVwiXSxcInR0LWN5cmxcIjpbXCJydVwiXSxcInR5XCI6W1wiZnJcIl0sXCJ1ZG1cIjpbXCJydVwiXSxcInVnXCI6W1widWctYXJhYlwiXSxcInVrXCI6W1wicnVcIl0sXCJ2ZWNcIjpbXCJpdFwiXSxcInZlcFwiOltcImV0XCJdLFwidmxzXCI6W1wibmxcIl0sXCJ2bWZcIjpbXCJkZVwiXSxcInZvdFwiOltcImZpXCJdLFwidnJvXCI6W1wiZXRcIl0sXCJ3YVwiOltcImZyXCJdLFwid29cIjpbXCJmclwiXSxcInd1dVwiOltcInpoLWhhbnNcIl0sXCJ4YWxcIjpbXCJydVwiXSxcInhtZlwiOltcImthXCJdLFwieWlcIjpbXCJoZVwiXSxcInphXCI6W1wiemgtaGFuc1wiXSxcInplYVwiOltcIm5sXCJdLFwiemhcIjpbXCJ6aC1oYW5zXCJdLFwiemgtY2xhc3NpY2FsXCI6W1wibHpoXCJdLFwiemgtY25cIjpbXCJ6aC1oYW5zXCJdLFwiemgtaGFudFwiOltcInpoLWhhbnNcIl0sXCJ6aC1oa1wiOltcInpoLWhhbnRcIixcInpoLWhhbnNcIl0sXCJ6aC1taW4tbmFuXCI6W1wibmFuXCJdLFwiemgtbW9cIjpbXCJ6aC1oa1wiLFwiemgtaGFudFwiLFwiemgtaGFuc1wiXSxcInpoLW15XCI6W1wiemgtc2dcIixcInpoLWhhbnNcIl0sXCJ6aC1zZ1wiOltcInpoLWhhbnNcIl0sXCJ6aC10d1wiOltcInpoLWhhbnRcIixcInpoLWhhbnNcIl0sXCJ6aC15dWVcIjpbXCJ5dWVcIl19Jyl9LGZ1bmN0aW9uKHUsZSxkKXtcInVzZSBzdHJpY3RcIjtkLnIoZSk7dmFyIHI9ZCgwKTtjbGFzcyB0e2NvbnN0cnVjdG9yKHUpe3RoaXMubG9jYWxlPXV9Y29udmVydFBsdXJhbCh1LGUpe3ZhciBkPW5ldyBSZWdFeHAoXCJcXFxcZCs9XCIsXCJpXCIpO2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuXCJcIjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7bGV0IHQ9ZVtyXTtpZihkLnRlc3QodCkpe2lmKHBhcnNlSW50KHQuc2xpY2UoMCx0LmluZGV4T2YoXCI9XCIpKSwxMCk9PT11KXJldHVybiB0LnNsaWNlKHQuaW5kZXhPZihcIj1cIikrMSk7ZVtyXT12b2lkIDB9fWU9ZS5maWx0ZXIodT0+ISF1KTtsZXQgcj10aGlzLmdldFBsdXJhbEZvcm0odSx0aGlzLmxvY2FsZSk7cmV0dXJuIHI9TWF0aC5taW4ocixlLmxlbmd0aC0xKSxlW3JdfWdldFBsdXJhbEZvcm0odSxlKXtjb25zdCBkPW5ldyBJbnRsLlBsdXJhbFJ1bGVzKGUpLHI9ZC5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLHQ9ZC5zZWxlY3QodSk7cmV0dXJuW1wiemVyb1wiLFwib25lXCIsXCJ0d29cIixcImZld1wiLFwibWFueVwiLFwib3RoZXJcIl0uZmlsdGVyKHU9PnIuaW5jbHVkZXModSkpLmluZGV4T2YodCl9Y29udmVydE51bWJlcih1LGUpe2xldCBkPXRoaXMuZGlnaXRUcmFuc2Zvcm1UYWJsZSh0aGlzLmxvY2FsZSkscj1TdHJpbmcodSksdD1cIlwiO2lmKCFkKXJldHVybiB1O2lmKGUpe2lmKHBhcnNlRmxvYXQodSwxMCk9PT11KXJldHVybiB1O2xldCBlPVtdO2ZvcihsZXQgdSBpbiBkKWVbZFt1XV09dTtkPWV9Zm9yKGxldCB1PTA7dTxyLmxlbmd0aDt1KyspZFtyW3VdXT90Kz1kW3JbdV1dOnQrPXJbdV07cmV0dXJuIGU/cGFyc2VGbG9hdCh0LDEwKTp0fWNvbnZlcnRHcmFtbWFyKHUsZSl7cmV0dXJuIHV9Z2VuZGVyKHUsZSl7aWYoIWV8fDA9PT1lLmxlbmd0aClyZXR1cm5cIlwiO2Zvcig7ZS5sZW5ndGg8MjspZS5wdXNoKGVbZS5sZW5ndGgtMV0pO3JldHVyblwibWFsZVwiPT09dT9lWzBdOlwiZmVtYWxlXCI9PT11P2VbMV06Mz09PWUubGVuZ3RoP2VbMl06ZVswXX1kaWdpdFRyYW5zZm9ybVRhYmxlKHUpe3JldHVybiEhclt1XSYmclt1XS5zcGxpdChcIlwiKX19dmFyIGE9e2JzOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJpbnN0cnVtZW50YWxcIjp1PVwicyBcIit1O2JyZWFrO2Nhc2VcImxva2F0aXZcIjp1PVwibyBcIit1fXJldHVybiB1fX0sZGVmYXVsdDp0LGRzYjpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtzd2l0Y2goZSl7Y2FzZVwiaW5zdHJ1bWVudGFsXCI6dT1cInogXCIrdTticmVhaztjYXNlXCJsb2thdGl3XCI6dT1cIndvIFwiK3V9cmV0dXJuIHV9fSxmaTpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtsZXQgZD11Lm1hdGNoKC9bYW91XVtew6TDtnldKiQvaSkscj11O3N3aXRjaCh1Lm1hdGNoKC93aWtpJC9pKSYmKGQ9ITEpLHUubWF0Y2goL1tiY2RmZ2hqa2xtbnBxcnN0dnd4el0kL2kpJiYodSs9XCJpXCIpLGUpe2Nhc2VcImdlbml0aXZlXCI6dSs9XCJuXCI7YnJlYWs7Y2FzZVwiZWxhdGl2ZVwiOnUrPWQ/XCJzdGFcIjpcInN0w6RcIjticmVhaztjYXNlXCJwYXJ0aXRpdmVcIjp1Kz1kP1wiYVwiOlwiw6RcIjticmVhaztjYXNlXCJpbGxhdGl2ZVwiOnUrPXUuc2xpY2UoLTEpK1wiblwiO2JyZWFrO2Nhc2VcImluZXNzaXZlXCI6dSs9ZD9cInNzYVwiOlwic3PDpFwiO2JyZWFrO2RlZmF1bHQ6dT1yfXJldHVybiB1fX0sZ2E6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7aWYoXCJhaW5tbGFlXCI9PT1lKXN3aXRjaCh1KXtjYXNlXCJhbiBEb21obmFjaFwiOnU9XCJEw6kgRG9taG5haWdoXCI7YnJlYWs7Y2FzZVwiYW4gTHVhblwiOnU9XCJEw6kgTHVhaW5cIjticmVhaztjYXNlXCJhbiBNaMOhaXJ0XCI6dT1cIkTDqSBNaMOhaXJ0XCI7YnJlYWs7Y2FzZVwiYW4gQ2jDqWFkYW9pblwiOnU9XCJEw6kgQ2jDqWFkYW9pblwiO2JyZWFrO2Nhc2VcImFuIETDqWFyZGFvaW5cIjp1PVwiRMOpYXJkYW9pblwiO2JyZWFrO2Nhc2VcImFuIEFvaW5lXCI6dT1cIkTDqSBoQW9pbmVcIjticmVhaztjYXNlXCJhbiBTYXRoYXJuXCI6dT1cIkTDqSBTYXRoYWlyblwifXJldHVybiB1fX0saGU6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcInByZWZpeGVkXCI6Y2FzZVwi16rXl9eZ15zXmdeqXCI6XCLXlVwiPT09dS5zbGljZSgwLDEpJiZcIteV15VcIiE9PXUuc2xpY2UoMCwyKSYmKHU9XCLXlVwiK3UpLFwi15RcIj09PXUuc2xpY2UoMCwxKSYmKHU9dS5zbGljZSgxKSksKHUuc2xpY2UoMCwxKTxcIteQXCJ8fHUuc2xpY2UoMCwxKT5cIteqXCIpJiYodT1cIta+XCIrdSl9cmV0dXJuIHV9fSxoc2I6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcImluc3RydW1lbnRhbFwiOnU9XCJ6IFwiK3U7YnJlYWs7Y2FzZVwibG9rYXRpd1wiOnU9XCJ3byBcIit1fXJldHVybiB1fX0saHU6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcInJvbFwiOnUrPVwicsOzbFwiO2JyZWFrO2Nhc2VcImJhXCI6dSs9XCJiYVwiO2JyZWFrO2Nhc2VcImtcIjp1Kz1cImtcIn1yZXR1cm4gdX19LGh5OmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3JldHVyblwiZ2VuaXRpdmVcIj09PWUmJihcItWhXCI9PT11LnNsaWNlKC0xKT91PXUuc2xpY2UoMCwtMSkrXCLVodW11atcIjpcItW4XCI9PT11LnNsaWNlKC0xKT91PXUuc2xpY2UoMCwtMSkrXCLVuNW11atcIjpcItWj1avWgNaEXCI9PT11LnNsaWNlKC00KT91PXUuc2xpY2UoMCwtNCkrXCLVo9aA1oTVq1wiOnUrPVwi1atcIiksdX19LGxhOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJnZW5pdGl2ZVwiOnU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9dS5yZXBsYWNlKC91W21zXSQvaSxcImlcIikpLnJlcGxhY2UoL29tbXVuaWEkL2ksXCJvbW11bml1bVwiKSkucmVwbGFjZSgvYSQvaSxcImFlXCIpKS5yZXBsYWNlKC9saWJyaSQvaSxcImxpYnJvcnVtXCIpKS5yZXBsYWNlKC9udW50aWkkL2ksXCJudW50aW9ydW1cIikpLnJlcGxhY2UoL3RpbyQvaSxcInRpb25pc1wiKSkucmVwbGFjZSgvbnMkL2ksXCJudGlzXCIpKS5yZXBsYWNlKC9hcyQvaSxcImF0aXNcIikpLnJlcGxhY2UoL2VzJC9pLFwiZWlcIik7YnJlYWs7Y2FzZVwiYWNjdXNhdGl2ZVwiOnU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9dS5yZXBsYWNlKC91W21zXSQvaSxcInVtXCIpKS5yZXBsYWNlKC9vbW11bmlhJC9pLFwiYW1cIikpLnJlcGxhY2UoL2EkL2ksXCJvbW11bmlhXCIpKS5yZXBsYWNlKC9saWJyaSQvaSxcImxpYnJvc1wiKSkucmVwbGFjZSgvbnVudGlpJC9pLFwibnVudGlvc1wiKSkucmVwbGFjZSgvdGlvJC9pLFwidGlvbmVtXCIpKS5yZXBsYWNlKC9ucyQvaSxcIm50ZW1cIikpLnJlcGxhY2UoL2FzJC9pLFwiYXRlbVwiKSkucmVwbGFjZSgvZXMkL2ksXCJlbVwiKTticmVhaztjYXNlXCJhYmxhdGl2ZVwiOnU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9KHU9dS5yZXBsYWNlKC91W21zXSQvaSxcIm9cIikpLnJlcGxhY2UoL29tbXVuaWEkL2ksXCJvbW11bmlidXNcIikpLnJlcGxhY2UoL2EkL2ksXCJhXCIpKS5yZXBsYWNlKC9saWJyaSQvaSxcImxpYnJpc1wiKSkucmVwbGFjZSgvbnVudGlpJC9pLFwibnVudGlpc1wiKSkucmVwbGFjZSgvdGlvJC9pLFwidGlvbmVcIikpLnJlcGxhY2UoL25zJC9pLFwibnRlXCIpKS5yZXBsYWNlKC9hcyQvaSxcImF0ZVwiKSkucmVwbGFjZSgvZXMkL2ksXCJlXCIpfXJldHVybiB1fX0sb3M6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7dmFyIGQscix0LGE7c3dpdGNoKGQ9XCLQvMOmXCIscj1cIlwiLHQ9XCJcIixhPVwiXCIsdS5tYXRjaCgv0YLDpiQvaSk/KHU9dS5zbGljZSgwLC0xKSxkPVwiw6bQvFwiKTp1Lm1hdGNoKC9b0LDDptC10ZHQuNC+0YvRjdGO0Y9dJC9pKT9yPVwi0LlcIjp1Lm1hdGNoKC/RgyQvaSk/dS5zbGljZSgtMiwtMSkubWF0Y2goL1vQsMOm0LXRkdC40L7Ri9GN0Y7Rj10kL2kpfHwocj1cItC5XCIpOnUubWF0Y2goL1vQsdCy0LPQtNC20LfQudC60LvQvNC90L7Qv9GA0YHRgtGE0YXRhtGH0YjRidGM0YpdJC9pKXx8KHQ9XCItXCIpLGUpe2Nhc2VcImdlbml0aXZlXCI6YT10K3IrXCLRi1wiO2JyZWFrO2Nhc2VcImRhdGl2ZVwiOmE9dCtyK1wiw6bQvVwiO2JyZWFrO2Nhc2VcImFsbGF0aXZlXCI6YT10K2Q7YnJlYWs7Y2FzZVwiYWJsYXRpdmVcIjphPVwi0LlcIj09PXI/dCtyK1wiw6ZcIjp0K3IrXCLDptC5XCI7YnJlYWs7Y2FzZVwic3VwZXJlc3NpdmVcIjphPXQrcitcItGL0LtcIjticmVhaztjYXNlXCJlcXVhdGl2ZVwiOmE9dCtyK1wi0LDRg1wiO2JyZWFrO2Nhc2VcImNvbWl0YXRpdmVcIjphPXQrXCLQuNC8w6ZcIn1yZXR1cm4gdSthfX0scnU6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7cmV0dXJuXCJnZW5pdGl2ZVwiPT09ZSYmKFwi0YxcIj09PXUuc2xpY2UoLTEpP3U9dS5zbGljZSgwLC0xKStcItGPXCI6XCLQuNGPXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQuNC4XCI6XCLQutCwXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQutC4XCI6XCLRgtC4XCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLRgtC10LlcIjpcItC00YtcIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItC00L7QslwiOlwi0L3QuNC6XCI9PT11LnNsaWNlKC0zKSYmKHU9dS5zbGljZSgwLC0zKStcItC90LjQutCwXCIpKSx1fX0sc2w6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcIm1lc3RuaWtcIjp1PVwibyBcIit1O2JyZWFrO2Nhc2VcIm9yb2RuaWtcIjp1PVwieiBcIit1fXJldHVybiB1fX0sdWs6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcImdlbml0aXZlXCI6XCLRjFwiPT09dS5zbGljZSgtMSk/dT11LnNsaWNlKDAsLTEpK1wi0Y9cIjpcItGW0Y9cIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItGW0ZdcIjpcItC60LBcIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItC60LhcIjpcItGC0LhcIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItGC0LXQuVwiOlwi0LTRi1wiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0LTQvtCyXCI6XCLQvdC40LpcIj09PXUuc2xpY2UoLTMpJiYodT11LnNsaWNlKDAsLTMpK1wi0L3QuNC60LBcIik7YnJlYWs7Y2FzZVwiYWNjdXNhdGl2ZVwiOlwi0ZbRj1wiPT09dS5zbGljZSgtMikmJih1PXUuc2xpY2UoMCwtMikrXCLRltGOXCIpfXJldHVybiB1fX19O2NvbnN0IG49bmV3IFJlZ0V4cChcIig/OihbQS1aYS16wqrCtcK6w4Atw5bDmC3DtsO4Lcq4yrsty4HLkMuRy6Aty6TLrs2wLc2zzbbNt826Lc29zb/Ohs6ILc6KzozOji3Ooc6jLc+1z7ct0oLSii3Ur9SxLdWW1Zkt1Z/VoS3Wh9aJ4KSDLeCkueCku+CkvS3gpYDgpYkt4KWM4KWOLeClkOClmC3gpaHgpaQt4KaA4KaC4KaD4KaFLeCmjOCmj+CmkOCmky3gpqjgpqot4Kaw4Kay4Ka2LeCmueCmvS3gp4Dgp4fgp4jgp4vgp4zgp47gp5fgp5zgp53gp58t4Keh4KemLeCnseCntC3gp7rgqIPgqIUt4KiK4KiP4KiQ4KiTLeCoqOCoqi3gqLDgqLLgqLPgqLXgqLbgqLjgqLngqL4t4KmA4KmZLeCpnOCpnuCppi3gqa/gqbIt4Km04KqD4KqFLeCqjeCqjy3gqpHgqpMt4Kqo4KqqLeCqsOCqsuCqs+CqtS3gqrngqr0t4KuA4KuJ4KuL4KuM4KuQ4Kug4Kuh4KumLeCrsOCrueCsguCsg+CshS3grIzgrI/grJDgrJMt4Kyo4KyqLeCssOCssuCss+CstS3grLngrL3grL7grYDgrYfgrYjgrYvgrYzgrZfgrZzgrZ3grZ8t4K2h4K2mLeCtt+Cug+CuhS3grorgro4t4K6Q4K6SLeCuleCumeCumuCunOCunuCun+Cuo+CupOCuqC3grqrgrq4t4K654K6+4K6/4K+B4K+C4K+GLeCviOCvii3gr4zgr5Dgr5fgr6Yt4K+y4LCBLeCwg+CwhS3gsIzgsI4t4LCQ4LCSLeCwqOCwqi3gsLngsL3gsYEt4LGE4LGYLeCxmuCxoOCxoeCxpi3gsa/gsb/gsoLgsoPgsoUt4LKM4LKOLeCykOCyki3gsqjgsqot4LKz4LK1LeCyueCyvS3gs4Tgs4Yt4LOI4LOK4LOL4LOV4LOW4LOe4LOg4LOh4LOmLeCzr+CzseCzsuC0guC0g+C0hS3gtIzgtI4t4LSQ4LSSLeC0uuC0vS3gtYDgtYYt4LWI4LWKLeC1jOC1juC1l+C1ny3gtaHgtaYt4LW14LW5LeC1v+C2guC2g+C2hS3gtpbgtpot4Lax4LazLeC2u+C2veC3gC3gt4bgt48t4LeR4LeYLeC3n+C3pi3gt6/gt7It4Le04LiBLeC4sOC4suC4s+C5gC3guYbguY8t4Lmb4LqB4LqC4LqE4LqH4LqI4LqK4LqN4LqULeC6l+C6mS3gup/guqEt4Lqj4Lql4Lqn4Lqq4Lqr4LqtLeC6sOC6suC6s+C6veC7gC3gu4Tgu4bgu5At4LuZ4LucLeC7n+C8gC3gvJfgvJot4Ly04Ly24Ly44Ly+LeC9h+C9iS3gvazgvb/gvoXgvogt4L6M4L6+LeC/heC/hy3gv4zgv44t4L+a4YCALeGArOGAseGAuOGAu+GAvOGAvy3hgZfhgZot4YGd4YGhLeGBsOGBtS3hgoHhgoPhgoThgoct4YKM4YKOLeGCnOGCni3hg4Xhg4fhg43hg5At4YmI4YmKLeGJjeGJkC3hiZbhiZjhiZot4Ymd4YmgLeGKiOGKii3hio3hipAt4Yqw4YqyLeGKteGKuC3hir7hi4Dhi4It4YuF4YuILeGLluGLmC3hjJDhjJIt4YyV4YyYLeGNmuGNoC3hjbzhjoAt4Y6P4Y6gLeGPteGPuC3hj73hkIEt4Zm/4ZqBLeGamuGaoC3hm7jhnIAt4ZyM4ZyOLeGckeGcoC3hnLHhnLXhnLbhnYAt4Z2R4Z2gLeGdrOGdri3hnbDhnoAt4Z6z4Z624Z6+LeGfheGfh+GfiOGflC3hn5rhn5zhn6At4Z+p4aCQLeGgmeGgoC3hobfhooAt4aKo4aKq4aKwLeGjteGkgC3hpJ7hpKMt4aSm4aSpLeGkq+GksOGkseGksy3hpLjhpYYt4aWt4aWwLeGltOGmgC3hpqvhprAt4aeJ4aeQLeGnmuGogC3hqJbhqJnhqJrhqJ4t4amV4amX4amh4amj4amk4amtLeGpsuGqgC3hqonhqpAt4aqZ4aqgLeGqreGshC3hrLPhrLXhrLvhrL0t4a2B4a2DLeGti+GtkC3hrarhrbQt4a284a6CLeGuoeGupuGup+GuquGuri3hr6Xhr6fhr6ot4a+s4a+u4a+y4a+z4a+8LeGwq+GwtOGwteGwuy3hsYnhsY0t4bG/4bOALeGzh+Gzk+GzoeGzqS3hs6zhs64t4bOz4bO14bO24bSALeG2v+G4gC3hvJXhvJgt4byd4bygLeG9heG9iC3hvY3hvZAt4b2X4b2Z4b2b4b2d4b2fLeG9veG+gC3hvrThvrYt4b684b6+4b+CLeG/hOG/hi3hv4zhv5At4b+T4b+WLeG/m+G/oC3hv6zhv7It4b+04b+2LeG/vOKAjuKBseKBv+KCkC3igpzihILihIfihIot4oST4oSV4oSZLeKEneKEpOKEpuKEqOKEqi3ihK3ihK8t4oS54oS8LeKEv+KFhS3ihYnihY7ihY/ihaAt4oaI4oy2LeKNuuKOleKSnC3ik6nimqzioIAt4qO/4rCALeKwruKwsC3isZ7isaAt4rOk4rOrLeKzruKzsuKzs+K0gC3itKXitKfitK3itLAt4rWn4rWv4rWw4raALeK2luK2oC3itqbitqgt4rau4rawLeK2tuK2uC3itr7it4At4reG4reILeK3juK3kC3it5bit5gt4ree44CFLeOAh+OAoS3jgKnjgK7jgK/jgLEt44C144C4LeOAvOOBgS3jgpbjgp0t44Kf44KhLeODuuODvC3jg7/jhIUt44St44SxLeOGjuOGkC3jhrrjh7At44ic44igLeOJj+OJoC3jibvjib8t44qw44uALeOLi+OLkC3ji77jjIAt44224427LeOPneOPoC3jj77jkIAt5La15LiALem/leqAgC3qkozqk5At6piM6piQLeqYq+qZgC3qma7qmoAt6pqd6pqgLeqbr+qbsi3qm7fqnKIt6p6H6p6JLeqereqesC3qnrfqn7ct6qCB6qCDLeqgheqghy3qoIrqoIwt6qCk6qCn6qCwLeqgt+qhgC3qobPqooAt6qOD6qOOLeqjmeqjsi3qo73qpIAt6qSl6qSuLeqlhuqlkuqlk+qlny3qpbzqpoMt6qay6qa06qa16qa66qa76qa9Leqnjeqnjy3qp5nqp54t6qek6qemLeqnvuqogC3qqKjqqK/qqLDqqLPqqLTqqYAt6qmC6qmELeqpi+qpjeqpkC3qqZnqqZwt6qm76qm9Leqqr+qqseqqteqqtuqquS3qqr3qq4Dqq4Lqq5st6qur6quuLeqrteqsgS3qrIbqrIkt6qyO6qyRLeqsluqsoC3qrKbqrKgt6qyu6qywLeqtpeqtsC3qr6Tqr6bqr6fqr6kt6q+s6q+wLeqvueqwgC3tnqPtnrAt7Z+G7Z+LLe2fu+6AgC3vqa3vqbAt76uZ76yALe+shu+sky3vrJfvvKEt77y6772BLe+9mu+9pi3vvr7vv4It77+H77+KLe+/j++/ki3vv5fvv5ot77+cXXxcXHVkODAwW1xcdWRjMDAtXFx1ZGMwYl18XFx1ZDgwMFtcXHVkYzBkLVxcdWRjMjZdfFxcdWQ4MDBbXFx1ZGMyOC1cXHVkYzNhXXzwkIC8fPCQgL18XFx1ZDgwMFtcXHVkYzNmLVxcdWRjNGRdfFxcdWQ4MDBbXFx1ZGM1MC1cXHVkYzVkXXxcXHVkODAwW1xcdWRjODAtXFx1ZGNmYV188JCEgHzwkISCfFxcdWQ4MDBbXFx1ZGQwNy1cXHVkZDMzXXxcXHVkODAwW1xcdWRkMzctXFx1ZGQzZl18XFx1ZDgwMFtcXHVkZGQwLVxcdWRkZmNdfFxcdWQ4MDBbXFx1ZGU4MC1cXHVkZTljXXxcXHVkODAwW1xcdWRlYTAtXFx1ZGVkMF18XFx1ZDgwMFtcXHVkZjAwLVxcdWRmMjNdfFxcdWQ4MDBbXFx1ZGYzMC1cXHVkZjRhXXxcXHVkODAwW1xcdWRmNTAtXFx1ZGY3NV18XFx1ZDgwMFtcXHVkZjgwLVxcdWRmOWRdfFxcdWQ4MDBbXFx1ZGY5Zi1cXHVkZmMzXXxcXHVkODAwW1xcdWRmYzgtXFx1ZGZkNV18XFx1ZDgwMVtcXHVkYzAwLVxcdWRjOWRdfFxcdWQ4MDFbXFx1ZGNhMC1cXHVkY2E5XXxcXHVkODAxW1xcdWRkMDAtXFx1ZGQyN118XFx1ZDgwMVtcXHVkZDMwLVxcdWRkNjNdfPCQla98XFx1ZDgwMVtcXHVkZTAwLVxcdWRmMzZdfFxcdWQ4MDFbXFx1ZGY0MC1cXHVkZjU1XXxcXHVkODAxW1xcdWRmNjAtXFx1ZGY2N1188JGAgHxcXHVkODA0W1xcdWRjMDItXFx1ZGMzN118XFx1ZDgwNFtcXHVkYzQ3LVxcdWRjNGRdfFxcdWQ4MDRbXFx1ZGM2Ni1cXHVkYzZmXXxcXHVkODA0W1xcdWRjODItXFx1ZGNiMl188JGCt3zwkYK4fFxcdWQ4MDRbXFx1ZGNiYi1cXHVkY2MxXXxcXHVkODA0W1xcdWRjZDAtXFx1ZGNlOF18XFx1ZDgwNFtcXHVkY2YwLVxcdWRjZjldfFxcdWQ4MDRbXFx1ZGQwMy1cXHVkZDI2XXzwkYSsfFxcdWQ4MDRbXFx1ZGQzNi1cXHVkZDQzXXxcXHVkODA0W1xcdWRkNTAtXFx1ZGQ3Ml18XFx1ZDgwNFtcXHVkZDc0LVxcdWRkNzZdfFxcdWQ4MDRbXFx1ZGQ4Mi1cXHVkZGI1XXxcXHVkODA0W1xcdWRkYmYtXFx1ZGRjOV188JGHjXxcXHVkODA0W1xcdWRkZDAtXFx1ZGRkZl18XFx1ZDgwNFtcXHVkZGUxLVxcdWRkZjRdfFxcdWQ4MDRbXFx1ZGUwMC1cXHVkZTExXXxcXHVkODA0W1xcdWRlMTMtXFx1ZGUyZV188JGIsnzwkYizfPCRiLV8XFx1ZDgwNFtcXHVkZTM4LVxcdWRlM2RdfFxcdWQ4MDRbXFx1ZGU4MC1cXHVkZTg2XXzwkYqIfFxcdWQ4MDRbXFx1ZGU4YS1cXHVkZThkXXxcXHVkODA0W1xcdWRlOGYtXFx1ZGU5ZF18XFx1ZDgwNFtcXHVkZTlmLVxcdWRlYTldfFxcdWQ4MDRbXFx1ZGViMC1cXHVkZWRlXXxcXHVkODA0W1xcdWRlZTAtXFx1ZGVlMl18XFx1ZDgwNFtcXHVkZWYwLVxcdWRlZjldfPCRjIJ88JGMg3xcXHVkODA0W1xcdWRmMDUtXFx1ZGYwY1188JGMj3zwkYyQfFxcdWQ4MDRbXFx1ZGYxMy1cXHVkZjI4XXxcXHVkODA0W1xcdWRmMmEtXFx1ZGYzMF188JGMsnzwkYyzfFxcdWQ4MDRbXFx1ZGYzNS1cXHVkZjM5XXxcXHVkODA0W1xcdWRmM2QtXFx1ZGYzZl18XFx1ZDgwNFtcXHVkZjQxLVxcdWRmNDRdfPCRjYd88JGNiHxcXHVkODA0W1xcdWRmNGItXFx1ZGY0ZF188JGNkHzwkY2XfFxcdWQ4MDRbXFx1ZGY1ZC1cXHVkZjYzXXxcXHVkODA1W1xcdWRjODAtXFx1ZGNiMl188JGSuXxcXHVkODA1W1xcdWRjYmItXFx1ZGNiZV188JGTgXxcXHVkODA1W1xcdWRjYzQtXFx1ZGNjN118XFx1ZDgwNVtcXHVkY2QwLVxcdWRjZDldfFxcdWQ4MDVbXFx1ZGQ4MC1cXHVkZGIxXXxcXHVkODA1W1xcdWRkYjgtXFx1ZGRiYl188JGWvnxcXHVkODA1W1xcdWRkYzEtXFx1ZGRkYl18XFx1ZDgwNVtcXHVkZTAwLVxcdWRlMzJdfPCRmLt88JGYvHzwkZi+fFxcdWQ4MDVbXFx1ZGU0MS1cXHVkZTQ0XXxcXHVkODA1W1xcdWRlNTAtXFx1ZGU1OV18XFx1ZDgwNVtcXHVkZTgwLVxcdWRlYWFdfPCRmqx88JGarnzwkZqvfPCRmrZ8XFx1ZDgwNVtcXHVkZWMwLVxcdWRlYzldfFxcdWQ4MDVbXFx1ZGYwMC1cXHVkZjE5XXzwkZygfPCRnKF88JGcpnxcXHVkODA1W1xcdWRmMzAtXFx1ZGYzZl18XFx1ZDgwNltcXHVkY2EwLVxcdWRjZjJdfPCRo798XFx1ZDgwNltcXHVkZWMwLVxcdWRlZjhdfFxcdWQ4MDhbXFx1ZGMwMC1cXHVkZjk5XXxcXHVkODA5W1xcdWRjMDAtXFx1ZGM2ZV18XFx1ZDgwOVtcXHVkYzcwLVxcdWRjNzRdfFxcdWQ4MDlbXFx1ZGM4MC1cXHVkZDQzXXxcXHVkODBjW1xcdWRjMDAtXFx1ZGZmZl18XFx1ZDgwZFtcXHVkYzAwLVxcdWRjMmVdfFxcdWQ4MTFbXFx1ZGMwMC1cXHVkZTQ2XXxcXHVkODFhW1xcdWRjMDAtXFx1ZGUzOF18XFx1ZDgxYVtcXHVkZTQwLVxcdWRlNWVdfFxcdWQ4MWFbXFx1ZGU2MC1cXHVkZTY5XXzwlqmufPCWqa98XFx1ZDgxYVtcXHVkZWQwLVxcdWRlZWRdfPCWq7V8XFx1ZDgxYVtcXHVkZjAwLVxcdWRmMmZdfFxcdWQ4MWFbXFx1ZGYzNy1cXHVkZjQ1XXxcXHVkODFhW1xcdWRmNTAtXFx1ZGY1OV18XFx1ZDgxYVtcXHVkZjViLVxcdWRmNjFdfFxcdWQ4MWFbXFx1ZGY2My1cXHVkZjc3XXxcXHVkODFhW1xcdWRmN2QtXFx1ZGY4Zl18XFx1ZDgxYltcXHVkZjAwLVxcdWRmNDRdfFxcdWQ4MWJbXFx1ZGY1MC1cXHVkZjdlXXxcXHVkODFiW1xcdWRmOTMtXFx1ZGY5Zl188JuAgHzwm4CBfFxcdWQ4MmZbXFx1ZGMwMC1cXHVkYzZhXXxcXHVkODJmW1xcdWRjNzAtXFx1ZGM3Y118XFx1ZDgyZltcXHVkYzgwLVxcdWRjODhdfFxcdWQ4MmZbXFx1ZGM5MC1cXHVkYzk5XXzwm7KcfPCbsp98XFx1ZDgzNFtcXHVkYzAwLVxcdWRjZjVdfFxcdWQ4MzRbXFx1ZGQwMC1cXHVkZDI2XXxcXHVkODM0W1xcdWRkMjktXFx1ZGQ2Nl18XFx1ZDgzNFtcXHVkZDZhLVxcdWRkNzJdfPCdhoN88J2GhHxcXHVkODM0W1xcdWRkOGMtXFx1ZGRhOV18XFx1ZDgzNFtcXHVkZGFlLVxcdWRkZThdfFxcdWQ4MzRbXFx1ZGY2MC1cXHVkZjcxXXxcXHVkODM1W1xcdWRjMDAtXFx1ZGM1NF18XFx1ZDgzNVtcXHVkYzU2LVxcdWRjOWNdfPCdkp588J2Sn3zwnZKifPCdkqV88J2SpnxcXHVkODM1W1xcdWRjYTktXFx1ZGNhY118XFx1ZDgzNVtcXHVkY2FlLVxcdWRjYjldfPCdkrt8XFx1ZDgzNVtcXHVkY2JkLVxcdWRjYzNdfFxcdWQ4MzVbXFx1ZGNjNS1cXHVkZDA1XXxcXHVkODM1W1xcdWRkMDctXFx1ZGQwYV18XFx1ZDgzNVtcXHVkZDBkLVxcdWRkMTRdfFxcdWQ4MzVbXFx1ZGQxNi1cXHVkZDFjXXxcXHVkODM1W1xcdWRkMWUtXFx1ZGQzOV18XFx1ZDgzNVtcXHVkZDNiLVxcdWRkM2VdfFxcdWQ4MzVbXFx1ZGQ0MC1cXHVkZDQ0XXzwnZWGfFxcdWQ4MzVbXFx1ZGQ0YS1cXHVkZDUwXXxcXHVkODM1W1xcdWRkNTItXFx1ZGVhNV18XFx1ZDgzNVtcXHVkZWE4LVxcdWRlZGFdfFxcdWQ4MzVbXFx1ZGVkYy1cXHVkZjE0XXxcXHVkODM1W1xcdWRmMTYtXFx1ZGY0ZV18XFx1ZDgzNVtcXHVkZjUwLVxcdWRmODhdfFxcdWQ4MzVbXFx1ZGY4YS1cXHVkZmMyXXxcXHVkODM1W1xcdWRmYzQtXFx1ZGZjYl18XFx1ZDgzNltcXHVkYzAwLVxcdWRkZmZdfFxcdWQ4MzZbXFx1ZGUzNy1cXHVkZTNhXXxcXHVkODM2W1xcdWRlNmQtXFx1ZGU3NF18XFx1ZDgzNltcXHVkZTc2LVxcdWRlODNdfFxcdWQ4MzZbXFx1ZGU4NS1cXHVkZThiXXxcXHVkODNjW1xcdWRkMTAtXFx1ZGQyZV18XFx1ZDgzY1tcXHVkZDMwLVxcdWRkNjldfFxcdWQ4M2NbXFx1ZGQ3MC1cXHVkZDlhXXxcXHVkODNjW1xcdWRkZTYtXFx1ZGUwMl18XFx1ZDgzY1tcXHVkZTEwLVxcdWRlM2FdfFxcdWQ4M2NbXFx1ZGU0MC1cXHVkZTQ4XXzwn4mQfPCfiZF8W1xcdWQ4NDAtXFx1ZDg2OF1bXFx1ZGMwMC1cXHVkZmZmXXxcXHVkODY5W1xcdWRjMDAtXFx1ZGVkNl18XFx1ZDg2OVtcXHVkZjAwLVxcdWRmZmZdfFtcXHVkODZhLVxcdWQ4NmNdW1xcdWRjMDAtXFx1ZGZmZl18XFx1ZDg2ZFtcXHVkYzAwLVxcdWRmMzRdfFxcdWQ4NmRbXFx1ZGY0MC1cXHVkZmZmXXxcXHVkODZlW1xcdWRjMDAtXFx1ZGMxZF18XFx1ZDg2ZVtcXHVkYzIwLVxcdWRmZmZdfFtcXHVkODZmLVxcdWQ4NzJdW1xcdWRjMDAtXFx1ZGZmZl18XFx1ZDg3M1tcXHVkYzAwLVxcdWRlYTFdfFxcdWQ4N2VbXFx1ZGMwMC1cXHVkZTFkXXxbXFx1ZGI4MC1cXHVkYmJlXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWRiYmZbXFx1ZGMwMC1cXHVkZmZkXXxbXFx1ZGJjMC1cXHVkYmZlXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWRiZmZbXFx1ZGMwMC1cXHVkZmZkXSl8KFvWkNa+14DXg9eG14gt17/fgC3fqt+037Xfui3goJXgoJrgoKTgoKjgoK4t4KGY4KGcLeCin+KAj++sne+sny3vrKjvrKot762P2IjYi9iN2Jst2YrZrS3Zr9mxLduV26Xbptuu26/bui3ckNySLdyv3Yst3qXesS3ev+CioC3go6LvrZAt77S977WALe+3j++3sC3vt7zvt77vt7/vubAt77u+XXxcXHVkODAyW1xcdWRjMDAtXFx1ZGQxZV18XFx1ZDgwMltcXHVkZDIwLVxcdWRlMDBdfPCQqIR8XFx1ZDgwMltcXHVkZTA3LVxcdWRlMGJdfFxcdWQ4MDJbXFx1ZGUxMC1cXHVkZTM3XXxcXHVkODAyW1xcdWRlM2ItXFx1ZGUzZV18XFx1ZDgwMltcXHVkZTQwLVxcdWRlZTRdfFxcdWQ4MDJbXFx1ZGVlNy1cXHVkZjM4XXxcXHVkODAyW1xcdWRmNDAtXFx1ZGZmZl18XFx1ZDgwM1tcXHVkYzAwLVxcdWRlNWZdfFxcdWQ4MDNbXFx1ZGU3Zi1cXHVkZmZmXXxcXHVkODNhW1xcdWRjMDAtXFx1ZGNjZl18XFx1ZDgzYVtcXHVkY2Q3LVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGMwMC1cXHVkZGZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZTAwLVxcdWRlZWZdfFxcdWQ4M2JbXFx1ZGVmMi1cXHVkZWZmXSkpXCIpO3ZhciBjPWNsYXNze2NvbnN0cnVjdG9yKHUpe3RoaXMubG9jYWxlPXUsdGhpcy5sYW5ndWFnZT1uZXcoYVt1XXx8YS5kZWZhdWx0KSh1KX1lbWl0KHUsZSl7bGV0IGQscix0O3N3aXRjaCh0eXBlb2YgdSl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6ZD11O2JyZWFrO2Nhc2VcIm9iamVjdFwiOmlmKHI9dS5zbGljZSgxKS5tYXAodT0+dGhpcy5lbWl0KHUsZSkpLHQ9dVswXS50b0xvd2VyQ2FzZSgpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbdF0pdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdGlvbiBcIicrdCsnXCInKTtkPXRoaXNbdF0ocixlKTticmVhaztjYXNlXCJ1bmRlZmluZWRcIjpkPVwiXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHR5cGUgaW4gQVNUOiBcIit0eXBlb2YgdSl9cmV0dXJuIGR9Y29uY2F0KHUpe2xldCBlPVwiXCI7cmV0dXJuIHUuZm9yRWFjaCh1PT57ZSs9dX0pLGV9cmVwbGFjZSh1LGUpe2xldCBkPXBhcnNlSW50KHVbMF0sMTApO3JldHVybiBkPGUubGVuZ3RoP2VbZF06XCIkXCIrKGQrMSl9cGx1cmFsKHUpe2xldCBlPXBhcnNlRmxvYXQodGhpcy5sYW5ndWFnZS5jb252ZXJ0TnVtYmVyKHVbMF0sMTApKSxkPXUuc2xpY2UoMSk7cmV0dXJuIGQubGVuZ3RoP3RoaXMubGFuZ3VhZ2UuY29udmVydFBsdXJhbChlLGQpOlwiXCJ9Z2VuZGVyKHUpe2xldCBlPXVbMF0sZD11LnNsaWNlKDEpO3JldHVybiB0aGlzLmxhbmd1YWdlLmdlbmRlcihlLGQpfWdyYW1tYXIodSl7bGV0IGU9dVswXSxkPXVbMV07cmV0dXJuIGQmJmUmJnRoaXMubGFuZ3VhZ2UuY29udmVydEdyYW1tYXIoZCxlKX1iaWRpKHUpe3ZhciBlPWZ1bmN0aW9uKHUpe3ZhciBlPXUubWF0Y2gobik7aWYoIWUpcmV0dXJuIG51bGw7aWYodm9pZCAwPT09ZVsyXSlyZXR1cm5cImx0clwiO3JldHVyblwicnRsXCJ9KHVbMF0pO3JldHVyblwibHRyXCI9PT1lP1wi4oCqXCIrdVswXStcIuKArFwiOlwicnRsXCI9PT1lP1wi4oCrXCIrdVswXStcIuKArFwiOnVbMF19fTtmdW5jdGlvbiBsKHUpe2xldCBlLGQscix0LGEsbixjLGwscyxpLGYsbyxoLGIsbSxwLGssZyx2PTA7ZnVuY3Rpb24geih1KXtyZXR1cm4oKT0+e2ZvcihsZXQgZT0wO2U8dS5sZW5ndGg7ZSsrKXtsZXQgZD11W2VdKCk7aWYobnVsbCE9PWQpcmV0dXJuIGR9cmV0dXJuIG51bGx9fWZ1bmN0aW9uIHcodSl7bGV0IGU9dixkPVtdO2ZvcihsZXQgcj0wO3I8dS5sZW5ndGg7cisrKXtsZXQgdD11W3JdKCk7aWYobnVsbD09PXQpcmV0dXJuIHY9ZSxudWxsO2QucHVzaCh0KX1yZXR1cm4gZH1mdW5jdGlvbiB5KHUsZSl7cmV0dXJuKCk9PntsZXQgZD12LHI9W10sdD1lKCk7Zm9yKDtudWxsIT09dDspci5wdXNoKHQpLHQ9ZSgpO3JldHVybiByLmxlbmd0aDx1Pyh2PWQsbnVsbCk6cn19ZnVuY3Rpb24gJChlKXtsZXQgZD1lLmxlbmd0aDtyZXR1cm4oKT0+e2xldCByPW51bGw7cmV0dXJuIHUuc2xpY2Uodix2K2QpPT09ZSYmKHI9ZSx2Kz1kKSxyfX1mdW5jdGlvbiB4KGUpe3JldHVybigpPT57bGV0IGQ9dS5zbGljZSh2KS5tYXRjaChlKTtyZXR1cm4gbnVsbD09PWQ/bnVsbDoodis9ZFswXS5sZW5ndGgsZFswXSl9fWZ1bmN0aW9uIGooKXtsZXQgdT13KFtyLHRdKTtyZXR1cm4gbnVsbD09PXU/bnVsbDp1WzFdfWZ1bmN0aW9uIE0oKXtsZXQgdT13KFthLG5dKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpbXCJSRVBMQUNFXCIscGFyc2VJbnQodVsxXSwxMCktMV19dmFyIE8sUztmdW5jdGlvbiBHKCl7bGV0IHU9dyhbZSx5KDAsayldKTtpZihudWxsPT09dSlyZXR1cm4gbnVsbDtsZXQgZD11WzFdO3JldHVybiBkLmxlbmd0aD4xP1tcIkNPTkNBVFwiXS5jb25jYXQoZCk6ZFswXX1mdW5jdGlvbiBQKCl7bGV0IHU9dyhbaCxkLE1dKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpbdVswXSx1WzJdXX1mdW5jdGlvbiBxKCl7bGV0IHU9dyhbaCxkLGtdKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpbdVswXSx1WzJdXX1mdW5jdGlvbiBGKCl7bGV0IHU9dyhbYixvLG1dKTtyZXR1cm4gbnVsbD09PXU/bnVsbDp1WzFdfWlmKGU9JChcInxcIiksZD0kKFwiOlwiKSxyPSQoXCJcXFxcXCIpLHQ9eCgvXi4vKSxhPSQoXCIkXCIpLG49eCgvXlxcZCsvKSxjPXgoL15bXnt9W1xcXSRcXFxcXS8pLGw9eCgvXltee31bXFxdJFxcXFx8XS8pLHM9eCgvXltee31bXFxdJFxcc10vKSx6KFtqLHNdKSxpPXooW2osbF0pLGY9eihbaixjXSksTz14KC9eWyAhXCIkJicoKSosLi8wLTk7PT9AQS1aXl9gYS16flxceDgwLVxceEZGKy1dKy8pLFM9ZnVuY3Rpb24odSl7cmV0dXJuIHUudG9TdHJpbmcoKX0saD0oKT0+e2xldCB1PU8oKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpTKHUpfSxvPXooW2Z1bmN0aW9uKCl7bGV0IHU9dyhbeihbUCxxXSkseSgwLEcpXSk7cmV0dXJuIG51bGw9PT11P251bGw6dVswXS5jb25jYXQodVsxXSl9LGZ1bmN0aW9uKCl7bGV0IHU9dyhbaCx5KDAsRyldKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpbdVswXV0uY29uY2F0KHVbMV0pfV0pLGI9JChcInt7XCIpLG09JChcIn19XCIpLHA9eihbRixNLGZ1bmN0aW9uKCl7bGV0IHU9eSgxLGYpKCk7cmV0dXJuIG51bGw9PT11P251bGw6dS5qb2luKFwiXCIpfV0pLGs9eihbRixNLGZ1bmN0aW9uKCl7bGV0IHU9eSgxLGkpKCk7cmV0dXJuIG51bGw9PT11P251bGw6dS5qb2luKFwiXCIpfV0pLGc9ZnVuY3Rpb24oKXtsZXQgdT15KDAscCkoKTtyZXR1cm4gbnVsbD09PXU/bnVsbDpbXCJDT05DQVRcIl0uY29uY2F0KHUpfSgpLG51bGw9PT1nfHx2IT09dS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiUGFyc2UgZXJyb3IgYXQgcG9zaXRpb24gXCIrdi50b1N0cmluZygpK1wiIGluIGlucHV0OiBcIit1KTtyZXR1cm4gZ31jbGFzcyBze2NvbnN0cnVjdG9yKHUpe3RoaXMubG9jYWxlPXUsdGhpcy5lbWl0dGVyPW5ldyBjKHRoaXMubG9jYWxlKX1wYXJzZSh1LGUpe2lmKHUuaW5jbHVkZXMoXCJ7e1wiKSl7bGV0IGQ9bmV3IGwodSk7cmV0dXJuIHRoaXMuZW1pdHRlci5lbWl0KGQsZSl9cmV0dXJuIHRoaXMuc2ltcGxlUGFyc2UodSxlKX1zaW1wbGVQYXJzZSh1LGUpe3JldHVybiB1LnJlcGxhY2UoL1xcJChcXGQrKS9nLCh1LGQpPT57bGV0IHI9cGFyc2VJbnQoZCwxMCktMTtyZXR1cm4gdm9pZCAwIT09ZVtyXT9lW3JdOlwiJFwiK2R9KX19Y2xhc3MgaXtjb25zdHJ1Y3Rvcih1KXt0aGlzLnNvdXJjZU1hcD1uZXcgTWFwfWxvYWQodSxlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgdSl0aHJvdyBFcnJvcihcIkludmFsaWQgbWVzc2FnZSBzb3VyY2UuIE11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKGUpe2lmKCEvXlthLXpBLVowLTktXSskLy50ZXN0KGUpKXRocm93IEVycm9yKGBJbnZhbGlkIGxvY2FsZSAke2V9YCk7Zm9yKGxldCBkIGluIHUpaWYoMCE9PWQuaW5kZXhPZihcIkBcIikpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB1W2RdKXJldHVybiB0aGlzLmxvYWQodSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHVbZF0pdGhyb3cgRXJyb3IoYEludmFsaWQgbWVzc2FnZSBmb3IgbWVzc2FnZSAke2R9IGluICR7ZX0gbG9jYWxlLmApO2JyZWFrfXRoaXMuc291cmNlTWFwLmhhcyhlKT90aGlzLnNvdXJjZU1hcC5zZXQoZSxPYmplY3QuYXNzaWduKHRoaXMuc291cmNlTWFwLmdldChlKSx1KSk6dGhpcy5zb3VyY2VNYXAuc2V0KGUsdSl9ZWxzZSBmb3IoZSBpbiB1KXRoaXMubG9hZCh1W2VdLGUpfWdldE1lc3NhZ2UodSxlKXtsZXQgZD10aGlzLnNvdXJjZU1hcC5nZXQoZSk7cmV0dXJuIGQ/ZFt1XTpudWxsfWhhc0xvY2FsZSh1KXtyZXR1cm4gdGhpcy5zb3VyY2VNYXAuaGFzKHUpfX12YXIgZj1kKDEpO2QuZChlLFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO2NsYXNzIG97Y29uc3RydWN0b3IodSxlKXtlPWV8fHt9LHRoaXMubG9jYWxlPXUsdGhpcy5wYXJzZXI9bmV3IHModGhpcy5sb2NhbGUpLHRoaXMubWVzc2FnZVN0b3JlPW5ldyBpLGUubWVzc2FnZXMmJnRoaXMubG9hZChlLm1lc3NhZ2VzLHRoaXMubG9jYWxlKSx0aGlzLmZpbmFsRmFsbGJhY2s9ZS5maW5hbEZhbGxiYWNrfHxcImVuXCJ9bG9hZCh1LGUpe3JldHVybiB0aGlzLm1lc3NhZ2VTdG9yZS5sb2FkKHUsZXx8dGhpcy5sb2NhbGUpfWkxOG4odSwuLi5lKXtyZXR1cm4gdGhpcy5wYXJzZXIucGFyc2UodGhpcy5nZXRNZXNzYWdlKHUpLGUpfXNldExvY2FsZSh1KXt0aGlzLmxvY2FsZT11LHRoaXMucGFyc2VyPW5ldyBzKHRoaXMubG9jYWxlKX1nZXRGYWxsYmFja0xvY2FsZXMoKXtyZXR1cm5bLi4uZlt0aGlzLmxvY2FsZV18fFtdLHRoaXMuZmluYWxGYWxsYmFja119Z2V0TWVzc2FnZSh1KXtsZXQgZT10aGlzLmxvY2FsZSxkPTA7Y29uc3Qgcj10aGlzLmdldEZhbGxiYWNrTG9jYWxlcyh0aGlzLmxvY2FsZSk7Zm9yKDtlOyl7bGV0IHQ9ZS5zcGxpdChcIi1cIiksYT10Lmxlbmd0aDtkb3tsZXQgZT10LnNsaWNlKDAsYSkuam9pbihcIi1cIiksZD10aGlzLm1lc3NhZ2VTdG9yZS5nZXRNZXNzYWdlKHUsZSk7aWYoZClyZXR1cm4gZDthLS19d2hpbGUoYSk7ZT1yW2RdLGQrK31yZXR1cm4gdX19fV0pLmRlZmF1bHR9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYW5hbmEtaTE4bi5qcy5tYXAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyohXFxuICogalF1ZXJ5IFVJIENTUyBGcmFtZXdvcmsgMS4xMi4xXFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxcbiAqXFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXFxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxcbiAqXFxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvdGhlbWluZy9cXG4gKi9cXG5cXG4vKiBMYXlvdXQgaGVscGVyc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcbi51aS1oZWxwZXItaGlkZGVuIHtcXG5cXHRkaXNwbGF5OiBub25lO1xcbn1cXG4udWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIHtcXG5cXHRib3JkZXI6IDA7XFxuXFx0Y2xpcDogcmVjdCgwIDAgMCAwKTtcXG5cXHRoZWlnaHQ6IDFweDtcXG5cXHRtYXJnaW46IC0xcHg7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR3aWR0aDogMXB4O1xcbn1cXG4udWktaGVscGVyLXJlc2V0IHtcXG5cXHRtYXJnaW46IDA7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRib3JkZXI6IDA7XFxuXFx0b3V0bGluZTogMDtcXG5cXHRsaW5lLWhlaWdodDogMS4zO1xcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0bGlzdC1zdHlsZTogbm9uZTtcXG59XFxuLnVpLWhlbHBlci1jbGVhcmZpeDpiZWZvcmUsXFxuLnVpLWhlbHBlci1jbGVhcmZpeDphZnRlciB7XFxuXFx0Y29udGVudDogXFxcIlxcXCI7XFxuXFx0ZGlzcGxheTogdGFibGU7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG59XFxuLnVpLWhlbHBlci1jbGVhcmZpeDphZnRlciB7XFxuXFx0Y2xlYXI6IGJvdGg7XFxufVxcbi51aS1oZWxwZXItemZpeCB7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRvcGFjaXR5OiAwO1xcblxcdGZpbHRlcjpBbHBoYShPcGFjaXR5PTApOyAvKiBzdXBwb3J0OiBJRTggKi9cXG59XFxuXFxuLnVpLWZyb250IHtcXG5cXHR6LWluZGV4OiAxMDA7XFxufVxcblxcblxcbi8qIEludGVyYWN0aW9uIEN1ZXNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktc3RhdGUtZGlzYWJsZWQge1xcblxcdGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50O1xcblxcdHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG5cXG4vKiBJY29uc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcbi51aS1pY29uIHtcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuXFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG5cXHRtYXJnaW4tdG9wOiAtLjI1ZW07XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdHRleHQtaW5kZW50OiAtOTk5OTlweDtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcblxcbi51aS13aWRnZXQtaWNvbi1ibG9jayB7XFxuXFx0bGVmdDogNTAlO1xcblxcdG1hcmdpbi1sZWZ0OiAtOHB4O1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4vKiBNaXNjIHZpc3VhbHNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKiBPdmVybGF5cyAqL1xcbi51aS13aWRnZXQtb3ZlcmxheSB7XFxuXFx0cG9zaXRpb246IGZpeGVkO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuXCIsIFwiXCJdKTtcblxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiAqIGpRdWVyeSBVSSBTbGlkZXIgMS4xMi4xXFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxcbiAqXFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXFxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxcbiAqXFxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGVyLyN0aGVtaW5nXFxuICovXFxuLnVpLXNsaWRlciB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdHRleHQtYWxpZ246IGxlZnQ7XFxufVxcbi51aS1zbGlkZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR6LWluZGV4OiAyO1xcblxcdHdpZHRoOiAxLjJlbTtcXG5cXHRoZWlnaHQ6IDEuMmVtO1xcblxcdGN1cnNvcjogZGVmYXVsdDtcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLXNsaWRlciAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMTtcXG5cXHRmb250LXNpemU6IC43ZW07XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG59XFxuXFxuLyogc3VwcG9ydDogSUU4IC0gU2VlICM2NzI3ICovXFxuLnVpLXNsaWRlci51aS1zdGF0ZS1kaXNhYmxlZCAudWktc2xpZGVyLWhhbmRsZSxcXG4udWktc2xpZGVyLnVpLXN0YXRlLWRpc2FibGVkIC51aS1zbGlkZXItcmFuZ2Uge1xcblxcdGZpbHRlcjogaW5oZXJpdDtcXG59XFxuXFxuLnVpLXNsaWRlci1ob3Jpem9udGFsIHtcXG5cXHRoZWlnaHQ6IC44ZW07XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLWhhbmRsZSB7XFxuXFx0dG9wOiAtLjNlbTtcXG5cXHRtYXJnaW4tbGVmdDogLS42ZW07XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHR0b3A6IDA7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1taW4ge1xcblxcdGxlZnQ6IDA7XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLXJhbmdlLW1heCB7XFxuXFx0cmlnaHQ6IDA7XFxufVxcblxcbi51aS1zbGlkZXItdmVydGljYWwge1xcblxcdHdpZHRoOiAuOGVtO1xcblxcdGhlaWdodDogMTAwcHg7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdGxlZnQ6IC0uM2VtO1xcblxcdG1hcmdpbi1sZWZ0OiAwO1xcblxcdG1hcmdpbi1ib3R0b206IC0uNmVtO1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItcmFuZ2Uge1xcblxcdGxlZnQ6IDA7XFxuXFx0d2lkdGg6IDEwMCU7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1taW4ge1xcblxcdGJvdHRvbTogMDtcXG59XFxuLnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlLW1heCB7XFxuXFx0dG9wOiAwO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5paWlmLWF2LWNvbXBvbmVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBmb250LWZhbWlseTogXFxcIk9wZW4gU2Fuc1xcXCI7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnBsYXllciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wbGF5ZXItLWxvYWRpbmcge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRkFBVUFNUVNBR3hzYkZwYVduaDRlRVpHUmh3Y0hEOC9QelUxTlZKU1Vpc3JLd2dJQ0g1K2ZreE1UR05qWXlVbEpYSnljbnQ3ZXhJU0VvQ0FnQUFBQVAvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDSC9DMDVGVkZORFFWQkZNaTR3QXdFQUFBQWgvd3RZVFZBZ1JHRjBZVmhOVUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1Tmkxak1ERTBJRGM1TGpFMU5qYzVOeXdnTWpBeE5DOHdPQzh5TUMwd09UbzFNem93TWlBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3VFUwOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXRiUzhpSUhodGJHNXpPbk4wVW1WbVBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZjMVI1Y0dVdlVtVnpiM1Z5WTJWU1pXWWpJaUI0Yld4dWN6cDRiWEE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM4aUlIaHRjRTFOT2s5eWFXZHBibUZzUkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvMU9URmpNemhqTlMweFptUXlMVGc1TkdVdFlqTXlaaTFrWVROa1pXUTVObVE1WWpNaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNlF6YzBPRUUxTkRBNU9UTXpNVEZGTlVGQlJqSTVNa0kzTlRGRk9ESkZSVFlpSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2UXpjME9FRTFNMFk1T1RNek1URkZOVUZCUmpJNU1rSTNOVEZGT0RKRlJUWWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTkRJREl3TVRRZ0tGZHBibVJ2ZDNNcElqNGdQSGh0Y0UxTk9rUmxjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZOVGt4WXpNNFl6VXRNV1prTWkwNE9UUmxMV0l6TW1ZdFpHRXpaR1ZrT1Raa09XSXpJaUJ6ZEZKbFpqcGtiMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPalU1TVdNek9HTTFMVEZtWkRJdE9EazBaUzFpTXpKbUxXUmhNMlJsWkRrMlpEbGlNeUl2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUGdILy92MzgrL3I1K1BmMjlmVHo4dkh3Nys3dDdPdnE2ZWpuNXVYazQrTGg0Ti9lM2R6YjJ0blkxOWJWMU5QUzBkRFB6czNNeThySnlNZkd4Y1REd3NIQXY3Njl2THU2dWJpM3RyVzBzN0t4c0srdXJheXJxcW1vcDZhbHBLT2lvYUNmbnAyY201cVptSmVXbFpTVGtwR1FqNDZOakl1S2lZaUhob1dFZzRLQmdIOStmWHg3ZW5sNGQzWjFkSE55Y1hCdmJtMXNhMnBwYUdkbVpXUmpZbUZnWDE1ZFhGdGFXVmhYVmxWVVUxSlJVRTlPVFV4TFNrbElSMFpGUkVOQ1FVQS9QajA4T3pvNU9EYzJOVFF6TWpFd0x5NHRMQ3NxS1NnbkppVWtJeUloSUI4ZUhSd2JHaGtZRnhZVkZCTVNFUkFQRGcwTUN3b0pDQWNHQlFRREFnRUFBQ0g1QkFrQUFCSUFMQUFBQUFBVUFCUUFBQVZBb0NTT1pHbWVhS3FtU2V1K0xScEVkRzBIc3ExSCtEbnZ0WjdwQitUbGlrWWZNamxjQ2t0RTRKTVUzVTFIVmQxVmxMMmhDSWl3ZUV4WW1jL290SG9VQWdBaCtRUUpBQUFTQUN3QUFBQUFGQUFVQUFBRldxQWtqbVJwbm1ncUVneWhua3lrSE5BN0dsRWVQVVh5Smc2ZHpvRlFEWVRJMWdueVFDSVZDMVBBNll5U0dsU2t3RWNDWklXR0V1NmJBNWdTQ3dXNWdXSmxBeStFVjZpby9Rck4zTUEyU2h3VVczd2tCR3lDaG9jU0lRQWgrUVFGQUFBU0FDd0FBQUFBRkFBVUFBQUZYS0Fram1ScG5taGFKc3VpbW9ZUUtjUXJOa0NrUjh3TEJic2dBcFVZS0lKQlI4TFVjQ0NmQlJQaCtBdytJS1pERlhrd1FSN2JIYzFVQ085NnExeVlVVE1odGc2RGlvRlVESmFxNlM2QXRVa1dFUUFOZmlNSmNvU0lpU1VoQURzPSk7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucG9zdGVyLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIHRvcDogMDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wb3N0ZXItY29udGFpbmVyIC5wb3N0ZXItaW1hZ2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnBvc3Rlci1jb250YWluZXIgLnBvc3Rlci1pbWFnZSAuYnRuIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy1jb250YWluZXIgdmlkZW8ge1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLWNvbnRhaW5lciAud29ya2luZy1pbmRpY2F0b3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDEwMDAwO1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpO1xcbiAgY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nLXRvcDogMzAlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZvbnQtc2l6ZTogMjBweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtY29udGFpbmVyIC5hbm5vIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5yYW5nZS10aW1lbGluZS1jb250YWluZXIge1xcbiAgYmFja2dyb3VuZDogIzE0YTRjMztcXG4gIGhlaWdodDogNHB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTtcXG4gIGhlaWdodDogNXB4O1xcbiAgd2lkdGg6IDBweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1wcmV2aWV3IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDE7XFxuICBwYWRkaW5nLWJvdHRvbTogN3B4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmhvdmVyLXByZXZpZXcgLmxhYmVsIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoNjYsIDY2LCA2NiwgMC44NSk7XFxuICBoZWlnaHQ6IDE4cHg7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGxpbmUtaGVpZ2h0OiA4cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuaG92ZXItcHJldmlldyAucG9pbnRlciB7XFxuICBoZWlnaHQ6IDZweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1wcmV2aWV3IC5wb2ludGVyIC5hcnJvdyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIGJvcmRlci10b3A6IDZweCBzb2xpZCByZ2JhKDY2LCA2NiwgNjYsIDAuODUpO1xcbiAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogNnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmhvdmVyLWhpZ2hsaWdodCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiAjZTJlMmUyO1xcbiAgaGVpZ2h0OiA0cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLXRpbWVsaW5lLWNvbnRhaW5lciB7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIgLmR1cmF0aW9uLWhpZ2hsaWdodCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiAjMTRhNGMzO1xcbiAgaGVpZ2h0OiA0cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAudGltZWxpbmUtaXRlbS1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiA2cHg7XFxuICBiYWNrZ3JvdW5kOiAjY2ZjZmNmO1xcbiAgdG9wOiAwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogM3B4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnRpbWVsaW5lLWl0ZW0tY29udGFpbmVyIC5saW5lLXdyYXBwZXIge1xcbiAgbWFyZ2luLXRvcDogMnB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnRpbWVsaW5lLWl0ZW0tY29udGFpbmVyIC50aW1lbGluZS1pdGVtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogNnB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZmVmZWY7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlZmVmZWY7XFxuICBiYWNrZ3JvdW5kOiAjNzc3O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnRpbWVsaW5lLWl0ZW0tY29udGFpbmVyIC50aW1lbGluZS1pdGVtLmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kOiAjMzMzO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLXRpbWVsaW5lLWNvbnRhaW5lciAudWktc2xpZGVyLWhhbmRsZSB7XFxuICB3aWR0aDogMTRweDtcXG4gIGhlaWdodDogMTRweDtcXG4gIG1hcmdpbi1sZWZ0OiAtN3B4O1xcbiAgbWFyZ2luLXRvcDogMDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcXG4gIGJhY2tncm91bmQ6ICM3OUIyRTM7XFxuICB6LWluZGV4OiAyO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIgLnVpLXNsaWRlci1oYW5kbGU6Zm9jdXMge1xcbiAgb3V0bGluZS13aWR0aDogMDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5yYW5nZS10aW1lbGluZS1jb250YWluZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG4gIHdpZHRoOiAxNHB4O1xcbiAgaGVpZ2h0OiAxNHB4O1xcbiAgbWFyZ2luLWxlZnQ6IC03cHg7XFxuICBtYXJnaW4tdG9wOiAwO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIHotaW5kZXg6IDI7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbmJ1dHRvbjpmb2N1cyB7XFxuICBvdXRsaW5lOjA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItaGFuZGxlOmZvY3VzIHtcXG4gIG91dGxpbmUtd2lkdGg6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxuICBoZWlnaHQ6IDM2cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC5idG4ge1xcbiAgZmxvYXQ6IGxlZnQ7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC5wYXVzZS1idXR0b24ge1xcbiAgbWFyZ2luLXJpZ2h0OiAxNHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudGltZS1kaXNwbGF5IHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgcGFkZGluZzogOHB4IDBweCAwIDEwcHg7XFxuICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xcbiAgbWluLXdpZHRoOiAxNTBweDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnRpbWUtZGlzcGxheSAuY2FudmFzLXRpbWUge1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC50aW1lLWRpc3BsYXkgLmNhbnZhcy1kdXJhdGlvbiB7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgd2lkdGg6IDE0MHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtbXV0ZSB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmctbGVmdDogMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMnB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgbWFyZ2luLXRvcDogMTJweDtcXG4gIHdpZHRoOiA4NHB4O1xcbiAgaGVpZ2h0OiA1cHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjQpOyAgXFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUgLnZvbHVtZS1zbGlkZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcbiAgdG9wOiAwcHg7XFxuICB3aWR0aDogMTRweDtcXG4gIGhlaWdodDogMTRweDtcXG4gIG1hcmdpbi1sZWZ0OiAtN3B4O1xcbiAgbWFyZ2luLXRvcDogLTRweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcXG4gIGJhY2tncm91bmQ6ICM3OUIyRTM7XFxuICB6LWluZGV4OiAxO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUgLnZvbHVtZS1zbGlkZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYnRuIHtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGJhY2tncm91bmQ6IDAgMDtcXG4gIGJvcmRlcjogMDtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxuICBwYWRkaW5nOiAwIDVweCAwIDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYnRuIGkge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGhlaWdodDogMzBweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICB3aWR0aDogMjVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogMDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW11dGUub24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScxOHB4JyB2aWV3Qm94PScwIDAgMjEgMTgnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0V2b2x1bWUgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04MDYuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003MjQuNDA5NjY2LDM2LjAxODY5MTYgQzcyNC4xOTYwMjQsMzYuMDE4NjkxNiA3MjMuOTgyMzgzLDM1LjkyODYwMDkgNzIzLjgxOTM3LDM1Ljc0NzgwMjMgQzcyMy40OTMzNDQsMzUuMzg2MjA1MiA3MjMuNDkzMzQ0LDM0LjgwMDYxNTUgNzIzLjgxOTM3LDM0LjQzOTAxODQgQzcyNS4zNDMyMzUsMzIuNzQ4ODkxNSA3MjYuMTgyMjIzLDMwLjUwMjE3NjYgNzI2LjE4MjIyMywyOC4xMTIzMDM4IEM3MjYuMTgyMjIzLDI1LjcyMjQzMSA3MjUuMzQzMjM1LDIzLjQ3NTcxNjEgNzIzLjgxOTM3LDIxLjc4NTU4OTIgQzcyMy40OTMzNDQsMjEuNDIzOTkyMSA3MjMuNDkzMzQ0LDIwLjgzNzc4NTMgNzIzLjgxOTM3LDIwLjQ3NjgwNTMgQzcyNC4xNDUzOTYsMjAuMTE1MjA4MiA3MjQuNjczOTM2LDIwLjExNTIwODIgNzI0Ljk5OTQwNSwyMC40NzY4MDUzIEM3MjYuODM4MTY5LDIyLjUxNjE4ODEgNzI3Ljg1MTI5NywyNS4yMjgxNjYxIDcyNy44NTEyOTcsMjguMTEyMzAzOCBDNzI3Ljg1MTI5NywzMC45OTY0NDE1IDcyNi44Mzg3MjYsMzMuNzA4NDE5NSA3MjQuOTk5NDA1LDM1Ljc0NzgwMjMgQzcyNC44MzYzOTIsMzUuOTI4NjAwOSA3MjQuNjIyNzUxLDM2LjAxODY5MTYgNzI0LjQwOTEwOSwzNi4wMTg2OTE2IEw3MjQuNDA5NjY2LDM2LjAxODY5MTYgWiBNNzIxLjM2OTM0MSwzNC4yNjEwNjY0IEM3MjEuMTY3Njc5LDM0LjI2MTA2NjQgNzIwLjk2NjAxNywzNC4xNzExNTA2IDcyMC44MTIxNDUsMzMuOTkwNzAzMSBDNzIwLjUwNDQwMSwzMy42Mjk4MDgyIDcyMC41MDQ0MDEsMzMuMDQ1MzU1NSA3MjAuODEyMTQ1LDMyLjY4NDQ2MDUgQzcyMi45NjIxNTIsMzAuMTYzMTIyOCA3MjIuOTYyMTUyLDI2LjA2MDg2ODMgNzIwLjgxMjE0NSwyMy41Mzk1MzA2IEM3MjAuNTA0NDAxLDIzLjE3ODYzNTcgNzIwLjUwNDQwMSwyMi41OTM1NjcxIDcyMC44MTIxNDUsMjIuMjMzMjg4IEM3MjEuMTE5ODg5LDIxLjg3MjM5MzEgNzIxLjYxODc5MiwyMS44NzIzOTMxIDcyMS45MjYwMTEsMjIuMjMzMjg4IEM3MjMuMjY1MTcsMjMuODAzNzM1MyA3MjQuMDAyNDk1LDI1Ljg5MTUwNjMgNzI0LjAwMjQ5NSwyOC4xMTIzMDM1IEM3MjQuMDAyNDk1LDMwLjMzMzEwMDcgNzIzLjI2NTE3LDMyLjQyMDg3MTcgNzIxLjkyNjAxMSwzMy45OTEzMTkgQzcyMS43NzIxMzksMzQuMTcxNzY2NCA3MjEuNTcwNDc3LDM0LjI2MTY4MjIgNzIxLjM2ODgxNSwzNC4yNjE2ODIyIEw3MjEuMzY5MzQxLDM0LjI2MTA2NjQgWiBNNzE4LjU0OTQxNCwzMi41MDQwNTkxIEM3MTguMzAzMzI5LDMyLjUwNDA1OTEgNzE4LjA1NzI0NCwzMi40MTQ0NTAyIDcxNy44Njk0NzYsMzIuMjM0NjE4NyBDNzE3LjQ5Mzk0LDMxLjg3NDk1NTYgNzE3LjQ5Mzk0LDMxLjI5MjQ5NzkgNzE3Ljg2OTQ3NiwzMC45MzI4MzQ4IEM3MTkuNDkzMzgxLDI5LjM3NzU2ODIgNzE5LjQ5MzM4MSwyNi44NDY0MjQgNzE3Ljg2OTQ3NiwyNS4yOTExNTc0IEM3MTcuNDkzOTQsMjQuOTMxNDk0MyA3MTcuNDkzOTQsMjQuMzQ4NDIyOCA3MTcuODY5NDc2LDIzLjk4OTM3MzUgQzcxOC4yNDUwMTIsMjMuNjI5NzEwNCA3MTguODUzMTc1LDIzLjYyOTcxMDQgNzE5LjIyODcxMSwyMy45ODkzNzM1IEM3MjEuNjAyNDA2LDI2LjI2MjczODcgNzIxLjYwMjQwNiwyOS45NjE4NjczIDcxOS4yMjg3MTEsMzIuMjM1MjMyNSBDNzE5LjA0MDk0MywzMi40MTUwNjQgNzE4Ljc5NDg1OCwzMi41MDQ2NzI5IDcxOC41NDg3NzMsMzIuNTA0NjcyOSBMNzE4LjU0OTQxNCwzMi41MDQwNTkxIFogTTcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBDNzE1LjUxNjU1OCwxOS4xMTMwNzE1IDcxNS44NzcyNDYsMTkuMjgzNzIzNiA3MTUuODc3MjQ2LDE5Ljk5NTE5MjYgTDcxNS44NzcyNDYsMzYuMjI5MTA2NSBDNzE1Ljg3NzI0NiwzNi45NDA1NzU0IDcxNS41MTY1NTgsMzcuMTExMjI3NiA3MTUuMDc1NTk1LDM2LjYwODA1NDcgTDcxMC45Mjg3ODUsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwzMS44NzYyMjE3IEw3MDguMTc5NjQxLDI0LjM0NzQ1IEw3MTAuOTI4Nzg1LDI0LjM0NzQ1IEw3MTUuMDc1NTk1LDE5LjYxNTYxNyBMNzE1LjA3NTU5NSwxOS42MTYyNDQ0IFonIGlkPSd2b2x1bWUtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7ICBcXG4gIG1hcmdpbi10b3A6IDVweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW11dGUub246aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScxOHB4JyB2aWV3Qm94PScwIDAgMjEgMTgnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0V2b2x1bWUgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04MDYuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003MjQuNDA5NjY2LDM2LjAxODY5MTYgQzcyNC4xOTYwMjQsMzYuMDE4NjkxNiA3MjMuOTgyMzgzLDM1LjkyODYwMDkgNzIzLjgxOTM3LDM1Ljc0NzgwMjMgQzcyMy40OTMzNDQsMzUuMzg2MjA1MiA3MjMuNDkzMzQ0LDM0LjgwMDYxNTUgNzIzLjgxOTM3LDM0LjQzOTAxODQgQzcyNS4zNDMyMzUsMzIuNzQ4ODkxNSA3MjYuMTgyMjIzLDMwLjUwMjE3NjYgNzI2LjE4MjIyMywyOC4xMTIzMDM4IEM3MjYuMTgyMjIzLDI1LjcyMjQzMSA3MjUuMzQzMjM1LDIzLjQ3NTcxNjEgNzIzLjgxOTM3LDIxLjc4NTU4OTIgQzcyMy40OTMzNDQsMjEuNDIzOTkyMSA3MjMuNDkzMzQ0LDIwLjgzNzc4NTMgNzIzLjgxOTM3LDIwLjQ3NjgwNTMgQzcyNC4xNDUzOTYsMjAuMTE1MjA4MiA3MjQuNjczOTM2LDIwLjExNTIwODIgNzI0Ljk5OTQwNSwyMC40NzY4MDUzIEM3MjYuODM4MTY5LDIyLjUxNjE4ODEgNzI3Ljg1MTI5NywyNS4yMjgxNjYxIDcyNy44NTEyOTcsMjguMTEyMzAzOCBDNzI3Ljg1MTI5NywzMC45OTY0NDE1IDcyNi44Mzg3MjYsMzMuNzA4NDE5NSA3MjQuOTk5NDA1LDM1Ljc0NzgwMjMgQzcyNC44MzYzOTIsMzUuOTI4NjAwOSA3MjQuNjIyNzUxLDM2LjAxODY5MTYgNzI0LjQwOTEwOSwzNi4wMTg2OTE2IEw3MjQuNDA5NjY2LDM2LjAxODY5MTYgWiBNNzIxLjM2OTM0MSwzNC4yNjEwNjY0IEM3MjEuMTY3Njc5LDM0LjI2MTA2NjQgNzIwLjk2NjAxNywzNC4xNzExNTA2IDcyMC44MTIxNDUsMzMuOTkwNzAzMSBDNzIwLjUwNDQwMSwzMy42Mjk4MDgyIDcyMC41MDQ0MDEsMzMuMDQ1MzU1NSA3MjAuODEyMTQ1LDMyLjY4NDQ2MDUgQzcyMi45NjIxNTIsMzAuMTYzMTIyOCA3MjIuOTYyMTUyLDI2LjA2MDg2ODMgNzIwLjgxMjE0NSwyMy41Mzk1MzA2IEM3MjAuNTA0NDAxLDIzLjE3ODYzNTcgNzIwLjUwNDQwMSwyMi41OTM1NjcxIDcyMC44MTIxNDUsMjIuMjMzMjg4IEM3MjEuMTE5ODg5LDIxLjg3MjM5MzEgNzIxLjYxODc5MiwyMS44NzIzOTMxIDcyMS45MjYwMTEsMjIuMjMzMjg4IEM3MjMuMjY1MTcsMjMuODAzNzM1MyA3MjQuMDAyNDk1LDI1Ljg5MTUwNjMgNzI0LjAwMjQ5NSwyOC4xMTIzMDM1IEM3MjQuMDAyNDk1LDMwLjMzMzEwMDcgNzIzLjI2NTE3LDMyLjQyMDg3MTcgNzIxLjkyNjAxMSwzMy45OTEzMTkgQzcyMS43NzIxMzksMzQuMTcxNzY2NCA3MjEuNTcwNDc3LDM0LjI2MTY4MjIgNzIxLjM2ODgxNSwzNC4yNjE2ODIyIEw3MjEuMzY5MzQxLDM0LjI2MTA2NjQgWiBNNzE4LjU0OTQxNCwzMi41MDQwNTkxIEM3MTguMzAzMzI5LDMyLjUwNDA1OTEgNzE4LjA1NzI0NCwzMi40MTQ0NTAyIDcxNy44Njk0NzYsMzIuMjM0NjE4NyBDNzE3LjQ5Mzk0LDMxLjg3NDk1NTYgNzE3LjQ5Mzk0LDMxLjI5MjQ5NzkgNzE3Ljg2OTQ3NiwzMC45MzI4MzQ4IEM3MTkuNDkzMzgxLDI5LjM3NzU2ODIgNzE5LjQ5MzM4MSwyNi44NDY0MjQgNzE3Ljg2OTQ3NiwyNS4yOTExNTc0IEM3MTcuNDkzOTQsMjQuOTMxNDk0MyA3MTcuNDkzOTQsMjQuMzQ4NDIyOCA3MTcuODY5NDc2LDIzLjk4OTM3MzUgQzcxOC4yNDUwMTIsMjMuNjI5NzEwNCA3MTguODUzMTc1LDIzLjYyOTcxMDQgNzE5LjIyODcxMSwyMy45ODkzNzM1IEM3MjEuNjAyNDA2LDI2LjI2MjczODcgNzIxLjYwMjQwNiwyOS45NjE4NjczIDcxOS4yMjg3MTEsMzIuMjM1MjMyNSBDNzE5LjA0MDk0MywzMi40MTUwNjQgNzE4Ljc5NDg1OCwzMi41MDQ2NzI5IDcxOC41NDg3NzMsMzIuNTA0NjcyOSBMNzE4LjU0OTQxNCwzMi41MDQwNTkxIFogTTcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBDNzE1LjUxNjU1OCwxOS4xMTMwNzE1IDcxNS44NzcyNDYsMTkuMjgzNzIzNiA3MTUuODc3MjQ2LDE5Ljk5NTE5MjYgTDcxNS44NzcyNDYsMzYuMjI5MTA2NSBDNzE1Ljg3NzI0NiwzNi45NDA1NzU0IDcxNS41MTY1NTgsMzcuMTExMjI3NiA3MTUuMDc1NTk1LDM2LjYwODA1NDcgTDcxMC45Mjg3ODUsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwzMS44NzYyMjE3IEw3MDguMTc5NjQxLDI0LjM0NzQ1IEw3MTAuOTI4Nzg1LDI0LjM0NzQ1IEw3MTUuMDc1NTk1LDE5LjYxNTYxNyBMNzE1LjA3NTU5NSwxOS42MTYyNDQ0IFonIGlkPSd2b2x1bWUtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7ICBcXG4gIG1hcmdpbi10b3A6IDVweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW11dGUub2ZmIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FZQUFBQTdNSzZpQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFCM1JKVFVVSDRnY0tEUWswc212dzhnQUFBT2xKUkVGVVNNZnRsVEZLQkVFUVJkK2ZYUmRCRU5sQVREVHlDb0pIRUEyOWd4Y3lOelBYekZTTUJUT3ZZS1Jnb0NETVBnTWJsR1dEWVp3WkErZEYxVkRWdjdxcXFJYVJrWkdPeUc4dlVPZkFPN0FPa09TbDk2elZVL1ZDM1NqbmFnalJZNys0YWhOZnRSUTlBYTdMOGEzTkhkT0dRZ2ZBREhnR0RvSHpWYkZxa3RpWk1IQUR6SUhGaWlyWlo2bXJodjdwdGNkZDhHZkNUWHQ4RDJ3RHI4QXVzTmZYUWxxZTFvazZLZmFPK3VBM2x6LzhxazVMbmFST1VoZjdDVGdDN3BaZm1XUXh4T2JhVkIvVjI4RUhSTjFYejlTdDBvN1pZTDlUU1dBS3JBRjFrby94MHg4WitSOThBaGNUYjJLQkhLQ1VBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1wcmV2aW91cyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0Z2NKRENncTE0d2Rxd0FBQUo5SlJFRlVTTWZ0MVRzT1FVRVVnT0VUcFVZcGNtTUZFdHV3RXl2UjJvTGVRcFE2bTZBaUVZL0dwMENESzVMN0VwbS9tem1UK2MvSnpKeUpTQ1FTZFlJMVR1aDlXTlBHcEd6eDBZMHNKOTdCQW1vVG80L1ZQYjc3ZHM5V3dZUkdFYkdNaU1GanF2S0tNZmJLdGlweDl6NmVlay9wNGdNdUdHSW1uOUxGZTV3eDk1bi9xYml4TTI3OFZtZlA3eGliMnNWRk90ZlA5K3BtZnFkRUl2SFRYQUhLczdlRG4vaHFwUUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcGxheS5wbGF5IHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIxcHgnIGhlaWdodD0nMjFweCcgdmlld0JveD0nMCAwIDIxIDIxJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFcGxheSBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEwNS4wMDAwMDAsIC03NDcuMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NnIGlkPSdVSScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjAuNTI2OTQ2LCAxOS4zMjcxMDMpJyUzRSUzQ3BhdGggZD0nTTcuMDk0ODExNDcsMzkuNDQ4NTk4MSBDNy4wMjUzNjY4NSwzOS40NDg1OTgxIDYuOTMyNzc0MDEsMzkuNDI1NDQ5OSA2Ljg2MzMyOTM4LDM5LjM3OTE1MzUgQzYuNzQ3NTg4MzQsMzkuMzA5NzA4OSA2LjY3ODE0MzcxLDM5LjE3MDgxOTYgNi42NzgxNDM3MSwzOS4wMzE5MzA0IEw2LjY3ODE0MzcxLDE5Ljg2NTIxMzQgQzYuNjc4MTQzNzEsMTkuNzI2MzI0MiA2Ljc0NzU4ODM0LDE5LjU4NzQzNDkgNi44NjMzMjkzOCwxOS41MTc5OTAzIEM3LjAwMjIxODY0LDE5LjQyNTM5NzUgNy4xNDExMDc4OSwxOS40MjUzOTc1IDcuMjc5OTk3MTQsMTkuNDk0ODQyMSBMMjYuNDQ2NzE0MSwyOS4wNzgyMDA2IEMyNi41ODU2MDMzLDI5LjE0NzY0NTIgMjYuNjc4MTk2MiwyOS4yODY1MzQ0IDI2LjY3ODE5NjIsMjkuNDQ4NTcxOSBDMjYuNjc4MTk2MiwyOS42MTA2MDk0IDI2LjU4NTYwMzMsMjkuNzQ5NDk4NiAyNi40NDY3MTQxLDI5LjgxODk0MzIgTDcuMjc5OTk3MTQsMzkuNDAyMzAxNyBDNy4yMTA1NTI1MiwzOS40MjU0NDk5IDcuMTY0MjU2MSwzOS40NDg1OTgxIDcuMDk0ODExNDcsMzkuNDQ4NTk4MSBaJyBpZD0ncGxheS1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG1hcmdpbi10b3A6IDhweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXBsYXkucGxheTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBsYXkgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMDUuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgQzcuMDI1MzY2ODUsMzkuNDQ4NTk4MSA2LjkzMjc3NDAxLDM5LjQyNTQ0OTkgNi44NjMzMjkzOCwzOS4zNzkxNTM1IEM2Ljc0NzU4ODM0LDM5LjMwOTcwODkgNi42NzgxNDM3MSwzOS4xNzA4MTk2IDYuNjc4MTQzNzEsMzkuMDMxOTMwNCBMNi42NzgxNDM3MSwxOS44NjUyMTM0IEM2LjY3ODE0MzcxLDE5LjcyNjMyNDIgNi43NDc1ODgzNCwxOS41ODc0MzQ5IDYuODYzMzI5MzgsMTkuNTE3OTkwMyBDNy4wMDIyMTg2NCwxOS40MjUzOTc1IDcuMTQxMTA3ODksMTkuNDI1Mzk3NSA3LjI3OTk5NzE0LDE5LjQ5NDg0MjEgTDI2LjQ0NjcxNDEsMjkuMDc4MjAwNiBDMjYuNTg1NjAzMywyOS4xNDc2NDUyIDI2LjY3ODE5NjIsMjkuMjg2NTM0NCAyNi42NzgxOTYyLDI5LjQ0ODU3MTkgQzI2LjY3ODE5NjIsMjkuNjEwNjA5NCAyNi41ODU2MDMzLDI5Ljc0OTQ5ODYgMjYuNDQ2NzE0MSwyOS44MTg5NDMyIEw3LjI3OTk5NzE0LDM5LjQwMjMwMTcgQzcuMjEwNTUyNTIsMzkuNDI1NDQ5OSA3LjE2NDI1NjEsMzkuNDQ4NTk4MSA3LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgWicgaWQ9J3BsYXktaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1wbGF5LnBhdXNlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzE1cHgnIGhlaWdodD0nMTVweCcgdmlld0JveD0nMCAwIDE1IDE1JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFcGF1c2UgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdhbm5vdGF0aW9uLXR5cGUtZHJvcGRvd24tbWVudScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTE5LjAwMDAwMCwgLTIxMi4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nZHJvcGRvd24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUuMDAwMDAwLCAwLjAwMDAwMCknJTNFJTNDcGF0aCBkPSdNMTguNTE1NjE0MywyMjYuOTY4NzQ4IEwxNS41MTU2MjE0LDIyNi45Njg3NDggQzE0LjY4NzQ5ODQsMjI2Ljk2ODc0OCAxNC4wMTU2MjUsMjI2LjI5Njg3NCAxNC4wMTU2MjUsMjI1LjQ2ODc1MSBMMTQuMDE1NjI1LDIxNC40Njg3NzcgQzE0LjAxNTYyNSwyMTMuNjQwNjU0IDE0LjY4NzQ5ODQsMjEyLjk2ODc4MSAxNS41MTU2MjE0LDIxMi45Njg3ODEgTDE4LjUxNTYxNDMsMjEyLjk2ODc4MSBDMTkuMzQzNzM3MywyMTIuOTY4NzgxIDIwLjAxNTYxMDcsMjEzLjY0MDY1NCAyMC4wMTU2MTA3LDIxNC40Njg3NzcgTDIwLjAxNTYxMDcsMjI1LjQ2ODc1MSBDMjAuMDE1NjEwNywyMjYuMjk2ODc0IDE5LjM0MzczNzMsMjI2Ljk2ODc0OCAxOC41MTU2MTQzLDIyNi45Njg3NDggWiBNMjguMDE1NTkxNiwyMjUuNDY4NzUxIEMyOC4wMTU1OTE2LDIyNi4yOTY4NzQgMjcuMzQzNzE4MiwyMjYuOTY4NzQ4IDI2LjUxNTU5NTIsMjI2Ljk2ODc0OCBMMjMuNTE1NjAyNCwyMjYuOTY4NzQ4IEMyMi42ODc0NzkzLDIyNi45Njg3NDggMjIuMDE1NjA1OSwyMjYuMjk2ODc0IDIyLjAxNTYwNTksMjI1LjQ2ODc1MSBMMjIuMDE1NjA1OSwyMTQuNDY4Nzc3IEMyMi4wMTU2MDU5LDIxMy42NDA2NTQgMjIuNjg3NDc5MywyMTIuOTY4NzgxIDIzLjUxNTYwMjQsMjEyLjk2ODc4MSBMMjYuNTE1NTk1MiwyMTIuOTY4NzgxIEMyNy4zNDM3MTgyLDIxMi45Njg3ODEgMjguMDE1NTkxNiwyMTMuNjQwNjU0IDI4LjAxNTU5MTYsMjE0LjQ2ODc3NyBMMjguMDE1NTkxNiwyMjUuNDY4NzUxIFonIGlkPSdwYXVzZS1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgbWFyZ2luLXRvcDogOHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcGxheS5wYXVzZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxNXB4JyBoZWlnaHQ9JzE1cHgnIHZpZXdCb3g9JzAgMCAxNSAxNScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBhdXNlIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nYW5ub3RhdGlvbi10eXBlLWRyb3Bkb3duLW1lbnUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xOS4wMDAwMDAsIC0yMTIuMDAwMDAwKScgZmlsbD0nJTIzRkZGRkZGJyUzRSUzQ2cgaWQ9J2Ryb3Bkb3duJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1LjAwMDAwMCwgMC4wMDAwMDApJyUzRSUzQ3BhdGggZD0nTTE4LjUxNTYxNDMsMjI2Ljk2ODc0OCBMMTUuNTE1NjIxNCwyMjYuOTY4NzQ4IEMxNC42ODc0OTg0LDIyNi45Njg3NDggMTQuMDE1NjI1LDIyNi4yOTY4NzQgMTQuMDE1NjI1LDIyNS40Njg3NTEgTDE0LjAxNTYyNSwyMTQuNDY4Nzc3IEMxNC4wMTU2MjUsMjEzLjY0MDY1NCAxNC42ODc0OTg0LDIxMi45Njg3ODEgMTUuNTE1NjIxNCwyMTIuOTY4NzgxIEwxOC41MTU2MTQzLDIxMi45Njg3ODEgQzE5LjM0MzczNzMsMjEyLjk2ODc4MSAyMC4wMTU2MTA3LDIxMy42NDA2NTQgMjAuMDE1NjEwNywyMTQuNDY4Nzc3IEwyMC4wMTU2MTA3LDIyNS40Njg3NTEgQzIwLjAxNTYxMDcsMjI2LjI5Njg3NCAxOS4zNDM3MzczLDIyNi45Njg3NDggMTguNTE1NjE0MywyMjYuOTY4NzQ4IFogTTI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBDMjguMDE1NTkxNiwyMjYuMjk2ODc0IDI3LjM0MzcxODIsMjI2Ljk2ODc0OCAyNi41MTU1OTUyLDIyNi45Njg3NDggTDIzLjUxNTYwMjQsMjI2Ljk2ODc0OCBDMjIuNjg3NDc5MywyMjYuOTY4NzQ4IDIyLjAxNTYwNTksMjI2LjI5Njg3NCAyMi4wMTU2MDU5LDIyNS40Njg3NTEgTDIyLjAxNTYwNTksMjE0LjQ2ODc3NyBDMjIuMDE1NjA1OSwyMTMuNjQwNjU0IDIyLjY4NzQ3OTMsMjEyLjk2ODc4MSAyMy41MTU2MDI0LDIxMi45Njg3ODEgTDI2LjUxNTU5NTIsMjEyLjk2ODc4MSBDMjcuMzQzNzE4MiwyMTIuOTY4NzgxIDI4LjAxNTU5MTYsMjEzLjY0MDY1NCAyOC4wMTU1OTE2LDIxNC40Njg3NzcgTDI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBaJyBpZD0ncGF1c2UtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW5leHQge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQVlBQUFBN01LNmlBQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQUIzUkpUVVVINGdjSkRDa1ZlUEVCMXdBQUFLSkpSRUZVU01mdGxiRU53akFRUmI4aXFxU2dSRkhFQkVpc3dSdzBUSkkySzdBTkpSMUxRSlUwZ0lTVVIrTUtTSlRDT2h6cFh1UGlySHUyeno1TGp1TllBdFJBUGhJdmdTZHdqUzBHT0FITGdYZ1Y1anhpaTd1UStBS3NZNGl6cWU0d2JpU2RnWjFWalZ1K09WZ2M5Uzh4UUJQaUsyc3h3QkhZQWoxd241cHpFV0ZkZTBtRnBKZWtQdmtkejdMRzVyZjY5dm1PWjlXNWt1L1YvL21kSE1kSm1qZEJ4NDZPa0pKNHNBQUFBQUJKUlU1RXJrSmdnZz09XFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1leHBhbmQuZXhwYW5kIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FZQUFBQTdNSzZpQUFBTXNucFVXSFJTWVhjZ2NISnZabWxzWlNCMGVYQmxJR1Y0YVdZQUFIamE3WmxKY2lNOURvWDNQRVVmSVRtQXczRTRSdlFOK3ZqOWdVeGJsb2NhN0Y3MDRpOUZLV1dLeVFTQmg0Y0h5c3ovL0h1WmYvRXZKQnROa0pSamlmSGlYeWlodU1xSGZKMS81MnF2c04vUEgvUCt6ajZQbTljdkhFT2VxejkveG52Y1ZzYmxjVU1LOTNoN0hqZXAzK3ZrZTZIN2k1Y0Z2VDdaOGVHZWwrK0Z2RHZqOXY3YmxQdStHdDVzNS83djAxN2lkZkw3djBQQ0dVTVk5TTY0NmEyL2VBLzZGSThGUHZ2S05mRnVmWFE2NHZuc3VPcDcrTngzNXZYak8rZTlmbnJudTZ2ZTQvN1pGZWFLOTRUNHprZjN1SlhQZmJjOTlCUzF4NU9mdmhDeEQ5dmUrVzZ0a2RlYVozYzFSRHdWemIycGw2M3NUMHhzdU5MdjJ5S3Z4SC9oYzlxdndpdXp4WTdUQjlGc3ZMcXh4VHE4dld5d3cxYTc3TnpYYmpzbUJqZGQ0dXBjeDljNmxuMXl4ZlVkbEtBdnUxenl4UTlEakp6dlJNMHo3RjV0c2Z1NVpUK3YyOHlUaDJXbXN5eG11ZVBEeTN3MitKM1g2MEpyS1hSeGNINzFGWFk1QlNCbWFPVDBuVmtFeEs3YnA3TDl1MS9tZW83TlMyQTlFWlR0NXN3RzY5WE9FazNzQTF0K3g5a3pUNjVncmdOM204YTlBQzdpMllJeDFoT0JLMW92TnRvck9aZXN4WStaK0ZRc0IrU3VFUUVyNG9ZMWk5aDRNaUc1N1BUWjNKUHNudXZFbldHb2hVQ0lqNlJOSmtLVllJVWc0Q2VGRElhcWVBbEdSS0lreVZLa1JoOURsQmhqaXNwUk5ma1VrcVNZVXNxcHBKcDlEbGx5ekNublhISXRybmdvVEVvc3laUmNTcW1WaDFhV3J0eGRtVkZyYzgyMzBLVEZsbHB1cGRVT2ZIcm8wbU5QUGZmUzYzREREOUoveEpITXlLT01PdTBFU2pOTW1YR21tV2VaZFlHMTVWZFlzdUpLSzYreTZtdlU3cWcrUjgyK2k5eXZvMmJ2cUduRXdwNlhIbEZqT0tXWEphelNpV2pNaUpnTGxvZ25qUUNBZGhxeks5c1FuRVpPWTNZVlIxS0lJMnBXTkRqRGFzU0lZSmpXeWJLdnNYdEU3cGR4TXhMK0ttN3VxOGdaRGQzL0luSkdRM2RIN21QY1BvbmFxTHVpK0IwZ3pVTDE2ZVVYeE1hRW1hdkxWV3ZTdDYvbXB3djhzOUQvL1VJclhDdEhXVmR2YTFvU1pnRmVzbmtzeFZIemEzWTdoWkhXVW1sdHBibWc5d1ZVTFZDZGEwUUdkU1JIVmxsVjV5eFg5dGhvTWE5UmlrbHJ4bGgwcUtXZ3dCMnlsRUd1MU5lKytlbzhmb2xQek9SOXo0ekQ2dlY4UlhublMzTi8yelJURUQ3M0NscTJueWMrNXVrYUh4YzM3MWI0Q3h1ZVRURGZ0K0haQlBOOUc1NU5NTiszNGRrRTgvYzJaTFNQVDlNVzhPSWFIS1RUc3psb2dEbEhXMzNvNTVMaWNpM0dQcGdFVEpKdmlKMHFxYXlSOXV3NXZPalZ1NWI0YXQ5bEpySnFxY1Q4ZG42c0UzNUErWUxKalVpd2VtUHlkbVJUeWFQN0hYN2JQbldtMURaVi9WMHpyaDdiOUhDMlIvc25WUWtWMWkrWGpENnUwQkl1bTdWRnFrQkhzZFZHZVpremlzMG90cmxta2E1aXlRZktpejlieTdiVnlWWlh6dGlZMmVwcWZMMTY4ZHVJaVVkM0VDRDJ3c09qR3JMSVZkSzIrdGIzZDR0S08wWWlhMGxoYnVxVU14YUxlYTVyNzN6UUFjamVZbHQyNDJYWlVWZkp4enR2bGp1QUREOWZ6cncxN3lmTG1ZKzcvZDV5NXVOdXY3ZWNlZHB0QXhWV1FJV0NJaFZBTVFCRlNRb0tsSkNrYTBReUFnbFNhNWZzd0VlSUkwWkFnZklIRlUyR283ZmRRZTV6NDhLRjVXVS9xMTIxQTBJMGhxdnJCTDhjS2k1MXAxUVJHTnlNbTUvelNCazBmNWxMdjBzbDg2ZTU5THRVTXIvSkpSUXBCWUg4bjZITWVHL0pTdDVzaEdacnNwRCthZmdOeU4rbnhDZldUbkpzSWplWEpiWEdaVkJtWk5xOFdvMHM0bmFZZy9VOTdzV0NxN0Z0TzdLYlNsMjVzTXpJN2RKWjA3Y1JWcGdvdW1XYUgxZURFNlhWWEZoSElETUU3a0RZSVZOOWRxdllRbVBPWmc5LzF0Q20wdzFmR29YaWdjejJVVSt1emVyWEJTOTRxU3ZiMVAxQTY5SEEwUGN0RzB1SnZiaEFVMU1FMkZpclhVdjJuWGUyVlVkWFYyWkR0OUtHTmtBTGttcldUOFF2NWkwdDFaV0NQR05nQWpKeVRybTZMNEx5bnJxT3JSMU5pZHV6NmdDY2JaMEtBWXYvUyt2cy9Wb1FXa3F4dVZSc1k3T3UxMUFzNnZ3SzhacTBwVjExZW9EKzBhMkpnUERvRWcxQWhBeVhac0xpZHUrYnV4RGRjeUxmVlVmUGtEdjNYclpIK3JpeW9nLzBJa0dMaDZiQVN3STBjL0NQRDE4eVlDT245SFNRUTkrdHVDbit4bzNJMUM3ZExnWEtUb0FiL21ib3dFRy9RbmdRYmdBczhlaVR0dUVvYzUrckNJWHR5NnY1ZW9LZHY2MGltcjA2aG1veWkrYUJiWXg3V3BOZFVsbkYvd25tTjQ4cFRhbGlLNFNubnNUTUVybGhXTHJkMVB0YjZ3ajZGUWI5RGIxd0c2MkRndUU3RGFPRGgraXl1dW16aDMwS2xsemd5UkhYUGVYUXh4U2l0OE5JaVBNYVRPRFpYQ2hIc1E0dCs1KzRLSzgwcHV2TW4xQkljVklJVE00K1ZEcW1tcGR0Q0lrSkhqS3M3R2hGTFdoTjlJYkFkWUVxMVE1MkpSNEVMZk54U0I0OWFxOG1WZmtIMHdJMDZJUVMzRnpOY2ZsSVRob253TFlBMVdUbmRNMnQ2WGZvZXhHeWQ0ZmhjRStadm9LZWwwcEJZQktlM3c1V0h4ajJlUGlPM2hXbXZUWjF2MFB0QjlBZTJ0YkZsTFkzYVNOcjVobDZrUFlUWXQ4QTlnZktmMlA5UWRidnRIaENtTlNJbUs4OW90aFFPQXZKUXNhUGFDZHAyL3RxVHVoZE1SanYwU2VyRTZPMnBBSmpIWG9qZ3JtRGt4eWJGdEoxR2ZKOXU4N0tJeW5ld2xrcjNRYjBBODcwd3FGMUlMQWlzbWtlN2pBTlJsRkRBZW1JdnRWV1U1SGc0N1haQXc2WkZ3YXQ1S1hvTWEwazViVWRudUl5bkZSM01FWTFKM2VHMUpHVno2TlZybHBkajRScXB3Z1BkN1VHNmZtT0ZsUHF6VGZKNVJBbElBWDBYR05sTVdsUTBSTWN6d1pvNzBrbDlRMWJCM1V4NVlLdlNKNmtWTjMwQkpaQ1lLK203ek1weDdXaWVTQUlkbnMrNEtRRk4vWjRKTEpybzg3VFJpa2dNQ2hCNjVsRWpXVWlIZ1RJcDV6am1HT3B1MGhhVlJtMVVBdENzaDB2dTFxSmZaRjlzQnYxQkkrdVRVOFhvUG9KUWxFK3hTMHlZTTdFcG12eEpGMHNaZ2J2cUUzN2hCb2w0L1YrdHBrdmJMcXpkNFhmWTMyWjd6SDBSNEkyMzJQb2oxZnpZT2lKd01hWHNJV2ZMUjM4d21HeFJTcXNWNXV4bmRJSFk5T2FoTmE4MS9NWTJ6S2xLcG5MMTFReDhGVHdyUjl1RllsKzJCTGV6YnlYUlQrY1V2VnA3cG5UQ0tNZGVnSndJK281ZmNvMjlqaDkwR0llUnJObE5MZ0xwK2hoa2dRdG5BczZoTVpjM2FYejhpYXJkeWRVaUhEcEVLc0EwOHJ1bEZoSERmWXUzbXZ6cXJmTzZjOEFoUVNxWlY1VHo3aVg3b2N1KzlkNmJBYlVSZEFKek01YldVYmRZQTNMNlZiUVI5R2pJU2hIaDlydG1KSVR6bmloZG4vcmgwUHQ4SG1PK2lzRjFpakFZNy9UNFRVdFVDTXovUUw1ZndqOGdxeVpsdFp6Ni91cWxRejAxa1AzYW9weVpCcko0aEJpQUFhU3NuMmhVSXByOEpXZjJnUDRacDFCd1VBRm51bzRDMml5ZlVGb1dsSGQ2SUpSZDBYRldhaTI2UG91cVBwNTdZSktOdmhOeStiQno1OFZtVCt2TWViWFJlYlBhNHo1WVh2OWluUHpTWkhaTm14WmRFVFJsa1I2Y3Z6U0RrQVcxcEVOc09naVZHWFlrUTE2UEdwbU5yd3UxanU0ditxdkxGM1BtbnUxMm9IYjFTZUZKQVM0dWMxckhBRjhvVDlxZ08vQmRac20rNVJLY2tzYk0yUUpGRXlvcVdNcWdKMHZWbkQ0WVFzaDhUdUxXU2RBTDlEbEZ5MVFCVHJ2R240S0NBa0lFb0NHWEpPTzNsNHpZTThLMFkvWnV2TjNiNmxkaFhhV3U0dWI1MmhOZTh2THd3OGdHd0VvQUpzYzFHVFE0SUlSNVBIQWN3M3VzR2xVMmpVMDh3REMzZTVjcFFpMktidFZ6TkRUc3ViU0dxclBndElQblUxMEVUcXRKU1VXSzFSVHVJQjJNUUh3TkRPaUhzRkRCWWpMK1pBdS9KaGRxMFo3Z2hpRDh6NTdyZVNnT0N1Mk5NUWZydjdFNzVua1FSazBid2p2Qzh2THJXUjlYcWYwQjcrVkxIeEw0YysxamJ3WE84TDFJY2czMlJzZDJud3ZCOE1ON1FwK05ISGphVUpCUyt1WCs5ck9mVFcvbU9ESHF4ei9WSTNMdXRWS1B4WjVyN2h1ZTJKRWdyOTl1R0pSWUVCS0JoaUcrQ2k0QVVZbHF6T3prVFNZbmVtWWtyRVVGNkovN1M1UjdLanRISkFwS0pNV0ZDVmRPR1VmUzZoSTNWYjBlRHltR2FlSEVXNFpkZzk3QTNUYUw1SU5ub2FIdmY2dU5IdnRlRFJEcktGVTU2b1VkSWd5b29WNGUxNmltNnVpTW4xNkt1MW1uK25rbkRxSWpCMGtOcG56UzhRVmRrcFVlakNpNTExNkxMS1BHcTc5bmExMVUrMjlCeTJLcjN2UUhieTEzOTZueC9kcWVzeHkxdE5qRnJyTy9YT0dMcmorM0NmMlV3dk5leFAvek1KNWpuVVFqeTluZldaVW1TWDU4WExZUitXQS9KSEwrN0N2MW5uRklmdXdqOFE5eHpwdlQybGY4V3RPN2RSajFBUGdjemJ6ZktUemZLTHpwaXkrdVpyd3hSZHZyOGlWMUtIZXZNOWp0WDlEVTlDOG9Tb0hhYnZWbFhFOEVjYkR1Tkx1dzEvTjdubjNyM0xTcEh2ZHdnaDF1eDdHME9vaFc1THBnMDZLckxlejlodzlkcEtRMXU5dmY5eHQvdjcyckw5SnRIRFNsNVlrc2MvaDlEemJXc2d1a2RxeHVLRS9hT2pPbStaamNBaGdDNlZTVzcwMk5sVGFORDZ4SjFUemsrMjgzWTM1MmUyUHU4M1Bibi9jYlQ3Y3JwaWhZaDNNTkl0Zno4MGJOVEJCdkpacVpZVU1mWE9qekNKSVdqWTk5cFdBUGlqN0s0SCtwV0QvNmZXZmhYNXhYTFZVdGhIKy93SUVidFBsdzl5cDdRQUFBQVppUzBkRUFQOEEvd0Qvb0wybmt3QUFBQWx3U0ZsekFBQUxFd0FBQ3hNQkFKcWNHQUFBQUFkMFNVMUZCK0lIRUF3VkdGaWlISUFBQUFFWVNVUkJWRWpIN1pVL1NnTlJFSWUvaVFraUNIYlc0Z0VzOUFMaUJXSWhFZytRQzNnS3hST0lmUlFMdFRCVlFDc3J3UU1JUXZBRUlsWmFmRFpQa0pCL3UvdHNaRDlZMkxkdlozNHpqNWw1VUZOVDgrOVJoNVpqT00xdnpDRXNjQUhjRlloM0IraEVSRlRKV0xWZDBLYWRBcDVJWTA1ZnF3WGpuZmwvSTFNZDlOU1RJamFOaW9JTDZqVndBS3lwa1Z0NFpZeG9BT2ZBTG5BSjdFZUVPZHZwVU4wWStiYWszcWJDdTFHYkkvdmRXY1ZWOW5qN1NmUnEzUEZtRVZZZmY5cEpYVllIU1hTZ0xrNnd5U0tzdXBmZTc5TzZyN2FtMkhSejlmRzZlZ1pzQXcrcGtMNytlbFovcUo4cDA5TmNrNnM1aDU5V2VnQmUxQTd3SEJGUDZpYXdOV0ZXVjg3NFZYMVQzMy9kUE1kcDc2anM3VlJUVTVPTmIycU9PYWg5bkpIMEFBQUFBRWxGVGtTdVFtQ0NcXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLWV4cGFuZC5jb2xsYXBzZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQU12bnBVV0hSU1lYY2djSEp2Wm1sc1pTQjBlWEJsSUdWNGFXWUFBSGphN1psWmR1TThEb1hmdVlwZUF1ZGhPUnpQNlIzMDh2c0RLVHV4SzNGVnl2M1FEMzljaVdSS2draGM0T0tDcGVaLy9yM1V2L2p4eVd2bFE4cXh4S2o1OGNVWFd6bkordnljbzlGKy96MWY1blhOUEk2cit3WExrT1BvenRkNGpadktlUGg0SVBscnZEMk9xOVF2Ty9reWRGMjRHWFR5WnN2SmRWKytERGw3eHMzMVhaWHJ1ZW8vTGVmNmRXbWJ1Ti84L0IzZkZEOENnODRxTzUxeG1yOWUzdUtZZ2N1dWNrejhOUzVhR1hHY1c0NHluci8ybmJxZlBqbnZmdmJrTzEydmNmZm9DcVhqZFVOODh0RTFic0xYdnRzZWVrRHQ0ODBQRitJd0gzTjc4dDFhSTY4MXorcXFqM2dxcW10UnQ2WHNNMjVzdU5MdHh5S2Z4Ry9nUE8xUDRaTlpZc2ZwQXpRYm42NU1NUlp2TCtQTk1OVXNNL2V4bTg0VXZaMDJjYlMyNDJzWnl5N1pZdnNHeGN2SExKdGNjVU9Ca1hVZDFCekQ5ajRYczk5Yjl2dTZ5Yng1R082MEJtT0dKMzc1cUs4Ry8rWnpON1NXaEM0T3puZGZNUzhyQWNnMEJEbjV5MTBBWXRibDA3RDl1ejlLUDJKekE5YUJZTmh1eml5dzZuWk10R0ErWXN0dG5CMzNCZTJWUHVGdTByZ000Q0xlSFppTWNTQ2dvM0hCUktPVHRja1kvSmpCcHpKejY3eHRJR0JDc01Pb0JUYU9URWcyVzNrM3p5U3o3N1hCbm1Hb0JTQ0NpNlJOQnFFS1dONEg0aWY1VEF6VjRJSlhJWVFZVXNpaGhCcGQ5REhFR0ZNVWpxckpKWjlDaWltbG5FcXEyV1dmUTQ0NTVaeExyc1VXQjRXRkVrdFNKWmRTYXVXbEZkT1ZweXQzMU5wc2M4MjMwR0pMTGJmU2FpZDh1dStoeDU1NjdxWFhZWWNicFArSUk2bVJSeGwxbWtrb1RUL0RqRFBOUE11c2kxaGJidmtWVmx4cDVWVld2YU4yb2ZxSW1ubEM3alZxNWtKTkVQUDd2dlNCR3NNcDNVd1lvWk1nbUlHWTlRYkVreUJBUUZ2QlRHZmp2UlhrQkROZExFa1JMS2laSU9BTUk0aUJvSi9HaG1YdTJIMGc5eEkzRmZ5UGNMUGZJYWNFdXY4RmNrcWd1NUQ3RmJjdlVCdDFWeFMzQVpJc0ZKOXF0eUEyYnBpNTJseWxKdjMxVWIxcjRCOURMNDV0YURkTlNWM1lsYnBHY0Ewd0xmTEZ1TFJtbDdPbVV3bHIyVGtJaGpWV2s2cEE5TGlZMmdxWUlpN0VsdHk3TUFlTnJGbTVkZlVhOTJBYzFaMHIxd1dDUmk0dEtabGlnSnI5WU9EMnZIclh3TzE1OWE2QjIvUHFsWUZjVjZJMHRoVlRYbk8weFlNa1pVdXIyMEE2NFRkeXpiYXliRk9ydVpWaUh6T2JScEwxYmtxUGlUOTZtMXQvTnArMDFIc0wrbGlQK3FtQlNmVFl1SzdveVNHNU5iaFBzbjlIejlDTHBaZDJZaWV3MXNLYVI0dDlwc1FsZjRzZENjbmp2OGVqK3U3Q2RZU0llS05NTGNZZHROZ1VVaHBod3RGN1VYalo3aG4xUHR4ZTNPVE9GbXBtOG5tYm1pd2h0dW5DY0tqb0pQVzJ3cDlGaDlHSDlpMXA4S2t0d3FkZElYNXFnNm5uak1Ga3hNOWNzM2h0aGcyODBXMy9vWTNHMVB2dGxmY0I5MHJUSWswbVRFd3NPSitTeW5zMkFuNmRpYXpLbWNWa2ZLWlQwNWN0UWVHeUpYQmN0cmhqVytOcDdLbkxvTmg3c2dZbWovWmV6azE5VE83RjNBaFRxUUFyRzhMSGwwa2YxT0FKS21MYmM3UWxxall0MkZTTE1jcmlTdDIyNmhMeDRmT3drNFpnalJocW9qTFpITWYwTVUrVEtWYlJlOXFPM0h0bVpSWXhLaDFPYXZYUHZSRm1RZm5HUlQwdUs3ZldIYVd4VGhXeVQ2NG5TbUFnT2EyZmxYYURBTzRaWFd3c2VKZTVRTEVaSC9nbnJjQVNmdzRXc0p3bGlvZWt3bFNJYXZ4bTI5enVIVlVXVDlFbW9sSTdJN1E3TkhWM085OGMxYmMzU05oS0pHL0J1Mk4yUjZ4SW05cTYzaWtwWVJ5Wkdkd2lmRFN1eUc3aXJxRnYzZ0pPOEN4dUc1bUFjTHdram00ajI5YjNHbkEraGl6U3IwbzI1UkQzdzhPZ1VBL2UzODhVZmVGUjVYWUovUFJ3SVRPazRxcG9sRTdVUVlFOW9hY3FzL0RWOEU2dU1BWFI4NmdpQ0tWdDZwakdVNFQ4Zm5FMXg1UE1LQjcyeVRPazRTRWgxMHpMdzdsT1hCcG1PbjJhWVl4UWNWQmNaSGhwMllCcU03d0dKZFpGdGFVYWxLeGo3ZFhyanF5aFR3TEVFaVdxaFRza01VT1l3aGVUbUUycFRJTVd0YkhJZTNBaFBYNWloVk5CZ0NtYlhMd2pLbGxadGloTU9xRVU2N3lYVmJ4UGxPVUtDUTBzeG1iY1JBQWl3QnlGb2Mzc29nSTYyb2VDMkJ1dFlVN1BRSXZuWkw3WmhVWVFOM3E1bVFjNmJLRG8yaHJNemMxQkRCc28yTVMwYkpsT2RXbWJDelBBVVQ2YVZRQXQ5c0I2VHdnTVFnQ0J0N1pxMnlPc0E5NWI1YkI0cVhLa3JqRmxTUG9NWmtFKzY3Q2gxajg3S2prNUVNN2U5NUZXVWlSRGxWQ05kVjNFVFl4OVVQY21ia21mUWZxUWlTRmx0VTJROERzYS9CSWpXNDFVQ1Z5RWJxZ3I2bnB3SmUvYTVpTXhKbEZ0UXQ1clFYS3JKamJkd3pROW1OS2tqZEE5MlF0aGVDS1Vxb3pBbmpDRGI0NWcyenNTcGhkZWJnUmJSY3RzZXlSWVVNdlVQNzZBdGJNVDhJTW41UHpvc0ZLSzlOcm82cWxwOHMySXJUR1ZIS1JGMENjRDFhbE52UXlZaGVBcndhd01YUnFvckRidUcwaitMY0ZoME5ycDAzMm8zT3hrTG9WZXBTTDBjMkZwOGoxSVgwejNYbGZEOW1PWjdNVGJJbGh5WEw0M0h1OVN3cjJwSWRRd2ZFTHY2YjVTVTZZTG5WSXhlcVdwTU9JZXFxSVVTUnlaeDBsSmNBM2oxRm5oQ3B2eWJBUVlVYjFCZ0VXS3FtU1ZzSWhBVGtjRmtIUVpBZEhZbkNReDlhRzV4QnBvdzhoZG1BSCs3NFYwMUQ3bmtXbVI2ZGVJYXVYb2lUUENxY2xqTk51NUpObmNnQU5iR25BTTVKRnFITGxQRkd0bkpnWXFHTlo3aWY2YWMvUWFJRWdSelBRRkp4QU5TSTdud0grTWUycWxpTFdVYmxVR3ZqKzgxSTNLbmJNZVdGSk9JbTdxbkhsSmJuWHJDa0tFTWtMenRNMlM2V1U1TjN0SnVJVkVXQ1hJVEswSVBHVW1PU2pPN2U2dmV5U3BBOUptN1VJZ0M2bTNTa0Fka09SOWxZTzcrcDhLc1BsZkhmRHFTY3RUQTNZRkVPMlE4dTh6VWZxOWZPOUZtcUU1TU5nclZIYzZXT2lxdU1HUEwyVVVYSW1lTkxLelZGd09KQmdCTFB3ZVJrMjNORkEveW9PSE5DaHU2aUtWai9xajBkbkF5M0xnQnNDdmEvNHFKR0hmdEF6dkRuSEVhWU0weWtnSTJKZmNNTkppZ3k5OVA1ZG8wUWxQYjNSb1Z2ZzZJZ1dDUjJyQWFESFJPWFdjRnVPQ0tPYlVyYlZBL2FXaGR0NVlhQnFCb2IyS0ZMeWN0aDN5WHB5ZGR3QXlRYjRMSnhMMUNWaXBxQldOcytFT3pwT3JzQWs1UTgyZy82SVhxVFpTaHdhWGk0K0ZONk44S1NSRE5ndDl6VkpsSlFWR0R6SFEyZU9HNXZLaEhtUUJnUzF2c3RLdlpkU3RCS1NXcmtBTDRaSEdtZ0tQYTFpSWlINjBQaFVNN2tPSzVHRmNyeEpMdytMVjdqcTlvalIrc0IzNnNhWHBwSjJoUTNDNTcrMERIRFhYYjdMdm8rcW9uNWFkNzZxTyttblorUzdXMVUvTHpxM3FwSXI2TUZaRUZ0Z1pmQ1NxaUs2QktDYWFkMDB1dEI0b1ZqTUMwa0ZrVlJvMU1CLzg3Zyt6ZVhCQzFTd1hMZVJzTWlsRUx3TEFOQ0lOVzRnN2plUTlORTg0eVI0UHJkVkY4MlZISUIzTFlYbHZTQ1d6V1I2R2pRcmc0NjhFZzRwZnh3OGRoYkprQ1VJTkUrOGlJc0xSVTRYdWdCZEJaMVFDSlV3Wm5kdHVOaUZrUlBjNlZiWWxrNHp0cDhxV0pBbHI4cW15Y3I0emVwRzgwclBjdHpTYUtOOVJ4RnZpWTdKajRlR3krZGpMN3RuMjcxRy9PN0FmdzVwWnFSUFdJbmRmU1Bhd29lK25YL3lRVE9BcEVZTmt5bHFSR3ZZZHJyNVJ0WHFYcTI5VXJkN2g2Z2Fiak5Ca0Y3cXFhZENzbmpvTFozWFkybHY2Tk9GYmt0eUVuaUVSNUkwa3NrNUdYSXNHbjZKVUlXSmZMdEpENUt0TFc5UnhDbnVhQkdScUEyaXA4VEFnUVJ2c0pqNW9objZRb2hDcGc2V09XYkhZQndXYldTRnJJR0Qwd3ZLR0hvNXdFWm9kbzZPeWtDdGJKOFBJUmhJc29RVWd6U0V1R2JUdlJDMU5Ra05oSU1qb3NwdVg1L09rOWFSeFIxemtra1ZZVERnOGxjNGp1NG1FdGE0dUVzNTN4OG5oYkhSMGFmNlZWSG5Rby8yc3FhYlFwZjJBNjRna1Z1djk3ajRXNzBUL1VTSVE5RDM3anNjcy9RZHhkQ1FFdWtLZDdnTlpFWWkzYm5JL0dSYSt5cWVuZE9yZ2ZPYzc5Wm40WHFVQUdjQTBwU0YvVkdvM29hWnVTdTNzRkx4S2czdm5JR05DNFI4RUx2dEhiL1VOTndJbkNSU0huUU9nOFV6ZlgyNzNmQ0x2RS9wWDRJcyt1aUpmaXYxRjNkZCtqNjZ5MzRNZlpMOUhlbGtVeWxZWUNidGNsSmF1OWdCejJLbjBuQ0VDbGl1c1Z2WjdaSXZCd0J0NzVaMHF0ODRHREhtenQweGs4K1Zzd1l6dzBYbHFkZTI4b0lMTGJqNzNybEM0TlNoL2JsRGRMTDVyVUQxUDhXOE5xdS9XL0ZPRDZuZE9mR253VXk2b0w1TmhNMlNXUk5BU1Q5bzN5Y1JOdkVmelEyQzAydDJFSzBSMFVzUUlCWG1XSkRGeTlnUUhYY3BJZmtLVE5JYzhvaEZmZTBzUStwM3RiQWsrSjVQNjgyeDZuVXpxejdQcHUyVHlHbllPYXUydFdpTStpRnp1dmpvbTUrWllNL0MxU2VmU1hMdzJmVTF6TUJSY0xMSVpKVkJQWGQzL2VYQ0p1bHI4eG94MGsrUVVmNTlMNThJZWxxcDczNEc5S3ZQdEx2VjgyOEhyRytPZmJUemRwOTZaeGVlNzFEdXorSHlmZW1jV255ZWgzcG5GNTBtb3IyYnhXcVJMSXU1OTBXQ1AyRURxYmhwcGRNWkNqQzdKL3dvczJTb2gvcmlXWlFKUnFvMDcxUTc5dHh3OU5td3VxVW12SU1XK1NzQVhKVVh1NzhySDQxRzlhK0FmUS8vUGhnaER3b2ZrL0M5MXMrR24yci9uRHdBQUFBWmlTMGRFQVA4QS93RC9vTDJua3dBQUFBbHdTRmx6QUFBTEV3QUFDeE1CQUpxY0dBQUFBQWQwU1UxRkIrSUhFQXdWQ0VVVkRPUUFBQUVlU1VSQlZFakg3Wld4TGtSQkZJYS9zMVkyb2xjcWxRcXRUaWtSa1NoNGdIMEJ3VFBZUnhBUGdDMWtDMVFpQ2lVZVFUYktyUkRWaW55YUtZUzE5OTdjdXdxNVh6bi9QL1BQT1RtVGdacWFtcjlBN2ZzN0I4blQrYkwycWo2clQxbG5SMGF3d0Fsd1BVSytqNGdIZFFsWUFPYUJUdEtHRWRFcVU3SHFlazd2WWZJUDFiZXlyVlp0WjNobTFkdmtQVkwzVTZmRzBpaDVzV21nQ3l3RE54SFJCaDd6N0cyVUNHMEJsOEFxY0FXc0pla2R1SnRJcTlWUXo1SitvVTVWL1p4K0JLdE50WmUwYzNYbW03Nm83bFFhbkNvOVRldGROVWJzMmMwelhNMENsNGcwU0p0QUQ5aU9pRkVCTDVVT1Z3cnBBOGNSc1JFUkgyVzYyU3hpam9pOXF1WW5UOFdEZ21jT3FxcDRTNTByRUx3eTZkOXBIUDM2YjYrcCtmOThBaWZySjhkYm0wR1ZBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tb3JlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzE4cHgnIGhlaWdodD0nNXB4JyB2aWV3Qm94PScwIDAgMTggNScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRU9wdGlvbnMgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC03MzQuMDAwMDAwLCAtNzU1LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDcGF0aCBkPSdNNjU4LjE0NTIxLDUwLjk1MzI3MSBDNjU2Ljk2NDMwMSw1MC45NTMyNzEgNjU2LjAwNjk4Niw0OS45Njk5NzEyIDY1Ni4wMDY5ODYsNDguNzU3MDA5MyBDNjU2LjAwNjk4Niw0Ny41NDQwNDc1IDY1Ni45NjQzMDEsNDYuNTYwNzQ3NyA2NTguMTQ1MjEsNDYuNTYwNzQ3NyBDNjU5LjMyNjExOCw0Ni41NjA3NDc3IDY2MC4yODM0MzMsNDcuNTQ0MDQ3NSA2NjAuMjgzNDMzLDQ4Ljc1NzAwOTMgQzY2MC4yODM0MzMsNDkuOTY5OTcxMiA2NTkuMzI2MTE4LDUwLjk1MzI3MSA2NTguMTQ1MjEsNTAuOTUzMjcxIFogTTY3MS44Mjk4NCw1MC45NTMyNzEgQzY3MC42NDg5MzIsNTAuOTUzMjcxIDY2OS42OTE2MTcsNDkuOTY5OTcxMiA2NjkuNjkxNjE3LDQ4Ljc1NzAwOTMgQzY2OS42OTE2MTcsNDcuNTQ0MDQ3NSA2NzAuNjQ4OTMyLDQ2LjU2MDc0NzcgNjcxLjgyOTg0LDQ2LjU2MDc0NzcgQzY3My4wMTA3NDksNDYuNTYwNzQ3NyA2NzMuOTY4MDY0LDQ3LjU0NDA0NzUgNjczLjk2ODA2NCw0OC43NTcwMDkzIEM2NzMuOTY4MDY0LDQ5Ljk2OTk3MTIgNjczLjAxMDc0OSw1MC45NTMyNzEgNjcxLjgyOTg0LDUwLjk1MzI3MSBaIE02NjQuOTg3NTI1LDUwLjk1MzI3MSBDNjYzLjgwNjYxNyw1MC45NTMyNzEgNjYyLjg0OTMwMSw0OS45Njk5NzEyIDY2Mi44NDkzMDEsNDguNzU3MDA5MyBDNjYyLjg0OTMwMSw0Ny41NDQwNDc1IDY2My44MDY2MTcsNDYuNTYwNzQ3NyA2NjQuOTg3NTI1LDQ2LjU2MDc0NzcgQzY2Ni4xNjg0MzMsNDYuNTYwNzQ3NyA2NjcuMTI1NzQ5LDQ3LjU0NDA0NzUgNjY3LjEyNTc0OSw0OC43NTcwMDkzIEM2NjcuMTI1NzQ5LDQ5Ljk2OTk3MTIgNjY2LjE2ODQzMyw1MC45NTMyNzEgNjY0Ljk4NzUyNSw1MC45NTMyNzEgWicgaWQ9J09wdGlvbnMtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpOyAgXFxuICBtYXJnaW4tdG9wOiAxM3B4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tbW9yZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxOHB4JyBoZWlnaHQ9JzVweCcgdmlld0JveD0nMCAwIDE4IDUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VPcHRpb25zIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzM0LjAwMDAwMCwgLTc1NS4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ3BhdGggZD0nTTY1OC4xNDUyMSw1MC45NTMyNzEgQzY1Ni45NjQzMDEsNTAuOTUzMjcxIDY1Ni4wMDY5ODYsNDkuOTY5OTcxMiA2NTYuMDA2OTg2LDQ4Ljc1NzAwOTMgQzY1Ni4wMDY5ODYsNDcuNTQ0MDQ3NSA2NTYuOTY0MzAxLDQ2LjU2MDc0NzcgNjU4LjE0NTIxLDQ2LjU2MDc0NzcgQzY1OS4zMjYxMTgsNDYuNTYwNzQ3NyA2NjAuMjgzNDMzLDQ3LjU0NDA0NzUgNjYwLjI4MzQzMyw0OC43NTcwMDkzIEM2NjAuMjgzNDMzLDQ5Ljk2OTk3MTIgNjU5LjMyNjExOCw1MC45NTMyNzEgNjU4LjE0NTIxLDUwLjk1MzI3MSBaIE02NzEuODI5ODQsNTAuOTUzMjcxIEM2NzAuNjQ4OTMyLDUwLjk1MzI3MSA2NjkuNjkxNjE3LDQ5Ljk2OTk3MTIgNjY5LjY5MTYxNyw0OC43NTcwMDkzIEM2NjkuNjkxNjE3LDQ3LjU0NDA0NzUgNjcwLjY0ODkzMiw0Ni41NjA3NDc3IDY3MS44Mjk4NCw0Ni41NjA3NDc3IEM2NzMuMDEwNzQ5LDQ2LjU2MDc0NzcgNjczLjk2ODA2NCw0Ny41NDQwNDc1IDY3My45NjgwNjQsNDguNzU3MDA5MyBDNjczLjk2ODA2NCw0OS45Njk5NzEyIDY3My4wMTA3NDksNTAuOTUzMjcxIDY3MS44Mjk4NCw1MC45NTMyNzEgWiBNNjY0Ljk4NzUyNSw1MC45NTMyNzEgQzY2My44MDY2MTcsNTAuOTUzMjcxIDY2Mi44NDkzMDEsNDkuOTY5OTcxMiA2NjIuODQ5MzAxLDQ4Ljc1NzAwOTMgQzY2Mi44NDkzMDEsNDcuNTQ0MDQ3NSA2NjMuODA2NjE3LDQ2LjU2MDc0NzcgNjY0Ljk4NzUyNSw0Ni41NjA3NDc3IEM2NjYuMTY4NDMzLDQ2LjU2MDc0NzcgNjY3LjEyNTc0OSw0Ny41NDQwNDc1IDY2Ny4xMjU3NDksNDguNzU3MDA5MyBDNjY3LjEyNTc0OSw0OS45Njk5NzEyIDY2Ni4xNjg0MzMsNTAuOTUzMjcxIDY2NC45ODc1MjUsNTAuOTUzMjcxIFonIGlkPSdPcHRpb25zLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTsgIFxcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tZnVsbHNjcmVlbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRWV4cGFuZCBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTg5NC4wMDAwMDAsIC03NDguMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NnIGlkPSdVSScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjAuNTI2OTQ2LCAxOS4zMjcxMDMpJyUzRSUzQ3BhdGggZD0nTTgwNi42ODkwMTEsMzMuMjY2ODk5MSBMODAzLjE3MDQ4MywzNi44MDg1NzUxIEw4MDUuOTcxNDE2LDM5LjYwOTUwODMgQzgwNi4wNjQwMDksMzkuNjc4OTUzIDgwNi4xMTAzMDYsMzkuNzk0Njk0IDgwNi4xMTAzMDYsMzkuOTEwNDM1IEM4MDYuMTEwMzA2LDQwLjE0MTkxNzEgODA1LjkyNTEyLDQwLjMyNzEwMjggODA1LjY5MzYzOCw0MC4zMjcxMDI4IEw3OTYuNTI2OTQ3LDQwLjMyNzEwMjggQzc5Ni4yOTU0NjUsNDAuMzI3MTAyOCA3OTYuMTEwMjc5LDQwLjE0MTkxNzEgNzk2LjExMDI3OSwzOS45MTA0MzUgTDc5Ni4xMTAyNzksMzAuNzQzNzQ0MyBDNzk2LjExMDI3OSwzMC41ODE3MDY5IDc5Ni4yMDI4NzIsMzAuNDE5NjY5NCA3OTYuMzY0OTEsMzAuMzUwMjI0OCBDNzk2LjUyNjk0NywzMC4zMDM5Mjg0IDc5Ni43MTIxMzMsMzAuMzI3MDc2NiA3OTYuODI3ODc0LDMwLjQ0MjgxNzYgTDc5OS42Mjg4MDcsMzMuMjY2ODk5MSBMODAzLjE3MDQ4MywyOS43NDgzNzE0IEM4MDMuMzMyNTIxLDI5LjU4NjMzMzkgODAzLjU4NzE1MSwyOS41ODYzMzM5IDgwMy43NDkxODgsMjkuNzQ4MzcxNCBMODA2LjY4OTAxMSwzMi42ODgxOTM5IEM4MDYuNzgxNjA0LDMyLjc1NzYzODUgODA2LjgyNzksMzIuODczMzc5NiA4MDYuODI3OSwzMi45ODkxMjA2IEM4MDYuODI3OSwzMy4wODE3MTM0IDgwNi43ODE2MDQsMzMuMTk3NDU0NSA4MDYuNjg5MDExLDMzLjI2Njg5OTEgWiBNODE2LjExMDMzMiwyMC43NDM3MTgxIEw4MTYuMTEwMzMyLDI5LjkxMDQwODggQzgxNi4xMTAzMzIsMzAuMDcyNDQ2MyA4MTYuMDE3NzM5LDMwLjIzNDQ4MzcgODE1Ljg1NTcwMiwzMC4zMDM5Mjg0IEM4MTUuODA5NDA1LDMwLjMyNzA3NjYgODE1LjczOTk2MSwzMC4zMjcwNzY2IDgxNS42OTM2NjQsMzAuMzI3MDc2NiBDODE1LjU3NzkyMywzMC4zMjcwNzY2IDgxNS40ODUzMywzMC4yODA3ODAyIDgxNS4zOTI3MzcsMzAuMjExMzM1NSBMODEyLjU5MTgwNCwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDMwLjkyODkzIEM4MDguOTgwNjg0LDMwLjk5ODM3NDYgODA4Ljg2NDk0MywzMS4wNDQ2NzExIDgwOC43NzIzNSwzMS4wNDQ2NzExIEM4MDguNjU2NjA5LDMxLjA0NDY3MTEgODA4LjU0MDg2OCwzMC45OTgzNzQ2IDgwOC40NzE0MjMsMzAuOTI4OTMgTDgwNS41MDg0NTIsMjcuOTY1OTU5MyBDODA1LjM0NjQxNSwyNy44MDM5MjE4IDgwNS4zNDY0MTUsMjcuNTQ5MjkxNSA4MDUuNTA4NDUyLDI3LjM4NzI1NDEgTDgwOS4wNTAxMjgsMjMuODQ1NTc4MSBMODA2LjIyNjA0NywyMS4wNDQ2NDQ4IEM4MDYuMTEwMzA2LDIwLjkyODkwMzggODA2LjA4NzE1NywyMC43NDM3MTgxIDgwNi4xMzM0NTQsMjAuNTgxNjgwNiBDODA2LjIwMjg5OSwyMC40MTk2NDMyIDgwNi4zNjQ5MzYsMjAuMzI3MDUwNCA4MDYuNTI2OTczLDIwLjMyNzA1MDQgTDgxNS42OTM2NjQsMjAuMzI3MDUwNCBDODE1LjkyNTE0NiwyMC4zMjcwNTA0IDgxNi4xMTAzMzIsMjAuNTEyMjM2IDgxNi4xMTAzMzIsMjAuNzQzNzE4MSBaJyBpZD0nZXhwYW5kLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tZnVsbHNjcmVlbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRWV4cGFuZCBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTg5NC4wMDAwMDAsIC03NDguMDAwMDAwKScgZmlsbD0nJTIzRkZGRkZGJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NnIGlkPSdVSScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjAuNTI2OTQ2LCAxOS4zMjcxMDMpJyUzRSUzQ3BhdGggZD0nTTgwNi42ODkwMTEsMzMuMjY2ODk5MSBMODAzLjE3MDQ4MywzNi44MDg1NzUxIEw4MDUuOTcxNDE2LDM5LjYwOTUwODMgQzgwNi4wNjQwMDksMzkuNjc4OTUzIDgwNi4xMTAzMDYsMzkuNzk0Njk0IDgwNi4xMTAzMDYsMzkuOTEwNDM1IEM4MDYuMTEwMzA2LDQwLjE0MTkxNzEgODA1LjkyNTEyLDQwLjMyNzEwMjggODA1LjY5MzYzOCw0MC4zMjcxMDI4IEw3OTYuNTI2OTQ3LDQwLjMyNzEwMjggQzc5Ni4yOTU0NjUsNDAuMzI3MTAyOCA3OTYuMTEwMjc5LDQwLjE0MTkxNzEgNzk2LjExMDI3OSwzOS45MTA0MzUgTDc5Ni4xMTAyNzksMzAuNzQzNzQ0MyBDNzk2LjExMDI3OSwzMC41ODE3MDY5IDc5Ni4yMDI4NzIsMzAuNDE5NjY5NCA3OTYuMzY0OTEsMzAuMzUwMjI0OCBDNzk2LjUyNjk0NywzMC4zMDM5Mjg0IDc5Ni43MTIxMzMsMzAuMzI3MDc2NiA3OTYuODI3ODc0LDMwLjQ0MjgxNzYgTDc5OS42Mjg4MDcsMzMuMjY2ODk5MSBMODAzLjE3MDQ4MywyOS43NDgzNzE0IEM4MDMuMzMyNTIxLDI5LjU4NjMzMzkgODAzLjU4NzE1MSwyOS41ODYzMzM5IDgwMy43NDkxODgsMjkuNzQ4MzcxNCBMODA2LjY4OTAxMSwzMi42ODgxOTM5IEM4MDYuNzgxNjA0LDMyLjc1NzYzODUgODA2LjgyNzksMzIuODczMzc5NiA4MDYuODI3OSwzMi45ODkxMjA2IEM4MDYuODI3OSwzMy4wODE3MTM0IDgwNi43ODE2MDQsMzMuMTk3NDU0NSA4MDYuNjg5MDExLDMzLjI2Njg5OTEgWiBNODE2LjExMDMzMiwyMC43NDM3MTgxIEw4MTYuMTEwMzMyLDI5LjkxMDQwODggQzgxNi4xMTAzMzIsMzAuMDcyNDQ2MyA4MTYuMDE3NzM5LDMwLjIzNDQ4MzcgODE1Ljg1NTcwMiwzMC4zMDM5Mjg0IEM4MTUuODA5NDA1LDMwLjMyNzA3NjYgODE1LjczOTk2MSwzMC4zMjcwNzY2IDgxNS42OTM2NjQsMzAuMzI3MDc2NiBDODE1LjU3NzkyMywzMC4zMjcwNzY2IDgxNS40ODUzMywzMC4yODA3ODAyIDgxNS4zOTI3MzcsMzAuMjExMzM1NSBMODEyLjU5MTgwNCwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDMwLjkyODkzIEM4MDguOTgwNjg0LDMwLjk5ODM3NDYgODA4Ljg2NDk0MywzMS4wNDQ2NzExIDgwOC43NzIzNSwzMS4wNDQ2NzExIEM4MDguNjU2NjA5LDMxLjA0NDY3MTEgODA4LjU0MDg2OCwzMC45OTgzNzQ2IDgwOC40NzE0MjMsMzAuOTI4OTMgTDgwNS41MDg0NTIsMjcuOTY1OTU5MyBDODA1LjM0NjQxNSwyNy44MDM5MjE4IDgwNS4zNDY0MTUsMjcuNTQ5MjkxNSA4MDUuNTA4NDUyLDI3LjM4NzI1NDEgTDgwOS4wNTAxMjgsMjMuODQ1NTc4MSBMODA2LjIyNjA0NywyMS4wNDQ2NDQ4IEM4MDYuMTEwMzA2LDIwLjkyODkwMzggODA2LjA4NzE1NywyMC43NDM3MTgxIDgwNi4xMzM0NTQsMjAuNTgxNjgwNiBDODA2LjIwMjg5OSwyMC40MTk2NDMyIDgwNi4zNjQ5MzYsMjAuMzI3MDUwNCA4MDYuNTI2OTczLDIwLjMyNzA1MDQgTDgxNS42OTM2NjQsMjAuMzI3MDUwNCBDODE1LjkyNTE0NiwyMC4zMjcwNTA0IDgxNi4xMTAzMzIsMjAuNTEyMjM2IDgxNi4xMTAzMzIsMjAuNzQzNzE4MSBaJyBpZD0nZXhwYW5kLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tc3VidGl0bGVzIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIycHgnIGhlaWdodD0nMjBweCcgdmlld0JveD0nMCAwIDIyIDIwJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFc3VidGl0bGVzIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzY5LjAwMDAwMCwgLTc0Ni4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnIGZpbGwtcnVsZT0nbm9uemVybyclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDcGF0aCBkPSdNNjk1Ljk3NjU3NywzOS41MzI3MTAzIEM2OTQuNjg1OTY3LDM5LjUzMjcxMDMgNjkzLjYzOTcyMSw0MC42MTg1NjI5IDY5My42Mzk3MjEsNDEuOTU4MDI5OSBMNjkzLjYzOTcyMSw1Mi45MjA0NzQ3IEM2OTMuNjM5NzIxLDU0LjI1OTk0MTggNjk0LjY4NTk2Nyw1NS4zNDU3OTQ0IDY5NS45NzY1NzcsNTUuMzQ1Nzk0NCBMNzA4LjQwODY1Myw1NS4zNDU3OTQ0IEM3MDkuNjk5MjYzLDU1LjM0NTc5NDQgNzEwLjc0NTUwOSw1NC4yNTk5NDE4IDcxMC43NDU1MDksNTIuOTIwNDc0NyBMNzEwLjc0NTUwOSw0MS45NTgwMjk5IEM3MTAuNzQ1NTA5LDQwLjYxODU2MjkgNzA5LjY5OTI2MywzOS41MzI3MTAzIDcwOC40MDg2NTMsMzkuNTMyNzEwMyBMNjk1Ljk3NjU3NywzOS41MzI3MTAzIFogTTY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBMNzA4LjMxMzg3OSwzNy43NzU3MDA5IEM3MTAuNjAxNTU4LDM3Ljc3NTcwMDkgNzEyLjQ1NjA4OCwzOS42OTM4NjIyIDcxMi40NTYwODgsNDIuMDYwMDM0MSBMNzEyLjQ1NjA4OCw1Mi44MTg0NzA2IEM3MTIuNDU2MDg4LDU1LjE4NDY0MjUgNzEwLjYwMTU1OCw1Ny4xMDI4MDM3IDcwOC4zMTM4NzksNTcuMTAyODAzNyBMNjk2LjA3MTM1MSw1Ny4xMDI4MDM3IEM2OTMuNzgzNjcyLDU3LjEwMjgwMzcgNjkxLjkyOTE0Miw1NS4xODQ2NDI1IDY5MS45MjkxNDIsNTIuODE4NDcwNiBMNjkxLjkyOTE0Miw0Mi4wNjAwMzQxIEM2OTEuOTI5MTQyLDM5LjY5Mzg2MjIgNjkzLjc4MzY3MiwzNy43NzU3MDA5IDY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBaIE02OTYuMjYwMTgyLDQ4LjMxNzc1NyBMNzAyLjk5MzMxMSw0OC4zMTc3NTcgQzcwMy40OTU4MjUsNDguMzE3NzU3IDcwMy45MDMxOTQsNDcuOTI0NDM3MSA3MDMuOTAzMTk0LDQ3LjQzOTI1MjMgQzcwMy45MDMxOTQsNDYuOTU0MDY3NiA3MDMuNDk1ODI1LDQ2LjU2MDc0NzcgNzAyLjk5MzMxMSw0Ni41NjA3NDc3IEw2OTYuMjYwMTgyLDQ2LjU2MDc0NzcgQzY5NS43NTc2NjgsNDYuNTYwNzQ3NyA2OTUuMzUwMjk5LDQ2Ljk1NDA2NzYgNjk1LjM1MDI5OSw0Ny40MzkyNTIzIEM2OTUuMzUwMjk5LDQ3LjkyNDQzNzEgNjk1Ljc1NzY2OCw0OC4zMTc3NTcgNjk2LjI2MDE4Miw0OC4zMTc3NTcgWiBNNzA3LjI5Njc2MSw0OC4zMTc3NTcgTDcwOC4yMDcyMzEsNDguMzE3NzU3IEM3MDguNjY0MzU2LDQ4LjMxNzc1NyA3MDkuMDM0OTMsNDcuOTI0NDM3MSA3MDkuMDM0OTMsNDcuNDM5MjUyMyBDNzA5LjAzNDkzLDQ2Ljk1NDA2NzYgNzA4LjY2NDM1Niw0Ni41NjA3NDc3IDcwOC4yMDcyMzEsNDYuNTYwNzQ3NyBMNzA3LjI5Njc2MSw0Ni41NjA3NDc3IEM3MDYuODM5NjM2LDQ2LjU2MDc0NzcgNzA2LjQ2OTA2Miw0Ni45NTQwNjc2IDcwNi40NjkwNjIsNDcuNDM5MjUyMyBDNzA2LjQ2OTA2Miw0Ny45MjQ0MzcxIDcwNi44Mzk2MzYsNDguMzE3NzU3IDcwNy4yOTY3NjEsNDguMzE3NzU3IFogTTcwMS4zOTE5MTgsNTEuODMxNzc1NyBMNzA4LjEyNTA0OCw1MS44MzE3NzU3IEM3MDguNjI3NTYyLDUxLjgzMTc3NTcgNzA5LjAzNDkzLDUxLjQzODQ1NTggNzA5LjAzNDkzLDUwLjk1MzI3MSBDNzA5LjAzNDkzLDUwLjQ2ODA4NjMgNzA4LjYyNzU2Miw1MC4wNzQ3NjY0IDcwOC4xMjUwNDgsNTAuMDc0NzY2NCBMNzAxLjM5MTkxOCw1MC4wNzQ3NjY0IEM3MDAuODg5NDA0LDUwLjA3NDc2NjQgNzAwLjQ4MjAzNiw1MC40NjgwODYzIDcwMC40ODIwMzYsNTAuOTUzMjcxIEM3MDAuNDgyMDM2LDUxLjQzODQ1NTggNzAwLjg4OTQwNCw1MS44MzE3NzU3IDcwMS4zOTE5MTgsNTEuODMxNzc1NyBaIE02OTYuNDE5NDExLDUxLjgzMTc3NTcgTDY5Ny43MDIzNDUsNTEuODMxNzc1NyBDNjk4LjI5Mjc5OSw1MS44MzE3NzU3IDY5OC43NzE0NTcsNTEuNDM4NDU1OCA2OTguNzcxNDU3LDUwLjk1MzI3MSBDNjk4Ljc3MTQ1Nyw1MC40NjgwODYzIDY5OC4yOTI3OTksNTAuMDc0NzY2NCA2OTcuNzAyMzQ1LDUwLjA3NDc2NjQgTDY5Ni40MTk0MTEsNTAuMDc0NzY2NCBDNjk1LjgyODk1Nyw1MC4wNzQ3NjY0IDY5NS4zNTAyOTksNTAuNDY4MDg2MyA2OTUuMzUwMjk5LDUwLjk1MzI3MSBDNjk1LjM1MDI5OSw1MS40Mzg0NTU4IDY5NS44Mjg5NTcsNTEuODMxNzc1NyA2OTYuNDE5NDExLDUxLjgzMTc3NTcgWicgaWQ9J3N1YnRpdGxlcy1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1zdWJ0aXRsZXM6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjJweCcgaGVpZ2h0PScyMHB4JyB2aWV3Qm94PScwIDAgMjIgMjAnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VzdWJ0aXRsZXMgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC03NjkuMDAwMDAwLCAtNzQ2LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRicgZmlsbC1ydWxlPSdub256ZXJvJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NwYXRoIGQ9J002OTUuOTc2NTc3LDM5LjUzMjcxMDMgQzY5NC42ODU5NjcsMzkuNTMyNzEwMyA2OTMuNjM5NzIxLDQwLjYxODU2MjkgNjkzLjYzOTcyMSw0MS45NTgwMjk5IEw2OTMuNjM5NzIxLDUyLjkyMDQ3NDcgQzY5My42Mzk3MjEsNTQuMjU5OTQxOCA2OTQuNjg1OTY3LDU1LjM0NTc5NDQgNjk1Ljk3NjU3Nyw1NS4zNDU3OTQ0IEw3MDguNDA4NjUzLDU1LjM0NTc5NDQgQzcwOS42OTkyNjMsNTUuMzQ1Nzk0NCA3MTAuNzQ1NTA5LDU0LjI1OTk0MTggNzEwLjc0NTUwOSw1Mi45MjA0NzQ3IEw3MTAuNzQ1NTA5LDQxLjk1ODAyOTkgQzcxMC43NDU1MDksNDAuNjE4NTYyOSA3MDkuNjk5MjYzLDM5LjUzMjcxMDMgNzA4LjQwODY1MywzOS41MzI3MTAzIEw2OTUuOTc2NTc3LDM5LjUzMjcxMDMgWiBNNjk2LjA3MTM1MSwzNy43NzU3MDA5IEw3MDguMzEzODc5LDM3Ljc3NTcwMDkgQzcxMC42MDE1NTgsMzcuNzc1NzAwOSA3MTIuNDU2MDg4LDM5LjY5Mzg2MjIgNzEyLjQ1NjA4OCw0Mi4wNjAwMzQxIEw3MTIuNDU2MDg4LDUyLjgxODQ3MDYgQzcxMi40NTYwODgsNTUuMTg0NjQyNSA3MTAuNjAxNTU4LDU3LjEwMjgwMzcgNzA4LjMxMzg3OSw1Ny4xMDI4MDM3IEw2OTYuMDcxMzUxLDU3LjEwMjgwMzcgQzY5My43ODM2NzIsNTcuMTAyODAzNyA2OTEuOTI5MTQyLDU1LjE4NDY0MjUgNjkxLjkyOTE0Miw1Mi44MTg0NzA2IEw2OTEuOTI5MTQyLDQyLjA2MDAzNDEgQzY5MS45MjkxNDIsMzkuNjkzODYyMiA2OTMuNzgzNjcyLDM3Ljc3NTcwMDkgNjk2LjA3MTM1MSwzNy43NzU3MDA5IFogTTY5Ni4yNjAxODIsNDguMzE3NzU3IEw3MDIuOTkzMzExLDQ4LjMxNzc1NyBDNzAzLjQ5NTgyNSw0OC4zMTc3NTcgNzAzLjkwMzE5NCw0Ny45MjQ0MzcxIDcwMy45MDMxOTQsNDcuNDM5MjUyMyBDNzAzLjkwMzE5NCw0Ni45NTQwNjc2IDcwMy40OTU4MjUsNDYuNTYwNzQ3NyA3MDIuOTkzMzExLDQ2LjU2MDc0NzcgTDY5Ni4yNjAxODIsNDYuNTYwNzQ3NyBDNjk1Ljc1NzY2OCw0Ni41NjA3NDc3IDY5NS4zNTAyOTksNDYuOTU0MDY3NiA2OTUuMzUwMjk5LDQ3LjQzOTI1MjMgQzY5NS4zNTAyOTksNDcuOTI0NDM3MSA2OTUuNzU3NjY4LDQ4LjMxNzc1NyA2OTYuMjYwMTgyLDQ4LjMxNzc1NyBaIE03MDcuMjk2NzYxLDQ4LjMxNzc1NyBMNzA4LjIwNzIzMSw0OC4zMTc3NTcgQzcwOC42NjQzNTYsNDguMzE3NzU3IDcwOS4wMzQ5Myw0Ny45MjQ0MzcxIDcwOS4wMzQ5Myw0Ny40MzkyNTIzIEM3MDkuMDM0OTMsNDYuOTU0MDY3NiA3MDguNjY0MzU2LDQ2LjU2MDc0NzcgNzA4LjIwNzIzMSw0Ni41NjA3NDc3IEw3MDcuMjk2NzYxLDQ2LjU2MDc0NzcgQzcwNi44Mzk2MzYsNDYuNTYwNzQ3NyA3MDYuNDY5MDYyLDQ2Ljk1NDA2NzYgNzA2LjQ2OTA2Miw0Ny40MzkyNTIzIEM3MDYuNDY5MDYyLDQ3LjkyNDQzNzEgNzA2LjgzOTYzNiw0OC4zMTc3NTcgNzA3LjI5Njc2MSw0OC4zMTc3NTcgWiBNNzAxLjM5MTkxOCw1MS44MzE3NzU3IEw3MDguMTI1MDQ4LDUxLjgzMTc3NTcgQzcwOC42Mjc1NjIsNTEuODMxNzc1NyA3MDkuMDM0OTMsNTEuNDM4NDU1OCA3MDkuMDM0OTMsNTAuOTUzMjcxIEM3MDkuMDM0OTMsNTAuNDY4MDg2MyA3MDguNjI3NTYyLDUwLjA3NDc2NjQgNzA4LjEyNTA0OCw1MC4wNzQ3NjY0IEw3MDEuMzkxOTE4LDUwLjA3NDc2NjQgQzcwMC44ODk0MDQsNTAuMDc0NzY2NCA3MDAuNDgyMDM2LDUwLjQ2ODA4NjMgNzAwLjQ4MjAzNiw1MC45NTMyNzEgQzcwMC40ODIwMzYsNTEuNDM4NDU1OCA3MDAuODg5NDA0LDUxLjgzMTc3NTcgNzAxLjM5MTkxOCw1MS44MzE3NzU3IFogTTY5Ni40MTk0MTEsNTEuODMxNzc1NyBMNjk3LjcwMjM0NSw1MS44MzE3NzU3IEM2OTguMjkyNzk5LDUxLjgzMTc3NTcgNjk4Ljc3MTQ1Nyw1MS40Mzg0NTU4IDY5OC43NzE0NTcsNTAuOTUzMjcxIEM2OTguNzcxNDU3LDUwLjQ2ODA4NjMgNjk4LjI5Mjc5OSw1MC4wNzQ3NjY0IDY5Ny43MDIzNDUsNTAuMDc0NzY2NCBMNjk2LjQxOTQxMSw1MC4wNzQ3NjY0IEM2OTUuODI4OTU3LDUwLjA3NDc2NjQgNjk1LjM1MDI5OSw1MC40NjgwODYzIDY5NS4zNTAyOTksNTAuOTUzMjcxIEM2OTUuMzUwMjk5LDUxLjQzODQ1NTggNjk1LjgyODk1Nyw1MS44MzE3NzU3IDY5Ni40MTk0MTEsNTEuODMxNzc1NyBaJyBpZD0nc3VidGl0bGVzLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG59XFxuXFxuLmVycm9ybWVzc2FnZSB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5wbGF5d3JhcHBlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5wbGF5Y2lyY2xlIHtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTAsNTAsNTAsMC43NSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBsYXkgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMDUuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgQzcuMDI1MzY2ODUsMzkuNDQ4NTk4MSA2LjkzMjc3NDAxLDM5LjQyNTQ0OTkgNi44NjMzMjkzOCwzOS4zNzkxNTM1IEM2Ljc0NzU4ODM0LDM5LjMwOTcwODkgNi42NzgxNDM3MSwzOS4xNzA4MTk2IDYuNjc4MTQzNzEsMzkuMDMxOTMwNCBMNi42NzgxNDM3MSwxOS44NjUyMTM0IEM2LjY3ODE0MzcxLDE5LjcyNjMyNDIgNi43NDc1ODgzNCwxOS41ODc0MzQ5IDYuODYzMzI5MzgsMTkuNTE3OTkwMyBDNy4wMDIyMTg2NCwxOS40MjUzOTc1IDcuMTQxMTA3ODksMTkuNDI1Mzk3NSA3LjI3OTk5NzE0LDE5LjQ5NDg0MjEgTDI2LjQ0NjcxNDEsMjkuMDc4MjAwNiBDMjYuNTg1NjAzMywyOS4xNDc2NDUyIDI2LjY3ODE5NjIsMjkuMjg2NTM0NCAyNi42NzgxOTYyLDI5LjQ0ODU3MTkgQzI2LjY3ODE5NjIsMjkuNjEwNjA5NCAyNi41ODU2MDMzLDI5Ljc0OTQ5ODYgMjYuNDQ2NzE0MSwyOS44MTg5NDMyIEw3LjI3OTk5NzE0LDM5LjQwMjMwMTcgQzcuMjEwNTUyNTIsMzkuNDI1NDQ5OSA3LjE2NDI1NjEsMzkuNDQ4NTk4MSA3LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgWicgaWQ9J3BsYXktaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICB3aWR0aDogMTV2aDtcXG4gIGhlaWdodDogMTV2aDtcXG4gIGJhY2tncm91bmQtc2l6ZTogOHZoIDh2aDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDY2JSA1MCU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbn1cXG5cXG4ucGxheWNpcmNsZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBsYXkgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMDUuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgQzcuMDI1MzY2ODUsMzkuNDQ4NTk4MSA2LjkzMjc3NDAxLDM5LjQyNTQ0OTkgNi44NjMzMjkzOCwzOS4zNzkxNTM1IEM2Ljc0NzU4ODM0LDM5LjMwOTcwODkgNi42NzgxNDM3MSwzOS4xNzA4MTk2IDYuNjc4MTQzNzEsMzkuMDMxOTMwNCBMNi42NzgxNDM3MSwxOS44NjUyMTM0IEM2LjY3ODE0MzcxLDE5LjcyNjMyNDIgNi43NDc1ODgzNCwxOS41ODc0MzQ5IDYuODYzMzI5MzgsMTkuNTE3OTkwMyBDNy4wMDIyMTg2NCwxOS40MjUzOTc1IDcuMTQxMTA3ODksMTkuNDI1Mzk3NSA3LjI3OTk5NzE0LDE5LjQ5NDg0MjEgTDI2LjQ0NjcxNDEsMjkuMDc4MjAwNiBDMjYuNTg1NjAzMywyOS4xNDc2NDUyIDI2LjY3ODE5NjIsMjkuMjg2NTM0NCAyNi42NzgxOTYyLDI5LjQ0ODU3MTkgQzI2LjY3ODE5NjIsMjkuNjEwNjA5NCAyNi41ODU2MDMzLDI5Ljc0OTQ5ODYgMjYuNDQ2NzE0MSwyOS44MTg5NDMyIEw3LjI3OTk5NzE0LDM5LjQwMjMwMTcgQzcuMjEwNTUyNTIsMzkuNDI1NDQ5OSA3LjE2NDI1NjEsMzkuNDQ4NTk4MSA3LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgWicgaWQ9J3BsYXktaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAub3B0aW9ucy1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMCAyLjUlIDAgMi41JTtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKDUwLDUwLDUwLDAuNzUpIDAlLCByZ2JhKDI5LDI5LDI5LDApIDEwMCUpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIge1xcbiAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5sb2FkaW5nLXByb2dyZXNzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogNXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0NDQ0NDQztcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgLTFweCAwIDAgcmdiYSgyNTUsMjU1LDI1NSwwLjE1KSwgaW5zZXQgMCAxcHggMCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4xNSk7XFxufVxcblxcbi5idG5bdGl0bGU9UHJldmlvdXNdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5idG5bdGl0bGU9TmV4dF0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJ0bi5idXR0b24tZnVsbHNjcmVlbiB7XFxuICBmbG9hdDogcmlnaHQgIWltcG9ydGFudDtcXG59XFxuXFxuLmJ0bltkYXRhLW5hbWU9TW9yZV0ge1xcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XFxufVxcblxcbi5idG5bZGF0YS1uYW1lPVN1YnRpdGxlc10ge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xcbn1cXG5cXG4ubW9yZW1lbnUge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICNFREVERUQgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC44KSAhaW1wb3J0YW50O1xcbiAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xcbiAgei1pbmRleDogMTAwO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuLm1vcmVtZW51LW9wdGlvbiB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5zdWJ0aXRsZW1lbnUge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICNFREVERUQgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC44KSAhaW1wb3J0YW50O1xcbiAgZm9udC13ZWlnaHQ6IDYwMCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xcbiAgei1pbmRleDogMTAwO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuLnN1YnRpdGxlbWVudS1vcHRpb24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF1ZGlvLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcXG59XCIsIFwiXCJdKTtcblxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjZXVwcy1jb250ZW50LXdyYXBwZXIge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgbWF4LWhlaWdodDogaW5oZXJpdDtcXG4gICAgbWF4LXdpZHRoOiBpbmhlcml0O1xcbn1cXG5cXG4uZXVwcy1wbGF5ZXIge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgbWF4LWhlaWdodDogMTAwJTtcXG59XFxuXFxuLmVkaXRvciB7XFxuICAgIHdpZHRoOiA2MCU7XFxufVxcblxcbi5uby1lZGl0b3Ige1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxufVxcblxcbiNldXBzLWVkaXRvci13cmFwcGVyIHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxufVxcblxcbiNldXBzLWFubm90YXRpb25lZGl0b3Ige1xcbiAgICBwYWRkaW5nLWxlZnQ6IDUlO1xcbn1cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jb3JlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29yZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29yZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2xpZGVyLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEVmZmVjdHMgQ29yZVxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLyBqc2NzOmRpc2FibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kZXNjcmlwdGlvbjogRXh0ZW5kcyB0aGUgaW50ZXJuYWwgalF1ZXJ5IGVmZmVjdHMuIEluY2x1ZGVzIG1vcnBoaW5nIGFuZCBlYXNpbmcuIFJlcXVpcmVkIGJ5IGFsbCBvdGhlciBlZmZlY3RzLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS9lZmZlY3RzLWNvcmUvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxudmFyIGRhdGFTcGFjZSA9IFwidWktZWZmZWN0cy1cIixcblx0ZGF0YVNwYWNlU3R5bGUgPSBcInVpLWVmZmVjdHMtc3R5bGVcIixcblx0ZGF0YVNwYWNlQW5pbWF0ZWQgPSBcInVpLWVmZmVjdHMtYW5pbWF0ZWRcIixcblxuXHQvLyBDcmVhdGUgYSBsb2NhbCBqUXVlcnkgYmVjYXVzZSBqUXVlcnkgQ29sb3IgcmVsaWVzIG9uIGl0IGFuZCB0aGVcblx0Ly8gZ2xvYmFsIG1heSBub3QgZXhpc3Qgd2l0aCBBTUQgYW5kIGEgY3VzdG9tIGJ1aWxkICgjMTAxOTkpXG5cdGpRdWVyeSA9ICQ7XG5cbiQuZWZmZWN0cyA9IHtcblx0ZWZmZWN0OiB7fVxufTtcblxuLyohXG4gKiBqUXVlcnkgQ29sb3IgQW5pbWF0aW9ucyB2Mi4xLjJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LWNvbG9yXG4gKlxuICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IFdlZCBKYW4gMTYgMDg6NDc6MDkgMjAxMyAtMDYwMFxuICovXG4oIGZ1bmN0aW9uKCBqUXVlcnksIHVuZGVmaW5lZCApIHtcblxuXHR2YXIgc3RlcEhvb2tzID0gXCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgXCIgK1xuXHRcdFwiYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yXCIsXG5cblx0Ly8gUGx1c2VxdWFscyB0ZXN0IGZvciArPSAxMDAgLT0gMTAwXG5cdHJwbHVzZXF1YWxzID0gL14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLFxuXG5cdC8vIEEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLlxuXHRzdHJpbmdQYXJzZXJzID0gWyB7XG5cdFx0XHRyZTogL3JnYmE/XFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0cmU6IC9yZ2JhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMiBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblxuXHRcdFx0Ly8gVGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXG5cdFx0XHQvLyBUaGlzIHJlZ2V4IGlnbm9yZXMgQS1GIGJlY2F1c2UgaXQncyBjb21wYXJlZCBhZ2FpbnN0IGFuIGFscmVhZHkgbG93ZXJjYXNlZCBzdHJpbmdcblx0XHRcdHJlOiAvIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDEgXSArIGV4ZWNSZXN1bHRbIDEgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMiBdICsgZXhlY1Jlc3VsdFsgMiBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAzIF0gKyBleGVjUmVzdWx0WyAzIF0sIDE2IClcblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRyZTogL2hzbGE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRzcGFjZTogXCJoc2xhXCIsXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAvIDEwMCxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSBdLFxuXG5cdC8vIEpRdWVyeS5Db2xvciggKVxuXHRjb2xvciA9IGpRdWVyeS5Db2xvciA9IGZ1bmN0aW9uKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkNvbG9yLmZuLnBhcnNlKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICk7XG5cdH0sXG5cdHNwYWNlcyA9IHtcblx0XHRyZ2JhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRyZWQ6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Z3JlZW46IHtcblx0XHRcdFx0XHRpZHg6IDEsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Ymx1ZToge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcImJ5dGVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGhzbGE6IHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGh1ZToge1xuXHRcdFx0XHRcdGlkeDogMCxcblx0XHRcdFx0XHR0eXBlOiBcImRlZ3JlZXNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzYXR1cmF0aW9uOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwicGVyY2VudFwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxpZ2h0bmVzczoge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwcm9wVHlwZXMgPSB7XG5cdFx0XCJieXRlXCI6IHtcblx0XHRcdGZsb29yOiB0cnVlLFxuXHRcdFx0bWF4OiAyNTVcblx0XHR9LFxuXHRcdFwicGVyY2VudFwiOiB7XG5cdFx0XHRtYXg6IDFcblx0XHR9LFxuXHRcdFwiZGVncmVlc1wiOiB7XG5cdFx0XHRtb2Q6IDM2MCxcblx0XHRcdGZsb29yOiB0cnVlXG5cdFx0fVxuXHR9LFxuXHRzdXBwb3J0ID0gY29sb3Iuc3VwcG9ydCA9IHt9LFxuXG5cdC8vIEVsZW1lbnQgZm9yIHN1cHBvcnQgdGVzdHNcblx0c3VwcG9ydEVsZW0gPSBqUXVlcnkoIFwiPHA+XCIgKVsgMCBdLFxuXG5cdC8vIENvbG9ycyA9IGpRdWVyeS5Db2xvci5uYW1lc1xuXHRjb2xvcnMsXG5cblx0Ly8gTG9jYWwgYWxpYXNlcyBvZiBmdW5jdGlvbnMgY2FsbGVkIG9mdGVuXG5cdGVhY2ggPSBqUXVlcnkuZWFjaDtcblxuLy8gRGV0ZXJtaW5lIHJnYmEgc3VwcG9ydCBpbW1lZGlhdGVseVxuc3VwcG9ydEVsZW0uc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KVwiO1xuc3VwcG9ydC5yZ2JhID0gc3VwcG9ydEVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoIFwicmdiYVwiICkgPiAtMTtcblxuLy8gRGVmaW5lIGNhY2hlIG5hbWUgYW5kIGFscGhhIHByb3BlcnRpZXNcbi8vIGZvciByZ2JhIGFuZCBoc2xhIHNwYWNlc1xuZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0c3BhY2UuY2FjaGUgPSBcIl9cIiArIHNwYWNlTmFtZTtcblx0c3BhY2UucHJvcHMuYWxwaGEgPSB7XG5cdFx0aWR4OiAzLFxuXHRcdHR5cGU6IFwicGVyY2VudFwiLFxuXHRcdGRlZjogMVxuXHR9O1xufSApO1xuXG5mdW5jdGlvbiBjbGFtcCggdmFsdWUsIHByb3AsIGFsbG93RW1wdHkgKSB7XG5cdHZhciB0eXBlID0gcHJvcFR5cGVzWyBwcm9wLnR5cGUgXSB8fCB7fTtcblxuXHRpZiAoIHZhbHVlID09IG51bGwgKSB7XG5cdFx0cmV0dXJuICggYWxsb3dFbXB0eSB8fCAhcHJvcC5kZWYgKSA/IG51bGwgOiBwcm9wLmRlZjtcblx0fVxuXG5cdC8vIH5+IGlzIGFuIHNob3J0IHdheSBvZiBkb2luZyBmbG9vciBmb3IgcG9zaXRpdmUgbnVtYmVyc1xuXHR2YWx1ZSA9IHR5cGUuZmxvb3IgPyB+fnZhbHVlIDogcGFyc2VGbG9hdCggdmFsdWUgKTtcblxuXHQvLyBJRSB3aWxsIHBhc3MgaW4gZW1wdHkgc3RyaW5ncyBhcyB2YWx1ZSBmb3IgYWxwaGEsXG5cdC8vIHdoaWNoIHdpbGwgaGl0IHRoaXMgY2FzZVxuXHRpZiAoIGlzTmFOKCB2YWx1ZSApICkge1xuXHRcdHJldHVybiBwcm9wLmRlZjtcblx0fVxuXG5cdGlmICggdHlwZS5tb2QgKSB7XG5cblx0XHQvLyBXZSBhZGQgbW9kIGJlZm9yZSBtb2RkaW5nIHRvIG1ha2Ugc3VyZSB0aGF0IG5lZ2F0aXZlcyB2YWx1ZXNcblx0XHQvLyBnZXQgY29udmVydGVkIHByb3Blcmx5OiAtMTAgLT4gMzUwXG5cdFx0cmV0dXJuICggdmFsdWUgKyB0eXBlLm1vZCApICUgdHlwZS5tb2Q7XG5cdH1cblxuXHQvLyBGb3Igbm93IGFsbCBwcm9wZXJ0eSB0eXBlcyB3aXRob3V0IG1vZCBoYXZlIG1pbiBhbmQgbWF4XG5cdHJldHVybiAwID4gdmFsdWUgPyAwIDogdHlwZS5tYXggPCB2YWx1ZSA/IHR5cGUubWF4IDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1BhcnNlKCBzdHJpbmcgKSB7XG5cdHZhciBpbnN0ID0gY29sb3IoKSxcblx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IFtdO1xuXG5cdHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuXG5cdGVhY2goIHN0cmluZ1BhcnNlcnMsIGZ1bmN0aW9uKCBpLCBwYXJzZXIgKSB7XG5cdFx0dmFyIHBhcnNlZCxcblx0XHRcdG1hdGNoID0gcGFyc2VyLnJlLmV4ZWMoIHN0cmluZyApLFxuXHRcdFx0dmFsdWVzID0gbWF0Y2ggJiYgcGFyc2VyLnBhcnNlKCBtYXRjaCApLFxuXHRcdFx0c3BhY2VOYW1lID0gcGFyc2VyLnNwYWNlIHx8IFwicmdiYVwiO1xuXG5cdFx0aWYgKCB2YWx1ZXMgKSB7XG5cdFx0XHRwYXJzZWQgPSBpbnN0WyBzcGFjZU5hbWUgXSggdmFsdWVzICk7XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIHJnYmEgcGFyc2UgdGhlIGFzc2lnbm1lbnQgbWlnaHQgaGFwcGVuIHR3aWNlXG5cdFx0XHQvLyBvaCB3ZWxsLi4uLlxuXHRcdFx0aW5zdFsgc3BhY2VzWyBzcGFjZU5hbWUgXS5jYWNoZSBdID0gcGFyc2VkWyBzcGFjZXNbIHNwYWNlTmFtZSBdLmNhY2hlIF07XG5cdFx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IHBhcnNlZC5fcmdiYTtcblxuXHRcdFx0Ly8gRXhpdCBlYWNoKCBzdHJpbmdQYXJzZXJzICkgaGVyZSBiZWNhdXNlIHdlIG1hdGNoZWRcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0gKTtcblxuXHQvLyBGb3VuZCBhIHN0cmluZ1BhcnNlciB0aGF0IGhhbmRsZWQgaXRcblx0aWYgKCByZ2JhLmxlbmd0aCApIHtcblxuXHRcdC8vIElmIHRoaXMgY2FtZSBmcm9tIGEgcGFyc2VkIHN0cmluZywgZm9yY2UgXCJ0cmFuc3BhcmVudFwiIHdoZW4gYWxwaGEgaXMgMFxuXHRcdC8vIGNocm9tZSwgKGFuZCBtYXliZSBvdGhlcnMpIHJldHVybiBcInRyYW5zcGFyZW50XCIgYXMgcmdiYSgwLDAsMCwwKVxuXHRcdGlmICggcmdiYS5qb2luKCkgPT09IFwiMCwwLDAsMFwiICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggcmdiYSwgY29sb3JzLnRyYW5zcGFyZW50ICk7XG5cdFx0fVxuXHRcdHJldHVybiBpbnN0O1xuXHR9XG5cblx0Ly8gTmFtZWQgY29sb3JzXG5cdHJldHVybiBjb2xvcnNbIHN0cmluZyBdO1xufVxuXG5jb2xvci5mbiA9IGpRdWVyeS5leHRlbmQoIGNvbG9yLnByb3RvdHlwZSwge1xuXHRwYXJzZTogZnVuY3Rpb24oIHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhICkge1xuXHRcdGlmICggcmVkID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLl9yZ2JhID0gWyBudWxsLCBudWxsLCBudWxsLCBudWxsIF07XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCByZWQuanF1ZXJ5IHx8IHJlZC5ub2RlVHlwZSApIHtcblx0XHRcdHJlZCA9IGpRdWVyeSggcmVkICkuY3NzKCBncmVlbiApO1xuXHRcdFx0Z3JlZW4gPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0dmFyIGluc3QgPSB0aGlzLFxuXHRcdFx0dHlwZSA9IGpRdWVyeS50eXBlKCByZWQgKSxcblx0XHRcdHJnYmEgPSB0aGlzLl9yZ2JhID0gW107XG5cblx0XHQvLyBNb3JlIHRoYW4gMSBhcmd1bWVudCBzcGVjaWZpZWQgLSBhc3N1bWUgKCByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSApXG5cdFx0aWYgKCBncmVlbiAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmVkID0gWyByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSBdO1xuXHRcdFx0dHlwZSA9IFwiYXJyYXlcIjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wYXJzZSggc3RyaW5nUGFyc2UoIHJlZCApIHx8IGNvbG9ycy5fZGVmYXVsdCApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZSA9PT0gXCJhcnJheVwiICkge1xuXHRcdFx0ZWFjaCggc3BhY2VzLnJnYmEucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHRcdHJnYmFbIHByb3AuaWR4IF0gPSBjbGFtcCggcmVkWyBwcm9wLmlkeCBdLCBwcm9wICk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRpZiAoIHJlZCBpbnN0YW5jZW9mIGNvbG9yICkge1xuXHRcdFx0XHRlYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBzcGFjZU5hbWUsIHNwYWNlICkge1xuXHRcdFx0XHRcdGlmICggcmVkWyBzcGFjZS5jYWNoZSBdICkge1xuXHRcdFx0XHRcdFx0aW5zdFsgc3BhY2UuY2FjaGUgXSA9IHJlZFsgc3BhY2UuY2FjaGUgXS5zbGljZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHR2YXIgY2FjaGUgPSBzcGFjZS5jYWNoZTtcblx0XHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIGNhY2hlIGRvZXNuJ3QgZXhpc3QsIGFuZCB3ZSBrbm93IGhvdyB0byBjb252ZXJ0XG5cdFx0XHRcdFx0XHRpZiAoICFpbnN0WyBjYWNoZSBdICYmIHNwYWNlLnRvICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZSB2YWx1ZSB3YXMgbnVsbCwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0XG5cdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSBrZXkgd2FzIGFscGhhLCB3ZSBkb24ndCBuZWVkIHRvIGNvcHkgaXQgZWl0aGVyXG5cdFx0XHRcdFx0XHRcdGlmICgga2V5ID09PSBcImFscGhhXCIgfHwgcmVkWyBrZXkgXSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdID0gc3BhY2UudG8oIGluc3QuX3JnYmEgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyB0aGUgb25seSBjYXNlIHdoZXJlIHdlIGFsbG93IG51bGxzIGZvciBBTEwgcHJvcGVydGllcy5cblx0XHRcdFx0XHRcdC8vIGNhbGwgY2xhbXAgd2l0aCBhbHdheXNBbGxvd0VtcHR5XG5cdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsga2V5IF0sIHByb3AsIHRydWUgKTtcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHQvLyBFdmVyeXRoaW5nIGRlZmluZWQgYnV0IGFscGhhP1xuXHRcdFx0XHRcdGlmICggaW5zdFsgY2FjaGUgXSAmJlxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggbnVsbCwgaW5zdFsgY2FjaGUgXS5zbGljZSggMCwgMyApICkgPCAwICkge1xuXG5cdFx0XHRcdFx0XHQvLyBVc2UgdGhlIGRlZmF1bHQgb2YgMVxuXHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXVsgMyBdID0gMTtcblx0XHRcdFx0XHRcdGlmICggc3BhY2UuZnJvbSApIHtcblx0XHRcdFx0XHRcdFx0aW5zdC5fcmdiYSA9IHNwYWNlLmZyb20oIGluc3RbIGNhY2hlIF0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBjb21wYXJlICkge1xuXHRcdHZhciBpcyA9IGNvbG9yKCBjb21wYXJlICksXG5cdFx0XHRzYW1lID0gdHJ1ZSxcblx0XHRcdGluc3QgPSB0aGlzO1xuXG5cdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggXywgc3BhY2UgKSB7XG5cdFx0XHR2YXIgbG9jYWxDYWNoZSxcblx0XHRcdFx0aXNDYWNoZSA9IGlzWyBzcGFjZS5jYWNoZSBdO1xuXHRcdFx0aWYgKCBpc0NhY2hlICkge1xuXHRcdFx0XHRsb2NhbENhY2hlID0gaW5zdFsgc3BhY2UuY2FjaGUgXSB8fCBzcGFjZS50byAmJiBzcGFjZS50byggaW5zdC5fcmdiYSApIHx8IFtdO1xuXHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdFx0XHRcdFx0aWYgKCBpc0NhY2hlWyBwcm9wLmlkeCBdICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzYW1lID0gKCBpc0NhY2hlWyBwcm9wLmlkeCBdID09PSBsb2NhbENhY2hlWyBwcm9wLmlkeCBdICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2FtZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBzYW1lO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2FtZTtcblx0fSxcblx0X3NwYWNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdXNlZCA9IFtdLFxuXHRcdFx0aW5zdCA9IHRoaXM7XG5cdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdGlmICggaW5zdFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0dXNlZC5wdXNoKCBzcGFjZU5hbWUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHVzZWQucG9wKCk7XG5cdH0sXG5cdHRyYW5zaXRpb246IGZ1bmN0aW9uKCBvdGhlciwgZGlzdGFuY2UgKSB7XG5cdFx0dmFyIGVuZCA9IGNvbG9yKCBvdGhlciApLFxuXHRcdFx0c3BhY2VOYW1lID0gZW5kLl9zcGFjZSgpLFxuXHRcdFx0c3BhY2UgPSBzcGFjZXNbIHNwYWNlTmFtZSBdLFxuXHRcdFx0c3RhcnRDb2xvciA9IHRoaXMuYWxwaGEoKSA9PT0gMCA/IGNvbG9yKCBcInRyYW5zcGFyZW50XCIgKSA6IHRoaXMsXG5cdFx0XHRzdGFydCA9IHN0YXJ0Q29sb3JbIHNwYWNlLmNhY2hlIF0gfHwgc3BhY2UudG8oIHN0YXJ0Q29sb3IuX3JnYmEgKSxcblx0XHRcdHJlc3VsdCA9IHN0YXJ0LnNsaWNlKCk7XG5cblx0XHRlbmQgPSBlbmRbIHNwYWNlLmNhY2hlIF07XG5cdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSBwcm9wLmlkeCxcblx0XHRcdFx0c3RhcnRWYWx1ZSA9IHN0YXJ0WyBpbmRleCBdLFxuXHRcdFx0XHRlbmRWYWx1ZSA9IGVuZFsgaW5kZXggXSxcblx0XHRcdFx0dHlwZSA9IHByb3BUeXBlc1sgcHJvcC50eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIG51bGwsIGRvbid0IG92ZXJyaWRlIHN0YXJ0IHZhbHVlXG5cdFx0XHRpZiAoIGVuZFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIG51bGwgLSB1c2UgZW5kXG5cdFx0XHRpZiAoIHN0YXJ0VmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGVuZFZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0eXBlLm1vZCApIHtcblx0XHRcdFx0XHRpZiAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgKz0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggc3RhcnRWYWx1ZSAtIGVuZFZhbHVlID4gdHlwZS5tb2QgLyAyICkge1xuXHRcdFx0XHRcdFx0c3RhcnRWYWx1ZSAtPSB0eXBlLm1vZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0WyBpbmRleCBdID0gY2xhbXAoICggZW5kVmFsdWUgLSBzdGFydFZhbHVlICkgKiBkaXN0YW5jZSArIHN0YXJ0VmFsdWUsIHByb3AgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXNbIHNwYWNlTmFtZSBdKCByZXN1bHQgKTtcblx0fSxcblx0YmxlbmQ6IGZ1bmN0aW9uKCBvcGFxdWUgKSB7XG5cblx0XHQvLyBJZiB3ZSBhcmUgYWxyZWFkeSBvcGFxdWUgLSByZXR1cm4gb3Vyc2VsZlxuXHRcdGlmICggdGhpcy5fcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0dmFyIHJnYiA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcblx0XHRcdGEgPSByZ2IucG9wKCksXG5cdFx0XHRibGVuZCA9IGNvbG9yKCBvcGFxdWUgKS5fcmdiYTtcblxuXHRcdHJldHVybiBjb2xvciggalF1ZXJ5Lm1hcCggcmdiLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdHJldHVybiAoIDEgLSBhICkgKiBibGVuZFsgaSBdICsgYSAqIHY7XG5cdFx0fSApICk7XG5cdH0sXG5cdHRvUmdiYVN0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZWZpeCA9IFwicmdiYShcIixcblx0XHRcdHJnYmEgPSBqUXVlcnkubWFwKCB0aGlzLl9yZ2JhLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdFx0cmV0dXJuIHYgPT0gbnVsbCA/ICggaSA+IDIgPyAxIDogMCApIDogdjtcblx0XHRcdH0gKTtcblxuXHRcdGlmICggcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmdiYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwicmdiKFwiO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcmVmaXggKyByZ2JhLmpvaW4oKSArIFwiKVwiO1xuXHR9LFxuXHR0b0hzbGFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcImhzbGEoXCIsXG5cdFx0XHRoc2xhID0galF1ZXJ5Lm1hcCggdGhpcy5oc2xhKCksIGZ1bmN0aW9uKCB2LCBpICkge1xuXHRcdFx0XHRpZiAoIHYgPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2ID0gaSA+IDIgPyAxIDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhdGNoIDEgYW5kIDJcblx0XHRcdFx0aWYgKCBpICYmIGkgPCAzICkge1xuXHRcdFx0XHRcdHYgPSBNYXRoLnJvdW5kKCB2ICogMTAwICkgKyBcIiVcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdjtcblx0XHRcdH0gKTtcblxuXHRcdGlmICggaHNsYVsgMyBdID09PSAxICkge1xuXHRcdFx0aHNsYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwiaHNsKFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJlZml4ICsgaHNsYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9IZXhTdHJpbmc6IGZ1bmN0aW9uKCBpbmNsdWRlQWxwaGEgKSB7XG5cdFx0dmFyIHJnYmEgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhbHBoYSA9IHJnYmEucG9wKCk7XG5cblx0XHRpZiAoIGluY2x1ZGVBbHBoYSApIHtcblx0XHRcdHJnYmEucHVzaCggfn4oIGFscGhhICogMjU1ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gXCIjXCIgKyBqUXVlcnkubWFwKCByZ2JhLCBmdW5jdGlvbiggdiApIHtcblxuXHRcdFx0Ly8gRGVmYXVsdCB0byAwIHdoZW4gbnVsbHMgZXhpc3Rcblx0XHRcdHYgPSAoIHYgfHwgMCApLnRvU3RyaW5nKCAxNiApO1xuXHRcdFx0cmV0dXJuIHYubGVuZ3RoID09PSAxID8gXCIwXCIgKyB2IDogdjtcblx0XHR9ICkuam9pbiggXCJcIiApO1xuXHR9LFxuXHR0b1N0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JnYmFbIDMgXSA9PT0gMCA/IFwidHJhbnNwYXJlbnRcIiA6IHRoaXMudG9SZ2JhU3RyaW5nKCk7XG5cdH1cbn0gKTtcbmNvbG9yLmZuLnBhcnNlLnByb3RvdHlwZSA9IGNvbG9yLmZuO1xuXG4vLyBIc2xhIGNvbnZlcnNpb25zIGFkYXB0ZWQgZnJvbTpcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvbWFhc2hhYWNrL3NvdXJjZS9icm93c2UvcGFja2FnZXMvZ3JhcGhpY3MvdHJ1bmsvc3JjL2dyYXBoaWNzL2NvbG9ycy9IVUUyUkdCLmFzP3I9NTAyMVxuXG5mdW5jdGlvbiBodWUycmdiKCBwLCBxLCBoICkge1xuXHRoID0gKCBoICsgMSApICUgMTtcblx0aWYgKCBoICogNiA8IDEgKSB7XG5cdFx0cmV0dXJuIHAgKyAoIHEgLSBwICkgKiBoICogNjtcblx0fVxuXHRpZiAoIGggKiAyIDwgMSApIHtcblx0XHRyZXR1cm4gcTtcblx0fVxuXHRpZiAoIGggKiAzIDwgMiApIHtcblx0XHRyZXR1cm4gcCArICggcSAtIHAgKSAqICggKCAyIC8gMyApIC0gaCApICogNjtcblx0fVxuXHRyZXR1cm4gcDtcbn1cblxuc3BhY2VzLmhzbGEudG8gPSBmdW5jdGlvbiggcmdiYSApIHtcblx0aWYgKCByZ2JhWyAwIF0gPT0gbnVsbCB8fCByZ2JhWyAxIF0gPT0gbnVsbCB8fCByZ2JhWyAyIF0gPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gWyBudWxsLCBudWxsLCBudWxsLCByZ2JhWyAzIF0gXTtcblx0fVxuXHR2YXIgciA9IHJnYmFbIDAgXSAvIDI1NSxcblx0XHRnID0gcmdiYVsgMSBdIC8gMjU1LFxuXHRcdGIgPSByZ2JhWyAyIF0gLyAyNTUsXG5cdFx0YSA9IHJnYmFbIDMgXSxcblx0XHRtYXggPSBNYXRoLm1heCggciwgZywgYiApLFxuXHRcdG1pbiA9IE1hdGgubWluKCByLCBnLCBiICksXG5cdFx0ZGlmZiA9IG1heCAtIG1pbixcblx0XHRhZGQgPSBtYXggKyBtaW4sXG5cdFx0bCA9IGFkZCAqIDAuNSxcblx0XHRoLCBzO1xuXG5cdGlmICggbWluID09PSBtYXggKSB7XG5cdFx0aCA9IDA7XG5cdH0gZWxzZSBpZiAoIHIgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggZyAtIGIgKSAvIGRpZmYgKSArIDM2MDtcblx0fSBlbHNlIGlmICggZyA9PT0gbWF4ICkge1xuXHRcdGggPSAoIDYwICogKCBiIC0gciApIC8gZGlmZiApICsgMTIwO1xuXHR9IGVsc2Uge1xuXHRcdGggPSAoIDYwICogKCByIC0gZyApIC8gZGlmZiApICsgMjQwO1xuXHR9XG5cblx0Ly8gQ2hyb21hIChkaWZmKSA9PSAwIG1lYW5zIGdyZXlzY2FsZSB3aGljaCwgYnkgZGVmaW5pdGlvbiwgc2F0dXJhdGlvbiA9IDAlXG5cdC8vIG90aGVyd2lzZSwgc2F0dXJhdGlvbiBpcyBiYXNlZCBvbiB0aGUgcmF0aW8gb2YgY2hyb21hIChkaWZmKSB0byBsaWdodG5lc3MgKGFkZClcblx0aWYgKCBkaWZmID09PSAwICkge1xuXHRcdHMgPSAwO1xuXHR9IGVsc2UgaWYgKCBsIDw9IDAuNSApIHtcblx0XHRzID0gZGlmZiAvIGFkZDtcblx0fSBlbHNlIHtcblx0XHRzID0gZGlmZiAvICggMiAtIGFkZCApO1xuXHR9XG5cdHJldHVybiBbIE1hdGgucm91bmQoIGggKSAlIDM2MCwgcywgbCwgYSA9PSBudWxsID8gMSA6IGEgXTtcbn07XG5cbnNwYWNlcy5oc2xhLmZyb20gPSBmdW5jdGlvbiggaHNsYSApIHtcblx0aWYgKCBoc2xhWyAwIF0gPT0gbnVsbCB8fCBoc2xhWyAxIF0gPT0gbnVsbCB8fCBoc2xhWyAyIF0gPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gWyBudWxsLCBudWxsLCBudWxsLCBoc2xhWyAzIF0gXTtcblx0fVxuXHR2YXIgaCA9IGhzbGFbIDAgXSAvIDM2MCxcblx0XHRzID0gaHNsYVsgMSBdLFxuXHRcdGwgPSBoc2xhWyAyIF0sXG5cdFx0YSA9IGhzbGFbIDMgXSxcblx0XHRxID0gbCA8PSAwLjUgPyBsICogKCAxICsgcyApIDogbCArIHMgLSBsICogcyxcblx0XHRwID0gMiAqIGwgLSBxO1xuXG5cdHJldHVybiBbXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCArICggMSAvIDMgKSApICogMjU1ICksXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCApICogMjU1ICksXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCAtICggMSAvIDMgKSApICogMjU1ICksXG5cdFx0YVxuXHRdO1xufTtcblxuZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0dmFyIHByb3BzID0gc3BhY2UucHJvcHMsXG5cdFx0Y2FjaGUgPSBzcGFjZS5jYWNoZSxcblx0XHR0byA9IHNwYWNlLnRvLFxuXHRcdGZyb20gPSBzcGFjZS5mcm9tO1xuXG5cdC8vIE1ha2VzIHJnYmEoKSBhbmQgaHNsYSgpXG5cdGNvbG9yLmZuWyBzcGFjZU5hbWUgXSA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblxuXHRcdC8vIEdlbmVyYXRlIGEgY2FjaGUgZm9yIHRoaXMgc3BhY2UgaWYgaXQgZG9lc24ndCBleGlzdFxuXHRcdGlmICggdG8gJiYgIXRoaXNbIGNhY2hlIF0gKSB7XG5cdFx0XHR0aGlzWyBjYWNoZSBdID0gdG8oIHRoaXMuX3JnYmEgKTtcblx0XHR9XG5cdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXNbIGNhY2hlIF0uc2xpY2UoKTtcblx0XHR9XG5cblx0XHR2YXIgcmV0LFxuXHRcdFx0dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApLFxuXHRcdFx0YXJyID0gKCB0eXBlID09PSBcImFycmF5XCIgfHwgdHlwZSA9PT0gXCJvYmplY3RcIiApID8gdmFsdWUgOiBhcmd1bWVudHMsXG5cdFx0XHRsb2NhbCA9IHRoaXNbIGNhY2hlIF0uc2xpY2UoKTtcblxuXHRcdGVhY2goIHByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0dmFyIHZhbCA9IGFyclsgdHlwZSA9PT0gXCJvYmplY3RcIiA/IGtleSA6IHByb3AuaWR4IF07XG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBsb2NhbFsgcHJvcC5pZHggXTtcblx0XHRcdH1cblx0XHRcdGxvY2FsWyBwcm9wLmlkeCBdID0gY2xhbXAoIHZhbCwgcHJvcCApO1xuXHRcdH0gKTtcblxuXHRcdGlmICggZnJvbSApIHtcblx0XHRcdHJldCA9IGNvbG9yKCBmcm9tKCBsb2NhbCApICk7XG5cdFx0XHRyZXRbIGNhY2hlIF0gPSBsb2NhbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjb2xvciggbG9jYWwgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gTWFrZXMgcmVkKCkgZ3JlZW4oKSBibHVlKCkgYWxwaGEoKSBodWUoKSBzYXR1cmF0aW9uKCkgbGlnaHRuZXNzKClcblx0ZWFjaCggcHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cblx0XHQvLyBBbHBoYSBpcyBpbmNsdWRlZCBpbiBtb3JlIHRoYW4gb25lIHNwYWNlXG5cdFx0aWYgKCBjb2xvci5mblsga2V5IF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbG9yLmZuWyBrZXkgXSA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciB2dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApLFxuXHRcdFx0XHRmbiA9ICgga2V5ID09PSBcImFscGhhXCIgPyAoIHRoaXMuX2hzbGEgPyBcImhzbGFcIiA6IFwicmdiYVwiICkgOiBzcGFjZU5hbWUgKSxcblx0XHRcdFx0bG9jYWwgPSB0aGlzWyBmbiBdKCksXG5cdFx0XHRcdGN1ciA9IGxvY2FsWyBwcm9wLmlkeCBdLFxuXHRcdFx0XHRtYXRjaDtcblxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGN1cjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlLmNhbGwoIHRoaXMsIGN1ciApO1xuXHRcdFx0XHR2dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsICYmIHByb3AuZW1wdHkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0bWF0Y2ggPSBycGx1c2VxdWFscy5leGVjKCB2YWx1ZSApO1xuXHRcdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY3VyICsgcGFyc2VGbG9hdCggbWF0Y2hbIDIgXSApICogKCBtYXRjaFsgMSBdID09PSBcIitcIiA/IDEgOiAtMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFsgcHJvcC5pZHggXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIHRoaXNbIGZuIF0oIGxvY2FsICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG4vLyBBZGQgY3NzSG9vayBhbmQgLmZ4LnN0ZXAgZnVuY3Rpb24gZm9yIGVhY2ggbmFtZWQgaG9vay5cbi8vIGFjY2VwdCBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2YgcHJvcGVydGllc1xuY29sb3IuaG9vayA9IGZ1bmN0aW9uKCBob29rICkge1xuXHR2YXIgaG9va3MgPSBob29rLnNwbGl0KCBcIiBcIiApO1xuXHRlYWNoKCBob29rcywgZnVuY3Rpb24oIGksIGhvb2sgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBob29rIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIHBhcnNlZCwgY3VyRWxlbSxcblx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgPSBcIlwiO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT09IFwidHJhbnNwYXJlbnRcIiAmJiAoIGpRdWVyeS50eXBlKCB2YWx1ZSApICE9PSBcInN0cmluZ1wiIHx8XG5cdFx0XHRcdFx0XHQoIHBhcnNlZCA9IHN0cmluZ1BhcnNlKCB2YWx1ZSApICkgKSApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbG9yKCBwYXJzZWQgfHwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoICFzdXBwb3J0LnJnYmEgJiYgdmFsdWUuX3JnYmFbIDMgXSAhPT0gMSApIHtcblx0XHRcdFx0XHRcdGN1ckVsZW0gPSBob29rID09PSBcImJhY2tncm91bmRDb2xvclwiID8gZWxlbS5wYXJlbnROb2RlIDogZWxlbTtcblx0XHRcdFx0XHRcdHdoaWxlIChcblx0XHRcdFx0XHRcdFx0KCBiYWNrZ3JvdW5kQ29sb3IgPT09IFwiXCIgfHwgYmFja2dyb3VuZENvbG9yID09PSBcInRyYW5zcGFyZW50XCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRjdXJFbGVtICYmIGN1ckVsZW0uc3R5bGVcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvciA9IGpRdWVyeS5jc3MoIGN1ckVsZW0sIFwiYmFja2dyb3VuZENvbG9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRjdXJFbGVtID0gY3VyRWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLmJsZW5kKCBiYWNrZ3JvdW5kQ29sb3IgJiYgYmFja2dyb3VuZENvbG9yICE9PSBcInRyYW5zcGFyZW50XCIgP1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgOlxuXHRcdFx0XHRcdFx0XHRcIl9kZWZhdWx0XCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvUmdiYVN0cmluZygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZVsgaG9vayBdID0gdmFsdWU7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gV3JhcHBlZCB0byBwcmV2ZW50IElFIGZyb20gdGhyb3dpbmcgZXJyb3JzIG9uIFwiaW52YWxpZFwiIHZhbHVlcyBsaWtlXG5cdFx0XHRcdFx0Ly8gJ2F1dG8nIG9yICdpbmhlcml0J1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRqUXVlcnkuZnguc3RlcFsgaG9vayBdID0gZnVuY3Rpb24oIGZ4ICkge1xuXHRcdFx0aWYgKCAhZnguY29sb3JJbml0ICkge1xuXHRcdFx0XHRmeC5zdGFydCA9IGNvbG9yKCBmeC5lbGVtLCBob29rICk7XG5cdFx0XHRcdGZ4LmVuZCA9IGNvbG9yKCBmeC5lbmQgKTtcblx0XHRcdFx0ZnguY29sb3JJbml0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGpRdWVyeS5jc3NIb29rc1sgaG9vayBdLnNldCggZnguZWxlbSwgZnguc3RhcnQudHJhbnNpdGlvbiggZnguZW5kLCBmeC5wb3MgKSApO1xuXHRcdH07XG5cdH0gKTtcblxufTtcblxuY29sb3IuaG9vayggc3RlcEhvb2tzICk7XG5cbmpRdWVyeS5jc3NIb29rcy5ib3JkZXJDb2xvciA9IHtcblx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGV4cGFuZGVkID0ge307XG5cblx0XHRlYWNoKCBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHBhcnQgKSB7XG5cdFx0XHRleHBhbmRlZFsgXCJib3JkZXJcIiArIHBhcnQgKyBcIkNvbG9yXCIgXSA9IHZhbHVlO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdH1cbn07XG5cbi8vIEJhc2ljIGNvbG9yIG5hbWVzIG9ubHkuXG4vLyBVc2FnZSBvZiBhbnkgb2YgdGhlIG90aGVyIGNvbG9yIG5hbWVzIHJlcXVpcmVzIGFkZGluZyB5b3Vyc2VsZiBvciBpbmNsdWRpbmdcbi8vIGpxdWVyeS5jb2xvci5zdmctbmFtZXMuanMuXG5jb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXMgPSB7XG5cblx0Ly8gNC4xLiBCYXNpYyBjb2xvciBrZXl3b3Jkc1xuXHRhcXVhOiBcIiMwMGZmZmZcIixcblx0YmxhY2s6IFwiIzAwMDAwMFwiLFxuXHRibHVlOiBcIiMwMDAwZmZcIixcblx0ZnVjaHNpYTogXCIjZmYwMGZmXCIsXG5cdGdyYXk6IFwiIzgwODA4MFwiLFxuXHRncmVlbjogXCIjMDA4MDAwXCIsXG5cdGxpbWU6IFwiIzAwZmYwMFwiLFxuXHRtYXJvb246IFwiIzgwMDAwMFwiLFxuXHRuYXZ5OiBcIiMwMDAwODBcIixcblx0b2xpdmU6IFwiIzgwODAwMFwiLFxuXHRwdXJwbGU6IFwiIzgwMDA4MFwiLFxuXHRyZWQ6IFwiI2ZmMDAwMFwiLFxuXHRzaWx2ZXI6IFwiI2MwYzBjMFwiLFxuXHR0ZWFsOiBcIiMwMDgwODBcIixcblx0d2hpdGU6IFwiI2ZmZmZmZlwiLFxuXHR5ZWxsb3c6IFwiI2ZmZmYwMFwiLFxuXG5cdC8vIDQuMi4zLiBcInRyYW5zcGFyZW50XCIgY29sb3Iga2V5d29yZFxuXHR0cmFuc3BhcmVudDogWyBudWxsLCBudWxsLCBudWxsLCAwIF0sXG5cblx0X2RlZmF1bHQ6IFwiI2ZmZmZmZlwiXG59O1xuXG59ICkoIGpRdWVyeSApO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDTEFTUyBBTklNQVRJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4oIGZ1bmN0aW9uKCkge1xuXG52YXIgY2xhc3NBbmltYXRpb25BY3Rpb25zID0gWyBcImFkZFwiLCBcInJlbW92ZVwiLCBcInRvZ2dsZVwiIF0sXG5cdHNob3J0aGFuZFN0eWxlcyA9IHtcblx0XHRib3JkZXI6IDEsXG5cdFx0Ym9yZGVyQm90dG9tOiAxLFxuXHRcdGJvcmRlckNvbG9yOiAxLFxuXHRcdGJvcmRlckxlZnQ6IDEsXG5cdFx0Ym9yZGVyUmlnaHQ6IDEsXG5cdFx0Ym9yZGVyVG9wOiAxLFxuXHRcdGJvcmRlcldpZHRoOiAxLFxuXHRcdG1hcmdpbjogMSxcblx0XHRwYWRkaW5nOiAxXG5cdH07XG5cbiQuZWFjaChcblx0WyBcImJvcmRlckxlZnRTdHlsZVwiLCBcImJvcmRlclJpZ2h0U3R5bGVcIiwgXCJib3JkZXJCb3R0b21TdHlsZVwiLCBcImJvcmRlclRvcFN0eWxlXCIgXSxcblx0ZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdFx0JC5meC5zdGVwWyBwcm9wIF0gPSBmdW5jdGlvbiggZnggKSB7XG5cdFx0XHRpZiAoIGZ4LmVuZCAhPT0gXCJub25lXCIgJiYgIWZ4LnNldEF0dHIgfHwgZngucG9zID09PSAxICYmICFmeC5zZXRBdHRyICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGZ4LmVsZW0sIHByb3AsIGZ4LmVuZCApO1xuXHRcdFx0XHRmeC5zZXRBdHRyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG4pO1xuXG5mdW5jdGlvbiBnZXRFbGVtZW50U3R5bGVzKCBlbGVtICkge1xuXHR2YXIga2V5LCBsZW4sXG5cdFx0c3R5bGUgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgP1xuXHRcdFx0ZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0sIG51bGwgKSA6XG5cdFx0XHRlbGVtLmN1cnJlbnRTdHlsZSxcblx0XHRzdHlsZXMgPSB7fTtcblxuXHRpZiAoIHN0eWxlICYmIHN0eWxlLmxlbmd0aCAmJiBzdHlsZVsgMCBdICYmIHN0eWxlWyBzdHlsZVsgMCBdIF0gKSB7XG5cdFx0bGVuID0gc3R5bGUubGVuZ3RoO1xuXHRcdHdoaWxlICggbGVuLS0gKSB7XG5cdFx0XHRrZXkgPSBzdHlsZVsgbGVuIF07XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sgJC5jYW1lbENhc2UoIGtleSApIF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdC8vIFN1cHBvcnQ6IE9wZXJhLCBJRSA8OVxuXHR9IGVsc2Uge1xuXHRcdGZvciAoIGtleSBpbiBzdHlsZSApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0eWxlWyBrZXkgXSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0c3R5bGVzWyBrZXkgXSA9IHN0eWxlWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBzdHlsZURpZmZlcmVuY2UoIG9sZFN0eWxlLCBuZXdTdHlsZSApIHtcblx0dmFyIGRpZmYgPSB7fSxcblx0XHRuYW1lLCB2YWx1ZTtcblxuXHRmb3IgKCBuYW1lIGluIG5ld1N0eWxlICkge1xuXHRcdHZhbHVlID0gbmV3U3R5bGVbIG5hbWUgXTtcblx0XHRpZiAoIG9sZFN0eWxlWyBuYW1lIF0gIT09IHZhbHVlICkge1xuXHRcdFx0aWYgKCAhc2hvcnRoYW5kU3R5bGVzWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGlmICggJC5meC5zdGVwWyBuYW1lIF0gfHwgIWlzTmFOKCBwYXJzZUZsb2F0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRcdFx0ZGlmZlsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZGlmZjtcbn1cblxuLy8gU3VwcG9ydDogalF1ZXJ5IDwxLjhcbmlmICggISQuZm4uYWRkQmFjayApIHtcblx0JC5mbi5hZGRCYWNrID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fTtcbn1cblxuJC5lZmZlY3RzLmFuaW1hdGVDbGFzcyA9IGZ1bmN0aW9uKCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdHZhciBvID0gJC5zcGVlZCggZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKTtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFuaW1hdGVkID0gJCggdGhpcyApLFxuXHRcdFx0YmFzZUNsYXNzID0gYW5pbWF0ZWQuYXR0ciggXCJjbGFzc1wiICkgfHwgXCJcIixcblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UsXG5cdFx0XHRhbGxBbmltYXRpb25zID0gby5jaGlsZHJlbiA/IGFuaW1hdGVkLmZpbmQoIFwiKlwiICkuYWRkQmFjaygpIDogYW5pbWF0ZWQ7XG5cblx0XHQvLyBNYXAgdGhlIGFuaW1hdGVkIG9iamVjdHMgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIHN0eWxlcy5cblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsID0gJCggdGhpcyApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZWw6IGVsLFxuXHRcdFx0XHRzdGFydDogZ2V0RWxlbWVudFN0eWxlcyggdGhpcyApXG5cdFx0XHR9O1xuXHRcdH0gKTtcblxuXHRcdC8vIEFwcGx5IGNsYXNzIGNoYW5nZVxuXHRcdGFwcGx5Q2xhc3NDaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQuZWFjaCggY2xhc3NBbmltYXRpb25BY3Rpb25zLCBmdW5jdGlvbiggaSwgYWN0aW9uICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlWyBhY3Rpb24gXSApIHtcblx0XHRcdFx0XHRhbmltYXRlZFsgYWN0aW9uICsgXCJDbGFzc1wiIF0oIHZhbHVlWyBhY3Rpb24gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fTtcblx0XHRhcHBseUNsYXNzQ2hhbmdlKCk7XG5cblx0XHQvLyBNYXAgYWxsIGFuaW1hdGVkIG9iamVjdHMgYWdhaW4gLSBjYWxjdWxhdGUgbmV3IHN0eWxlcyBhbmQgZGlmZlxuXHRcdGFsbEFuaW1hdGlvbnMgPSBhbGxBbmltYXRpb25zLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmVuZCA9IGdldEVsZW1lbnRTdHlsZXMoIHRoaXMuZWxbIDAgXSApO1xuXHRcdFx0dGhpcy5kaWZmID0gc3R5bGVEaWZmZXJlbmNlKCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSApO1xuXG5cdFx0Ly8gQXBwbHkgb3JpZ2luYWwgY2xhc3Ncblx0XHRhbmltYXRlZC5hdHRyKCBcImNsYXNzXCIsIGJhc2VDbGFzcyApO1xuXG5cdFx0Ly8gTWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gdGhpcyB0aW1lIGNvbGxlY3RpbmcgYSBwcm9taXNlXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzdHlsZUluZm8gPSB0aGlzLFxuXHRcdFx0XHRkZmQgPSAkLkRlZmVycmVkKCksXG5cdFx0XHRcdG9wdHMgPSAkLmV4dGVuZCgge30sIG8sIHtcblx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGZkLnJlc29sdmUoIHN0eWxlSW5mbyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmVsLmFuaW1hdGUoIHRoaXMuZGlmZiwgb3B0cyApO1xuXHRcdFx0cmV0dXJuIGRmZC5wcm9taXNlKCk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gT25jZSBhbGwgYW5pbWF0aW9ucyBoYXZlIGNvbXBsZXRlZDpcblx0XHQkLndoZW4uYXBwbHkoICQsIGFsbEFuaW1hdGlvbnMuZ2V0KCkgKS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gU2V0IHRoZSBmaW5hbCBjbGFzc1xuXHRcdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBhbmltYXRlZCBlbGVtZW50LFxuXHRcdFx0Ly8gY2xlYXIgYWxsIGNzcyBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBhbmltYXRlZFxuXHRcdFx0JC5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXHRcdFx0XHQkLmVhY2goIHRoaXMuZGlmZiwgZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHRlbC5jc3MoIGtleSwgXCJcIiApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIFRoaXMgaXMgZ3Vhcm50ZWVkIHRvIGJlIHRoZXJlIGlmIHlvdSB1c2UgalF1ZXJ5LnNwZWVkKClcblx0XHRcdC8vIGl0IGFsc28gaGFuZGxlcyBkZXF1ZXVpbmcgdGhlIG5leHQgYW5pbS4uLlxuXHRcdFx0by5jb21wbGV0ZS5jYWxsKCBhbmltYXRlZFsgMCBdICk7XG5cdFx0fSApO1xuXHR9ICk7XG59O1xuXG4kLmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHNwZWVkID9cblx0XHRcdFx0JC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdHsgYWRkOiBjbGFzc05hbWVzIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9ICkoICQuZm4uYWRkQ2xhc3MgKSxcblxuXHRyZW1vdmVDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID9cblx0XHRcdFx0JC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9ICkoICQuZm4ucmVtb3ZlQ2xhc3MgKSxcblxuXHR0b2dnbGVDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIGZvcmNlLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdGlmICggdHlwZW9mIGZvcmNlID09PSBcImJvb2xlYW5cIiB8fCBmb3JjZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoICFzcGVlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdpdGhvdXQgc3BlZWQgcGFyYW1ldGVyXG5cdFx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0XHQoIGZvcmNlID8geyBhZGQ6IGNsYXNzTmFtZXMgfSA6IHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0gKSxcblx0XHRcdFx0XHRcdHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gV2l0aG91dCBmb3JjZSBwYXJhbWV0ZXJcblx0XHRcdFx0cmV0dXJuICQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IHRvZ2dsZTogY2xhc3NOYW1lcyB9LCBmb3JjZSwgc3BlZWQsIGVhc2luZyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKSggJC5mbi50b2dnbGVDbGFzcyApLFxuXG5cdHN3aXRjaENsYXNzOiBmdW5jdGlvbiggcmVtb3ZlLCBhZGQsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsIHtcblx0XHRcdGFkZDogYWRkLFxuXHRcdFx0cmVtb3ZlOiByZW1vdmVcblx0XHR9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9XG59ICk7XG5cbn0gKSgpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVGRkVDVFMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiggZnVuY3Rpb24oKSB7XG5cbmlmICggJC5leHByICYmICQuZXhwci5maWx0ZXJzICYmICQuZXhwci5maWx0ZXJzLmFuaW1hdGVkICkge1xuXHQkLmV4cHIuZmlsdGVycy5hbmltYXRlZCA9ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICEhJCggZWxlbSApLmRhdGEoIGRhdGFTcGFjZUFuaW1hdGVkICkgfHwgb3JpZyggZWxlbSApO1xuXHRcdH07XG5cdH0gKSggJC5leHByLmZpbHRlcnMuYW5pbWF0ZWQgKTtcbn1cblxuaWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgKSB7XG5cdCQuZXh0ZW5kKCAkLmVmZmVjdHMsIHtcblxuXHRcdC8vIFNhdmVzIGEgc2V0IG9mIHByb3BlcnRpZXMgaW4gYSBkYXRhIHN0b3JhZ2Vcblx0XHRzYXZlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdFx0dmFyIGkgPSAwLCBsZW5ndGggPSBzZXQubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggc2V0WyBpIF0gIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBzZXRbIGkgXSwgZWxlbWVudFsgMCBdLnN0eWxlWyBzZXRbIGkgXSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gUmVzdG9yZXMgYSBzZXQgb2YgcHJldmlvdXNseSBzYXZlZCBwcm9wZXJ0aWVzIGZyb20gYSBkYXRhIHN0b3JhZ2Vcblx0XHRyZXN0b3JlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdFx0dmFyIHZhbCwgaSA9IDAsIGxlbmd0aCA9IHNldC5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBzZXRbIGkgXSAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2YWwgPSBlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIHNldFsgaSBdICk7XG5cdFx0XHRcdFx0ZWxlbWVudC5jc3MoIHNldFsgaSBdLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXRNb2RlOiBmdW5jdGlvbiggZWwsIG1vZGUgKSB7XG5cdFx0XHRpZiAoIG1vZGUgPT09IFwidG9nZ2xlXCIgKSB7XG5cdFx0XHRcdG1vZGUgPSBlbC5pcyggXCI6aGlkZGVuXCIgKSA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbW9kZTtcblx0XHR9LFxuXG5cdFx0Ly8gV3JhcHMgdGhlIGVsZW1lbnQgYXJvdW5kIGEgd3JhcHBlciB0aGF0IGNvcGllcyBwb3NpdGlvbiBwcm9wZXJ0aWVzXG5cdFx0Y3JlYXRlV3JhcHBlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgd3JhcHBlZCwgcmV0dXJuIGl0XG5cdFx0XHRpZiAoIGVsZW1lbnQucGFyZW50KCkuaXMoIFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiICkgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtZW50LnBhcmVudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXcmFwIHRoZSBlbGVtZW50XG5cdFx0XHR2YXIgcHJvcHMgPSB7XG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQub3V0ZXJXaWR0aCggdHJ1ZSApLFxuXHRcdFx0XHRcdGhlaWdodDogZWxlbWVudC5vdXRlckhlaWdodCggdHJ1ZSApLFxuXHRcdFx0XHRcdFwiZmxvYXRcIjogZWxlbWVudC5jc3MoIFwiZmxvYXRcIiApXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyYXBwZXIgPSAkKCBcIjxkaXY+PC9kaXY+XCIgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLXdyYXBwZXJcIiApXG5cdFx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuXHRcdFx0XHRcdFx0Ym9yZGVyOiBcIm5vbmVcIixcblx0XHRcdFx0XHRcdG1hcmdpbjogMCxcblx0XHRcdFx0XHRcdHBhZGRpbmc6IDBcblx0XHRcdFx0XHR9ICksXG5cblx0XHRcdFx0Ly8gU3RvcmUgdGhlIHNpemUgaW4gY2FzZSB3aWR0aC9oZWlnaHQgYXJlIGRlZmluZWQgaW4gJSAtIEZpeGVzICM1MjQ1XG5cdFx0XHRcdHNpemUgPSB7XG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQud2lkdGgoKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0KClcblx0XHRcdFx0fSxcblx0XHRcdFx0YWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveFxuXHRcdFx0Ly8gRmlyZWZveCBpbmNvcnJlY3RseSBleHBvc2VzIGFub255bW91cyBjb250ZW50XG5cdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NjE2NjRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGFjdGl2ZS5pZDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRhY3RpdmUgPSBkb2N1bWVudC5ib2R5O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtZW50LndyYXAoIHdyYXBwZXIgKTtcblxuXHRcdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdFx0JCggYWN0aXZlICkudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvdGZpeCBmb3IgalF1ZXJ5IDEuNCBzaW5jZSBzb21lIGNoYW5nZSBpbiB3cmFwKCkgc2VlbXMgdG8gYWN0dWFsbHlcblx0XHRcdC8vIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgd3JhcHBlZCBlbGVtZW50XG5cdFx0XHR3cmFwcGVyID0gZWxlbWVudC5wYXJlbnQoKTtcblxuXHRcdFx0Ly8gVHJhbnNmZXIgcG9zaXRpb25pbmcgcHJvcGVydGllcyB0byB0aGUgd3JhcHBlclxuXHRcdFx0aWYgKCBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdHdyYXBwZXIuY3NzKCB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSApO1xuXHRcdFx0XHRlbGVtZW50LmNzcyggeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQuZXh0ZW5kKCBwcm9wcywge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdFx0ekluZGV4OiBlbGVtZW50LmNzcyggXCJ6LWluZGV4XCIgKVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdCQuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiwgXCJib3R0b21cIiwgXCJyaWdodFwiIF0sIGZ1bmN0aW9uKCBpLCBwb3MgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIHBvcyBdID0gZWxlbWVudC5jc3MoIHBvcyApO1xuXHRcdFx0XHRcdGlmICggaXNOYU4oIHBhcnNlSW50KCBwcm9wc1sgcG9zIF0sIDEwICkgKSApIHtcblx0XHRcdFx0XHRcdHByb3BzWyBwb3MgXSA9IFwiYXV0b1wiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0cmlnaHQ6IFwiYXV0b1wiLFxuXHRcdFx0XHRcdGJvdHRvbTogXCJhdXRvXCJcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxlbWVudC5jc3MoIHNpemUgKTtcblxuXHRcdFx0cmV0dXJuIHdyYXBwZXIuY3NzKCBwcm9wcyApLnNob3coKTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlV3JhcHBlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgYWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdFx0aWYgKCBlbGVtZW50LnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdFx0XHRlbGVtZW50LnBhcmVudCgpLnJlcGxhY2VXaXRoKCBlbGVtZW50ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRcdFx0aWYgKCBlbGVtZW50WyAwIF0gPT09IGFjdGl2ZSB8fCAkLmNvbnRhaW5zKCBlbGVtZW50WyAwIF0sIGFjdGl2ZSApICkge1xuXHRcdFx0XHRcdCQoIGFjdGl2ZSApLnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtZW50O1xuXHRcdH1cblx0fSApO1xufVxuXG4kLmV4dGVuZCggJC5lZmZlY3RzLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cblx0ZGVmaW5lOiBmdW5jdGlvbiggbmFtZSwgbW9kZSwgZWZmZWN0ICkge1xuXHRcdGlmICggIWVmZmVjdCApIHtcblx0XHRcdGVmZmVjdCA9IG1vZGU7XG5cdFx0XHRtb2RlID0gXCJlZmZlY3RcIjtcblx0XHR9XG5cblx0XHQkLmVmZmVjdHMuZWZmZWN0WyBuYW1lIF0gPSBlZmZlY3Q7XG5cdFx0JC5lZmZlY3RzLmVmZmVjdFsgbmFtZSBdLm1vZGUgPSBtb2RlO1xuXG5cdFx0cmV0dXJuIGVmZmVjdDtcblx0fSxcblxuXHRzY2FsZWREaW1lbnNpb25zOiBmdW5jdGlvbiggZWxlbWVudCwgcGVyY2VudCwgZGlyZWN0aW9uICkge1xuXHRcdGlmICggcGVyY2VudCA9PT0gMCApIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGhlaWdodDogMCxcblx0XHRcdFx0d2lkdGg6IDAsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiAwLFxuXHRcdFx0XHRvdXRlcldpZHRoOiAwXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHZhciB4ID0gZGlyZWN0aW9uICE9PSBcImhvcml6b250YWxcIiA/ICggKCBwZXJjZW50IHx8IDEwMCApIC8gMTAwICkgOiAxLFxuXHRcdFx0eSA9IGRpcmVjdGlvbiAhPT0gXCJ2ZXJ0aWNhbFwiID8gKCAoIHBlcmNlbnQgfHwgMTAwICkgLyAxMDAgKSA6IDE7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVpZ2h0OiBlbGVtZW50LmhlaWdodCgpICogeSxcblx0XHRcdHdpZHRoOiBlbGVtZW50LndpZHRoKCkgKiB4LFxuXHRcdFx0b3V0ZXJIZWlnaHQ6IGVsZW1lbnQub3V0ZXJIZWlnaHQoKSAqIHksXG5cdFx0XHRvdXRlcldpZHRoOiBlbGVtZW50Lm91dGVyV2lkdGgoKSAqIHhcblx0XHR9O1xuXG5cdH0sXG5cblx0Y2xpcFRvQm94OiBmdW5jdGlvbiggYW5pbWF0aW9uICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogYW5pbWF0aW9uLmNsaXAucmlnaHQgLSBhbmltYXRpb24uY2xpcC5sZWZ0LFxuXHRcdFx0aGVpZ2h0OiBhbmltYXRpb24uY2xpcC5ib3R0b20gLSBhbmltYXRpb24uY2xpcC50b3AsXG5cdFx0XHRsZWZ0OiBhbmltYXRpb24uY2xpcC5sZWZ0LFxuXHRcdFx0dG9wOiBhbmltYXRpb24uY2xpcC50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdC8vIEluamVjdHMgcmVjZW50bHkgcXVldWVkIGZ1bmN0aW9ucyB0byBiZSBmaXJzdCBpbiBsaW5lIChhZnRlciBcImlucHJvZ3Jlc3NcIilcblx0dW5zaGlmdDogZnVuY3Rpb24oIGVsZW1lbnQsIHF1ZXVlTGVuZ3RoLCBjb3VudCApIHtcblx0XHR2YXIgcXVldWUgPSBlbGVtZW50LnF1ZXVlKCk7XG5cblx0XHRpZiAoIHF1ZXVlTGVuZ3RoID4gMSApIHtcblx0XHRcdHF1ZXVlLnNwbGljZS5hcHBseSggcXVldWUsXG5cdFx0XHRcdFsgMSwgMCBdLmNvbmNhdCggcXVldWUuc3BsaWNlKCBxdWV1ZUxlbmd0aCwgY291bnQgKSApICk7XG5cdFx0fVxuXHRcdGVsZW1lbnQuZGVxdWV1ZSgpO1xuXHR9LFxuXG5cdHNhdmVTdHlsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2VTdHlsZSwgZWxlbWVudFsgMCBdLnN0eWxlLmNzc1RleHQgKTtcblx0fSxcblxuXHRyZXN0b3JlU3R5bGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnRbIDAgXS5zdHlsZS5jc3NUZXh0ID0gZWxlbWVudC5kYXRhKCBkYXRhU3BhY2VTdHlsZSApIHx8IFwiXCI7XG5cdFx0ZWxlbWVudC5yZW1vdmVEYXRhKCBkYXRhU3BhY2VTdHlsZSApO1xuXHR9LFxuXG5cdG1vZGU6IGZ1bmN0aW9uKCBlbGVtZW50LCBtb2RlICkge1xuXHRcdHZhciBoaWRkZW4gPSBlbGVtZW50LmlzKCBcIjpoaWRkZW5cIiApO1xuXG5cdFx0aWYgKCBtb2RlID09PSBcInRvZ2dsZVwiICkge1xuXHRcdFx0bW9kZSA9IGhpZGRlbiA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG5cdFx0fVxuXHRcdGlmICggaGlkZGVuID8gbW9kZSA9PT0gXCJoaWRlXCIgOiBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRcdG1vZGUgPSBcIm5vbmVcIjtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZGU7XG5cdH0sXG5cblx0Ly8gVHJhbnNsYXRlcyBhIFt0b3AsbGVmdF0gYXJyYXkgaW50byBhIGJhc2VsaW5lIHZhbHVlXG5cdGdldEJhc2VsaW5lOiBmdW5jdGlvbiggb3JpZ2luLCBvcmlnaW5hbCApIHtcblx0XHR2YXIgeSwgeDtcblxuXHRcdHN3aXRjaCAoIG9yaWdpblsgMCBdICkge1xuXHRcdGNhc2UgXCJ0b3BcIjpcblx0XHRcdHkgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1pZGRsZVwiOlxuXHRcdFx0eSA9IDAuNTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJib3R0b21cIjpcblx0XHRcdHkgPSAxO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHkgPSBvcmlnaW5bIDAgXSAvIG9yaWdpbmFsLmhlaWdodDtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDEgXSApIHtcblx0XHRjYXNlIFwibGVmdFwiOlxuXHRcdFx0eCA9IDA7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiY2VudGVyXCI6XG5cdFx0XHR4ID0gMC41O1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJpZ2h0XCI6XG5cdFx0XHR4ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR4ID0gb3JpZ2luWyAxIF0gLyBvcmlnaW5hbC53aWR0aDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogeCxcblx0XHRcdHk6IHlcblx0XHR9O1xuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBwbGFjZWhvbGRlciBlbGVtZW50IHNvIHRoYXQgdGhlIG9yaWdpbmFsIGVsZW1lbnQgY2FuIGJlIG1hZGUgYWJzb2x1dGVcblx0Y3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBwbGFjZWhvbGRlcixcblx0XHRcdGNzc1Bvc2l0aW9uID0gZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0cG9zaXRpb24gPSBlbGVtZW50LnBvc2l0aW9uKCk7XG5cblx0XHQvLyBMb2NrIGluIG1hcmdpbnMgZmlyc3QgdG8gYWNjb3VudCBmb3IgZm9ybSBlbGVtZW50cywgd2hpY2hcblx0XHQvLyB3aWxsIGNoYW5nZSBtYXJnaW4gaWYgeW91IGV4cGxpY2l0bHkgc2V0IGhlaWdodFxuXHRcdC8vIHNlZTogaHR0cDovL2pzZmlkZGxlLm5ldC9KWlNNdC8zLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTA3MzgwXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpXG5cdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdG1hcmdpblRvcDogZWxlbWVudC5jc3MoIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdG1hcmdpbkJvdHRvbTogZWxlbWVudC5jc3MoIFwibWFyZ2luQm90dG9tXCIgKSxcblx0XHRcdG1hcmdpbkxlZnQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0bWFyZ2luUmlnaHQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblJpZ2h0XCIgKVxuXHRcdH0gKVxuXHRcdC5vdXRlcldpZHRoKCBlbGVtZW50Lm91dGVyV2lkdGgoKSApXG5cdFx0Lm91dGVySGVpZ2h0KCBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKTtcblxuXHRcdGlmICggL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdCggY3NzUG9zaXRpb24gKSApIHtcblx0XHRcdGNzc1Bvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXG5cdFx0XHRwbGFjZWhvbGRlciA9ICQoIFwiPFwiICsgZWxlbWVudFsgMCBdLm5vZGVOYW1lICsgXCI+XCIgKS5pbnNlcnRBZnRlciggZWxlbWVudCApLmNzcygge1xuXG5cdFx0XHRcdC8vIENvbnZlcnQgaW5saW5lIHRvIGlubGluZSBibG9jayB0byBhY2NvdW50IGZvciBpbmxpbmUgZWxlbWVudHNcblx0XHRcdFx0Ly8gdGhhdCB0dXJuIHRvIGlubGluZSBibG9jayBiYXNlZCBvbiBjb250ZW50IChsaWtlIGltZylcblx0XHRcdFx0ZGlzcGxheTogL14oaW5saW5lfHJ1YnkpLy50ZXN0KCBlbGVtZW50LmNzcyggXCJkaXNwbGF5XCIgKSApID9cblx0XHRcdFx0XHRcImlubGluZS1ibG9ja1wiIDpcblx0XHRcdFx0XHRcImJsb2NrXCIsXG5cdFx0XHRcdHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG5cblx0XHRcdFx0Ly8gTWFyZ2lucyBuZWVkIHRvIGJlIHNldCB0byBhY2NvdW50IGZvciBtYXJnaW4gY29sbGFwc2Vcblx0XHRcdFx0bWFyZ2luVG9wOiBlbGVtZW50LmNzcyggXCJtYXJnaW5Ub3BcIiApLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkJvdHRvbVwiICksXG5cdFx0XHRcdG1hcmdpbkxlZnQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0XHRtYXJnaW5SaWdodDogZWxlbWVudC5jc3MoIFwibWFyZ2luUmlnaHRcIiApLFxuXHRcdFx0XHRcImZsb2F0XCI6IGVsZW1lbnQuY3NzKCBcImZsb2F0XCIgKVxuXHRcdFx0fSApXG5cdFx0XHQub3V0ZXJXaWR0aCggZWxlbWVudC5vdXRlcldpZHRoKCkgKVxuXHRcdFx0Lm91dGVySGVpZ2h0KCBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWVmZmVjdHMtcGxhY2Vob2xkZXJcIiApO1xuXG5cdFx0XHRlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIFwicGxhY2Vob2xkZXJcIiwgcGxhY2Vob2xkZXIgKTtcblx0XHR9XG5cblx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0cG9zaXRpb246IGNzc1Bvc2l0aW9uLFxuXHRcdFx0bGVmdDogcG9zaXRpb24ubGVmdCxcblx0XHRcdHRvcDogcG9zaXRpb24udG9wXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHBsYWNlaG9sZGVyO1xuXHR9LFxuXG5cdHJlbW92ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgZGF0YUtleSA9IGRhdGFTcGFjZSArIFwicGxhY2Vob2xkZXJcIixcblx0XHRcdFx0cGxhY2Vob2xkZXIgPSBlbGVtZW50LmRhdGEoIGRhdGFLZXkgKTtcblxuXHRcdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRwbGFjZWhvbGRlci5yZW1vdmUoKTtcblx0XHRcdGVsZW1lbnQucmVtb3ZlRGF0YSggZGF0YUtleSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBSZW1vdmVzIGEgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzIGFuZCByZXN0b3Jlc1xuXHQvLyBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBtb2RpZmllZCBkdXJpbmcgcGxhY2Vob2xkZXIgY3JlYXRpb25cblx0Y2xlYW5VcDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0JC5lZmZlY3RzLnJlc3RvcmVTdHlsZSggZWxlbWVudCApO1xuXHRcdCQuZWZmZWN0cy5yZW1vdmVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXHR9LFxuXG5cdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKCBlbGVtZW50LCBsaXN0LCBmYWN0b3IsIHZhbHVlICkge1xuXHRcdHZhbHVlID0gdmFsdWUgfHwge307XG5cdFx0JC5lYWNoKCBsaXN0LCBmdW5jdGlvbiggaSwgeCApIHtcblx0XHRcdHZhciB1bml0ID0gZWxlbWVudC5jc3NVbml0KCB4ICk7XG5cdFx0XHRpZiAoIHVuaXRbIDAgXSA+IDAgKSB7XG5cdFx0XHRcdHZhbHVlWyB4IF0gPSB1bml0WyAwIF0gKiBmYWN0b3IgKyB1bml0WyAxIF07XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxufSApO1xuXG4vLyBSZXR1cm4gYW4gZWZmZWN0IG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gcGFyYW1ldGVyczpcbmZ1bmN0aW9uIF9ub3JtYWxpemVBcmd1bWVudHMoIGVmZmVjdCwgb3B0aW9ucywgc3BlZWQsIGNhbGxiYWNrICkge1xuXG5cdC8vIEFsbG93IHBhc3NpbmcgYWxsIG9wdGlvbnMgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuXHRpZiAoICQuaXNQbGFpbk9iamVjdCggZWZmZWN0ICkgKSB7XG5cdFx0b3B0aW9ucyA9IGVmZmVjdDtcblx0XHRlZmZlY3QgPSBlZmZlY3QuZWZmZWN0O1xuXHR9XG5cblx0Ly8gQ29udmVydCB0byBhbiBvYmplY3Rcblx0ZWZmZWN0ID0geyBlZmZlY3Q6IGVmZmVjdCB9O1xuXG5cdC8vIENhdGNoIChlZmZlY3QsIG51bGwsIC4uLilcblx0aWYgKCBvcHRpb25zID09IG51bGwgKSB7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gQ2F0Y2ggKGVmZmVjdCwgY2FsbGJhY2spXG5cdGlmICggJC5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xuXHRcdHNwZWVkID0gbnVsbDtcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBzcGVlZCwgPylcblx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiB8fCAkLmZ4LnNwZWVkc1sgb3B0aW9ucyBdICkge1xuXHRcdGNhbGxiYWNrID0gc3BlZWQ7XG5cdFx0c3BlZWQgPSBvcHRpb25zO1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIENhdGNoIChlZmZlY3QsIG9wdGlvbnMsIGNhbGxiYWNrKVxuXHRpZiAoICQuaXNGdW5jdGlvbiggc3BlZWQgKSApIHtcblx0XHRjYWxsYmFjayA9IHNwZWVkO1xuXHRcdHNwZWVkID0gbnVsbDtcblx0fVxuXG5cdC8vIEFkZCBvcHRpb25zIHRvIGVmZmVjdFxuXHRpZiAoIG9wdGlvbnMgKSB7XG5cdFx0JC5leHRlbmQoIGVmZmVjdCwgb3B0aW9ucyApO1xuXHR9XG5cblx0c3BlZWQgPSBzcGVlZCB8fCBvcHRpb25zLmR1cmF0aW9uO1xuXHRlZmZlY3QuZHVyYXRpb24gPSAkLmZ4Lm9mZiA/IDAgOlxuXHRcdHR5cGVvZiBzcGVlZCA9PT0gXCJudW1iZXJcIiA/IHNwZWVkIDpcblx0XHRzcGVlZCBpbiAkLmZ4LnNwZWVkcyA/ICQuZnguc3BlZWRzWyBzcGVlZCBdIDpcblx0XHQkLmZ4LnNwZWVkcy5fZGVmYXVsdDtcblxuXHRlZmZlY3QuY29tcGxldGUgPSBjYWxsYmFjayB8fCBvcHRpb25zLmNvbXBsZXRlO1xuXG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbmZ1bmN0aW9uIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSB7XG5cblx0Ly8gVmFsaWQgc3RhbmRhcmQgc3BlZWRzIChub3RoaW5nLCBudW1iZXIsIG5hbWVkIHNwZWVkKVxuXHRpZiAoICFvcHRpb24gfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJudW1iZXJcIiB8fCAkLmZ4LnNwZWVkc1sgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnZhbGlkIHN0cmluZ3MgLSB0cmVhdCBhcyBcIm5vcm1hbFwiIHNwZWVkXG5cdGlmICggdHlwZW9mIG9wdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiAhJC5lZmZlY3RzLmVmZmVjdFsgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBDb21wbGV0ZSBjYWxsYmFja1xuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBPcHRpb25zIGhhc2ggKGJ1dCBub3QgbmFtaW5nIGFuIGVmZmVjdClcblx0aWYgKCB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiICYmICFvcHRpb24uZWZmZWN0ICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gRGlkbid0IG1hdGNoIGFueSBzdGFuZGFyZCBBUElcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4kLmZuLmV4dGVuZCgge1xuXHRlZmZlY3Q6IGZ1bmN0aW9uKCAvKiBlZmZlY3QsIG9wdGlvbnMsIHNwZWVkLCBjYWxsYmFjayAqLyApIHtcblx0XHR2YXIgYXJncyA9IF9ub3JtYWxpemVBcmd1bWVudHMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApLFxuXHRcdFx0ZWZmZWN0TWV0aG9kID0gJC5lZmZlY3RzLmVmZmVjdFsgYXJncy5lZmZlY3QgXSxcblx0XHRcdGRlZmF1bHRNb2RlID0gZWZmZWN0TWV0aG9kLm1vZGUsXG5cdFx0XHRxdWV1ZSA9IGFyZ3MucXVldWUsXG5cdFx0XHRxdWV1ZU5hbWUgPSBxdWV1ZSB8fCBcImZ4XCIsXG5cdFx0XHRjb21wbGV0ZSA9IGFyZ3MuY29tcGxldGUsXG5cdFx0XHRtb2RlID0gYXJncy5tb2RlLFxuXHRcdFx0bW9kZXMgPSBbXSxcblx0XHRcdHByZWZpbHRlciA9IGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0XHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0bm9ybWFsaXplZE1vZGUgPSAkLmVmZmVjdHMubW9kZSggZWwsIG1vZGUgKSB8fCBkZWZhdWx0TW9kZTtcblxuXHRcdFx0XHQvLyBTZW50aW5lbCBmb3IgZHVjay1wdW5jaGluZyB0aGUgOmFuaW1hdGVkIHBzdWVkby1zZWxlY3RvclxuXHRcdFx0XHRlbC5kYXRhKCBkYXRhU3BhY2VBbmltYXRlZCwgdHJ1ZSApO1xuXG5cdFx0XHRcdC8vIFNhdmUgZWZmZWN0IG1vZGUgZm9yIGxhdGVyIHVzZSxcblx0XHRcdFx0Ly8gd2UgY2FuJ3QganVzdCBjYWxsICQuZWZmZWN0cy5tb2RlIGFnYWluIGxhdGVyLFxuXHRcdFx0XHQvLyBhcyB0aGUgLnNob3coKSBiZWxvdyBkZXN0cm95cyB0aGUgaW5pdGlhbCBzdGF0ZVxuXHRcdFx0XHRtb2Rlcy5wdXNoKCBub3JtYWxpemVkTW9kZSApO1xuXG5cdFx0XHRcdC8vIFNlZSAkLnVpQmFja0NvbXBhdCBpbnNpZGUgb2YgcnVuKCkgZm9yIHJlbW92YWwgb2YgZGVmYXVsdE1vZGUgaW4gMS4xM1xuXHRcdFx0XHRpZiAoIGRlZmF1bHRNb2RlICYmICggbm9ybWFsaXplZE1vZGUgPT09IFwic2hvd1wiIHx8XG5cdFx0XHRcdFx0XHQoIG5vcm1hbGl6ZWRNb2RlID09PSBkZWZhdWx0TW9kZSAmJiBub3JtYWxpemVkTW9kZSA9PT0gXCJoaWRlXCIgKSApICkge1xuXHRcdFx0XHRcdGVsLnNob3coKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggIWRlZmF1bHRNb2RlIHx8IG5vcm1hbGl6ZWRNb2RlICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0XHQkLmVmZmVjdHMuc2F2ZVN0eWxlKCBlbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG5leHQgKSApIHtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoICQuZngub2ZmIHx8ICFlZmZlY3RNZXRob2QgKSB7XG5cblx0XHRcdC8vIERlbGVnYXRlIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QgKGUuZy4sIC5zaG93KCkpIGlmIHBvc3NpYmxlXG5cdFx0XHRpZiAoIG1vZGUgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzWyBtb2RlIF0oIGFyZ3MuZHVyYXRpb24sIGNvbXBsZXRlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdFx0Y29tcGxldGUuY2FsbCggdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJ1biggbmV4dCApIHtcblx0XHRcdHZhciBlbGVtID0gJCggdGhpcyApO1xuXG5cdFx0XHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZURhdGEoIGRhdGFTcGFjZUFuaW1hdGVkICk7XG5cblx0XHRcdFx0JC5lZmZlY3RzLmNsZWFuVXAoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGFyZ3MubW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdFx0ZWxlbS5oaWRlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGRvbmUoKSB7XG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBjb21wbGV0ZSApICkge1xuXHRcdFx0XHRcdGNvbXBsZXRlLmNhbGwoIGVsZW1bIDAgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG5leHQgKSApIHtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbW9kZSBvcHRpb24gb24gYSBwZXIgZWxlbWVudCBiYXNpcyxcblx0XHRcdC8vIGFzIHRvZ2dsZSBjYW4gYmUgZWl0aGVyIHNob3cgb3IgaGlkZSBkZXBlbmRpbmcgb24gZWxlbWVudCBzdGF0ZVxuXHRcdFx0YXJncy5tb2RlID0gbW9kZXMuc2hpZnQoKTtcblxuXHRcdFx0aWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgJiYgIWRlZmF1bHRNb2RlICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaXMoIFwiOmhpZGRlblwiICkgPyBtb2RlID09PSBcImhpZGVcIiA6IG1vZGUgPT09IFwic2hvd1wiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbCB0aGUgY29yZSBtZXRob2QgdG8gdHJhY2sgXCJvbGRkaXNwbGF5XCIgcHJvcGVybHlcblx0XHRcdFx0XHRlbGVtWyBtb2RlIF0oKTtcblx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWZmZWN0TWV0aG9kLmNhbGwoIGVsZW1bIDAgXSwgYXJncywgZG9uZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGFyZ3MubW9kZSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYWxsIHRoZSBjb3JlIG1ldGhvZCB0byB0cmFjayBcIm9sZGRpc3BsYXlcIiBwcm9wZXJseVxuXHRcdFx0XHRcdGVsZW1bIG1vZGUgXSgpO1xuXHRcdFx0XHRcdGRvbmUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlZmZlY3RNZXRob2QuY2FsbCggZWxlbVsgMCBdLCBhcmdzLCBjbGVhbnVwICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSdW4gcHJlZmlsdGVyIG9uIGFsbCBlbGVtZW50cyBmaXJzdCB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIGFueSBzaG93aW5nIG9yIGhpZGluZyBoYXBwZW5zIGJlZm9yZSBwbGFjZWhvbGRlciBjcmVhdGlvbixcblx0XHQvLyB3aGljaCBlbnN1cmVzIHRoYXQgYW55IGxheW91dCBjaGFuZ2VzIGFyZSBjb3JyZWN0bHkgY2FwdHVyZWQuXG5cdFx0cmV0dXJuIHF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIHByZWZpbHRlciApLmVhY2goIHJ1biApIDpcblx0XHRcdHRoaXMucXVldWUoIHF1ZXVlTmFtZSwgcHJlZmlsdGVyICkucXVldWUoIHF1ZXVlTmFtZSwgcnVuICk7XG5cdH0sXG5cblx0c2hvdzogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIG9wdGlvbiApIHtcblx0XHRcdGlmICggc3RhbmRhcmRBbmltYXRpb25PcHRpb24oIG9wdGlvbiApICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYXJncyA9IF9ub3JtYWxpemVBcmd1bWVudHMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRhcmdzLm1vZGUgPSBcInNob3dcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4uc2hvdyApLFxuXG5cdGhpZGU6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJoaWRlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLmhpZGUgKSxcblxuXHR0b2dnbGU6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSB8fCB0eXBlb2Ygb3B0aW9uID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJ0b2dnbGVcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4udG9nZ2xlICksXG5cblx0Y3NzVW5pdDogZnVuY3Rpb24oIGtleSApIHtcblx0XHR2YXIgc3R5bGUgPSB0aGlzLmNzcygga2V5ICksXG5cdFx0XHR2YWwgPSBbXTtcblxuXHRcdCQuZWFjaCggWyBcImVtXCIsIFwicHhcIiwgXCIlXCIsIFwicHRcIiBdLCBmdW5jdGlvbiggaSwgdW5pdCApIHtcblx0XHRcdGlmICggc3R5bGUuaW5kZXhPZiggdW5pdCApID4gMCApIHtcblx0XHRcdFx0dmFsID0gWyBwYXJzZUZsb2F0KCBzdHlsZSApLCB1bml0IF07XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB2YWw7XG5cdH0sXG5cblx0Y3NzQ2xpcDogZnVuY3Rpb24oIGNsaXBPYmogKSB7XG5cdFx0aWYgKCBjbGlwT2JqICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3NzKCBcImNsaXBcIiwgXCJyZWN0KFwiICsgY2xpcE9iai50b3AgKyBcInB4IFwiICsgY2xpcE9iai5yaWdodCArIFwicHggXCIgK1xuXHRcdFx0XHRjbGlwT2JqLmJvdHRvbSArIFwicHggXCIgKyBjbGlwT2JqLmxlZnQgKyBcInB4KVwiICk7XG5cdFx0fVxuXHRcdHJldHVybiBwYXJzZUNsaXAoIHRoaXMuY3NzKCBcImNsaXBcIiApLCB0aGlzICk7XG5cdH0sXG5cblx0dHJhbnNmZXI6IGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdFx0dGFyZ2V0ID0gJCggb3B0aW9ucy50byApLFxuXHRcdFx0dGFyZ2V0Rml4ZWQgPSB0YXJnZXQuY3NzKCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiLFxuXHRcdFx0Ym9keSA9ICQoIFwiYm9keVwiICksXG5cdFx0XHRmaXhUb3AgPSB0YXJnZXRGaXhlZCA/IGJvZHkuc2Nyb2xsVG9wKCkgOiAwLFxuXHRcdFx0Zml4TGVmdCA9IHRhcmdldEZpeGVkID8gYm9keS5zY3JvbGxMZWZ0KCkgOiAwLFxuXHRcdFx0ZW5kUG9zaXRpb24gPSB0YXJnZXQub2Zmc2V0KCksXG5cdFx0XHRhbmltYXRpb24gPSB7XG5cdFx0XHRcdHRvcDogZW5kUG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0XHRsZWZ0OiBlbmRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdFx0aGVpZ2h0OiB0YXJnZXQuaW5uZXJIZWlnaHQoKSxcblx0XHRcdFx0d2lkdGg6IHRhcmdldC5pbm5lcldpZHRoKClcblx0XHRcdH0sXG5cdFx0XHRzdGFydFBvc2l0aW9uID0gZWxlbWVudC5vZmZzZXQoKSxcblx0XHRcdHRyYW5zZmVyID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1lZmZlY3RzLXRyYW5zZmVyJz48L2Rpdj5cIiApXG5cdFx0XHRcdC5hcHBlbmRUbyggXCJib2R5XCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIG9wdGlvbnMuY2xhc3NOYW1lIClcblx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdHRvcDogc3RhcnRQb3NpdGlvbi50b3AgLSBmaXhUb3AsXG5cdFx0XHRcdFx0bGVmdDogc3RhcnRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQuaW5uZXJIZWlnaHQoKSxcblx0XHRcdFx0XHR3aWR0aDogZWxlbWVudC5pbm5lcldpZHRoKCksXG5cdFx0XHRcdFx0cG9zaXRpb246IHRhcmdldEZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiXG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dHJhbnNmZXIucmVtb3ZlKCk7XG5cdFx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGRvbmUgKSApIHtcblx0XHRcdFx0XHRcdGRvbmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBwYXJzZUNsaXAoIHN0ciwgZWxlbWVudCApIHtcblx0XHR2YXIgb3V0ZXJXaWR0aCA9IGVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0b3V0ZXJIZWlnaHQgPSBlbGVtZW50Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRjbGlwUmVnZXggPSAvXnJlY3RcXCgoLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pLD9cXHMqKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKSw/XFxzKigtP1xcZCpcXC4/XFxkKnB4fC0/XFxkKyV8YXV0byksP1xccyooLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pXFwpJC8sXG5cdFx0XHR2YWx1ZXMgPSBjbGlwUmVnZXguZXhlYyggc3RyICkgfHwgWyBcIlwiLCAwLCBvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgMCBdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcGFyc2VGbG9hdCggdmFsdWVzWyAxIF0gKSB8fCAwLFxuXHRcdFx0cmlnaHQ6IHZhbHVlc1sgMiBdID09PSBcImF1dG9cIiA/IG91dGVyV2lkdGggOiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDIgXSApLFxuXHRcdFx0Ym90dG9tOiB2YWx1ZXNbIDMgXSA9PT0gXCJhdXRvXCIgPyBvdXRlckhlaWdodCA6IHBhcnNlRmxvYXQoIHZhbHVlc1sgMyBdICksXG5cdFx0XHRsZWZ0OiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDQgXSApIHx8IDBcblx0XHR9O1xufVxuXG4kLmZ4LnN0ZXAuY2xpcCA9IGZ1bmN0aW9uKCBmeCApIHtcblx0aWYgKCAhZnguY2xpcEluaXQgKSB7XG5cdFx0Znguc3RhcnQgPSAkKCBmeC5lbGVtICkuY3NzQ2xpcCgpO1xuXHRcdGlmICggdHlwZW9mIGZ4LmVuZCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ4LmVuZCA9IHBhcnNlQ2xpcCggZnguZW5kLCBmeC5lbGVtICk7XG5cdFx0fVxuXHRcdGZ4LmNsaXBJbml0ID0gdHJ1ZTtcblx0fVxuXG5cdCQoIGZ4LmVsZW0gKS5jc3NDbGlwKCB7XG5cdFx0dG9wOiBmeC5wb3MgKiAoIGZ4LmVuZC50b3AgLSBmeC5zdGFydC50b3AgKSArIGZ4LnN0YXJ0LnRvcCxcblx0XHRyaWdodDogZngucG9zICogKCBmeC5lbmQucmlnaHQgLSBmeC5zdGFydC5yaWdodCApICsgZnguc3RhcnQucmlnaHQsXG5cdFx0Ym90dG9tOiBmeC5wb3MgKiAoIGZ4LmVuZC5ib3R0b20gLSBmeC5zdGFydC5ib3R0b20gKSArIGZ4LnN0YXJ0LmJvdHRvbSxcblx0XHRsZWZ0OiBmeC5wb3MgKiAoIGZ4LmVuZC5sZWZ0IC0gZnguc3RhcnQubGVmdCApICsgZnguc3RhcnQubGVmdFxuXHR9ICk7XG59O1xuXG59ICkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFQVNJTkcgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4oIGZ1bmN0aW9uKCkge1xuXG4vLyBCYXNlZCBvbiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxudmFyIGJhc2VFYXNpbmdzID0ge307XG5cbiQuZWFjaCggWyBcIlF1YWRcIiwgXCJDdWJpY1wiLCBcIlF1YXJ0XCIsIFwiUXVpbnRcIiwgXCJFeHBvXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGJhc2VFYXNpbmdzWyBuYW1lIF0gPSBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gTWF0aC5wb3coIHAsIGkgKyAyICk7XG5cdH07XG59ICk7XG5cbiQuZXh0ZW5kKCBiYXNlRWFzaW5ncywge1xuXHRTaW5lOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMSAtIE1hdGguY29zKCBwICogTWF0aC5QSSAvIDIgKTtcblx0fSxcblx0Q2lyYzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLnNxcnQoIDEgLSBwICogcCApO1xuXHR9LFxuXHRFbGFzdGljOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcCA9PT0gMCB8fCBwID09PSAxID8gcCA6XG5cdFx0XHQtTWF0aC5wb3coIDIsIDggKiAoIHAgLSAxICkgKSAqIE1hdGguc2luKCAoICggcCAtIDEgKSAqIDgwIC0gNy41ICkgKiBNYXRoLlBJIC8gMTUgKTtcblx0fSxcblx0QmFjazogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgKiBwICogKCAzICogcCAtIDIgKTtcblx0fSxcblx0Qm91bmNlOiBmdW5jdGlvbiggcCApIHtcblx0XHR2YXIgcG93Mixcblx0XHRcdGJvdW5jZSA9IDQ7XG5cblx0XHR3aGlsZSAoIHAgPCAoICggcG93MiA9IE1hdGgucG93KCAyLCAtLWJvdW5jZSApICkgLSAxICkgLyAxMSApIHt9XG5cdFx0cmV0dXJuIDEgLyBNYXRoLnBvdyggNCwgMyAtIGJvdW5jZSApIC0gNy41NjI1ICogTWF0aC5wb3coICggcG93MiAqIDMgLSAyICkgLyAyMiAtIHAsIDIgKTtcblx0fVxufSApO1xuXG4kLmVhY2goIGJhc2VFYXNpbmdzLCBmdW5jdGlvbiggbmFtZSwgZWFzZUluICkge1xuXHQkLmVhc2luZ1sgXCJlYXNlSW5cIiArIG5hbWUgXSA9IGVhc2VJbjtcblx0JC5lYXNpbmdbIFwiZWFzZU91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBlYXNlSW4oIDEgLSBwICk7XG5cdH07XG5cdCQuZWFzaW5nWyBcImVhc2VJbk91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPCAwLjUgP1xuXHRcdFx0ZWFzZUluKCBwICogMiApIC8gMiA6XG5cdFx0XHQxIC0gZWFzZUluKCBwICogLTIgKyAyICkgLyAyO1xuXHR9O1xufSApO1xuXG59ICkoKTtcblxucmV0dXJuICQuZWZmZWN0cztcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEJsaW5kIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBCbGluZCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBCbGluZHMgdGhlIGVsZW1lbnQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYmxpbmQtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImJsaW5kXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIG1hcCA9IHtcblx0XHRcdHVwOiBbIFwiYm90dG9tXCIsIFwidG9wXCIgXSxcblx0XHRcdHZlcnRpY2FsOiBbIFwiYm90dG9tXCIsIFwidG9wXCIgXSxcblx0XHRcdGRvd246IFsgXCJ0b3BcIiwgXCJib3R0b21cIiBdLFxuXHRcdFx0bGVmdDogWyBcInJpZ2h0XCIsIFwibGVmdFwiIF0sXG5cdFx0XHRob3Jpem9udGFsOiBbIFwicmlnaHRcIiwgXCJsZWZ0XCIgXSxcblx0XHRcdHJpZ2h0OiBbIFwibGVmdFwiLCBcInJpZ2h0XCIgXVxuXHRcdH0sXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcInVwXCIsXG5cdFx0c3RhcnQgPSBlbGVtZW50LmNzc0NsaXAoKSxcblx0XHRhbmltYXRlID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblx0XHRwbGFjZWhvbGRlciA9ICQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGFuaW1hdGUuY2xpcFsgbWFwWyBkaXJlY3Rpb24gXVsgMCBdIF0gPSBhbmltYXRlLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDEgXSBdO1xuXG5cdGlmICggb3B0aW9ucy5tb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbGVtZW50LmNzc0NsaXAoIGFuaW1hdGUuY2xpcCApO1xuXHRcdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRwbGFjZWhvbGRlci5jc3MoICQuZWZmZWN0cy5jbGlwVG9Cb3goIGFuaW1hdGUgKSApO1xuXHRcdH1cblxuXHRcdGFuaW1hdGUuY2xpcCA9IHN0YXJ0O1xuXHR9XG5cblx0aWYgKCBwbGFjZWhvbGRlciApIHtcblx0XHRwbGFjZWhvbGRlci5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRlICksIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdH1cblxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGUsIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCb3VuY2UgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEJvdW5jZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBCb3VuY2VzIGFuIGVsZW1lbnQgaG9yaXpvbnRhbGx5IG9yIHZlcnRpY2FsbHkgbiB0aW1lcy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9ib3VuY2UtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImJvdW5jZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHVwQW5pbSwgZG93bkFuaW0sIHJlZlZhbHVlLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cblx0XHQvLyBEZWZhdWx0czpcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ1cFwiLFxuXHRcdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSxcblx0XHR0aW1lcyA9IG9wdGlvbnMudGltZXMgfHwgNSxcblxuXHRcdC8vIE51bWJlciBvZiBpbnRlcm5hbCBhbmltYXRpb25zXG5cdFx0YW5pbXMgPSB0aW1lcyAqIDIgKyAoIHNob3cgfHwgaGlkZSA/IDEgOiAwICksXG5cdFx0c3BlZWQgPSBvcHRpb25zLmR1cmF0aW9uIC8gYW5pbXMsXG5cdFx0ZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcsXG5cblx0XHQvLyBVdGlsaXR5OlxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApLFxuXHRcdGkgPSAwLFxuXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdHJlZlZhbHVlID0gZWxlbWVudC5jc3MoIHJlZiApO1xuXG5cdC8vIERlZmF1bHQgZGlzdGFuY2UgZm9yIHRoZSBCSUdHRVNUIGJvdW5jZSBpcyB0aGUgb3V0ZXIgRGlzdGFuY2UgLyAzXG5cdGlmICggIWRpc3RhbmNlICkge1xuXHRcdGRpc3RhbmNlID0gZWxlbWVudFsgcmVmID09PSBcInRvcFwiID8gXCJvdXRlckhlaWdodFwiIDogXCJvdXRlcldpZHRoXCIgXSgpIC8gMztcblx0fVxuXG5cdGlmICggc2hvdyApIHtcblx0XHRkb3duQW5pbSA9IHsgb3BhY2l0eTogMSB9O1xuXHRcdGRvd25BbmltWyByZWYgXSA9IHJlZlZhbHVlO1xuXG5cdFx0Ly8gSWYgd2UgYXJlIHNob3dpbmcsIGZvcmNlIG9wYWNpdHkgMCBhbmQgc2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdFx0Ly8gdGhlbiBkbyB0aGUgXCJmaXJzdFwiIGFuaW1hdGlvblxuXHRcdGVsZW1lbnRcblx0XHRcdC5jc3MoIFwib3BhY2l0eVwiLCAwIClcblx0XHRcdC5jc3MoIHJlZiwgbW90aW9uID8gLWRpc3RhbmNlICogMiA6IGRpc3RhbmNlICogMiApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblx0fVxuXG5cdC8vIFN0YXJ0IGF0IHRoZSBzbWFsbGVzdCBkaXN0YW5jZSBpZiB3ZSBhcmUgaGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHRkaXN0YW5jZSA9IGRpc3RhbmNlIC8gTWF0aC5wb3coIDIsIHRpbWVzIC0gMSApO1xuXHR9XG5cblx0ZG93bkFuaW0gPSB7fTtcblx0ZG93bkFuaW1bIHJlZiBdID0gcmVmVmFsdWU7XG5cblx0Ly8gQm91bmNlcyB1cC9kb3duL2xlZnQvcmlnaHQgdGhlbiBiYWNrIHRvIDAgLS0gdGltZXMgKiAyIGFuaW1hdGlvbnMgaGFwcGVuIGhlcmVcblx0Zm9yICggOyBpIDwgdGltZXM7IGkrKyApIHtcblx0XHR1cEFuaW0gPSB7fTtcblx0XHR1cEFuaW1bIHJlZiBdID0gKCBtb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXG5cdFx0ZWxlbWVudFxuXHRcdFx0LmFuaW1hdGUoIHVwQW5pbSwgc3BlZWQsIGVhc2luZyApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblxuXHRcdGRpc3RhbmNlID0gaGlkZSA/IGRpc3RhbmNlICogMiA6IGRpc3RhbmNlIC8gMjtcblx0fVxuXG5cdC8vIExhc3QgQm91bmNlIHdoZW4gSGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHR1cEFuaW0gPSB7IG9wYWNpdHk6IDAgfTtcblx0XHR1cEFuaW1bIHJlZiBdID0gKCBtb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXG5cdFx0ZWxlbWVudC5hbmltYXRlKCB1cEFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblx0fVxuXG5cdGVsZW1lbnQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIGFuaW1zICsgMSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgQ2xpcCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQ2xpcCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBDbGlwcyB0aGUgZWxlbWVudCBvbiBhbmQgb2ZmIGxpa2UgYW4gb2xkIFRWLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NsaXAtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImNsaXBcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgc3RhcnQsXG5cdFx0YW5pbWF0ZSA9IHt9LFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ2ZXJ0aWNhbFwiLFxuXHRcdGJvdGggPSBkaXJlY3Rpb24gPT09IFwiYm90aFwiLFxuXHRcdGhvcml6b250YWwgPSBib3RoIHx8IGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIsXG5cdFx0dmVydGljYWwgPSBib3RoIHx8IGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiO1xuXG5cdHN0YXJ0ID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdGFuaW1hdGUuY2xpcCA9IHtcblx0XHR0b3A6IHZlcnRpY2FsID8gKCBzdGFydC5ib3R0b20gLSBzdGFydC50b3AgKSAvIDIgOiBzdGFydC50b3AsXG5cdFx0cmlnaHQ6IGhvcml6b250YWwgPyAoIHN0YXJ0LnJpZ2h0IC0gc3RhcnQubGVmdCApIC8gMiA6IHN0YXJ0LnJpZ2h0LFxuXHRcdGJvdHRvbTogdmVydGljYWwgPyAoIHN0YXJ0LmJvdHRvbSAtIHN0YXJ0LnRvcCApIC8gMiA6IHN0YXJ0LmJvdHRvbSxcblx0XHRsZWZ0OiBob3Jpem9udGFsID8gKCBzdGFydC5yaWdodCAtIHN0YXJ0LmxlZnQgKSAvIDIgOiBzdGFydC5sZWZ0XG5cdH07XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0aWYgKCBvcHRpb25zLm1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdGVsZW1lbnQuY3NzQ2xpcCggYW5pbWF0ZS5jbGlwICk7XG5cdFx0YW5pbWF0ZS5jbGlwID0gc3RhcnQ7XG5cdH1cblxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGUsIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9ICk7XG5cbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIERyb3AgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IERyb3AgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogTW92ZXMgYW4gZWxlbWVudCBpbiBvbmUgZGlyZWN0aW9uIGFuZCBoaWRlcyBpdCBhdCB0aGUgc2FtZSB0aW1lLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3AtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImRyb3BcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdHZhciBkaXN0YW5jZSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdG9wcG9zaXRlTW90aW9uID0gKCBtb3Rpb24gPT09IFwiKz1cIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdG9wYWNpdHk6IDBcblx0XHR9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSB8fFxuXHRcdGVsZW1lbnRbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKSAvIDI7XG5cblx0YW5pbWF0aW9uWyByZWYgXSA9IG1vdGlvbiArIGRpc3RhbmNlO1xuXG5cdGlmICggc2hvdyApIHtcblx0XHRlbGVtZW50LmNzcyggYW5pbWF0aW9uICk7XG5cblx0XHRhbmltYXRpb25bIHJlZiBdID0gb3Bwb3NpdGVNb3Rpb24gKyBkaXN0YW5jZTtcblx0XHRhbmltYXRpb24ub3BhY2l0eSA9IDE7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRXhwbG9kZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRXhwbG9kZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IEV4cGxvZGVzIGFuIGVsZW1lbnQgaW4gYWxsIGRpcmVjdGlvbnMgaW50byBuIHBpZWNlcy4gSW1wbG9kZXMgYW4gZWxlbWVudCB0byBpdHMgb3JpZ2luYWwgd2hvbGVuZXNzLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9leHBsb2RlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJleHBsb2RlXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHR2YXIgaSwgaiwgbGVmdCwgdG9wLCBteCwgbXksXG5cdFx0cm93cyA9IG9wdGlvbnMucGllY2VzID8gTWF0aC5yb3VuZCggTWF0aC5zcXJ0KCBvcHRpb25zLnBpZWNlcyApICkgOiAzLFxuXHRcdGNlbGxzID0gcm93cyxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXG5cdFx0Ly8gU2hvdyBhbmQgdGhlbiB2aXNpYmlsaXR5OmhpZGRlbiB0aGUgZWxlbWVudCBiZWZvcmUgY2FsY3VsYXRpbmcgb2Zmc2V0XG5cdFx0b2Zmc2V0ID0gZWxlbWVudC5zaG93KCkuY3NzKCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIiApLm9mZnNldCgpLFxuXG5cdFx0Ly8gV2lkdGggYW5kIGhlaWdodCBvZiBhIHBpZWNlXG5cdFx0d2lkdGggPSBNYXRoLmNlaWwoIGVsZW1lbnQub3V0ZXJXaWR0aCgpIC8gY2VsbHMgKSxcblx0XHRoZWlnaHQgPSBNYXRoLmNlaWwoIGVsZW1lbnQub3V0ZXJIZWlnaHQoKSAvIHJvd3MgKSxcblx0XHRwaWVjZXMgPSBbXTtcblxuXHQvLyBDaGlsZHJlbiBhbmltYXRlIGNvbXBsZXRlOlxuXHRmdW5jdGlvbiBjaGlsZENvbXBsZXRlKCkge1xuXHRcdHBpZWNlcy5wdXNoKCB0aGlzICk7XG5cdFx0aWYgKCBwaWVjZXMubGVuZ3RoID09PSByb3dzICogY2VsbHMgKSB7XG5cdFx0XHRhbmltQ29tcGxldGUoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbG9uZSB0aGUgZWxlbWVudCBmb3IgZWFjaCByb3cgYW5kIGNlbGwuXG5cdGZvciAoIGkgPSAwOyBpIDwgcm93czsgaSsrICkgeyAvLyA9PT0+XG5cdFx0dG9wID0gb2Zmc2V0LnRvcCArIGkgKiBoZWlnaHQ7XG5cdFx0bXkgPSBpIC0gKCByb3dzIC0gMSApIC8gMjtcblxuXHRcdGZvciAoIGogPSAwOyBqIDwgY2VsbHM7IGorKyApIHsgLy8gfHx8XG5cdFx0XHRsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBqICogd2lkdGg7XG5cdFx0XHRteCA9IGogLSAoIGNlbGxzIC0gMSApIC8gMjtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG5vdyBoaWRkZW4gbWFpbiBlbGVtZW50IHRoYXQgd2lsbCBiZSBhYnNvbHV0ZSBwb3NpdGlvbmVkXG5cdFx0XHQvLyB3aXRoaW4gYSB3cmFwcGVyIGRpdiBvZmYgdGhlIC1sZWZ0IGFuZCAtdG9wIGVxdWFsIHRvIHNpemUgb2Ygb3VyIHBpZWNlc1xuXHRcdFx0ZWxlbWVudFxuXHRcdFx0XHQuY2xvbmUoKVxuXHRcdFx0XHQuYXBwZW5kVG8oIFwiYm9keVwiIClcblx0XHRcdFx0LndyYXAoIFwiPGRpdj48L2Rpdj5cIiApXG5cdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdHZpc2liaWxpdHk6IFwidmlzaWJsZVwiLFxuXHRcdFx0XHRcdGxlZnQ6IC1qICogd2lkdGgsXG5cdFx0XHRcdFx0dG9wOiAtaSAqIGhlaWdodFxuXHRcdFx0XHR9IClcblxuXHRcdFx0XHQvLyBTZWxlY3QgdGhlIHdyYXBwZXIgLSBtYWtlIGl0IG92ZXJmbG93OiBoaWRkZW4gYW5kIGFic29sdXRlIHBvc2l0aW9uZWQgYmFzZWQgb25cblx0XHRcdFx0Ly8gd2hlcmUgdGhlIG9yaWdpbmFsIHdhcyBsb2NhdGVkICtsZWZ0IGFuZCArdG9wIGVxdWFsIHRvIHRoZSBzaXplIG9mIHBpZWNlc1xuXHRcdFx0XHQucGFyZW50KClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy1leHBsb2RlXCIgKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcblx0XHRcdFx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0XHRcdFx0bGVmdDogbGVmdCArICggc2hvdyA/IG14ICogd2lkdGggOiAwICksXG5cdFx0XHRcdFx0XHR0b3A6IHRvcCArICggc2hvdyA/IG15ICogaGVpZ2h0IDogMCApLFxuXHRcdFx0XHRcdFx0b3BhY2l0eTogc2hvdyA/IDAgOiAxXG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0LmFuaW1hdGUoIHtcblx0XHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAoIHNob3cgPyAwIDogbXggKiB3aWR0aCApLFxuXHRcdFx0XHRcdFx0dG9wOiB0b3AgKyAoIHNob3cgPyAwIDogbXkgKiBoZWlnaHQgKSxcblx0XHRcdFx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdFx0XHRcdH0sIG9wdGlvbnMuZHVyYXRpb24gfHwgNTAwLCBvcHRpb25zLmVhc2luZywgY2hpbGRDb21wbGV0ZSApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFuaW1Db21wbGV0ZSgpIHtcblx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0dmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcblx0XHR9ICk7XG5cdFx0JCggcGllY2VzICkucmVtb3ZlKCk7XG5cdFx0ZG9uZSgpO1xuXHR9XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGYWRlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBGYWRlIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEZhZGVzIHRoZSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZhZGUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImZhZGVcIiwgXCJ0b2dnbGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBzaG93ID0gb3B0aW9ucy5tb2RlID09PSBcInNob3dcIjtcblxuXHQkKCB0aGlzIClcblx0XHQuY3NzKCBcIm9wYWNpdHlcIiwgc2hvdyA/IDAgOiAxIClcblx0XHQuYW5pbWF0ZSgge1xuXHRcdFx0b3BhY2l0eTogc2hvdyA/IDEgOiAwXG5cdFx0fSwge1xuXHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdFx0Y29tcGxldGU6IGRvbmVcblx0XHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGb2xkIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBGb2xkIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEZvbGRzIGFuIGVsZW1lbnQgZmlyc3QgaG9yaXpvbnRhbGx5IGFuZCB0aGVuIHZlcnRpY2FsbHkuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9sZC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwiZm9sZFwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNpemUgPSBvcHRpb25zLnNpemUgfHwgMTUsXG5cdFx0cGVyY2VudCA9IC8oWzAtOV0rKSUvLmV4ZWMoIHNpemUgKSxcblx0XHRob3JpekZpcnN0ID0gISFvcHRpb25zLmhvcml6Rmlyc3QsXG5cdFx0cmVmID0gaG9yaXpGaXJzdCA/IFsgXCJyaWdodFwiLCBcImJvdHRvbVwiIF0gOiBbIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLFxuXHRcdGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIDIsXG5cblx0XHRwbGFjZWhvbGRlciA9ICQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApLFxuXG5cdFx0c3RhcnQgPSBlbGVtZW50LmNzc0NsaXAoKSxcblx0XHRhbmltYXRpb24xID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblx0XHRhbmltYXRpb24yID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblxuXHRcdGRpc3RhbmNlID0gWyBzdGFydFsgcmVmWyAwIF0gXSwgc3RhcnRbIHJlZlsgMSBdIF0gXSxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHRpZiAoIHBlcmNlbnQgKSB7XG5cdFx0c2l6ZSA9IHBhcnNlSW50KCBwZXJjZW50WyAxIF0sIDEwICkgLyAxMDAgKiBkaXN0YW5jZVsgaGlkZSA/IDAgOiAxIF07XG5cdH1cblx0YW5pbWF0aW9uMS5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDEgXSBdID0gMDtcblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRpb24yLmNsaXAgKTtcblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIuY3NzKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24yICkgKTtcblx0XHR9XG5cblx0XHRhbmltYXRpb24yLmNsaXAgPSBzdGFydDtcblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWxlbWVudFxuXHRcdC5xdWV1ZSggZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0XHRwbGFjZWhvbGRlclxuXHRcdFx0XHRcdC5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24xICksIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApXG5cdFx0XHRcdFx0LmFuaW1hdGUoICQuZWZmZWN0cy5jbGlwVG9Cb3goIGFuaW1hdGlvbjIgKSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdFx0XHR9XG5cblx0XHRcdG5leHQoKTtcblx0XHR9IClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMiwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIDQgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEhpZ2hsaWdodCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogSGlnaGxpZ2h0IEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEhpZ2hsaWdodHMgdGhlIGJhY2tncm91bmQgb2YgYW4gZWxlbWVudCBpbiBhIGRlZmluZWQgY29sb3IgZm9yIGEgY3VzdG9tIGR1cmF0aW9uLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2hpZ2hsaWdodC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwiaGlnaGxpZ2h0XCIsIFwic2hvd1wiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0YW5pbWF0aW9uID0ge1xuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBlbGVtZW50LmNzcyggXCJiYWNrZ3JvdW5kQ29sb3JcIiApXG5cdFx0fTtcblxuXHRpZiAoIG9wdGlvbnMubW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0YW5pbWF0aW9uLm9wYWNpdHkgPSAwO1xuXHR9XG5cblx0JC5lZmZlY3RzLnNhdmVTdHlsZSggZWxlbWVudCApO1xuXG5cdGVsZW1lbnRcblx0XHQuY3NzKCB7XG5cdFx0XHRiYWNrZ3JvdW5kSW1hZ2U6IFwibm9uZVwiLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmNvbG9yIHx8IFwiI2ZmZmY5OVwiXG5cdFx0fSApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdFx0Y29tcGxldGU6IGRvbmVcblx0XHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBQdWZmIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBQdWZmIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IENyZWF0ZXMgYSBwdWZmIGVmZmVjdCBieSBzY2FsaW5nIHRoZSBlbGVtZW50IHVwIGFuZCBoaWRpbmcgaXQgYXQgdGhlIHNhbWUgdGltZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWZmLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiLFxuXHRcdFx0XCIuL2VmZmVjdC1zY2FsZVwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJwdWZmXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIG5ld09wdGlvbnMgPSAkLmV4dGVuZCggdHJ1ZSwge30sIG9wdGlvbnMsIHtcblx0XHRmYWRlOiB0cnVlLFxuXHRcdHBlcmNlbnQ6IHBhcnNlSW50KCBvcHRpb25zLnBlcmNlbnQsIDEwICkgfHwgMTUwXG5cdH0gKTtcblxuXHQkLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwoIHRoaXMsIG5ld09wdGlvbnMsIGRvbmUgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFB1bHNhdGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFB1bHNhdGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogUHVsc2F0ZXMgYW4gZWxlbWVudCBuIHRpbWVzIGJ5IGNoYW5naW5nIHRoZSBvcGFjaXR5IHRvIHplcm8gYW5kIGJhY2suXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHVsc2F0ZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwicHVsc2F0ZVwiLCBcInNob3dcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaG93aGlkZSA9IHNob3cgfHwgaGlkZSxcblxuXHRcdC8vIFNob3dpbmcgb3IgaGlkaW5nIGxlYXZlcyBvZmYgdGhlIFwibGFzdFwiIGFuaW1hdGlvblxuXHRcdGFuaW1zID0gKCAoIG9wdGlvbnMudGltZXMgfHwgNSApICogMiApICsgKCBzaG93aGlkZSA/IDEgOiAwICksXG5cdFx0ZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIC8gYW5pbXMsXG5cdFx0YW5pbWF0ZVRvID0gMCxcblx0XHRpID0gMSxcblx0XHRxdWV1ZWxlbiA9IGVsZW1lbnQucXVldWUoKS5sZW5ndGg7XG5cblx0aWYgKCBzaG93IHx8ICFlbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRlbGVtZW50LmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KCk7XG5cdFx0YW5pbWF0ZVRvID0gMTtcblx0fVxuXG5cdC8vIEFuaW1zIC0gMSBvcGFjaXR5IFwidG9nZ2xlc1wiXG5cdGZvciAoIDsgaSA8IGFuaW1zOyBpKysgKSB7XG5cdFx0ZWxlbWVudC5hbmltYXRlKCB7IG9wYWNpdHk6IGFuaW1hdGVUbyB9LCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcgKTtcblx0XHRhbmltYXRlVG8gPSAxIC0gYW5pbWF0ZVRvO1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCB7IG9wYWNpdHk6IGFuaW1hdGVUbyB9LCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcgKTtcblxuXHRlbGVtZW50LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCBhbmltcyArIDEgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNjYWxlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTY2FsZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBHcm93cyBvciBzaHJpbmtzIGFuIGVsZW1lbnQgYW5kIGl0cyBjb250ZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NjYWxlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiLFxuXHRcdFx0XCIuL2VmZmVjdC1zaXplXCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNjYWxlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHBlcmNlbnQgPSBwYXJzZUludCggb3B0aW9ucy5wZXJjZW50LCAxMCApIHx8XG5cdFx0XHQoIHBhcnNlSW50KCBvcHRpb25zLnBlcmNlbnQsIDEwICkgPT09IDAgPyAwIDogKCBtb2RlICE9PSBcImVmZmVjdFwiID8gMCA6IDEwMCApICksXG5cblx0XHRuZXdPcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHtcblx0XHRcdGZyb206ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbCApLFxuXHRcdFx0dG86ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbCwgcGVyY2VudCwgb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJib3RoXCIgKSxcblx0XHRcdG9yaWdpbjogb3B0aW9ucy5vcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF1cblx0XHR9LCBvcHRpb25zICk7XG5cblx0Ly8gRmFkZSBvcHRpb24gdG8gc3VwcG9ydCBwdWZmXG5cdGlmICggb3B0aW9ucy5mYWRlICkge1xuXHRcdG5ld09wdGlvbnMuZnJvbS5vcGFjaXR5ID0gMTtcblx0XHRuZXdPcHRpb25zLnRvLm9wYWNpdHkgPSAwO1xuXHR9XG5cblx0JC5lZmZlY3RzLmVmZmVjdC5zaXplLmNhbGwoIHRoaXMsIG5ld09wdGlvbnMsIGRvbmUgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNoYWtlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTaGFrZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBTaGFrZXMgYW4gZWxlbWVudCBob3Jpem9udGFsbHkgb3IgdmVydGljYWxseSBuIHRpbWVzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NoYWtlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJzaGFrZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHR2YXIgaSA9IDEsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UgfHwgMjAsXG5cdFx0dGltZXMgPSBvcHRpb25zLnRpbWVzIHx8IDMsXG5cdFx0YW5pbXMgPSB0aW1lcyAqIDIgKyAxLFxuXHRcdHNwZWVkID0gTWF0aC5yb3VuZCggb3B0aW9ucy5kdXJhdGlvbiAvIGFuaW1zICksXG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0cG9zaXRpdmVNb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSxcblx0XHRhbmltYXRpb24gPSB7fSxcblx0XHRhbmltYXRpb24xID0ge30sXG5cdFx0YW5pbWF0aW9uMiA9IHt9LFxuXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdC8vIEFuaW1hdGlvblxuXHRhbmltYXRpb25bIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cdGFuaW1hdGlvbjFbIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiKz1cIiA6IFwiLT1cIiApICsgZGlzdGFuY2UgKiAyO1xuXHRhbmltYXRpb24yWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlICogMjtcblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCBzcGVlZCwgb3B0aW9ucy5lYXNpbmcgKTtcblxuXHQvLyBTaGFrZXNcblx0Zm9yICggOyBpIDwgdGltZXM7IGkrKyApIHtcblx0XHRlbGVtZW50XG5cdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nIClcblx0XHRcdC5hbmltYXRlKCBhbmltYXRpb24yLCBzcGVlZCwgb3B0aW9ucy5lYXNpbmcgKTtcblx0fVxuXG5cdGVsZW1lbnRcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nIClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCBzcGVlZCAvIDIsIG9wdGlvbnMuZWFzaW5nIClcblx0XHQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIGFuaW1zICsgMSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgU2l6ZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2l6ZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBSZXNpemUgYW4gZWxlbWVudCB0byBhIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NpemUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNpemVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGJhc2VsaW5lLCBmYWN0b3IsIHRlbXAsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblxuXHRcdC8vIENvcHkgZm9yIGNoaWxkcmVuXG5cdFx0Y1Byb3BzID0gWyBcImZvbnRTaXplXCIgXSxcblx0XHR2UHJvcHMgPSBbIFwiYm9yZGVyVG9wV2lkdGhcIiwgXCJib3JkZXJCb3R0b21XaWR0aFwiLCBcInBhZGRpbmdUb3BcIiwgXCJwYWRkaW5nQm90dG9tXCIgXSxcblx0XHRoUHJvcHMgPSBbIFwiYm9yZGVyTGVmdFdpZHRoXCIsIFwiYm9yZGVyUmlnaHRXaWR0aFwiLCBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1JpZ2h0XCIgXSxcblxuXHRcdC8vIFNldCBvcHRpb25zXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRyZXN0b3JlID0gbW9kZSAhPT0gXCJlZmZlY3RcIixcblx0XHRzY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgXCJib3RoXCIsXG5cdFx0b3JpZ2luID0gb3B0aW9ucy5vcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF0sXG5cdFx0cG9zaXRpb24gPSBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0cG9zID0gZWxlbWVudC5wb3NpdGlvbigpLFxuXHRcdG9yaWdpbmFsID0gJC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoIGVsZW1lbnQgKSxcblx0XHRmcm9tID0gb3B0aW9ucy5mcm9tIHx8IG9yaWdpbmFsLFxuXHRcdHRvID0gb3B0aW9ucy50byB8fCAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWxlbWVudCwgMCApO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGlmICggbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0dGVtcCA9IGZyb207XG5cdFx0ZnJvbSA9IHRvO1xuXHRcdHRvID0gdGVtcDtcblx0fVxuXG5cdC8vIFNldCBzY2FsaW5nIGZhY3RvclxuXHRmYWN0b3IgPSB7XG5cdFx0ZnJvbToge1xuXHRcdFx0eTogZnJvbS5oZWlnaHQgLyBvcmlnaW5hbC5oZWlnaHQsXG5cdFx0XHR4OiBmcm9tLndpZHRoIC8gb3JpZ2luYWwud2lkdGhcblx0XHR9LFxuXHRcdHRvOiB7XG5cdFx0XHR5OiB0by5oZWlnaHQgLyBvcmlnaW5hbC5oZWlnaHQsXG5cdFx0XHR4OiB0by53aWR0aCAvIG9yaWdpbmFsLndpZHRoXG5cdFx0fVxuXHR9O1xuXG5cdC8vIFNjYWxlIHRoZSBjc3MgYm94XG5cdGlmICggc2NhbGUgPT09IFwiYm94XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRmcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgZnJvbSApO1xuXHRcdFx0dG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgdlByb3BzLCBmYWN0b3IudG8ueSwgdG8gKTtcblx0XHR9XG5cblx0XHQvLyBIb3Jpem9udGFsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0ZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCBoUHJvcHMsIGZhY3Rvci5mcm9tLngsIGZyb20gKTtcblx0XHRcdHRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGhQcm9wcywgZmFjdG9yLnRvLngsIHRvICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2NhbGUgdGhlIGNvbnRlbnRcblx0aWYgKCBzY2FsZSA9PT0gXCJjb250ZW50XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRmcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGNQcm9wcywgZmFjdG9yLmZyb20ueSwgZnJvbSApO1xuXHRcdFx0dG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgY1Byb3BzLCBmYWN0b3IudG8ueSwgdG8gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBBZGp1c3QgdGhlIHBvc2l0aW9uIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG9yaWdpbiBwb2ludHNcblx0aWYgKCBvcmlnaW4gKSB7XG5cdFx0YmFzZWxpbmUgPSAkLmVmZmVjdHMuZ2V0QmFzZWxpbmUoIG9yaWdpbiwgb3JpZ2luYWwgKTtcblx0XHRmcm9tLnRvcCA9ICggb3JpZ2luYWwub3V0ZXJIZWlnaHQgLSBmcm9tLm91dGVySGVpZ2h0ICkgKiBiYXNlbGluZS55ICsgcG9zLnRvcDtcblx0XHRmcm9tLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSBmcm9tLm91dGVyV2lkdGggKSAqIGJhc2VsaW5lLnggKyBwb3MubGVmdDtcblx0XHR0by50b3AgPSAoIG9yaWdpbmFsLm91dGVySGVpZ2h0IC0gdG8ub3V0ZXJIZWlnaHQgKSAqIGJhc2VsaW5lLnkgKyBwb3MudG9wO1xuXHRcdHRvLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSB0by5vdXRlcldpZHRoICkgKiBiYXNlbGluZS54ICsgcG9zLmxlZnQ7XG5cdH1cblx0ZWxlbWVudC5jc3MoIGZyb20gKTtcblxuXHQvLyBBbmltYXRlIHRoZSBjaGlsZHJlbiBpZiBkZXNpcmVkXG5cdGlmICggc2NhbGUgPT09IFwiY29udGVudFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHtcblxuXHRcdHZQcm9wcyA9IHZQcm9wcy5jb25jYXQoIFsgXCJtYXJnaW5Ub3BcIiwgXCJtYXJnaW5Cb3R0b21cIiBdICkuY29uY2F0KCBjUHJvcHMgKTtcblx0XHRoUHJvcHMgPSBoUHJvcHMuY29uY2F0KCBbIFwibWFyZ2luTGVmdFwiLCBcIm1hcmdpblJpZ2h0XCIgXSApO1xuXG5cdFx0Ly8gT25seSBhbmltYXRlIGNoaWxkcmVuIHdpdGggd2lkdGggYXR0cmlidXRlcyBzcGVjaWZpZWRcblx0XHQvLyBUT0RPOiBpcyB0aGlzIHJpZ2h0PyBzaG91bGQgd2UgaW5jbHVkZSBhbnl0aGluZyB3aXRoIGNzcyB3aWR0aCBzcGVjaWZpZWQgYXMgd2VsbFxuXHRcdGVsZW1lbnQuZmluZCggXCIqW3dpZHRoXVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2hpbGQgPSAkKCB0aGlzICksXG5cdFx0XHRcdGNoaWxkT3JpZ2luYWwgPSAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggY2hpbGQgKSxcblx0XHRcdFx0Y2hpbGRGcm9tID0ge1xuXHRcdFx0XHRcdGhlaWdodDogY2hpbGRPcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IuZnJvbS55LFxuXHRcdFx0XHRcdHdpZHRoOiBjaGlsZE9yaWdpbmFsLndpZHRoICogZmFjdG9yLmZyb20ueCxcblx0XHRcdFx0XHRvdXRlckhlaWdodDogY2hpbGRPcmlnaW5hbC5vdXRlckhlaWdodCAqIGZhY3Rvci5mcm9tLnksXG5cdFx0XHRcdFx0b3V0ZXJXaWR0aDogY2hpbGRPcmlnaW5hbC5vdXRlcldpZHRoICogZmFjdG9yLmZyb20ueFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjaGlsZFRvID0ge1xuXHRcdFx0XHRcdGhlaWdodDogY2hpbGRPcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IudG8ueSxcblx0XHRcdFx0XHR3aWR0aDogY2hpbGRPcmlnaW5hbC53aWR0aCAqIGZhY3Rvci50by54LFxuXHRcdFx0XHRcdG91dGVySGVpZ2h0OiBjaGlsZE9yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci50by55LFxuXHRcdFx0XHRcdG91dGVyV2lkdGg6IGNoaWxkT3JpZ2luYWwud2lkdGggKiBmYWN0b3IudG8ueFxuXHRcdFx0XHR9O1xuXG5cdFx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0XHRpZiAoIGZhY3Rvci5mcm9tLnkgIT09IGZhY3Rvci50by55ICkge1xuXHRcdFx0XHRjaGlsZEZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgY2hpbGRGcm9tICk7XG5cdFx0XHRcdGNoaWxkVG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIHZQcm9wcywgZmFjdG9yLnRvLnksIGNoaWxkVG8gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9yaXpvbnRhbCBwcm9wcyBzY2FsaW5nXG5cdFx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0XHRjaGlsZEZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLmZyb20ueCwgY2hpbGRGcm9tICk7XG5cdFx0XHRcdGNoaWxkVG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLnRvLngsIGNoaWxkVG8gKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCByZXN0b3JlICkge1xuXHRcdFx0XHQkLmVmZmVjdHMuc2F2ZVN0eWxlKCBjaGlsZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBbmltYXRlIGNoaWxkcmVuXG5cdFx0XHRjaGlsZC5jc3MoIGNoaWxkRnJvbSApO1xuXHRcdFx0Y2hpbGQuYW5pbWF0ZSggY2hpbGRUbywgb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgY2hpbGRyZW5cblx0XHRcdFx0aWYgKCByZXN0b3JlICkge1xuXHRcdFx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlU3R5bGUoIGNoaWxkICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggdG8sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBvZmZzZXQgPSBlbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0XHRpZiAoIHRvLm9wYWNpdHkgPT09IDAgKSB7XG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcIm9wYWNpdHlcIiwgZnJvbS5vcGFjaXR5ICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXJlc3RvcmUgKSB7XG5cdFx0XHRcdGVsZW1lbnRcblx0XHRcdFx0XHQuY3NzKCBcInBvc2l0aW9uXCIsIHBvc2l0aW9uID09PSBcInN0YXRpY1wiID8gXCJyZWxhdGl2ZVwiIDogcG9zaXRpb24gKVxuXHRcdFx0XHRcdC5vZmZzZXQoIG9mZnNldCApO1xuXG5cdFx0XHRcdC8vIE5lZWQgdG8gc2F2ZSBzdHlsZSBoZXJlIHNvIHRoYXQgYXV0b21hdGljIHN0eWxlIHJlc3RvcmF0aW9uXG5cdFx0XHRcdC8vIGRvZXNuJ3QgcmVzdG9yZSB0byB0aGUgb3JpZ2luYWwgc3R5bGVzIGZyb20gYmVmb3JlIHRoZSBhbmltYXRpb24uXG5cdFx0XHRcdCQuZWZmZWN0cy5zYXZlU3R5bGUoIGVsZW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZG9uZSgpO1xuXHRcdH1cblx0fSApO1xuXG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTbGlkZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2xpZGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogU2xpZGVzIGFuIGVsZW1lbnQgaW4gYW5kIG91dCBvZiB0aGUgdmlld3BvcnQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNsaWRlXCIsIFwic2hvd1wiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHN0YXJ0Q2xpcCwgc3RhcnRSZWYsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtYXAgPSB7XG5cdFx0XHR1cDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHRkb3duOiBbIFwidG9wXCIsIFwiYm90dG9tXCIgXSxcblx0XHRcdGxlZnQ6IFsgXCJyaWdodFwiLCBcImxlZnRcIiBdLFxuXHRcdFx0cmlnaHQ6IFsgXCJsZWZ0XCIsIFwicmlnaHRcIiBdXG5cdFx0fSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0ZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlIHx8XG5cdFx0XHRlbGVtZW50WyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCB0cnVlICksXG5cdFx0YW5pbWF0aW9uID0ge307XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0c3RhcnRDbGlwID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdHN0YXJ0UmVmID0gZWxlbWVudC5wb3NpdGlvbigpWyByZWYgXTtcblxuXHQvLyBEZWZpbmUgaGlkZSBhbmltYXRpb25cblx0YW5pbWF0aW9uWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyAtMSA6IDEgKSAqIGRpc3RhbmNlICsgc3RhcnRSZWY7XG5cdGFuaW1hdGlvbi5jbGlwID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdGFuaW1hdGlvbi5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAxIF0gXSA9IGFuaW1hdGlvbi5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAwIF0gXTtcblxuXHQvLyBSZXZlcnNlIHRoZSBhbmltYXRpb24gaWYgd2UncmUgc2hvd2luZ1xuXHRpZiAoIG1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdGVsZW1lbnQuY3NzQ2xpcCggYW5pbWF0aW9uLmNsaXAgKTtcblx0XHRlbGVtZW50LmNzcyggcmVmLCBhbmltYXRpb25bIHJlZiBdICk7XG5cdFx0YW5pbWF0aW9uLmNsaXAgPSBzdGFydENsaXA7XG5cdFx0YW5pbWF0aW9uWyByZWYgXSA9IHN0YXJ0UmVmO1xuXHR9XG5cblx0Ly8gQWN0dWFsbHkgYW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBkb25lXG5cdH0gKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFRyYW5zZmVyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBUcmFuc2ZlciBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBhIHRyYW5zZmVyIGVmZmVjdCBmcm9tIG9uZSBlbGVtZW50IHRvIGFub3RoZXIuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdHJhbnNmZXItZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciBlZmZlY3Q7XG5pZiAoICQudWlCYWNrQ29tcGF0ICE9PSBmYWxzZSApIHtcblx0ZWZmZWN0ID0gJC5lZmZlY3RzLmRlZmluZSggXCJ0cmFuc2ZlclwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0XHQkKCB0aGlzICkudHJhbnNmZXIoIG9wdGlvbnMsIGRvbmUgKTtcblx0fSApO1xufVxucmV0dXJuIGVmZmVjdDtcblxufSApICk7XG4iLCIoIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5cbi8vIFRoaXMgZmlsZSBpcyBkZXByZWNhdGVkXG5yZXR1cm4gJC51aS5pZSA9ICEhL21zaWUgW1xcdy5dKy8uZXhlYyggbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpICk7XG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEtleWNvZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEtleWNvZGVcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBQcm92aWRlIGtleWNvZGVzIGFzIGtleW5hbWVzXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20valF1ZXJ5LnVpLmtleUNvZGUvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKCBmdW5jdGlvbiggJCApIHtcbnJldHVybiAkLnVpLmtleUNvZGUgPSB7XG5cdEJBQ0tTUEFDRTogOCxcblx0Q09NTUE6IDE4OCxcblx0REVMRVRFOiA0Nixcblx0RE9XTjogNDAsXG5cdEVORDogMzUsXG5cdEVOVEVSOiAxMyxcblx0RVNDQVBFOiAyNyxcblx0SE9NRTogMzYsXG5cdExFRlQ6IDM3LFxuXHRQQUdFX0RPV046IDM0LFxuXHRQQUdFX1VQOiAzMyxcblx0UEVSSU9EOiAxOTAsXG5cdFJJR0hUOiAzOSxcblx0U1BBQ0U6IDMyLFxuXHRUQUI6IDksXG5cdFVQOiAzOFxufTtcblxufSApICk7XG4iLCIoIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5cbiQudWkgPSAkLnVpIHx8IHt9O1xuXG5yZXR1cm4gJC51aS52ZXJzaW9uID0gXCIxLjEyLjFcIjtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBXaWRnZXQgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFdpZGdldFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFByb3ZpZGVzIGEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgc3RhdGVmdWwgd2lkZ2V0cyB3aXRoIGEgY29tbW9uIEFQSS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3dpZGdldC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciB3aWRnZXRVdWlkID0gMDtcbnZhciB3aWRnZXRTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBldmVudHMsIGVsZW0sIGk7XG5cdFx0Zm9yICggaSA9IDA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHR0cnkge1xuXG5cdFx0XHRcdC8vIE9ubHkgdHJpZ2dlciByZW1vdmUgd2hlbiBuZWNlc3NhcnkgdG8gc2F2ZSB0aW1lXG5cdFx0XHRcdGV2ZW50cyA9ICQuX2RhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcblx0XHRcdFx0aWYgKCBldmVudHMgJiYgZXZlbnRzLnJlbW92ZSApIHtcblx0XHRcdFx0XHQkKCBlbGVtICkudHJpZ2dlckhhbmRsZXIoIFwicmVtb3ZlXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIdHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MjM1XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0fVxuXHRcdG9yaWcoIGVsZW1zICk7XG5cdH07XG59ICkoICQuY2xlYW5EYXRhICk7XG5cbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblx0dmFyIGV4aXN0aW5nQ29uc3RydWN0b3IsIGNvbnN0cnVjdG9yLCBiYXNlUHJvdG90eXBlO1xuXG5cdC8vIFByb3hpZWRQcm90b3R5cGUgYWxsb3dzIHRoZSBwcm92aWRlZCBwcm90b3R5cGUgdG8gcmVtYWluIHVubW9kaWZpZWRcblx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3Nilcblx0dmFyIHByb3hpZWRQcm90b3R5cGUgPSB7fTtcblxuXHR2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMCBdO1xuXHRuYW1lID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMSBdO1xuXHR2YXIgZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyBcIi1cIiArIG5hbWU7XG5cblx0aWYgKCAhcHJvdG90eXBlICkge1xuXHRcdHByb3RvdHlwZSA9IGJhc2U7XG5cdFx0YmFzZSA9ICQuV2lkZ2V0O1xuXHR9XG5cblx0aWYgKCAkLmlzQXJyYXkoIHByb3RvdHlwZSApICkge1xuXHRcdHByb3RvdHlwZSA9ICQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIHt9IF0uY29uY2F0KCBwcm90b3R5cGUgKSApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW5cblx0JC5leHByWyBcIjpcIiBdWyBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpIF0gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGZ1bGxOYW1lICk7XG5cdH07XG5cblx0JFsgbmFtZXNwYWNlIF0gPSAkWyBuYW1lc3BhY2UgXSB8fCB7fTtcblx0ZXhpc3RpbmdDb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF07XG5cdGNvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IFwibmV3XCIga2V5d29yZFxuXHRcdGlmICggIXRoaXMuX2NyZWF0ZVdpZGdldCApIHtcblx0XHRcdHJldHVybiBuZXcgY29uc3RydWN0b3IoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgaW5pdGlhbGl6aW5nIGZvciBzaW1wbGUgaW5oZXJpdGFuY2Vcblx0XHQvLyBtdXN0IHVzZSBcIm5ld1wiIGtleXdvcmQgKHRoZSBjb2RlIGFib3ZlIGFsd2F5cyBwYXNzZXMgYXJncylcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9jcmVhdGVXaWRnZXQoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gRXh0ZW5kIHdpdGggdGhlIGV4aXN0aW5nIGNvbnN0cnVjdG9yIHRvIGNhcnJ5IG92ZXIgYW55IHN0YXRpYyBwcm9wZXJ0aWVzXG5cdCQuZXh0ZW5kKCBjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxuXG5cdFx0Ly8gQ29weSB0aGUgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBwcm90b3R5cGUgaW4gY2FzZSB3ZSBuZWVkIHRvXG5cdFx0Ly8gcmVkZWZpbmUgdGhlIHdpZGdldCBsYXRlclxuXHRcdF9wcm90bzogJC5leHRlbmQoIHt9LCBwcm90b3R5cGUgKSxcblxuXHRcdC8vIFRyYWNrIHdpZGdldHMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyB3aWRnZXQgaW4gY2FzZSB0aGlzIHdpZGdldCBpc1xuXHRcdC8vIHJlZGVmaW5lZCBhZnRlciBhIHdpZGdldCBpbmhlcml0cyBmcm9tIGl0XG5cdFx0X2NoaWxkQ29uc3RydWN0b3JzOiBbXVxuXHR9ICk7XG5cblx0YmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7XG5cblx0Ly8gV2UgbmVlZCB0byBtYWtlIHRoZSBvcHRpb25zIGhhc2ggYSBwcm9wZXJ0eSBkaXJlY3RseSBvbiB0aGUgbmV3IGluc3RhbmNlXG5cdC8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmVcblx0Ly8gaW5oZXJpdGluZyBmcm9tXG5cdGJhc2VQcm90b3R5cGUub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sIGJhc2VQcm90b3R5cGUub3B0aW9ucyApO1xuXHQkLmVhY2goIHByb3RvdHlwZSwgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdGlmICggISQuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnVuY3Rpb24gX3N1cGVyKCkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIF9zdXBlckFwcGx5KCBhcmdzICkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXI7XG5cdFx0XHRcdHZhciBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5O1xuXHRcdFx0XHR2YXIgcmV0dXJuVmFsdWU7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9fc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fTtcblx0XHR9ICkoKTtcblx0fSApO1xuXHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLndpZGdldC5leHRlbmQoIGJhc2VQcm90b3R5cGUsIHtcblxuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/ICggYmFzZVByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lICkgOiBuYW1lXG5cdH0sIHByb3hpZWRQcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsXG5cdFx0d2lkZ2V0TmFtZTogbmFtZSxcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcblx0fSApO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gUmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLFxuXHRcdFx0XHRjaGlsZC5fcHJvdG8gKTtcblx0XHR9ICk7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldFNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHR2YXIgaW5wdXRJbmRleCA9IDA7XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGtleTtcblx0dmFyIHZhbHVlO1xuXG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCBpbnB1dFsgaW5wdXRJbmRleCBdLmhhc093blByb3BlcnR5KCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIENsb25lIG9iamVjdHNcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9ICQuaXNQbGFpbk9iamVjdCggdGFyZ2V0WyBrZXkgXSApID9cblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHRhcmdldFsga2V5IF0sIHZhbHVlICkgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBleHRlbmQgc3RyaW5ncywgYXJyYXlzLCBldGMuIHdpdGggb2JqZWN0c1xuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiO1xuXHRcdHZhciBhcmdzID0gd2lkZ2V0U2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICk7XG5cdFx0dmFyIHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGVtcHR5IGNvbGxlY3Rpb24sIHdlIG5lZWQgdG8gaGF2ZSB0aGUgaW5zdGFuY2UgbWV0aG9kXG5cdFx0XHQvLyByZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgdGhlIGpRdWVyeSBpbnN0YW5jZVxuXHRcdFx0aWYgKCAhdGhpcy5sZW5ndGggJiYgb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblxuXHRcdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICtcblx0XHRcdFx0XHRcdFx0XCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFx0XCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJ1wiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCBpbnN0YW5jZVsgb3B0aW9ucyBdICkgfHwgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gXCJfXCIgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgK1xuXHRcdFx0XHRcdFx0XHRcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggbWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlICYmIG1ldGhvZFZhbHVlLmpxdWVyeSA/XG5cdFx0XHRcdFx0XHRcdHJldHVyblZhbHVlLnB1c2hTdGFjayggbWV0aG9kVmFsdWUuZ2V0KCkgKSA6XG5cdFx0XHRcdFx0XHRcdG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdFxuXHRcdFx0aWYgKCBhcmdzLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZC5hcHBseSggbnVsbCwgWyBvcHRpb25zIF0uY29uY2F0KCBhcmdzICkgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xuXHRcdFx0XHRpZiAoIGluc3RhbmNlICkge1xuXHRcdFx0XHRcdGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyB8fCB7fSApO1xuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UuX2luaXQgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5faW5pdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0KCBvcHRpb25zLCB0aGlzICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fTtcbn07XG5cbiQuV2lkZ2V0ID0gZnVuY3Rpb24oIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4kLldpZGdldC5wcm90b3R5cGUgPSB7XG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcIlwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8ZGl2PlwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRjbGFzc2VzOiB7fSxcblx0XHRkaXNhYmxlZDogZmFsc2UsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRjcmVhdGU6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblx0XHRlbGVtZW50ID0gJCggZWxlbWVudCB8fCB0aGlzLmRlZmF1bHRFbGVtZW50IHx8IHRoaXMgKVsgMCBdO1xuXHRcdHRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLnV1aWQgPSB3aWRnZXRVdWlkKys7XG5cdFx0dGhpcy5ldmVudE5hbWVzcGFjZSA9IFwiLlwiICsgdGhpcy53aWRnZXROYW1lICsgdGhpcy51dWlkO1xuXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoKTtcblx0XHR0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwID0ge307XG5cblx0XHRpZiAoIGVsZW1lbnQgIT09IHRoaXMgKSB7XG5cdFx0XHQkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUsIHRoaXMgKTtcblx0XHRcdHRoaXMuX29uKCB0cnVlLCB0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHRoaXMuZG9jdW1lbnQgPSAkKCBlbGVtZW50LnN0eWxlID9cblxuXHRcdFx0XHQvLyBFbGVtZW50IHdpdGhpbiB0aGUgZG9jdW1lbnRcblx0XHRcdFx0ZWxlbWVudC5vd25lckRvY3VtZW50IDpcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIHdpbmRvdyBvciBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQgKTtcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFsgMCBdLmRlZmF1bHRWaWV3IHx8IHRoaXMuZG9jdW1lbnRbIDAgXS5wYXJlbnRXaW5kb3cgKTtcblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LFxuXHRcdFx0dGhpcy5vcHRpb25zLFxuXHRcdFx0dGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLFxuXHRcdFx0b3B0aW9ucyApO1xuXG5cdFx0dGhpcy5fY3JlYXRlKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR9XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImNyZWF0ZVwiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSApO1xuXHRcdHRoaXMuX2luaXQoKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVFdmVudERhdGE6ICQubm9vcCxcblxuXHRfY3JlYXRlOiAkLm5vb3AsXG5cblx0X2luaXQ6ICQubm9vcCxcblxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLl9kZXN0cm95KCk7XG5cdFx0JC5lYWNoKCB0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCB2YWx1ZSwga2V5ICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gV2UgY2FuIHByb2JhYmx5IHJlbW92ZSB0aGUgdW5iaW5kIGNhbGxzIGluIDIuMFxuXHRcdC8vIGFsbCBldmVudCBiaW5kaW5ncyBzaG91bGQgZ28gdGhyb3VnaCB0aGlzLl9vbigpXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVEYXRhKCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0dGhpcy53aWRnZXQoKVxuXHRcdFx0Lm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKTtcblxuXHRcdC8vIENsZWFuIHVwIGV2ZW50cyBhbmQgc3RhdGVzXG5cdFx0dGhpcy5iaW5kaW5ncy5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblx0fSxcblxuXHRfZGVzdHJveTogJC5ub29wLFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcblx0fSxcblxuXHRvcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBvcHRpb25zID0ga2V5O1xuXHRcdHZhciBwYXJ0cztcblx0XHR2YXIgY3VyT3B0aW9uO1xuXHRcdHZhciBpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXG5cdFx0XHQvLyBEb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2hcblx0XHRcdHJldHVybiAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vIEhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0XHRwYXJ0cyA9IGtleS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y3VyT3B0aW9uID0gb3B0aW9uc1sga2V5IF0gPSAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnNbIGtleSBdICk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XG5cdFx0XHRcdFx0Y3VyT3B0aW9uID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VyT3B0aW9uWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvblsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyT3B0aW9uWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yICgga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb24oIGtleSwgb3B0aW9uc1sga2V5IF0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJjbGFzc2VzXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25DbGFzc2VzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uQ2xhc3NlczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc0tleSwgZWxlbWVudHMsIGN1cnJlbnRFbGVtZW50cztcblxuXHRcdGZvciAoIGNsYXNzS2V5IGluIHZhbHVlICkge1xuXHRcdFx0Y3VycmVudEVsZW1lbnRzID0gdGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cFsgY2xhc3NLZXkgXTtcblx0XHRcdGlmICggdmFsdWVbIGNsYXNzS2V5IF0gPT09IHRoaXMub3B0aW9ucy5jbGFzc2VzWyBjbGFzc0tleSBdIHx8XG5cdFx0XHRcdFx0IWN1cnJlbnRFbGVtZW50cyB8fFxuXHRcdFx0XHRcdCFjdXJyZW50RWxlbWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UgYXJlIGRvaW5nIHRoaXMgdG8gY3JlYXRlIGEgbmV3IGpRdWVyeSBvYmplY3QgYmVjYXVzZSB0aGUgX3JlbW92ZUNsYXNzKCkgY2FsbFxuXHRcdFx0Ly8gb24gdGhlIG5leHQgbGluZSBpcyBnb2luZyB0byBkZXN0cm95IHRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgZWxlbWVudHMgYmVpbmdcblx0XHRcdC8vIHRyYWNrZWQuIFdlIG5lZWQgdG8gc2F2ZSBhIGNvcHkgb2YgdGhpcyBjb2xsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIGFkZCB0aGUgbmV3IGNsYXNzZXNcblx0XHRcdC8vIGJlbG93LlxuXHRcdFx0ZWxlbWVudHMgPSAkKCBjdXJyZW50RWxlbWVudHMuZ2V0KCkgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBjdXJyZW50RWxlbWVudHMsIGNsYXNzS2V5ICk7XG5cblx0XHRcdC8vIFdlIGRvbid0IHVzZSBfYWRkQ2xhc3MoKSBoZXJlLCBiZWNhdXNlIHRoYXQgdXNlcyB0aGlzLm9wdGlvbnMuY2xhc3Nlc1xuXHRcdFx0Ly8gZm9yIGdlbmVyYXRpbmcgdGhlIHN0cmluZyBvZiBjbGFzc2VzLiBXZSB3YW50IHRvIHVzZSB0aGUgdmFsdWUgcGFzc2VkIGluIGZyb21cblx0XHRcdC8vIF9zZXRPcHRpb24oKSwgdGhpcyBpcyB0aGUgbmV3IHZhbHVlIG9mIHRoZSBjbGFzc2VzIG9wdGlvbiB3aGljaCB3YXMgcGFzc2VkIHRvXG5cdFx0XHQvLyBfc2V0T3B0aW9uKCkuIFdlIHBhc3MgdGhpcyB2YWx1ZSBkaXJlY3RseSB0byBfY2xhc3NlcygpLlxuXHRcdFx0ZWxlbWVudHMuYWRkQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIHtcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudHMsXG5cdFx0XHRcdGtleXM6IGNsYXNzS2V5LFxuXHRcdFx0XHRjbGFzc2VzOiB2YWx1ZSxcblx0XHRcdFx0YWRkOiB0cnVlXG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMud2lkZ2V0KCksIHRoaXMud2lkZ2V0RnVsbE5hbWUgKyBcIi1kaXNhYmxlZFwiLCBudWxsLCAhIXZhbHVlICk7XG5cblx0XHQvLyBJZiB0aGUgd2lkZ2V0IGlzIGJlY29taW5nIGRpc2FibGVkLCB0aGVuIG5vdGhpbmcgaXMgaW50ZXJhY3RpdmVcblx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaG92ZXJhYmxlLCBudWxsLCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmZvY3VzYWJsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoIHsgZGlzYWJsZWQ6IGZhbHNlIH0gKTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyggeyBkaXNhYmxlZDogdHJ1ZSB9ICk7XG5cdH0sXG5cblx0X2NsYXNzZXM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBmdWxsID0gW107XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRjbGFzc2VzOiB0aGlzLm9wdGlvbnMuY2xhc3NlcyB8fCB7fVxuXHRcdH0sIG9wdGlvbnMgKTtcblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NDbGFzc1N0cmluZyggY2xhc3NlcywgY2hlY2tPcHRpb24gKSB7XG5cdFx0XHR2YXIgY3VycmVudCwgaTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y3VycmVudCA9IHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdIHx8ICQoKTtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmFkZCApIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gJCggJC51bmlxdWUoIGN1cnJlbnQuZ2V0KCkuY29uY2F0KCBvcHRpb25zLmVsZW1lbnQuZ2V0KCkgKSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudCA9ICQoIGN1cnJlbnQubm90KCBvcHRpb25zLmVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdID0gY3VycmVudDtcblx0XHRcdFx0ZnVsbC5wdXNoKCBjbGFzc2VzWyBpIF0gKTtcblx0XHRcdFx0aWYgKCBjaGVja09wdGlvbiAmJiBvcHRpb25zLmNsYXNzZXNbIGNsYXNzZXNbIGkgXSBdICkge1xuXHRcdFx0XHRcdGZ1bGwucHVzaCggb3B0aW9ucy5jbGFzc2VzWyBjbGFzc2VzWyBpIF0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fb24oIG9wdGlvbnMuZWxlbWVudCwge1xuXHRcdFx0XCJyZW1vdmVcIjogXCJfdW50cmFja0NsYXNzZXNFbGVtZW50XCJcblx0XHR9ICk7XG5cblx0XHRpZiAoIG9wdGlvbnMua2V5cyApIHtcblx0XHRcdHByb2Nlc3NDbGFzc1N0cmluZyggb3B0aW9ucy5rZXlzLm1hdGNoKCAvXFxTKy9nICkgfHwgW10sIHRydWUgKTtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmV4dHJhICkge1xuXHRcdFx0cHJvY2Vzc0NsYXNzU3RyaW5nKCBvcHRpb25zLmV4dHJhLm1hdGNoKCAvXFxTKy9nICkgfHwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZnVsbC5qb2luKCBcIiBcIiApO1xuXHR9LFxuXG5cdF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0JC5lYWNoKCB0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdGlmICggJC5pbkFycmF5KCBldmVudC50YXJnZXQsIHZhbHVlICkgIT09IC0xICkge1xuXHRcdFx0XHR0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBrZXkgXSA9ICQoIHZhbHVlLm5vdCggZXZlbnQudGFyZ2V0ICkuZ2V0KCkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X3JlbW92ZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgZmFsc2UgKTtcblx0fSxcblxuXHRfYWRkQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSApIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3MoIGVsZW1lbnQsIGtleXMsIGV4dHJhLCB0cnVlICk7XG5cdH0sXG5cblx0X3RvZ2dsZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEsIGFkZCApIHtcblx0XHRhZGQgPSAoIHR5cGVvZiBhZGQgPT09IFwiYm9vbGVhblwiICkgPyBhZGQgOiBleHRyYTtcblx0XHR2YXIgc2hpZnQgPSAoIHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiIHx8IGVsZW1lbnQgPT09IG51bGwgKSxcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdGV4dHJhOiBzaGlmdCA/IGtleXMgOiBleHRyYSxcblx0XHRcdFx0a2V5czogc2hpZnQgPyBlbGVtZW50IDoga2V5cyxcblx0XHRcdFx0ZWxlbWVudDogc2hpZnQgPyB0aGlzLmVsZW1lbnQgOiBlbGVtZW50LFxuXHRcdFx0XHRhZGQ6IGFkZFxuXHRcdFx0fTtcblx0XHRvcHRpb25zLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIG9wdGlvbnMgKSwgYWRkICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X29uOiBmdW5jdGlvbiggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCBlbGVtZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgZGVsZWdhdGVFbGVtZW50O1xuXHRcdHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHQvLyBObyBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgZmxhZywgc2h1ZmZsZSBhcmd1bWVudHNcblx0XHRpZiAoIHR5cGVvZiBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgIT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHN1cHByZXNzRGlzYWJsZWRDaGVjaztcblx0XHRcdHN1cHByZXNzRGlzYWJsZWRDaGVjayA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIE5vIGVsZW1lbnQgYXJndW1lbnQsIHNodWZmbGUgYW5kIHVzZSB0aGlzLmVsZW1lbnRcblx0XHRpZiAoICFoYW5kbGVycyApIHtcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHRkZWxlZ2F0ZUVsZW1lbnQgPSB0aGlzLndpZGdldCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50ID0gZGVsZWdhdGVFbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdFx0dGhpcy5iaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MuYWRkKCBlbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0JC5lYWNoKCBoYW5kbGVycywgZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVyICkge1xuXHRcdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXG5cdFx0XHRcdC8vIEFsbG93IHdpZGdldHMgdG8gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGNsYXNzIGFzIG1ldGhvZCBmb3IgZGlzYWJsaW5nIGluZGl2aWR1YWwgcGFydHNcblx0XHRcdFx0aWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdFx0LmFwcGx5KCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvcHkgdGhlIGd1aWQgc28gZGlyZWN0IHVuYmluZGluZyB3b3Jrc1xuXHRcdFx0aWYgKCB0eXBlb2YgaGFuZGxlciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0aGFuZGxlclByb3h5Lmd1aWQgPSBoYW5kbGVyLmd1aWQgPVxuXHRcdFx0XHRcdGhhbmRsZXIuZ3VpZCB8fCBoYW5kbGVyUHJveHkuZ3VpZCB8fCAkLmd1aWQrKztcblx0XHRcdH1cblxuXHRcdFx0dmFyIG1hdGNoID0gZXZlbnQubWF0Y2goIC9eKFtcXHc6LV0qKVxccyooLiopJC8gKTtcblx0XHRcdHZhciBldmVudE5hbWUgPSBtYXRjaFsgMSBdICsgaW5zdGFuY2UuZXZlbnROYW1lc3BhY2U7XG5cdFx0XHR2YXIgc2VsZWN0b3IgPSBtYXRjaFsgMiBdO1xuXG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRkZWxlZ2F0ZUVsZW1lbnQub24oIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudC5vbiggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X29mZjogZnVuY3Rpb24oIGVsZW1lbnQsIGV2ZW50TmFtZSApIHtcblx0XHRldmVudE5hbWUgPSAoIGV2ZW50TmFtZSB8fCBcIlwiICkuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgK1xuXHRcdFx0dGhpcy5ldmVudE5hbWVzcGFjZTtcblx0XHRlbGVtZW50Lm9mZiggZXZlbnROYW1lICkub2ZmKCBldmVudE5hbWUgKTtcblxuXHRcdC8vIENsZWFyIHRoZSBzdGFjayB0byBhdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHR0aGlzLmJpbmRpbmdzID0gJCggdGhpcy5iaW5kaW5ncy5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCggdGhpcy5mb2N1c2FibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoIHRoaXMuaG92ZXJhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdH0sXG5cblx0X2RlbGF5OiBmdW5jdGlvbiggaGFuZGxlciwgZGVsYXkgKSB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KCBoYW5kbGVyUHJveHksIGRlbGF5IHx8IDAgKTtcblx0fSxcblxuXHRfaG92ZXJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9mb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7XG5cdFx0dmFyIHByb3AsIG9yaWc7XG5cdFx0dmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07XG5cblx0XHRkYXRhID0gZGF0YSB8fCB7fTtcblx0XHRldmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XG5cdFx0ZXZlbnQudHlwZSA9ICggdHlwZSA9PT0gdGhpcy53aWRnZXRFdmVudFByZWZpeCA/XG5cdFx0XHR0eXBlIDpcblx0XHRcdHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIFRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIENvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXG5cdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcy5lbGVtZW50WyAwIF0sIFsgZXZlbnQgXS5jb25jYXQoIGRhdGEgKSApID09PSBmYWxzZSB8fFxuXHRcdFx0ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTtcblx0fVxufTtcblxuJC5lYWNoKCB7IHNob3c6IFwiZmFkZUluXCIsIGhpZGU6IFwiZmFkZU91dFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIGRlZmF1bHRFZmZlY3QgKSB7XG5cdCQuV2lkZ2V0LnByb3RvdHlwZVsgXCJfXCIgKyBtZXRob2QgXSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZWZmZWN0OiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0dmFyIGhhc09wdGlvbnM7XG5cdFx0dmFyIGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XG5cdFx0XHRtZXRob2QgOlxuXHRcdFx0b3B0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxuXHRcdFx0XHRvcHRpb25zLmVmZmVjdCB8fCBkZWZhdWx0RWZmZWN0O1xuXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0aGFzT3B0aW9ucyA9ICEkLmlzRW1wdHlPYmplY3QoIG9wdGlvbnMgKTtcblx0XHRvcHRpb25zLmNvbXBsZXRlID0gY2FsbGJhY2s7XG5cblx0XHRpZiAoIG9wdGlvbnMuZGVsYXkgKSB7XG5cdFx0XHRlbGVtZW50LmRlbGF5KCBvcHRpb25zLmRlbGF5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoYXNPcHRpb25zICYmICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xuXHRcdH0gZWxzZSBpZiAoIGVmZmVjdE5hbWUgIT09IG1ldGhvZCAmJiBlbGVtZW50WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBlZmZlY3ROYW1lIF0oIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50LnF1ZXVlKCBmdW5jdGlvbiggbmV4dCApIHtcblx0XHRcdFx0JCggdGhpcyApWyBtZXRob2QgXSgpO1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGVsZW1lbnRbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbnJldHVybiAkLndpZGdldDtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBNb3VzZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogTW91c2Vcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBBYnN0cmFjdHMgbW91c2UtYmFzZWQgaW50ZXJhY3Rpb25zIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBjZXJ0YWluIHdpZGdldHMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbW91c2UvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi9pZVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG52YXIgbW91c2VIYW5kbGVkID0gZmFsc2U7XG4kKCBkb2N1bWVudCApLm9uKCBcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG5cdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkubW91c2VcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y2FuY2VsOiBcImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QsIG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0Lm9uKCBcIm1vdXNlZG93bi5cIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VEb3duKCBldmVudCApO1xuXHRcdFx0fSApXG5cdFx0XHQub24oIFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICk7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5vZmYoIFwiLlwiICsgdGhpcy53aWRnZXROYW1lICk7XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApIHtcblx0XHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdFx0Lm9mZiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gZG9uJ3QgbGV0IG1vcmUgdGhhbiBvbmUgd2lkZ2V0IGhhbmRsZSBtb3VzZVN0YXJ0XG5cdFx0aWYgKCBtb3VzZUhhbmRsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VNb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gV2UgbWF5IGhhdmUgbWlzc2VkIG1vdXNldXAgKG91dCBvZiB3aW5kb3cpXG5cdFx0KCB0aGlzLl9tb3VzZVN0YXJ0ZWQgJiYgdGhpcy5fbW91c2VVcCggZXZlbnQgKSApO1xuXG5cdFx0dGhpcy5fbW91c2VEb3duRXZlbnQgPSBldmVudDtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGJ0bklzTGVmdCA9ICggZXZlbnQud2hpY2ggPT09IDEgKSxcblxuXHRcdFx0Ly8gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBJRSA4IHdpdGhcblx0XHRcdC8vIGRpc2FibGVkIGlucHV0cyAoIzc2MjApXG5cdFx0XHRlbElzQ2FuY2VsID0gKCB0eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgP1xuXHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCB0aGlzLm9wdGlvbnMuY2FuY2VsICkubGVuZ3RoIDogZmFsc2UgKTtcblx0XHRpZiAoICFidG5Jc0xlZnQgfHwgZWxJc0NhbmNlbCB8fCAhdGhpcy5fbW91c2VDYXB0dXJlKCBldmVudCApICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb3VzZURlbGF5TWV0ID0gIXRoaXMub3B0aW9ucy5kZWxheTtcblx0XHRpZiAoICF0aGlzLm1vdXNlRGVsYXlNZXQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5tb3VzZURlbGF5TWV0ID0gdHJ1ZTtcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEaXN0YW5jZU1ldCggZXZlbnQgKSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KCBldmVudCApICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gKCB0aGlzLl9tb3VzZVN0YXJ0KCBldmVudCApICE9PSBmYWxzZSApO1xuXHRcdFx0aWYgKCAhdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDbGljayBldmVudCBtYXkgbmV2ZXIgaGF2ZSBmaXJlZCAoR2Vja28gJiBPcGVyYSlcblx0XHRpZiAoIHRydWUgPT09ICQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICkgKSB7XG5cdFx0XHQkLnJlbW92ZURhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFRoZXNlIGRlbGVnYXRlcyBhcmUgcmVxdWlyZWQgdG8ga2VlcCBjb250ZXh0XG5cdFx0dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VNb3ZlKCBldmVudCApO1xuXHRcdH07XG5cdFx0dGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vbiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC5vbiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRtb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZU1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIE9ubHkgY2hlY2sgZm9yIG1vdXNldXBzIG91dHNpZGUgdGhlIGRvY3VtZW50IGlmIHlvdSd2ZSBtb3ZlZCBpbnNpZGUgdGhlIGRvY3VtZW50XG5cdFx0Ly8gYXQgbGVhc3Qgb25jZS4gVGhpcyBwcmV2ZW50cyB0aGUgZmlyaW5nIG9mIG1vdXNldXAgaW4gdGhlIGNhc2Ugb2YgSUU8OSwgd2hpY2ggd2lsbFxuXHRcdC8vIGZpcmUgYSBtb3VzZW1vdmUgZXZlbnQgaWYgY29udGVudCBpcyBwbGFjZWQgdW5kZXIgdGhlIGN1cnNvci4gU2VlICM3Nzc4XG5cdFx0Ly8gU3VwcG9ydDogSUUgPDlcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZWQgKSB7XG5cblx0XHRcdC8vIElFIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIGhhcHBlbmVkIHdoZW4gbW91c2Ugd2FzIG91dCBvZiB3aW5kb3dcblx0XHRcdGlmICggJC51aS5pZSAmJiAoICFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSApICYmXG5cdFx0XHRcdFx0IWV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cblx0XHRcdC8vIElmcmFtZSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBvY2N1cnJlZCBpbiBhbm90aGVyIGRvY3VtZW50XG5cdFx0XHR9IGVsc2UgaWYgKCAhZXZlbnQud2hpY2ggKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9OCAtIDlcblx0XHRcdFx0Ly8gU2FmYXJpIHNldHMgd2hpY2ggdG8gMCBpZiB5b3UgcHJlc3MgYW55IG9mIHRoZSBmb2xsb3dpbmcga2V5c1xuXHRcdFx0XHQvLyBkdXJpbmcgYSBkcmFnICgjMTQ0NjEpXG5cdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jdHJsS2V5IHx8XG5cdFx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5zaGlmdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcCggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0dGhpcy5fbW91c2VNb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoIGV2ZW50ICkgJiYgdGhpcy5fbW91c2VEZWxheU1ldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9XG5cdFx0XHRcdCggdGhpcy5fbW91c2VTdGFydCggdGhpcy5fbW91c2VEb3duRXZlbnQsIGV2ZW50ICkgIT09IGZhbHNlICk7XG5cdFx0XHQoIHRoaXMuX21vdXNlU3RhcnRlZCA/IHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKSA6IHRoaXMuX21vdXNlVXAoIGV2ZW50ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gIXRoaXMuX21vdXNlU3RhcnRlZDtcblx0fSxcblxuXHRfbW91c2VVcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vZmYoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQub2ZmKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IHRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCApIHtcblx0XHRcdFx0JC5kYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbW91c2VTdG9wKCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEZWxheVRpbWVyICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLl9tb3VzZURlbGF5VGltZXIgKTtcblx0XHRcdGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXI7XG5cdFx0fVxuXG5cdFx0dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggPSBmYWxzZTtcblx0XHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdF9tb3VzZURpc3RhbmNlTWV0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0cmV0dXJuICggTWF0aC5tYXgoXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWCAtIGV2ZW50LnBhZ2VYICksXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWSAtIGV2ZW50LnBhZ2VZIClcblx0XHRcdCkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlXG5cdFx0KTtcblx0fSxcblxuXHRfbW91c2VEZWxheU1ldDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlRGVsYXlNZXQ7XG5cdH0sXG5cblx0Ly8gVGhlc2UgYXJlIHBsYWNlaG9sZGVyIG1ldGhvZHMsIHRvIGJlIG92ZXJyaWRlbiBieSBleHRlbmRpbmcgcGx1Z2luXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7IHJldHVybiB0cnVlOyB9XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgU2xpZGVyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTbGlkZXJcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBhIGZsZXhpYmxlIHNsaWRlciB3aXRoIHJhbmdlcyBhbmQgYWNjZXNzaWJpbGl0eSB2aWEga2V5Ym9hcmQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGVyL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3NsaWRlci9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL3NsaWRlci5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi9tb3VzZVwiLFxuXHRcdFx0XCIuLi9rZXljb2RlXCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLndpZGdldCggXCJ1aS5zbGlkZXJcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzbGlkZVwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRhbmltYXRlOiBmYWxzZSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLXNsaWRlclwiOiBcInVpLWNvcm5lci1hbGxcIixcblx0XHRcdFwidWktc2xpZGVyLWhhbmRsZVwiOiBcInVpLWNvcm5lci1hbGxcIixcblxuXHRcdFx0Ly8gTm90ZTogdWktd2lkZ2V0LWhlYWRlciBpc24ndCB0aGUgbW9zdCBmaXR0aW5nbHkgc2VtYW50aWMgZnJhbWV3b3JrIGNsYXNzIGZvciB0aGlzXG5cdFx0XHQvLyBlbGVtZW50LCBidXQgd29ya2VkIGJlc3QgdmlzdWFsbHkgd2l0aCBhIHZhcmlldHkgb2YgdGhlbWVzXG5cdFx0XHRcInVpLXNsaWRlci1yYW5nZVwiOiBcInVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LWhlYWRlclwiXG5cdFx0fSxcblx0XHRkaXN0YW5jZTogMCxcblx0XHRtYXg6IDEwMCxcblx0XHRtaW46IDAsXG5cdFx0b3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuXHRcdHJhbmdlOiBmYWxzZSxcblx0XHRzdGVwOiAxLFxuXHRcdHZhbHVlOiAwLFxuXHRcdHZhbHVlczogbnVsbCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRzbGlkZTogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0Ly8gTnVtYmVyIG9mIHBhZ2VzIGluIGEgc2xpZGVyXG5cdC8vIChob3cgbWFueSB0aW1lcyBjYW4geW91IHBhZ2UgdXAvZG93biB0byBnbyB0aHJvdWdoIHRoZSB3aG9sZSByYW5nZSlcblx0bnVtUGFnZXM6IDUsXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fa2V5U2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gbnVsbDtcblx0XHR0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO1xuXHRcdHRoaXMuX21vdXNlSW5pdCgpO1xuXHRcdHRoaXMuX2NhbGN1bGF0ZU5ld01heCgpO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktc2xpZGVyIHVpLXNsaWRlci1cIiArIHRoaXMub3JpZW50YXRpb24sXG5cdFx0XHRcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2NyZWF0ZVJhbmdlKCk7XG5cdFx0dGhpcy5fY3JlYXRlSGFuZGxlcygpO1xuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X2NyZWF0ZUhhbmRsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpLCBoYW5kbGVDb3VudCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRleGlzdGluZ0hhbmRsZXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktc2xpZGVyLWhhbmRsZVwiICksXG5cdFx0XHRoYW5kbGUgPSBcIjxzcGFuIHRhYmluZGV4PScwJz48L3NwYW4+XCIsXG5cdFx0XHRoYW5kbGVzID0gW107XG5cblx0XHRoYW5kbGVDb3VudCA9ICggb3B0aW9ucy52YWx1ZXMgJiYgb3B0aW9ucy52YWx1ZXMubGVuZ3RoICkgfHwgMTtcblxuXHRcdGlmICggZXhpc3RpbmdIYW5kbGVzLmxlbmd0aCA+IGhhbmRsZUNvdW50ICkge1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCBoYW5kbGVDb3VudCApLnJlbW92ZSgpO1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCAwLCBoYW5kbGVDb3VudCApO1xuXHRcdH1cblxuXHRcdGZvciAoIGkgPSBleGlzdGluZ0hhbmRsZXMubGVuZ3RoOyBpIDwgaGFuZGxlQ291bnQ7IGkrKyApIHtcblx0XHRcdGhhbmRsZXMucHVzaCggaGFuZGxlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLmFkZCggJCggaGFuZGxlcy5qb2luKCBcIlwiICkgKS5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICkgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmhhbmRsZXMsIFwidWktc2xpZGVyLWhhbmRsZVwiLCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXG5cdFx0dGhpcy5oYW5kbGUgPSB0aGlzLmhhbmRsZXMuZXEoIDAgKTtcblxuXHRcdHRoaXMuaGFuZGxlcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdCQoIHRoaXMgKVxuXHRcdFx0XHQuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIsIGkgKVxuXHRcdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9jcmVhdGVSYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgKSB7XG5cdFx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdGlmICggIW9wdGlvbnMudmFsdWVzICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gWyB0aGlzLl92YWx1ZU1pbigpLCB0aGlzLl92YWx1ZU1pbigpIF07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMudmFsdWVzLmxlbmd0aCAmJiBvcHRpb25zLnZhbHVlcy5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBbIG9wdGlvbnMudmFsdWVzWyAwIF0sIG9wdGlvbnMudmFsdWVzWyAwIF0gXTtcblx0XHRcdFx0fSBlbHNlIGlmICggJC5pc0FycmF5KCBvcHRpb25zLnZhbHVlcyApICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXMuc2xpY2UoIDAgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICF0aGlzLnJhbmdlIHx8ICF0aGlzLnJhbmdlLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5yYW5nZSA9ICQoIFwiPGRpdj5cIiApXG5cdFx0XHRcdFx0LmFwcGVuZFRvKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5yYW5nZSwgXCJ1aS1zbGlkZXItcmFuZ2VcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMucmFuZ2UsIFwidWktc2xpZGVyLXJhbmdlLW1pbiB1aS1zbGlkZXItcmFuZ2UtbWF4XCIgKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgcmFuZ2Ugc3dpdGNoaW5nIGZyb20gdHJ1ZSB0byBtaW4vbWF4XG5cdFx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7XG5cdFx0XHRcdFx0XCJsZWZ0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XCJib3R0b21cIjogXCJcIlxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgPT09IFwibWluXCIgfHwgb3B0aW9ucy5yYW5nZSA9PT0gXCJtYXhcIiApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMucmFuZ2UsIFwidWktc2xpZGVyLXJhbmdlLVwiICsgb3B0aW9ucy5yYW5nZSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIHRoaXMucmFuZ2UgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2UucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnJhbmdlID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9vZmYoIHRoaXMuaGFuZGxlcyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmhhbmRsZXMsIHRoaXMuX2hhbmRsZUV2ZW50cyApO1xuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy5oYW5kbGVzICk7XG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLmhhbmRsZXMgKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oYW5kbGVzLnJlbW92ZSgpO1xuXHRcdGlmICggdGhpcy5yYW5nZSApIHtcblx0XHRcdHRoaXMucmFuZ2UucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiwgbm9ybVZhbHVlLCBkaXN0YW5jZSwgY2xvc2VzdEhhbmRsZSwgaW5kZXgsIGFsbG93ZWQsIG9mZnNldCwgbW91c2VPdmVySGFuZGxlLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKCBvLmRpc2FibGVkICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudFNpemUgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHRcdHRoaXMuZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdHBvc2l0aW9uID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfTtcblx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cdFx0ZGlzdGFuY2UgPSB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSArIDE7XG5cdFx0dGhpcy5oYW5kbGVzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHRoaXNEaXN0YW5jZSA9IE1hdGguYWJzKCBub3JtVmFsdWUgLSB0aGF0LnZhbHVlcyggaSApICk7XG5cdFx0XHRpZiAoICggZGlzdGFuY2UgPiB0aGlzRGlzdGFuY2UgKSB8fFxuXHRcdFx0XHQoIGRpc3RhbmNlID09PSB0aGlzRGlzdGFuY2UgJiZcblx0XHRcdFx0XHQoIGkgPT09IHRoYXQuX2xhc3RDaGFuZ2VkVmFsdWUgfHwgdGhhdC52YWx1ZXMoIGkgKSA9PT0gby5taW4gKSApICkge1xuXHRcdFx0XHRkaXN0YW5jZSA9IHRoaXNEaXN0YW5jZTtcblx0XHRcdFx0Y2xvc2VzdEhhbmRsZSA9ICQoIHRoaXMgKTtcblx0XHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGFsbG93ZWQgPSB0aGlzLl9zdGFydCggZXZlbnQsIGluZGV4ICk7XG5cdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gdHJ1ZTtcblxuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gaW5kZXg7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggY2xvc2VzdEhhbmRsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdGNsb3Nlc3RIYW5kbGUudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cblx0XHRvZmZzZXQgPSBjbG9zZXN0SGFuZGxlLm9mZnNldCgpO1xuXHRcdG1vdXNlT3ZlckhhbmRsZSA9ICEkKCBldmVudC50YXJnZXQgKS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCBcIi51aS1zbGlkZXItaGFuZGxlXCIgKTtcblx0XHR0aGlzLl9jbGlja09mZnNldCA9IG1vdXNlT3ZlckhhbmRsZSA/IHsgbGVmdDogMCwgdG9wOiAwIH0gOiB7XG5cdFx0XHRsZWZ0OiBldmVudC5wYWdlWCAtIG9mZnNldC5sZWZ0IC0gKCBjbG9zZXN0SGFuZGxlLndpZHRoKCkgLyAyICksXG5cdFx0XHR0b3A6IGV2ZW50LnBhZ2VZIC0gb2Zmc2V0LnRvcCAtXG5cdFx0XHRcdCggY2xvc2VzdEhhbmRsZS5oZWlnaHQoKSAvIDIgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGNsb3Nlc3RIYW5kbGUuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyggXCJib3JkZXJCb3R0b21XaWR0aFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoIFwibWFyZ2luVG9wXCIgKSwgMTAgKSB8fCAwIClcblx0XHR9O1xuXG5cdFx0aWYgKCAhdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKSApIHtcblx0XHRcdHRoaXMuX3NsaWRlKCBldmVudCwgaW5kZXgsIG5vcm1WYWx1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiA9IHsgeDogZXZlbnQucGFnZVgsIHk6IGV2ZW50LnBhZ2VZIH0sXG5cdFx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cblx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4LCBub3JtVmFsdWUgKTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaGFuZGxlcywgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5fc3RvcCggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4ICk7XG5cdFx0dGhpcy5fY2hhbmdlKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXggKTtcblxuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gbnVsbDtcblx0XHR0aGlzLl9jbGlja09mZnNldCA9IG51bGw7XG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9kZXRlY3RPcmllbnRhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5vcmllbnRhdGlvbiA9ICggdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiO1xuXHR9LFxuXG5cdF9ub3JtVmFsdWVGcm9tTW91c2U6IGZ1bmN0aW9uKCBwb3NpdGlvbiApIHtcblx0XHR2YXIgcGl4ZWxUb3RhbCxcblx0XHRcdHBpeGVsTW91c2UsXG5cdFx0XHRwZXJjZW50TW91c2UsXG5cdFx0XHR2YWx1ZVRvdGFsLFxuXHRcdFx0dmFsdWVNb3VzZTtcblxuXHRcdGlmICggdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRwaXhlbFRvdGFsID0gdGhpcy5lbGVtZW50U2l6ZS53aWR0aDtcblx0XHRcdHBpeGVsTW91c2UgPSBwb3NpdGlvbi54IC0gdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQgLVxuXHRcdFx0XHQoIHRoaXMuX2NsaWNrT2Zmc2V0ID8gdGhpcy5fY2xpY2tPZmZzZXQubGVmdCA6IDAgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGl4ZWxUb3RhbCA9IHRoaXMuZWxlbWVudFNpemUuaGVpZ2h0O1xuXHRcdFx0cGl4ZWxNb3VzZSA9IHBvc2l0aW9uLnkgLSB0aGlzLmVsZW1lbnRPZmZzZXQudG9wIC1cblx0XHRcdFx0KCB0aGlzLl9jbGlja09mZnNldCA/IHRoaXMuX2NsaWNrT2Zmc2V0LnRvcCA6IDAgKTtcblx0XHR9XG5cblx0XHRwZXJjZW50TW91c2UgPSAoIHBpeGVsTW91c2UgLyBwaXhlbFRvdGFsICk7XG5cdFx0aWYgKCBwZXJjZW50TW91c2UgPiAxICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMTtcblx0XHR9XG5cdFx0aWYgKCBwZXJjZW50TW91c2UgPCAwICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMDtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAxIC0gcGVyY2VudE1vdXNlO1xuXHRcdH1cblxuXHRcdHZhbHVlVG90YWwgPSB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHR2YWx1ZU1vdXNlID0gdGhpcy5fdmFsdWVNaW4oKSArIHBlcmNlbnRNb3VzZSAqIHZhbHVlVG90YWw7XG5cblx0XHRyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbHVlTW91c2UgKTtcblx0fSxcblxuXHRfdWlIYXNoOiBmdW5jdGlvbiggaW5kZXgsIHZhbHVlLCB2YWx1ZXMgKSB7XG5cdFx0dmFyIHVpSGFzaCA9IHtcblx0XHRcdGhhbmRsZTogdGhpcy5oYW5kbGVzWyBpbmRleCBdLFxuXHRcdFx0aGFuZGxlSW5kZXg6IGluZGV4LFxuXHRcdFx0dmFsdWU6IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHRoaXMudmFsdWUoKVxuXHRcdH07XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHR1aUhhc2gudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdHVpSGFzaC52YWx1ZXMgPSB2YWx1ZXMgfHwgdGhpcy52YWx1ZXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdWlIYXNoO1xuXHR9LFxuXG5cdF9oYXNNdWx0aXBsZVZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg7XG5cdH0sXG5cblx0X3N0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdHJldHVybiB0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIGluZGV4ICkgKTtcblx0fSxcblxuXHRfc2xpZGU6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXgsIG5ld1ZhbCApIHtcblx0XHR2YXIgYWxsb3dlZCwgb3RoZXJWYWwsXG5cdFx0XHRjdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlKCksXG5cdFx0XHRuZXdWYWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0b3RoZXJWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggPyAwIDogMSApO1xuXHRcdFx0Y3VycmVudFZhbHVlID0gdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggPT09IDIgJiYgdGhpcy5vcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0XHRuZXdWYWwgPSAgaW5kZXggPT09IDAgPyBNYXRoLm1pbiggb3RoZXJWYWwsIG5ld1ZhbCApIDogTWF0aC5tYXgoIG90aGVyVmFsLCBuZXdWYWwgKTtcblx0XHRcdH1cblxuXHRcdFx0bmV3VmFsdWVzWyBpbmRleCBdID0gbmV3VmFsO1xuXHRcdH1cblxuXHRcdGlmICggbmV3VmFsID09PSBjdXJyZW50VmFsdWUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0YWxsb3dlZCA9IHRoaXMuX3RyaWdnZXIoIFwic2xpZGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggaW5kZXgsIG5ld1ZhbCwgbmV3VmFsdWVzICkgKTtcblxuXHRcdC8vIEEgc2xpZGUgY2FuIGJlIGNhbmNlbGVkIGJ5IHJldHVybmluZyBmYWxzZSBmcm9tIHRoZSBzbGlkZSBjYWxsYmFja1xuXHRcdGlmICggYWxsb3dlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0dGhpcy52YWx1ZXMoIGluZGV4LCBuZXdWYWwgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy52YWx1ZSggbmV3VmFsICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zdG9wOiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RvcFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCApICk7XG5cdH0sXG5cblx0X2NoYW5nZTogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHRpZiAoICF0aGlzLl9rZXlTbGlkaW5nICYmICF0aGlzLl9tb3VzZVNsaWRpbmcgKSB7XG5cblx0XHRcdC8vc3RvcmUgdGhlIGxhc3QgY2hhbmdlZCB2YWx1ZSBpbmRleCBmb3IgcmVmZXJlbmNlIHdoZW4gaGFuZGxlcyBvdmVybGFwXG5cdFx0XHR0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlID0gaW5kZXg7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCApICk7XG5cdFx0fVxuXHR9LFxuXG5cdHZhbHVlOiBmdW5jdGlvbiggbmV3VmFsdWUgKSB7XG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIG5ld1ZhbHVlICk7XG5cdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgMCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl92YWx1ZSgpO1xuXHR9LFxuXG5cdHZhbHVlczogZnVuY3Rpb24oIGluZGV4LCBuZXdWYWx1ZSApIHtcblx0XHR2YXIgdmFscyxcblx0XHRcdG5ld1ZhbHVlcyxcblx0XHRcdGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAxICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlc1sgaW5kZXggXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGluZGV4ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGFyZ3VtZW50c1sgMCBdICkgKSB7XG5cdFx0XHRcdHZhbHMgPSB0aGlzLm9wdGlvbnMudmFsdWVzO1xuXHRcdFx0XHRuZXdWYWx1ZXMgPSBhcmd1bWVudHNbIDAgXTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHRcdHZhbHNbIGkgXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZXNbIGkgXSApO1xuXHRcdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl92YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLFxuXHRcdFx0dmFsc0xlbmd0aCA9IDA7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJyYW5nZVwiICYmIHRoaXMub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IFwibWluXCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3ZhbHVlcyggMCApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSBcIm1heFwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl92YWx1ZXMoIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoIC0gMSApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICQuaXNBcnJheSggdGhpcy5vcHRpb25zLnZhbHVlcyApICkge1xuXHRcdFx0dmFsc0xlbmd0aCA9IHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRzd2l0Y2ggKCBrZXkgKSB7XG5cdFx0XHRjYXNlIFwib3JpZW50YXRpb25cIjpcblx0XHRcdFx0dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIFwidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsXCIgKVxuXHRcdFx0XHRcdC5fYWRkQ2xhc3MoIFwidWktc2xpZGVyLVwiICsgdGhpcy5vcmllbnRhdGlvbiApO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMucmFuZ2UgKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVmcmVzaFJhbmdlKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzZXQgcG9zaXRpb25pbmcgZnJvbSBwcmV2aW91cyBvcmllbnRhdGlvblxuXHRcdFx0XHR0aGlzLmhhbmRsZXMuY3NzKCB2YWx1ZSA9PT0gXCJob3Jpem9udGFsXCIgPyBcImJvdHRvbVwiIDogXCJsZWZ0XCIsIFwiXCIgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwidmFsdWVcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIDAgKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ2YWx1ZXNcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXG5cdFx0XHRcdC8vIFN0YXJ0IGZyb20gdGhlIGxhc3QgaGFuZGxlIHRvIHByZXZlbnQgdW5yZWFjaGFibGUgaGFuZGxlcyAoIzkwNDYpXG5cdFx0XHRcdGZvciAoIGkgPSB2YWxzTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJzdGVwXCI6XG5cdFx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicmFuZ2VcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2goKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIHZhbHVlICk7XG5cblx0XHR0aGlzLl90b2dnbGVDbGFzcyggbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdH0sXG5cblx0Ly9pbnRlcm5hbCB2YWx1ZSBnZXR0ZXJcblx0Ly8gX3ZhbHVlKCkgcmV0dXJucyB2YWx1ZSB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0X3ZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdmFsID0gdGhpcy5vcHRpb25zLnZhbHVlO1xuXHRcdHZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWwgKTtcblxuXHRcdHJldHVybiB2YWw7XG5cdH0sXG5cblx0Ly9pbnRlcm5hbCB2YWx1ZXMgZ2V0dGVyXG5cdC8vIF92YWx1ZXMoKSByZXR1cm5zIGFycmF5IG9mIHZhbHVlcyB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0Ly8gX3ZhbHVlcyggaW5kZXggKSByZXR1cm5zIHNpbmdsZSB2YWx1ZSB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0X3ZhbHVlczogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdHZhciB2YWwsXG5cdFx0XHR2YWxzLFxuXHRcdFx0aTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHZhbCA9IHRoaXMub3B0aW9ucy52YWx1ZXNbIGluZGV4IF07XG5cdFx0XHR2YWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsICk7XG5cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblxuXHRcdFx0Ly8gLnNsaWNlKCkgY3JlYXRlcyBhIGNvcHkgb2YgdGhlIGFycmF5XG5cdFx0XHQvLyB0aGlzIGNvcHkgZ2V0cyB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4IGFuZCB0aGVuIHJldHVybmVkXG5cdFx0XHR2YWxzID0gdGhpcy5vcHRpb25zLnZhbHVlcy5zbGljZSgpO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHR2YWxzWyBpIF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsc1sgaSBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWxzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9LFxuXG5cdC8vIFJldHVybnMgdGhlIHN0ZXAtYWxpZ25lZCB2YWx1ZSB0aGF0IHZhbCBpcyBjbG9zZXN0IHRvLCBiZXR3ZWVuIChpbmNsdXNpdmUpIG1pbiBhbmQgbWF4XG5cdF90cmltQWxpZ25WYWx1ZTogZnVuY3Rpb24oIHZhbCApIHtcblx0XHRpZiAoIHZhbCA8PSB0aGlzLl92YWx1ZU1pbigpICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0fVxuXHRcdGlmICggdmFsID49IHRoaXMuX3ZhbHVlTWF4KCkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHR9XG5cdFx0dmFyIHN0ZXAgPSAoIHRoaXMub3B0aW9ucy5zdGVwID4gMCApID8gdGhpcy5vcHRpb25zLnN0ZXAgOiAxLFxuXHRcdFx0dmFsTW9kU3RlcCA9ICggdmFsIC0gdGhpcy5fdmFsdWVNaW4oKSApICUgc3RlcCxcblx0XHRcdGFsaWduVmFsdWUgPSB2YWwgLSB2YWxNb2RTdGVwO1xuXG5cdFx0aWYgKCBNYXRoLmFicyggdmFsTW9kU3RlcCApICogMiA+PSBzdGVwICkge1xuXHRcdFx0YWxpZ25WYWx1ZSArPSAoIHZhbE1vZFN0ZXAgPiAwICkgPyBzdGVwIDogKCAtc3RlcCApO1xuXHRcdH1cblxuXHRcdC8vIFNpbmNlIEphdmFTY3JpcHQgaGFzIHByb2JsZW1zIHdpdGggbGFyZ2UgZmxvYXRzLCByb3VuZFxuXHRcdC8vIHRoZSBmaW5hbCB2YWx1ZSB0byA1IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCAoc2VlICM0MTI0KVxuXHRcdHJldHVybiBwYXJzZUZsb2F0KCBhbGlnblZhbHVlLnRvRml4ZWQoIDUgKSApO1xuXHR9LFxuXG5cdF9jYWxjdWxhdGVOZXdNYXg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtYXggPSB0aGlzLm9wdGlvbnMubWF4LFxuXHRcdFx0bWluID0gdGhpcy5fdmFsdWVNaW4oKSxcblx0XHRcdHN0ZXAgPSB0aGlzLm9wdGlvbnMuc3RlcCxcblx0XHRcdGFib3ZlTWluID0gTWF0aC5yb3VuZCggKCBtYXggLSBtaW4gKSAvIHN0ZXAgKSAqIHN0ZXA7XG5cdFx0bWF4ID0gYWJvdmVNaW4gKyBtaW47XG5cdFx0aWYgKCBtYXggPiB0aGlzLm9wdGlvbnMubWF4ICkge1xuXG5cdFx0XHQvL0lmIG1heCBpcyBub3QgZGl2aXNpYmxlIGJ5IHN0ZXAsIHJvdW5kaW5nIG9mZiBtYXkgaW5jcmVhc2UgaXRzIHZhbHVlXG5cdFx0XHRtYXggLT0gc3RlcDtcblx0XHR9XG5cdFx0dGhpcy5tYXggPSBwYXJzZUZsb2F0KCBtYXgudG9GaXhlZCggdGhpcy5fcHJlY2lzaW9uKCkgKSApO1xuXHR9LFxuXG5cdF9wcmVjaXNpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVjaXNpb24gPSB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLnN0ZXAgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5taW4gIT09IG51bGwgKSB7XG5cdFx0XHRwcmVjaXNpb24gPSBNYXRoLm1heCggcHJlY2lzaW9uLCB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLm1pbiApICk7XG5cdFx0fVxuXHRcdHJldHVybiBwcmVjaXNpb247XG5cdH0sXG5cblx0X3ByZWNpc2lvbk9mOiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHZhciBzdHIgPSBudW0udG9TdHJpbmcoKSxcblx0XHRcdGRlY2ltYWwgPSBzdHIuaW5kZXhPZiggXCIuXCIgKTtcblx0XHRyZXR1cm4gZGVjaW1hbCA9PT0gLTEgPyAwIDogc3RyLmxlbmd0aCAtIGRlY2ltYWwgLSAxO1xuXHR9LFxuXG5cdF92YWx1ZU1pbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5taW47XG5cdH0sXG5cblx0X3ZhbHVlTWF4OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXg7XG5cdH0sXG5cblx0X3JlZnJlc2hSYW5nZTogZnVuY3Rpb24oIG9yaWVudGF0aW9uICkge1xuXHRcdGlmICggb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7IFwid2lkdGhcIjogXCJcIiwgXCJsZWZ0XCI6IFwiXCIgfSApO1xuXHRcdH1cblx0XHRpZiAoIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7IFwiaGVpZ2h0XCI6IFwiXCIsIFwiYm90dG9tXCI6IFwiXCIgfSApO1xuXHRcdH1cblx0fSxcblxuXHRfcmVmcmVzaFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGFzdFZhbFBlcmNlbnQsIHZhbFBlcmNlbnQsIHZhbHVlLCB2YWx1ZU1pbiwgdmFsdWVNYXgsXG5cdFx0XHRvUmFuZ2UgPSB0aGlzLm9wdGlvbnMucmFuZ2UsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRhbmltYXRlID0gKCAhdGhpcy5fYW5pbWF0ZU9mZiApID8gby5hbmltYXRlIDogZmFsc2UsXG5cdFx0XHRfc2V0ID0ge307XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHR0aGlzLmhhbmRsZXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHZhbFBlcmNlbnQgPSAoIHRoYXQudmFsdWVzKCBpICkgLSB0aGF0Ll92YWx1ZU1pbigpICkgLyAoIHRoYXQuX3ZhbHVlTWF4KCkgLVxuXHRcdFx0XHRcdHRoYXQuX3ZhbHVlTWluKCkgKSAqIDEwMDtcblx0XHRcdFx0X3NldFsgdGhhdC5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBcImxlZnRcIiA6IFwiYm90dG9tXCIgXSA9IHZhbFBlcmNlbnQgKyBcIiVcIjtcblx0XHRcdFx0JCggdGhpcyApLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCBfc2V0LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0aWYgKCB0aGF0Lm9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGF0Lm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICggdmFsUGVyY2VudCAtIGxhc3RWYWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiBvLmFuaW1hdGVcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRcdFx0XHRib3R0b206ICggdmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2VbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdGhlaWdodDogKCB2YWxQZXJjZW50IC0gbGFzdFZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IG8uYW5pbWF0ZVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxhc3RWYWxQZXJjZW50ID0gdmFsUGVyY2VudDtcblx0XHRcdH0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWUgPSB0aGlzLnZhbHVlKCk7XG5cdFx0XHR2YWx1ZU1pbiA9IHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0XHR2YWx1ZU1heCA9IHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0XHR2YWxQZXJjZW50ID0gKCB2YWx1ZU1heCAhPT0gdmFsdWVNaW4gKSA/XG5cdFx0XHRcdFx0KCB2YWx1ZSAtIHZhbHVlTWluICkgLyAoIHZhbHVlTWF4IC0gdmFsdWVNaW4gKSAqIDEwMCA6XG5cdFx0XHRcdFx0MDtcblx0XHRcdF9zZXRbIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJsZWZ0XCIgOiBcImJvdHRvbVwiIF0gPSB2YWxQZXJjZW50ICsgXCIlXCI7XG5cdFx0XHR0aGlzLmhhbmRsZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggX3NldCwgby5hbmltYXRlICk7XG5cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1pblwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0d2lkdGg6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0d2lkdGg6ICggMTAwIC0gdmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtaW5cIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRoZWlnaHQ6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdGhlaWdodDogKCAxMDAgLSB2YWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2hhbmRsZUV2ZW50czoge1xuXHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBhbGxvd2VkLCBjdXJWYWwsIG5ld1ZhbCwgc3RlcCxcblx0XHRcdFx0aW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0aWYgKCAhdGhpcy5fa2V5U2xpZGluZyApIHtcblx0XHRcdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LnRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0XHRhbGxvd2VkID0gdGhpcy5fc3RhcnQoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHRcdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0c3RlcCA9IHRoaXMub3B0aW9ucy5zdGVwO1xuXHRcdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0XHRjdXJWYWwgPSBuZXdWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1clZhbCA9IG5ld1ZhbCA9IHRoaXMudmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZShcblx0XHRcdFx0XHRcdGN1clZhbCArICggKCB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSApIC8gdGhpcy5udW1QYWdlcyApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKFxuXHRcdFx0XHRcdFx0Y3VyVmFsIC0gKCAoIHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICkgLyB0aGlzLm51bVBhZ2VzICkgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1heCgpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsICsgc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1pbigpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsIC0gc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIGluZGV4LCBuZXdWYWwgKTtcblx0XHR9LFxuXHRcdGtleXVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRpZiAoIHRoaXMuX2tleVNsaWRpbmcgKSB7XG5cdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5fc3RvcCggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCAkKCBldmVudC50YXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG59ICkgKTtcbiIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibWFuaWZlc3RvXCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5tYW5pZmVzdG89dCgpOmUubWFuaWZlc3RvPXQoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpbi5kKHIsaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTQpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciBuIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09ZVtuXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkscihuKDYpKSxyKG4oNykpLHIobig4KSkscihuKDkpKSxyKG4oMTApKSxyKG4oMTEpKSxyKG4oMTIpKSxyKG4oMTMpKSxyKG4oMTQpKSxyKG4oMTUpKSxyKG4oMTYpKSxyKG4oMTcpKSxyKG4oMTgpKSxyKG4oMTkpKSxyKG4oMjApKSxyKG4oMjEpKSxyKG4oMjIpKSxyKG4oMjMpKSxyKG4oMjQpKSxyKG4oMjUpKSxyKG4oMjYpKSxyKG4oMjcpKSxyKG4oMjgpKSxyKG4oMjkpKSxyKG4oMzApKSxyKG4oMzEpKSxyKG4oMzIpKSxyKG4oMikpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5CT09LTUFSS0lORz1cIm9hOmJvb2ttYXJraW5nXCIsZS5DTEFTU0lGWUlORz1cIm9hOmNsYXNzaWZ5aW5nXCIsZS5DT01NRU5USU5HPVwib2E6Y29tbWVudGluZ1wiLGUuREVTQ1JJQklORz1cIm9hOmRlc2NyaWJpbmdcIixlLkVESVRJTkc9XCJvYTplZGl0aW5nXCIsZS5ISUdITElHSFRJTkc9XCJvYTpoaWdobGlnaHRpbmdcIixlLklERU5USUZZSU5HPVwib2E6aWRlbnRpZnlpbmdcIixlLkxJTktJTkc9XCJvYTpsaW5raW5nXCIsZS5NT0RFUkFUSU5HPVwib2E6bW9kZXJhdGluZ1wiLGUuUEFJTlRJTkc9XCJzYzpwYWludGluZ1wiLGUuUVVFU1RJT05JTkc9XCJvYTpxdWVzdGlvbmluZ1wiLGUuUkVQTFlJTkc9XCJvYTpyZXBseWluZ1wiLGUuVEFHR0lORz1cIm9hOnRhZ2dpbmdcIixlLlRSQU5TQ1JJQklORz1cIm9hZDp0cmFuc2NyaWJpbmdcIn0odC5Bbm5vdGF0aW9uTW90aXZhdGlvbnx8KHQuQW5ub3RhdGlvbk1vdGl2YXRpb249e30pKSxmdW5jdGlvbihlKXtlLkFVVE9fQURWQU5DRT1cImF1dG8tYWR2YW5jZVwiLGUuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLkZBQ0lOR19QQUdFUz1cImZhY2luZy1wYWdlc1wiLGUuSElEREVOPVwiaGlkZGVuXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5NVUxUSV9QQVJUPVwibXVsdGktcGFydFwiLGUuTk9fTkFWPVwibm8tbmF2XCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlJFUEVBVD1cInJlcGVhdFwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwiLGUuVEhVTUJOQUlMX05BVj1cInRodW1ibmFpbC1uYXZcIixlLlRPR0VUSEVSPVwidG9nZXRoZXJcIixlLlVOT1JERVJFRD1cInVub3JkZXJlZFwifSh0LkJlaGF2aW9yfHwodC5CZWhhdmlvcj17fSkpLGZ1bmN0aW9uKGUpe2UuQ0FOVkFTPVwiY2FudmFzXCIsZS5DSE9JQ0U9XCJjaG9pY2VcIixlLkNPTlRFTlRfQVNfVEVYVD1cImNvbnRlbnRhc3RleHRcIixlLkRPQ1VNRU5UPVwiZG9jdW1lbnRcIixlLklNQUdFPVwiaW1hZ2VcIixlLk1PVklOR19JTUFHRT1cIm1vdmluZ2ltYWdlXCIsZS5QREY9XCJwZGZcIixlLlBIWVNJQ0FMX09CSkVDVD1cInBoeXNpY2Fsb2JqZWN0XCIsZS5TT1VORD1cInNvdW5kXCIsZS5URVhUVUFMQk9EWT1cInRleHR1YWxib2R5XCIsZS5WSURFTz1cInZpZGVvXCJ9KHQuRXh0ZXJuYWxSZXNvdXJjZVR5cGV8fCh0LkV4dGVybmFsUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5BTk5PVEFUSU9OPVwiYW5ub3RhdGlvblwiLGUuQ0FOVkFTPVwiY2FudmFzXCIsZS5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLGUuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLGUuUkFOR0U9XCJyYW5nZVwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwifSh0LklJSUZSZXNvdXJjZVR5cGV8fCh0LklJSUZSZXNvdXJjZVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkFVRElPX01QND1cImF1ZGlvL21wNFwiLGUuQ09SVE89XCJhcHBsaWNhdGlvbi9jb3J0b1wiLGUuRFJBQ089XCJhcHBsaWNhdGlvbi9kcmFjb1wiLGUuR0xURj1cIm1vZGVsL2dsdGYranNvblwiLGUuSlBHPVwiaW1hZ2UvanBlZ1wiLGUuTTNVOD1cImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsZS5NUDM9XCJhdWRpby9tcDNcIixlLk1QRUdfREFTSD1cImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsZS5PQko9XCJ0ZXh0L3BsYWluXCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIixlLlBMWT1cImFwcGxpY2F0aW9uL3BseVwiLGUuVEhSRUVKUz1cImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIixlLlZJREVPX01QND1cInZpZGVvL21wNFwiLGUuV0VCTT1cInZpZGVvL3dlYm1cIn0odC5NZWRpYVR5cGV8fCh0Lk1lZGlhVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuRE9DPVwiYXBwbGljYXRpb24vbXN3b3JkXCIsZS5ET0NYPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIixlLlBERj1cImFwcGxpY2F0aW9uL3BkZlwifSh0LlJlbmRlcmluZ0Zvcm1hdHx8KHQuUmVuZGVyaW5nRm9ybWF0PXt9KSksZnVuY3Rpb24oZSl7ZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5BVVRIXzBfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzBfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCIsZS5BVVRIXzBfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIixlLkFVVEhfMF9SRVNUUklDVEVEPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCIsZS5BVVRIXzBfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCIsZS5BVVRIXzFfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzFfRVhURVJOQUw9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCIsZS5BVVRIXzFfS0lPU0s9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCIsZS5BVVRIXzFfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCIsZS5BVVRIXzFfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIixlLkFVVEhfMV9QUk9CRT1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIixlLkFVVEhfMV9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIixlLlNFQVJDSF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiLGUuU0VBUkNIXzBfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIixlLlNFQVJDSF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiLGUuU0VBUkNIXzFfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIixlLlRSQUNLSU5HX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuVUlfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5QUklOVF9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIixlLlNIQVJFX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuT1RIRVJfTUFOSUZFU1RBVElPTlM9XCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCIsZS5JWElGPVwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIn0odC5TZXJ2aWNlUHJvZmlsZXx8KHQuU2VydmljZVByb2ZpbGU9e30pKSxmdW5jdGlvbihlKXtlLkJPVFRPTV9UT19UT1A9XCJib3R0b20tdG8tdG9wXCIsZS5MRUZUX1RPX1JJR0hUPVwibGVmdC10by1yaWdodFwiLGUuUklHSFRfVE9fTEVGVD1cInJpZ2h0LXRvLWxlZnRcIixlLlRPUF9UT19CT1RUT009XCJ0b3AtdG8tYm90dG9tXCJ9KHQuVmlld2luZ0RpcmVjdGlvbnx8KHQuVmlld2luZ0RpcmVjdGlvbj17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIixlLk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLGUuUEFHRUQ9XCJwYWdlZFwiLGUuVE9QPVwidG9wXCJ9KHQuVmlld2luZ0hpbnR8fCh0LlZpZXdpbmdIaW50PXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gcyhlKXt0cnl7dShyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e3Uoci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gdShlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX11KChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LGk9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPShpPXMudHJ5cykubGVuZ3RoPjAmJmlbaS5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxzPW4oMSksYT1uKDMzKTtuKDM0KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKGUpe3JldHVybihlPShlPWUudG9Mb3dlckNhc2UoKSkuc3BsaXQoXCI7XCIpWzBdKS50cmltKCl9LGUuZ2V0SW1hZ2VRdWFsaXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMXx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzJ8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMnx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzJ8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMXx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzF8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzJ8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yP1wibmF0aXZlXCI6XCJkZWZhdWx0XCJ9LGUuZ2V0SW5leGFjdExvY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIi1cIik/ZS5zdWJzdHIoMCxlLmluZGV4T2YoXCItXCIpKTplfSxlLmdldExvY2FsaXNlZFZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYodD09PXJbXCJAbGFuZ3VhZ2VcIl0pcmV0dXJuIHJbXCJAdmFsdWVcIl19dmFyIGk9dC5zdWJzdHIoMCx0LmluZGV4T2YoXCItXCIpKTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO2lmKG9bXCJAbGFuZ3VhZ2VcIl09PT1pKXJldHVybiBvW1wiQHZhbHVlXCJdfXJldHVybiBudWxsfSxlLmdlbmVyYXRlVHJlZU5vZGVJZHM9ZnVuY3Rpb24odCxuKXt2YXIgcjt2b2lkIDA9PT1uJiYobj0wKSxyPXQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuaWQrXCItXCIrbjpcIjBcIix0LmlkPXI7Zm9yKHZhciBpPTA7aTx0Lm5vZGVzLmxlbmd0aDtpKyspe3ZhciBvPXQubm9kZXNbaV07ZS5nZW5lcmF0ZVRyZWVOb2RlSWRzKG8saSl9fSxlLm5vcm1hbGlzZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT0oZT1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCI6XCIpP2Uuc3BsaXQoXCI6XCIpWzFdOmV9LGUubm9ybWFsaXNlVXJsPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09KGU9ZS5zdWJzdHIoZS5pbmRleE9mKFwiOi8vXCIpKSkuaW5kZXhPZihcIiNcIikmJihlPWUuc3BsaXQoXCIjXCIpWzBdKSxlfSxlLm5vcm1hbGlzZWRVcmxzTWF0Y2g9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5ub3JtYWxpc2VVcmwodCk9PT1lLm5vcm1hbGlzZVVybChuKX0sZS5pc0ltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sZS5pc0xldmVsMEltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApKX0sZS5pc0xldmVsMUltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpKX0sZS5pc0xldmVsMkltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sZS5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uRGVzZXJpYWxpc2VyLnBhcnNlKGUsdCl9LGUuY2hlY2tTdGF0dXM9ZnVuY3Rpb24oZSl7aWYoZS5vaylyZXR1cm4gZTt2YXIgdD1uZXcgRXJyb3IoZS5zdGF0dXNUZXh0KTtyZXR1cm4gdC5yZXNwb25zZT1lLFByb21pc2UucmVqZWN0KHQpfSxlLmxvYWRNYW5pZmVzdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2ZldGNoKHQpLnRoZW4oZS5jaGVja1N0YXR1cykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe24oZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VzQXV0aDE9ZnVuY3Rpb24odCxuLHIsaSxvLHMsYSx1KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGMsbCl7dmFyIHA9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDEodCxuLHIsaSxvLHMsYSx1KX0pKTtQcm9taXNlLmFsbChwKS50aGVuKChmdW5jdGlvbigpe2ModCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2woZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMT1mdW5jdGlvbih0LG4sbyxzLHUsYyxsLHApe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHModCldO2Nhc2UgMTpyZXR1cm4ocj1pLnNlbnQoKSk/WzQsdC5nZXREYXRhKHIpXTpbMyw2XTtjYXNlIDI6cmV0dXJuIGkuc2VudCgpLHQuc3RhdHVzIT09YS5PSz9bMywzXTpbMix0XTtjYXNlIDM6cmV0dXJuWzQsZS5kb0F1dGhDaGFpbih0LG4sbyx1LGMsbCxwKV07Y2FzZSA0Omkuc2VudCgpLGkubGFiZWw9NTtjYXNlIDU6aWYodC5zdGF0dXM9PT1hLk9LfHx0LnN0YXR1cz09PWEuTU9WRURfVEVNUE9SQVJJTFkpcmV0dXJuWzIsdF07dGhyb3cgZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKTtjYXNlIDY6cmV0dXJuWzQsdC5nZXREYXRhKCldO2Nhc2UgNzpyZXR1cm4gaS5zZW50KCksdC5zdGF0dXMhPT1hLk1PVkVEX1RFTVBPUkFSSUxZJiZ0LnN0YXR1cyE9PWEuVU5BVVRIT1JJWkVEP1szLDldOls0LGUuZG9BdXRoQ2hhaW4odCxuLG8sdSxjLGwscCldO2Nhc2UgODppLnNlbnQoKSxpLmxhYmVsPTk7Y2FzZSA5OmlmKHQuc3RhdHVzPT09YS5PS3x8dC5zdGF0dXM9PT1hLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLHRdO3Rocm93IGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCl9fSkpfSkpfSxlLmRvQXV0aENoYWluPWZ1bmN0aW9uKHQsbixvLHMsdSxjLGwpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixwLGYsaCxfLGcsZCxFO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQuaXNBY2Nlc3NDb250cm9sbGVkKCk/KChyPXQuZXh0ZXJuYWxTZXJ2aWNlKSYmKHIub3B0aW9ucz10Lm9wdGlvbnMpLChwPXQua2lvc2tTZXJ2aWNlKSYmKHAub3B0aW9ucz10Lm9wdGlvbnMpLChmPXQuY2xpY2tUaHJvdWdoU2VydmljZSkmJihmLm9wdGlvbnM9dC5vcHRpb25zKSwoaD10LmxvZ2luU2VydmljZSkmJihoLm9wdGlvbnM9dC5vcHRpb25zKSx0LmlzUmVzcG9uc2VIYW5kbGVkfHx0LnN0YXR1cyE9PWEuTU9WRURfVEVNUE9SQVJJTFk/WzMsMl06WzQsYyh0KV0pOlsyLHRdO2Nhc2UgMTpyZXR1cm4gaS5zZW50KCksWzIsdF07Y2FzZSAyOnJldHVybiBfPW51bGwsZz1udWxsLChfPXIpPyhnPV8sWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLF8pXSk6WzMsNF07Y2FzZSAzOnJldHVybiBpLnNlbnQoKSxbMix0XTtjYXNlIDQ6cmV0dXJuKF89cCk/KGc9XywoZD1uKF8pKT9bNCxzKGQpXTpbMyw3XSk6WzMsN107Y2FzZSA1OnJldHVybiBpLnNlbnQoKSxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sXyldO2Nhc2UgNjpyZXR1cm4gaS5zZW50KCksWzIsdF07Y2FzZSA3OnJldHVybihfPWYpPyhnPV8sWzQsdSh0LF8pXSk6WzMsMTFdO2Nhc2UgODpyZXR1cm4oRT1pLnNlbnQoKSk/WzQscyhFKV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gaS5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLF8pXTtjYXNlIDEwOnJldHVybiBpLnNlbnQoKSxbMix0XTtjYXNlIDExOnJldHVybihfPWgpPyhnPV8sWzQsdSh0LF8pXSk6WzMsMTVdO2Nhc2UgMTI6cmV0dXJuKEU9aS5zZW50KCkpP1s0LHMoRSldOlszLDE1XTtjYXNlIDEzOnJldHVybiBpLnNlbnQoKSxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sXyldO2Nhc2UgMTQ6cmV0dXJuIGkuc2VudCgpLFsyLHRdO2Nhc2UgMTU6cmV0dXJuIGcmJmwodCxnKSxbMl19fSkpfSkpfSxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLG87cmV0dXJuIGkodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm4ocj1uLmdldFNlcnZpY2Uocy5TZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pKT9bNCx0KGUscildOlszLDNdO2Nhc2UgMTpyZXR1cm4obz1pLnNlbnQoKSkmJm8uYWNjZXNzVG9rZW4/WzQsZS5nZXREYXRhKG8pXTpbMywzXTtjYXNlIDI6cmV0dXJuIGkuc2VudCgpLFsyLGVdO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgwOT1mdW5jdGlvbih0LG4scixpLG8scyxhLHUsYyxsKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHAsZil7dmFyIGg9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5KHQsbixyLGksbyxzLGEsdSxjLGwpfSkpO1Byb21pc2UuYWxsKGgpLnRoZW4oKGZ1bmN0aW9uKCl7cCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ZihlKX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOT1mdW5jdGlvbih0LG4scixpLG8scyx1LGMsbCxwKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGYsaCl7cCYmcC5wZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w/dC5nZXREYXRhKCkudGhlbigoZnVuY3Rpb24oKXt0LmlzQWNjZXNzQ29udHJvbGxlZCgpP3QuY2xpY2tUaHJvdWdoU2VydmljZT8oZihyKHQpKSxmKGkodCkpKTpvKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cyh0LCEwKS50aGVuKChmdW5jdGlvbihuKXt0LmdldERhdGEobikudGhlbigoZnVuY3Rpb24oKXtmKGwodCkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmYodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpjKHQsbikudGhlbigoZnVuY3Rpb24ocCl7cD90LmdldERhdGEocCkudGhlbigoZnVuY3Rpb24oKXt0LnN0YXR1cz09PWEuT0s/ZihsKHQpKTplLmF1dGhvcml6ZSh0LG4scixpLG8scyx1LGMpLnRoZW4oKGZ1bmN0aW9uKCl7ZihsKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKTplLmF1dGhvcml6ZSh0LG4scixpLG8scyx1LGMpLnRoZW4oKGZ1bmN0aW9uKCl7ZihsKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKX0sZS5jcmVhdGVFcnJvcj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBFcnJvcjtyZXR1cm4gbi5tZXNzYWdlPXQsbi5uYW1lPVN0cmluZyhlKSxufSxlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5BVVRIT1JJWkFUSU9OX0ZBSUxFRCxcIkF1dGhvcml6YXRpb24gZmFpbGVkXCIpfSxlLmNyZWF0ZVJlc3RyaWN0ZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5SRVNUUklDVEVELFwiUmVzdHJpY3RlZFwiKX0sZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IsdCl9LGUuYXV0aG9yaXplPWZ1bmN0aW9uKHQsbixyLGksbyxzLHUsYyl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihsLHApe3QuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5pc0FjY2Vzc0NvbnRyb2xsZWQoKT9jKHQsbikudGhlbigoZnVuY3Rpb24oYyl7Yz90LmdldERhdGEoYykudGhlbigoZnVuY3Rpb24oKXt0LnN0YXR1cz09PWEuT0s/bCh0KTplLnNob3dBdXRoSW50ZXJhY3Rpb24odCxuLHIsaSxvLHMsdSxsLHApfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6cyh0LCExKS50aGVuKChmdW5jdGlvbihjKXtjP3UodCxjLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKGMpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1hLk9LP2wodCk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixyLGksbyxzLHUsbCxwKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixyLGksbyxzLHUsbCxwKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmwodCl9KSl9KSl9LGUuc2hvd0F1dGhJbnRlcmFjdGlvbj1mdW5jdGlvbih0LG4scixpLG8scyx1LGMsbCl7dC5zdGF0dXMhPT1hLk1PVkVEX1RFTVBPUkFSSUxZfHx0LmlzUmVzcG9uc2VIYW5kbGVkP3QuY2xpY2tUaHJvdWdoU2VydmljZSYmIXQuaXNSZXNwb25zZUhhbmRsZWQ/cih0KS50aGVuKChmdW5jdGlvbigpe3ModCwhMCkudGhlbigoZnVuY3Rpb24ocil7dSh0LHIsbikudGhlbigoZnVuY3Rpb24oKXt0LmdldERhdGEocikudGhlbigoZnVuY3Rpb24oKXtjKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtsKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2woZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpOm8odCkudGhlbigoZnVuY3Rpb24oKXtzKHQsITApLnRoZW4oKGZ1bmN0aW9uKHIpe3UodCxyLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKHIpLnRoZW4oKGZ1bmN0aW9uKCl7Yyh0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtsKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2woZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKTpjKHQpfSxlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5nZXRTZXJ2aWNlcyhlKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07aWYoaS5nZXRQcm9maWxlKCk9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxlLmdldFJlc291cmNlQnlJZD1mdW5jdGlvbih0LG4pe3JldHVybiBlLnRyYXZlcnNlQW5kRmluZCh0Ll9fanNvbmxkLFwiQGlkXCIsbil9LGUudHJhdmVyc2VBbmRGaW5kPWZ1bmN0aW9uKHQsbixyKXtpZih0Lmhhc093blByb3BlcnR5KG4pJiZ0W25dPT09cilyZXR1cm4gdDtmb3IodmFyIGk9MDtpPE9iamVjdC5rZXlzKHQpLmxlbmd0aDtpKyspaWYoXCJvYmplY3RcIj09dHlwZW9mIHRbT2JqZWN0LmtleXModClbaV1dKXt2YXIgbz1lLnRyYXZlcnNlQW5kRmluZCh0W09iamVjdC5rZXlzKHQpW2ldXSxuLHIpO2lmKG51bGwhPW8pcmV0dXJuIG99fSxlLmdldFNlcnZpY2VzPWZ1bmN0aW9uKGUpe3ZhciB0LG49W107aWYoISh0PWUuX19qc29ubGQ/ZS5fX2pzb25sZC5zZXJ2aWNlOmUuc2VydmljZSkpcmV0dXJuIG47QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSl7dmFyIHM9dGhpcy5nZXRSZXNvdXJjZUJ5SWQoZS5vcHRpb25zLnJlc291cmNlLGkpO3MmJm4ucHVzaChuZXcgby5TZXJ2aWNlKHMuX19qc29ubGR8fHMsZS5vcHRpb25zKSl9ZWxzZSBuLnB1c2gobmV3IG8uU2VydmljZShpLGUub3B0aW9ucykpfXJldHVybiBufSxlLmdldFRlbXBvcmFsQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciB0PS90PShbXiZdKykvZy5leGVjKGUpLG49bnVsbDtyZXR1cm4gdCYmdFsxXSYmKG49dFsxXS5zcGxpdChcIixcIikpLG59LGV9KCk7dC5VdGlscz11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBpPW5ldyBYTUxIdHRwUmVxdWVzdCxvPVtdLHM9W10sYT17fSx1PWZ1bmN0aW9uKCl7cmV0dXJue29rOjI9PShpLnN0YXR1cy8xMDB8MCksc3RhdHVzVGV4dDppLnN0YXR1c1RleHQsc3RhdHVzOmkuc3RhdHVzLHVybDppLnJlc3BvbnNlVVJMLHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCkpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbaS5yZXNwb25zZV0pKX0sY2xvbmU6dSxoZWFkZXJzOntrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gc30sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBhW2UudG9Mb3dlckNhc2UoKV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpaW4gYX19fX07Zm9yKHZhciBjIGluIGkub3Blbih0Lm1ldGhvZHx8XCJnZXRcIixlLCEwKSxpLm9ubG9hZD1mdW5jdGlvbigpe2kuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLChmdW5jdGlvbihlLHQsbil7by5wdXNoKHQ9dC50b0xvd2VyQ2FzZSgpKSxzLnB1c2goW3Qsbl0pLGFbdF09YVt0XT9hW3RdK1wiLFwiK246bn0pKSxuKHUoKSl9LGkub25lcnJvcj1yLGkud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT10LmNyZWRlbnRpYWxzLHQuaGVhZGVycylpLnNldFJlcXVlc3RIZWFkZXIoYyx0LmhlYWRlcnNbY10pO2kuc2VuZCh0LmJvZHl8fG51bGwpfSkpfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDUpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09ZVtuXSl9KG4oMCkpO3ZhciByPW4oMik7dC5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuVXRpbHMubG9hZE1hbmlmZXN0KGUpfSx0LnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5VdGlscy5wYXJzZU1hbmlmZXN0KGUsdCl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX19qc29ubGQ9ZSx0aGlzLmNvbnRleHQ9dGhpcy5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksdGhpcy5pZD10aGlzLmdldFByb3BlcnR5KFwiaWRcIil9cmV0dXJuIGUucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7cmV0dXJuIHRoaXMuX19qc29ubGQmJigodD10aGlzLl9fanNvbmxkW2VdKXx8KHQ9dGhpcy5fX2pzb25sZFtcIkBcIitlXSkpLHR9LGV9KCk7dC5KU09OTERSZXNvdXJjZT1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxzPW4oMSksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIub3B0aW9ucz1uLHJ9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy5nZXRMYWJlbCgpKX0sdC5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibWV0YWRhdGFcIiksdD1bXTtpZighZSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXSxpPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpO2kucGFyc2UociksdC5wdXNoKGkpfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRSZW5kZXJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0UmVuZGVyaW5ncygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLmdldEZvcm1hdCgpPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UmVuZGVyaW5ncz1mdW5jdGlvbigpe3ZhciBlLHQ9W107aWYoIShlPXRoaXMuX19qc29ubGQ/dGhpcy5fX2pzb25sZC5yZW5kZXJpbmc6dGhpcy5yZW5kZXJpbmcpKXJldHVybiB0O0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07dC5wdXNoKG5ldyBvLlJlbmRlcmluZyhyLHRoaXMub3B0aW9ucykpfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlPWZ1bmN0aW9uKGUpe3JldHVybiBvLlV0aWxzLmdldFNlcnZpY2UodGhpcyxlKX0sdC5wcm90b3R5cGUuZ2V0U2VydmljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRTZXJ2aWNlcyh0aGlzKX0sdC5wcm90b3R5cGUuZ2V0VGh1bWJuYWlsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZT9uZXcgby5UaHVtYm5haWwoZSx0aGlzLm9wdGlvbnMpOm51bGx9LHQucHJvdG90eXBlLmlzQW5ub3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5BTk5PVEFUSU9OfSx0LnByb3RvdHlwZS5pc0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5DQU5WQVN9LHQucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OfSx0LnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09cy5JSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUfSx0LnByb3RvdHlwZS5pc1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09cy5JSUlGUmVzb3VyY2VUeXBlLlJBTkdFfSx0LnByb3RvdHlwZS5pc1NlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09cy5JSUlGUmVzb3VyY2VUeXBlLlNFUVVFTkNFfSx0fShvLkpTT05MRFJlc291cmNlKTt0Lk1hbmlmZXN0UmVzb3VyY2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiBlP2UudG9Mb3dlckNhc2UoKTpudWxsfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZighdGhpcy5fX2pzb25sZC5yZXNvdXJjZXMpcmV0dXJuIGU7Zm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLnJlc291cmNlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnJlc291cmNlc1t0XSxyPW5ldyBvLkFubm90YXRpb24obix0aGlzLm9wdGlvbnMpO2UucHVzaChyKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpO3JldHVybiBlP28uVXRpbHMubm9ybWFsaXNlVHlwZShlKTpudWxsfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0LnByb3RvdHlwZS5nZXRNYXhXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4V2lkdGhcIil9LHQucHJvdG90eXBlLmdldE1heEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4SGVpZ2h0XCIpP251bGw6dGhpcy5nZXRNYXhXaWR0aCgpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmVzb3VyY2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1uKDEpLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7ci5pbmRleD0tMSxyLmlzTG9hZGVkPSExO3ZhciBpPXtkZWZhdWx0TGFiZWw6XCItXCIsbG9jYWxlOlwiZW4tR0JcIixyZXNvdXJjZTpyLHBlc3NpbWlzdGljQWNjZXNzQ29udHJvbDohMX07cmV0dXJuIHIub3B0aW9ucz1PYmplY3QuYXNzaWduKGksbikscn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImF0dHJpYnV0aW9uXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIik7cmV0dXJuIGU/by5MYW5ndWFnZU1hcC5wYXJzZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExvZ289ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibG9nb1wiKTtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9lOihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmKGU9ZVswXSksZVtcIkBpZFwiXXx8ZS5pZCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0TGljZW5zZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsaWNlbnNlXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXROYXZEYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuZ2V0UHJvcGVydHkoXCJuYXZEYXRlXCIpKX0sdC5wcm90b3R5cGUuZ2V0UmVsYXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVsYXRlZFwiKX0sdC5wcm90b3R5cGUuZ2V0U2VlQWxzbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwic2VlQWxzb1wiKX0sdC5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VydmljZShzLlNlcnZpY2VQcm9maWxlLlRSQUNLSU5HX0VYVEVOU0lPTlMpO3JldHVybiBlP2UuZ2V0UHJvcGVydHkoXCJ0cmFja2luZ0xhYmVsXCIpOlwiXCJ9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU9bmV3IG8uVHJlZU5vZGUoXCJyb290XCIpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YT10aGlzLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLmdldFJlcXVpcmVkU3RhdGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbCx0PXRoaXMuZ2V0UHJvcGVydHkoXCJyZXF1aXJlZFN0YXRlbWVudFwiKTtpZih0KShlPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS5wYXJzZSh0KTtlbHNle3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRpb24oKTtuJiYoKGU9bmV3IG8uTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSkpLnZhbHVlPW4pfXJldHVybiBlfSx0LnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sdC5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtpZihlLmlzTG9hZGVkKXQoZSk7ZWxzZXt2YXIgbj1lLm9wdGlvbnM7bi5uYXZEYXRlPWUuZ2V0TmF2RGF0ZSgpO3ZhciByPWUuX19qc29ubGQuaWQ7cnx8KHI9ZS5fX2pzb25sZFtcIkBpZFwiXSksby5VdGlscy5sb2FkTWFuaWZlc3QocikudGhlbigoZnVuY3Rpb24ocil7ZS5wYXJlbnRMYWJlbD1vLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUuZ2V0TGFiZWwoKSxuLmxvY2FsZSk7dmFyIGk9by5EZXNlcmlhbGlzZXIucGFyc2UocixuKTsoZT1PYmplY3QuYXNzaWduKGUsaSkpLmluZGV4PW4uaW5kZXgsdChlKX0pKX19KSl9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5JSUlGUmVzb3VyY2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzLmdldFByb3BlcnR5KFwiYm9keVwiKTtpZih0KWlmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe2lmKChzPXRbbl0pLml0ZW1zKWZvcih2YXIgcj0wO3I8cy5pdGVtcy5sZW5ndGg7cisrKXt2YXIgaT1zLml0ZW1zW3JdO2UucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShpLHRoaXMub3B0aW9ucykpfWVsc2UgZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KHMsdGhpcy5vcHRpb25zKSl9ZWxzZSBpZih0Lml0ZW1zKWZvcihuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspe3ZhciBzPXQuaXRlbXNbbl07ZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KHMsdGhpcy5vcHRpb25zKSl9ZWxzZSBlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkodCx0aGlzLm9wdGlvbnMpKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0TW90aXZhdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJtb3RpdmF0aW9uXCIpO3JldHVybiBlfHxudWxsfSx0LnByb3RvdHlwZS5nZXRPbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwib25cIil9LHQucHJvdG90eXBlLmdldFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0XCIpfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBuZXcgby5SZXNvdXJjZSh0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VcIiksdGhpcy5vcHRpb25zKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb249c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiBlP28uVXRpbHMuZ2V0TWVkaWFUeXBlKGUpOm51bGx9LHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik/by5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKTpudWxsfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuQW5ub3RhdGlvbkJvZHk9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgaT1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gaS5sYWJlbD10LGkub3B0aW9ucz1yLGl9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LHQucHJvdG90eXBlLmdldFJlc291cmNlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZXNcIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQW5ub3RhdGlvbih0LGUub3B0aW9ucyl9KSl9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtpZihlLmlzTG9hZGVkKXQoZSk7ZWxzZXt2YXIgcj1lLl9fanNvbmxkLmlkO3J8fChyPWUuX19qc29ubGRbXCJAaWRcIl0pLG8uVXRpbHMubG9hZE1hbmlmZXN0KHIpLnRoZW4oKGZ1bmN0aW9uKG4pe2UuX19qc29ubGQ9bixlLmNvbnRleHQ9ZS5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksZS5pZD1lLmdldFByb3BlcnR5KFwiaWRcIiksZS5pc0xvYWRlZD0hMCx0KGUpfSkpLmNhdGNoKG4pfX0pKX0sdH0oby5KU09OTERSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uTGlzdD1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0SXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIml0ZW1zXCIpfSx0fShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO3QuQW5ub3RhdGlvblBhZ2U9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRDYW5vbmljYWxJbWFnZVVyaT1mdW5jdGlvbihlKXt2YXIgdCxuPW51bGwscj1cImRlZmF1bHRcIixpPWU7aWYodGhpcy5leHRlcm5hbFJlc291cmNlJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0pbj10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBpZFwiXSxpfHwoaT10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS53aWR0aCksdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXSYmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xLjAvY29udGV4dC5qc29uXCIpPi0xfHx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4xL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEvY29udGV4dC5qc29uXCIpPi0xKSYmKHI9XCJuYXRpdmVcIik7ZWxzZXt2YXIgcz10aGlzLmdldEltYWdlcygpO2lmKHMmJnMubGVuZ3RoKXt2YXIgYT1zWzBdLmdldFJlc291cmNlKCksdT1hLmdldFNlcnZpY2VzKCk7aWYoaXx8KGk9YS5nZXRXaWR0aCgpKSx1Lmxlbmd0aCl7dmFyIGM9dVswXTtuPWMuaWQscj1vLlV0aWxzLmdldEltYWdlUXVhbGl0eShjLmdldFByb2ZpbGUoKSl9ZWxzZSBpZihpPT09YS5nZXRXaWR0aCgpKXJldHVybiBhLmlkfWlmKCFuKXt2YXIgbD10aGlzLmdldFByb3BlcnR5KFwidGh1bWJuYWlsXCIpO2lmKGwpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBsKXJldHVybiBsO2lmKGxbXCJAaWRcIl0pcmV0dXJuIGxbXCJAaWRcIl07aWYobC5sZW5ndGgpcmV0dXJuIGxbMF0uaWR9fX1yZXR1cm4gdD1pK1wiLFwiLG4mJm4uZW5kc1dpdGgoXCIvXCIpJiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLTEpKSxbbixcImZ1bGxcIix0LDAscitcIi5qcGdcIl0uam9pbihcIi9cIil9LHQucHJvdG90eXBlLmdldE1heERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgZSx0PW51bGw7cmV0dXJuIHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUmJihlPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUsQXJyYXkuaXNBcnJheShlKSYmKGU9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1heFdpZHRofSkpWzBdKSYmKHQ9bmV3IG8uU2l6ZShlLm1heFdpZHRoLGUubWF4SGVpZ2h0P2UubWF4SGVpZ2h0OmUubWF4V2lkdGgpKSksdH0sdC5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5fX2pzb25sZC5pdGVtc3x8dGhpcy5fX2pzb25sZC5jb250ZW50O2lmKCF0KXJldHVybiBlO3ZhciBuPW51bGw7aWYodC5sZW5ndGgmJihuPW5ldyBvLkFubm90YXRpb25QYWdlKHRbMF0sdGhpcy5vcHRpb25zKSksIW4pcmV0dXJuIGU7Zm9yKHZhciByPW4uZ2V0SXRlbXMoKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV0sYT1uZXcgby5Bbm5vdGF0aW9uKHMsdGhpcy5vcHRpb25zKTtlLnB1c2goYSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJkdXJhdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoIXRoaXMuX19qc29ubGQuaW1hZ2VzKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5pbWFnZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5pbWFnZXNbdF0scj1uZXcgby5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTtlLnB1c2gocil9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpbmRleFwiKX0sdC5wcm90b3R5cGUuZ2V0T3RoZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PUFycmF5LmlzQXJyYXkodGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKSk/dGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKTpbdGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKV0sbj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0PWVbXCJAdHlwZVwiXSxuPVwic2M6QW5ub3RhdGlvbkxpc3RcIixcInN0cmluZ1wiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIG4mJnQudG9Mb3dlckNhc2UoKT09dC50b0xvd2VyQ2FzZSgpKTt2YXIgdCxufSkpLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IG8uQW5ub3RhdGlvbkxpc3QodC5sYWJlbHx8XCJBbm5vdGF0aW9uIGxpc3QgXCIrbix0LGUub3B0aW9ucyl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2FkKCl9KSk7cmV0dXJuIFByb21pc2UuYWxsKG4pfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0fShvLlJlc291cmNlKTt0LkNhbnZhcz1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxzPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gci5pdGVtcz1bXSxyLl9jb2xsZWN0aW9ucz1udWxsLHIuX21hbmlmZXN0cz1udWxsLHQuX19jb2xsZWN0aW9uPXIscn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldENvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb25zP3RoaXMuX2NvbGxlY3Rpb25zOnRoaXMuX2NvbGxlY3Rpb25zPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0NvbGxlY3Rpb24oKX0pKX0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hbmlmZXN0cz90aGlzLl9tYW5pZmVzdHM6dGhpcy5fbWFuaWZlc3RzPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc01hbmlmZXN0KCl9KSl9LHQucHJvdG90eXBlLmdldENvbGxlY3Rpb25CeUluZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMuZ2V0Q29sbGVjdGlvbnMoKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07aS5pbmRleD09PWUmJih0PWkpfWlmKHQpcmV0dXJuIHQub3B0aW9ucy5pbmRleD1lLHQubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gaW5kZXggbm90IGZvdW5kXCIpfSx0LnByb3RvdHlwZS5nZXRNYW5pZmVzdEJ5SW5kZXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5nZXRNYW5pZmVzdHMoKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07aS5pbmRleD09PWUmJih0PWkpfWlmKHQpcmV0dXJuIHQub3B0aW9ucy5pbmRleD1lLHQubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIk1hbmlmZXN0IGluZGV4IG5vdCBmb3VuZFwiKX0sdC5wcm90b3R5cGUuZ2V0VG90YWxDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbGxlY3Rpb25zKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRUb3RhbE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1hbmlmZXN0cygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0VG90YWxJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKT90aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKTpvLlZpZXdpbmdEaXJlY3Rpb24uTEVGVF9UT19SSUdIVH0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1zLlV0aWxzLm5vcm1hbGlzZVR5cGUocy5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksdGhpcy5fcGFyc2VNYW5pZmVzdHModGhpcyksdGhpcy5fcGFyc2VDb2xsZWN0aW9ucyh0aGlzKSxzLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sdC5wcm90b3R5cGUuX3BhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0TWFuaWZlc3RzKCkmJmUuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5nZXRNYW5pZmVzdHMoKS5sZW5ndGg7dCsrKXt2YXIgbj1lLmdldE1hbmlmZXN0cygpW3RdLHI9bi5nZXREZWZhdWx0VHJlZSgpO3IubGFiZWw9bi5wYXJlbnRMYWJlbHx8cy5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSl8fFwibWFuaWZlc3QgXCIrKHQrMSksci5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLHIuZGF0YS5pZD1uLmlkLHIuZGF0YS50eXBlPXMuVXRpbHMubm9ybWFsaXNlVHlwZShzLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksZS5kZWZhdWx0VHJlZS5hZGROb2RlKHIpfX0sdC5wcm90b3R5cGUuX3BhcnNlQ29sbGVjdGlvbnM9ZnVuY3Rpb24oZSl7aWYoZS5nZXRDb2xsZWN0aW9ucygpJiZlLmdldENvbGxlY3Rpb25zKCkubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aDt0Kyspe3ZhciBuPWUuZ2V0Q29sbGVjdGlvbnMoKVt0XSxyPW4uZ2V0RGVmYXVsdFRyZWUoKTtyLmxhYmVsPW4ucGFyZW50TGFiZWx8fHMuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcImNvbGxlY3Rpb24gXCIrKHQrMSksci5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLHIuZGF0YS5pZD1uLmlkLHIuZGF0YS50eXBlPXMuVXRpbHMubm9ybWFsaXNlVHlwZShzLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKSxlLmRlZmF1bHRUcmVlLmFkZE5vZGUocil9fSx0fShzLklJSUZSZXNvdXJjZSk7dC5Db2xsZWN0aW9uPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLXRoaXMuc3RhcnR9LGV9KCk7dC5EdXJhdGlvbj1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRlZmF1bHRMb2NhbGU9ZX1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhpcy5yZXNvdXJjZT1lLHRoaXMubGFiZWw9ci5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSksdGhpcy52YWx1ZT1yLkxhbmd1YWdlTWFwLnBhcnNlKHRoaXMucmVzb3VyY2UudmFsdWUsdGhpcy5kZWZhdWx0TG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbD9yLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMubGFiZWwsdGhpcy5kZWZhdWx0TG9jYWxlKTpudWxsfSxlLnByb3RvdHlwZS5zZXRMYWJlbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoKXt2YXIgbj10aGlzLmxhYmVsLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYWxlPT09dC5kZWZhdWx0TG9jYWxlfHxlLmxvY2FsZT09PXIuVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0LmRlZmF1bHRMb2NhbGUpfSkpWzBdO24mJihuLnZhbHVlPWUpfX0sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlKXt2YXIgZT10aGlzLmRlZmF1bHRMb2NhbGU7cmV0dXJuIHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoJiZ0aGlzLmxhYmVsWzBdLmxvY2FsZSYmKGU9dGhpcy5sYWJlbFswXS5sb2NhbGUpLHIuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy52YWx1ZSxlKX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmxlbmd0aCl7dmFyIG49dGhpcy52YWx1ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2FsZT09PXQuZGVmYXVsdExvY2FsZXx8ZS5sb2NhbGU9PT1yLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodC5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT1lKX19LGV9KCk7dC5MYWJlbFZhbHVlUGFpcj1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KGUpPzE9PT1lLmxlbmd0aD90aGlzLnZhbHVlPWVbMF06dGhpcy52YWx1ZT1lLmpvaW4oXCI8YnIvPlwiKTp0aGlzLnZhbHVlPWUsdGhpcy5sb2NhbGU9dH07dC5MYW5ndWFnZT1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5wYXJzZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W107aWYoIWUpcmV0dXJuIHI7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXTtuPVwic3RyaW5nXCI9PXR5cGVvZiBzP25ldyBvLkxhbmd1YWdlKHMsdCk6bmV3IG8uTGFuZ3VhZ2Uoc1tcIkB2YWx1ZVwiXSxzW1wiQGxhbmd1YWdlXCJdfHx0KSxyLnB1c2gobil9ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gbj1uZXcgby5MYW5ndWFnZShlLHQpLHIucHVzaChuKSxyO2VbXCJAdmFsdWVcIl0/KG49bmV3IG8uTGFuZ3VhZ2UoZVtcIkB2YWx1ZVwiXSxlW1wiQGxhbmd1YWdlXCJdfHx0KSxyLnB1c2gobikpOk9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFlW3RdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJsYW5ndWFnZSBtdXN0IGhhdmUgYSB2YWx1ZVwiKTtuPW5ldyBvLkxhbmd1YWdlKGVbdF0sdCksci5wdXNoKG4pfSkpfXJldHVybiByfSx0LmdldFZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGgpe2lmKHQpe3ZhciBuPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbGU9PT10fHxvLlV0aWxzLmdldEluZXhhY3RMb2NhbGUoZS5sb2NhbGUpPT09by5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQpfSkpWzBdO2lmKG4pcmV0dXJuIG4udmFsdWV9cmV0dXJuIGVbMF0udmFsdWV9cmV0dXJuIG51bGx9LHR9KEFycmF5KTt0Lkxhbmd1YWdlTWFwPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHM9bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO2lmKHIuaW5kZXg9MCxyLl9hbGxSYW5nZXM9bnVsbCxyLml0ZW1zPVtdLHIuX3RvcFJhbmdlcz1bXSxyLl9fanNvbmxkLnN0cnVjdHVyZXMmJnIuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpZm9yKHZhciBpPXIuX2dldFRvcFJhbmdlcygpLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXTtyLl9wYXJzZVJhbmdlcyhzLFN0cmluZyhvKSl9cmV0dXJuIHJ9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRQb3N0ZXJDYW52YXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwicG9zdGVyQ2FudmFzXCIpO3JldHVybiBlJiYoZT1uZXcgcy5DYW52YXMoZSx0aGlzLm9wdGlvbnMpKSxlfSx0LnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtpZihlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZS5jYWxsKHRoaXMpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlPXMuVXRpbHMubm9ybWFsaXNlVHlwZShzLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksIXRoaXMuaXNMb2FkZWQpcmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU7dmFyIHQ9dGhpcy5nZXRUb3BSYW5nZXMoKTtyZXR1cm4gdC5sZW5ndGgmJnRbMF0uZ2V0VHJlZSh0aGlzLmRlZmF1bHRUcmVlKSxzLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sdC5wcm90b3R5cGUuX2dldFRvcFJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW3RdO24udmlld2luZ0hpbnQ9PT1vLlZpZXdpbmdIaW50LlRPUCYmZS5wdXNoKG4pfWlmKCFlLmxlbmd0aCl7dmFyIHI9e307ci5yYW5nZXM9dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLGUucHVzaChyKX19cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFRvcFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3BSYW5nZXN9LHQucHJvdG90eXBlLl9nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZ0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1t0XTtpZihuW1wiQGlkXCJdPT09ZXx8bi5pZD09PWUpcmV0dXJuIG59cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9wYXJzZVJhbmdlcz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaT1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoaT1lLGU9dGhpcy5fZ2V0UmFuZ2VCeUlkKGkpKSxlKXsocj1uZXcgcy5SYW5nZShlLHRoaXMub3B0aW9ucykpLnBhcmVudFJhbmdlPW4sci5wYXRoPXQsbj9uLml0ZW1zLnB1c2gocik6dGhpcy5fdG9wUmFuZ2VzLnB1c2gocik7dmFyIG89ZS5pdGVtc3x8ZS5tZW1iZXJzO2lmKG8pZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspe3ZhciB1PW9bYV07aWYodVtcIkB0eXBlXCJdJiZcInNjOnJhbmdlXCI9PT11W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8dS50eXBlJiZcInJhbmdlXCI9PT11LnR5cGUudG9Mb3dlckNhc2UoKSl0aGlzLl9wYXJzZVJhbmdlcyh1LHQrXCIvXCIrYSxyKTtlbHNlIGlmKHVbXCJAdHlwZVwiXSYmXCJzYzpjYW52YXNcIj09PXVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpfHx1LnR5cGUmJlwiY2FudmFzXCI9PT11LnR5cGUudG9Mb3dlckNhc2UoKSl7ci5jYW52YXNlc3x8KHIuY2FudmFzZXM9W10pO3ZhciBjPXUuaWR8fHVbXCJAaWRcIl07ci5jYW52YXNlcy5wdXNoKGMpfX1lbHNlIGlmKGUucmFuZ2VzKWZvcihhPTA7YTxlLnJhbmdlcy5sZW5ndGg7YSsrKXRoaXMuX3BhcnNlUmFuZ2VzKGUucmFuZ2VzW2FdLHQrXCIvXCIrYSxyKX1lbHNlIGNvbnNvbGUud2FybihcIlJhbmdlOlwiLGksXCJkb2VzIG5vdCBleGlzdFwiKX0sdC5wcm90b3R5cGUuZ2V0QWxsUmFuZ2VzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fYWxsUmFuZ2VzKXJldHVybiB0aGlzLl9hbGxSYW5nZXM7dGhpcy5fYWxsUmFuZ2VzPVtdO2Zvcih2YXIgZT10aGlzLmdldFRvcFJhbmdlcygpLHQ9ZnVuY3Rpb24odCl7dmFyIHI9ZVt0XTtyLmlkJiZuLl9hbGxSYW5nZXMucHVzaChyKTt2YXIgaT1mdW5jdGlvbihlLHQpe2UuYWRkKHQpO3ZhciBuPXQuZ2V0UmFuZ2VzKCk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKGksZSk6ZX0sbz1BcnJheS5mcm9tKHIuZ2V0UmFuZ2VzKCkucmVkdWNlKGksbmV3IFNldCkpO24uX2FsbFJhbmdlcz1uLl9hbGxSYW5nZXMuY29uY2F0KG8pfSxuPXRoaXMscj0wO3I8ZS5sZW5ndGg7cisrKXQocik7cmV0dXJuIHRoaXMuX2FsbFJhbmdlc30sdC5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLmlkPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VCeVBhdGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0QWxsUmFuZ2VzKCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKHIucGF0aD09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFNlcXVlbmNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXJldHVybiB0aGlzLml0ZW1zO3ZhciBlPXRoaXMuX19qc29ubGQubWVkaWFTZXF1ZW5jZXN8fHRoaXMuX19qc29ubGQuc2VxdWVuY2VzO2lmKGUpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0scj1uZXcgcy5TZXF1ZW5jZShuLHRoaXMub3B0aW9ucyk7dGhpcy5pdGVtcy5wdXNoKHIpfWVsc2UgaWYodGhpcy5fX2pzb25sZC5pdGVtcyl7cj1uZXcgcy5TZXF1ZW5jZSh0aGlzLl9fanNvbmxkLml0ZW1zLHRoaXMub3B0aW9ucyk7dGhpcy5pdGVtcy5wdXNoKHIpfXJldHVybiB0aGlzLml0ZW1zfSx0LnByb3RvdHlwZS5nZXRTZXF1ZW5jZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKClbZV19LHQucHJvdG90eXBlLmdldFRvdGFsU2VxdWVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlcnZpY2Uoby5TZXJ2aWNlUHJvZmlsZS5VSV9FWFRFTlNJT05TKTtyZXR1cm4gZT9lLmdldFByb3BlcnR5KFwibWFuaWZlc3RUeXBlXCIpOnMuTWFuaWZlc3RUeXBlLkVNUFRZfSx0LnByb3RvdHlwZS5pc011bHRpU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbFNlcXVlbmNlcygpPjF9LHQucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtpZihlKXJldHVybiBlPT09by5WaWV3aW5nSGludC5QQUdFRDt2YXIgdD10aGlzLmdldEJlaGF2aW9yKCk7cmV0dXJuISF0JiZ0PT09by5CZWhhdmlvci5QQUdFRH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0fShzLklJSUZSZXNvdXJjZSk7dC5NYW5pZmVzdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5FTVBUWT1cIlwiLGUuTUFOVVNDUklQVD1cIm1hbnVzY3JpcHRcIixlLk1PTk9HUkFQSD1cIm1vbm9ncmFwaFwifSh0Lk1hbmlmZXN0VHlwZXx8KHQuTWFuaWZlc3RUeXBlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9bigxKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiByLl9yYW5nZXM9bnVsbCxyLmNhbnZhc2VzPW51bGwsci5pdGVtcz1bXSxyfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2FudmFzSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19qc29ubGQuY2FudmFzZXM/dGhpcy5fX2pzb25sZC5jYW52YXNlczp0aGlzLmNhbnZhc2VzP3RoaXMuY2FudmFzZXM6W119LHQucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZih0aGlzLmNhbnZhc2VzJiZ0aGlzLmNhbnZhc2VzLmxlbmd0aClmb3IodmFyIG49MDtuPHRoaXMuY2FudmFzZXMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5jYW52YXNlc1tuXSxpPW8uVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQocik7aSYmaS5sZW5ndGg+MSYmKDA9PT1uJiYoZT1OdW1iZXIoaVswXSkpLG49PT10aGlzLmNhbnZhc2VzLmxlbmd0aC0xJiYodD1OdW1iZXIoaVsxXSkpKX1lbHNle3ZhciBzPXRoaXMuZ2V0UmFuZ2VzKCk7Zm9yKG49MDtuPHMubGVuZ3RoO24rKyl7dmFyIGE9c1tuXS5nZXREdXJhdGlvbigpO2EmJigwPT09biYmKGU9YS5zdGFydCksbj09PXMubGVuZ3RoLTEmJih0PWEuZW5kKSl9fWlmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PXQpcmV0dXJuIG5ldyBvLkR1cmF0aW9uKGUsdCl9LHQucHJvdG90eXBlLmdldFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXM/dGhpcy5fcmFuZ2VzOnRoaXMuX3Jhbmdlcz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNSYW5nZSgpfSkpfSx0LnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0LnByb3RvdHlwZS5nZXRUcmVlPWZ1bmN0aW9uKGUpe2UuZGF0YT10aGlzLHRoaXMudHJlZU5vZGU9ZTt2YXIgdD10aGlzLmdldFJhbmdlcygpO2lmKHQmJnQubGVuZ3RoKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9bmV3IG8uVHJlZU5vZGU7ZS5hZGROb2RlKGkpLHRoaXMuX3BhcnNlVHJlZU5vZGUoaSxyKX1yZXR1cm4gby5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKGUpLGV9LHQucHJvdG90eXBlLnNwYW5zVGltZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldER1cmF0aW9uKCk7cmV0dXJuISEodCYmZT49dC5zdGFydCYmZTw9dC5lbmQpfSx0LnByb3RvdHlwZS5fcGFyc2VUcmVlTm9kZT1mdW5jdGlvbihlLHQpe2UubGFiZWw9by5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0LmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSksZS5kYXRhPXQsZS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLlJBTkdFKSx0LnRyZWVOb2RlPWU7dmFyIG49dC5nZXRSYW5nZXMoKTtpZihuJiZuLmxlbmd0aClmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZihpLmdldEJlaGF2aW9yKCkhPT1zLkJlaGF2aW9yLk5PX05BVil7dmFyIGE9bmV3IG8uVHJlZU5vZGU7ZS5hZGROb2RlKGEpLHRoaXMuX3BhcnNlVHJlZU5vZGUoYSxpKX19fSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmFuZ2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpfSx0fShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmVuZGVyaW5nPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHM9bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiByLml0ZW1zPVtdLHIuX3RodW1ibmFpbHM9bnVsbCxyfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2FudmFzZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgZT10aGlzLl9fanNvbmxkLmNhbnZhc2VzfHx0aGlzLl9fanNvbmxkLmVsZW1lbnRzO2lmKGUpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07KHI9bmV3IHMuQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9dCx0aGlzLml0ZW1zLnB1c2gocil9ZWxzZSBpZih0aGlzLl9fanNvbmxkKWZvcih0PTA7dDx0aGlzLl9fanNvbmxkLmxlbmd0aDt0Kyspe3ZhciByO249dGhpcy5fX2pzb25sZFt0XTsocj1uZXcgcy5DYW52YXMobix0aGlzLm9wdGlvbnMpKS5pbmRleD10LHRoaXMuaXRlbXMucHVzaChyKX1yZXR1cm4gdGhpcy5pdGVtc30sdC5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKyl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLHI9cy5VdGlscy5ub3JtYWxpc2VVcmwobi5pZCk7aWYocy5VdGlscy5ub3JtYWxpc2VVcmwoZSk9PT1yKXJldHVybiBufXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRDYW52YXNCeUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKClbZV19LHQucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKyl7aWYodGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLmlkPT09ZSlyZXR1cm4gdH1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsPWZ1bmN0aW9uKGUsdCl7ZT1lLnRyaW0oKSxpc05hTihlKXx8KGU9cGFyc2VJbnQoZSwxMCkudG9TdHJpbmcoKSx0JiYoZSs9XCJyXCIpKTtmb3IodmFyIG4scixpLG89LyhcXGQqKVxcRCsoXFxkKikvLGE9MDthPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO2ErKyl7dmFyIHU9dGhpcy5nZXRDYW52YXNCeUluZGV4KGEpO2lmKHMuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodS5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpPT09ZSlyZXR1cm4gYTtpZigobj1vLmV4ZWMoZSkpJiYocj1uWzFdLChpPW5bMl0pJiZuZXcgUmVnRXhwKFwiXlwiK3IrXCJcXFxcRCtcIitpK1wiJFwiKS50ZXN0KHUuZ2V0TGFiZWwoKS50b1N0cmluZygpKSkpcmV0dXJuIGF9cmV0dXJuLTF9LHQucHJvdG90eXBlLmdldExhc3RDYW52YXNMYWJlbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMTt0Pj0wO3QtLSl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLHI9cy5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSk7aWYoZSl7aWYoL15bYS16QS1aMC05XSokLy50ZXN0KHIpKXJldHVybiByfWVsc2UgaWYocilyZXR1cm4gcn1yZXR1cm4gdGhpcy5vcHRpb25zLmRlZmF1bHRMYWJlbH0sdC5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5nZXROZXh0UGFnZUluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodCl7dmFyIHI9dGhpcy5nZXRQYWdlZEluZGljZXMoZSksaT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPWkmJmk9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9yWzBdKzE6cltyLmxlbmd0aC0xXSsxfWVsc2Ugbj1lKzE7cmV0dXJuIG4+dGhpcy5nZXRMYXN0UGFnZUluZGV4KCk/LTE6bn0sdC5wcm90b3R5cGUuZ2V0UGFnZWRJbmRpY2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYodCl7bj10aGlzLmlzRmlyc3RDYW52YXMoZSl8fHRoaXMuaXNMYXN0Q2FudmFzKGUpP1tlXTplJTI/W2UsZSsxXTpbZS0xLGVdO3ZhciByPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3ImJnI9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVCYmKG49bi5yZXZlcnNlKCkpfWVsc2Ugbi5wdXNoKGUpO3JldHVybiBufSx0LnByb3RvdHlwZS5nZXRQcmV2UGFnZUluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodCl7dmFyIHI9dGhpcy5nZXRQYWdlZEluZGljZXMoZSksaT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPWkmJmk9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9yW3IubGVuZ3RoLTFdLTE6clswXS0xfWVsc2Ugbj1lLTE7cmV0dXJuIG59LHQucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzSW5kZXg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFN0YXJ0Q2FudmFzKCk7aWYoZSlmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKyl7aWYodGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLmlkPT09ZSlyZXR1cm4gdH1yZXR1cm4gMH0sdC5wcm90b3R5cGUuZ2V0VGh1bWJzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCksaT0wO2k8cjtpKyspe3ZhciBvPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChpKSxhPW5ldyBzLlRodW1iKGUsbyk7bi5wdXNoKGEpfXJldHVybiBufSx0LnByb3RvdHlwZS5nZXRUaHVtYm5haWxzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fdGh1bWJuYWlscylyZXR1cm4gdGhpcy5fdGh1bWJuYWlsczt0aGlzLl90aHVtYm5haWxzPVtdO2Zvcih2YXIgZT10aGlzLmdldENhbnZhc2VzKCksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLmdldFRodW1ibmFpbCgpO24mJnRoaXMuX3RodW1ibmFpbHMucHVzaChuKX1yZXR1cm4gdGhpcy5fdGh1bWJuYWlsc30sdC5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInN0YXJ0Q2FudmFzXCIpfSx0LnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24/dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24oKTpudWxsfSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LHQucHJvdG90eXBlLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPnRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LHQucHJvdG90eXBlLmlzRmlyc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lfSx0LnByb3RvdHlwZS5pc0xhc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5pc011bHRpQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpPjF9LHQucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4hIWUmJmU9PT1vLlZpZXdpbmdIaW50LlBBR0VEfSx0LnByb3RvdHlwZS5pc1RvdGFsQ2FudmFzZXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpJTI9PTB9LHR9KHMuTWFuaWZlc3RSZXNvdXJjZSk7dC5TZXF1ZW5jZT1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1KU09OLnBhcnNlKGUpKSx0aGlzLnBhcnNlSnNvbihlLHQpfSxlLnBhcnNlSnNvbj1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQmJnQubmF2RGF0ZSYmIWlzTmFOKHQubmF2RGF0ZS5nZXRUaW1lKCkpJiYoZS5uYXZEYXRlPXQubmF2RGF0ZS50b1N0cmluZygpKSxlW1wiQHR5cGVcIl0pc3dpdGNoKGVbXCJAdHlwZVwiXSl7Y2FzZVwic2M6Q29sbGVjdGlvblwiOm49dGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KTticmVhaztjYXNlXCJzYzpNYW5pZmVzdFwiOm49dGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1lbHNlIHN3aXRjaChlLnR5cGUpe2Nhc2VcIkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCk7YnJlYWs7Y2FzZVwiTWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIG4uaXNMb2FkZWQ9ITAsbn0sZS5wYXJzZUNvbGxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgci5Db2xsZWN0aW9uKGUsdCk7cmV0dXJuIHQ/KG4uaW5kZXg9dC5pbmRleHx8MCx0LnJlc291cmNlJiYobi5wYXJlbnRDb2xsZWN0aW9uPXQucmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbikpOm4uaW5kZXg9MCx0aGlzLnBhcnNlQ29sbGVjdGlvbnMobix0KSx0aGlzLnBhcnNlTWFuaWZlc3RzKG4sdCksdGhpcy5wYXJzZUl0ZW1zKG4sdCksbn0sZS5wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5fX2pzb25sZC5jb2xsZWN0aW9ucz9uPWUuX19qc29ubGQuY29sbGVjdGlvbnM6ZS5fX2pzb25sZC5pdGVtcyYmKG49ZS5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiY29sbGVjdGlvblwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3QmJih0LmluZGV4PXIpO3ZhciBpPXRoaXMucGFyc2VDb2xsZWN0aW9uKG5bcl0sdCk7aS5pbmRleD1yLGkucGFyZW50Q29sbGVjdGlvbj1lLGUuaXRlbXMucHVzaChpKX19LGUucGFyc2VNYW5pZmVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgci5NYW5pZmVzdChlLHQpfSxlLnBhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5fX2pzb25sZC5tYW5pZmVzdHM/bj1lLl9fanNvbmxkLm1hbmlmZXN0czplLl9fanNvbmxkLml0ZW1zJiYobj1lLl9fanNvbmxkLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJtYW5pZmVzdFwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMucGFyc2VNYW5pZmVzdChuW3JdLHQpO2kuaW5kZXg9cixpLnBhcmVudENvbGxlY3Rpb249ZSxlLml0ZW1zLnB1c2goaSl9fSxlLnBhcnNlSXRlbT1mdW5jdGlvbihlLHQpe2lmKGVbXCJAdHlwZVwiXSl7aWYoXCJzYzptYW5pZmVzdFwiPT09ZVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2lmKFwic2M6Y29sbGVjdGlvblwiPT09ZVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCl9ZWxzZSBpZihlLnR5cGUpe2lmKFwibWFuaWZlc3RcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTtpZihcImNvbGxlY3Rpb25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpfXJldHVybiBudWxsfSxlLnBhcnNlSXRlbXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl9fanNvbmxkLm1lbWJlcnN8fGUuX19qc29ubGQuaXRlbXM7aWYobilmb3IodmFyIHI9ZnVuY3Rpb24ocil7dCYmKHQuaW5kZXg9cik7dmFyIG89aS5wYXJzZUl0ZW0obltyXSx0KTtyZXR1cm4gbz9lLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1vLmlkfSkpWzBdP1wiY29udGludWVcIjooby5pbmRleD1yLG8ucGFyZW50Q29sbGVjdGlvbj1lLHZvaWQgZS5pdGVtcy5wdXNoKG8pKTp7dmFsdWU6dm9pZCAwfX0saT10aGlzLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHM9cihvKTtpZihcIm9iamVjdFwiPT10eXBlb2YgcylyZXR1cm4gcy52YWx1ZX19LGV9KCk7dC5EZXNlcmlhbGlzZXI9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRQcm9maWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInByb2ZpbGVcIik7cmV0dXJuIGV8fChlPXRoaXMuZ2V0UHJvcGVydHkoXCJkY3Rlcm1zOmNvbmZvcm1zVG9cIikpLEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfSx0LnByb3RvdHlwZS5nZXRDb25maXJtTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiY29uZmlybUxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RmFpbHVyZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImZhaWx1cmVEZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RmFpbHVyZUhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlSGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiaGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEluZm9Vcmk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlkO3JldHVybiBlLmVuZHNXaXRoKFwiL1wiKXx8KGUrPVwiL1wiKSxlKz1cImluZm8uanNvblwifSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuU2VydmljZT1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH07dC5TaXplPXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtlW2UuQVVUSE9SSVpBVElPTl9GQUlMRUQ9MV09XCJBVVRIT1JJWkFUSU9OX0ZBSUxFRFwiLGVbZS5GT1JCSURERU49Ml09XCJGT1JCSURERU5cIixlW2UuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTNdPVwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsZVtlLlJFU1RSSUNURUQ9NF09XCJSRVNUUklDVEVEXCJ9KHQuU3RhdHVzQ29kZXx8KHQuU3RhdHVzQ29kZT17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhPXQsdGhpcy5pbmRleD10LmluZGV4LHRoaXMud2lkdGg9ZTt2YXIgbj10LmdldEhlaWdodCgpL3QuZ2V0V2lkdGgoKTt0aGlzLmhlaWdodD1uP01hdGguZmxvb3IodGhpcy53aWR0aCpuKTplLHRoaXMudXJpPXQuZ2V0Q2Fub25pY2FsSW1hZ2VVcmkoZSksdGhpcy5sYWJlbD1yLkxhbmd1YWdlTWFwLmdldFZhbHVlKHQuZ2V0TGFiZWwoKSl9O3QuVGh1bWI9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KG4oMCkuUmVzb3VyY2UpO3QuVGh1bWJuYWlsPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDApLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5sYWJlbD1lLHRoaXMuZGF0YT10fHx7fSx0aGlzLm5vZGVzPVtdfXJldHVybiBlLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKGUpe3RoaXMubm9kZXMucHVzaChlKSxlLnBhcmVudE5vZGU9dGhpc30sZS5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09ci5VdGlscy5ub3JtYWxpc2VUeXBlKHIuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pfSxlLnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09ci5VdGlscy5ub3JtYWxpc2VUeXBlKHIuVHJlZU5vZGVUeXBlLk1BTklGRVNUKX0sZS5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PXIuVXRpbHMubm9ybWFsaXNlVHlwZShyLlRyZWVOb2RlVHlwZS5SQU5HRSl9LGV9KCk7dC5UcmVlTm9kZT1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLGUuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLGUuUkFOR0U9XCJyYW5nZVwifSh0LlRyZWVOb2RlVHlwZXx8KHQuVHJlZU5vZGVUeXBlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXt3aW5kb3csZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBpPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIGkgaW4gZSluLmQocixpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNPTlRJTlVFPTEwMCx0LlNXSVRDSElOR19QUk9UT0NPTFM9MTAxLHQuUFJPQ0VTU0lORz0xMDIsdC5PSz0yMDAsdC5DUkVBVEVEPTIwMSx0LkFDQ0VQVEVEPTIwMix0Lk5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OPTIwMyx0Lk5PX0NPTlRFTlQ9MjA0LHQuUkVTRVRfQ09OVEVOVD0yMDUsdC5QQVJUSUFMX0NPTlRFTlQ9MjA2LHQuTVVMVElfU1RBVFVTPTIwNyx0Lk1VTFRJUExFX0NIT0lDRVM9MzAwLHQuTU9WRURfUEVSTUFORU5UTFk9MzAxLHQuTU9WRURfVEVNUE9SQVJJTFk9MzAyLHQuU0VFX09USEVSPTMwMyx0Lk5PVF9NT0RJRklFRD0zMDQsdC5VU0VfUFJPWFk9MzA1LHQuVEVNUE9SQVJZX1JFRElSRUNUPTMwNyx0LkJBRF9SRVFVRVNUPTQwMCx0LlVOQVVUSE9SSVpFRD00MDEsdC5QQVlNRU5UX1JFUVVJUkVEPTQwMix0LkZPUkJJRERFTj00MDMsdC5OT1RfRk9VTkQ9NDA0LHQuTUVUSE9EX05PVF9BTExPV0VEPTQwNSx0Lk5PVF9BQ0NFUFRBQkxFPTQwNix0LlBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTQwNyx0LlJFUVVFU1RfVElNRV9PVVQ9NDA4LHQuQ09ORkxJQ1Q9NDA5LHQuR09ORT00MTAsdC5MRU5HVEhfUkVRVUlSRUQ9NDExLHQuUFJFQ09ORElUSU9OX0ZBSUxFRD00MTIsdC5SRVFVRVNUX0VOVElUWV9UT09fTEFSR0U9NDEzLHQuUkVRVUVTVF9VUklfVE9PX0xBUkdFPTQxNCx0LlVOU1VQUE9SVEVEX01FRElBX1RZUEU9NDE1LHQuUkVRVUVTVEVEX1JBTkdFX05PVF9TQVRJU0ZJQUJMRT00MTYsdC5FWFBFQ1RBVElPTl9GQUlMRUQ9NDE3LHQuSU1fQV9URUFQT1Q9NDE4LHQuVU5QUk9DRVNTQUJMRV9FTlRJVFk9NDIyLHQuTE9DS0VEPTQyMyx0LkZBSUxFRF9ERVBFTkRFTkNZPTQyNCx0LlVOT1JERVJFRF9DT0xMRUNUSU9OPTQyNSx0LlVQR1JBREVfUkVRVUlSRUQ9NDI2LHQuUFJFQ09ORElUSU9OX1JFUVVJUkVEPTQyOCx0LlRPT19NQU5ZX1JFUVVFU1RTPTQyOSx0LlJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0U9NDMxLHQuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMCx0Lk5PVF9JTVBMRU1FTlRFRD01MDEsdC5CQURfR0FURVdBWT01MDIsdC5TRVJWSUNFX1VOQVZBSUxBQkxFPTUwMyx0LkdBVEVXQVlfVElNRV9PVVQ9NTA0LHQuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ9NTA1LHQuVkFSSUFOVF9BTFNPX05FR09USUFURVM9NTA2LHQuSU5TVUZGSUNJRU5UX1NUT1JBR0U9NTA3LHQuQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEPTUwOSx0Lk5PVF9FWFRFTkRFRD01MTAsdC5ORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTUxMX1dKX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz13aW5kb3cuZmV0Y2h8fCh3aW5kb3cuZmV0Y2g9bigzKS5kZWZhdWx0fHxuKDMpKX1dKX0pKTsiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJyZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0Jyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1ibGluZCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtYm91bmNlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1jbGlwJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1kcm9wJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1leHBsb2RlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1mYWRlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1mb2xkJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXB1ZmYnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXB1bHNhdGUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNjYWxlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zaGFrZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2l6ZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2xpZGUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXRyYW5zZmVyJyk7IiwicmVxdWlyZSgnanF1ZXJ5LXVpL3VpL3dpZGdldCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkva2V5Y29kZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9tb3VzZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9zbGlkZXInKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3RoZW1lcy9iYXNlL2NvcmUuY3NzJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS90aGVtZXMvYmFzZS9zbGlkZXIuY3NzJyk7IiwiZXhwb3J0IGRlZmF1bHQge1xuICBsb2NhbGVzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ9CR0YrQu9Cz0LDRgNGB0LrQuCcsXG4gICAgICBjb2RlOiAnYmcnLFxuICAgICAgaXNvOiAnYmctQkcnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnxIxlxaF0aW5hJyxcbiAgICAgIGNvZGU6ICdjcycsXG4gICAgICBpc286ICdjcy1DWidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdEYW5zaycsXG4gICAgICBjb2RlOiAnZGEnLFxuICAgICAgaXNvOiAnZGEtREsnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRGV1dHNjaCcsXG4gICAgICBjb2RlOiAnZGUnLFxuICAgICAgaXNvOiAnZGUtREUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnzpXOu867zrfOvc65zrrOrCcsXG4gICAgICBjb2RlOiAnZWwnLFxuICAgICAgaXNvOiAnZWwtR1InXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRW5nbGlzaCcsXG4gICAgICBjb2RlOiAnZW4nLFxuICAgICAgaXNvOiAnZW4tR0InXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRXNwYcOxb2wnLFxuICAgICAgY29kZTogJ2VzJyxcbiAgICAgIGlzbzogJ2VzLUVTJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0Vlc3RpJyxcbiAgICAgIGNvZGU6ICdldCcsXG4gICAgICBpc286ICdldC1FRSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdFdXNrYXJhJyxcbiAgICAgIGNvZGU6ICdldScsXG4gICAgICBpc286ICdldS1FUydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdW9taScsXG4gICAgICBjb2RlOiAnZmknLFxuICAgICAgaXNvOiAnZmktRkknXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRnJhbsOnYWlzJyxcbiAgICAgIGNvZGU6ICdmcicsXG4gICAgICBpc286ICdmci1GUidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdHYWVpbGdlJyxcbiAgICAgIGNvZGU6ICdnYScsXG4gICAgICBpc286ICdnYS1JRSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdIcnZhdHNraScsXG4gICAgICBjb2RlOiAnaHInLFxuICAgICAgaXNvOiAnaHItSFInXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTWFneWFyJyxcbiAgICAgIGNvZGU6ICdodScsXG4gICAgICBpc286ICdodS1IVSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJdGFsaWFubycsXG4gICAgICBjb2RlOiAnaXQnLFxuICAgICAgaXNvOiAnaXQtSVQnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTGlldHV2acWzJyxcbiAgICAgIGNvZGU6ICdsdCcsXG4gICAgICBpc286ICdsdC1MVCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdMYXR2aWXFoXUnLFxuICAgICAgY29kZTogJ2x2JyxcbiAgICAgIGlzbzogJ2x2LUxWJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ01hbHRpJyxcbiAgICAgIGNvZGU6ICdtdCcsXG4gICAgICBpc286ICdtdC1NVCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdOZWRlcmxhbmRzJyxcbiAgICAgIGNvZGU6ICdubCcsXG4gICAgICBpc286ICdubC1OTCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdQb2xza2knLFxuICAgICAgY29kZTogJ3BsJyxcbiAgICAgIGlzbzogJ3BsLVBMJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1BvcnR1Z3XDqnMnLFxuICAgICAgY29kZTogJ3B0JyxcbiAgICAgIGlzbzogJ3B0LVBUJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1JvbcOibsSDJyxcbiAgICAgIGNvZGU6ICdybycsXG4gICAgICBpc286ICdyby1STydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTbG92ZW7EjWluYScsXG4gICAgICBjb2RlOiAnc2snLFxuICAgICAgaXNvOiAnc2stU0snXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2xvdmVuxaHEjWluYScsXG4gICAgICBjb2RlOiAnc2wnLFxuICAgICAgaXNvOiAnc2wtU0knXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU3ZlbnNrYScsXG4gICAgICBjb2RlOiAnc3YnLFxuICAgICAgaXNvOiAnc3YtU0UnXG4gICAgfVxuICBdXG59O1xuIiwiLyogZ2xvYmFsICQgKi9cblxuY29uc3QgaWRQYXJ0ID0gJz9pZD0nO1xuXG5mdW5jdGlvbiBoYW5kbGVFVXNjcmVlbkl0ZW0ocGxheWVyLCBoZWxwZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IEVVc2NyZWVuaXRlbXBhZ2UgPSAgaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkuaWQ7XG4gICAgbGV0IEVVc2NyZWVuSWQgPSBFVXNjcmVlbml0ZW1wYWdlLnN1YnN0cmluZyhFVXNjcmVlbml0ZW1wYWdlLmluZGV4T2YoaWRQYXJ0KStpZFBhcnQubGVuZ3RoKTtcblxuICAgICQuZ2V0KCdodHRwczovL2V1c2NyZWVuLmVtYmQuZXUvJytFVXNjcmVlbklkLCAocmVzcG9uc2UpID0+IHtcbiAgICAgIGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5pZCA9IGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pZC5zdWJzdHJpbmcoMCwgaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLmlkLmxhc3RJbmRleE9mKCcvJykpKycvY2FudmFzL3AxJztcbiAgICAgIGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS50eXBlID0gJ0NhbnZhcyc7XG4gICAgICBoZWxwZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF0uaGVpZ2h0ID0gcmVzcG9uc2UuaGVpZ2h0O1xuICAgICAgaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLndpZHRoID0gcmVzcG9uc2Uud2lkdGg7XG4gICAgICBoZWxwZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF0uZHVyYXRpb24gPSByZXNwb25zZS5kdXJhdGlvbjtcblxuICAgICAgaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkuaWQgPSByZXNwb25zZS5sb2NhdGlvbjtcbiAgICAgIGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5pdGVtc1swXS5pdGVtc1swXS5ib2R5LmZvcm1hdCA9IHJlc3BvbnNlLmZvcm1hdDtcblxuICAgICAgcmVzb2x2ZShoZWxwZXIpO1xuICAgIH0pXG4gICAgICAuZmFpbCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCByZWNlaXZlIHJlcXVpcmVkIGllbSBpbmZvcm1hdGlvbiBmb3IgJytFVXNjcmVlbklkKTtcbiAgICAgICAgcmVqZWN0KGhlbHBlcik7XG4gICAgICB9KTtcbiAgfSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaGFuZGxlRVVzY3JlZW5JdGVtXG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLyogZ2xvYmFsICQgaW5pdENhbnZhc05hdmlnYXRpb24gKi9cblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbnJlcXVpcmUoJ0BpaWlmL2lpaWYtdHJlZS1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ0BpaWlmL2Jhc2UtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdtYW5pZmVzdG8uanMnKTtcbmNvbnN0IE1hbmlmb2xkID0gcmVxdWlyZSgnQGlpaWYvbWFuaWZvbGQnKTtcbmNvbnN0IElJSUZBVkNvbXBvbmVudCA9IHJlcXVpcmUoJ0BpaWlmL2lpaWYtYXYtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdkYXNoanMnKTtcblxucmVxdWlyZSgnd2VicGFjay1qcXVlcnktdWkvc2xpZGVyJyk7XG5yZXF1aXJlKCd3ZWJwYWNrLWpxdWVyeS11aS9lZmZlY3RzJyk7XG5cbmltcG9ydCBCYW5hbmEgZnJvbSAnYmFuYW5hLWkxOG4nO1xuXG5jb25zdCB7IHBsYXlFdmVudEhhbmRsZXIsIHBhdXNlRXZlbnRIYW5kbGVyLCB2b2x1bWVDaGFuZ2VkRXZlbnRIYW5kbGVyLCBrZXlFdmVudEhhbmRsZXIsIHBsYXlQYXVzZUV2ZW50SGFuZGxlciwgZnVsbFNjcmVlbkV2ZW50SGFuZGxlciwgZWRpdG9yQnV0dG9uRXZlbnRIYW5kbGVyLCB0b2dnbGVTdWJ0aXRsZXNFdmVudEhhbmRsZXIsIHN1YnRpdGxlTWVudUV2ZW50SGFuZGxlciwgb3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIsIG1lZGlhRXJyb3JIYW5kbGVyIH0gPSByZXF1aXJlKCcuL3BsYXllckV2ZW50SGFuZGxlcnMnKTtcblxuY29uc3QgeyBoYW5kbGVFVXNjcmVlbkl0ZW0gfSA9IHJlcXVpcmUoJy4vRVVzY3JlZW4nKTtcblxuY29uc3QgeyBoYW5kbGVUcmFuc2NyaXB0aW9uQW5ub3RhdGlvbnMgfSA9IHJlcXVpcmUoJy4vdHJhbnNjcmlwdGlvbkFubm90YXRpb25zJyk7XG5cbmNvbnN0IGxhbmd1YWdlcyA9IHJlcXVpcmUoJy4uL2xhbmd1YWdlcy9sYW5nLmpzJykuZGVmYXVsdC5sb2NhbGVzO1xuY29uc3QgaTE4biA9IHJlcXVpcmUoJy4vaTE4bi9sYW5ndWFnZXMuanNvbicpO1xuXG5sZXQgaGVscGVyO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihlbGVtKSB7XG4gICAgaWYgKCFlbGVtKSByZXR1cm47XG4gICAgdGhpcy5lbGVtID0gZWxlbTtcblxuICAgIHRoaXMudmlkZW9JZCA9ICcnO1xuICAgIHRoaXMuYXZjb21wb25lbnQ7XG4gICAgdGhpcy50aW1ldXBkYXRlO1xuICAgIHRoaXMubWFuaWZlc3Q7XG4gICAgdGhpcy5tYW5pZmVzdHVybDtcbiAgICB0aGlzLmVkaXRvcnVybDtcbiAgICB0aGlzLmJhbmFuYTtcbiAgfVxuXG4gIGluaXQodmlkZW9PYmosIGVkaXRvcnVybCwgbGFuZ3VhZ2UpIHtcbiAgICB0aGlzLmNyZWF0ZUFWQ29tcG9uZW50KCk7XG4gICAgdGhpcy5jcmVhdGVNYW5pZmVzdCh2aWRlb09iaik7XG4gICAgdGhpcy5lZGl0b3J1cmwgPSBlZGl0b3J1cmw7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGltaXRUb1JhbmdlOiBmYWxzZSxcbiAgICAgIGF1dG9TZWxlY3RSYW5nZTogdHJ1ZSxcbiAgICAgIGNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlOiB0cnVlLFxuICAgICAgdmlydHVhbENhbnZhc0VuYWJsZWQ6IHRydWVcbiAgICB9O1xuXG4gICAgLy9DaGVjayBpZiB0aGUgbGFuZ3VhZ2UgaXMgc2V0LCBhbmQgaWYgd2UgaGF2ZSB0aGlzIHByZXNlbnQsIG90aGVyd2lzZSBkZWZhdWx0IHRvIEVuZ2xpc2hcbiAgICBpZiAobGFuZ3VhZ2UubGVuZ3RoID09PSAwIHx8IGxhbmd1YWdlcy5maW5kKGxhbmcgPT4gbGFuZy5jb2RlID09PSBsYW5ndWFnZSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGFuZ3VhZ2UgPSAnZW4nO1xuICAgIH1cblxuICAgIGNvbnN0IGJhbmFuYSA9IG5ldyBCYW5hbmEobGFuZ3VhZ2UpO1xuICAgIGJhbmFuYS5sb2FkKGkxOG5bbGFuZ3VhZ2VdLCBsYW5ndWFnZSk7XG4gICAgdGhpcy5iYW5hbmEgPSBiYW5hbmE7XG4gIH1cblxuICBjcmVhdGVBVkNvbXBvbmVudCgpIHtcbiAgICB0aGlzLiRhdmNvbXBvbmVudCA9ICQoJzxkaXYgY2xhc3M9XCJpaWlmLWF2LWNvbXBvbmVudFwiIHRhYmluZGV4PVwiMFwiPjwvZGl2PicpO1xuICAgICQodGhpcy5lbGVtKS5hcHBlbmQodGhpcy4kYXZjb21wb25lbnQpO1xuXG4gICAgbGV0IHBsYXllciA9IHRoaXM7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50ID0gbmV3IElJSUZBVkNvbXBvbmVudC5BVkNvbXBvbmVudCh7IHRhcmdldDogdGhpcy4kYXZjb21wb25lbnRbMF0gfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCdtZWRpYWVycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICBtZWRpYUVycm9ySGFuZGxlcihwbGF5ZXIsIGVycm9yKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ2xvZycsIChtZXNzYWdlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ3BsYXknLCAoKSA9PiB7XG4gICAgICBwbGF5RXZlbnRIYW5kbGVyKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCdwYXVzZScsICgpID0+IHtcbiAgICAgIHBhdXNlRXZlbnRIYW5kbGVyKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCdtZWRpYXJlYWR5JywgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVNZWRpYVJlYWR5KHBsYXllcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCdmdWxsc2NyZWVuJywgKCkgPT4ge1xuICAgICAgZnVsbFNjcmVlbkV2ZW50SGFuZGxlcihwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdmNvbXBvbmVudC5vbigndm9sdW1lY2hhbmdlZCcsICh2YWx1ZSkgPT4ge1xuICAgICAgdm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlcihwbGF5ZXIsIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGF2Y29tcG9uZW50Lm9uKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgIGtleUV2ZW50SGFuZGxlcihwbGF5ZXIsIGUpO1xuICAgIH0pO1xuICB9XG5cbiAgaXRlbVNlbGVjdExpc3RlbmVyKGRhdGEpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlciA9IHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVyLnZpZGVvSWQgPSBkYXRhO1xuXG4gICAgbGV0IHBsYXllciA9IHRoaXM7XG5cbiAgICB0aGlzLmhhbmRsZXIubGRNYW5pZmVzdChkYXRhLCAoaGVscGVyKSA9PiB7XG4gICAgICBwbGF5ZXIubWFuaWZlc3QgPSBoZWxwZXIubWFuaWZlc3Q7XG5cbiAgICAgIGxldCBjYW52YXNlcyA9IGhlbHBlci5nZXRDYW52YXNlcygpO1xuICAgICAgaWYgKGNhbnZhc2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaW5pdENhbnZhc05hdmlnYXRpb24oY2FudmFzZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmNhbnZhc05hdmlnYXRpb25Db250YWluZXInKS5oaWRlKCk7XG4gICAgICB9XG4gICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFUlJPUjogQ291bGQgbm90IGxvYWQgbWFuaWZlc3QgZGF0YS4nLCBlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICBsZE1hbmlmZXN0KG1hbmlmZXN0LCBzdWNjZXNzY2IsIGVycm9yY2IpIHtcbiAgICBsZXQgcGxheWVyID0gdGhpcztcblxuICAgIE1hbmlmb2xkLmxvYWRNYW5pZmVzdCh7XG4gICAgICBtYW5pZmVzdFVyaTogbWFuaWZlc3QsXG4gICAgICBjb2xsZWN0aW9uSW5kZXg6IDAsXG4gICAgICBtYW5pZmVzdEluZGV4OiAwLFxuICAgICAgc2VxdWVuY2VJbmRleDogMCxcbiAgICAgIGNhbnZhc0luZGV4OiAwXG4gICAgfSkudGhlbigoaCkgPT4ge1xuICAgICAgaGVscGVyID0gaDtcblxuICAgICAgaWYgKGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5pdGVtc1swXS5pdGVtc1swXS5ib2R5LmlkLmluZGV4T2YoJ2h0dHA6Ly93d3cuZXVzY3JlZW4uZXUvaXRlbS5odG1sP2lkPScpID4gLTEpIHtcbiAgICAgICAgaGFuZGxlRVVzY3JlZW5JdGVtKHBsYXllciwgaGVscGVyKVxuICAgICAgICAgIC50aGVuKChoKSA9PiB7XG4gICAgICAgICAgICBoZWxwZXIgPSBoO1xuICAgICAgICAgICAgcGxheWVyLnNldEF2Q29tcG9uZW50KHBsYXllciwgc3VjY2Vzc2NiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYXllci5zZXRBdkNvbXBvbmVudChwbGF5ZXIsIHN1Y2Nlc3NjYik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGVycm9yY2IoZSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRBdkNvbXBvbmVudChwbGF5ZXIsIHN1Y2Nlc3NjYikge1xuICAgIHBsYXllci5hdmNvbXBvbmVudC5zZXQoe1xuICAgICAgaGVscGVyLFxuICAgICAgbGltaXRUb1JhbmdlOiBwbGF5ZXIuc3RhdGUubGltaXRUb1JhbmdlLFxuICAgICAgYXV0b1NlbGVjdFJhbmdlOiBwbGF5ZXIuc3RhdGUuYXV0b1NlbGVjdFJhbmdlLFxuICAgICAgY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6IHBsYXllci5zdGF0ZS5jb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZSxcbiAgICAgIHZpcnR1YWxDYW52YXNFbmFibGVkOiBwbGF5ZXIuc3RhdGUudmlydHVhbENhbnZhc0VuYWJsZWRcbiAgICB9KTtcbiAgICBzdWNjZXNzY2IoaGVscGVyKTtcbiAgICBwbGF5ZXIucmVzaXplKCk7XG4gIH1cblxuICByZXNpemUoKSB7XG4gICAgbGV0ICRwbGF5ZXJDb250YWluZXIgPSAkKCcjJyt0aGlzLmVsZW0uaWQrJyAucGxheWVyQ29udGFpbmVyJyk7XG4gICAgJHBsYXllckNvbnRhaW5lci5oZWlnaHQoJHBsYXllckNvbnRhaW5lci53aWR0aCgpICogMC43NSk7XG4gICAgdGhpcy5hdmNvbXBvbmVudC5yZXNpemUoKTtcbiAgfVxuXG4gIGNyZWF0ZU1hbmlmZXN0KHZPYmopIHtcbiAgICBpZiAoIXZPYmoubWFuaWZlc3QgJiYgdk9iai5zb3VyY2Uuc3RhcnRzV2l0aCgnRVVTXycpKSB7XG4gICAgICB2T2JqLm1hbmlmZXN0ID0gJ2h0dHBzOi8vdmlkZW9lZGl0b3Iubm90ZXJpay5jb20vbWFuaWZlc3QvZXVzY3JlZW5tYW5pZmVzdC5waHA/aWQ9Jyt2T2JqLnNvdXJjZTtcbiAgICB9XG5cbiAgICB0aGlzLm1hbmlmZXN0dXJsID0gdk9iai5tYW5pZmVzdDtcbiAgICB0aGlzLml0ZW1TZWxlY3RMaXN0ZW5lcih2T2JqLm1hbmlmZXN0KTtcbiAgfVxuXG4gIGluaXRMYW5ndWFnZXMoKSB7XG4gICAgbGV0IHRleHRUcmFja3MgPSAkKCcjJyt0aGlzLmVsZW0uaWQrJyB2aWRlbycpWzBdLnRleHRUcmFja3M7XG5cbiAgICAvL2NoZWNrIGlmIHdlIGhhdmUgYW55IHRleHR0cmFja3NcbiAgICBpZiAodGV4dFRyYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL3Nob3cgYnV0dG9uIG9ubHkgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgbGFuZ3VhZ2Ugc2V0XG4gICAgJCgnLmJ0bltkYXRhLW5hbWU9U3VidGl0bGVzXScpLnNob3coKTtcblxuICAgIGxldCBtZW51ID0gJzxkaXYgY2xhc3M9XFwnYW5ubyBzdWJ0aXRsZW1lbnVcXCc+JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lbnUgKz0gJzxkaXYgY2xhc3M9XFwnc3VidGl0bGVtZW51LW9wdGlvblxcJyBkYXRhLWxhbmd1YWdlPVxcJycrdGV4dFRyYWNrc1tpXS5sYW5ndWFnZSsnXFwnPicrbGFuZ3VhZ2VzLmZpbmQobGFuZyA9PiBsYW5nLmlzbyA9PT0gdGV4dFRyYWNrc1tpXS5sYW5ndWFnZSkubmFtZSsnPC9kaXY+JztcbiAgICB9XG4gICAgbWVudSArPSAnPC9kaXY+JztcblxuICAgICQoJyMnK3RoaXMuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykuYXBwZW5kKG1lbnUpO1xuXG4gICAgJCgnYnV0dG9uW2RhdGEtbmFtZT1cIlN1YnRpdGxlc1wiXScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIHRvZ2dsZVN1YnRpdGxlc0V2ZW50SGFuZGxlcih0aGlzLCBlKTtcbiAgICB9KTtcblxuICAgIGxldCBwbGF5ZXIgPSB0aGlzO1xuXG4gICAgJCgnLnN1YnRpdGxlbWVudS1vcHRpb24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgc3VidGl0bGVNZW51RXZlbnRIYW5kbGVyKHBsYXllciwgZSk7XG4gICAgfSk7XG4gICAgdGhpcy5hdmNvbXBvbmVudC5maXJlKCdsYW5ndWFnZXNpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgLy90b2RvOiBhZGRyZXNzIGF1ZGlvIGFzIHdlbGxcbiAgaGFzRW5kZWQoKSB7XG4gICAgaWYgKCQoJyMnK3RoaXMuZWxlbS5pZCsnIHZpZGVvJykubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gJCgnIycrdGhpcy5lbGVtLmlkKycgdmlkZW8nKVswXS5lbmRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1lZGlhUmVhZHkocGxheWVyKSB7XG4gICAgaWYgKHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0uX2NhbnZhc1dpZHRoIDwgNDAwKSB7XG4gICAgICB0aGlzLm9wdGltaXplRm9yU21hbGxlclNjcmVlbnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUFWQ29tcG9uZW50TGFuZ3VhZ2UocGxheWVyKTtcblxuICAgIGxldCBzdWJ0aXRsZXMgPSB0aGlzLmNyZWF0ZUJ1dHRvbignU3VidGl0bGVzJywgdGhpcy5iYW5hbmEuaTE4bigncGxheWVyLXN1YnRpdGxlcycpLCAnYXYtaWNvbi1zdWJ0aXRsZXMnKTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jb250cm9scy1jb250YWluZXInKS5hcHBlbmQoc3VidGl0bGVzKTtcblxuICAgIGlmIChwbGF5ZXIuZWRpdG9ydXJsICYmIHBsYXllci5lZGl0b3J1cmwubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IHNob3dNZW51ID0gcGxheWVyLm5lZWRUb1Nob3dNZW51KHBsYXllcik7XG5cbiAgICAgIGlmIChzaG93TWVudSkge1xuICAgICAgICB0aGlzLmFkZEVkaXRvck9wdGlvbihwbGF5ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XFwnYW5ubyBwbGF5d3JhcHBlclxcJz48c3BhbiBjbGFzcz1cXCdwbGF5Y2lyY2xlXFwnPjwvc3Bhbj48L2Rpdj4nKTtcblxuICAgIHRoaXMuaGFuZGxlTWVkaWFUeXBlKHBsYXllcik7XG4gICAgaGFuZGxlVHJhbnNjcmlwdGlvbkFubm90YXRpb25zKHBsYXllcik7XG5cbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcGxheVBhdXNlRXZlbnRIYW5kbGVyKHBsYXllcik7XG4gICAgfSk7XG4gIH1cblxuICBvcHRpbWl6ZUZvclNtYWxsZXJTY3JlZW5zKCkge1xuICAgICQoJy5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUnKS5jc3MoeyAnd2lkdGgnOiA4MCB9KTtcbiAgICAkKCcuaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyJykuY3NzKHsgJ3dpZHRoJzogNDIgfSk7XG4gIH1cblxuICBhZGRFZGl0b3JPcHRpb24ocGxheWVyKSB7XG4gICAgbGV0IG1vcmUgPSB0aGlzLmNyZWF0ZUJ1dHRvbignTW9yZScsIHRoaXMuYmFuYW5hLmkxOG4oJ3BsYXllci1tb3JlJyksICdhdi1pY29uLW1vcmUnKTtcbiAgICBtb3JlWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGVkaXRvckJ1dHRvbkV2ZW50SGFuZGxlcihwbGF5ZXIsIGUpO1xuICAgIH0pO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNvbnRyb2xzLWNvbnRhaW5lcicpLmFwcGVuZChtb3JlKTtcblxuICAgIHRoaXMuaGFuZGxlTWVudU9wdGlvbnMocGxheWVyKTtcbiAgfVxuXG4gIHVwZGF0ZUFWQ29tcG9uZW50TGFuZ3VhZ2UocGxheWVyKSB7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAudm9sdW1lLW11dGUnKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLW11dGUnKSk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnV0dG9uLWZ1bGxzY3JlZW4nKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWZ1bGxzY3JlZW4nKSk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnV0dG9uLXBsYXknKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLXBsYXknKSk7XG4gIH1cblxuICBjcmVhdGVCdXR0b24obmFtZSwgdGV4dCwgY2xhc3NuYW1lKSB7XG4gICAgbGV0IGJ1dHRvbiA9ICQoJzxidXR0b24gY2xhc3M9XCJidG5cIiBkYXRhLW5hbWU9XCInK25hbWUrJ1wiIHRpdGxlPVwiJyt0ZXh0KydcIj48aSBjbGFzcz1cImF2LWljb24gJytjbGFzc25hbWUrJ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RleHQrJzwvYnV0dG9uPicpO1xuICAgIHJldHVybiBidXR0b247XG4gIH1cblxuICBoYW5kbGVNZW51T3B0aW9ucyhwbGF5ZXIpIHtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVxcJ2Fubm8gbW9yZW1lbnVcXCc+PC9kaXY+Jyk7XG5cbiAgICBsZXQgb3B0aW9ucyA9IHsgZW1iZWQ6IHRydWUsIGFubm90YXRpb246IGZhbHNlLCBwbGF5bGlzdDogZmFsc2UsIHN1YnRpdGxlczogZmFsc2UgfTtcbiAgICBvcHRpb25zID0gcGxheWVyLmRldGVybWluZU9wdGlvbkRpc3BsYXkocGxheWVyLCBvcHRpb25zKTtcblxuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLm1vcmVtZW51JykuYXBwZW5kKCc8ZGl2IGlkPVxcJ2NyZWF0ZS0nK2tleSsnLWxpbmtcXCcgY2xhc3M9XFwnbW9yZW1lbnUtb3B0aW9uXFwnPicrdGhpcy5iYW5hbmEuaTE4bigncGxheWVyLWNyZWF0ZS0nK2tleSkrJzwvZGl2PicpO1xuXG4gICAgICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgI2NyZWF0ZS0nK2tleSsnLWxpbmsnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIG9wZW5FZGl0b3JUeXBlRXZlbnRIYW5kbGVyKHBsYXllciwgZSwga2V5KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmVlZFRvU2hvd01lbnUocGxheWVyKSB7XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC5yaWdodHMpKSB7XG4gICAgICBpZiAodmFsdWUgPT09ICdhbGxvd2VkJyAmJiAoa2V5ID09PSAnZW1iZWQnIHx8IGtleSA9PT0gJ2Fubm90YXRpb24nIHx8IGtleSA9PT0gJ3BsYXlsaXN0JyB8fCBrZXkgPT09ICdzdWJ0aXRsZXMnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGV0ZXJtaW5lT3B0aW9uRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpIHtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLnJpZ2h0cykpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ2FsbG93ZWQnKSB7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgaGFuZGxlTWVkaWFUeXBlKHBsYXllcikge1xuICAgIGxldCB3LCBoO1xuICAgIHcgPSBoID0gNDAwO1xuICAgIHN3aXRjaCAodGhpcy5nZXRNZWRpYVR5cGUocGxheWVyKSkge1xuICAgICAgY2FzZSAnQXVkaW8nOlxuICAgICAgICB0aGlzLnNldEltYWdlKHBsYXllciwgcGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLnRodW1ibmFpbFswXS5pZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVmlkZW8nOlxuICAgICAgICB3ID0gcGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5fY2FudmFzV2lkdGg7XG4gICAgICAgIGggPSBwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLl9jYW52YXNIZWlnaHQ7XG4gICAgfVxuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKS5jc3MoeyB3aWR0aCA6IHcsIGhlaWdodCA6IGggfSk7XG4gIH1cblxuICBnZXRNZWRpYVR5cGUocGxheWVyKSB7XG4gICAgcmV0dXJuIHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5pdGVtc1swXS5pdGVtc1swXS5ib2R5LnR5cGU7XG4gIH1cblxuICBzZXRJbWFnZShwbGF5ZXIsIGltYWdlKSB7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmNzcyh7ICdiYWNrZ3JvdW5kLWltYWdlJyA6ICd1cmwoJyArIGltYWdlICsnKScgfSk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdhdWRpby1iYWNrZ3JvdW5kJyk7XG4gIH1cbn1cbiIsIi8qIGdsb2JhbCAkICovXG5cbmZ1bmN0aW9uIHBsYXlFdmVudEhhbmRsZXIocGxheWVyKSB7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnBsYXl3cmFwcGVyJykuaGlkZSgpO1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idXR0b24tcGxheScpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItcGF1c2UnKSk7XG59XG5cbmZ1bmN0aW9uIHBhdXNlRXZlbnRIYW5kbGVyKHBsYXllcikge1xuICBjbGVhckludGVydmFsKHBsYXllci50aW1ldXBkYXRlKTtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnV0dG9uLXBsYXknKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLXBsYXknKSk7XG59XG5cbmZ1bmN0aW9uIHZvbHVtZUNoYW5nZWRFdmVudEhhbmRsZXIocGxheWVyLCB2YWx1ZSkge1xuICBsZXQgbXV0ZVR5cGUgPSB2YWx1ZSAhPT0gMCA/ICdwbGF5ZXItbXV0ZScgOiAncGxheWVyLXVubXV0ZSc7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnZvbHVtZS1tdXRlJykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4obXV0ZVR5cGUpKTtcbn1cblxuZnVuY3Rpb24ga2V5RXZlbnRIYW5kbGVyKHBsYXllciwgZSkge1xuICBpZiAoZS5rZXlDb2RlID09PSAzMiB8fCBlLmtleUNvZGUgPT09IDc1KSB7ICAvL3NwYWNlIGJhciwgayBidXR0b25cbiAgICBwbGF5UGF1c2VFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgfVxuICBpZiAoZS5rZXlDb2RlID09PSA3MCkgeyAvL2YgYnV0dG9uXG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnV0dG9uLWZ1bGxzY3JlZW4nKS5jbGljaygpO1xuICB9XG4gIGlmIChlLmtleUNvZGUgPT09IDM4KSB7IC8vdm9sdW1lIHVwIGJ5IDEwJVxuICAgIGhhbmRsZVZvbHVtZUNoYW5nZShwbGF5ZXIsIDAuMSk7XG4gIH1cbiAgaWYgKGUua2V5Q29kZSA9PT0gNDApIHsgLy92b2x1bWUgZG93biBieSAxMCVcbiAgICBoYW5kbGVWb2x1bWVDaGFuZ2UocGxheWVyLCAtMC4xKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwbGF5UGF1c2VFdmVudEhhbmRsZXIocGxheWVyKSB7XG4gIGlmIChwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLl9pc1BsYXlpbmcpIHtcbiAgICBwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLnBhdXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy9oaWRlIHBsYXljaXJjbGUgaWYgc2hvd2luZ1xuICAgIGlmICgkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5d3JhcHBlcicpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5d3JhcHBlcicpLmhpZGUoKTtcbiAgICB9XG4gICAgcGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5wbGF5KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZnVsbFNjcmVlbkV2ZW50SGFuZGxlcihwbGF5ZXIpIHtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAubW9yZW1lbnUnKS5oaWRlKCk7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnN1YnRpdGxlbWVudScpLmhpZGUoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVm9sdW1lQ2hhbmdlKHBsYXllciwgcmF0ZSkge1xuICBsZXQgdmFsID0gJCgnIycrcGxheWVyLmVsZW0uaWQrJyAudm9sdW1lLXNsaWRlcicpLnNsaWRlcignb3B0aW9uJywgJ3ZhbHVlJyk7XG4gIHZhbCA9IGRldGVybWluZU5ld1ZvbHVtZSh2YWwsIHJhdGUpO1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC52b2x1bWUtc2xpZGVyJykuc2xpZGVyKCd2YWx1ZScsIHZhbCk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZU5ld1ZvbHVtZSh2YWwsIHJhdGUpIHtcbiAgaWYgKHJhdGUgPCAwKSB7XG4gICAgcmV0dXJuIGRlY3JlYXNlVm9sdW1lKHZhbCwgcmF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGluY3JlYXNlVm9sdW1lKHZhbCwgcmF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjcmVhc2VWb2x1bWUodmFsLCByYXRlKSB7XG4gIHJldHVybiB2YWwgPCByYXRlID8gMCA6IHZhbCArIHJhdGU7XG59XG5cbmZ1bmN0aW9uIGluY3JlYXNlVm9sdW1lKHZhbCwgcmF0ZSkge1xuICByZXR1cm4gdmFsID4gcmF0ZSArIHZhbCA+IDEgPyAxIDogdmFsICsgcmF0ZTtcbn1cblxuZnVuY3Rpb24gZWRpdG9yQnV0dG9uRXZlbnRIYW5kbGVyKHBsYXllciwgZSkge1xuICB0b2dnbGVNZW51T3B0aW9uKHBsYXllciwgZSwgJ21vcmVtZW51JywgJ01vcmUnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyKHBsYXllciwgZSkge1xuICB0b2dnbGVNZW51T3B0aW9uKHBsYXllciwgZSwgJ3N1YnRpdGxlbWVudScsICdTdWJ0aXRsZXMnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTWVudU9wdGlvbihwbGF5ZXIsIGUsIGNscywgbmFtZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaWYgKCQoJyMnK3BsYXllci5lbGVtLmlkKycgLicrY2xzKS5pcygnOnZpc2libGUnKSkge1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLicrY2xzKS5oaWRlKCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuJytjbHMpLmNzcyh7IGJvdHRvbTogJCgnIycrcGxheWVyLmVsZW0uaWQrJyAub3B0aW9ucy1jb250YWluZXInKS5oZWlnaHQoKSwgbGVmdDogKCgkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idG5bZGF0YS1uYW1lPVwiJytuYW1lKydcIl0nKS5vZmZzZXQoKS5sZWZ0IC0gJCgnIycrcGxheWVyLmVsZW0uaWQrJyAucGxheWVyJykub2Zmc2V0KCkubGVmdCkgLSAoJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuJytjbHMpLndpZHRoKCkgLyAyKSkgfSk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuJytjbHMpLnNob3coKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIocGxheWVyLCAgZSkge1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5zdWJ0aXRsZW1lbnUnKS5oaWRlKCk7XG4gIGxldCB0ZXh0VHJhY2tzID0gJCgnIycrcGxheWVyLmVsZW0uaWQrJyB2aWRlbycpWzBdLnRleHRUcmFja3M7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCQoZS50YXJnZXQpLmRhdGEoJ2xhbmd1YWdlJykgPT09IHRleHRUcmFja3NbaV0ubGFuZ3VhZ2UpIHtcbiAgICAgIHRleHRUcmFja3NbaV0ubW9kZSA9ICdzaG93aW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dFRyYWNrc1tpXS5tb2RlID0gJ2hpZGRlbic7XG4gICAgfVxuICB9XG4gIC8vcHJldmVudCB0aGUgcGxheS9wYXVzZSBoYW5kbGVyIHRvIHJlYWN0XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5FZGl0b3JUeXBlRXZlbnRIYW5kbGVyKHBsYXllciwgZSwgdHlwZSkge1xuICAvL3ByZXZlbnQgdGhlIHBsYXkvcGF1c2UgaGFuZGxlciB0byByZWFjdFxuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gIHdpbmRvdy5vcGVuKHBsYXllci5lZGl0b3J1cmwrJz9tYW5pZmVzdD0nK2VuY29kZVVSSUNvbXBvbmVudChwbGF5ZXIubWFuaWZlc3R1cmwpKycjJyt0eXBlLCAnX2JsYW5rJyk7XG59XG5cbmZ1bmN0aW9uIG1lZGlhRXJyb3JIYW5kbGVyKHBsYXllciwgZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcignbWVkaWEgZXJyb3InLCBlcnJvcik7XG5cbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAucGxheWVyJykucmVtb3ZlQ2xhc3MoJ3BsYXllci0tbG9hZGluZycpO1xuICBsZXQgZXJyb3JtZXNzYWdlID0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3InKSsnOiAnO1xuICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICBjYXNlIDE6XG4gICAgICBlcnJvcm1lc3NhZ2UgKz0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3ItbG9hZGluZycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLW5ldHdvcmsnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGVycm9ybWVzc2FnZSArPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvci1kZWNvZGluZycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLWZvcm1hdCcpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVycm9ybWVzc2FnZSArPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvci11bmtub3duJyk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XFwnYW5ubyBlcnJvcm1lc3NhZ2VcXCc+JytlcnJvcm1lc3NhZ2UrJzwvZGl2PicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcGxheUV2ZW50SGFuZGxlciwgcGF1c2VFdmVudEhhbmRsZXIsIHZvbHVtZUNoYW5nZWRFdmVudEhhbmRsZXIsIGtleUV2ZW50SGFuZGxlciwgcGxheVBhdXNlRXZlbnRIYW5kbGVyLCBmdWxsU2NyZWVuRXZlbnRIYW5kbGVyLCBlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIsIHRvZ2dsZVN1YnRpdGxlc0V2ZW50SGFuZGxlciwgc3VidGl0bGVNZW51RXZlbnRIYW5kbGVyLCBvcGVuRWRpdG9yVHlwZUV2ZW50SGFuZGxlciwgbWVkaWFFcnJvckhhbmRsZXJcbn07XG4iLCIvKiBnbG9iYWwgJCAqL1xuXG5jb25zdCBsYW5ndWFnZXMgPSByZXF1aXJlKCcuLi9sYW5ndWFnZXMvbGFuZy5qcycpLmRlZmF1bHQubG9jYWxlcztcblxuZnVuY3Rpb24gaGFuZGxlVHJhbnNjcmlwdGlvbkFubm90YXRpb25zKHBsYXllcikge1xuICBpZiAocGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLmFubm90YXRpb25zICYmIHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5hbm5vdGF0aW9uc1swXSkge1xuICAgIGZldGNoQW5ub3RhdGlvbnMocGxheWVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmZXRjaEFubm90YXRpb25zKHBsYXllcikge1xuICAkLmdldChwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF0uYW5ub3RhdGlvbnNbMF0uaWQsIChyZXNwb25zZSkgPT4ge1xuICAgIGxldCB0ZXh0UmVzb3VyY2UgPSByZXNwb25zZS5yZXNvdXJjZXMuZmluZCgocmVzb3VyY2UpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJjZS5kY1R5cGUgPT09ICdNZWRpYSc7XG4gICAgfSk7XG5cbiAgICBmZXRjaFRleHRSZXNvdXJjZShwbGF5ZXIsIHJlc3BvbnNlLCB0ZXh0UmVzb3VyY2UpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hUZXh0UmVzb3VyY2UocGxheWVyLCBhbm5vdGF0aW9uUmVzb3VyY2UsIHRleHRSZXNvdXJjZSkge1xuICAvL2RldGVybWluZSB0ZXh0LCBmZXRjaCwgdGhlbiBsb29wIG92ZXIgYWxsIGVudHJpZXMgYW5kIGFkZCB0aGVtIHRvIGEgdGV4dCB0cmFja1xuICAkLmFqYXgoe1xuICAgIHR5cGU6ICdHRVQnLFxuICAgIHVybDogdGV4dFJlc291cmNlLnJlc291cmNlWydAaWQnXSxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JyxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgIHN1Y2Nlc3M6ICgoZnVsbFRleHQpID0+IHtcbiAgICAgIGxldCB0cmFjayA9ICQoJyMnK3BsYXllci5lbGVtLmlkKycgdmlkZW8nKVswXS5hZGRUZXh0VHJhY2soJ3N1YnRpdGxlcycsICdzdWJpdGxlcycsIGxhbmd1YWdlcy5maW5kKGxhbmcgPT4gbGFuZy5jb2RlID09PSBmdWxsVGV4dC5sYW5ndWFnZSkuaXNvKTtcblxuICAgICAgYW5ub3RhdGlvblJlc291cmNlLnJlc291cmNlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5kY1R5cGUgPT09ICdDYXB0aW9uJykge1xuICAgICAgICAgIHRyYWNrLmFkZEN1ZShoYW5kbGVDYXB0aW9uKGVsZW1lbnQsIGZ1bGxUZXh0KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcGxheWVyLmluaXRMYW5ndWFnZXMoKTtcbiAgICB9KVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FwdGlvbihlbGVtZW50LCBmdWxsVGV4dCkge1xuICBsZXQgY2hhcmFjdGVyUmFuZ2UgPSBlbGVtZW50LnJlc291cmNlWydAaWQnXS5zdWJzdHJpbmcoZWxlbWVudC5yZXNvdXJjZVsnQGlkJ10ubGFzdEluZGV4T2YoJz0nKSsxKTtcbiAgbGV0IGNoYXJSYW5nZSA9IGNoYXJhY3RlclJhbmdlLnNwbGl0KCcsJyk7XG4gIGxldCBzdWJ0aXRsZVN0cmluZyA9IGZ1bGxUZXh0LnZhbHVlLnN1YnN0cmluZyhjaGFyUmFuZ2VbMF0sIGNoYXJSYW5nZVsxXSk7XG4gIGxldCB0aW1lUmFuZ2UgPSBlbGVtZW50Lm9uWzBdLnN1YnN0cmluZyhlbGVtZW50Lm9uWzBdLmxhc3RJbmRleE9mKCc9JykrMSk7XG4gIGxldCB0UmFuZ2UgPSB0aW1lUmFuZ2Uuc3BsaXQoJywnKTtcblxuICBsZXQgY3VlID0gbmV3IFZUVEN1ZSh0aW1lVG9TZWNvbmRzKHRSYW5nZVswXSksIHRpbWVUb1NlY29uZHModFJhbmdlWzFdKSwgc3VidGl0bGVTdHJpbmcpO1xuICBjdWUuaWQgPSBlbGVtZW50LnJlc291cmNlWydAaWQnXTtcbiAgY3VlLmxpbmUgPSAtNDtcbiAgY3VlLnNpemUgPSA5MDtcblxuICByZXR1cm4gY3VlO1xufVxuXG5mdW5jdGlvbiB0aW1lVG9TZWNvbmRzKHRpbWUpIHtcbiAgbGV0IFtob3VycywgbWludXRlcywgc2Vjb25kc10gPSB0aW1lLnNwbGl0KCc6Jyk7XG4gIGhvdXJzID0gcGFyc2VJbnQoaG91cnMpO1xuICBtaW51dGVzID0gcGFyc2VJbnQobWludXRlcyk7XG4gIGxldCBtaWxsaXNlY29uZHM7XG5cbiAgbGV0IHBhcnRzID0gc2Vjb25kcy5sYXN0SW5kZXhPZignLicpID4gLTEgPyBzZWNvbmRzLnNwbGl0KCcuJykgOiBbc2Vjb25kcywgMF07XG4gIHNlY29uZHMgPSBwYXJzZUludChwYXJ0c1swXSk7XG5cbiAgbWlsbGlzZWNvbmRzID0gcGFydHNbMV0ubGVuZ3RoID09PSAyID8gcGFyc2VJbnQocGFydHNbMV0pICogMTAgOiBwYXJzZUludChwYXJ0c1sxXSk7XG5cbiAgcmV0dXJuIChob3VycyAqIDM2MDAgKyBtaW51dGVzICogNjAgKyBzZWNvbmRzKSArJy4nKyBtaWxsaXNlY29uZHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVUcmFuc2NyaXB0aW9uQW5ub3RhdGlvbnNcbn07XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKiBnbG9iYWwgJCAqL1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9jb21wb25lbnRzL3BsYXllcic7XG5cbmxldCBlZGl0b3J1cmwgPSAnJztcbmxldCBwbGF5ZXI7XG5sZXQgbGFuZ3VhZ2UgPSAnJztcblxuZXhwb3J0IGNvbnN0IGluaXQgPSAoY29udGFpbmVyLCB2aWRlb09iaiwgb3B0aW9ucykgPT4ge1xuICAvL0NyZWF0ZSB1bmlxdWUgcGxheWVyIGlkXG4gIGxldCBwbGF5ZXJJZCA9IHV1aWR2NCgpO1xuXG4gIC8vQXBwZW5kIHBsYXllciB0byBjb250YWluZXIgd2l0aCB0aGUgdW5pcXVlIGlkXG4gICQoY29udGFpbmVyKS5hcHBlbmQoJzxkaXYgaWQ9XCJldXBzLXBsYXllci0nK3BsYXllcklkKydcIiBjbGFzcz1cImV1cHMtcGxheWVyXCI+PC9kaXY+Jyk7XG5cbiAgLy9TZXQgb3B0aW9uc1xuICBlZGl0b3J1cmwgPSBvcHRpb25zLmVkaXRvciB8fCBlZGl0b3J1cmw7XG4gIGxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZSB8fCBsYW5ndWFnZTtcblxuICAvL0NyZWF0ZSBwbGF5ZXJcbiAgcGxheWVyID0gbmV3IFBsYXllcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXVwcy1wbGF5ZXItJytwbGF5ZXJJZCkpO1xuXG4gIC8vSW5pdGlhbGl6ZSBwbGF5ZXJcbiAgcGxheWVyLmluaXQodmlkZW9PYmosIGVkaXRvcnVybCwgbGFuZ3VhZ2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpID0+IHtcbiAgcmV0dXJuIChbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZywgYyA9PlxuICAgIChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdXJvcGVhbmFNZWRpYVBsYXllciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgdmlkZW9PYmosIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBvcHRpb25zIDoge307XG4gICAgaW5pdChjb250YWluZXIsIHZpZGVvT2JqLCBvcHRpb25zKTtcbiAgfVxuXG4gIGdldCBwbGF5ZXIoKSB7XG4gICAgcmV0dXJuIHBsYXllcjtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2Rhc2hqc19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qcXVlcnlfXzsiXSwic291cmNlUm9vdCI6IiJ9