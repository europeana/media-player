(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("jquery"), require("dashjs"));
	else if(typeof define === 'function' && define.amd)
		define("europeanamediaplayer", ["jquery", "dashjs"], factory);
	else if(typeof exports === 'object')
		exports["europeanamediaplayer"] = factory(require("jquery"), require("dashjs"));
	else
		root["europeanamediaplayer"] = factory(root["jquery"], root["dashjs"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_dashjs__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdateeuropeanamediaplayer"];
/******/ 	window["webpackHotUpdateeuropeanamediaplayer"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "1a1be8ff5dbcb17a0fb3";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@edsilv/http-status-codes/dist-commonjs/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@edsilv/http-status-codes/dist-commonjs/index.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.CONTINUE = 100;
exports.SWITCHING_PROTOCOLS = 101;
exports.PROCESSING = 102;
exports.OK = 200;
exports.CREATED = 201;
exports.ACCEPTED = 202;
exports.NON_AUTHORITATIVE_INFORMATION = 203;
exports.NO_CONTENT = 204;
exports.RESET_CONTENT = 205;
exports.PARTIAL_CONTENT = 206;
exports.MULTI_STATUS = 207;
exports.MULTIPLE_CHOICES = 300;
exports.MOVED_PERMANENTLY = 301;
exports.MOVED_TEMPORARILY = 302;
exports.SEE_OTHER = 303;
exports.NOT_MODIFIED = 304;
exports.USE_PROXY = 305;
exports.TEMPORARY_REDIRECT = 307;
exports.BAD_REQUEST = 400;
exports.UNAUTHORIZED = 401;
exports.PAYMENT_REQUIRED = 402;
exports.FORBIDDEN = 403;
exports.NOT_FOUND = 404;
exports.METHOD_NOT_ALLOWED = 405;
exports.NOT_ACCEPTABLE = 406;
exports.PROXY_AUTHENTICATION_REQUIRED = 407;
exports.REQUEST_TIME_OUT = 408;
exports.CONFLICT = 409;
exports.GONE = 410;
exports.LENGTH_REQUIRED = 411;
exports.PRECONDITION_FAILED = 412;
exports.REQUEST_ENTITY_TOO_LARGE = 413;
exports.REQUEST_URI_TOO_LARGE = 414;
exports.UNSUPPORTED_MEDIA_TYPE = 415;
exports.REQUESTED_RANGE_NOT_SATISFIABLE = 416;
exports.EXPECTATION_FAILED = 417;
exports.IM_A_TEAPOT = 418;
exports.UNPROCESSABLE_ENTITY = 422;
exports.LOCKED = 423;
exports.FAILED_DEPENDENCY = 424;
exports.UNORDERED_COLLECTION = 425;
exports.UPGRADE_REQUIRED = 426;
exports.PRECONDITION_REQUIRED = 428;
exports.TOO_MANY_REQUESTS = 429;
exports.REQUEST_HEADER_FIELDS_TOO_LARGE = 431;
exports.INTERNAL_SERVER_ERROR = 500;
exports.NOT_IMPLEMENTED = 501;
exports.BAD_GATEWAY = 502;
exports.SERVICE_UNAVAILABLE = 503;
exports.GATEWAY_TIME_OUT = 504;
exports.HTTP_VERSION_NOT_SUPPORTED = 505;
exports.VARIANT_ALSO_NEGOTIATES = 506;
exports.INSUFFICIENT_STORAGE = 507;
exports.BANDWIDTH_LIMIT_EXCEEDED = 509;
exports.NOT_EXTENDED = 510;
exports.NETWORK_AUTHENTICATION_REQUIRED = 511;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(E,e){ true?module.exports=e():undefined}(window,(function(){return function(E){var e={};function T(t){if(e[t])return e[t].exports;var O=e[t]={i:t,l:!1,exports:{}};return E[t].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=E,T.c=e,T.d=function(E,e,t){T.o(E,e)||Object.defineProperty(E,e,{enumerable:!0,get:t})},T.r=function(E){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},T.t=function(E,e){if(1&e&&(E=T(E)),8&e)return E;if(4&e&&"object"==typeof E&&E&&E.__esModule)return E;var t=Object.create(null);if(T.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:E}),2&e&&"string"!=typeof E)for(var O in E)T.d(t,O,function(e){return E[e]}.bind(null,O));return t},T.n=function(E){var e=E&&E.__esModule?function(){return E.default}:function(){return E};return T.d(e,"a",e),e},T.o=function(E,e){return Object.prototype.hasOwnProperty.call(E,e)},T.p="",T(T.s=0)}([function(E,e,T){E.exports=T(1)},function(E,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])}));
//# sourceMappingURL=httpstatuscodes.js.map

/***/ }),

/***/ "./node_modules/@iiif/base-component/dist-esmodule/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/base-component/dist-esmodule/index.js ***!
  \******************************************************************/
/*! exports provided: BaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
var BaseComponent = /** @class */ (function () {
    function BaseComponent(options) {
        this.options = options;
        this.options.data = Object.assign({}, this.data(), options.data);
    }
    BaseComponent.prototype._init = function () {
        this.el = this.options.target;
        if (!this.el) {
            console.warn('element not found');
            return false;
        }
        this.el.innerHTML = '';
        return true;
    };
    BaseComponent.prototype.data = function () {
        return {};
    };
    BaseComponent.prototype.on = function (name, callback, ctx) {
        var e = this._e || (this._e = {});
        (e[name] || (e[name] = [])).push({
            fn: callback,
            ctx: ctx
        });
    };
    BaseComponent.prototype.fire = function (name) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var data = [].slice.call(arguments, 1);
        var evtArr = ((this._e || (this._e = {}))[name] || []).slice();
        var i = 0;
        var len = evtArr.length;
        for (i; i < len; i++) {
            evtArr[i].fn.apply(evtArr[i].ctx, data);
        }
    };
    BaseComponent.prototype._resize = function () {
    };
    BaseComponent.prototype.set = function (_data) {
    };
    return BaseComponent;
}());

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($, jQuery) {!function(t,e){ true?module.exports=e():undefined}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(e.AnnotationMotivation||(e.AnnotationMotivation={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(e.Behavior||(e.Behavior={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DOCUMENT="document",t.IMAGE="image",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(e.ExternalResourceType||(e.ExternalResourceType={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(e.IIIFResourceType||(e.IIIFResourceType={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(e.MediaType||(e.MediaType={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(e.RenderingFormat||(e.RenderingFormat={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(e.ServiceProfile||(e.ServiceProfile={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(e.ViewingDirection||(e.ViewingDirection={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(e.ViewingHint||(e.ViewingHint={}))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{l(i.next(t))}catch(t){a(t)}}function s(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(33);n(34);var l=function(){function t(){}return t.getMediaType=function(t){return(t=(t=t.toLowerCase()).split(";")[0]).trim()},t.getImageQuality=function(t){return t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_LEVEL_1||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_LEVEL_2||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},t.getInexactLocale=function(t){return-1!==t.indexOf("-")?t.substr(0,t.indexOf("-")):t},t.getLocalisedValue=function(t,e){if(!Array.isArray(t))return t;for(var n=0;n<t.length;n++){var i=t[n];if(e===i["@language"])return i["@value"]}var r=e.substr(0,e.indexOf("-"));for(n=0;n<t.length;n++){var a=t[n];if(a["@language"]===r)return a["@value"]}return null},t.generateTreeNodeIds=function(e,n){var i;void 0===n&&(n=0),i=e.parentNode?e.parentNode.id+"-"+n:"0",e.id=i;for(var r=0;r<e.nodes.length;r++){var a=e.nodes[r];t.generateTreeNodeIds(a,r)}},t.normaliseType=function(t){return-1!==(t=t.toLowerCase()).indexOf(":")?t.split(":")[1]:t},t.normaliseUrl=function(t){return-1!==(t=t.substr(t.indexOf("://"))).indexOf("#")&&(t=t.split("#")[0]),t},t.normalisedUrlsMatch=function(e,n){return t.normaliseUrl(e)===t.normaliseUrl(n)},t.isImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.isLevel0ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},t.isLevel1ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},t.isLevel2ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.parseManifest=function(t,e){return a.Deserialiser.parse(t,e)},t.checkStatus=function(t){if(t.ok)return t;var e=new Error(t.statusText);return e.response=t,Promise.reject(e)},t.loadManifest=function(e){return new Promise((function(n){fetch(e).then(t.checkStatus).then((function(t){return t.json()})).then((function(t){n(t)}))}))},t.loadExternalResourcesAuth1=function(e,n,i,r,a,o,s,l){return new Promise((function(c,u){var h=e.map((function(e){return t.loadExternalResourceAuth1(e,n,i,r,a,o,s,l)}));Promise.all(h).then((function(){c(e)})).catch((function(t){u(t)}))}))},t.loadExternalResourceAuth1=function(e,n,a,o,l,c,u,h){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return(i=r.sent())?[4,e.getData(i)]:[3,6];case 2:return r.sent(),e.status!==s.OK?[3,3]:[2,e];case 3:return[4,t.doAuthChain(e,n,a,l,c,u,h)];case 4:r.sent(),r.label=5;case 5:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return r.sent(),e.status!==s.MOVED_TEMPORARILY&&e.status!==s.UNAUTHORIZED?[3,9]:[4,t.doAuthChain(e,n,a,l,c,u,h)];case 8:r.sent(),r.label=9;case 9:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError()}}))}))},t.doAuthChain=function(e,n,a,o,l,c,u){return i(this,void 0,void 0,(function(){var i,h,p,f,_,d,v,g;return r(this,(function(r){switch(r.label){case 0:return e.isAccessControlled()?((i=e.externalService)&&(i.options=e.options),(h=e.kioskService)&&(h.options=e.options),(p=e.clickThroughService)&&(p.options=e.options),(f=e.loginService)&&(f.options=e.options),e.isResponseHandled||e.status!==s.MOVED_TEMPORARILY?[3,2]:[4,c(e)]):[2,e];case 1:return r.sent(),[2,e];case 2:return _=null,d=null,(_=i)?(d=_,[4,t.attemptResourceWithToken(e,a,_)]):[3,4];case 3:return r.sent(),[2,e];case 4:return(_=h)?(d=_,(v=n(_))?[4,o(v)]:[3,7]):[3,7];case 5:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 6:return r.sent(),[2,e];case 7:return(_=p)?(d=_,[4,l(e,_)]):[3,11];case 8:return(g=r.sent())?[4,o(g)]:[3,11];case 9:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 10:return r.sent(),[2,e];case 11:return(_=f)?(d=_,[4,l(e,_)]):[3,15];case 12:return(g=r.sent())?[4,o(g)]:[3,15];case 13:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 14:return r.sent(),[2,e];case 15:return d&&u(e,d),[2]}}))}))},t.attemptResourceWithToken=function(t,e,n){return i(this,void 0,void 0,(function(){var i,a;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(o.ServiceProfile.AUTH_1_TOKEN))?[4,e(t,i)]:[3,3];case 1:return(a=r.sent())&&a.accessToken?[4,t.getData(a)]:[3,3];case 2:return r.sent(),[2,t];case 3:return[2]}}))}))},t.loadExternalResourcesAuth09=function(e,n,i,r,a,o,s,l,c,u){return new Promise((function(h,p){var f=e.map((function(e){return t.loadExternalResourceAuth09(e,n,i,r,a,o,s,l,c,u)}));Promise.all(f).then((function(){h(e)})).catch((function(t){p(t)}))}))},t.loadExternalResourceAuth09=function(e,n,i,r,a,o,l,c,u,h){return new Promise((function(p,f){h&&h.pessimisticAccessControl?e.getData().then((function(){e.isAccessControlled()?e.clickThroughService?(p(i(e)),p(r(e))):a(e).then((function(){o(e,!0).then((function(n){e.getData(n).then((function(){p(u(e))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))})):p(e)})).catch((function(e){f(t.createInternalServerError(e))})):c(e,n).then((function(h){h?e.getData(h).then((function(){e.status===s.OK?p(u(e)):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())})):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())}))}))},t.createError=function(t,e){var n=new Error;return n.message=e,n.name=String(t),n},t.createAuthorizationFailedError=function(){return t.createError(a.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},t.createRestrictedError=function(){return t.createError(a.StatusCode.RESTRICTED,"Restricted")},t.createInternalServerError=function(e){return t.createError(a.StatusCode.INTERNAL_SERVER_ERROR,e)},t.authorize=function(e,n,i,r,a,o,l,c){return new Promise((function(u,h){e.getData().then((function(){e.isAccessControlled()?c(e,n).then((function(c){c?e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))})):o(e,!1).then((function(c){c?l(e,c,n).then((function(){e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))}))})).catch((function(e){h(t.createInternalServerError(e))})):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)}))})).catch((function(e){h(t.createInternalServerError(e))})):u(e)}))}))},t.showAuthInteraction=function(e,n,i,r,a,o,l,c,u){e.status!==s.MOVED_TEMPORARILY||e.isResponseHandled?e.clickThroughService&&!e.isResponseHandled?i(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):a(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):c(e)},t.getService=function(t,e){for(var n=this.getServices(t),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===e)return r}return null},t.getResourceById=function(e,n){return t.traverseAndFind(e.__jsonld,"@id",n)},t.traverseAndFind=function(e,n,i){if(e.hasOwnProperty(n)&&e[n]===i)return e;for(var r=0;r<Object.keys(e).length;r++)if("object"==typeof e[Object.keys(e)[r]]){var a=t.traverseAndFind(e[Object.keys(e)[r]],n,i);if(null!=a)return a}},t.getServices=function(t){var e,n=[];if(!(e=t.__jsonld?t.__jsonld.service:t.service))return n;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if("string"==typeof r){var o=this.getResourceById(t.options.resource,r);o&&n.push(new a.Service(o.__jsonld||o,t.options))}else n.push(new a.Service(r,t.options))}return n},t.getTemporalComponent=function(t){var e=/t=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t}();e.Utils=l},function(t,e,n){"use strict";n.r(e),e.default=function(t,e){return e=e||{},new Promise((function(n,i){var r=new XMLHttpRequest,a=[],o=[],s={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return o},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var c in r.open(e.method||"get",t,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){a.push(e=e.toLowerCase()),o.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(l())},r.onerror=i,r.withCredentials="include"==e.credentials,e.headers)r.setRequestHeader(c,e.headers[c]);r.send(e.body||null)}))}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(0));var i=n(2);e.loadManifest=function(t){return i.Utils.loadManifest(t)},e.parseManifest=function(t,e){return i.Utils.parseManifest(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return t.prototype.getProperty=function(t){var e=null;return this.__jsonld&&((e=this.__jsonld[t])||(e=this.__jsonld["@"+t])),e},t}();e.JSONLDResource=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=n,i}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){var t=this.getProperty("label");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDefaultLabel=function(){return a.LanguageMap.getValue(this.getLabel())},e.prototype.getMetadata=function(){var t=this.getProperty("metadata"),e=[];if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n],r=new a.LabelValuePair(this.options.locale);r.parse(i),e.push(r)}return e},e.prototype.getRendering=function(t){for(var e=this.getRenderings(),n=0;n<e.length;n++){var i=e[n];if(i.getFormat()===t)return i}return null},e.prototype.getRenderings=function(){var t,e=[];if(!(t=this.__jsonld?this.__jsonld.rendering:this.rendering))return e;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];e.push(new a.Rendering(i,this.options))}return e},e.prototype.getService=function(t){return a.Utils.getService(this,t)},e.prototype.getServices=function(){return a.Utils.getServices(this)},e.prototype.getThumbnail=function(){var t=this.getProperty("thumbnail");return Array.isArray(t)&&(t=t[0]),t?new a.Thumbnail(t,this.options):null},e.prototype.isAnnotation=function(){return this.getIIIFResourceType()===o.IIIFResourceType.ANNOTATION},e.prototype.isCanvas=function(){return this.getIIIFResourceType()===o.IIIFResourceType.CANVAS},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.isRange=function(){return this.getIIIFResourceType()===o.IIIFResourceType.RANGE},e.prototype.isSequence=function(){return this.getIIIFResourceType()===o.IIIFResourceType.SEQUENCE},e}(a.JSONLDResource);e.ManifestResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?t.toLowerCase():null},e.prototype.getResources=function(){var t=[];if(!this.__jsonld.resources)return t;for(var e=0;e<this.__jsonld.resources.length;e++){var n=this.__jsonld.resources[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getType=function(){var t=this.getProperty("type");return t?a.Utils.normaliseType(t):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},e.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},e}(a.ManifestResource);e.Resource=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(e,t),e.prototype.getAttribution=function(){var t=this.getProperty("attribution");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDescription=function(){var t=this.getProperty("description");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLogo=function(){var t=this.getProperty("logo");return t?"string"==typeof t?t:(Array.isArray(t)&&t.length&&(t=t[0]),t["@id"]||t.id):null},e.prototype.getLicense=function(){return a.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},e.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},e.prototype.getRelated=function(){return this.getProperty("related")},e.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},e.prototype.getTrackingLabel=function(){var t=this.getService(o.ServiceProfile.TRACKING_EXTENSIONS);return t?t.getProperty("trackingLabel"):""},e.prototype.getDefaultTree=function(){return this.defaultTree=new a.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},e.prototype.getRequiredStatement=function(){var t=null,e=this.getProperty("requiredStatement");if(e)(t=new a.LabelValuePair(this.options.locale)).parse(e);else{var n=this.getAttribution();n&&((t=new a.LabelValuePair(this.options.locale)).value=n)}return t},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.load=function(){var t=this;return new Promise((function(e){if(t.isLoaded)e(t);else{var n=t.options;n.navDate=t.getNavDate();var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(i){t.parentLabel=a.LanguageMap.getValue(t.getLabel(),n.locale);var r=a.Deserialiser.parse(i,n);(t=Object.assign(t,r)).index=n.index,e(t)}))}}))},e}(a.ManifestResource);e.IIIFResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getBody=function(){var t=[],e=this.getProperty("body");if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)if((o=e[n]).items)for(var i=0;i<o.items.length;i++){var r=o.items[i];t.push(new a.AnnotationBody(r,this.options))}else t.push(new a.AnnotationBody(o,this.options));else if(e.items)for(n=0;n<e.items.length;n++){var o=e.items[n];t.push(new a.AnnotationBody(o,this.options))}else t.push(new a.AnnotationBody(e,this.options));return t},e.prototype.getMotivation=function(){return this.getProperty("motivation")||null},e.prototype.getOn=function(){return this.getProperty("on")},e.prototype.getTarget=function(){return this.getProperty("target")},e.prototype.getResource=function(){return new a.Resource(this.getProperty("resource"),this.options)},e}(a.ManifestResource);e.Annotation=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?a.Utils.getMediaType(t):null},e.prototype.getType=function(){return this.getProperty("type")?a.Utils.normaliseType(this.getProperty("type")):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.ManifestResource);e.AnnotationBody=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.label=e,r.options=i,r}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){return this.label},e.prototype.getResources=function(){var t=this;return this.getProperty("resources").map((function(e){return new a.Annotation(e,t.options)}))},e.prototype.load=function(){var t=this;return new Promise((function(e,n){if(t.isLoaded)e(t);else{var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(n){t.__jsonld=n,t.context=t.getProperty("context"),t.id=t.getProperty("id"),t.isLoaded=!0,e(t)})).catch(n)}}))},e}(a.JSONLDResource);e.AnnotationList=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getItems=function(){return this.getProperty("items")},e}(n(0).ManifestResource);e.AnnotationPage=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getCanonicalImageUri=function(t){var e,n=null,i="default",r=t;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var o=this.getImages();if(o&&o.length){var s=o[0].getResource(),l=s.getServices();if(r||(r=s.getWidth()),l.length){var c=l[0];n=c.id,i=a.Utils.getImageQuality(c.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var u=this.getProperty("thumbnail");if(u){if("string"==typeof u)return u;if(u["@id"])return u["@id"];if(u.length)return u[0].id}}}return e=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",e,0,i+".jpg"].join("/")},e.prototype.getMaxDimensions=function(){var t,e=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(t=this.externalResource.data.profile,Array.isArray(t)&&(t=t.filter((function(t){return t.maxWidth}))[0])&&(e=new a.Size(t.maxWidth,t.maxHeight?t.maxHeight:t.maxWidth))),e},e.prototype.getContent=function(){var t=[],e=this.__jsonld.items||this.__jsonld.content;if(!e)return t;var n=null;if(e.length&&(n=new a.AnnotationPage(e[0],this.options)),!n)return t;for(var i=n.getItems(),r=0;r<i.length;r++){var o=i[r],s=new a.Annotation(o,this.options);t.push(s)}return t},e.prototype.getDuration=function(){return this.getProperty("duration")},e.prototype.getImages=function(){var t=[];if(!this.__jsonld.images)return t;for(var e=0;e<this.__jsonld.images.length;e++){var n=this.__jsonld.images[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getIndex=function(){return this.getProperty("index")},e.prototype.getOtherContent=function(){var t=this,e=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(t){return t&&"string"==typeof(e=t["@type"])&&e.toLowerCase()==e.toLowerCase();var e})).map((function(e,n){return new a.AnnotationList(e.label||"Annotation list "+n,e,t.options)})).map((function(t){return t.load()}));return Promise.all(e)},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.Resource);e.Canvas=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._collections=null,i._manifests=null,e.__collection=i,i}return r(e,t),e.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(t){return t.isCollection()}))},e.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(t){return t.isManifest()}))},e.prototype.getCollectionByIndex=function(t){for(var e,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Collection index not found")},e.prototype.getManifestByIndex=function(t){for(var e,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Manifest index not found")},e.prototype.getTotalCollections=function(){return this.getCollections().length},e.prototype.getTotalManifests=function(){return this.getManifests().length},e.prototype.getTotalItems=function(){return this.items.length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):a.ViewingDirection.LEFT_TO_RIGHT},e.prototype.getDefaultTree=function(){return t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._parseManifests=function(t){if(t.getManifests()&&t.getManifests().length)for(var e=0;e<t.getManifests().length;e++){var n=t.getManifests()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),t.defaultTree.addNode(i)}},e.prototype._parseCollections=function(t){if(t.getCollections()&&t.getCollections().length)for(var e=0;e<t.getCollections().length;e++){var n=t.getCollections()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),t.defaultTree.addNode(i)}},e}(o.IIIFResource);e.Collection=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getLength=function(){return this.end-this.start},t}();e.Duration=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t){this.defaultLocale=t}return t.prototype.parse=function(t){this.resource=t,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},t.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},t.prototype.setLabel=function(t){var e=this;if(this.label&&this.label.length){var n=this.label.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t.prototype.getValue=function(){if(this.value){var t=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(t=this.label[0].locale),i.LanguageMap.getValue(this.value,t)}return null},t.prototype.setValue=function(t){var e=this;if(this.value&&this.value.length){var n=this.value.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t}();e.LabelValuePair=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Language=function(t,e){Array.isArray(t)?1===t.length?this.value=t[0]:this.value=t.join("<br/>"):this.value=t,this.locale=e}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.parse=function(t,e){var n,i=[];if(!t)return i;if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=t[r];n="string"==typeof o?new a.Language(o,e):new a.Language(o["@value"],o["@language"]||e),i.push(n)}else{if("string"==typeof t)return n=new a.Language(t,e),i.push(n),i;t["@value"]?(n=new a.Language(t["@value"],t["@language"]||e),i.push(n)):Object.keys(t).forEach((function(e){if(!t[e].length)throw new Error("language must have a value");n=new a.Language(t[e],e),i.push(n)}))}return i},e.getValue=function(t,e){if(t.length){if(e){var n=t.filter((function(t){return t.locale===e||a.Utils.getInexactLocale(t.locale)===a.Utils.getInexactLocale(e)}))[0];if(n)return n.value}return t[0].value}return null},e}(Array);e.LanguageMap=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),a=0;a<r.length;a++){var o=r[a];i._parseRanges(o,String(a))}return i}return r(e,t),e.prototype.getPosterCanvas=function(){var t=this.getProperty("posterCanvas");return t&&(t=new o.Canvas(t,this.options)),t},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getDefaultTree=function(){if(t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var e=this.getTopRanges();return e.length&&e[0].getTree(this.defaultTree),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._getTopRanges=function(){var t=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];n.viewingHint===a.ViewingHint.TOP&&t.push(n)}if(!t.length){var i={};i.ranges=this.__jsonld.structures,t.push(i)}}return t},e.prototype.getTopRanges=function(){return this._topRanges},e.prototype._getRangeById=function(t){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];if(n["@id"]===t||n.id===t)return n}return null},e.prototype._parseRanges=function(t,e,n){var i,r=null;if("string"==typeof t&&(r=t,t=this._getRangeById(r)),t){(i=new o.Range(t,this.options)).parentRange=n,i.path=e,n?n.items.push(i):this._topRanges.push(i);var a=t.items||t.members;if(a)for(var s=0;s<a.length;s++){var l=a[s];if(l["@type"]&&"sc:range"===l["@type"].toLowerCase()||l.type&&"range"===l.type.toLowerCase())this._parseRanges(l,e+"/"+s,i);else if(l["@type"]&&"sc:canvas"===l["@type"].toLowerCase()||l.type&&"canvas"===l.type.toLowerCase()){i.canvases||(i.canvases=[]);var c=l.id||l["@id"];i.canvases.push(c)}}else if(t.ranges)for(s=0;s<t.ranges.length;s++)this._parseRanges(t.ranges[s],e+"/"+s,i)}else console.warn("Range:",r,"does not exist")},e.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var t=this.getTopRanges(),e=function(e){var i=t[e];i.id&&n._allRanges.push(i);var r=function(t,e){t.add(e);var n=e.getRanges();return n.length?n.reduce(r,t):t},a=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(a)},n=this,i=0;i<t.length;i++)e(i);return this._allRanges},e.prototype.getRangeById=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}return null},e.prototype.getRangeByPath=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.path===t)return i}return null},e.prototype.getSequences=function(){if(this.items.length)return this.items;var t=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(t)for(var e=0;e<t.length;e++){var n=t[e],i=new o.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new o.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},e.prototype.getSequenceByIndex=function(t){return this.getSequences()[t]},e.prototype.getTotalSequences=function(){return this.getSequences().length},e.prototype.getManifestType=function(){var t=this.getService(a.ServiceProfile.UI_EXTENSIONS);return t?t.getProperty("manifestType"):o.ManifestType.EMPTY},e.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();if(t)return t===a.ViewingHint.PAGED;var e=this.getBehavior();return!!e&&e===a.Behavior.PAGED},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e}(o.IIIFResource);e.Manifest=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.EMPTY="",t.MANUSCRIPT="manuscript",t.MONOGRAPH="monograph"}(e.ManifestType||(e.ManifestType={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(e,t),e.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},e.prototype.getDuration=function(){var t,e;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=a.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(t=Number(r[0])),n===this.canvases.length-1&&(e=Number(r[1])))}else{var o=this.getRanges();for(n=0;n<o.length;n++){var s=o[n].getDuration();s&&(0===n&&(t=s.start),n===o.length-1&&(e=s.end))}}if(void 0!==t&&void 0!==e)return new a.Duration(t,e)},e.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(t){return t.isRange()}))},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getTree=function(t){t.data=this,this.treeNode=t;var e=this.getRanges();if(e&&e.length)for(var n=0;n<e.length;n++){var i=e[n],r=new a.TreeNode;t.addNode(r),this._parseTreeNode(r,i)}return a.Utils.generateTreeNodeIds(t),t},e.prototype.spansTime=function(t){var e=this.getDuration();return!!(e&&t>=e.start&&t<=e.end)},e.prototype._parseTreeNode=function(t,e){t.label=a.LanguageMap.getValue(e.getLabel(),this.options.locale),t.data=e,t.data.type=a.Utils.normaliseType(a.TreeNodeType.RANGE),e.treeNode=t;var n=e.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==o.Behavior.NO_NAV){var s=new a.TreeNode;t.addNode(s),this._parseTreeNode(s,r)}}},e}(a.ManifestResource);e.Range=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){return this.getProperty("format")},e}(n(0).ManifestResource);e.Rendering=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._thumbnails=null,i}return r(e,t),e.prototype.getCanvases=function(){if(this.items.length)return this.items;var t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var e=0;e<t.length;e++){var n=t[e];(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}else if(this.__jsonld)for(e=0;e<this.__jsonld.length;e++){var i;n=this.__jsonld[e],(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}return this.items},e.prototype.getCanvasById=function(t){for(var e=0;e<this.getTotalCanvases();e++){var n=this.getCanvasByIndex(e),i=o.Utils.normaliseUrl(n.id);if(o.Utils.normaliseUrl(t)===i)return n}return null},e.prototype.getCanvasByIndex=function(t){return this.getCanvases()[t]},e.prototype.getCanvasIndexById=function(t){for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return null},e.prototype.getCanvasIndexByLabel=function(t,e){t=t.trim(),isNaN(t)||(t=parseInt(t,10).toString(),e&&(t+="r"));for(var n,i,r,a=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var l=this.getCanvasByIndex(s);if(o.LanguageMap.getValue(l.getLabel(),this.options.locale)===t)return s;if((n=a.exec(t))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(l.getLabel().toString())))return s}return-1},e.prototype.getLastCanvasLabel=function(t){for(var e=this.getTotalCanvases()-1;e>=0;e--){var n=this.getCanvasByIndex(e),i=o.LanguageMap.getValue(n.getLabel(),this.options.locale);if(t){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getNextPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=t+1;return n>this.getLastPageIndex()?-1:n},e.prototype.getPagedIndices=function(t,e){var n=[];if(e){n=this.isFirstCanvas(t)||this.isLastCanvas(t)?[t]:t%2?[t,t+1]:[t-1,t];var i=this.getViewingDirection();i&&i===a.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(t);return n},e.prototype.getPrevPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=t-1;return n},e.prototype.getStartCanvasIndex=function(){var t=this.getStartCanvas();if(t)for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return 0},e.prototype.getThumbs=function(t,e){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var a=this.getCanvasByIndex(r),s=new o.Thumb(t,a);n.push(s)}return n},e.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var t=this.getCanvases(),e=0;e<t.length;e++){var n=t[e].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},e.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},e.prototype.getTotalCanvases=function(){return this.getCanvases().length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.isCanvasIndexOutOfRange=function(t){return t>this.getTotalCanvases()-1},e.prototype.isFirstCanvas=function(t){return 0===t},e.prototype.isLastCanvas=function(t){return t===this.getTotalCanvases()-1},e.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();return!!t&&t===a.ViewingHint.PAGED},e.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},e}(o.ManifestResource);e.Sequence=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t.parse=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),this.parseJson(t,e)},t.parseJson=function(t,e){var n;if(e&&e.navDate&&!isNaN(e.navDate.getTime())&&(t.navDate=e.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":n=this.parseCollection(t,e);break;case"sc:Manifest":n=this.parseManifest(t,e);break;default:return null}else switch(t.type){case"Collection":n=this.parseCollection(t,e);break;case"Manifest":n=this.parseManifest(t,e);break;default:return null}return n.isLoaded=!0,n},t.parseCollection=function(t,e){var n=new i.Collection(t,e);return e?(n.index=e.index||0,e.resource&&(n.parentCollection=e.resource.parentCollection)):n.index=0,this.parseCollections(n,e),this.parseManifests(n,e),this.parseItems(n,e),n},t.parseCollections=function(t,e){var n;if(t.__jsonld.collections?n=t.__jsonld.collections:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"collection"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){e&&(e.index=i);var r=this.parseCollection(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseManifest=function(t,e){return new i.Manifest(t,e)},t.parseManifests=function(t,e){var n;if(t.__jsonld.manifests?n=t.__jsonld.manifests:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"manifest"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseItem=function(t,e){if(t["@type"]){if("sc:manifest"===t["@type"].toLowerCase())return this.parseManifest(t,e);if("sc:collection"===t["@type"].toLowerCase())return this.parseCollection(t,e)}else if(t.type){if("manifest"===t.type.toLowerCase())return this.parseManifest(t,e);if("collection"===t.type.toLowerCase())return this.parseCollection(t,e)}return null},t.parseItems=function(t,e){var n=t.__jsonld.members||t.__jsonld.items;if(n)for(var i=function(i){e&&(e.index=i);var a=r.parseItem(n[i],e);return a?t.items.filter((function(t){return t.id===a.id}))[0]?"continue":(a.index=i,a.parentCollection=t,void t.items.push(a)):{value:void 0}},r=this,a=0;a<n.length;a++){var o=i(a);if("object"==typeof o)return o.value}},t}();e.Deserialiser=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getProfile=function(){var t=this.getProperty("profile");return t||(t=this.getProperty("dcterms:conformsTo")),Array.isArray(t)?t[0]:t},e.prototype.getConfirmLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},e.prototype.getDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},e.prototype.getFailureDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},e.prototype.getFailureHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},e.prototype.getHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},e.prototype.getServiceLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},e.prototype.getInfoUri=function(){var t=this.id;return t.endsWith("/")||(t+="/"),t+"info.json"},e}(a.ManifestResource);e.Service=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=function(t,e){this.width=t,this.height=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",t[t.FORBIDDEN=2]="FORBIDDEN",t[t.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",t[t.RESTRICTED=4]="RESTRICTED"}(e.StatusCode||(e.StatusCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.Thumb=function(t,e){this.data=e,this.index=e.index,this.width=t;var n=e.getHeight()/e.getWidth();this.height=n?Math.floor(this.width*n):t,this.uri=e.getCanonicalImageUri(t),this.label=i.LanguageMap.getValue(e.getLabel())}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(n(0).Resource);e.Thumbnail=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.label=t,this.data=e||{},this.nodes=[]}return t.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},t.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},t.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},t.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},t}();e.TreeNode=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range"}(e.TreeNodeType||(e.TreeNodeType={}))},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(t,e,n){t.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseComponent",(function(){return i}));var i=function(){function t(t){this.options=t,this.options.data=Object.assign({},this.data(),t.data)}return t.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},t.prototype.data=function(){return{}},t.prototype.on=function(t,e,n){var i=this._e||(this._e={});(i[t]||(i[t]=[])).push({fn:e,ctx:n})},t.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[t]||[]).slice(),a=0,o=r.length;a<o;a++)r[a].fn.apply(r[a].ctx,i)},t.prototype._resize=function(){},t.prototype.set=function(t){},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t._compare=function(t,e){var n=[];return Object.keys(t).forEach((function(i){Object.is(e[i],t[i])||n.push(i)})),n},t.diff=function(e,n){return Array.from(new Set(t._compare(e,n).concat(t._compare(n,e))))},t.getSpatialComponent=function(t){var e=/xywh=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t.getFirstTargetedCanvasId=function(e){var n;if(e.canvases&&e.canvases.length)n=e.canvases[0];else{var r=e.getRanges();if(r.length)return t.getFirstTargetedCanvasId(r[0])}if(void 0!==n)return i.Utils.normaliseUrl(n)},t.getTimestamp=function(){return String((new Date).valueOf())},t.retargetTemporalComponent=function(t,e){var n=i.Utils.getTemporalComponent(e);if(n){for(var r=0,a=e.substr(0,e.indexOf("#")),o=0;o<t.length;o++){var s=t[o];if(s.id.includes(a))break;var l=s.getDuration();l&&(r+=l)}return n[0]=Number(n[0])+r,n[1]=Number(n[1])+r,a+"#t="+n[0]+","+n[1]}},t.formatTime=function(t){var e,n,i;return i=Math.ceil(t),((e=(e=Math.floor(i/3600))>=10?e:"0"+e)>=1?e+":":"")+(n=(n=Math.floor(i%3600/60))>=10?n:"0"+n)+":"+(i=(i=Math.floor(i%3600%60))>=10?i:"0"+i)},t.isIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},t.isSafari=function(){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return console.log("isSafari",t),t},t.debounce=function(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){t.debouncing=!1}),e),t.lastReturnVal}},t.normalise=function(t,e,n){return(t-e)/(n-e)},t.isHLSFormat=function(t){return this.hlsMimeTypes.includes(t.toString())},t.isMpegDashFormat=function(t){return"application/dash+xml"===t.toString()},t.canPlayHls=function(){var t="object"==typeof document&&document,e=t&&t.createElement("video");return Boolean(e&&e.canPlayType)&&this.hlsMimeTypes.some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))},t.hlsMimeTypes=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t}();e.AVComponentUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),o=n(0),s=n(1),l=n(8),c=n(2),u=n(5),h=n(6),p=function(t){function e(e){var n=t.call(this,e)||this;return n.canvasInstances=[],n._data=n.data(),n._readyMedia=0,n._readyWaveforms=0,n._posterCanvasWidth=0,n._posterCanvasHeight=0,n._posterImageExpanded=!1,n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){return t.prototype._init.call(this),this._$element=$(this.el),!0},e.prototype.data=function(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute",fullscreen:"Fullscreen"}}},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=c.AVComponentUtils.diff(n,this._data);if(i.includes("helper")&&this._reset(),this._data.helper){if(i.includes("limitToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({limitToRange:e._data.limitToRange})})),i.includes("constrainNavigationToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({constrainNavigationToRange:e._data.constrainNavigationToRange})})),i.includes("autoSelectRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({autoSelectRange:e._data.autoSelectRange})})),i.includes("canvasId")&&this._data.canvasId){var r=this._getCanvasInstanceById(this._data.canvasId);r&&this.canvasInstances.forEach((function(t){t.getCanvasId()!==r.getCanvasId()?t.set({visible:!1}):i.includes("range")?t.set({visible:!0,range:e._data.range?jQuery.extend(!0,{},e._data.range):void 0}):t.set({visible:!0})}))}if(i.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach((function(t){t.isVirtual()&&e.set({canvasId:t.getCanvasId(),range:void 0})}))),i.includes("range")&&this._data.range){var a=this._data.helper.getRangeById(this._data.range.id);if(a){var s=c.AVComponentUtils.getFirstTargetedCanvasId(a);if(s){var l=this._getCanvasInstanceById(s);if(l){if(l.isVirtual()&&this._data.virtualCanvasEnabled&&l.includesVirtualSubCanvas(s)){s=l.getCanvasId();for(var u=0;u<l.ranges.length;u++){var h=l.ranges[u];if(h.id===a.id){a=h;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?o.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==s?this.set({canvasId:s,range:jQuery.extend(!0,{},a)}):l.set({range:jQuery.extend(!0,{},a)})}}}else console.warn("range not found")}this._render(),this._resize()}else console.warn("must pass a helper object")},e.prototype._render=function(){},e.prototype.reset=function(){this._reset()},e.prototype._reset=function(){var t=this;if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach((function(t){t.destroy()})),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){var e=this._data.helper.manifest.getBehavior(),n=this._getCanvases();if(e&&e.toString()===a.Behavior.AUTO_ADVANCE){var i=new u.VirtualCanvas;n.forEach((function(t){i.addCanvas(t)})),this._initCanvas(i)}n.forEach((function(e){t._initCanvas(e)})),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=$('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=$('<div class="poster-image"></div>'),this._$posterExpandButton=$('\n                <button class="btn" title="'+(this._data&&this._data.content?this._data.content.expand:"")+'">\n                    <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span>'+(this._data&&this._data.content?this._data.content.expand:"")+"</span>\n                </button>\n            "),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",(function(e){e.preventDefault();var n=t._getPosterImageCss(!t._posterImageExpanded);if(t._$posterImage.animate(n),t._posterImageExpanded=!t._posterImageExpanded,t._data.content)if(t._posterImageExpanded){var i=t._data.content.collapse;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("expand","collapse")}else{i=t._data.content.expand;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("collapse","expand")}}));var r=this._data.helper.getPosterCanvas();if(r){this._posterCanvasWidth=r.getWidth(),this._posterCanvasHeight=r.getHeight();var o=this._data.helper.getPosterImage();if(o){this._$posterContainer.append(this._$posterImage);var s=this._getPosterImageCss(this._posterImageExpanded);s=Object.assign({},s,{"background-image":"url("+o+")"}),this._$posterImage.css(s)}}}},e.prototype._checkAllMediaReady=function(){console.log("loading media"),this._readyMedia===this.canvasInstances.length&&(console.log("all media ready"),clearInterval(this._checkAllMediaReadyInterval),this.fire(f.MEDIA_READY),this.resize())},e.prototype._checkAllWaveformsReady=function(){console.log("loading waveforms"),this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(console.log("waveforms ready"),clearInterval(this._checkAllWaveformsReadyInterval),this.fire(f.WAVEFORMS_READY),this.resize())},e.prototype._getCanvasInstancesWithWaveforms=function(){return this.canvasInstances.filter((function(t){return t.waveforms.length>0}))},e.prototype._getCanvases=function(){return this._data.helper?this._data.helper.getCanvases():[]},e.prototype._initCanvas=function(t){var e=this,n=new l.CanvasInstance({target:document.createElement("div"),data:Object.assign({},{canvas:t},this._data)});n.logMessage=this._logMessage.bind(this),n.isOnlyCanvasInstance=1===this._getCanvases().length,this._$element.append(n.$playerElement),n.init(),this.canvasInstances.push(n),n.on(f.MEDIA_READY,(function(){e._readyMedia++}),!1),n.on(f.WAVEFORM_READY,(function(){e._readyWaveforms++}),!1),n.on(l.CanvasInstanceEvents.PREVIOUS_RANGE,(function(){e._prevRange()}),!1),n.on(l.CanvasInstanceEvents.NEXT_RANGE,(function(){e._nextRange()}),!1),n.on(f.RANGE_CHANGED,(function(t){e.fire(f.RANGE_CHANGED,t)}),!1),n.on(h.VolumeEvents.VOLUME_CHANGED,(function(t){e._setCanvasInstanceVolumes(t),e.fire(h.VolumeEvents.VOLUME_CHANGED,t)}),!1),n.on(l.CanvasInstanceEvents.PLAYCANVAS,(function(){e.fire(l.CanvasInstanceEvents.PLAYCANVAS)}),!1),n.on(l.CanvasInstanceEvents.PAUSECANVAS,(function(){e.fire(l.CanvasInstanceEvents.PAUSECANVAS)}),!1),n.on(f.MEDIA_ERROR,(function(t){clearInterval(e._checkAllMediaReadyInterval),e.fire(f.MEDIA_ERROR,t)}),!1),n.on(f.FULLSCREEN,(function(t){e.fire(f.FULLSCREEN,t)}),!1)},e.prototype._prevRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getPreviousRange();t?this.playRange(t.id):this._rewind()}},e.prototype._nextRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getNextRange();t&&this.playRange(t.id)}},e.prototype._setCanvasInstanceVolumes=function(t){this.canvasInstances.forEach((function(e){e.set({volume:t})}))},e.prototype._getNormaliseCanvasId=function(t){return t.includes("://")?o.Utils.normaliseUrl(t):t},e.prototype._getCanvasInstanceById=function(t){if(t=this._getNormaliseCanvasId(t),this._data.virtualCanvasEnabled)for(var e=0;e<this.canvasInstances.length;e++){var n=(i=this.canvasInstances[e]).getCanvasId();if(n&&(n=this._getNormaliseCanvasId(n),(i.isVirtual()||1===this.canvasInstances.length)&&n===t||i.includesVirtualSubCanvas(t)))return i}else for(e=0;e<this.canvasInstances.length;e++){var i,r=(i=this.canvasInstances[e]).getCanvasId();if(r)if(o.Utils.normaliseUrl(r)===t)return i}},e.prototype._getCurrentCanvas=function(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)},e.prototype._rewind=function(){if(!this._data.limitToRange){var t=this._getCurrentCanvas();t&&t.set({range:void 0})}},e.prototype.play=function(){var t=this._getCurrentCanvas();t&&t.play()},e.prototype.pause=function(){var t=this._getCurrentCanvas();t&&t.pause()},e.prototype.playRange=function(t){if(this._data.helper){var e=this._data.helper.getRangeById(t);e&&this.set({range:jQuery.extend(!0,{},e)})}},e.prototype.showCanvas=function(t){var e=this._getCurrentCanvas();e&&e.getCanvasId()===t&&!e.isVisible()?e.set({visible:!0}):this.set({canvasId:t})},e.prototype._logMessage=function(t){this.fire(f.LOG,t)},e.prototype._getPosterImageCss=function(t){var e=this._getCurrentCanvas();if(e){var n=e.$playerElement.find(".options-container"),i=e.$playerElement.parent().width(),r=e.$playerElement.parent().height()-n.height();if(t)return{top:0,left:0,width:i,height:r};var a=void 0,o=void 0,s=void 0;return this._posterCanvasWidth>this._posterCanvasHeight?(a=this._posterCanvasHeight/this._posterCanvasWidth,s=(o=i*this._data.posterImageRatio)*a):(a=this._posterCanvasWidth/this._posterCanvasHeight,o=(s=r*this._data.posterImageRatio)*a),{top:0,left:i-o,width:o,height:s}}return null},e.prototype.resize=function(){this.canvasInstances.forEach((function(t){t.resize()})),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))},e}(s.BaseComponent);e.AVComponent=p;var f=function(){function t(){}return t.MEDIA_READY="mediaready",t.MEDIA_ERROR="mediaerror",t.LOG="log",t.RANGE_CHANGED="rangechanged",t.WAVEFORM_READY="waveformready",t.WAVEFORMS_READY="waveformsready",t.FULLSCREEN="fullscreen",t}();e.Events=f},function(t,e,n){"use strict";var i,r,a,o,s,l,c,u,h;n.r(e),n.d(e,"AnnotationMotivation",(function(){return i})),n.d(e,"Behavior",(function(){return r})),n.d(e,"ExternalResourceType",(function(){return a})),n.d(e,"IIIFResourceType",(function(){return o})),n.d(e,"MediaType",(function(){return s})),n.d(e,"RenderingFormat",(function(){return l})),n.d(e,"ServiceProfile",(function(){return c})),n.d(e,"ViewingDirection",(function(){return u})),n.d(e,"ViewingHint",(function(){return h})),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(i||(i={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(r||(r={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DATASET="dataset",t.DOCUMENT="document",t.IMAGE="image",t.MODEL="model",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXT="text",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(a||(a={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(o||(o={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.EPUB="application/epub+zip",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.OPF="application/oebps-package+xml",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(s||(s={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(l||(l={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(u||(u={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(h||(h={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(2),a=function(){function t(){this.canvases=[],this.id=r.AVComponentUtils.getTimestamp()}return t.prototype.addCanvas=function(t){this.canvases.push(jQuery.extend(!0,{},t))},t.prototype.getContent=function(){var t=this,e=[];return this.canvases.forEach((function(n){var a=n.getContent();a.forEach((function(t){var e=t.getTarget();e&&(i.Utils.getTemporalComponent(e)||(t.__jsonld.target+="#t=0,"+n.getDuration()))})),a.forEach((function(e){var n=e.getTarget();n&&(e.__jsonld.target=r.AVComponentUtils.retargetTemporalComponent(t.canvases,n))})),e.push.apply(e,a)})),e},t.prototype.getDuration=function(){var t=0;return this.canvases.forEach((function(e){var n=e.getDuration();n&&(t+=n)})),t},t.prototype.getWidth=function(){return this.canvases.length?this.canvases[0].getWidth():0},t.prototype.getHeight=function(){return this.canvases.length?this.canvases[0].getHeight():0},t}();e.VirtualCanvas=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n._lastVolume=1,n._data={volume:1},n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){var e=this;t.prototype._init.call(this),this._$element=$(this.el),this._$volumeMute=$('\n                            <button class="btn volume-mute" title="'+this.options.data.content.mute+'">\n                                <i class="av-icon av-icon-mute on" aria-hidden="true"></i>'+this.options.data.content.mute+"\n                            </button>"),this._$volumeSlider=$('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);var n=this;return this._$volumeMute.on("touchstart click",(function(t){t.preventDefault(),0!==e._data.volume?(e._lastVolume=e._data.volume,e._data.volume=0):e._data.volume=e._lastVolume,e.fire(o.VOLUME_CHANGED,e._data.volume)})),this._$volumeSlider.slider({value:n._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(t,e){},slide:function(t,e){n._data.volume=e.value,0===n._data.volume&&(n._lastVolume=0),n.fire(o.VOLUME_CHANGED,n._data.volume)},stop:function(t,e){}}),!0},e.prototype.set=function(t){this._data=Object.assign(this._data,t),this._render()},e.prototype._render=function(){if(void 0!==this._data.volume)if(this._$volumeSlider.slider({value:this._data.volume}),0===this._data.volume){var t=this.options.data.content.unmute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("on","off")}else{t=this.options.data.content.mute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("off","on")}},e.prototype._resize=function(){},e}(n(1).BaseComponent);e.AVVolumeControl=a;var o=function(){function t(){}return t.VOLUME_CHANGED="volumechanged",t}();e.VolumeEvents=o},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=n(3),l=n(5),c=n(9),u=n(6),h=n(2),p=n(4),f=function(t){function e(e){var n=t.call(this,e)||this;return n._canvasClockFrequency=25,n._canvasClockStartDate=0,n._canvasClockTime=0,n._canvasHeight=0,n._canvasWidth=0,n._data=n.data(),n._highPriorityFrequency=25,n._isPlaying=!1,n._isStalled=!1,n._lowPriorityFrequency=250,n._mediaSyncMarginSecs=1,n._rangeSpanPadding=.25,n._readyMediaCount=0,n._stallRequestedBy=[],n._wasPlaying=!1,n.ranges=[],n.waveforms=[],n.isOnlyCanvasInstance=!1,n._scaleY=function(t,e){return Math.max(n._data.waveformBarWidth,t*e/256)},n._data=n.options.data,n.$playerElement=$('<div class="player"></div>'),n}return r(e,t),e.prototype.init=function(){var t=this;if(this._data&&this._data.content&&this._data.canvas){this._$hoverPreviewTemplate=$('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=$('<div class="canvas-container"></div>'),this._$optionsContainer=$('<div class="options-container"></div>'),this._$rangeTimelineContainer=$('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=$('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=$('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=$('<div class="hover-highlight"></div>'),this._$durationHighlight=$('<div class="duration-highlight"></div>'),this._$timelineItemContainer=$('<div class="timeline-item-container"></div>'),this._$controlsContainer=$('<div class="controls-container"></div>'),this._$prevButton=$('\n                            <button class="btn" title="'+this._data.content.previous+'">\n                                <i class="av-icon av-icon-previous" aria-hidden="true"></i>'+this._data.content.previous+"\n                            </button>"),this._$playButton=$('\n                            <button class="btn button-play" title="'+this._data.content.play+'">\n                                <i class="av-icon av-icon-play play" aria-hidden="true"></i>'+this._data.content.play+"\n                            </button>"),this._$nextButton=$('\n                            <button class="btn" title="'+this._data.content.next+'">\n                                <i class="av-icon av-icon-next" aria-hidden="true"></i>'+this._data.content.next+"\n                            </button>"),this._$timeDisplay=$('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this._$canvasLoadingProgress=$('<div class="loading-progress"></div>'),this._$fullscreenButton=$('\n                                <button class="btn button-fullscreen" title="'+this._data.content.fullscreen+'">\n                                    <i class="av-icon av-icon-fullscreen" aria-hidden="true"></i>'+this._data.content.fullscreen+"\n                                </button>"),this.isVirtual()&&this.$playerElement.addClass("virtual");var e=$('<div class="volume"></div>');if(this._volume=new u.AVVolumeControl({target:e[0],data:Object.assign({},this._data)}),this._volume.on(u.VolumeEvents.VOLUME_CHANGED,(function(e){t.fire(u.VolumeEvents.VOLUME_CHANGED,e)}),!1),this._$controlsContainer.append(this._$prevButton,this._$playButton,this._$nextButton,this._$timeDisplay,this._$fullscreenButton,e),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight,this._$canvasLoadingProgress),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$timelineItemContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide(),this._data&&this._data.helper&&this._data.canvas){var n=[];this.isVirtual()?this._data.canvas.canvases.forEach((function(e){if(t._data&&t._data.helper){var i=t._data.helper.getCanvasRanges(e),r=[];i.forEach((function(e){var n=jQuery.extend(!0,{},e);if(r.push(n),n.canvases&&n.canvases.length)for(var i=0;i<n.canvases.length;i++)n.canvases[i]=h.AVComponentUtils.retargetTemporalComponent(t._data.canvas.canvases,n.__jsonld.items[i].id)})),n.push.apply(n,r)}})):n=n.concat(this._data.helper.getCanvasRanges(this._data.canvas)),n.forEach((function(e){t.ranges.push(e)}))}var i=this._data.canvas.getWidth(),r=this._data.canvas.getHeight();this._canvasWidth=i||this.$playerElement.parent().width(),this._canvasHeight=r||this._canvasWidth*this._data.defaultAspectRatio;var a=this,l=0,c=0;this._$prevButton.on("touchstart click",(function(e){e.preventDefault(),1===++l?(t._previous(!1),c=setTimeout((function(){l=0,c=0}),t._data.doubleClickMS)):(t._previous(!0),clearTimeout(c),l=0,c=0)})),this._$playButton.on("touchstart click",(function(e){e.preventDefault(),t._isPlaying?t.pause():t.play()})),this._$nextButton.on("touchstart click",(function(e){e.preventDefault(),t._next()})),this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:a._getDuration(),animate:!1,create:function(t,e){},slide:function(t,e){a._setCurrentTime(e.value)},stop:function(t,e){}}),this._$canvasTimelineContainer.mouseout((function(){a._$canvasHoverHighlight.width(0),a._$canvasHoverPreview.hide()})),this._$rangeTimelineContainer.mouseout((function(){a._$rangeHoverHighlight.width(0),a._$rangeHoverPreview.hide()})),this._$canvasTimelineContainer.on("mousemove",(function(e){t._updateHoverPreview(e,t._$canvasTimelineContainer,t._getDuration())})),this._$rangeTimelineContainer.on("mousemove",(function(e){if(t._data.range){var n=t._data.range.getDuration();t._updateHoverPreview(e,t._$rangeTimelineContainer,n?n.getLength():0)}})),this._$fullscreenButton[0].addEventListener("click",(function(e){e.preventDefault();var n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)t.fire(s.Events.FULLSCREEN,"off"),n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen();else{var i=t.$playerElement.get(0);t.fire(s.Events.FULLSCREEN,"on"),i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}}),!1),this._contentAnnotations=[];var p=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(var f=0;f<p.length;f++){var _=p[f],d=void 0,v=_.getBody();if(!v.length)return void console.warn("item has no body");var g=this._getBody(v);if(g){var E=g.getType(),m=g.getFormat();E&&"textualbody"===E.toString()||(d=g.id.split("#")[0]);var y=_.getTarget();if(!y)return void console.warn("item has no target");var I=h.AVComponentUtils.getSpatialComponent(y),C=o.Utils.getTemporalComponent(y);I||(I=[0,0,this._canvasWidth,this._canvasHeight]),C||(C=[0,this._getDuration()]);var T=parseInt(String(I[0])),A=parseInt(String(I[1])),O=parseInt(String(I[2])),M=parseInt(String(I[3])),L=parseInt(String(C[0])),P=parseInt(String(C[1])),R=this._convertToPercentage(A,this._canvasHeight),N=this._convertToPercentage(T,this._canvasWidth),S=this._convertToPercentage(O,this._canvasWidth),b=this._convertToPercentage(M,this._canvasHeight),w=/[\?|&]t=([^&]+)/g.exec(g.id),D=void 0,x=(D=w&&w[1]?w[1].split(","):[null,null])[0]?parseInt(D[0]):D[0],U={active:!1,end:P,endOffset:D[1]?parseInt(D[1]):D[1],format:m,height:b,left:N,source:d,start:L,startOffset:x,top:R,type:E,width:S};this._renderMediaElement(U);var V=_.getProperty("seeAlso");if(V&&V.length){var G=V[0].id;this.waveforms.push(G)}}else console.warn("unable to find suitable format for",_.id)}this._renderWaveform()}else console.warn("unable to initialise, missing canvas or content")},e.prototype._getBody=function(t){for(var e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isHLSFormat(i)&&h.AVComponentUtils.canPlayHls())return n}for(e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isMpegDashFormat(i)&&!h.AVComponentUtils.isSafari())return n}for(e=0;e<t.length;e++){var n,i;if((i=(n=t[e]).getFormat())&&!h.AVComponentUtils.isHLSFormat(i)&&!h.AVComponentUtils.isMpegDashFormat(i))return n}return null},e.prototype._getDuration=function(){return this._data&&this._data.canvas?this._data.canvas.getDuration():0},e.prototype.data=function(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}},e.prototype.isVirtual=function(){return this._data.canvas instanceof l.VirtualCanvas},e.prototype.isVisible=function(){return!!this._data.visible},e.prototype.includesVirtualSubCanvas=function(t){if(this.isVirtual()&&this._data.canvas&&this._data.canvas.canvases)for(var e=0;e<this._data.canvas.canvases.length;e++){var n=this._data.canvas.canvases[e];if(o.Utils.normaliseUrl(n.id)===t)return!0}return!1},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=h.AVComponentUtils.diff(n,this._data);if(i.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),i.includes("range")&&this._data.helper)if(this._data.range){var r=this._data.range.getDuration();r&&(this._data.range.autoChanged||this._setCurrentTime(r.start),this._data.autoPlay&&this.play(),this.fire(s.Events.RANGE_CHANGED,this._data.range.id))}else this.fire(s.Events.RANGE_CHANGED,null);i.includes("volume")?this._contentAnnotations.forEach((function(t){var n=void 0!==e._data.volume?e._data.volume:1;$(t.element).prop("volume",n),e._volume.set({volume:e._data.volume})})):this._render(),i.includes("limitToRange")&&this._render()},e.prototype._hasRangeChanged=function(){var t=this._getRangeForCurrentTime();t&&!this._data.limitToRange&&(!this._data.range||this._data.range&&t.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},t)})},e.prototype._getRangeForCurrentTime=function(t){var e;e=t?t.getRanges():this.ranges;for(var n=0;n<e.length;n++){var i=e[n];if(this._rangeSpansCurrentTime(i)){if(this._rangeNavigable(i))return i;for(var r=i.getRanges(),a=0;a<r.length;a++){var o=r[a];if(this._rangeSpansCurrentTime(o))return this._getRangeForCurrentTime(o)}return i.parentRange}}},e.prototype._rangeSpansCurrentTime=function(t){return!!t.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)},e.prototype._rangeNavigable=function(t){var e=t.getBehavior();return!e||e.toString()!==p.Behavior.NO_NAV},e.prototype._render=function(){if(this._data.range){var t=this._data.range.getDuration();if(t){var e=this._getDuration(),n=this._$canvasTimelineContainer.width()/e,i=t.start*n,r=t.end*n;(r>e||r<i)&&(r=e);var a=r-i;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:i,width:a})):this._$durationHighlight.hide();var o=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:t.start,step:.01,orientation:"horizontal",range:"min",min:t.start,max:t.end,animate:!1,create:function(t,e){},slide:function(t,e){o._setCurrentTime(e.value)},stop:function(t,e){}})}}else this._$durationHighlight.hide();this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()},e.prototype.getCanvasId=function(){if(this._data&&this._data.canvas)return this._data.canvas.id},e.prototype._updateHoverPreview=function(t,e,n){var i=e.offset(),r=t.pageX-i.left,a=e.find(".arrow"),o=e.find(".hover-highlight"),s=e.find(".hover-preview");o.width(r);var l=e.width(),c=r/l,u=Math.min(n*c);s.find(".label").text(h.AVComponentUtils.formatTime(u));var p=s.outerWidth(),f=s.outerHeight(),_=r-.5*p,d=.5*p-6;_<0&&(_=0,d=r-6),_+p>l&&(_=l-p,d=p-(l-r)-6),s.css({left:_,top:-1*f+"px"}).show(),a.css({left:d})},e.prototype._previous=function(t){this._data.limitToRange?t?this._isNavigationConstrainedToRange()?this._rewind():this.fire(_.PREVIOUS_RANGE):this._rewind():this._data.range?t?(this.set({range:void 0}),this._rewind()):this.fire(_.PREVIOUS_RANGE):this._rewind()},e.prototype._next=function(){this._data.limitToRange&&this._isNavigationConstrainedToRange()?this._fastforward():this.fire(_.NEXT_RANGE)},e.prototype.destroy=function(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)},e.prototype._convertToPercentage=function(t,e){return t/e*100},e.prototype._renderMediaElement=function(t){var e,n=this;switch(t.type.toString().toLowerCase()){case"video":e=$('<video class="anno" />');break;case"sound":case"audio":e=$('<audio class="anno" />');break;default:return}var i=e[0];if(t.format&&"application/dash+xml"===t.format.toString()){e.attr("data-dashjs-player","");var r=dashjs.MediaPlayer().create();r.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&r.setXHRWithCredentialsForType("MPD",!0),r.initialize(i,t.source)}else if(t.format&&"application/vnd.apple.mpegurl"===t.format.toString())if(Hls.isSupported()){var a=new Hls;a=this._data.adaptiveAuthEnabled?new Hls({xhrSetup:function(t){t.withCredentials=!0}}):new Hls,this._data.adaptiveAuthEnabled,a.loadSource(t.source),a.attachMedia(i)}else i.canPlayType("application/vnd.apple.mpegurl")&&(i.src=t.source);else e.attr("src",t.source);e.css({top:t.top+"%",left:t.left+"%",width:t.width+"%",height:t.height+"%"}).hide(),t.element=e,t.timeout=null;var o=this;t.checkForStall=function(){var t=this;this.active?(o._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?o._playbackStalled(!1,t):(o._playbackStalled(!0,t),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.checkForStall()}),1e3))):o._playbackStalled(!1,t)},this._contentAnnotations.push(t),this.$playerElement&&this._$canvasContainer.append(e),e.on("loadstart",(function(){})),e.on("waiting",(function(){})),e.on("seeking",(function(){})),e.on("loadedmetadata",(function(){n._readyMediaCount++,n._readyMediaCount===n._contentAnnotations.length&&(n._setCurrentTime(0),n._data.autoPlay&&n.play(),n._updateDurationDisplay(),n.fire(s.Events.MEDIA_READY))})),e.on("progress",(function(){if(i.buffered.length>0){var t=i.duration,e=i.buffered.end(i.buffered.length-1);t>0&&n._$optionsContainer.find(".loading-progress").width(e/t*100+"%")}})),e.attr("preload","auto"),e.get(0).load(),this._renderSyncIndicator(t)},e.prototype._getWaveformData=function(t){return new Promise((function(e,n){$.ajax({url:t,type:"GET",dataType:"binary",responseType:"arraybuffer",processData:!1}).done((function(t){e(WaveformData.create(t))})).fail((function(t){n(new Error("Network Error"))}))}))},e.prototype._renderWaveform=function(){var t=this;if(this.waveforms.length){var e=this.waveforms.map((function(e){return t._getWaveformData(e)}));Promise.all(e).then((function(e){t._waveformCanvas=document.createElement("canvas"),t._waveformCanvas.classList.add("waveform"),t._$canvasContainer.append(t._waveformCanvas),t._waveformCtx=t._waveformCanvas.getContext("2d"),t._waveformCtx&&(t._waveformCtx.fillStyle=t._data.waveformColor,t._compositeWaveform=new c.CompositeWaveform(e),t.fire(s.Events.WAVEFORM_READY))}))}},e.prototype._drawWaveform=function(){if(this._waveformCtx){var t,e=0,n=this._compositeWaveform.duration;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&(e=t.start,n=t.end);var i=e*this._compositeWaveform.pixelsPerSecond,r=n*this._compositeWaveform.pixelsPerSecond,a=this._waveformCtx.canvas.width,o=this._waveformCtx.canvas.height,s=this._data.waveformBarSpacing,l=this._data.waveformBarWidth,c=Math.floor((r-i)/a*s),u=a/s;this._waveformCtx.clearRect(0,0,a,o),this._waveformCtx.fillStyle=this._data.waveformColor;for(var p=i;p<r;p+=c){var f=this._getWaveformMaxAndMin(this._compositeWaveform,p,u),_=this._scaleY(f.max-f.min,o),d=(o-_)/2,v=a*h.AVComponentUtils.normalise(p,i,r);this._waveformCtx.fillRect(v,d,l,_)}}},e.prototype._getWaveformMaxAndMin=function(t,e,n){for(var i=-127,r=128,a=e;a<e+n;a++)t.max(a)>i&&(i=t.max(a)),t.min(a)<r&&(r=t.min(a));return{max:i,min:r}},e.prototype._updateCurrentTimeDisplay=function(){var t;if(this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t){var e=this._canvasClockTime-t.start;this._$canvasTime.text(h.AVComponentUtils.formatTime(e))}else this._$canvasTime.text(h.AVComponentUtils.formatTime(this._canvasClockTime))},e.prototype._updateDurationDisplay=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._$canvasDuration.text(h.AVComponentUtils.formatTime(t.getLength())):this._$canvasDuration.text(h.AVComponentUtils.formatTime(this._getDuration()))},e.prototype._renderSyncIndicator=function(t){var e=this._convertToPercentage(t.start,this._getDuration()),n=this._convertToPercentage(t.end-t.start,this._getDuration()),i=$('<div class="timeline-item" title="'+t.source+'" data-start="'+t.start+'" data-end="'+t.end+'"></div>');i.css({left:e+"%",width:n+"%"});var r=$('<div class="line-wrapper"></div>');i.appendTo(r),t.timelineElement=i,this.$playerElement&&this._$timelineItemContainer.append(r)},e.prototype._setCurrentTime=function(t){this._canvasClockTime=t,this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()},e.prototype._rewind=function(t){var e;this.pause(),this._data.range&&(e=this._data.range.getDuration()),this._data.limitToRange&&e?this._canvasClockTime=e.start:this._canvasClockTime=0,this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})},e.prototype._fastforward=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._canvasClockTime=t.end:this._canvasClockTime=this._getDuration(),this.pause()},e.prototype.play=function(t){var e=this;if(!this._isPlaying){var n;this._data.range&&(n=this._data.range.getDuration()),this._data.limitToRange&&n&&this._canvasClockTime>=n.end&&(this._canvasClockTime=n.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0),this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this._highPriorityInterval=window.setInterval((function(){e._highPriorityUpdater()}),this._highPriorityFrequency),this._lowPriorityInterval=window.setInterval((function(){e._lowPriorityUpdater()}),this._lowPriorityFrequency),this._canvasClockInterval=window.setInterval((function(){e._canvasClockUpdater()}),this._canvasClockFrequency),this._isPlaying=!0,t||this._synchronizeMedia();var i=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",i),this._$playButton.find("i").switchClass("play","pause"),this.fire(_.PLAYCANVAS),this.logMessage("PLAY canvas")}},e.prototype.pause=function(t){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,t||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia());var e=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",e),this._$playButton.find("i").switchClass("pause","play"),this.fire(_.PAUSECANVAS),this.logMessage("PAUSE canvas")},e.prototype._isNavigationConstrainedToRange=function(){return this._data.constrainNavigationToRange},e.prototype._canvasClockUpdater=function(){var t;this._canvasClockTime=(Date.now()-this._canvasClockStartDate)/1e3,this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&this._canvasClockTime>=t.end&&this.pause(),this._canvasClockTime>=this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())},e.prototype._highPriorityUpdater=function(){this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime}),this._updateCurrentTimeDisplay(),this._updateDurationDisplay()},e.prototype._lowPriorityUpdater=function(){this._updateMediaActiveStates(),this._isPlaying&&this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()},e.prototype._updateMediaActiveStates=function(){for(var t,e=0;e<this._contentAnnotations.length;e++)(t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime?(this._checkMediaSynchronization(),t.active||(this._synchronizeMedia(),t.active=!0,t.element.show(),t.timelineElement.addClass("active")),t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])):t.active&&(t.active=!1,t.element.hide(),t.timelineElement.removeClass("active"),this._pauseMedia(t.element[0]))},e.prototype._pauseMedia=function(t){t.pause()},e.prototype._setMediaCurrentTime=function(t,e){isNaN(t.duration)||(t.currentTime=e)},e.prototype._synchronizeMedia=function(){for(var t,e=0;e<this._contentAnnotations.length;e++){if(t=this._contentAnnotations[e],this._setMediaCurrentTime(t.element[0],this._canvasClockTime-t.start+t.startOffset),t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime)if(this._isPlaying){if(t.element[0].paused){var n=t.element[0].play();n&&n.catch((function(){}))}}else this._pauseMedia(t.element[0]);else this._pauseMedia(t.element[0]);t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")},e.prototype._checkMediaSynchronization=function(){for(var t,e=0,n=this._contentAnnotations.length;e<n;e++)if((t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime){var i=this._canvasClockTime-t.start+t.startOffset,r=t.element[0].currentTime;if(Math.abs(r-i)>this._mediaSyncMarginSecs){t.outOfSync=!0;var a=Math.abs(r-i);this.logMessage("DETECTED synchronization lag: "+Math.abs(a)),this._setMediaCurrentTime(t.element[0],i)}else t.outOfSync=!1}},e.prototype._playbackStalled=function(t,e){if(t)this._stallRequestedBy.indexOf(e)<0&&this._stallRequestedBy.push(e),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=t);else{var n=this._stallRequestedBy.indexOf(e);n>=0&&this._stallRequestedBy.splice(n,1),0===this._stallRequestedBy.length&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=t)}},e.prototype.resize=function(){if(this.$playerElement){var t=this._$canvasContainer.width();if(t){this._$canvasTimelineContainer.width(t);var e=this.$playerElement.find(".options-container");void 0!==this._data.halveAtWidth&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-e.height())}if(this._waveformCanvas){var n=this._$canvasContainer.width(),i=this._$canvasContainer.height();this._waveformCanvas.width=n,this._waveformCanvas.height=i}this._render()}},e}(a.BaseComponent);e.CanvasInstance=f;var _=function(){function t(){}return t.NEXT_RANGE="nextrange",t.PAUSECANVAS="pause",t.PLAYCANVAS="play",t.PREVIOUS_RANGE="previousrange",t}();e.CanvasInstanceEvents=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.length=0,this.duration=0,this.pixelsPerSecond=Number.MAX_VALUE,this.secondsPerPixel=Number.MAX_VALUE,this._waveforms=[],t.forEach((function(t){e._waveforms.push({start:e.length,end:e.length+t.adapter.length,waveform:t}),e.length+=t.adapter.length,e.duration+=t.duration,e.pixelsPerSecond=Math.min(e.pixelsPerSecond,t.pixels_per_second),e.secondsPerPixel=Math.min(e.secondsPerPixel,t.seconds_per_pixel)}))}return t.prototype.min=function(t){var e=this._find(t);return e?e.waveform.min_sample(t-e.start):0},t.prototype.max=function(t){var e=this._find(t);return e?e.waveform.max_sample(t-e.start):0},t.prototype._find=function(t){var e=this._waveforms.filter((function(e){return t>=e.start&&t<e.end}));return e.length>0?e[0]:null},t}();e.CompositeWaveform=i}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_LEVEL_1||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_LEVEL_2||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var i=e[n];if(t===i["@language"])return i["@value"]}var r=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===r)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var i;void 0===n&&(n=0),i=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=i;for(var r=0;r<t.nodes.length;r++){var o=t.nodes[r];e.generateTreeNodeIds(o,r)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,i,r,o,a,s,u){return new Promise((function(l,c){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,i,r,o,a,s,u)}));Promise.all(p).then((function(){l(t)})).catch((function(e){c(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,a,u,l,c,p){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:return(i=r.sent())?[4,t.getData(i)]:[3,6];case 2:return r.sent(),t.status!==s.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,l,c,p)];case 4:r.sent(),r.label=5;case 5:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return r.sent(),t.status!==s.MOVED_TEMPORARILY&&t.status!==s.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,l,c,p)];case 8:r.sent(),r.label=9;case 9:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,a,u,l,c){return i(this,void 0,void 0,(function(){var i,p,f,h,d,g,_,v;return r(this,(function(r){switch(r.label){case 0:return t.isAccessControlled()?((i=t.externalService)&&(i.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==s.MOVED_TEMPORARILY?[3,2]:[4,l(t)]):[2,t];case 1:return r.sent(),[2,t];case 2:return d=null,g=null,(d=i)?(g=d,[4,e.attemptResourceWithToken(t,o,d)]):[3,4];case 3:return r.sent(),[2,t];case 4:return(d=p)?(g=d,(_=n(d))?[4,a(_)]:[3,7]):[3,7];case 5:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 6:return r.sent(),[2,t];case 7:return(d=f)?(g=d,[4,u(t,d)]):[3,11];case 8:return(v=r.sent())?[4,a(v)]:[3,11];case 9:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 10:return r.sent(),[2,t];case 11:return(d=h)?(g=d,[4,u(t,d)]):[3,15];case 12:return(v=r.sent())?[4,a(v)]:[3,15];case 13:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 14:return r.sent(),[2,t];case 15:return g&&c(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,i)]:[3,3];case 1:return(o=r.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return r.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,i,r,o,a,s,u,l,c){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,i,r,o,a,s,u,l,c)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,i,r,o,a,u,l,c,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(i(t)),f(r(t))):o(t).then((function(){a(t,!0).then((function(n){t.getData(n).then((function(){f(c(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):l(t,n).then((function(p){p?t.getData(p).then((function(){t.status===s.OK?f(c(t)):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,i,r,o,a,u,l){return new Promise((function(c,p){t.getData().then((function(){t.isAccessControlled()?l(t,n).then((function(l){l?t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))})):a(t,!1).then((function(l){l?u(t,l,n).then((function(){t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):c(t)}))}))},e.showAuthInteraction=function(t,n,i,r,o,a,u,l,c){t.status!==s.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):o(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):l(t)},e.getService=function(e,t){for(var n=this.getServices(e),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===t)return r}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var r=0;r<Object.keys(t).length;r++)if("object"==typeof t[Object.keys(t)[r]]){var o=e.traverseAndFind(t[Object.keys(t)[r]],n,i);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if("string"==typeof r){var a=this.getResourceById(e.options.resource,r);a&&n.push(new o.Service(a.__jsonld||a,e.options))}else n.push(new o.Service(r,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var i=n(2);t.loadManifest=function(e){return i.Utils.loadManifest(e)},t.parseManifest=function(e,t){return i.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.options=n,i}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n],r=new o.LabelValuePair(this.options.locale);r.parse(i),t.push(r)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var i=t[n];if(i.getFormat()===e)return i}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];t.push(new o.Rendering(i,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(i){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var r=o.Deserialiser.parse(i,n);(e=Object.assign(e,r)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)if((a=t[n]).items)for(var i=0;i<a.items.length;i++){var r=a.items[i];e.push(new o.AnnotationBody(r,this.options))}else e.push(new o.AnnotationBody(a,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var a=t.items[n];e.push(new o.AnnotationBody(a,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.label=t,r.options=i,r}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,i="default",r=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),u=s.getServices();if(r||(r=s.getWidth()),u.length){var l=u[0];n=l.id,i=o.Utils.getImageQuality(l.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var c=this.getProperty("thumbnail");if(c){if("string"==typeof c)return c;if(c["@id"])return c["@id"];if(c.length)return c[0].id}}}return t=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,i+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var i=n.getItems(),r=0;r<i.length;r++){var a=i[r],s=new o.Annotation(a,this.options);e.push(s)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(e){return e&&"string"==typeof(t=e["@type"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,n){return new o.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.Resource);t.Canvas=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return r(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),e.defaultTree.addNode(i)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),e.defaultTree.addNode(i)}},t}(a.IIIFResource);t.Collection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),i.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Language=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.parse=function(e,t){var n,i=[];if(!e)return i;if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];n="string"==typeof a?new o.Language(a,t):new o.Language(a["@value"],a["@language"]||t),i.push(n)}else{if("string"==typeof e)return n=new o.Language(e,t),i.push(n),i;e["@value"]?(n=new o.Language(e["@value"],e["@language"]||t),i.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");n=new o.Language(e[t],t),i.push(n)}))}return i},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),o=0;o<r.length;o++){var a=r[o];i._parseRanges(a,String(o))}return i}return r(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var i={};i.ranges=this.__jsonld.structures,e.push(i)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var i,r=null;if("string"==typeof e&&(r=e,e=this._getRangeById(r)),e){(i=new a.Range(e,this.options)).parentRange=n,i.path=t,n?n.items.push(i):this._topRanges.push(i);var o=e.items||e.members;if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+s,i);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){i.canvases||(i.canvases=[]);var l=u.id||u["@id"];i.canvases.push(l)}}else if(e.ranges)for(s=0;s<e.ranges.length;s++)this._parseRanges(e.ranges[s],t+"/"+s,i)}else console.warn("Range:",r,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var i=e[t];i.id&&n._allRanges.push(i);var r=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(r,e):e},o=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(o)},n=this,i=0;i<e.length;i++)t(i);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.path===e)return i}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],i=new a.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new a.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):a.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(a.IIIFResource);t.Manifest=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=o.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(e=Number(r[0])),n===this.canvases.length-1&&(t=Number(r[1])))}else{var a=this.getRanges();for(n=0;n<a.length;n++){var s=a[n].getDuration();s&&(0===n&&(e=s.start),n===a.length-1&&(t=s.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],r=new o.TreeNode;e.addNode(r),this._parseTreeNode(r,i)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==a.Behavior.NO_NAV){var s=new o.TreeNode;e.addNode(s),this._parseTreeNode(s,r)}}},t}(o.ManifestResource);t.Range=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return r(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var i;n=this.__jsonld[t],(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),i=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(e)===i)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,i,r,o=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var u=this.getCanvasByIndex(s);if(a.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return s;if((n=o.exec(e))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(u.getLabel().toString())))return s}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),i=a.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var i=this.getViewingDirection();i&&i===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var o=this.getCanvasByIndex(r),s=new a.Thumb(e,o);n.push(s)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(a.ManifestResource);t.Sequence=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new i.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){t&&(t.index=i);var r=this.parseCollection(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseManifest=function(e,t){return new i.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var i=function(i){t&&(t.index=i);var o=r.parseItem(n[i],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=i,o.parentCollection=e,void e.items.push(o)):{value:void 0}},r=this,o=0;o<n.length;o++){var a=i(o);if("object"==typeof a)return a.value}},e}();t.Deserialiser=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+"info.json"},t}(o.ManifestResource);t.Service=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=i.LanguageMap.getValue(t.getLabel())}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},e}();t.TreeNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(5),s=function(e){function t(t){var n=e.call(this,t)||this;return n._data=n.data(),n._data=n.options.data,n._init(),n._resize(),n}return r(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._$element=$(this.el);var t=this;return this._$tree=$('<ul class="tree"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:"{^{for nodes}}\t\t\t\t\t{^{tree/}}\t\t\t\t{{/for}}",treeTemplate:'<li>\t\t\t\t\t\t{^{if nodes && nodes.length}}\t\t\t\t\t\t\t<div class="toggle" data-link="class{merge:expanded toggle=\'expanded\'}"></div>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t<div class="spacer"></div>\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if multiSelectEnabled}}\t\t\t\t\t\t\t<input id="tree-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? \'checked\' : \'\'}" class="multiSelect" />\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if selected}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}" class="selected">{{>label}}</a>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}">{{>label}}</a>\t\t\t\t\t\t{{/if}}\t\t\t\t</li>\t\t\t\t{^{if expanded}}\t\t\t\t\t<li>\t\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t\t\t{^{for nodes}}\t\t\t\t\t\t\t\t\t\t{^{tree/}}\t\t\t\t\t\t\t\t\t{{/for}}\t\t\t\t\t\t\t</ul>\t\t\t\t\t</li>\t\t\t\t{{/if}}'}),$.views.tags({tree:{toggleExpanded:function(){var e=this.data;t._setNodeExpanded(e,!e.expanded)},toggleMultiSelect:function(){var e=this.data;if(t._setNodeMultiSelected(e,!e.multiSelected),e.isRange()){var n=t._getMultiSelectState();n&&n.selectRange(e.data,e.multiSelected)}t.fire(u.TREE_NODE_MULTISELECTED,e)},init:function(e,t,n){this.data=e.view.data},onAfterLink:function(){var e=this;e.contents("li").first().on("click",".toggle",(function(){e.toggleExpanded()})).on("click","a",(function(n){n.preventDefault();var i=e.data;i.nodes.length&&t._data.branchNodesExpandOnClick&&e.toggleExpanded(),i.multiSelectEnabled?e.toggleMultiSelect():i.nodes.length?t._data.branchNodesSelectable&&(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i)):(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i))})).on("click","input.multiSelect",(function(t){e.toggleMultiSelect()}))},template:$.templates.treeTemplate}}),!0},t.prototype.set=function(e){var t=this;if(this._data=Object.assign(this._data,e),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var n=this._getMultiSelectState();if(n)for(var i=function(e){var t=n.ranges[e],i=r._getMultiSelectableNodes().filter((function(e){return e.data.id===t.id}))[0];i&&(r._setNodeMultiSelectEnabled(i,t.multiSelectEnabled),r._setNodeMultiSelected(i,t.multiSelected))},r=this,o=0;o<n.ranges.length;o++)i(o);if(this._data.autoExpand)this.getAllNodes().forEach((function(e,n){t._setNodeExpanded(e,!0)}))}},t.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},t.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:a.TreeSortType.NONE}},t.prototype.allNodesSelected=function(){var e=this._getMultiSelectableNodes(),t=this.getMultiSelectedNodes();return e.length===t.length},t.prototype._getMultiSelectableNodes=function(){var e=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var t=this.getAllNodes();return t?this._multiSelectableNodes=t.filter((function(t){return e._nodeIsMultiSelectable(t)})):[]},t.prototype._nodeIsMultiSelectable=function(e){return!!(e.data.type===o.TreeNodeType.MANIFEST&&e.nodes&&e.nodes.length>0||e.data.type===o.TreeNodeType.RANGE)},t.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},t.prototype.getMultiSelectedNodes=function(){var e=this;return this.getAllNodes().filter((function(t){return e._nodeIsMultiSelectable(t)&&t.multiSelected}))},t.prototype.getNodeById=function(e){return this.getAllNodes().filter((function(t){return t.id===e}))[0]},t.prototype.expandParents=function(e,t){e&&e.parentNode&&(this._setNodeExpanded(e.parentNode,t),this.expandParents(e.parentNode,t))},t.prototype._setNodeSelected=function(e,t){$.observable(e).setProperty("selected",t)},t.prototype._setNodeExpanded=function(e,t){$.observable(e).setProperty("expanded",t)},t.prototype._setNodeMultiSelected=function(e,t){$.observable(e).setProperty("multiSelected",t)},t.prototype._setNodeMultiSelectEnabled=function(e,t){$.observable(e).setProperty("multiSelectEnabled",t)},t.prototype.selectPath=function(e){if(this._rootNode){var t=e.split("/");t.length>=1&&t.shift();var n=this.getNodeByPath(this._rootNode,t);this.selectNode(n)}},t.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},t.prototype.selectNode=function(e){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=e,this._setNodeSelected(this.selectedNode,!0))},t.prototype.expandNode=function(e,t){this._rootNode&&this._setNodeExpanded(e,t)},t.prototype.getNodeByPath=function(e,t){if(0===t.length)return e;var n=Number(t.shift()),i=e.nodes[n];return this.getNodeByPath(i,t)},t.prototype.show=function(){this._$element.show()},t.prototype.hide=function(){this._$element.hide()},t.prototype._resize=function(){},t}(n(4).BaseComponent);t.TreeComponent=s;var u=function(){function e(){}return e.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",e.TREE_NODE_SELECTED="treeNodeSelected",e}();t.Events=u},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",(function(){return i}));var i=function(){function e(e){this.options=e,this.options.data=Object.assign({},this.data(),e.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(e,t,n){var i=this._e||(this._e={});(i[e]||(i[e]=[])).push({fn:t,ctx:n})},e.prototype.fire=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[e]||[]).slice(),o=0,a=r.length;o<a;o++)r[o].fn.apply(r[o].ctx,i)},e.prototype._resize=function(){},e.prototype.set=function(e){},e}()},function(e,t,n){"use strict";n.r(t);var i,r,o,a,s,u,l,c,p,f,h=function(e){this.isVisible=!0;var t=e.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(t[1]),this.y=Number(t[2]),this.width=Number(t[3]),this.height=Number(t[4]),this.chars=e.resource.chars},d=function(){function e(e,t){this.rects=[],this.canvasIndex=t,this.addRect(e)}return e.prototype.addRect=function(e){var t=new h(e);t.canvasIndex=this.canvasIndex,t.index=this.rects.length,this.rects.push(t),this.rects.sort((function(e,t){return e.index-t.index}))},e}(),g=n(0),_=function(){function e(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return e.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},e.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},e.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},e.prototype.getAll=function(){return this.canvases.concat(this.ranges)},e.prototype.getAllSelectedCanvases=function(){return this.canvases.filter((function(e){return e.multiSelected}))},e.prototype.getAllSelectedRanges=function(){return this.ranges.filter((function(e){return e.multiSelected}))},e.prototype.getCanvasById=function(e){return this.canvases.filter((function(t){return g.Utils.normaliseUrl(t.id)===g.Utils.normaliseUrl(e)}))[0]},e.prototype.getCanvasesByIds=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(this.getCanvasById(i))}return t},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesByIds(t)},e.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},e.prototype.selectCanvas=function(e,t){this.canvases.filter((function(t){return t.id===e.id}))[0].multiSelected=t},e.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},e.prototype.selectCanvases=function(e,t){for(var n=0;n<e.length;n++){e[n].multiSelected=t}},e.prototype.selectRange=function(e,t){var n=this.ranges.filter((function(t){return t.id===e.id}))[0];n.multiSelected=t;var i=this.getRangeCanvases(n);this.selectCanvases(i,t)},e.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},e.prototype.selectRanges=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.multiSelected=t;var r=this.getCanvasesByIds(i.getCanvasIds());this.selectCanvases(r,t)}},e.prototype.setEnabled=function(e){this.isEnabled=e;for(var t=this.getAll(),n=0;n<t.length;n++){var i=t[n];i.multiSelectEnabled=this.isEnabled,e||(i.multiSelected=!1)}},e}(),v=function(){function e(e,t){this.items=[],this.resource=e,this.label=t}return e.prototype.addItem=function(e){this.items.push(e)},e.prototype.addMetadata=function(e,t){void 0===t&&(t=!1);for(var n=0;n<e.length;n++){var i=e[n];i.isRootLevel=t,this.addItem(i)}},e}();!function(e){e.DATE="date",e.NONE="none"}(i||(i={})),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(r||(r={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(o||(o={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(a||(a={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(s||(s={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(u||(u={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(l||(l={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(p||(p={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(f||(f={}));var E=function(){function e(){}return e.manifestNotLoaded="Manifest has not loaded yet",e}(),y=function(){function e(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return e.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),t=null;return e&&((t=e.getService(c.SEARCH_0_AUTO_COMPLETE))||(t=e.getService(c.SEARCH_1_AUTO_COMPLETE))),t},e.prototype.getAttribution=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getAttribution();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},e.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},e.prototype.getCanvasesById=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getCanvasById(i);r&&t.push(r)}return t},e.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},e.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},e.prototype.getCanvasIndexByLabel=function(e){var t=this.getManifestType()===g.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,t)},e.prototype.getCanvasRange=function(e,t){var n=this.getCanvasRanges(e);if(t){for(var i=0;i<n.length;i++){var r=n[i];if(r.path===t)return r}return null}return n[0]},e.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return e.ranges?e.ranges:(e.ranges=this.manifest.getAllRanges().filter((function(t){return t.getCanvasIds().some((function(t){return g.Utils.normaliseUrl(t)===g.Utils.normaliseUrl(e.id)}))})),e.ranges)},e.prototype.getCollectionIndex=function(e){if(!e.parentCollection||e.parentCollection.parentCollection)return e.parentCollection?e.parentCollection.index:void 0},e.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},e.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},e.prototype.getDescription=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getDescription();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getLabel();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},e.prototype.getFirstPageIndex=function(){return 0},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getLicense=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLicense()},e.prototype.getLogo=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLogo()},e.prototype.getManifestType=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getManifestType();return e===g.ManifestType.EMPTY&&(e=g.ManifestType.MONOGRAPH),e},e.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=[],n=this.manifest.getMetadata(),i=new v(this.manifest),r=this.options.locale;(n&&n.length&&i.addMetadata(n,!0),this.manifest.getDescription().length)&&((s=new g.LabelValuePair(r)).label=[new g.Language("description",r)],s.value=this.manifest.getDescription(),s.isRootLevel=!0,i.addItem(s));this.manifest.getAttribution().length&&((s=new g.LabelValuePair(r)).label=[new g.Language("attribution",r)],s.value=this.manifest.getAttribution(),s.isRootLevel=!0,i.addItem(s));var o=this.manifest.getLicense();if(o){var a={label:"license",value:e&&e.licenseFormatter?e.licenseFormatter.format(o):o};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}if(this.manifest.getLogo()){var s;a={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}return t.push(i),e?this._parseMetadataOptions(e,t):t},e.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.getLabel(),value:e.getValue()}:null},e.prototype._parseMetadataOptions=function(e,t){var n=this.getCurrentSequence(),i=n.getMetadata();if(i&&i.length){var r=new v(n);r.addMetadata(i),t.push(r)}if(e.range){var o=this._getRangeMetadata([],e.range);o=o.reverse(),t=t.concat(o)}if(e.canvases&&e.canvases.length)for(var a=0;a<e.canvases.length;a++){var s=e.canvases[a],u=s.getMetadata();if(u&&u.length){var l=new v(s);l.addMetadata(s.getMetadata()),t.push(l)}for(var c=s.getImages(),p=0;p<c.length;p++){var f=c[p],h=f.getMetadata();if(h&&h.length){var d=new v(f);d.addMetadata(h),t.push(d)}}}return t},e.prototype._getRangeMetadata=function(e,t){var n=t.getMetadata();if(n&&n.length){var i=new v(t);i.addMetadata(n),e.push(i)}else if(t.parentRange)return this._getRangeMetadata(e,t.parentRange);return e},e.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new _,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},e.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},e.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getPosterCanvas()},e.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var t=e.getContent();if(t&&t.length)return t[0].getBody()[0].id}return null},e.prototype.getPreviousRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i>0;){return n[--i].data}break}}}return null},e.prototype.getNextRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i<n.length-1;){var o=n[++i];if(o.data.canvases&&o.data.canvases.length)return o.data}break}}}return null},e.prototype.getFlattenedTree=function(e){var t=null;return(t=e||this.getTree())?this._flattenTree(t,"nodes"):null},e.prototype._flattenTree=function(e,t){var n=this,i=[e];return e[t]&&e[t].length>0?i.concat(e[t].map((function(e){return n._flattenTree(e,t)})).reduce((function(e,t){return e.concat(t)}),[])):i},e.prototype.getRanges=function(){return this.manifest.getAllRanges()},e.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeByPath(e)},e.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeById(e)},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesById(t)},e.prototype.getRelated=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRelated()},e.prototype.getSearchService=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getService(c.SEARCH_0);return e||(e=this.manifest.getService(c.SEARCH_1)),e},e.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSeeAlso()},e.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},e.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=null,t=this.manifest.getService(c.SHARE_EXTENSIONS);return t&&(t.length&&(t=t[0]),e=t.__jsonld.shareUrl),e},e.prototype._getSortedTreeNodesByDate=function(e,t){var n=this.getFlattenedTree(t);if(n){var i=n.filter((function(e){return e.data.type===g.TreeNodeType.MANIFEST}));this.createDecadeNodes(e,n),this.sortDecadeNodes(e),this.createYearNodes(e,n),this.sortYearNodes(e),this.createMonthNodes(e,i),this.sortMonthNodes(e),this.createDateNodes(e,i),this.pruneDecadeNodes(e)}},e.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},e.prototype.getThumbs=function(e,t){return this.getCurrentSequence().getThumbs(e,t)},e.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTopRanges()},e.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},e.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTrackingLabel()},e.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},e.prototype.getTree=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=i.NONE),!this.iiifResource)return null;var n;if(this.iiifResource.isCollection())n=this.iiifResource.getDefaultTree();else{var r=this._getTopRanges(),o=new g.TreeNode;if(o.label="root",o.data=this.iiifResource,!r.length)return o;n=r[e].getTree(o)}var a=new g.TreeNode;switch(t.toString()){case i.DATE.toString():if(this.treeHasNavDates(n)){this._getSortedTreeNodesByDate(a,n);break}default:a=n}return a},e.prototype.treeHasNavDates=function(e){var t=this.getFlattenedTree(e);return!!t&&t.some((function(e){return!isNaN(e.navDate)}))},e.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},e.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},e.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return!!this.manifest.parentCollection},e.prototype.hasRelatedPage=function(){var e=this.getRelated();return!!e&&(e.length&&(e=e[0]),"text/html"===e.format)},e.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},e.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return!!e&&e===p.BOTTOM_TO_TOP},e.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},e.prototype.isContinuous=function(){var e=this.getViewingHint();return!!e&&e===f.CONTINUOUS},e.prototype.isFirstCanvas=function(e){return void 0!==e?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},e.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},e.prototype.isLastCanvas=function(e){return void 0!==e?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},e.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return!!e&&e===p.LEFT_TO_RIGHT},e.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},e.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isMultiSequence()},e.prototype.isPaged=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getViewingHint();return e?e===f.PAGED:this.manifest.isPagingEnabled()},e.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},e.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},e.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return!!e&&e===p.RIGHT_TO_LEFT},e.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return!!e&&e===p.TOP_TO_BOTTOM},e.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},e.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=this.manifest.getService(c.UI_EXTENSIONS);if(t){var n=t.getProperty("disableUI");if(n&&(-1!==n.indexOf(e)||-1!==n.indexOf(e.toLowerCase())))return!1}return!0},e.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},e.prototype.createDateNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=this.getNodeYear(i),o=this.getNodeMonth(i),a=new g.TreeNode;a.id=i.id,a.label=this.getNodeDisplayDate(i),a.data=i.data,a.data.type=g.TreeNodeType.MANIFEST,a.data.year=r,a.data.month=o;var s=this.getDecadeNode(e,r);if(s){var u=this.getYearNode(s,r);if(u){var l=this.getMonthNode(u,o);l&&l.addNode(a)}}}},e.prototype.createDecadeNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=Number(r.toString().substr(0,3)+"9");if(!this.getDecadeNode(e,r)){var a=new g.TreeNode;a.label=r+" - "+o,a.navDate=i.navDate,a.data.startYear=r,a.data.endYear=o,e.addNode(a)}}}},e.prototype.createMonthNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getNodeMonth(i),a=this.getDecadeNode(e,r),s=null;if(a&&(s=this.getYearNode(a,r)),a&&s&&!this.getMonthNode(s,o)){var u=new g.TreeNode;u.label=this.getNodeDisplayMonth(i),u.navDate=i.navDate,u.data.year=r,u.data.month=o,s.addNode(u)}}}},e.prototype.createYearNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getDecadeNode(e,r);if(o&&!this.getYearNode(o,r)){var a=new g.TreeNode;a.label=r.toString(),a.navDate=i.navDate,a.data.year=r,o.addNode(a)}}}},e.prototype.getDecadeNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t>=i.data.startYear&&t<=i.data.endYear)return i}return null},e.prototype.getMonthNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeMonth(i))return i}return null},e.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},e.prototype.getNodeDisplayMonth=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.navDate.getMonth()]},e.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},e.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},e.prototype.getYearNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeYear(i))return i}return null},e.prototype.pruneDecadeNodes=function(e){for(var t=[],n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes.length||t.push(i)}for(var r=0;r<t.length;r++){var o=t[r],a=e.nodes.indexOf(o);a>-1&&e.nodes.splice(a,1)}},e.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort((function(e,t){return e.data.startYear-t.data.startYear}))},e.prototype.sortMonthNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++)for(var i=e.nodes[n],r=0;r<i.nodes.length;r++){var o=i.nodes[r];o.nodes=o.nodes.sort((function(e,n){return t.getNodeMonth(e)-t.getNodeMonth(n)}))}},e.prototype.sortYearNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes=i.nodes.sort((function(e,n){return t.getNodeYear(e)-t.getNodeYear(n)}))}},e}(),T=function(){function e(e){this._options=e,this._options.locale=this._options.locale||"en-GB"}return e.prototype.bootstrap=function(e,t){var n=this;return new Promise((function(i,r){e&&t&&(i=e,r=t),g.Utils.loadManifest(n._options.manifestUri).then((function(e){n._loaded(n,e,i,r)}))}))},e.prototype._loaded=function(e,t,n,i){var r=g.Utils.parseManifest(t,{locale:e._options.locale});if(r){e._options.iiifResource||(e._options.iiifResource=r);var o=e._options.collectionIndex,a=e._options.manifestIndex;if(r.getIIIFResourceType()===s.COLLECTION){var u=r.getManifests(),l=r.getCollections();u.length||void 0!==o||(o=0),void 0!==o&&l&&l.length?r.getCollectionByIndex(o).then((function(t){t||i("Collection index not found"),0===t.getTotalManifests()&&0===a&&t.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=t.id,e.bootstrap(n,i)):void 0!==a&&t.getManifestByIndex(a).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))})):r.getManifestByIndex(e._options.manifestIndex).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))}else{e._options.manifest=r;var c=new y(e._options);n(c)}}else console.error("Unable to load IIIF resource")},e}(),I=n(1),O=function(){function e(e,t){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=t.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return e.prototype._getImageServiceDescriptor=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.id;r.endsWith("/")||(r+="/"),g.Utils.isImageProfile(i.getProfile())&&(t=r+"info.json")}return t},e.prototype._getDataUri=function(e){var t=e.getContent(),n=e.getImages(),i=null;if(t&&t.length){var r=t[0].getBody();return r.length?(o=r[0].getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:r[0].id:null}if(n&&n.length){var o,a=n[0].getResource();return(o=a.getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:a.id}var s=e.getService(c.IXIF);return s?s.getInfoUri():e.id},e.prototype._parseAuthServices=function(e){if(.9===this.authAPIVersion)this.clickThroughService=g.Utils.getService(e,c.AUTH_0_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_0_LOGIN),this.restrictedService=g.Utils.getService(e,c.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(c.AUTH_0_TOKEN));else{if(void 0!==e.isCanvas&&e.isCanvas()){var t=e.getContent();if(t&&t.length){var n=t[0].getBody();if(n&&n.length)e=n[0]}}this.clickThroughService=g.Utils.getService(e,c.AUTH_1_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_1_LOGIN),this.externalService=g.Utils.getService(e,c.AUTH_1_EXTERNAL),this.kioskService=g.Utils.getService(e,c.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(c.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_1_TOKEN),this.probeService=this.loginService.getService(c.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(c.AUTH_1_TOKEN),this.probeService=this.externalService.getService(c.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(c.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(c.AUTH_1_PROBE))}},e.prototype._parseCanvasDimensions=function(e){var t=e.getImages();if(t&&t.length){var n=t[0].getResource();this.width=n.getWidth(),this.height=n.getHeight()}else if((t=e.getContent()).length){var i=t[0].getBody();i.length&&(this.width=i[0].getWidth(),this.height=i[0].getHeight())}},e.prototype._parseDescriptorDimensions=function(e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},e.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},e.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},e.prototype.getData=function(e){var t=this;return t.data={},new Promise((function(n,i){if(t.dataUri)if(t.probeService){t.isProbed=!0;var r=new XMLHttpRequest;r.open("GET",t.probeService.id,!0),r.withCredentials=!0,r.onload=function(){var e=JSON.parse(r.responseText);unescape(e.contentLocation)!==t.dataUri?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)},r.onerror=function(){t.status=r.status,n(t)},r.send()}else{var o="GET";if(!t.hasServiceDescriptor()){if(!t.isAccessControlled())return t.status=I.OK,void n(t);o="HEAD"}var a=new XMLHttpRequest;a.open(o,t.dataUri,!0),e&&a.setRequestHeader("Authorization","Bearer "+e.accessToken),a.onload=function(){var e=JSON.parse(a.responseText);if(e){var i=unescape(e["@id"]);t.data=e,t._parseAuthServices(t.data),t._parseDescriptorDimensions(t.data),i.endsWith("/info.json")&&(i=i.substr(0,i.lastIndexOf("/")));var r=t.dataUri;r&&r.endsWith("/info.json")&&(r=r.substr(0,r.lastIndexOf("/"))),i!==r&&t.loginService?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)}else t.status=I.OK,n(t)},a.onerror=function(){t.status=a.status,a.responseText&&t._parseAuthServices(JSON.parse(a.responseText)),n(t)},a.send()}else i("There is no dataUri to fetch")}))},e}(),N=function(){},m=function(){},L=function(e,t){this.value=e,this.locale=t},A=function(){function e(e){this.labels=e}return e.prototype.format=function(e){return-1!=e.indexOf("<a")?e:'<a href="'+e+'">'+(this.labels[e]?this.labels[e]:e)+"</a>"},e}();n.d(t,"loadManifest",(function(){return S})),n.d(t,"AnnotationGroup",(function(){return d})),n.d(t,"AnnotationRect",(function(){return h})),n.d(t,"Bootstrapper",(function(){return T})),n.d(t,"ExternalResource",(function(){return O})),n.d(t,"Helper",(function(){return y})),n.d(t,"ILabelValuePair",(function(){return N})),n.d(t,"MetadataGroup",(function(){return v})),n.d(t,"MetadataOptions",(function(){return m})),n.d(t,"MultiSelectState",(function(){return _})),n.d(t,"Translation",(function(){return L})),n.d(t,"TreeSortType",(function(){return i})),n.d(t,"UriLabeller",(function(){return A}));var S=function(e){return new T(e).bootstrap()}}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js ***!
  \**********************************************************************/
/*! exports provided: AnnotationGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return AnnotationGroup; });
/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");

var AnnotationGroup = /** @class */ (function () {
    function AnnotationGroup(resource, canvasIndex) {
        this.rects = [];
        this.canvasIndex = canvasIndex;
        this.addRect(resource);
    }
    AnnotationGroup.prototype.addRect = function (resource) {
        var rect = new _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__["AnnotationRect"](resource);
        rect.canvasIndex = this.canvasIndex;
        rect.index = this.rects.length;
        this.rects.push(rect);
        // sort ascending
        this.rects.sort(function (a, b) {
            return a.index - b.index;
        });
    };
    return AnnotationGroup;
}());

//# sourceMappingURL=AnnotationGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js ***!
  \*********************************************************************/
/*! exports provided: AnnotationRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return AnnotationRect; });
var AnnotationRect = /** @class */ (function () {
    function AnnotationRect(result) {
        this.isVisible = true;
        var xywh = result.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);
        this.x = Number(xywh[1]);
        this.y = Number(xywh[2]);
        this.width = Number(xywh[3]);
        this.height = Number(xywh[4]);
        this.chars = result.resource.chars;
    }
    return AnnotationRect;
}());

//# sourceMappingURL=AnnotationRect.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js ***!
  \*******************************************************************/
/*! exports provided: Bootstrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return Bootstrapper; });
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-esmodule/index.js");



var Bootstrapper = /** @class */ (function () {
    function Bootstrapper(options) {
        this._options = options;
        this._options.locale = this._options.locale || 'en-GB'; // default locale
    }
    Bootstrapper.prototype.bootstrap = function (res, rej) {
        var that = this;
        return new Promise(function (resolve, reject) {
            // if this is a recursive bootstrap we will have existing resolve & reject methods.
            if (res && rej) {
                resolve = res;
                reject = rej;
            }
            manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].loadManifest(that._options.manifestUri).then(function (json) {
                that._loaded(that, json, resolve, reject);
            });
        });
    };
    Bootstrapper.prototype._loaded = function (bootstrapper, json, resolve, reject) {
        var iiifResource = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].parseManifest(json, {
            locale: bootstrapper._options.locale
        });
        if (iiifResource) {
            // only set the root IIIFResource on the first load
            if (!bootstrapper._options.iiifResource) {
                bootstrapper._options.iiifResource = iiifResource;
            }
            var collectionIndex = bootstrapper._options.collectionIndex; // this is either undefined, 0, or a positive number (defaults to undefined)
            var manifestIndex_1 = bootstrapper._options.manifestIndex; // this is either 0 or a positive number (defaults to 0)
            if (iiifResource.getIIIFResourceType() === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].COLLECTION) {
                // it's a collection
                var manifests = iiifResource.getManifests();
                var collections = iiifResource.getCollections();
                // if there are only collections available, set the collectionIndex to 0 if undefined.
                if (!manifests.length && collectionIndex === undefined) {
                    collectionIndex = 0;
                }
                if (collectionIndex !== undefined && collections && collections.length) {
                    // a collectionIndex has been passed and we have sub collections
                    iiifResource.getCollectionByIndex(collectionIndex).then(function (collection) {
                        if (!collection) {
                            reject('Collection index not found');
                        }
                        // Special case: we're trying to load the first manifest of the
                        // specified collection, but the collection has no manifests but does have
                        // subcollections. Thus, we should dive in until we find something
                        // we can display!
                        if (collection.getTotalManifests() === 0 && manifestIndex_1 === 0 && collection.getTotalCollections() > 0) {
                            bootstrapper._options.collectionIndex = 0;
                            bootstrapper._options.manifestUri = collection.id;
                            bootstrapper.bootstrap(resolve, reject);
                        }
                        else if (manifestIndex_1 !== undefined) {
                            collection.getManifestByIndex(manifestIndex_1).then(function (manifest) {
                                bootstrapper._options.manifest = manifest;
                                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                                resolve(helper);
                            });
                        }
                    });
                }
                else {
                    iiifResource.getManifestByIndex(bootstrapper._options.manifestIndex).then(function (manifest) {
                        bootstrapper._options.manifest = manifest;
                        var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                        resolve(helper);
                    });
                }
            }
            else {
                bootstrapper._options.manifest = iiifResource;
                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                resolve(helper);
            }
        }
        else {
            console.error('Unable to load IIIF resource');
        }
    };
    return Bootstrapper;
}());

//# sourceMappingURL=Bootstrapper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Errors.js ***!
  \*************************************************************/
/*! exports provided: Errors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Errors", function() { return Errors; });
var Errors = /** @class */ (function () {
    function Errors() {
    }
    Errors.manifestNotLoaded = "Manifest has not loaded yet";
    return Errors;
}());

//# sourceMappingURL=Errors.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js ***!
  \***********************************************************************/
/*! exports provided: ExternalResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return ExternalResource; });
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @edsilv/http-status-codes */ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-esmodule/index.js");



var ExternalResource = /** @class */ (function () {
    function ExternalResource(canvas, options) {
        this.authHoldingPage = null;
        this.clickThroughService = null;
        this.externalService = null;
        this.isProbed = false;
        this.isResponseHandled = false;
        this.kioskService = null;
        this.loginService = null;
        this.logoutService = null;
        this.probeService = null;
        this.restrictedService = null;
        this.tokenService = null;
        canvas.externalResource = this;
        this.dataUri = this._getDataUri(canvas);
        this.index = canvas.index;
        this.authAPIVersion = options.authApiVersion;
        this._parseAuthServices(canvas);
        // get the height and width of the image resource if available
        this._parseCanvasDimensions(canvas);
    }
    ExternalResource.prototype._getImageServiceDescriptor = function (services) {
        var infoUri = null;
        for (var i = 0; i < services.length; i++) {
            var service = services[i];
            var id = service.id;
            if (!id.endsWith('/')) {
                id += '/';
            }
            if (manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].isImageProfile(service.getProfile())) {
                infoUri = id + 'info.json';
            }
        }
        return infoUri;
    };
    ExternalResource.prototype._getDataUri = function (canvas) {
        var content = canvas.getContent();
        var images = canvas.getImages();
        var infoUri = null;
        // presentation 3
        if (content && content.length) {
            var annotation = content[0];
            var annotationBody = annotation.getBody();
            if (annotationBody.length) {
                var body = annotationBody[0];
                var services = body.getServices();
                if (services.length) {
                    infoUri = this._getImageServiceDescriptor(services);
                    if (infoUri) {
                        return infoUri;
                    }
                }
                // no image services. return the image id
                return annotationBody[0].id;
            }
            return null;
        }
        else if (images && images.length) { // presentation 2
            var firstImage = images[0];
            var resource = firstImage.getResource();
            var services = resource.getServices();
            if (services.length) {
                infoUri = this._getImageServiceDescriptor(services);
                if (infoUri) {
                    return infoUri;
                }
            }
            // no image services. return the image id
            return resource.id;
        }
        else {
            // Legacy IxIF
            var service = canvas.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].IXIF);
            if (service) { // todo: deprecate
                return service.getInfoUri();
            }
            // return the canvas id.
            return canvas.id;
        }
    };
    ExternalResource.prototype._parseAuthServices = function (resource) {
        if (this.authAPIVersion === 0.9) {
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGIN);
            this.restrictedService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_RESTRICTED);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.restrictedService) {
                this.logoutService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
        }
        else { // auth 1
            // if the resource is a canvas, not an info.json, look for auth services on its content.
            if (resource.isCanvas !== undefined && resource.isCanvas()) {
                var content = resource.getContent();
                if (content && content.length) {
                    var body = content[0].getBody();
                    if (body && body.length) {
                        var annotation = body[0];
                        resource = annotation;
                    }
                }
            }
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGIN);
            this.externalService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_EXTERNAL);
            this.kioskService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_KIOSK);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.externalService) {
                this.logoutService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.kioskService) {
                this.logoutService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
        }
    };
    ExternalResource.prototype._parseCanvasDimensions = function (canvas) {
        var images = canvas.getImages();
        if (images && images.length) {
            var firstImage = images[0];
            var resource = firstImage.getResource();
            this.width = resource.getWidth();
            this.height = resource.getHeight();
        }
        else {
            // presentation 3
            images = canvas.getContent();
            if (images.length) {
                var annotation = images[0];
                var body = annotation.getBody();
                if (body.length) {
                    this.width = body[0].getWidth();
                    this.height = body[0].getHeight();
                }
            }
        }
    };
    ExternalResource.prototype._parseDescriptorDimensions = function (descriptor) {
        if (descriptor.width !== undefined) {
            this.width = descriptor.width;
        }
        if (descriptor.height !== undefined) {
            this.height = descriptor.height;
        }
    };
    ExternalResource.prototype.isAccessControlled = function () {
        if (this.clickThroughService || this.loginService || this.externalService || this.kioskService || this.probeService) {
            return true;
        }
        return false;
    };
    ExternalResource.prototype.hasServiceDescriptor = function () {
        if (this.dataUri) {
            return this.dataUri.endsWith('info.json');
        }
        return false;
    };
    ExternalResource.prototype.getData = function (accessToken) {
        var that = this;
        that.data = {};
        return new Promise(function (resolve, reject) {
            if (!that.dataUri) {
                reject('There is no dataUri to fetch');
                return;
            }
            // if the resource has a probe service, use that to get http status code
            if (that.probeService) {
                that.isProbed = true;
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.probeService.id,
                //     type: 'GET',
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     let contentLocation: string = unescape(data.contentLocation);
                //     if (contentLocation !== that.dataUri) {
                //         that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //     } else {
                //         that.status = HTTPStatusCode.OK;
                //     }
                //     resolve(that);
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_1 = new XMLHttpRequest();
                xhr_1.open('GET', that.probeService.id, true);
                xhr_1.withCredentials = true;
                xhr_1.onload = function () {
                    var data = JSON.parse(xhr_1.responseText);
                    var contentLocation = unescape(data.contentLocation);
                    if (contentLocation !== that.dataUri) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                    }
                    else {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                    }
                    resolve(that);
                };
                xhr_1.onerror = function () {
                    that.status = xhr_1.status;
                    resolve(that);
                };
                xhr_1.send();
            }
            else {
                // check if dataUri ends with info.json
                // if not issue a HEAD request.
                var type = 'GET';
                if (!that.hasServiceDescriptor()) {
                    // If access control is unnecessary, short circuit the process.
                    // Note that isAccessControlled check for short-circuiting only
                    // works in the "binary resource" context, since in that case,
                    // we know about access control from the manifest. For image
                    // resources, we need to check info.json for details and can't
                    // short-circuit like this.
                    if (!that.isAccessControlled()) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                        return;
                    }
                    type = 'HEAD';
                }
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.dataUri,
                //     type: type,
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     // if it's a resource without an info.json
                //     // todo: if resource doesn't have a @profile
                //     if (!data) {
                //         that.status = HTTPStatusCode.OK;
                //         resolve(that);
                //     } else {
                //         let uri: string = unescape(data['@id']);
                //         that.data = data;
                //         that._parseAuthServices(that.data);
                //         // remove trailing /info.json
                //         if (uri.endsWith('/info.json')){
                //             uri = uri.substr(0, uri.lastIndexOf('/'));
                //         }
                //         let dataUri: string | null = that.dataUri;
                //         if (dataUri && dataUri.endsWith('/info.json')){
                //             dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                //         }
                //         // if the request was redirected to a degraded version and there's a login service to get the full quality version
                //         if (uri !== dataUri && that.loginService) {
                //             that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //         } else {
                //             that.status = HTTPStatusCode.OK;
                //         }
                //         resolve(that);
                //     }
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     if (error.responseJSON){
                //         that._parseAuthServices(error.responseJSON);
                //     }
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_2 = new XMLHttpRequest();
                xhr_2.open(type, that.dataUri, true);
                //xhr.withCredentials = true;
                if (accessToken) {
                    xhr_2.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                }
                xhr_2.onload = function () {
                    var data = JSON.parse(xhr_2.responseText);
                    // if it's a resource without an info.json
                    // todo: if resource doesn't have a @profile
                    if (!data) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                    }
                    else {
                        var uri = unescape(data['@id']);
                        that.data = data;
                        that._parseAuthServices(that.data);
                        that._parseDescriptorDimensions(that.data);
                        // remove trailing /info.json
                        if (uri.endsWith('/info.json')) {
                            uri = uri.substr(0, uri.lastIndexOf('/'));
                        }
                        var dataUri = that.dataUri;
                        if (dataUri && dataUri.endsWith('/info.json')) {
                            dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                        }
                        // if the request was redirected to a degraded version and there's a login service to get the full quality version
                        if (uri !== dataUri && that.loginService) {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                        }
                        else {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        }
                        resolve(that);
                    }
                };
                xhr_2.onerror = function () {
                    that.status = xhr_2.status;
                    if (xhr_2.responseText) {
                        that._parseAuthServices(JSON.parse(xhr_2.responseText));
                    }
                    resolve(that);
                };
                xhr_2.send();
            }
        });
    };
    return ExternalResource;
}());

//# sourceMappingURL=ExternalResource.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Helper.js ***!
  \*************************************************************/
/*! exports provided: Helper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return Helper; });
/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Errors */ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-esmodule/index.js");






var Helper = /** @class */ (function () {
    function Helper(options) {
        this.options = options;
        this.iiifResource = this.options.iiifResource;
        this.manifestUri = this.options.manifestUri;
        this.manifest = this.options.manifest;
        this.collectionIndex = this.options.collectionIndex || 0;
        this.manifestIndex = this.options.manifestIndex || 0;
        this.sequenceIndex = this.options.sequenceIndex || 0;
        this.canvasIndex = this.options.canvasIndex || 0;
    }
    // getters //
    Helper.prototype.getAutoCompleteService = function () {
        var service = this.getSearchService();
        var autoCompleteService = null;
        if (service) {
            autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0_AUTO_COMPLETE);
            if (!autoCompleteService) {
                autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1_AUTO_COMPLETE);
            }
        }
        return autoCompleteService;
    };
    Helper.prototype.getAttribution = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var attribution = this.manifest.getAttribution();
        if (attribution) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(attribution, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getCanvases = function () {
        return this.getCurrentSequence().getCanvases();
    };
    Helper.prototype.getCanvasById = function (id) {
        return this.getCurrentSequence().getCanvasById(id);
    };
    Helper.prototype.getCanvasesById = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            var canvas = this.getCanvasById(id);
            if (canvas) {
                canvases.push(canvas);
            }
        }
        return canvases;
    };
    Helper.prototype.getCanvasByIndex = function (index) {
        return this.getCurrentSequence().getCanvasByIndex(index);
    };
    Helper.prototype.getCanvasIndexById = function (id) {
        return this.getCurrentSequence().getCanvasIndexById(id);
    };
    Helper.prototype.getCanvasIndexByLabel = function (label) {
        var foliated = this.getManifestType() === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MANUSCRIPT;
        return this.getCurrentSequence().getCanvasIndexByLabel(label, foliated);
    };
    Helper.prototype.getCanvasRange = function (canvas, path) {
        var ranges = this.getCanvasRanges(canvas);
        if (path) {
            for (var i = 0; i < ranges.length; i++) {
                var range = ranges[i];
                if (range.path === path) {
                    return range;
                }
            }
            return null;
        }
        else {
            return ranges[0]; // else return the first range
        }
    };
    Helper.prototype.getCanvasRanges = function (canvas) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        if (canvas.ranges) {
            return canvas.ranges; // cache
        }
        else {
            // todo: write test
            canvas.ranges = this.manifest.getAllRanges().filter(function (range) { return (range.getCanvasIds().some(function (cid) { return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(cid) === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(canvas.id); })); });
        }
        return canvas.ranges;
    };
    Helper.prototype.getCollectionIndex = function (iiifResource) {
        // todo: this only works for collections nested one level deep
        if (iiifResource.parentCollection && !iiifResource.parentCollection.parentCollection) {
            // manifest must be in the root
            return undefined;
        }
        else if (iiifResource.parentCollection) {
            return iiifResource.parentCollection.index;
        }
        return undefined;
    };
    Helper.prototype.getCurrentCanvas = function () {
        return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex);
    };
    Helper.prototype.getCurrentSequence = function () {
        return this.getSequenceByIndex(this.sequenceIndex);
    };
    Helper.prototype.getDescription = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var description = this.manifest.getDescription();
        if (description) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(description, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var label = this.manifest.getLabel();
        if (label) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(label, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLastCanvasLabel = function (alphanumeric) {
        return this.getCurrentSequence().getLastCanvasLabel(alphanumeric);
    };
    Helper.prototype.getFirstPageIndex = function () {
        return 0; // why is this needed?
    };
    Helper.prototype.getLastPageIndex = function () {
        return this.getTotalCanvases() - 1;
    };
    Helper.prototype.getLicense = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLicense();
    };
    Helper.prototype.getLogo = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLogo();
    };
    Helper.prototype.getManifestType = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var manifestType = this.manifest.getManifestType();
        // default to monograph
        if (manifestType === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].EMPTY) {
            manifestType = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MONOGRAPH;
        }
        return manifestType;
    };
    Helper.prototype.getMetadata = function (options) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var metadataGroups = [];
        var manifestMetadata = this.manifest.getMetadata();
        var manifestGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](this.manifest);
        var locale = this.options.locale; // this will always default to en-GB
        if (manifestMetadata && manifestMetadata.length) {
            manifestGroup.addMetadata(manifestMetadata, true);
        }
        if (this.manifest.getDescription().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("description", locale)];
            metadataItem.value = this.manifest.getDescription();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getAttribution().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("attribution", locale)];
            metadataItem.value = this.manifest.getAttribution();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        var license = this.manifest.getLicense();
        if (license) {
            var item = {
                label: "license",
                value: (options && options.licenseFormatter) ? options.licenseFormatter.format(license) : license
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getLogo()) {
            var item = {
                label: "logo",
                value: '<img src="' + this.manifest.getLogo() + '"/>'
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        metadataGroups.push(manifestGroup);
        if (options) {
            return this._parseMetadataOptions(options, metadataGroups);
        }
        else {
            return metadataGroups;
        }
    };
    Helper.prototype.getRequiredStatement = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var requiredStatement = this.manifest.getRequiredStatement();
        if (requiredStatement) {
            return {
                label: requiredStatement.getLabel(),
                value: requiredStatement.getValue()
            };
        }
        return null;
    };
    Helper.prototype._parseMetadataOptions = function (options, metadataGroups) {
        // get sequence metadata
        var sequence = this.getCurrentSequence();
        var sequenceMetadata = sequence.getMetadata();
        if (sequenceMetadata && sequenceMetadata.length) {
            var sequenceGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](sequence);
            sequenceGroup.addMetadata(sequenceMetadata);
            metadataGroups.push(sequenceGroup);
        }
        // get range metadata
        if (options.range) {
            var rangeGroups = this._getRangeMetadata([], options.range);
            rangeGroups = rangeGroups.reverse();
            metadataGroups = metadataGroups.concat(rangeGroups);
        }
        // get canvas metadata
        if (options.canvases && options.canvases.length) {
            for (var i = 0; i < options.canvases.length; i++) {
                var canvas = options.canvases[i];
                var canvasMetadata = canvas.getMetadata();
                if (canvasMetadata && canvasMetadata.length) {
                    var canvasGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](canvas);
                    canvasGroup.addMetadata(canvas.getMetadata());
                    metadataGroups.push(canvasGroup);
                }
                // add image metadata
                var images = canvas.getImages();
                for (var j = 0; j < images.length; j++) {
                    var image = images[j];
                    var imageMetadata = image.getMetadata();
                    if (imageMetadata && imageMetadata.length) {
                        var imageGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](image);
                        imageGroup.addMetadata(imageMetadata);
                        metadataGroups.push(imageGroup);
                    }
                }
            }
        }
        return metadataGroups;
    };
    Helper.prototype._getRangeMetadata = function (metadataGroups, range) {
        var rangeMetadata = range.getMetadata();
        if (rangeMetadata && rangeMetadata.length) {
            var rangeGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](range);
            rangeGroup.addMetadata(rangeMetadata);
            metadataGroups.push(rangeGroup);
        }
        else if (range.parentRange) {
            return this._getRangeMetadata(metadataGroups, range.parentRange);
        }
        return metadataGroups;
    };
    Helper.prototype.getMultiSelectState = function () {
        if (!this._multiSelectState) {
            this._multiSelectState = new _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__["MultiSelectState"]();
            this._multiSelectState.ranges = this.getRanges().slice(0);
            this._multiSelectState.canvases = this.getCurrentSequence().getCanvases().slice(0);
        }
        return this._multiSelectState;
    };
    Helper.prototype.getCurrentRange = function () {
        if (this.rangeId) {
            return this.getRangeById(this.rangeId);
        }
        return null;
    };
    Helper.prototype.getPosterCanvas = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getPosterCanvas();
    };
    Helper.prototype.getPosterImage = function () {
        var posterCanvas = this.getPosterCanvas();
        if (posterCanvas) {
            var content = posterCanvas.getContent();
            if (content && content.length) {
                var anno = content[0];
                var body = anno.getBody();
                return body[0].id;
            }
        }
        return null;
    };
    Helper.prototype.getPreviousRange = function (range) {
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node before it that has canvases
                        while (i > 0) {
                            i--;
                            var prevNode = flatTree[i];
                            return prevNode.data;
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getNextRange = function (range) {
        // if a range is passed, use that. otherwise get the current range.
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node after it that has canvases
                        while (i < flatTree.length - 1) {
                            i++;
                            var nextNode = flatTree[i];
                            if (nextNode.data.canvases && nextNode.data.canvases.length) {
                                return nextNode.data;
                            }
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getFlattenedTree = function (treeNode) {
        var t = null;
        if (!treeNode) {
            t = this.getTree();
        }
        else {
            t = treeNode;
        }
        if (t) {
            return this._flattenTree(t, 'nodes');
        }
        return null;
    };
    // use object.assign to return a set of new nodes
    // right now the UV needs the nodes to retain properties for databinding like expanded
    // as we're not redrawing the tree every time as per react.
    // maybe make this optional.
    // not sure why deleting the nodes key from each node is necessary
    Helper.prototype._flattenTree = function (root, key) {
        var _this = this;
        var flatten = [root]; //[Object.assign({}, root)];
        //delete flatten[0][key];
        if (root[key] && root[key].length > 0) {
            return flatten.concat(root[key]
                .map(function (child) { return _this._flattenTree(child, key); })
                .reduce(function (a, b) { return a.concat(b); }, []));
        }
        return flatten;
    };
    Helper.prototype.getRanges = function () {
        return this.manifest.getAllRanges();
    };
    Helper.prototype.getRangeByPath = function (path) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeByPath(path);
    };
    Helper.prototype.getRangeById = function (id) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeById(id);
    };
    Helper.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesById(ids);
    };
    Helper.prototype.getRelated = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRelated();
    };
    Helper.prototype.getSearchService = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0);
        if (!service) {
            service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1);
        }
        return service;
    };
    Helper.prototype.getSeeAlso = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSeeAlso();
    };
    Helper.prototype.getSequenceByIndex = function (index) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSequenceByIndex(index);
    };
    Helper.prototype.getShareServiceUrl = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var url = null;
        var shareService = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SHARE_EXTENSIONS);
        if (shareService) {
            if (shareService.length) {
                shareService = shareService[0];
            }
            url = shareService.__jsonld.shareUrl;
        }
        return url;
    };
    Helper.prototype._getSortedTreeNodesByDate = function (sortedTree, tree) {
        // const all: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(node => node.nodes)
        //     .where((n) => n.data.type === TreeNodeType.COLLECTION ||
        //                 n.data.type === TreeNodeType.MANIFEST).toArray();
        var flattenedTree = this.getFlattenedTree(tree);
        // const manifests: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(n => n.nodes)
        //     .where((n) => n.data.type === TreeNodeType.MANIFEST).toArray();
        if (flattenedTree) {
            var manifests = flattenedTree.filter(function (n) { return n.data.type === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST; });
            this.createDecadeNodes(sortedTree, flattenedTree);
            this.sortDecadeNodes(sortedTree);
            this.createYearNodes(sortedTree, flattenedTree);
            this.sortYearNodes(sortedTree);
            this.createMonthNodes(sortedTree, manifests);
            this.sortMonthNodes(sortedTree);
            this.createDateNodes(sortedTree, manifests);
            this.pruneDecadeNodes(sortedTree);
        }
    };
    Helper.prototype.getStartCanvasIndex = function () {
        return this.getCurrentSequence().getStartCanvasIndex();
    };
    Helper.prototype.getThumbs = function (width, height) {
        return this.getCurrentSequence().getThumbs(width, height);
    };
    Helper.prototype.getTopRanges = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTopRanges();
    };
    Helper.prototype.getTotalCanvases = function () {
        return this.getCurrentSequence().getTotalCanvases();
    };
    Helper.prototype.getTrackingLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTrackingLabel();
    };
    Helper.prototype._getTopRanges = function () {
        return this.iiifResource.getTopRanges();
    };
    Helper.prototype.getTree = function (topRangeIndex, sortType) {
        // if it's a collection, use IIIFResource.getDefaultTree()
        // otherwise, get the top range by index and use Range.getTree()
        if (topRangeIndex === void 0) { topRangeIndex = 0; }
        if (sortType === void 0) { sortType = _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].NONE; }
        if (!this.iiifResource) {
            return null;
        }
        var tree;
        if (this.iiifResource.isCollection()) {
            tree = this.iiifResource.getDefaultTree();
        }
        else {
            var topRanges = this._getTopRanges();
            var root = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            root.label = 'root';
            root.data = this.iiifResource;
            if (topRanges.length) {
                var range = topRanges[topRangeIndex];
                tree = range.getTree(root);
            }
            else {
                return root;
            }
        }
        var sortedTree = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
        switch (sortType.toString()) {
            case _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].DATE.toString():
                // returns a list of treenodes for each decade.
                // expanding a decade generates a list of years
                // expanding a year gives a list of months containing issues
                // expanding a month gives a list of issues.
                if (this.treeHasNavDates(tree)) {
                    this._getSortedTreeNodesByDate(sortedTree, tree);
                    break;
                }
            default:
                sortedTree = tree;
        }
        return sortedTree;
    };
    Helper.prototype.treeHasNavDates = function (tree) {
        //const node: TreeNode = tree.nodes.en().traverseUnique(node => node.nodes).where((n) => !isNaN(<any>n.navDate)).first();
        // todo: write test
        var flattenedTree = this.getFlattenedTree(tree);
        return (flattenedTree) ? flattenedTree.some(function (n) { return !isNaN(n.navDate); }) : false;
    };
    Helper.prototype.getViewingDirection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingDirection = this.getCurrentSequence().getViewingDirection();
        if (!viewingDirection) {
            viewingDirection = this.manifest.getViewingDirection();
        }
        return viewingDirection;
    };
    Helper.prototype.getViewingHint = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingHint = this.getCurrentSequence().getViewingHint();
        if (!viewingHint) {
            viewingHint = this.manifest.getViewingHint();
        }
        return viewingHint;
    };
    // inquiries //
    Helper.prototype.hasParentCollection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return !!this.manifest.parentCollection;
    };
    Helper.prototype.hasRelatedPage = function () {
        var related = this.getRelated();
        if (!related)
            return false;
        if (related.length) {
            related = related[0];
        }
        return related['format'] === 'text/html';
    };
    Helper.prototype.hasResources = function () {
        var canvas = this.getCurrentCanvas();
        return canvas.getResources().length > 0;
    };
    Helper.prototype.isBottomToTop = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].BOTTOM_TO_TOP;
        }
        return false;
    };
    Helper.prototype.isCanvasIndexOutOfRange = function (index) {
        return this.getCurrentSequence().isCanvasIndexOutOfRange(index);
    };
    Helper.prototype.isContinuous = function () {
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].CONTINUOUS;
        }
        return false;
    };
    Helper.prototype.isFirstCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isFirstCanvas(index);
        }
        return this.getCurrentSequence().isFirstCanvas(this.canvasIndex);
    };
    Helper.prototype.isHorizontallyAligned = function () {
        return this.isLeftToRight() || this.isRightToLeft();
    };
    Helper.prototype.isLastCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isLastCanvas(index);
        }
        return this.getCurrentSequence().isLastCanvas(this.canvasIndex);
    };
    Helper.prototype.isLeftToRight = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].LEFT_TO_RIGHT;
        }
        return false;
    };
    Helper.prototype.isMultiCanvas = function () {
        return this.getCurrentSequence().isMultiCanvas();
    };
    Helper.prototype.isMultiSequence = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.isMultiSequence();
    };
    Helper.prototype.isPaged = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        // check the sequence for a viewingHint (deprecated)
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].PAGED;
        }
        // check the manifest for a viewingHint (deprecated) or paged behavior
        return this.manifest.isPagingEnabled();
    };
    Helper.prototype.isPagingAvailable = function () {
        // paged mode is useless unless you have at least 3 pages...
        return this.isPagingEnabled() && this.getTotalCanvases() > 2;
    };
    Helper.prototype.isPagingEnabled = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return (this.manifest.isPagingEnabled() || this.getCurrentSequence().isPagingEnabled());
    };
    Helper.prototype.isRightToLeft = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].RIGHT_TO_LEFT;
        }
        return false;
    };
    Helper.prototype.isTopToBottom = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].TOP_TO_BOTTOM;
        }
        return false;
    };
    Helper.prototype.isTotalCanvasesEven = function () {
        return this.getCurrentSequence().isTotalCanvasesEven();
    };
    Helper.prototype.isUIEnabled = function (name) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var uiExtensions = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].UI_EXTENSIONS);
        if (uiExtensions) {
            var disableUI = uiExtensions.getProperty('disableUI');
            if (disableUI) {
                if (disableUI.indexOf(name) !== -1 || disableUI.indexOf(name.toLowerCase()) !== -1) {
                    return false;
                }
            }
        }
        return true;
    };
    Helper.prototype.isVerticallyAligned = function () {
        return this.isTopToBottom() || this.isBottomToTop();
    };
    // dates //     
    Helper.prototype.createDateNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var dateNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            dateNode.id = node.id;
            dateNode.label = this.getNodeDisplayDate(node);
            dateNode.data = node.data;
            dateNode.data.type = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST;
            dateNode.data.year = year;
            dateNode.data.month = month;
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode) {
                var yearNode = this.getYearNode(decadeNode, year);
                if (yearNode) {
                    var monthNode = this.getMonthNode(yearNode, month);
                    if (monthNode) {
                        monthNode.addNode(dateNode);
                    }
                }
            }
        }
    };
    Helper.prototype.createDecadeNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var endYear = Number(year.toString().substr(0, 3) + "9");
            if (!this.getDecadeNode(rootNode, year)) {
                var decadeNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                decadeNode.label = year + " - " + endYear;
                decadeNode.navDate = node.navDate;
                decadeNode.data.startYear = year;
                decadeNode.data.endYear = endYear;
                rootNode.addNode(decadeNode);
            }
        }
    };
    Helper.prototype.createMonthNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            var yearNode = null;
            if (decadeNode) {
                yearNode = this.getYearNode(decadeNode, year);
            }
            if (decadeNode && yearNode && !this.getMonthNode(yearNode, month)) {
                var monthNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                monthNode.label = this.getNodeDisplayMonth(node);
                monthNode.navDate = node.navDate;
                monthNode.data.year = year;
                monthNode.data.month = month;
                yearNode.addNode(monthNode);
            }
        }
    };
    Helper.prototype.createYearNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode && !this.getYearNode(decadeNode, year)) {
                var yearNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                yearNode.label = year.toString();
                yearNode.navDate = node.navDate;
                yearNode.data.year = year;
                decadeNode.addNode(yearNode);
            }
        }
    };
    Helper.prototype.getDecadeNode = function (rootNode, year) {
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (year >= n.data.startYear && year <= n.data.endYear)
                return n;
        }
        return null;
    };
    Helper.prototype.getMonthNode = function (yearNode, month) {
        for (var i = 0; i < yearNode.nodes.length; i++) {
            var n = yearNode.nodes[i];
            if (month === this.getNodeMonth(n))
                return n;
        }
        return null;
    };
    Helper.prototype.getNodeDisplayDate = function (node) {
        return node.navDate.toDateString();
    };
    Helper.prototype.getNodeDisplayMonth = function (node) {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return months[node.navDate.getMonth()];
    };
    Helper.prototype.getNodeMonth = function (node) {
        return node.navDate.getMonth();
    };
    Helper.prototype.getNodeYear = function (node) {
        return node.navDate.getFullYear();
    };
    Helper.prototype.getYearNode = function (decadeNode, year) {
        for (var i = 0; i < decadeNode.nodes.length; i++) {
            var n = decadeNode.nodes[i];
            if (year === this.getNodeYear(n))
                return n;
        }
        return null;
    };
    // delete any empty decades
    Helper.prototype.pruneDecadeNodes = function (rootNode) {
        var pruned = [];
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (!n.nodes.length) {
                pruned.push(n);
            }
        }
        for (var j = 0; j < pruned.length; j++) {
            var p = pruned[j];
            var index = rootNode.nodes.indexOf(p);
            if (index > -1) {
                rootNode.nodes.splice(index, 1);
            }
        }
    };
    Helper.prototype.sortDecadeNodes = function (rootNode) {
        rootNode.nodes = rootNode.nodes.sort(function (a, b) {
            return a.data.startYear - b.data.startYear;
        });
    };
    Helper.prototype.sortMonthNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            for (var j = 0; j < decadeNode.nodes.length; j++) {
                var monthNode = decadeNode.nodes[j];
                monthNode.nodes = monthNode.nodes.sort(function (a, b) {
                    return _this.getNodeMonth(a) - _this.getNodeMonth(b);
                });
            }
        }
    };
    Helper.prototype.sortYearNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            decadeNode.nodes = decadeNode.nodes.sort(function (a, b) {
                return (_this.getNodeYear(a) - _this.getNodeYear(b));
            });
        }
    };
    return Helper;
}());

//# sourceMappingURL=Helper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js ***!
  \**********************************************************************/
/*! exports provided: ILabelValuePair */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return ILabelValuePair; });
var ILabelValuePair = /** @class */ (function () {
    function ILabelValuePair() {
    }
    return ILabelValuePair;
}());

//# sourceMappingURL=ILabelValuePair.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js":
/*!********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js ***!
  \********************************************************************/
/*! exports provided: MetadataGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return MetadataGroup; });
var MetadataGroup = /** @class */ (function () {
    function MetadataGroup(resource, label) {
        this.items = [];
        this.resource = resource;
        this.label = label;
    }
    MetadataGroup.prototype.addItem = function (item) {
        this.items.push(item);
    };
    MetadataGroup.prototype.addMetadata = function (metadata, isRootLevel) {
        if (isRootLevel === void 0) { isRootLevel = false; }
        for (var i = 0; i < metadata.length; i++) {
            var item = metadata[i];
            item.isRootLevel = isRootLevel;
            this.addItem(item);
        }
    };
    return MetadataGroup;
}());

//# sourceMappingURL=MetadataGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js ***!
  \**********************************************************************/
/*! exports provided: MetadataOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return MetadataOptions; });
var MetadataOptions = /** @class */ (function () {
    function MetadataOptions() {
    }
    return MetadataOptions;
}());

//# sourceMappingURL=MetadataOptions.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js ***!
  \***********************************************************************/
/*! exports provided: MultiSelectState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return MultiSelectState; });
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-esmodule/index.js");

var MultiSelectState = /** @class */ (function () {
    function MultiSelectState() {
        this.isEnabled = false;
        this.ranges = [];
        this.canvases = [];
    }
    MultiSelectState.prototype.allCanvasesSelected = function () {
        return this.canvases.length > 0 && this.getAllSelectedCanvases().length === this.canvases.length;
    };
    MultiSelectState.prototype.allRangesSelected = function () {
        return this.ranges.length > 0 && this.getAllSelectedRanges().length === this.ranges.length;
    };
    MultiSelectState.prototype.allSelected = function () {
        return this.allRangesSelected() && this.allCanvasesSelected();
    };
    MultiSelectState.prototype.getAll = function () {
        return this.canvases.concat(this.ranges);
    };
    MultiSelectState.prototype.getAllSelectedCanvases = function () {
        return this.canvases.filter(function (c) { return c.multiSelected; });
    };
    MultiSelectState.prototype.getAllSelectedRanges = function () {
        return this.ranges.filter(function (r) { return r.multiSelected; });
    };
    MultiSelectState.prototype.getCanvasById = function (id) {
        return this.canvases.filter(function (c) { return manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(c.id) === manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(id); })[0];
    };
    MultiSelectState.prototype.getCanvasesByIds = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            canvases.push(this.getCanvasById(id));
        }
        return canvases;
    };
    MultiSelectState.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesByIds(ids);
    };
    MultiSelectState.prototype.selectAll = function (selected) {
        this.selectRanges(this.ranges, selected);
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvas = function (canvas, selected) {
        var c = this.canvases.filter(function (c) { return c.id === canvas.id; })[0];
        c.multiSelected = selected;
    };
    MultiSelectState.prototype.selectAllCanvases = function (selected) {
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvases = function (canvases, selected) {
        for (var j = 0; j < canvases.length; j++) {
            var canvas = canvases[j];
            canvas.multiSelected = selected;
        }
    };
    MultiSelectState.prototype.selectRange = function (range, selected) {
        var r = this.ranges.filter(function (r) { return r.id === range.id; })[0];
        r.multiSelected = selected;
        var canvases = this.getRangeCanvases(r);
        this.selectCanvases(canvases, selected);
    };
    MultiSelectState.prototype.selectAllRanges = function (selected) {
        this.selectRanges(this.ranges, selected);
    };
    MultiSelectState.prototype.selectRanges = function (ranges, selected) {
        for (var i = 0; i < ranges.length; i++) {
            var range = ranges[i];
            range.multiSelected = selected;
            var canvases = this.getCanvasesByIds(range.getCanvasIds());
            this.selectCanvases(canvases, selected);
        }
    };
    MultiSelectState.prototype.setEnabled = function (enabled) {
        this.isEnabled = enabled;
        var items = this.getAll();
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.multiSelectEnabled = this.isEnabled;
            if (!enabled) {
                item.multiSelected = false;
            }
        }
    };
    return MultiSelectState;
}());

//# sourceMappingURL=MultiSelectState.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Translation.js ***!
  \******************************************************************/
/*! exports provided: Translation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return Translation; });
var Translation = /** @class */ (function () {
    function Translation(value, locale) {
        this.value = value;
        this.locale = locale;
    }
    return Translation;
}());

//# sourceMappingURL=Translation.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js ***!
  \*******************************************************************/
/*! exports provided: TreeSortType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return TreeSortType; });
var TreeSortType;
(function (TreeSortType) {
    TreeSortType["DATE"] = "date";
    TreeSortType["NONE"] = "none";
})(TreeSortType || (TreeSortType = {}));
//# sourceMappingURL=TreeSortType.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js ***!
  \******************************************************************/
/*! exports provided: UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return UriLabeller; });
// This class formats URIs into HTML <a> links, applying labels when available
var UriLabeller = /** @class */ (function () {
    function UriLabeller(labels) {
        this.labels = labels;
    }
    UriLabeller.prototype.format = function (url) {
        // if already a link, do nothing.
        if (url.indexOf('<a') != -1)
            return url;
        var label = (this.labels[url]) ? this.labels[url] : url;
        return '<a href="' + url + '">' + label + '</a>';
    };
    return UriLabeller;
}());

//# sourceMappingURL=UriLabeller.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/index.js ***!
  \************************************************************/
/*! exports provided: loadManifest, AnnotationGroup, AnnotationRect, Bootstrapper, ExternalResource, Helper, ILabelValuePair, MetadataGroup, MetadataOptions, MultiSelectState, Translation, TreeSortType, UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadManifest", function() { return loadManifest; });
/* harmony import */ var _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationGroup */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__["AnnotationGroup"]; });

/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__["AnnotationRect"]; });

/* harmony import */ var _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Bootstrapper */ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"]; });

/* harmony import */ var _ExternalResource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ExternalResource */ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return _ExternalResource__WEBPACK_IMPORTED_MODULE_3__["ExternalResource"]; });

/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return _Helper__WEBPACK_IMPORTED_MODULE_4__["Helper"]; });

/* harmony import */ var _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ILabelValuePair */ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__["ILabelValuePair"]; });

/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__["MetadataGroup"]; });

/* harmony import */ var _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MetadataOptions */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__["MetadataOptions"]; });

/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__["MultiSelectState"]; });

/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Translation */ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return _Translation__WEBPACK_IMPORTED_MODULE_9__["Translation"]; });

/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return _TreeSortType__WEBPACK_IMPORTED_MODULE_10__["TreeSortType"]; });

/* harmony import */ var _UriLabeller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UriLabeller */ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return _UriLabeller__WEBPACK_IMPORTED_MODULE_11__["UriLabeller"]; });














var loadManifest = function (options) {
    return new _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"](options).bootstrap();
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@iiif/vocabulary/dist-commonjs/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var AnnotationMotivation;
(function (AnnotationMotivation) {
    AnnotationMotivation["BOOKMARKING"] = "oa:bookmarking";
    AnnotationMotivation["CLASSIFYING"] = "oa:classifying";
    AnnotationMotivation["COMMENTING"] = "oa:commenting";
    AnnotationMotivation["DESCRIBING"] = "oa:describing";
    AnnotationMotivation["EDITING"] = "oa:editing";
    AnnotationMotivation["HIGHLIGHTING"] = "oa:highlighting";
    AnnotationMotivation["IDENTIFYING"] = "oa:identifying";
    AnnotationMotivation["LINKING"] = "oa:linking";
    AnnotationMotivation["MODERATING"] = "oa:moderating";
    AnnotationMotivation["PAINTING"] = "sc:painting";
    AnnotationMotivation["QUESTIONING"] = "oa:questioning";
    AnnotationMotivation["REPLYING"] = "oa:replying";
    AnnotationMotivation["TAGGING"] = "oa:tagging";
    AnnotationMotivation["TRANSCRIBING"] = "oad:transcribing";
})(AnnotationMotivation = exports.AnnotationMotivation || (exports.AnnotationMotivation = {}));
var Behavior;
(function (Behavior) {
    Behavior["AUTO_ADVANCE"] = "auto-advance";
    Behavior["CONTINUOUS"] = "continuous";
    Behavior["FACING_PAGES"] = "facing-pages";
    Behavior["HIDDEN"] = "hidden";
    Behavior["INDIVIDUALS"] = "individuals";
    Behavior["MULTI_PART"] = "multi-part";
    Behavior["NO_NAV"] = "no-nav";
    Behavior["NON_PAGED"] = "non-paged";
    Behavior["PAGED"] = "paged";
    Behavior["REPEAT"] = "repeat";
    Behavior["SEQUENCE"] = "sequence";
    Behavior["THUMBNAIL_NAV"] = "thumbnail-nav";
    Behavior["TOGETHER"] = "together";
    Behavior["UNORDERED"] = "unordered";
})(Behavior = exports.Behavior || (exports.Behavior = {}));
var ExternalResourceType;
(function (ExternalResourceType) {
    ExternalResourceType["CANVAS"] = "canvas";
    ExternalResourceType["CHOICE"] = "choice";
    ExternalResourceType["CONTENT_AS_TEXT"] = "contentastext";
    ExternalResourceType["DATASET"] = "dataset";
    ExternalResourceType["DOCUMENT"] = "document";
    ExternalResourceType["IMAGE"] = "image";
    ExternalResourceType["MODEL"] = "model";
    ExternalResourceType["MOVING_IMAGE"] = "movingimage";
    ExternalResourceType["PDF"] = "pdf";
    ExternalResourceType["PHYSICAL_OBJECT"] = "physicalobject";
    ExternalResourceType["SOUND"] = "sound";
    ExternalResourceType["TEXT"] = "text";
    ExternalResourceType["TEXTUALBODY"] = "textualbody";
    ExternalResourceType["VIDEO"] = "video";
})(ExternalResourceType = exports.ExternalResourceType || (exports.ExternalResourceType = {}));
var IIIFResourceType;
(function (IIIFResourceType) {
    IIIFResourceType["ANNOTATION"] = "annotation";
    IIIFResourceType["CANVAS"] = "canvas";
    IIIFResourceType["COLLECTION"] = "collection";
    IIIFResourceType["MANIFEST"] = "manifest";
    IIIFResourceType["RANGE"] = "range";
    IIIFResourceType["SEQUENCE"] = "sequence";
})(IIIFResourceType = exports.IIIFResourceType || (exports.IIIFResourceType = {}));
var MediaType;
(function (MediaType) {
    MediaType["AUDIO_MP4"] = "audio/mp4";
    MediaType["CORTO"] = "application/corto";
    MediaType["DRACO"] = "application/draco";
    MediaType["EPUB"] = "application/epub+zip";
    MediaType["GLTF"] = "model/gltf+json";
    MediaType["JPG"] = "image/jpeg";
    MediaType["M3U8"] = "application/vnd.apple.mpegurl";
    MediaType["MP3"] = "audio/mp3";
    MediaType["MPEG_DASH"] = "application/dash+xml";
    MediaType["OBJ"] = "text/plain";
    MediaType["OPF"] = "application/oebps-package+xml";
    MediaType["PDF"] = "application/pdf";
    MediaType["PLY"] = "application/ply";
    MediaType["THREEJS"] = "application/vnd.threejs+json";
    MediaType["VIDEO_MP4"] = "video/mp4";
    MediaType["WEBM"] = "video/webm";
})(MediaType = exports.MediaType || (exports.MediaType = {}));
var RenderingFormat;
(function (RenderingFormat) {
    RenderingFormat["DOC"] = "application/msword";
    RenderingFormat["DOCX"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
    RenderingFormat["PDF"] = "application/pdf";
})(RenderingFormat = exports.RenderingFormat || (exports.RenderingFormat = {}));
var ServiceProfile;
(function (ServiceProfile) {
    // image api
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level0";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level1";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level2";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level0";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level1";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level2";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2";
    ServiceProfile["IMAGE_1_LEVEL_0"] = "http://iiif.io/api/image/1/level0.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/1/profiles/level0.json";
    ServiceProfile["IMAGE_1_LEVEL_1"] = "http://iiif.io/api/image/1/level1.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/1/profiles/level1.json";
    ServiceProfile["IMAGE_1_LEVEL_2"] = "http://iiif.io/api/image/1/level2.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/1/profiles/level2.json";
    ServiceProfile["IMAGE_2_LEVEL_0"] = "http://iiif.io/api/image/2/level0.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/2/profiles/level0.json";
    ServiceProfile["IMAGE_2_LEVEL_1"] = "http://iiif.io/api/image/2/level1.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/2/profiles/level1.json";
    ServiceProfile["IMAGE_2_LEVEL_2"] = "http://iiif.io/api/image/2/level2.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/2/profiles/level2.json";
    // auth api
    ServiceProfile["AUTH_0_CLICK_THROUGH"] = "http://iiif.io/api/auth/0/login/clickthrough";
    ServiceProfile["AUTH_0_LOGIN"] = "http://iiif.io/api/auth/0/login";
    ServiceProfile["AUTH_0_LOGOUT"] = "http://iiif.io/api/auth/0/logout";
    ServiceProfile["AUTH_0_RESTRICTED"] = "http://iiif.io/api/auth/0/login/restricted";
    ServiceProfile["AUTH_0_TOKEN"] = "http://iiif.io/api/auth/0/token";
    ServiceProfile["AUTH_1_CLICK_THROUGH"] = "http://iiif.io/api/auth/1/clickthrough";
    ServiceProfile["AUTH_1_EXTERNAL"] = "http://iiif.io/api/auth/1/external";
    ServiceProfile["AUTH_1_KIOSK"] = "http://iiif.io/api/auth/1/kiosk";
    ServiceProfile["AUTH_1_LOGIN"] = "http://iiif.io/api/auth/1/login";
    ServiceProfile["AUTH_1_LOGOUT"] = "http://iiif.io/api/auth/1/logout";
    ServiceProfile["AUTH_1_PROBE"] = "http://iiif.io/api/auth/1/probe";
    ServiceProfile["AUTH_1_TOKEN"] = "http://iiif.io/api/auth/1/token";
    // search api
    ServiceProfile["SEARCH_0"] = "http://iiif.io/api/search/0/search";
    ServiceProfile["SEARCH_0_AUTO_COMPLETE"] = "http://iiif.io/api/search/0/autocomplete";
    ServiceProfile["SEARCH_1"] = "http://iiif.io/api/search/1/search";
    ServiceProfile["SEARCH_1_AUTO_COMPLETE"] = "http://iiif.io/api/search/1/autocomplete";
    // extensions
    ServiceProfile["TRACKING_EXTENSIONS"] = "http://universalviewer.io/tracking-extensions-profile";
    ServiceProfile["UI_EXTENSIONS"] = "http://universalviewer.io/ui-extensions-profile";
    ServiceProfile["PRINT_EXTENSIONS"] = "http://universalviewer.io/print-extensions-profile";
    ServiceProfile["SHARE_EXTENSIONS"] = "http://universalviewer.io/share-extensions-profile";
    // other
    ServiceProfile["OTHER_MANIFESTATIONS"] = "http://iiif.io/api/otherManifestations.json";
    ServiceProfile["IXIF"] = "http://wellcomelibrary.org/ld/ixif/0/alpha.json";
})(ServiceProfile = exports.ServiceProfile || (exports.ServiceProfile = {}));
var ViewingDirection;
(function (ViewingDirection) {
    ViewingDirection["BOTTOM_TO_TOP"] = "bottom-to-top";
    ViewingDirection["LEFT_TO_RIGHT"] = "left-to-right";
    ViewingDirection["RIGHT_TO_LEFT"] = "right-to-left";
    ViewingDirection["TOP_TO_BOTTOM"] = "top-to-bottom";
})(ViewingDirection = exports.ViewingDirection || (exports.ViewingDirection = {}));
var ViewingHint;
(function (ViewingHint) {
    ViewingHint["CONTINUOUS"] = "continuous";
    ViewingHint["INDIVIDUALS"] = "individuals";
    ViewingHint["NON_PAGED"] = "non-paged";
    ViewingHint["PAGED"] = "paged";
    ViewingHint["TOP"] = "top";
})(ViewingHint = exports.ViewingHint || (exports.ViewingHint = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@iiif/vocabulary/dist-esmodule/index.js ***!
  \**************************************************************/
/*! exports provided: AnnotationMotivation, Behavior, ExternalResourceType, IIIFResourceType, MediaType, RenderingFormat, ServiceProfile, ViewingDirection, ViewingHint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationMotivation", function() { return AnnotationMotivation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Behavior", function() { return Behavior; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResourceType", function() { return ExternalResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IIIFResourceType", function() { return IIIFResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaType", function() { return MediaType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderingFormat", function() { return RenderingFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiceProfile", function() { return ServiceProfile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingDirection", function() { return ViewingDirection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingHint", function() { return ViewingHint; });
var AnnotationMotivation;
(function (AnnotationMotivation) {
    AnnotationMotivation["BOOKMARKING"] = "oa:bookmarking";
    AnnotationMotivation["CLASSIFYING"] = "oa:classifying";
    AnnotationMotivation["COMMENTING"] = "oa:commenting";
    AnnotationMotivation["DESCRIBING"] = "oa:describing";
    AnnotationMotivation["EDITING"] = "oa:editing";
    AnnotationMotivation["HIGHLIGHTING"] = "oa:highlighting";
    AnnotationMotivation["IDENTIFYING"] = "oa:identifying";
    AnnotationMotivation["LINKING"] = "oa:linking";
    AnnotationMotivation["MODERATING"] = "oa:moderating";
    AnnotationMotivation["PAINTING"] = "sc:painting";
    AnnotationMotivation["QUESTIONING"] = "oa:questioning";
    AnnotationMotivation["REPLYING"] = "oa:replying";
    AnnotationMotivation["TAGGING"] = "oa:tagging";
    AnnotationMotivation["TRANSCRIBING"] = "oad:transcribing";
})(AnnotationMotivation || (AnnotationMotivation = {}));
var Behavior;
(function (Behavior) {
    Behavior["AUTO_ADVANCE"] = "auto-advance";
    Behavior["CONTINUOUS"] = "continuous";
    Behavior["FACING_PAGES"] = "facing-pages";
    Behavior["HIDDEN"] = "hidden";
    Behavior["INDIVIDUALS"] = "individuals";
    Behavior["MULTI_PART"] = "multi-part";
    Behavior["NO_NAV"] = "no-nav";
    Behavior["NON_PAGED"] = "non-paged";
    Behavior["PAGED"] = "paged";
    Behavior["REPEAT"] = "repeat";
    Behavior["SEQUENCE"] = "sequence";
    Behavior["THUMBNAIL_NAV"] = "thumbnail-nav";
    Behavior["TOGETHER"] = "together";
    Behavior["UNORDERED"] = "unordered";
})(Behavior || (Behavior = {}));
var ExternalResourceType;
(function (ExternalResourceType) {
    ExternalResourceType["CANVAS"] = "canvas";
    ExternalResourceType["CHOICE"] = "choice";
    ExternalResourceType["CONTENT_AS_TEXT"] = "contentastext";
    ExternalResourceType["DATASET"] = "dataset";
    ExternalResourceType["DOCUMENT"] = "document";
    ExternalResourceType["IMAGE"] = "image";
    ExternalResourceType["MODEL"] = "model";
    ExternalResourceType["MOVING_IMAGE"] = "movingimage";
    ExternalResourceType["PDF"] = "pdf";
    ExternalResourceType["PHYSICAL_OBJECT"] = "physicalobject";
    ExternalResourceType["SOUND"] = "sound";
    ExternalResourceType["TEXT"] = "text";
    ExternalResourceType["TEXTUALBODY"] = "textualbody";
    ExternalResourceType["VIDEO"] = "video";
})(ExternalResourceType || (ExternalResourceType = {}));
var IIIFResourceType;
(function (IIIFResourceType) {
    IIIFResourceType["ANNOTATION"] = "annotation";
    IIIFResourceType["CANVAS"] = "canvas";
    IIIFResourceType["COLLECTION"] = "collection";
    IIIFResourceType["MANIFEST"] = "manifest";
    IIIFResourceType["RANGE"] = "range";
    IIIFResourceType["SEQUENCE"] = "sequence";
})(IIIFResourceType || (IIIFResourceType = {}));
var MediaType;
(function (MediaType) {
    MediaType["AUDIO_MP4"] = "audio/mp4";
    MediaType["CORTO"] = "application/corto";
    MediaType["DRACO"] = "application/draco";
    MediaType["EPUB"] = "application/epub+zip";
    MediaType["GLTF"] = "model/gltf+json";
    MediaType["JPG"] = "image/jpeg";
    MediaType["M3U8"] = "application/vnd.apple.mpegurl";
    MediaType["MP3"] = "audio/mp3";
    MediaType["MPEG_DASH"] = "application/dash+xml";
    MediaType["OBJ"] = "text/plain";
    MediaType["OPF"] = "application/oebps-package+xml";
    MediaType["PDF"] = "application/pdf";
    MediaType["PLY"] = "application/ply";
    MediaType["THREEJS"] = "application/vnd.threejs+json";
    MediaType["VIDEO_MP4"] = "video/mp4";
    MediaType["WEBM"] = "video/webm";
})(MediaType || (MediaType = {}));
var RenderingFormat;
(function (RenderingFormat) {
    RenderingFormat["DOC"] = "application/msword";
    RenderingFormat["DOCX"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
    RenderingFormat["PDF"] = "application/pdf";
})(RenderingFormat || (RenderingFormat = {}));
var ServiceProfile;
(function (ServiceProfile) {
    // image api
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level0";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level1";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level2";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level0";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level1";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level2";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2";
    ServiceProfile["IMAGE_1_LEVEL_0"] = "http://iiif.io/api/image/1/level0.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/1/profiles/level0.json";
    ServiceProfile["IMAGE_1_LEVEL_1"] = "http://iiif.io/api/image/1/level1.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/1/profiles/level1.json";
    ServiceProfile["IMAGE_1_LEVEL_2"] = "http://iiif.io/api/image/1/level2.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/1/profiles/level2.json";
    ServiceProfile["IMAGE_2_LEVEL_0"] = "http://iiif.io/api/image/2/level0.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/2/profiles/level0.json";
    ServiceProfile["IMAGE_2_LEVEL_1"] = "http://iiif.io/api/image/2/level1.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/2/profiles/level1.json";
    ServiceProfile["IMAGE_2_LEVEL_2"] = "http://iiif.io/api/image/2/level2.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/2/profiles/level2.json";
    // auth api
    ServiceProfile["AUTH_0_CLICK_THROUGH"] = "http://iiif.io/api/auth/0/login/clickthrough";
    ServiceProfile["AUTH_0_LOGIN"] = "http://iiif.io/api/auth/0/login";
    ServiceProfile["AUTH_0_LOGOUT"] = "http://iiif.io/api/auth/0/logout";
    ServiceProfile["AUTH_0_RESTRICTED"] = "http://iiif.io/api/auth/0/login/restricted";
    ServiceProfile["AUTH_0_TOKEN"] = "http://iiif.io/api/auth/0/token";
    ServiceProfile["AUTH_1_CLICK_THROUGH"] = "http://iiif.io/api/auth/1/clickthrough";
    ServiceProfile["AUTH_1_EXTERNAL"] = "http://iiif.io/api/auth/1/external";
    ServiceProfile["AUTH_1_KIOSK"] = "http://iiif.io/api/auth/1/kiosk";
    ServiceProfile["AUTH_1_LOGIN"] = "http://iiif.io/api/auth/1/login";
    ServiceProfile["AUTH_1_LOGOUT"] = "http://iiif.io/api/auth/1/logout";
    ServiceProfile["AUTH_1_PROBE"] = "http://iiif.io/api/auth/1/probe";
    ServiceProfile["AUTH_1_TOKEN"] = "http://iiif.io/api/auth/1/token";
    // search api
    ServiceProfile["SEARCH_0"] = "http://iiif.io/api/search/0/search";
    ServiceProfile["SEARCH_0_AUTO_COMPLETE"] = "http://iiif.io/api/search/0/autocomplete";
    ServiceProfile["SEARCH_1"] = "http://iiif.io/api/search/1/search";
    ServiceProfile["SEARCH_1_AUTO_COMPLETE"] = "http://iiif.io/api/search/1/autocomplete";
    // extensions
    ServiceProfile["TRACKING_EXTENSIONS"] = "http://universalviewer.io/tracking-extensions-profile";
    ServiceProfile["UI_EXTENSIONS"] = "http://universalviewer.io/ui-extensions-profile";
    ServiceProfile["PRINT_EXTENSIONS"] = "http://universalviewer.io/print-extensions-profile";
    ServiceProfile["SHARE_EXTENSIONS"] = "http://universalviewer.io/share-extensions-profile";
    // other
    ServiceProfile["OTHER_MANIFESTATIONS"] = "http://iiif.io/api/otherManifestations.json";
    ServiceProfile["IXIF"] = "http://wellcomelibrary.org/ld/ixif/0/alpha.json";
})(ServiceProfile || (ServiceProfile = {}));
var ViewingDirection;
(function (ViewingDirection) {
    ViewingDirection["BOTTOM_TO_TOP"] = "bottom-to-top";
    ViewingDirection["LEFT_TO_RIGHT"] = "left-to-right";
    ViewingDirection["RIGHT_TO_LEFT"] = "right-to-left";
    ViewingDirection["TOP_TO_BOTTOM"] = "top-to-bottom";
})(ViewingDirection || (ViewingDirection = {}));
var ViewingHint;
(function (ViewingHint) {
    ViewingHint["CONTINUOUS"] = "continuous";
    ViewingHint["INDIVIDUALS"] = "individuals";
    ViewingHint["NON_PAGED"] = "non-paged";
    ViewingHint["PAGED"] = "paged";
    ViewingHint["TOP"] = "top";
})(ViewingHint || (ViewingHint = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/banana-i18n/dist/banana-i18n.js":
/*!******************************************************!*\
  !*** ./node_modules/banana-i18n/dist/banana-i18n.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(u,e){ true?module.exports=e():undefined}(this,(function(){return function(u){var e={};function d(r){if(e[r])return e[r].exports;var t=e[r]={i:r,l:!1,exports:{}};return u[r].call(t.exports,t,t.exports,d),t.l=!0,t.exports}return d.m=u,d.c=e,d.d=function(u,e,r){d.o(u,e)||Object.defineProperty(u,e,{enumerable:!0,get:r})},d.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},d.t=function(u,e){if(1&e&&(u=d(u)),8&e)return u;if(4&e&&"object"==typeof u&&u&&u.__esModule)return u;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:u}),2&e&&"string"!=typeof u)for(var t in u)d.d(r,t,function(e){return u[e]}.bind(null,t));return r},d.n=function(u){var e=u&&u.__esModule?function(){return u.default}:function(){return u};return d.d(e,"a",e),e},d.o=function(u,e){return Object.prototype.hasOwnProperty.call(u,e)},d.p="",d(d.s=2)}([function(u){u.exports=JSON.parse('{"ar":"٠١٢٣٤٥٦٧٨٩","fa":"۰۱۲۳۴۵۶۷۸۹","ml":"൦൧൨൩൪൫൬൭൮൯","kn":"೦೧೨೩೪೫೬೭೮೯","lo":"໐໑໒໓໔໕໖໗໘໙","or":"୦୧୨୩୪୫୬୭୮୯","kh":"០១២៣៤៥៦៧៨៩","nqo":"߀߁߂߃߄߅߆߇߈߉","pa":"੦੧੨੩੪੫੬੭੮੯","gu":"૦૧૨૩૪૫૬૭૮૯","hi":"०१२३४५६७८९","my":"၀၁၂၃၄၅၆၇၈၉","ta":"௦௧௨௩௪௫௬௭௮௯","te":"౦౧౨౩౪౫౬౭౮౯","th":"๐๑๒๓๔๕๖๗๘๙","bo":"༠༡༢༣༤༥༦༧༨༩"}')},function(u){u.exports=JSON.parse('{"ab":["ru"],"ace":["id"],"aln":["sq"],"als":["gsw","de"],"an":["es"],"anp":["hi"],"arn":["es"],"arz":["ar"],"av":["ru"],"ay":["es"],"ba":["ru"],"bar":["de"],"bat-smg":["sgs","lt"],"bcc":["fa"],"be-x-old":["be-tarask"],"bh":["bho"],"bjn":["id"],"bm":["fr"],"bpy":["bn"],"bqi":["fa"],"bug":["id"],"cbk-zam":["es"],"ce":["ru"],"crh":["crh-latn"],"crh-cyrl":["ru"],"csb":["pl"],"cv":["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],"dsb":["de"],"dtp":["ms"],"egl":["it"],"eml":["it"],"ff":["fr"],"fit":["fi"],"fiu-vro":["vro","et"],"frc":["fr"],"frp":["fr"],"frr":["de"],"fur":["it"],"gag":["tr"],"gan":["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],"gl":["pt"],"glk":["fa"],"gn":["es"],"gsw":["de"],"hif":["hif-latn"],"hsb":["de"],"ht":["fr"],"ii":["zh-cn","zh-hans"],"inh":["ru"],"iu":["ike-cans"],"jut":["da"],"jv":["id"],"kaa":["kk-latn","kk-cyrl"],"kbd":["kbd-cyrl"],"khw":["ur"],"kiu":["tr"],"kk":["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],"kl":["da"],"ko-kp":["ko"],"koi":["ru"],"krc":["ru"],"ks":["ks-arab"],"ksh":["de"],"ku":["ku-latn"],"ku-arab":["ckb"],"kv":["ru"],"lad":["es"],"lb":["de"],"lbe":["ru"],"lez":["ru"],"li":["nl"],"lij":["it"],"liv":["et"],"lmo":["it"],"ln":["fr"],"ltg":["lv"],"lzz":["tr"],"mai":["hi"],"map-bms":["jv","id"],"mg":["fr"],"mhr":["ru"],"min":["id"],"mo":["ro"],"mrj":["ru"],"mwl":["pt"],"myv":["ru"],"mzn":["fa"],"nah":["es"],"nap":["it"],"nds":["de"],"nds-nl":["nl"],"nl-informal":["nl"],"no":["nb"],"os":["ru"],"pcd":["fr"],"pdc":["de"],"pdt":["de"],"pfl":["de"],"pms":["it"],"pt":["pt-br"],"pt-br":["pt"],"qu":["es"],"qug":["qu","es"],"rgn":["it"],"rmy":["ro"],"roa-rup":["rup"],"rue":["uk","ru"],"ruq":["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],"sa":["hi"],"sah":["ru"],"scn":["it"],"sg":["fr"],"sgs":["lt"],"sli":["de"],"sr":["sr-ec"],"srn":["nl"],"stq":["de"],"su":["id"],"szl":["pl"],"tcy":["kn"],"tg":["tg-cyrl"],"tt":["tt-cyrl","ru"],"tt-cyrl":["ru"],"ty":["fr"],"udm":["ru"],"ug":["ug-arab"],"uk":["ru"],"vec":["it"],"vep":["et"],"vls":["nl"],"vmf":["de"],"vot":["fi"],"vro":["et"],"wa":["fr"],"wo":["fr"],"wuu":["zh-hans"],"xal":["ru"],"xmf":["ka"],"yi":["he"],"za":["zh-hans"],"zea":["nl"],"zh":["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]}')},function(u,e,d){"use strict";d.r(e);var r=d(0);class t{constructor(u){this.locale=u}convertPlural(u,e){var d=new RegExp("\\d+=","i");if(!e||0===e.length)return"";for(let r=0;r<e.length;r++){let t=e[r];if(d.test(t)){if(parseInt(t.slice(0,t.indexOf("=")),10)===u)return t.slice(t.indexOf("=")+1);e[r]=void 0}}e=e.filter(u=>!!u);let r=this.getPluralForm(u,this.locale);return r=Math.min(r,e.length-1),e[r]}getPluralForm(u,e){const d=new Intl.PluralRules(e),r=d.resolvedOptions().pluralCategories,t=d.select(u);return["zero","one","two","few","many","other"].filter(u=>r.includes(u)).indexOf(t)}convertNumber(u,e){let d=this.digitTransformTable(this.locale),r=String(u),t="";if(!d)return u;if(e){if(parseFloat(u,10)===u)return u;let e=[];for(let u in d)e[d[u]]=u;d=e}for(let u=0;u<r.length;u++)d[r[u]]?t+=d[r[u]]:t+=r[u];return e?parseFloat(t,10):t}convertGrammar(u,e){return u}gender(u,e){if(!e||0===e.length)return"";for(;e.length<2;)e.push(e[e.length-1]);return"male"===u?e[0]:"female"===u?e[1]:3===e.length?e[2]:e[0]}digitTransformTable(u){return!!r[u]&&r[u].split("")}}var a={bs:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="s "+u;break;case"lokativ":u="o "+u}return u}},default:t,dsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},fi:class extends t{convertGrammar(u,e){let d=u.match(/[aou][^äöy]*$/i),r=u;switch(u.match(/wiki$/i)&&(d=!1),u.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(u+="i"),e){case"genitive":u+="n";break;case"elative":u+=d?"sta":"stä";break;case"partitive":u+=d?"a":"ä";break;case"illative":u+=u.slice(-1)+"n";break;case"inessive":u+=d?"ssa":"ssä";break;default:u=r}return u}},ga:class extends t{convertGrammar(u,e){if("ainmlae"===e)switch(u){case"an Domhnach":u="Dé Domhnaigh";break;case"an Luan":u="Dé Luain";break;case"an Mháirt":u="Dé Mháirt";break;case"an Chéadaoin":u="Dé Chéadaoin";break;case"an Déardaoin":u="Déardaoin";break;case"an Aoine":u="Dé hAoine";break;case"an Satharn":u="Dé Sathairn"}return u}},he:class extends t{convertGrammar(u,e){switch(e){case"prefixed":case"תחילית":"ו"===u.slice(0,1)&&"וו"!==u.slice(0,2)&&(u="ו"+u),"ה"===u.slice(0,1)&&(u=u.slice(1)),(u.slice(0,1)<"א"||u.slice(0,1)>"ת")&&(u="־"+u)}return u}},hsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},hu:class extends t{convertGrammar(u,e){switch(e){case"rol":u+="ról";break;case"ba":u+="ba";break;case"k":u+="k"}return u}},hy:class extends t{convertGrammar(u,e){return"genitive"===e&&("ա"===u.slice(-1)?u=u.slice(0,-1)+"այի":"ո"===u.slice(-1)?u=u.slice(0,-1)+"ոյի":"գիրք"===u.slice(-4)?u=u.slice(0,-4)+"գրքի":u+="ի"),u}},la:class extends t{convertGrammar(u,e){switch(e){case"genitive":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"i")).replace(/ommunia$/i,"ommunium")).replace(/a$/i,"ae")).replace(/libri$/i,"librorum")).replace(/nuntii$/i,"nuntiorum")).replace(/tio$/i,"tionis")).replace(/ns$/i,"ntis")).replace(/as$/i,"atis")).replace(/es$/i,"ei");break;case"accusative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"um")).replace(/ommunia$/i,"am")).replace(/a$/i,"ommunia")).replace(/libri$/i,"libros")).replace(/nuntii$/i,"nuntios")).replace(/tio$/i,"tionem")).replace(/ns$/i,"ntem")).replace(/as$/i,"atem")).replace(/es$/i,"em");break;case"ablative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"o")).replace(/ommunia$/i,"ommunibus")).replace(/a$/i,"a")).replace(/libri$/i,"libris")).replace(/nuntii$/i,"nuntiis")).replace(/tio$/i,"tione")).replace(/ns$/i,"nte")).replace(/as$/i,"ate")).replace(/es$/i,"e")}return u}},os:class extends t{convertGrammar(u,e){var d,r,t,a;switch(d="мæ",r="",t="",a="",u.match(/тæ$/i)?(u=u.slice(0,-1),d="æм"):u.match(/[аæеёиоыэюя]$/i)?r="й":u.match(/у$/i)?u.slice(-2,-1).match(/[аæеёиоыэюя]$/i)||(r="й"):u.match(/[бвгджзйклмнопрстфхцчшщьъ]$/i)||(t="-"),e){case"genitive":a=t+r+"ы";break;case"dative":a=t+r+"æн";break;case"allative":a=t+d;break;case"ablative":a="й"===r?t+r+"æ":t+r+"æй";break;case"superessive":a=t+r+"ыл";break;case"equative":a=t+r+"ау";break;case"comitative":a=t+"имæ"}return u+a}},ru:class extends t{convertGrammar(u,e){return"genitive"===e&&("ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ия"===u.slice(-2)?u=u.slice(0,-2)+"ии":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника")),u}},sl:class extends t{convertGrammar(u,e){switch(e){case"mestnik":u="o "+u;break;case"orodnik":u="z "+u}return u}},uk:class extends t{convertGrammar(u,e){switch(e){case"genitive":"ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ія"===u.slice(-2)?u=u.slice(0,-2)+"ії":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника");break;case"accusative":"ія"===u.slice(-2)&&(u=u.slice(0,-2)+"ію")}return u}}};const n=new RegExp("(?:([A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁːˑˠ-ˤˮͰ-ͳͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-҂Ҋ-ԯԱ-Ֆՙ-՟ա-և։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ঀংঃঅ-ঌএঐও-নপ-রলশ-হঽ-ীেৈোৌৎৗড়ঢ়য়-ৡ০-ৱ৴-৺ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ીૉોૌૐૠૡ૦-૰ૹଂଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽାୀେୈୋୌୗଡ଼ଢ଼ୟ-ୡ୦-୷ஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹாிுூெ-ைொ-ௌௐௗ௦-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౚౠౡ౦-౯౿ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊೋೕೖೞೠೡ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ീെ-ൈൊ-ൌൎൗൟ-ൡ൦-൵൹-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-෴ก-ะาำเ-ๆ๏-๛ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆ໐-໙ໜ-ໟༀ-༗༚-༴༶༸༾-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿚က-ာေးျြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃႄႇ-ႌႎ-ႜ႞-ჅჇჍა-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፼ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙿᚁ-ᚚᚠ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះៈ។-៚ៜ០-៩᠐-᠙ᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸ᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧚ᨀ-ᨖᨙᨚ᨞-ᩕᩗᩡᩣᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-ᭋ᭐-᭪᭴-᭼ᮂ-ᮡᮦᮧ᮪ᮮ-ᯥᯧᯪ-ᯬᯮ᯲᯳᯼-ᰫᰴᰵ᰻-᱉ᱍ-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〮〯〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎ㆐-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿕ꀀ-ꒌꓐ-ꘌꘐ-ꘫꙀ-ꙮꚀ-ꚝꚠ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꣽ꤀-ꤥ꤮-ꥆꥒ꥓꥟-ꥼꦃ-ꦲꦴꦵꦺꦻꦽ-꧍ꧏ-꧙꧞-ꧤꧦ-ꧾꨀ-ꨨꨯꨰꨳꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-ꩻꩽ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫫꫮ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭥꭰ-ꯤꯦꯧꯩ-꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]|\ud800[\udc00-\udc0b]|\ud800[\udc0d-\udc26]|\ud800[\udc28-\udc3a]|𐀼|𐀽|\ud800[\udc3f-\udc4d]|\ud800[\udc50-\udc5d]|\ud800[\udc80-\udcfa]|𐄀|𐄂|\ud800[\udd07-\udd33]|\ud800[\udd37-\udd3f]|\ud800[\uddd0-\uddfc]|\ud800[\ude80-\ude9c]|\ud800[\udea0-\uded0]|\ud800[\udf00-\udf23]|\ud800[\udf30-\udf4a]|\ud800[\udf50-\udf75]|\ud800[\udf80-\udf9d]|\ud800[\udf9f-\udfc3]|\ud800[\udfc8-\udfd5]|\ud801[\udc00-\udc9d]|\ud801[\udca0-\udca9]|\ud801[\udd00-\udd27]|\ud801[\udd30-\udd63]|𐕯|\ud801[\ude00-\udf36]|\ud801[\udf40-\udf55]|\ud801[\udf60-\udf67]|𑀀|\ud804[\udc02-\udc37]|\ud804[\udc47-\udc4d]|\ud804[\udc66-\udc6f]|\ud804[\udc82-\udcb2]|𑂷|𑂸|\ud804[\udcbb-\udcc1]|\ud804[\udcd0-\udce8]|\ud804[\udcf0-\udcf9]|\ud804[\udd03-\udd26]|𑄬|\ud804[\udd36-\udd43]|\ud804[\udd50-\udd72]|\ud804[\udd74-\udd76]|\ud804[\udd82-\uddb5]|\ud804[\uddbf-\uddc9]|𑇍|\ud804[\uddd0-\udddf]|\ud804[\udde1-\uddf4]|\ud804[\ude00-\ude11]|\ud804[\ude13-\ude2e]|𑈲|𑈳|𑈵|\ud804[\ude38-\ude3d]|\ud804[\ude80-\ude86]|𑊈|\ud804[\ude8a-\ude8d]|\ud804[\ude8f-\ude9d]|\ud804[\ude9f-\udea9]|\ud804[\udeb0-\udede]|\ud804[\udee0-\udee2]|\ud804[\udef0-\udef9]|𑌂|𑌃|\ud804[\udf05-\udf0c]|𑌏|𑌐|\ud804[\udf13-\udf28]|\ud804[\udf2a-\udf30]|𑌲|𑌳|\ud804[\udf35-\udf39]|\ud804[\udf3d-\udf3f]|\ud804[\udf41-\udf44]|𑍇|𑍈|\ud804[\udf4b-\udf4d]|𑍐|𑍗|\ud804[\udf5d-\udf63]|\ud805[\udc80-\udcb2]|𑒹|\ud805[\udcbb-\udcbe]|𑓁|\ud805[\udcc4-\udcc7]|\ud805[\udcd0-\udcd9]|\ud805[\udd80-\uddb1]|\ud805[\uddb8-\uddbb]|𑖾|\ud805[\uddc1-\udddb]|\ud805[\ude00-\ude32]|𑘻|𑘼|𑘾|\ud805[\ude41-\ude44]|\ud805[\ude50-\ude59]|\ud805[\ude80-\udeaa]|𑚬|𑚮|𑚯|𑚶|\ud805[\udec0-\udec9]|\ud805[\udf00-\udf19]|𑜠|𑜡|𑜦|\ud805[\udf30-\udf3f]|\ud806[\udca0-\udcf2]|𑣿|\ud806[\udec0-\udef8]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e]|\ud809[\udc70-\udc74]|\ud809[\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38]|\ud81a[\ude40-\ude5e]|\ud81a[\ude60-\ude69]|𖩮|𖩯|\ud81a[\uded0-\udeed]|𖫵|\ud81a[\udf00-\udf2f]|\ud81a[\udf37-\udf45]|\ud81a[\udf50-\udf59]|\ud81a[\udf5b-\udf61]|\ud81a[\udf63-\udf77]|\ud81a[\udf7d-\udf8f]|\ud81b[\udf00-\udf44]|\ud81b[\udf50-\udf7e]|\ud81b[\udf93-\udf9f]|𛀀|𛀁|\ud82f[\udc00-\udc6a]|\ud82f[\udc70-\udc7c]|\ud82f[\udc80-\udc88]|\ud82f[\udc90-\udc99]|𛲜|𛲟|\ud834[\udc00-\udcf5]|\ud834[\udd00-\udd26]|\ud834[\udd29-\udd66]|\ud834[\udd6a-\udd72]|𝆃|𝆄|\ud834[\udd8c-\udda9]|\ud834[\uddae-\udde8]|\ud834[\udf60-\udf71]|\ud835[\udc00-\udc54]|\ud835[\udc56-\udc9c]|𝒞|𝒟|𝒢|𝒥|𝒦|\ud835[\udca9-\udcac]|\ud835[\udcae-\udcb9]|𝒻|\ud835[\udcbd-\udcc3]|\ud835[\udcc5-\udd05]|\ud835[\udd07-\udd0a]|\ud835[\udd0d-\udd14]|\ud835[\udd16-\udd1c]|\ud835[\udd1e-\udd39]|\ud835[\udd3b-\udd3e]|\ud835[\udd40-\udd44]|𝕆|\ud835[\udd4a-\udd50]|\ud835[\udd52-\udea5]|\ud835[\udea8-\udeda]|\ud835[\udedc-\udf14]|\ud835[\udf16-\udf4e]|\ud835[\udf50-\udf88]|\ud835[\udf8a-\udfc2]|\ud835[\udfc4-\udfcb]|\ud836[\udc00-\uddff]|\ud836[\ude37-\ude3a]|\ud836[\ude6d-\ude74]|\ud836[\ude76-\ude83]|\ud836[\ude85-\ude8b]|\ud83c[\udd10-\udd2e]|\ud83c[\udd30-\udd69]|\ud83c[\udd70-\udd9a]|\ud83c[\udde6-\ude02]|\ud83c[\ude10-\ude3a]|\ud83c[\ude40-\ude48]|🉐|🉑|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6]|\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34]|\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]|[\udb80-\udbbe][\udc00-\udfff]|\udbbf[\udc00-\udffd]|[\udbc0-\udbfe][\udc00-\udfff]|\udbff[\udc00-\udffd])|([֐־׀׃׆׈-׿߀-ߪߴߵߺ-ࠕࠚࠤࠨ࠮-ࡘ࡜-࢟‏יִײַ-ﬨשׁ-ﭏ؈؋؍؛-ي٭-ٯٱ-ەۥۦۮۯۺ-ܐܒ-ܯ݋-ޥޱ-޿ࢠ-࣢ﭐ-ﴽ﵀-﷏ﷰ-﷼﷾﷿ﹰ-﻾]|\ud802[\udc00-\udd1e]|\ud802[\udd20-\ude00]|𐨄|\ud802[\ude07-\ude0b]|\ud802[\ude10-\ude37]|\ud802[\ude3b-\ude3e]|\ud802[\ude40-\udee4]|\ud802[\udee7-\udf38]|\ud802[\udf40-\udfff]|\ud803[\udc00-\ude5f]|\ud803[\ude7f-\udfff]|\ud83a[\udc00-\udccf]|\ud83a[\udcd7-\udfff]|\ud83b[\udc00-\uddff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\ude00-\udeef]|\ud83b[\udef2-\udeff]))");var c=class{constructor(u){this.locale=u,this.language=new(a[u]||a.default)(u)}emit(u,e){let d,r,t;switch(typeof u){case"string":case"number":d=u;break;case"object":if(r=u.slice(1).map(u=>this.emit(u,e)),t=u[0].toLowerCase(),"function"!=typeof this[t])throw new Error('unknown operation "'+t+'"');d=this[t](r,e);break;case"undefined":d="";break;default:throw new Error("unexpected type in AST: "+typeof u)}return d}concat(u){let e="";return u.forEach(u=>{e+=u}),e}replace(u,e){let d=parseInt(u[0],10);return d<e.length?e[d]:"$"+(d+1)}plural(u){let e=parseFloat(this.language.convertNumber(u[0],10)),d=u.slice(1);return d.length?this.language.convertPlural(e,d):""}gender(u){let e=u[0],d=u.slice(1);return this.language.gender(e,d)}grammar(u){let e=u[0],d=u[1];return d&&e&&this.language.convertGrammar(d,e)}bidi(u){var e=function(u){var e=u.match(n);if(!e)return null;if(void 0===e[2])return"ltr";return"rtl"}(u[0]);return"ltr"===e?"‪"+u[0]+"‬":"rtl"===e?"‫"+u[0]+"‬":u[0]}};function l(u){let e,d,r,t,a,n,c,l,s,i,f,o,h,b,m,p,k,g,v=0;function z(u){return()=>{for(let e=0;e<u.length;e++){let d=u[e]();if(null!==d)return d}return null}}function w(u){let e=v,d=[];for(let r=0;r<u.length;r++){let t=u[r]();if(null===t)return v=e,null;d.push(t)}return d}function y(u,e){return()=>{let d=v,r=[],t=e();for(;null!==t;)r.push(t),t=e();return r.length<u?(v=d,null):r}}function $(e){let d=e.length;return()=>{let r=null;return u.slice(v,v+d)===e&&(r=e,v+=d),r}}function x(e){return()=>{let d=u.slice(v).match(e);return null===d?null:(v+=d[0].length,d[0])}}function j(){let u=w([r,t]);return null===u?null:u[1]}function M(){let u=w([a,n]);return null===u?null:["REPLACE",parseInt(u[1],10)-1]}var O,S;function G(){let u=w([e,y(0,k)]);if(null===u)return null;let d=u[1];return d.length>1?["CONCAT"].concat(d):d[0]}function P(){let u=w([h,d,M]);return null===u?null:[u[0],u[2]]}function q(){let u=w([h,d,k]);return null===u?null:[u[0],u[2]]}function F(){let u=w([b,o,m]);return null===u?null:u[1]}if(e=$("|"),d=$(":"),r=$("\\"),t=x(/^./),a=$("$"),n=x(/^\d+/),c=x(/^[^{}[\]$\\]/),l=x(/^[^{}[\]$\\|]/),s=x(/^[^{}[\]$\s]/),z([j,s]),i=z([j,l]),f=z([j,c]),O=x(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),S=function(u){return u.toString()},h=()=>{let u=O();return null===u?null:S(u)},o=z([function(){let u=w([z([P,q]),y(0,G)]);return null===u?null:u[0].concat(u[1])},function(){let u=w([h,y(0,G)]);return null===u?null:[u[0]].concat(u[1])}]),b=$("{{"),m=$("}}"),p=z([F,M,function(){let u=y(1,f)();return null===u?null:u.join("")}]),k=z([F,M,function(){let u=y(1,i)();return null===u?null:u.join("")}]),g=function(){let u=y(0,p)();return null===u?null:["CONCAT"].concat(u)}(),null===g||v!==u.length)throw new Error("Parse error at position "+v.toString()+" in input: "+u);return g}class s{constructor(u){this.locale=u,this.emitter=new c(this.locale)}parse(u,e){if(u.includes("{{")){let d=new l(u);return this.emitter.emit(d,e)}return this.simpleParse(u,e)}simpleParse(u,e){return u.replace(/\$(\d+)/g,(u,d)=>{let r=parseInt(d,10)-1;return void 0!==e[r]?e[r]:"$"+d})}}class i{constructor(u){this.sourceMap=new Map}load(u,e){if("object"!=typeof u)throw Error("Invalid message source. Must be an object");if(e){if(!/^[a-zA-Z0-9-]+$/.test(e))throw Error(`Invalid locale ${e}`);for(let d in u)if(0!==d.indexOf("@")){if("object"==typeof u[d])return this.load(u);if("string"!=typeof u[d])throw Error(`Invalid message for message ${d} in ${e} locale.`);break}this.sourceMap.has(e)?this.sourceMap.set(e,Object.assign(this.sourceMap.get(e),u)):this.sourceMap.set(e,u)}else for(e in u)this.load(u[e],e)}getMessage(u,e){let d=this.sourceMap.get(e);return d?d[u]:null}hasLocale(u){return this.sourceMap.has(u)}}var f=d(1);d.d(e,"default",(function(){return o}));class o{constructor(u,e){e=e||{},this.locale=u,this.parser=new s(this.locale),this.messageStore=new i,e.messages&&this.load(e.messages,this.locale),this.finalFallback=e.finalFallback||"en"}load(u,e){return this.messageStore.load(u,e||this.locale)}i18n(u,...e){return this.parser.parse(this.getMessage(u),e)}setLocale(u){this.locale=u,this.parser=new s(this.locale)}getFallbackLocales(){return[...f[this.locale]||[],this.finalFallback]}getMessage(u){let e=this.locale,d=0;const r=this.getFallbackLocales(this.locale);for(;e;){let t=e.split("-"),a=t.length;do{let e=t.slice(0,a).join("-"),d=this.messageStore.getMessage(u,e);if(d)return d;a--}while(a);e=r[d],d++}return u}}}]).default}));
//# sourceMappingURL=banana-i18n.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css":
/*!*********************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css":
/*!*******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".iiif-av-component {\n  position: relative;\n  overflow: hidden;\n  background: #000;\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  font-family: \"Open Sans\";\n  outline: none;\n}\n\n.iiif-av-component .player {\n  width: 100%;\n  height: 100%;\n}\n\n.iiif-av-component .player--loading {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-image: url(data:image/gif;base64,R0lGODlhFAAUAMQSAGxsbFpaWnh4eEZGRhwcHD8/PzU1NVJSUisrKwgICH5+fkxMTGNjYyUlJXJycnt7exISEoCAgAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1OTFjMzhjNS0xZmQyLTg5NGUtYjMyZi1kYTNkZWQ5NmQ5YjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzc0OEE1NDA5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzc0OEE1M0Y5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTkxYzM4YzUtMWZkMi04OTRlLWIzMmYtZGEzZGVkOTZkOWIzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU5MWMzOGM1LTFmZDItODk0ZS1iMzJmLWRhM2RlZDk2ZDliMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkAABIALAAAAAAUABQAAAVAoCSOZGmeaKqmSeu+LRpEdG0Hsq1H+DnvtZ7pB+TlikYfMjlcCktE4JMU3U1HVd1VlL2hCIiweExYmc/otHoUAgAh+QQJAAASACwAAAAAFAAUAAAFWqAkjmRpnmgqEgyhnkykHNA7GlEePUXyJg6dzoFQDYTI1gnyQCIVC1PA6YySGlSkwEcCZIWGEu6bA5gSCwW5gWJlAy+EV6io/QrN3MA2ShwUW3wkBGyChocSIQAh+QQFAAASACwAAAAAFAAUAAAFXKAkjmRpnmhaJsuimoYQKcQrNkCkR8wLBbsgApUYKIJBR8LUcCCfBRPh+Aw+IKZDFXkwQR7bHc1UCO96q1yYUTMhtg6DioFUDJaq6S6AtUkWEQANfiMJcoSIiSUhADs=);\n}\n\n.iiif-av-component .poster-container {\n  position: absolute;\n  width: 100%;\n  top: 0;\n}\n\n.iiif-av-component .poster-container .poster-image {\n  position: absolute;\n  background-color: #000;\n  background-size: contain;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  cursor: pointer;\n}\n\n.iiif-av-component .poster-container .poster-image .btn {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n\n.iiif-av-component .canvas-container {\n  position: relative;\n  width: 100%;\n  height: 100% !important;\n}\n\n.iiif-av-component .canvas-container video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.iiif-av-component .canvas-container .working-indicator {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 10000;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  text-align: center;\n  padding-top: 30%;\n  box-sizing: border-box;\n  font-size: 20px;\n}\n\n.iiif-av-component .canvas-container .anno {\n  position: absolute;\n  background: transparent;\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n}\n\n.iiif-av-component .range-timeline-container {\n  background: #14a4c3;\n  height: 4px;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  background: rgba(255,255,255,0.4);\n  height: 5px;\n  width: 0px;\n  border: none;\n  cursor: pointer;\n}\n\n.iiif-av-component .hover-preview {\n  position: absolute;\n  z-index: 1;\n  padding-bottom: 7px;\n}\n\n.iiif-av-component .hover-preview .label {\n  background: rgba(66, 66, 66, 0.85);\n  height: 18px;\n  padding: 5px;\n  color: #fff;\n  line-height: 8px;\n}\n\n.iiif-av-component .hover-preview .pointer {\n  height: 6px;\n  position: relative;\n}\n\n.iiif-av-component .hover-preview .pointer .arrow {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  border-top: 6px solid rgba(66, 66, 66, 0.85);\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n}\n\n.iiif-av-component .hover-highlight {\n  position: absolute;\n  background: #e2e2e2;\n  height: 4px;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  border-radius: 0;\n}\n\n.iiif-av-component .canvas-timeline-container .duration-highlight {\n  position: absolute;\n  background: #14a4c3;\n  height: 4px;\n}\n\n.iiif-av-component .timeline-item-container {\n  position: relative;\n  width: 100%;\n  min-height: 6px;\n  background: #cfcfcf;\n  top: 0px;\n  padding-bottom: 3px;\n}\n\n.iiif-av-component .timeline-item-container .line-wrapper {\n  margin-top: 2px;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item {\n  position: relative;\n  height: 6px;\n  box-sizing: border-box;\n  border-right: 1px solid #efefef;\n  border-left: 1px solid #efefef;\n  background: #777;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item.active {\n  background: #333;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\nbutton:focus {\n  outline:0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .controls-container {\n  overflow: hidden;\n  margin-top: 5px;\n  height: 36px;\n}\n\n.iiif-av-component .controls-container .btn {\n  float: left;\n}\n\n.iiif-av-component .controls-container .pause-button {\n  margin-right: 14px;\n}\n\n.iiif-av-component .controls-container .time-display {\n  float: left;\n  padding: 8px 0px 0 10px;\n  color: rgba(255, 255, 255, 0.5);\n  min-width: 150px;\n  font-size: 14px;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-time {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-duration {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .volume {\n  float: right;\n  overflow: hidden;\n  width: 140px;\n}\n\n.iiif-av-component .controls-container .volume .volume-mute {\n  float: left;\n  padding-left: 0px;\n  padding-right: 2px;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider {\n  float: left;\n  margin-top: 12px;\n  width: 84px;\n  height: 5px;\n  border: none;\n  border-radius: 0;\n  background-color: rgba(255,255,255,0.4);  \n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle {\n  top: 0px;\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: -4px;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 1;\n  cursor: pointer;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle:focus {\n  outline: none;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .btn {\n  font-size: 0;\n  background: 0 0;\n  border: 0;\n  box-shadow: none;\n  padding: 0 5px 0 0;\n}\n\n.iiif-av-component .btn i {\n  background-repeat: no-repeat;\n  display: inline-block;\n  height: 30px;\n  vertical-align: middle;\n  width: 25px;\n  cursor: pointer;\n  font-size: 0;\n}\n\n.iiif-av-component .av-icon-mute.on {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.on:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.off {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcKDQk0smvw8gAAAOlJREFUSMftlTFKBEEQRd+fXRdBENlATDTyCoJHEA29gxcyNzPXzFSMBTOvYKRgoCDMPgMblGWDYZwZA+dF1VDVv7qqqIaRkZGOyG8vUOfAO7AOkOSl96zVU/VC3SjnagjRY7+4ahNftRQ9Aa7L8a3NHdOGQgfADHgGDoHzVbFqktiZMHADzIHFiirZZ6mrhv7ptcdd8GfCTXt8D2wDr8AusNfXQlqe1ok6KfaO+uA3lz/8qk5LnaROUhf7CTgC7pZfmWQxxObaVB/V28EHRN1Xz9St0o7ZYL9TSWAKrAF1ko/x0x8Z+R98AhcTb2KBHKCUAAAAAElFTkSuQmCC\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-previous {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCgq14wdqwAAAJ9JREFUSMft1TsOQUEUgOETpUYpcmMFEtuwEyvR2oLeQpQ6m6AiEY/Gp0CDK5L7Epm/mzmT+c/JzJyJSCQSdYI1Tuh9WNPGpGzx0Y0sJ97BAmoTo4/VPb77ds9WwYRGEbGMiMFjqvKKMfbKtipx9z6eek/p4gMuGGImn9LFe5wx95n/qbixM278VmfP7xib2sVFOtfP9+pmfqdEIvHTXAHKs7eDn/hqpQAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-play.play {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.play:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-play.pause {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23D6D9DD'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.pause:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23FFFFFF'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-next {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCkVePEB1wAAAKJJREFUSMftlbENwjAQRb8iqqSgRFHEBEiswRw0TJI2K7ANJR1LQJU0gISUR+MKSJTCOhzpXuPirHu2zz5LjuNYAtRAPhIvgSdwjS0GOAHLgXgV5jxii7uQ+AKsY4izqe4wbiSdgZ1VjVu+OVgc9S8xQBPiK2sxwBHYAj1wn5pzEWFde0mFpJekPvkdz7LG5rf69vmOZ9W5ku/V//mdHMdJmjdBx46OkJJ4sAAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-expand.expand {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-expand.collapse {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-more {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 13px;\n}\n\n.iiif-av-component .av-icon-more:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n}\n\n.iiif-av-component .av-icon-fullscreen {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n  float: right;\n}\n\n.iiif-av-component .av-icon-fullscreen:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-subtitles {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23D6D9DD' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-subtitles:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23FFFFFF' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.errormessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playwrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playcircle {\n  border-radius: 50%;\n  background-color: rgba(50,50,50,0.75);\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  cursor: pointer;\n  width: 15vh;\n  height: 15vh;\n  background-size: 8vh 8vh;\n  background-position: 66% 50%;\n  background-repeat: no-repeat;\n}\n\n.playcircle:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .options-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  padding: 0 2.5% 0 2.5%;\n  background: linear-gradient(0deg, rgba(50,50,50,0.75) 0%, rgba(29,29,29,0) 100%);\n}\n\n.iiif-av-component .canvas-timeline-container {\n  width: auto !important;\n}\n\n.iiif-av-component .loading-progress {\n  position: absolute;\n  height: 5px;\n  background-color: #CCCCCC;\n  box-shadow: inset 0 -1px 0 0 rgba(255,255,255,0.15), inset 0 1px 0 0 rgba(255,255,255,0.15);\n}\n\n.btn[title=Previous] {\n  display: none;\n}\n\n.btn[title=Next] {\n  display: none;\n}\n\n.btn.button-fullscreen {\n  float: right !important;\n}\n\n.btn[data-name=More] {\n  float: right !important;\n}\n\n.btn[data-name=Subtitles] {\n  display: none;\n  float: right !important;\n}\n\n.moremenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.moremenu-option {\n  cursor: pointer;\n}\n\n.subtitlemenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.subtitlemenu-option {\n  cursor: pointer;\n}\n\n.iiif-av-component .audio-background {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/index.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/index.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "#eups-content-wrapper {\n    float: left;\n    max-height: inherit;\n    max-width: inherit;\n}\n\n.eups-player {\n    height: 100%;\n    width: 100% !important;\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.editor {\n    width: 60%;\n}\n\n.no-editor {\n    width: 100%;\n    float: left;\n}\n\n#eups-editor-wrapper {\n    float: left;\n}\n\n#eups-annotationeditor {\n    padding-left: 5%;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/isomorphic-unfetch/browser.js":
/*!****************************************************!*\
  !*** ./node_modules/isomorphic-unfetch/browser.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = window.fetch || (window.fetch = __webpack_require__(/*! unfetch */ "./node_modules/unfetch/dist/unfetch.mjs").default || __webpack_require__(/*! unfetch */ "./node_modules/unfetch/dist/unfetch.mjs"));


/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/core.css":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/core.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/slider.css":
/*!*******************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/slider.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/ui/effect.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/effect.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Effects Core
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Extends the internal jQuery effects. Includes morphing and easing. Required by all other effects.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/category/effects-core/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var dataSpace = "ui-effects-",
	dataSpaceStyle = "ui-effects-style",
	dataSpaceAnimated = "ui-effects-animated",

	// Create a local jQuery because jQuery Color relies on it and the
	// global may not exist with AMD and a custom build (#10199)
	jQuery = $;

$.effects = {
	effect: {}
};

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
( function( jQuery, undefined ) {

	var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor " +
		"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",

	// Plusequals test for += 100 -= 100
	rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,

	// A set of RE's that can match strings and generate color tuples.
	stringParsers = [ {
			re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ],
					execResult[ 3 ],
					execResult[ 4 ]
				];
			}
		}, {
			re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ] * 2.55,
					execResult[ 2 ] * 2.55,
					execResult[ 3 ] * 2.55,
					execResult[ 4 ]
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ], 16 )
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ] + execResult[ 3 ], 16 )
				];
			}
		}, {
			re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			space: "hsla",
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ] / 100,
					execResult[ 3 ] / 100,
					execResult[ 4 ]
				];
			}
		} ],

	// JQuery.Color( )
	color = jQuery.Color = function( color, green, blue, alpha ) {
		return new jQuery.Color.fn.parse( color, green, blue, alpha );
	},
	spaces = {
		rgba: {
			props: {
				red: {
					idx: 0,
					type: "byte"
				},
				green: {
					idx: 1,
					type: "byte"
				},
				blue: {
					idx: 2,
					type: "byte"
				}
			}
		},

		hsla: {
			props: {
				hue: {
					idx: 0,
					type: "degrees"
				},
				saturation: {
					idx: 1,
					type: "percent"
				},
				lightness: {
					idx: 2,
					type: "percent"
				}
			}
		}
	},
	propTypes = {
		"byte": {
			floor: true,
			max: 255
		},
		"percent": {
			max: 1
		},
		"degrees": {
			mod: 360,
			floor: true
		}
	},
	support = color.support = {},

	// Element for support tests
	supportElem = jQuery( "<p>" )[ 0 ],

	// Colors = jQuery.Color.names
	colors,

	// Local aliases of functions called often
	each = jQuery.each;

// Determine rgba support immediately
supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
support.rgba = supportElem.style.backgroundColor.indexOf( "rgba" ) > -1;

// Define cache name and alpha properties
// for rgba and hsla spaces
each( spaces, function( spaceName, space ) {
	space.cache = "_" + spaceName;
	space.props.alpha = {
		idx: 3,
		type: "percent",
		def: 1
	};
} );

function clamp( value, prop, allowEmpty ) {
	var type = propTypes[ prop.type ] || {};

	if ( value == null ) {
		return ( allowEmpty || !prop.def ) ? null : prop.def;
	}

	// ~~ is an short way of doing floor for positive numbers
	value = type.floor ? ~~value : parseFloat( value );

	// IE will pass in empty strings as value for alpha,
	// which will hit this case
	if ( isNaN( value ) ) {
		return prop.def;
	}

	if ( type.mod ) {

		// We add mod before modding to make sure that negatives values
		// get converted properly: -10 -> 350
		return ( value + type.mod ) % type.mod;
	}

	// For now all property types without mod have min and max
	return 0 > value ? 0 : type.max < value ? type.max : value;
}

function stringParse( string ) {
	var inst = color(),
		rgba = inst._rgba = [];

	string = string.toLowerCase();

	each( stringParsers, function( i, parser ) {
		var parsed,
			match = parser.re.exec( string ),
			values = match && parser.parse( match ),
			spaceName = parser.space || "rgba";

		if ( values ) {
			parsed = inst[ spaceName ]( values );

			// If this was an rgba parse the assignment might happen twice
			// oh well....
			inst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];
			rgba = inst._rgba = parsed._rgba;

			// Exit each( stringParsers ) here because we matched
			return false;
		}
	} );

	// Found a stringParser that handled it
	if ( rgba.length ) {

		// If this came from a parsed string, force "transparent" when alpha is 0
		// chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
		if ( rgba.join() === "0,0,0,0" ) {
			jQuery.extend( rgba, colors.transparent );
		}
		return inst;
	}

	// Named colors
	return colors[ string ];
}

color.fn = jQuery.extend( color.prototype, {
	parse: function( red, green, blue, alpha ) {
		if ( red === undefined ) {
			this._rgba = [ null, null, null, null ];
			return this;
		}
		if ( red.jquery || red.nodeType ) {
			red = jQuery( red ).css( green );
			green = undefined;
		}

		var inst = this,
			type = jQuery.type( red ),
			rgba = this._rgba = [];

		// More than 1 argument specified - assume ( red, green, blue, alpha )
		if ( green !== undefined ) {
			red = [ red, green, blue, alpha ];
			type = "array";
		}

		if ( type === "string" ) {
			return this.parse( stringParse( red ) || colors._default );
		}

		if ( type === "array" ) {
			each( spaces.rgba.props, function( key, prop ) {
				rgba[ prop.idx ] = clamp( red[ prop.idx ], prop );
			} );
			return this;
		}

		if ( type === "object" ) {
			if ( red instanceof color ) {
				each( spaces, function( spaceName, space ) {
					if ( red[ space.cache ] ) {
						inst[ space.cache ] = red[ space.cache ].slice();
					}
				} );
			} else {
				each( spaces, function( spaceName, space ) {
					var cache = space.cache;
					each( space.props, function( key, prop ) {

						// If the cache doesn't exist, and we know how to convert
						if ( !inst[ cache ] && space.to ) {

							// If the value was null, we don't need to copy it
							// if the key was alpha, we don't need to copy it either
							if ( key === "alpha" || red[ key ] == null ) {
								return;
							}
							inst[ cache ] = space.to( inst._rgba );
						}

						// This is the only case where we allow nulls for ALL properties.
						// call clamp with alwaysAllowEmpty
						inst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );
					} );

					// Everything defined but alpha?
					if ( inst[ cache ] &&
							jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {

						// Use the default of 1
						inst[ cache ][ 3 ] = 1;
						if ( space.from ) {
							inst._rgba = space.from( inst[ cache ] );
						}
					}
				} );
			}
			return this;
		}
	},
	is: function( compare ) {
		var is = color( compare ),
			same = true,
			inst = this;

		each( spaces, function( _, space ) {
			var localCache,
				isCache = is[ space.cache ];
			if ( isCache ) {
				localCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];
				each( space.props, function( _, prop ) {
					if ( isCache[ prop.idx ] != null ) {
						same = ( isCache[ prop.idx ] === localCache[ prop.idx ] );
						return same;
					}
				} );
			}
			return same;
		} );
		return same;
	},
	_space: function() {
		var used = [],
			inst = this;
		each( spaces, function( spaceName, space ) {
			if ( inst[ space.cache ] ) {
				used.push( spaceName );
			}
		} );
		return used.pop();
	},
	transition: function( other, distance ) {
		var end = color( other ),
			spaceName = end._space(),
			space = spaces[ spaceName ],
			startColor = this.alpha() === 0 ? color( "transparent" ) : this,
			start = startColor[ space.cache ] || space.to( startColor._rgba ),
			result = start.slice();

		end = end[ space.cache ];
		each( space.props, function( key, prop ) {
			var index = prop.idx,
				startValue = start[ index ],
				endValue = end[ index ],
				type = propTypes[ prop.type ] || {};

			// If null, don't override start value
			if ( endValue === null ) {
				return;
			}

			// If null - use end
			if ( startValue === null ) {
				result[ index ] = endValue;
			} else {
				if ( type.mod ) {
					if ( endValue - startValue > type.mod / 2 ) {
						startValue += type.mod;
					} else if ( startValue - endValue > type.mod / 2 ) {
						startValue -= type.mod;
					}
				}
				result[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );
			}
		} );
		return this[ spaceName ]( result );
	},
	blend: function( opaque ) {

		// If we are already opaque - return ourself
		if ( this._rgba[ 3 ] === 1 ) {
			return this;
		}

		var rgb = this._rgba.slice(),
			a = rgb.pop(),
			blend = color( opaque )._rgba;

		return color( jQuery.map( rgb, function( v, i ) {
			return ( 1 - a ) * blend[ i ] + a * v;
		} ) );
	},
	toRgbaString: function() {
		var prefix = "rgba(",
			rgba = jQuery.map( this._rgba, function( v, i ) {
				return v == null ? ( i > 2 ? 1 : 0 ) : v;
			} );

		if ( rgba[ 3 ] === 1 ) {
			rgba.pop();
			prefix = "rgb(";
		}

		return prefix + rgba.join() + ")";
	},
	toHslaString: function() {
		var prefix = "hsla(",
			hsla = jQuery.map( this.hsla(), function( v, i ) {
				if ( v == null ) {
					v = i > 2 ? 1 : 0;
				}

				// Catch 1 and 2
				if ( i && i < 3 ) {
					v = Math.round( v * 100 ) + "%";
				}
				return v;
			} );

		if ( hsla[ 3 ] === 1 ) {
			hsla.pop();
			prefix = "hsl(";
		}
		return prefix + hsla.join() + ")";
	},
	toHexString: function( includeAlpha ) {
		var rgba = this._rgba.slice(),
			alpha = rgba.pop();

		if ( includeAlpha ) {
			rgba.push( ~~( alpha * 255 ) );
		}

		return "#" + jQuery.map( rgba, function( v ) {

			// Default to 0 when nulls exist
			v = ( v || 0 ).toString( 16 );
			return v.length === 1 ? "0" + v : v;
		} ).join( "" );
	},
	toString: function() {
		return this._rgba[ 3 ] === 0 ? "transparent" : this.toRgbaString();
	}
} );
color.fn.parse.prototype = color.fn;

// Hsla conversions adapted from:
// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021

function hue2rgb( p, q, h ) {
	h = ( h + 1 ) % 1;
	if ( h * 6 < 1 ) {
		return p + ( q - p ) * h * 6;
	}
	if ( h * 2 < 1 ) {
		return q;
	}
	if ( h * 3 < 2 ) {
		return p + ( q - p ) * ( ( 2 / 3 ) - h ) * 6;
	}
	return p;
}

spaces.hsla.to = function( rgba ) {
	if ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {
		return [ null, null, null, rgba[ 3 ] ];
	}
	var r = rgba[ 0 ] / 255,
		g = rgba[ 1 ] / 255,
		b = rgba[ 2 ] / 255,
		a = rgba[ 3 ],
		max = Math.max( r, g, b ),
		min = Math.min( r, g, b ),
		diff = max - min,
		add = max + min,
		l = add * 0.5,
		h, s;

	if ( min === max ) {
		h = 0;
	} else if ( r === max ) {
		h = ( 60 * ( g - b ) / diff ) + 360;
	} else if ( g === max ) {
		h = ( 60 * ( b - r ) / diff ) + 120;
	} else {
		h = ( 60 * ( r - g ) / diff ) + 240;
	}

	// Chroma (diff) == 0 means greyscale which, by definition, saturation = 0%
	// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)
	if ( diff === 0 ) {
		s = 0;
	} else if ( l <= 0.5 ) {
		s = diff / add;
	} else {
		s = diff / ( 2 - add );
	}
	return [ Math.round( h ) % 360, s, l, a == null ? 1 : a ];
};

spaces.hsla.from = function( hsla ) {
	if ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {
		return [ null, null, null, hsla[ 3 ] ];
	}
	var h = hsla[ 0 ] / 360,
		s = hsla[ 1 ],
		l = hsla[ 2 ],
		a = hsla[ 3 ],
		q = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,
		p = 2 * l - q;

	return [
		Math.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),
		Math.round( hue2rgb( p, q, h ) * 255 ),
		Math.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),
		a
	];
};

each( spaces, function( spaceName, space ) {
	var props = space.props,
		cache = space.cache,
		to = space.to,
		from = space.from;

	// Makes rgba() and hsla()
	color.fn[ spaceName ] = function( value ) {

		// Generate a cache for this space if it doesn't exist
		if ( to && !this[ cache ] ) {
			this[ cache ] = to( this._rgba );
		}
		if ( value === undefined ) {
			return this[ cache ].slice();
		}

		var ret,
			type = jQuery.type( value ),
			arr = ( type === "array" || type === "object" ) ? value : arguments,
			local = this[ cache ].slice();

		each( props, function( key, prop ) {
			var val = arr[ type === "object" ? key : prop.idx ];
			if ( val == null ) {
				val = local[ prop.idx ];
			}
			local[ prop.idx ] = clamp( val, prop );
		} );

		if ( from ) {
			ret = color( from( local ) );
			ret[ cache ] = local;
			return ret;
		} else {
			return color( local );
		}
	};

	// Makes red() green() blue() alpha() hue() saturation() lightness()
	each( props, function( key, prop ) {

		// Alpha is included in more than one space
		if ( color.fn[ key ] ) {
			return;
		}
		color.fn[ key ] = function( value ) {
			var vtype = jQuery.type( value ),
				fn = ( key === "alpha" ? ( this._hsla ? "hsla" : "rgba" ) : spaceName ),
				local = this[ fn ](),
				cur = local[ prop.idx ],
				match;

			if ( vtype === "undefined" ) {
				return cur;
			}

			if ( vtype === "function" ) {
				value = value.call( this, cur );
				vtype = jQuery.type( value );
			}
			if ( value == null && prop.empty ) {
				return this;
			}
			if ( vtype === "string" ) {
				match = rplusequals.exec( value );
				if ( match ) {
					value = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === "+" ? 1 : -1 );
				}
			}
			local[ prop.idx ] = value;
			return this[ fn ]( local );
		};
	} );
} );

// Add cssHook and .fx.step function for each named hook.
// accept a space separated string of properties
color.hook = function( hook ) {
	var hooks = hook.split( " " );
	each( hooks, function( i, hook ) {
		jQuery.cssHooks[ hook ] = {
			set: function( elem, value ) {
				var parsed, curElem,
					backgroundColor = "";

				if ( value !== "transparent" && ( jQuery.type( value ) !== "string" ||
						( parsed = stringParse( value ) ) ) ) {
					value = color( parsed || value );
					if ( !support.rgba && value._rgba[ 3 ] !== 1 ) {
						curElem = hook === "backgroundColor" ? elem.parentNode : elem;
						while (
							( backgroundColor === "" || backgroundColor === "transparent" ) &&
							curElem && curElem.style
						) {
							try {
								backgroundColor = jQuery.css( curElem, "backgroundColor" );
								curElem = curElem.parentNode;
							} catch ( e ) {
							}
						}

						value = value.blend( backgroundColor && backgroundColor !== "transparent" ?
							backgroundColor :
							"_default" );
					}

					value = value.toRgbaString();
				}
				try {
					elem.style[ hook ] = value;
				} catch ( e ) {

					// Wrapped to prevent IE from throwing errors on "invalid" values like
					// 'auto' or 'inherit'
				}
			}
		};
		jQuery.fx.step[ hook ] = function( fx ) {
			if ( !fx.colorInit ) {
				fx.start = color( fx.elem, hook );
				fx.end = color( fx.end );
				fx.colorInit = true;
			}
			jQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );
		};
	} );

};

color.hook( stepHooks );

jQuery.cssHooks.borderColor = {
	expand: function( value ) {
		var expanded = {};

		each( [ "Top", "Right", "Bottom", "Left" ], function( i, part ) {
			expanded[ "border" + part + "Color" ] = value;
		} );
		return expanded;
	}
};

// Basic color names only.
// Usage of any of the other color names requires adding yourself or including
// jquery.color.svg-names.js.
colors = jQuery.Color.names = {

	// 4.1. Basic color keywords
	aqua: "#00ffff",
	black: "#000000",
	blue: "#0000ff",
	fuchsia: "#ff00ff",
	gray: "#808080",
	green: "#008000",
	lime: "#00ff00",
	maroon: "#800000",
	navy: "#000080",
	olive: "#808000",
	purple: "#800080",
	red: "#ff0000",
	silver: "#c0c0c0",
	teal: "#008080",
	white: "#ffffff",
	yellow: "#ffff00",

	// 4.2.3. "transparent" color keyword
	transparent: [ null, null, null, 0 ],

	_default: "#ffffff"
};

} )( jQuery );

/******************************************************************************/
/****************************** CLASS ANIMATIONS ******************************/
/******************************************************************************/
( function() {

var classAnimationActions = [ "add", "remove", "toggle" ],
	shorthandStyles = {
		border: 1,
		borderBottom: 1,
		borderColor: 1,
		borderLeft: 1,
		borderRight: 1,
		borderTop: 1,
		borderWidth: 1,
		margin: 1,
		padding: 1
	};

$.each(
	[ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ],
	function( _, prop ) {
		$.fx.step[ prop ] = function( fx ) {
			if ( fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {
				jQuery.style( fx.elem, prop, fx.end );
				fx.setAttr = true;
			}
		};
	}
);

function getElementStyles( elem ) {
	var key, len,
		style = elem.ownerDocument.defaultView ?
			elem.ownerDocument.defaultView.getComputedStyle( elem, null ) :
			elem.currentStyle,
		styles = {};

	if ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {
		len = style.length;
		while ( len-- ) {
			key = style[ len ];
			if ( typeof style[ key ] === "string" ) {
				styles[ $.camelCase( key ) ] = style[ key ];
			}
		}

	// Support: Opera, IE <9
	} else {
		for ( key in style ) {
			if ( typeof style[ key ] === "string" ) {
				styles[ key ] = style[ key ];
			}
		}
	}

	return styles;
}

function styleDifference( oldStyle, newStyle ) {
	var diff = {},
		name, value;

	for ( name in newStyle ) {
		value = newStyle[ name ];
		if ( oldStyle[ name ] !== value ) {
			if ( !shorthandStyles[ name ] ) {
				if ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {
					diff[ name ] = value;
				}
			}
		}
	}

	return diff;
}

// Support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

$.effects.animateClass = function( value, duration, easing, callback ) {
	var o = $.speed( duration, easing, callback );

	return this.queue( function() {
		var animated = $( this ),
			baseClass = animated.attr( "class" ) || "",
			applyClassChange,
			allAnimations = o.children ? animated.find( "*" ).addBack() : animated;

		// Map the animated objects to store the original styles.
		allAnimations = allAnimations.map( function() {
			var el = $( this );
			return {
				el: el,
				start: getElementStyles( this )
			};
		} );

		// Apply class change
		applyClassChange = function() {
			$.each( classAnimationActions, function( i, action ) {
				if ( value[ action ] ) {
					animated[ action + "Class" ]( value[ action ] );
				}
			} );
		};
		applyClassChange();

		// Map all animated objects again - calculate new styles and diff
		allAnimations = allAnimations.map( function() {
			this.end = getElementStyles( this.el[ 0 ] );
			this.diff = styleDifference( this.start, this.end );
			return this;
		} );

		// Apply original class
		animated.attr( "class", baseClass );

		// Map all animated objects again - this time collecting a promise
		allAnimations = allAnimations.map( function() {
			var styleInfo = this,
				dfd = $.Deferred(),
				opts = $.extend( {}, o, {
					queue: false,
					complete: function() {
						dfd.resolve( styleInfo );
					}
				} );

			this.el.animate( this.diff, opts );
			return dfd.promise();
		} );

		// Once all animations have completed:
		$.when.apply( $, allAnimations.get() ).done( function() {

			// Set the final class
			applyClassChange();

			// For each animated element,
			// clear all css properties that were animated
			$.each( arguments, function() {
				var el = this.el;
				$.each( this.diff, function( key ) {
					el.css( key, "" );
				} );
			} );

			// This is guarnteed to be there if you use jQuery.speed()
			// it also handles dequeuing the next anim...
			o.complete.call( animated[ 0 ] );
		} );
	} );
};

$.fn.extend( {
	addClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return speed ?
				$.effects.animateClass.call( this,
					{ add: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.addClass ),

	removeClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return arguments.length > 1 ?
				$.effects.animateClass.call( this,
					{ remove: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.removeClass ),

	toggleClass: ( function( orig ) {
		return function( classNames, force, speed, easing, callback ) {
			if ( typeof force === "boolean" || force === undefined ) {
				if ( !speed ) {

					// Without speed parameter
					return orig.apply( this, arguments );
				} else {
					return $.effects.animateClass.call( this,
						( force ? { add: classNames } : { remove: classNames } ),
						speed, easing, callback );
				}
			} else {

				// Without force parameter
				return $.effects.animateClass.call( this,
					{ toggle: classNames }, force, speed, easing );
			}
		};
	} )( $.fn.toggleClass ),

	switchClass: function( remove, add, speed, easing, callback ) {
		return $.effects.animateClass.call( this, {
			add: add,
			remove: remove
		}, speed, easing, callback );
	}
} );

} )();

/******************************************************************************/
/*********************************** EFFECTS **********************************/
/******************************************************************************/

( function() {

if ( $.expr && $.expr.filters && $.expr.filters.animated ) {
	$.expr.filters.animated = ( function( orig ) {
		return function( elem ) {
			return !!$( elem ).data( dataSpaceAnimated ) || orig( elem );
		};
	} )( $.expr.filters.animated );
}

if ( $.uiBackCompat !== false ) {
	$.extend( $.effects, {

		// Saves a set of properties in a data storage
		save: function( element, set ) {
			var i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					element.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );
				}
			}
		},

		// Restores a set of previously saved properties from a data storage
		restore: function( element, set ) {
			var val, i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					val = element.data( dataSpace + set[ i ] );
					element.css( set[ i ], val );
				}
			}
		},

		setMode: function( el, mode ) {
			if ( mode === "toggle" ) {
				mode = el.is( ":hidden" ) ? "show" : "hide";
			}
			return mode;
		},

		// Wraps the element around a wrapper that copies position properties
		createWrapper: function( element ) {

			// If the element is already wrapped, return it
			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				return element.parent();
			}

			// Wrap the element
			var props = {
					width: element.outerWidth( true ),
					height: element.outerHeight( true ),
					"float": element.css( "float" )
				},
				wrapper = $( "<div></div>" )
					.addClass( "ui-effects-wrapper" )
					.css( {
						fontSize: "100%",
						background: "transparent",
						border: "none",
						margin: 0,
						padding: 0
					} ),

				// Store the size in case width/height are defined in % - Fixes #5245
				size = {
					width: element.width(),
					height: element.height()
				},
				active = document.activeElement;

			// Support: Firefox
			// Firefox incorrectly exposes anonymous content
			// https://bugzilla.mozilla.org/show_bug.cgi?id=561664
			try {
				active.id;
			} catch ( e ) {
				active = document.body;
			}

			element.wrap( wrapper );

			// Fixes #7595 - Elements lose focus when wrapped.
			if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
				$( active ).trigger( "focus" );
			}

			// Hotfix for jQuery 1.4 since some change in wrap() seems to actually
			// lose the reference to the wrapped element
			wrapper = element.parent();

			// Transfer positioning properties to the wrapper
			if ( element.css( "position" ) === "static" ) {
				wrapper.css( { position: "relative" } );
				element.css( { position: "relative" } );
			} else {
				$.extend( props, {
					position: element.css( "position" ),
					zIndex: element.css( "z-index" )
				} );
				$.each( [ "top", "left", "bottom", "right" ], function( i, pos ) {
					props[ pos ] = element.css( pos );
					if ( isNaN( parseInt( props[ pos ], 10 ) ) ) {
						props[ pos ] = "auto";
					}
				} );
				element.css( {
					position: "relative",
					top: 0,
					left: 0,
					right: "auto",
					bottom: "auto"
				} );
			}
			element.css( size );

			return wrapper.css( props ).show();
		},

		removeWrapper: function( element ) {
			var active = document.activeElement;

			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				element.parent().replaceWith( element );

				// Fixes #7595 - Elements lose focus when wrapped.
				if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
					$( active ).trigger( "focus" );
				}
			}

			return element;
		}
	} );
}

$.extend( $.effects, {
	version: "1.12.1",

	define: function( name, mode, effect ) {
		if ( !effect ) {
			effect = mode;
			mode = "effect";
		}

		$.effects.effect[ name ] = effect;
		$.effects.effect[ name ].mode = mode;

		return effect;
	},

	scaledDimensions: function( element, percent, direction ) {
		if ( percent === 0 ) {
			return {
				height: 0,
				width: 0,
				outerHeight: 0,
				outerWidth: 0
			};
		}

		var x = direction !== "horizontal" ? ( ( percent || 100 ) / 100 ) : 1,
			y = direction !== "vertical" ? ( ( percent || 100 ) / 100 ) : 1;

		return {
			height: element.height() * y,
			width: element.width() * x,
			outerHeight: element.outerHeight() * y,
			outerWidth: element.outerWidth() * x
		};

	},

	clipToBox: function( animation ) {
		return {
			width: animation.clip.right - animation.clip.left,
			height: animation.clip.bottom - animation.clip.top,
			left: animation.clip.left,
			top: animation.clip.top
		};
	},

	// Injects recently queued functions to be first in line (after "inprogress")
	unshift: function( element, queueLength, count ) {
		var queue = element.queue();

		if ( queueLength > 1 ) {
			queue.splice.apply( queue,
				[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );
		}
		element.dequeue();
	},

	saveStyle: function( element ) {
		element.data( dataSpaceStyle, element[ 0 ].style.cssText );
	},

	restoreStyle: function( element ) {
		element[ 0 ].style.cssText = element.data( dataSpaceStyle ) || "";
		element.removeData( dataSpaceStyle );
	},

	mode: function( element, mode ) {
		var hidden = element.is( ":hidden" );

		if ( mode === "toggle" ) {
			mode = hidden ? "show" : "hide";
		}
		if ( hidden ? mode === "hide" : mode === "show" ) {
			mode = "none";
		}
		return mode;
	},

	// Translates a [top,left] array into a baseline value
	getBaseline: function( origin, original ) {
		var y, x;

		switch ( origin[ 0 ] ) {
		case "top":
			y = 0;
			break;
		case "middle":
			y = 0.5;
			break;
		case "bottom":
			y = 1;
			break;
		default:
			y = origin[ 0 ] / original.height;
		}

		switch ( origin[ 1 ] ) {
		case "left":
			x = 0;
			break;
		case "center":
			x = 0.5;
			break;
		case "right":
			x = 1;
			break;
		default:
			x = origin[ 1 ] / original.width;
		}

		return {
			x: x,
			y: y
		};
	},

	// Creates a placeholder element so that the original element can be made absolute
	createPlaceholder: function( element ) {
		var placeholder,
			cssPosition = element.css( "position" ),
			position = element.position();

		// Lock in margins first to account for form elements, which
		// will change margin if you explicitly set height
		// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380
		// Support: Safari
		element.css( {
			marginTop: element.css( "marginTop" ),
			marginBottom: element.css( "marginBottom" ),
			marginLeft: element.css( "marginLeft" ),
			marginRight: element.css( "marginRight" )
		} )
		.outerWidth( element.outerWidth() )
		.outerHeight( element.outerHeight() );

		if ( /^(static|relative)/.test( cssPosition ) ) {
			cssPosition = "absolute";

			placeholder = $( "<" + element[ 0 ].nodeName + ">" ).insertAfter( element ).css( {

				// Convert inline to inline block to account for inline elements
				// that turn to inline block based on content (like img)
				display: /^(inline|ruby)/.test( element.css( "display" ) ) ?
					"inline-block" :
					"block",
				visibility: "hidden",

				// Margins need to be set to account for margin collapse
				marginTop: element.css( "marginTop" ),
				marginBottom: element.css( "marginBottom" ),
				marginLeft: element.css( "marginLeft" ),
				marginRight: element.css( "marginRight" ),
				"float": element.css( "float" )
			} )
			.outerWidth( element.outerWidth() )
			.outerHeight( element.outerHeight() )
			.addClass( "ui-effects-placeholder" );

			element.data( dataSpace + "placeholder", placeholder );
		}

		element.css( {
			position: cssPosition,
			left: position.left,
			top: position.top
		} );

		return placeholder;
	},

	removePlaceholder: function( element ) {
		var dataKey = dataSpace + "placeholder",
				placeholder = element.data( dataKey );

		if ( placeholder ) {
			placeholder.remove();
			element.removeData( dataKey );
		}
	},

	// Removes a placeholder if it exists and restores
	// properties that were modified during placeholder creation
	cleanUp: function( element ) {
		$.effects.restoreStyle( element );
		$.effects.removePlaceholder( element );
	},

	setTransition: function( element, list, factor, value ) {
		value = value || {};
		$.each( list, function( i, x ) {
			var unit = element.cssUnit( x );
			if ( unit[ 0 ] > 0 ) {
				value[ x ] = unit[ 0 ] * factor + unit[ 1 ];
			}
		} );
		return value;
	}
} );

// Return an effect options object for the given parameters:
function _normalizeArguments( effect, options, speed, callback ) {

	// Allow passing all options as the first parameter
	if ( $.isPlainObject( effect ) ) {
		options = effect;
		effect = effect.effect;
	}

	// Convert to an object
	effect = { effect: effect };

	// Catch (effect, null, ...)
	if ( options == null ) {
		options = {};
	}

	// Catch (effect, callback)
	if ( $.isFunction( options ) ) {
		callback = options;
		speed = null;
		options = {};
	}

	// Catch (effect, speed, ?)
	if ( typeof options === "number" || $.fx.speeds[ options ] ) {
		callback = speed;
		speed = options;
		options = {};
	}

	// Catch (effect, options, callback)
	if ( $.isFunction( speed ) ) {
		callback = speed;
		speed = null;
	}

	// Add options to effect
	if ( options ) {
		$.extend( effect, options );
	}

	speed = speed || options.duration;
	effect.duration = $.fx.off ? 0 :
		typeof speed === "number" ? speed :
		speed in $.fx.speeds ? $.fx.speeds[ speed ] :
		$.fx.speeds._default;

	effect.complete = callback || options.complete;

	return effect;
}

function standardAnimationOption( option ) {

	// Valid standard speeds (nothing, number, named speed)
	if ( !option || typeof option === "number" || $.fx.speeds[ option ] ) {
		return true;
	}

	// Invalid strings - treat as "normal" speed
	if ( typeof option === "string" && !$.effects.effect[ option ] ) {
		return true;
	}

	// Complete callback
	if ( $.isFunction( option ) ) {
		return true;
	}

	// Options hash (but not naming an effect)
	if ( typeof option === "object" && !option.effect ) {
		return true;
	}

	// Didn't match any standard API
	return false;
}

$.fn.extend( {
	effect: function( /* effect, options, speed, callback */ ) {
		var args = _normalizeArguments.apply( this, arguments ),
			effectMethod = $.effects.effect[ args.effect ],
			defaultMode = effectMethod.mode,
			queue = args.queue,
			queueName = queue || "fx",
			complete = args.complete,
			mode = args.mode,
			modes = [],
			prefilter = function( next ) {
				var el = $( this ),
					normalizedMode = $.effects.mode( el, mode ) || defaultMode;

				// Sentinel for duck-punching the :animated psuedo-selector
				el.data( dataSpaceAnimated, true );

				// Save effect mode for later use,
				// we can't just call $.effects.mode again later,
				// as the .show() below destroys the initial state
				modes.push( normalizedMode );

				// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13
				if ( defaultMode && ( normalizedMode === "show" ||
						( normalizedMode === defaultMode && normalizedMode === "hide" ) ) ) {
					el.show();
				}

				if ( !defaultMode || normalizedMode !== "none" ) {
					$.effects.saveStyle( el );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			};

		if ( $.fx.off || !effectMethod ) {

			// Delegate to the original method (e.g., .show()) if possible
			if ( mode ) {
				return this[ mode ]( args.duration, complete );
			} else {
				return this.each( function() {
					if ( complete ) {
						complete.call( this );
					}
				} );
			}
		}

		function run( next ) {
			var elem = $( this );

			function cleanup() {
				elem.removeData( dataSpaceAnimated );

				$.effects.cleanUp( elem );

				if ( args.mode === "hide" ) {
					elem.hide();
				}

				done();
			}

			function done() {
				if ( $.isFunction( complete ) ) {
					complete.call( elem[ 0 ] );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			}

			// Override mode option on a per element basis,
			// as toggle can be either show or hide depending on element state
			args.mode = modes.shift();

			if ( $.uiBackCompat !== false && !defaultMode ) {
				if ( elem.is( ":hidden" ) ? mode === "hide" : mode === "show" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, done );
				}
			} else {
				if ( args.mode === "none" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, cleanup );
				}
			}
		}

		// Run prefilter on all elements first to ensure that
		// any showing or hiding happens before placeholder creation,
		// which ensures that any layout changes are correctly captured.
		return queue === false ?
			this.each( prefilter ).each( run ) :
			this.queue( queueName, prefilter ).queue( queueName, run );
	},

	show: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "show";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.show ),

	hide: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "hide";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.hide ),

	toggle: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) || typeof option === "boolean" ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "toggle";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.toggle ),

	cssUnit: function( key ) {
		var style = this.css( key ),
			val = [];

		$.each( [ "em", "px", "%", "pt" ], function( i, unit ) {
			if ( style.indexOf( unit ) > 0 ) {
				val = [ parseFloat( style ), unit ];
			}
		} );
		return val;
	},

	cssClip: function( clipObj ) {
		if ( clipObj ) {
			return this.css( "clip", "rect(" + clipObj.top + "px " + clipObj.right + "px " +
				clipObj.bottom + "px " + clipObj.left + "px)" );
		}
		return parseClip( this.css( "clip" ), this );
	},

	transfer: function( options, done ) {
		var element = $( this ),
			target = $( options.to ),
			targetFixed = target.css( "position" ) === "fixed",
			body = $( "body" ),
			fixTop = targetFixed ? body.scrollTop() : 0,
			fixLeft = targetFixed ? body.scrollLeft() : 0,
			endPosition = target.offset(),
			animation = {
				top: endPosition.top - fixTop,
				left: endPosition.left - fixLeft,
				height: target.innerHeight(),
				width: target.innerWidth()
			},
			startPosition = element.offset(),
			transfer = $( "<div class='ui-effects-transfer'></div>" )
				.appendTo( "body" )
				.addClass( options.className )
				.css( {
					top: startPosition.top - fixTop,
					left: startPosition.left - fixLeft,
					height: element.innerHeight(),
					width: element.innerWidth(),
					position: targetFixed ? "fixed" : "absolute"
				} )
				.animate( animation, options.duration, options.easing, function() {
					transfer.remove();
					if ( $.isFunction( done ) ) {
						done();
					}
				} );
	}
} );

function parseClip( str, element ) {
		var outerWidth = element.outerWidth(),
			outerHeight = element.outerHeight(),
			clipRegex = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
			values = clipRegex.exec( str ) || [ "", 0, outerWidth, outerHeight, 0 ];

		return {
			top: parseFloat( values[ 1 ] ) || 0,
			right: values[ 2 ] === "auto" ? outerWidth : parseFloat( values[ 2 ] ),
			bottom: values[ 3 ] === "auto" ? outerHeight : parseFloat( values[ 3 ] ),
			left: parseFloat( values[ 4 ] ) || 0
		};
}

$.fx.step.clip = function( fx ) {
	if ( !fx.clipInit ) {
		fx.start = $( fx.elem ).cssClip();
		if ( typeof fx.end === "string" ) {
			fx.end = parseClip( fx.end, fx.elem );
		}
		fx.clipInit = true;
	}

	$( fx.elem ).cssClip( {
		top: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,
		right: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,
		bottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,
		left: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left
	} );
};

} )();

/******************************************************************************/
/*********************************** EASING ***********************************/
/******************************************************************************/

( function() {

// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)

var baseEasings = {};

$.each( [ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function( i, name ) {
	baseEasings[ name ] = function( p ) {
		return Math.pow( p, i + 2 );
	};
} );

$.extend( baseEasings, {
	Sine: function( p ) {
		return 1 - Math.cos( p * Math.PI / 2 );
	},
	Circ: function( p ) {
		return 1 - Math.sqrt( 1 - p * p );
	},
	Elastic: function( p ) {
		return p === 0 || p === 1 ? p :
			-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );
	},
	Back: function( p ) {
		return p * p * ( 3 * p - 2 );
	},
	Bounce: function( p ) {
		var pow2,
			bounce = 4;

		while ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}
		return 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );
	}
} );

$.each( baseEasings, function( name, easeIn ) {
	$.easing[ "easeIn" + name ] = easeIn;
	$.easing[ "easeOut" + name ] = function( p ) {
		return 1 - easeIn( 1 - p );
	};
	$.easing[ "easeInOut" + name ] = function( p ) {
		return p < 0.5 ?
			easeIn( p * 2 ) / 2 :
			1 - easeIn( p * -2 + 2 ) / 2;
	};
} );

} )();

return $.effects;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-blind.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-blind.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Blind Effect
//>>group: Effects
//>>description: Blinds the element.
//>>docs: http://api.jqueryui.com/blind-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "blind", "hide", function( options, done ) {
	var map = {
			up: [ "bottom", "top" ],
			vertical: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			horizontal: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		element = $( this ),
		direction = options.direction || "up",
		start = element.cssClip(),
		animate = { clip: $.extend( {}, start ) },
		placeholder = $.effects.createPlaceholder( element );

	animate.clip[ map[ direction ][ 0 ] ] = animate.clip[ map[ direction ][ 1 ] ];

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animate ) );
		}

		animate.clip = start;
	}

	if ( placeholder ) {
		placeholder.animate( $.effects.clipToBox( animate ), options.duration, options.easing );
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-bounce.js":
/*!************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-bounce.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Bounce 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Bounce Effect
//>>group: Effects
//>>description: Bounces an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/bounce-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "bounce", function( options, done ) {
	var upAnim, downAnim, refValue,
		element = $( this ),

		// Defaults:
		mode = options.mode,
		hide = mode === "hide",
		show = mode === "show",
		direction = options.direction || "up",
		distance = options.distance,
		times = options.times || 5,

		// Number of internal animations
		anims = times * 2 + ( show || hide ? 1 : 0 ),
		speed = options.duration / anims,
		easing = options.easing,

		// Utility:
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ),
		i = 0,

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	refValue = element.css( ref );

	// Default distance for the BIGGEST bounce is the outer Distance / 3
	if ( !distance ) {
		distance = element[ ref === "top" ? "outerHeight" : "outerWidth" ]() / 3;
	}

	if ( show ) {
		downAnim = { opacity: 1 };
		downAnim[ ref ] = refValue;

		// If we are showing, force opacity 0 and set the initial position
		// then do the "first" animation
		element
			.css( "opacity", 0 )
			.css( ref, motion ? -distance * 2 : distance * 2 )
			.animate( downAnim, speed, easing );
	}

	// Start at the smallest distance if we are hiding
	if ( hide ) {
		distance = distance / Math.pow( 2, times - 1 );
	}

	downAnim = {};
	downAnim[ ref ] = refValue;

	// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here
	for ( ; i < times; i++ ) {
		upAnim = {};
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element
			.animate( upAnim, speed, easing )
			.animate( downAnim, speed, easing );

		distance = hide ? distance * 2 : distance / 2;
	}

	// Last Bounce when Hiding
	if ( hide ) {
		upAnim = { opacity: 0 };
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element.animate( upAnim, speed, easing );
	}

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-clip.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-clip.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Clip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Clip Effect
//>>group: Effects
//>>description: Clips the element on and off like an old TV.
//>>docs: http://api.jqueryui.com/clip-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "clip", "hide", function( options, done ) {
	var start,
		animate = {},
		element = $( this ),
		direction = options.direction || "vertical",
		both = direction === "both",
		horizontal = both || direction === "horizontal",
		vertical = both || direction === "vertical";

	start = element.cssClip();
	animate.clip = {
		top: vertical ? ( start.bottom - start.top ) / 2 : start.top,
		right: horizontal ? ( start.right - start.left ) / 2 : start.right,
		bottom: vertical ? ( start.bottom - start.top ) / 2 : start.bottom,
		left: horizontal ? ( start.right - start.left ) / 2 : start.left
	};

	$.effects.createPlaceholder( element );

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		animate.clip = start;
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-drop.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-drop.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Drop 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Drop Effect
//>>group: Effects
//>>description: Moves an element in one direction and hides it at the same time.
//>>docs: http://api.jqueryui.com/drop-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "drop", "hide", function( options, done ) {

	var distance,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ) ? "-=" : "+=",
		oppositeMotion = ( motion === "+=" ) ? "-=" : "+=",
		animation = {
			opacity: 0
		};

	$.effects.createPlaceholder( element );

	distance = options.distance ||
		element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ) / 2;

	animation[ ref ] = motion + distance;

	if ( show ) {
		element.css( animation );

		animation[ ref ] = oppositeMotion + distance;
		animation.opacity = 1;
	}

	// Animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-explode.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-explode.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Explode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Explode Effect
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Explodes an element in all directions into n pieces. Implodes an element to its original wholeness.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/explode-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "explode", "hide", function( options, done ) {

	var i, j, left, top, mx, my,
		rows = options.pieces ? Math.round( Math.sqrt( options.pieces ) ) : 3,
		cells = rows,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",

		// Show and then visibility:hidden the element before calculating offset
		offset = element.show().css( "visibility", "hidden" ).offset(),

		// Width and height of a piece
		width = Math.ceil( element.outerWidth() / cells ),
		height = Math.ceil( element.outerHeight() / rows ),
		pieces = [];

	// Children animate complete:
	function childComplete() {
		pieces.push( this );
		if ( pieces.length === rows * cells ) {
			animComplete();
		}
	}

	// Clone the element for each row and cell.
	for ( i = 0; i < rows; i++ ) { // ===>
		top = offset.top + i * height;
		my = i - ( rows - 1 ) / 2;

		for ( j = 0; j < cells; j++ ) { // |||
			left = offset.left + j * width;
			mx = j - ( cells - 1 ) / 2;

			// Create a clone of the now hidden main element that will be absolute positioned
			// within a wrapper div off the -left and -top equal to size of our pieces
			element
				.clone()
				.appendTo( "body" )
				.wrap( "<div></div>" )
				.css( {
					position: "absolute",
					visibility: "visible",
					left: -j * width,
					top: -i * height
				} )

				// Select the wrapper - make it overflow: hidden and absolute positioned based on
				// where the original was located +left and +top equal to the size of pieces
				.parent()
					.addClass( "ui-effects-explode" )
					.css( {
						position: "absolute",
						overflow: "hidden",
						width: width,
						height: height,
						left: left + ( show ? mx * width : 0 ),
						top: top + ( show ? my * height : 0 ),
						opacity: show ? 0 : 1
					} )
					.animate( {
						left: left + ( show ? 0 : mx * width ),
						top: top + ( show ? 0 : my * height ),
						opacity: show ? 1 : 0
					}, options.duration || 500, options.easing, childComplete );
		}
	}

	function animComplete() {
		element.css( {
			visibility: "visible"
		} );
		$( pieces ).remove();
		done();
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fade.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fade.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fade 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fade Effect
//>>group: Effects
//>>description: Fades the element.
//>>docs: http://api.jqueryui.com/fade-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fade", "toggle", function( options, done ) {
	var show = options.mode === "show";

	$( this )
		.css( "opacity", show ? 0 : 1 )
		.animate( {
			opacity: show ? 1 : 0
		}, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fold.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fold.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fold 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fold Effect
//>>group: Effects
//>>description: Folds an element first horizontally and then vertically.
//>>docs: http://api.jqueryui.com/fold-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fold", "hide", function( options, done ) {

	// Create element
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		size = options.size || 15,
		percent = /([0-9]+)%/.exec( size ),
		horizFirst = !!options.horizFirst,
		ref = horizFirst ? [ "right", "bottom" ] : [ "bottom", "right" ],
		duration = options.duration / 2,

		placeholder = $.effects.createPlaceholder( element ),

		start = element.cssClip(),
		animation1 = { clip: $.extend( {}, start ) },
		animation2 = { clip: $.extend( {}, start ) },

		distance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ],

		queuelen = element.queue().length;

	if ( percent ) {
		size = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];
	}
	animation1.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 1 ] ] = 0;

	if ( show ) {
		element.cssClip( animation2.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animation2 ) );
		}

		animation2.clip = start;
	}

	// Animate
	element
		.queue( function( next ) {
			if ( placeholder ) {
				placeholder
					.animate( $.effects.clipToBox( animation1 ), duration, options.easing )
					.animate( $.effects.clipToBox( animation2 ), duration, options.easing );
			}

			next();
		} )
		.animate( animation1, duration, options.easing )
		.animate( animation2, duration, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, 4 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-highlight.js":
/*!***************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-highlight.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Highlight 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Highlight Effect
//>>group: Effects
//>>description: Highlights the background of an element in a defined color for a custom duration.
//>>docs: http://api.jqueryui.com/highlight-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "highlight", "show", function( options, done ) {
	var element = $( this ),
		animation = {
			backgroundColor: element.css( "backgroundColor" )
		};

	if ( options.mode === "hide" ) {
		animation.opacity = 0;
	}

	$.effects.saveStyle( element );

	element
		.css( {
			backgroundImage: "none",
			backgroundColor: options.color || "#ffff99"
		} )
		.animate( animation, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-puff.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-puff.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Puff 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Puff Effect
//>>group: Effects
//>>description: Creates a puff effect by scaling the element up and hiding it at the same time.
//>>docs: http://api.jqueryui.com/puff-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "puff", "hide", function( options, done ) {
	var newOptions = $.extend( true, {}, options, {
		fade: true,
		percent: parseInt( options.percent, 10 ) || 150
	} );

	$.effects.effect.scale.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-pulsate.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Pulsate 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Pulsate Effect
//>>group: Effects
//>>description: Pulsates an element n times by changing the opacity to zero and back.
//>>docs: http://api.jqueryui.com/pulsate-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "pulsate", "show", function( options, done ) {
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		showhide = show || hide,

		// Showing or hiding leaves off the "last" animation
		anims = ( ( options.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),
		duration = options.duration / anims,
		animateTo = 0,
		i = 1,
		queuelen = element.queue().length;

	if ( show || !element.is( ":visible" ) ) {
		element.css( "opacity", 0 ).show();
		animateTo = 1;
	}

	// Anims - 1 opacity "toggles"
	for ( ; i < anims; i++ ) {
		element.animate( { opacity: animateTo }, duration, options.easing );
		animateTo = 1 - animateTo;
	}

	element.animate( { opacity: animateTo }, duration, options.easing );

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-scale.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-scale.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Scale 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Scale Effect
//>>group: Effects
//>>description: Grows or shrinks an element and its content.
//>>docs: http://api.jqueryui.com/scale-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "scale", function( options, done ) {

	// Create element
	var el = $( this ),
		mode = options.mode,
		percent = parseInt( options.percent, 10 ) ||
			( parseInt( options.percent, 10 ) === 0 ? 0 : ( mode !== "effect" ? 0 : 100 ) ),

		newOptions = $.extend( true, {
			from: $.effects.scaledDimensions( el ),
			to: $.effects.scaledDimensions( el, percent, options.direction || "both" ),
			origin: options.origin || [ "middle", "center" ]
		}, options );

	// Fade option to support puff
	if ( options.fade ) {
		newOptions.from.opacity = 1;
		newOptions.to.opacity = 0;
	}

	$.effects.effect.size.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-shake.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-shake.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Shake 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Shake Effect
//>>group: Effects
//>>description: Shakes an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/shake-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "shake", function( options, done ) {

	var i = 1,
		element = $( this ),
		direction = options.direction || "left",
		distance = options.distance || 20,
		times = options.times || 3,
		anims = times * 2 + 1,
		speed = Math.round( options.duration / anims ),
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		animation = {},
		animation1 = {},
		animation2 = {},

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	// Animation
	animation[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance;
	animation1[ ref ] = ( positiveMotion ? "+=" : "-=" ) + distance * 2;
	animation2[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance * 2;

	// Animate
	element.animate( animation, speed, options.easing );

	// Shakes
	for ( ; i < times; i++ ) {
		element
			.animate( animation1, speed, options.easing )
			.animate( animation2, speed, options.easing );
	}

	element
		.animate( animation1, speed, options.easing )
		.animate( animation, speed / 2, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-size.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-size.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Size 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Size Effect
//>>group: Effects
//>>description: Resize an element to a specified width and height.
//>>docs: http://api.jqueryui.com/size-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "size", function( options, done ) {

	// Create element
	var baseline, factor, temp,
		element = $( this ),

		// Copy for children
		cProps = [ "fontSize" ],
		vProps = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ],
		hProps = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ],

		// Set options
		mode = options.mode,
		restore = mode !== "effect",
		scale = options.scale || "both",
		origin = options.origin || [ "middle", "center" ],
		position = element.css( "position" ),
		pos = element.position(),
		original = $.effects.scaledDimensions( element ),
		from = options.from || original,
		to = options.to || $.effects.scaledDimensions( element, 0 );

	$.effects.createPlaceholder( element );

	if ( mode === "show" ) {
		temp = from;
		from = to;
		to = temp;
	}

	// Set scaling factor
	factor = {
		from: {
			y: from.height / original.height,
			x: from.width / original.width
		},
		to: {
			y: to.height / original.height,
			x: to.width / original.width
		}
	};

	// Scale the css box
	if ( scale === "box" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, vProps, factor.from.y, from );
			to = $.effects.setTransition( element, vProps, factor.to.y, to );
		}

		// Horizontal props scaling
		if ( factor.from.x !== factor.to.x ) {
			from = $.effects.setTransition( element, hProps, factor.from.x, from );
			to = $.effects.setTransition( element, hProps, factor.to.x, to );
		}
	}

	// Scale the content
	if ( scale === "content" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, cProps, factor.from.y, from );
			to = $.effects.setTransition( element, cProps, factor.to.y, to );
		}
	}

	// Adjust the position properties based on the provided origin points
	if ( origin ) {
		baseline = $.effects.getBaseline( origin, original );
		from.top = ( original.outerHeight - from.outerHeight ) * baseline.y + pos.top;
		from.left = ( original.outerWidth - from.outerWidth ) * baseline.x + pos.left;
		to.top = ( original.outerHeight - to.outerHeight ) * baseline.y + pos.top;
		to.left = ( original.outerWidth - to.outerWidth ) * baseline.x + pos.left;
	}
	element.css( from );

	// Animate the children if desired
	if ( scale === "content" || scale === "both" ) {

		vProps = vProps.concat( [ "marginTop", "marginBottom" ] ).concat( cProps );
		hProps = hProps.concat( [ "marginLeft", "marginRight" ] );

		// Only animate children with width attributes specified
		// TODO: is this right? should we include anything with css width specified as well
		element.find( "*[width]" ).each( function() {
			var child = $( this ),
				childOriginal = $.effects.scaledDimensions( child ),
				childFrom = {
					height: childOriginal.height * factor.from.y,
					width: childOriginal.width * factor.from.x,
					outerHeight: childOriginal.outerHeight * factor.from.y,
					outerWidth: childOriginal.outerWidth * factor.from.x
				},
				childTo = {
					height: childOriginal.height * factor.to.y,
					width: childOriginal.width * factor.to.x,
					outerHeight: childOriginal.height * factor.to.y,
					outerWidth: childOriginal.width * factor.to.x
				};

			// Vertical props scaling
			if ( factor.from.y !== factor.to.y ) {
				childFrom = $.effects.setTransition( child, vProps, factor.from.y, childFrom );
				childTo = $.effects.setTransition( child, vProps, factor.to.y, childTo );
			}

			// Horizontal props scaling
			if ( factor.from.x !== factor.to.x ) {
				childFrom = $.effects.setTransition( child, hProps, factor.from.x, childFrom );
				childTo = $.effects.setTransition( child, hProps, factor.to.x, childTo );
			}

			if ( restore ) {
				$.effects.saveStyle( child );
			}

			// Animate children
			child.css( childFrom );
			child.animate( childTo, options.duration, options.easing, function() {

				// Restore children
				if ( restore ) {
					$.effects.restoreStyle( child );
				}
			} );
		} );
	}

	// Animate
	element.animate( to, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: function() {

			var offset = element.offset();

			if ( to.opacity === 0 ) {
				element.css( "opacity", from.opacity );
			}

			if ( !restore ) {
				element
					.css( "position", position === "static" ? "relative" : position )
					.offset( offset );

				// Need to save style here so that automatic style restoration
				// doesn't restore to the original styles from before the animation.
				$.effects.saveStyle( element );
			}

			done();
		}
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-slide.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-slide.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Slide 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slide Effect
//>>group: Effects
//>>description: Slides an element in and out of the viewport.
//>>docs: http://api.jqueryui.com/slide-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "slide", "show", function( options, done ) {
	var startClip, startRef,
		element = $( this ),
		map = {
			up: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		mode = options.mode,
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		distance = options.distance ||
			element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ),
		animation = {};

	$.effects.createPlaceholder( element );

	startClip = element.cssClip();
	startRef = element.position()[ ref ];

	// Define hide animation
	animation[ ref ] = ( positiveMotion ? -1 : 1 ) * distance + startRef;
	animation.clip = element.cssClip();
	animation.clip[ map[ direction ][ 1 ] ] = animation.clip[ map[ direction ][ 0 ] ];

	// Reverse the animation if we're showing
	if ( mode === "show" ) {
		element.cssClip( animation.clip );
		element.css( ref, animation[ ref ] );
		animation.clip = startClip;
		animation[ ref ] = startRef;
	}

	// Actually animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-transfer.js":
/*!**************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-transfer.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Transfer 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Transfer Effect
//>>group: Effects
//>>description: Displays a transfer effect from one element to another.
//>>docs: http://api.jqueryui.com/transfer-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var effect;
if ( $.uiBackCompat !== false ) {
	effect = $.effects.define( "transfer", function( options, done ) {
		$( this ).transfer( options, done );
	} );
}
return effect;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/ie.js":
/*!*****************************************!*\
  !*** ./node_modules/jquery-ui/ui/ie.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

// This file is deprecated
return $.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );
} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/keycode.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/keycode.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Keycode
//>>group: Core
//>>description: Provide keycodes as keynames
//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {
return $.ui.keyCode = {
	BACKSPACE: 8,
	COMMA: 188,
	DELETE: 46,
	DOWN: 40,
	END: 35,
	ENTER: 13,
	ESCAPE: 27,
	HOME: 36,
	LEFT: 37,
	PAGE_DOWN: 34,
	PAGE_UP: 33,
	PERIOD: 190,
	RIGHT: 39,
	SPACE: 32,
	TAB: 9,
	UP: 38
};

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/version.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/version.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

$.ui = $.ui || {};

return $.ui.version = "1.12.1";

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widget.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/widget.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Widget
//>>group: Core
//>>description: Provides a factory for creating stateful widgets with a common API.
//>>docs: http://api.jqueryui.com/jQuery.widget/
//>>demos: http://jqueryui.com/widget/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var widgetUuid = 0;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// Http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	// ProxiedPrototype allows the provided prototype to remain unmodified
	// so that it can be used as a mixin for multiple widgets (#8876)
	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( $.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	// Create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		// Allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// Allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	// Extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		// Copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),

		// Track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	} );

	basePrototype = new base();

	// We need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// Redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		// Remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {

				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );

				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			// If this is an empty collection, we need to have the instance method
			// return undefined instead of the jQuery instance
			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		// Callbacks
		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				// Element within the document
				element.ownerDocument :

				// Element is window or document
				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		// We can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		// Clean up events and states
		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			// Don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			// Handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			// We are doing this to create a new jQuery object because the _removeClass() call
			// on the next line is going to destroy the reference to the current elements being
			// tracked. We need to save a copy of this collection so that we can add the new classes
			// below.
			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			// We don't use _addClass() here, because that uses this.options.classes
			// for generating the string of classes. We want to use the value passed in from
			// _setOption(), this is the new value of the classes option which was passed to
			// _setOption(). We pass this value directly to _classes().
			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		// If the widget is becoming disabled, then nothing is interactive
		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					current = $( $.unique( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		this._on( options.element, {
			"remove": "_untrackClassesElement"
		} );

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		// No suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// No element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				// Allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// Copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName ).off( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		// The original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// Copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

return $.widget;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/mouse.js":
/*!****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/mouse.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Mouse
//>>group: Widgets
//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.
//>>docs: http://api.jqueryui.com/mouse/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../ie */ "./node_modules/jquery-ui/ui/ie.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var mouseHandled = false;
$( document ).on( "mouseup", function() {
	mouseHandled = false;
} );

return $.widget( "ui.mouse", {
	version: "1.12.1",
	options: {
		cancel: "input, textarea, button, select, option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.on( "mousedown." + this.widgetName, function( event ) {
				return that._mouseDown( event );
			} )
			.on( "click." + this.widgetName, function( event ) {
				if ( true === $.data( event.target, that.widgetName + ".preventClickEvent" ) ) {
					$.removeData( event.target, that.widgetName + ".preventClickEvent" );
					event.stopImmediatePropagation();
					return false;
				}
			} );

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.off( "." + this.widgetName );
		if ( this._mouseMoveDelegate ) {
			this.document
				.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
				.off( "mouseup." + this.widgetName, this._mouseUpDelegate );
		}
	},

	_mouseDown: function( event ) {

		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// We may have missed mouseup (out of window)
		( this._mouseStarted && this._mouseUp( event ) );

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = ( event.which === 1 ),

			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = ( typeof this.options.cancel === "string" && event.target.nodeName ?
				$( event.target ).closest( this.options.cancel ).length : false );
		if ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if ( !this.mouseDelayMet ) {
			this._mouseDelayTimer = setTimeout( function() {
				that.mouseDelayMet = true;
			}, this.options.delay );
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted = ( this._mouseStart( event ) !== false );
			if ( !this._mouseStarted ) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if ( true === $.data( event.target, this.widgetName + ".preventClickEvent" ) ) {
			$.removeData( event.target, this.widgetName + ".preventClickEvent" );
		}

		// These delegates are required to keep context
		this._mouseMoveDelegate = function( event ) {
			return that._mouseMove( event );
		};
		this._mouseUpDelegate = function( event ) {
			return that._mouseUp( event );
		};

		this.document
			.on( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.on( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function( event ) {

		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {

			// IE mouseup check - mouseup happened when mouse was out of window
			if ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&
					!event.button ) {
				return this._mouseUp( event );

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {

				// Support: Safari <=8 - 9
				// Safari sets which to 0 if you press any of the following keys
				// during a drag (#14461)
				if ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||
						event.originalEvent.metaKey || event.originalEvent.shiftKey ) {
					this.ignoreMissingWhich = true;
				} else if ( !this.ignoreMissingWhich ) {
					return this._mouseUp( event );
				}
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if ( this._mouseStarted ) {
			this._mouseDrag( event );
			return event.preventDefault();
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted =
				( this._mouseStart( this._mouseDownEvent, event ) !== false );
			( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );
		}

		return !this._mouseStarted;
	},

	_mouseUp: function( event ) {
		this.document
			.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.off( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if ( this._mouseStarted ) {
			this._mouseStarted = false;

			if ( event.target === this._mouseDownEvent.target ) {
				$.data( event.target, this.widgetName + ".preventClickEvent", true );
			}

			this._mouseStop( event );
		}

		if ( this._mouseDelayTimer ) {
			clearTimeout( this._mouseDelayTimer );
			delete this._mouseDelayTimer;
		}

		this.ignoreMissingWhich = false;
		mouseHandled = false;
		event.preventDefault();
	},

	_mouseDistanceMet: function( event ) {
		return ( Math.max(
				Math.abs( this._mouseDownEvent.pageX - event.pageX ),
				Math.abs( this._mouseDownEvent.pageY - event.pageY )
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function( /* event */ ) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function( /* event */ ) {},
	_mouseDrag: function( /* event */ ) {},
	_mouseStop: function( /* event */ ) {},
	_mouseCapture: function( /* event */ ) { return true; }
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/slider.js":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/slider.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slider
//>>group: Widgets
//>>description: Displays a flexible slider with ranges and accessibility via keyboard.
//>>docs: http://api.jqueryui.com/slider/
//>>demos: http://jqueryui.com/slider/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/slider.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ./mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js"),
			__webpack_require__(/*! ../keycode */ "./node_modules/jquery-ui/ui/keycode.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.widget( "ui.slider", $.ui.mouse, {
	version: "1.12.1",
	widgetEventPrefix: "slide",

	options: {
		animate: false,
		classes: {
			"ui-slider": "ui-corner-all",
			"ui-slider-handle": "ui-corner-all",

			// Note: ui-widget-header isn't the most fittingly semantic framework class for this
			// element, but worked best visually with a variety of themes
			"ui-slider-range": "ui-corner-all ui-widget-header"
		},
		distance: 0,
		max: 100,
		min: 0,
		orientation: "horizontal",
		range: false,
		step: 1,
		value: 0,
		values: null,

		// Callbacks
		change: null,
		slide: null,
		start: null,
		stop: null
	},

	// Number of pages in a slider
	// (how many times can you page up/down to go through the whole range)
	numPages: 5,

	_create: function() {
		this._keySliding = false;
		this._mouseSliding = false;
		this._animateOff = true;
		this._handleIndex = null;
		this._detectOrientation();
		this._mouseInit();
		this._calculateNewMax();

		this._addClass( "ui-slider ui-slider-" + this.orientation,
			"ui-widget ui-widget-content" );

		this._refresh();

		this._animateOff = false;
	},

	_refresh: function() {
		this._createRange();
		this._createHandles();
		this._setupEvents();
		this._refreshValue();
	},

	_createHandles: function() {
		var i, handleCount,
			options = this.options,
			existingHandles = this.element.find( ".ui-slider-handle" ),
			handle = "<span tabindex='0'></span>",
			handles = [];

		handleCount = ( options.values && options.values.length ) || 1;

		if ( existingHandles.length > handleCount ) {
			existingHandles.slice( handleCount ).remove();
			existingHandles = existingHandles.slice( 0, handleCount );
		}

		for ( i = existingHandles.length; i < handleCount; i++ ) {
			handles.push( handle );
		}

		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );

		this._addClass( this.handles, "ui-slider-handle", "ui-state-default" );

		this.handle = this.handles.eq( 0 );

		this.handles.each( function( i ) {
			$( this )
				.data( "ui-slider-handle-index", i )
				.attr( "tabIndex", 0 );
		} );
	},

	_createRange: function() {
		var options = this.options;

		if ( options.range ) {
			if ( options.range === true ) {
				if ( !options.values ) {
					options.values = [ this._valueMin(), this._valueMin() ];
				} else if ( options.values.length && options.values.length !== 2 ) {
					options.values = [ options.values[ 0 ], options.values[ 0 ] ];
				} else if ( $.isArray( options.values ) ) {
					options.values = options.values.slice( 0 );
				}
			}

			if ( !this.range || !this.range.length ) {
				this.range = $( "<div>" )
					.appendTo( this.element );

				this._addClass( this.range, "ui-slider-range" );
			} else {
				this._removeClass( this.range, "ui-slider-range-min ui-slider-range-max" );

				// Handle range switching from true to min/max
				this.range.css( {
					"left": "",
					"bottom": ""
				} );
			}
			if ( options.range === "min" || options.range === "max" ) {
				this._addClass( this.range, "ui-slider-range-" + options.range );
			}
		} else {
			if ( this.range ) {
				this.range.remove();
			}
			this.range = null;
		}
	},

	_setupEvents: function() {
		this._off( this.handles );
		this._on( this.handles, this._handleEvents );
		this._hoverable( this.handles );
		this._focusable( this.handles );
	},

	_destroy: function() {
		this.handles.remove();
		if ( this.range ) {
			this.range.remove();
		}

		this._mouseDestroy();
	},

	_mouseCapture: function( event ) {
		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
			that = this,
			o = this.options;

		if ( o.disabled ) {
			return false;
		}

		this.elementSize = {
			width: this.element.outerWidth(),
			height: this.element.outerHeight()
		};
		this.elementOffset = this.element.offset();

		position = { x: event.pageX, y: event.pageY };
		normValue = this._normValueFromMouse( position );
		distance = this._valueMax() - this._valueMin() + 1;
		this.handles.each( function( i ) {
			var thisDistance = Math.abs( normValue - that.values( i ) );
			if ( ( distance > thisDistance ) ||
				( distance === thisDistance &&
					( i === that._lastChangedValue || that.values( i ) === o.min ) ) ) {
				distance = thisDistance;
				closestHandle = $( this );
				index = i;
			}
		} );

		allowed = this._start( event, index );
		if ( allowed === false ) {
			return false;
		}
		this._mouseSliding = true;

		this._handleIndex = index;

		this._addClass( closestHandle, null, "ui-state-active" );
		closestHandle.trigger( "focus" );

		offset = closestHandle.offset();
		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
			top: event.pageY - offset.top -
				( closestHandle.height() / 2 ) -
				( parseInt( closestHandle.css( "borderTopWidth" ), 10 ) || 0 ) -
				( parseInt( closestHandle.css( "borderBottomWidth" ), 10 ) || 0 ) +
				( parseInt( closestHandle.css( "marginTop" ), 10 ) || 0 )
		};

		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
			this._slide( event, index, normValue );
		}
		this._animateOff = true;
		return true;
	},

	_mouseStart: function() {
		return true;
	},

	_mouseDrag: function( event ) {
		var position = { x: event.pageX, y: event.pageY },
			normValue = this._normValueFromMouse( position );

		this._slide( event, this._handleIndex, normValue );

		return false;
	},

	_mouseStop: function( event ) {
		this._removeClass( this.handles, null, "ui-state-active" );
		this._mouseSliding = false;

		this._stop( event, this._handleIndex );
		this._change( event, this._handleIndex );

		this._handleIndex = null;
		this._clickOffset = null;
		this._animateOff = false;

		return false;
	},

	_detectOrientation: function() {
		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
	},

	_normValueFromMouse: function( position ) {
		var pixelTotal,
			pixelMouse,
			percentMouse,
			valueTotal,
			valueMouse;

		if ( this.orientation === "horizontal" ) {
			pixelTotal = this.elementSize.width;
			pixelMouse = position.x - this.elementOffset.left -
				( this._clickOffset ? this._clickOffset.left : 0 );
		} else {
			pixelTotal = this.elementSize.height;
			pixelMouse = position.y - this.elementOffset.top -
				( this._clickOffset ? this._clickOffset.top : 0 );
		}

		percentMouse = ( pixelMouse / pixelTotal );
		if ( percentMouse > 1 ) {
			percentMouse = 1;
		}
		if ( percentMouse < 0 ) {
			percentMouse = 0;
		}
		if ( this.orientation === "vertical" ) {
			percentMouse = 1 - percentMouse;
		}

		valueTotal = this._valueMax() - this._valueMin();
		valueMouse = this._valueMin() + percentMouse * valueTotal;

		return this._trimAlignValue( valueMouse );
	},

	_uiHash: function( index, value, values ) {
		var uiHash = {
			handle: this.handles[ index ],
			handleIndex: index,
			value: value !== undefined ? value : this.value()
		};

		if ( this._hasMultipleValues() ) {
			uiHash.value = value !== undefined ? value : this.values( index );
			uiHash.values = values || this.values();
		}

		return uiHash;
	},

	_hasMultipleValues: function() {
		return this.options.values && this.options.values.length;
	},

	_start: function( event, index ) {
		return this._trigger( "start", event, this._uiHash( index ) );
	},

	_slide: function( event, index, newVal ) {
		var allowed, otherVal,
			currentValue = this.value(),
			newValues = this.values();

		if ( this._hasMultipleValues() ) {
			otherVal = this.values( index ? 0 : 1 );
			currentValue = this.values( index );

			if ( this.options.values.length === 2 && this.options.range === true ) {
				newVal =  index === 0 ? Math.min( otherVal, newVal ) : Math.max( otherVal, newVal );
			}

			newValues[ index ] = newVal;
		}

		if ( newVal === currentValue ) {
			return;
		}

		allowed = this._trigger( "slide", event, this._uiHash( index, newVal, newValues ) );

		// A slide can be canceled by returning false from the slide callback
		if ( allowed === false ) {
			return;
		}

		if ( this._hasMultipleValues() ) {
			this.values( index, newVal );
		} else {
			this.value( newVal );
		}
	},

	_stop: function( event, index ) {
		this._trigger( "stop", event, this._uiHash( index ) );
	},

	_change: function( event, index ) {
		if ( !this._keySliding && !this._mouseSliding ) {

			//store the last changed value index for reference when handles overlap
			this._lastChangedValue = index;
			this._trigger( "change", event, this._uiHash( index ) );
		}
	},

	value: function( newValue ) {
		if ( arguments.length ) {
			this.options.value = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, 0 );
			return;
		}

		return this._value();
	},

	values: function( index, newValue ) {
		var vals,
			newValues,
			i;

		if ( arguments.length > 1 ) {
			this.options.values[ index ] = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, index );
			return;
		}

		if ( arguments.length ) {
			if ( $.isArray( arguments[ 0 ] ) ) {
				vals = this.options.values;
				newValues = arguments[ 0 ];
				for ( i = 0; i < vals.length; i += 1 ) {
					vals[ i ] = this._trimAlignValue( newValues[ i ] );
					this._change( null, i );
				}
				this._refreshValue();
			} else {
				if ( this._hasMultipleValues() ) {
					return this._values( index );
				} else {
					return this.value();
				}
			}
		} else {
			return this._values();
		}
	},

	_setOption: function( key, value ) {
		var i,
			valsLength = 0;

		if ( key === "range" && this.options.range === true ) {
			if ( value === "min" ) {
				this.options.value = this._values( 0 );
				this.options.values = null;
			} else if ( value === "max" ) {
				this.options.value = this._values( this.options.values.length - 1 );
				this.options.values = null;
			}
		}

		if ( $.isArray( this.options.values ) ) {
			valsLength = this.options.values.length;
		}

		this._super( key, value );

		switch ( key ) {
			case "orientation":
				this._detectOrientation();
				this._removeClass( "ui-slider-horizontal ui-slider-vertical" )
					._addClass( "ui-slider-" + this.orientation );
				this._refreshValue();
				if ( this.options.range ) {
					this._refreshRange( value );
				}

				// Reset positioning from previous orientation
				this.handles.css( value === "horizontal" ? "bottom" : "left", "" );
				break;
			case "value":
				this._animateOff = true;
				this._refreshValue();
				this._change( null, 0 );
				this._animateOff = false;
				break;
			case "values":
				this._animateOff = true;
				this._refreshValue();

				// Start from the last handle to prevent unreachable handles (#9046)
				for ( i = valsLength - 1; i >= 0; i-- ) {
					this._change( null, i );
				}
				this._animateOff = false;
				break;
			case "step":
			case "min":
			case "max":
				this._animateOff = true;
				this._calculateNewMax();
				this._refreshValue();
				this._animateOff = false;
				break;
			case "range":
				this._animateOff = true;
				this._refresh();
				this._animateOff = false;
				break;
		}
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this._toggleClass( null, "ui-state-disabled", !!value );
	},

	//internal value getter
	// _value() returns value trimmed by min and max, aligned by step
	_value: function() {
		var val = this.options.value;
		val = this._trimAlignValue( val );

		return val;
	},

	//internal values getter
	// _values() returns array of values trimmed by min and max, aligned by step
	// _values( index ) returns single value trimmed by min and max, aligned by step
	_values: function( index ) {
		var val,
			vals,
			i;

		if ( arguments.length ) {
			val = this.options.values[ index ];
			val = this._trimAlignValue( val );

			return val;
		} else if ( this._hasMultipleValues() ) {

			// .slice() creates a copy of the array
			// this copy gets trimmed by min and max and then returned
			vals = this.options.values.slice();
			for ( i = 0; i < vals.length; i += 1 ) {
				vals[ i ] = this._trimAlignValue( vals[ i ] );
			}

			return vals;
		} else {
			return [];
		}
	},

	// Returns the step-aligned value that val is closest to, between (inclusive) min and max
	_trimAlignValue: function( val ) {
		if ( val <= this._valueMin() ) {
			return this._valueMin();
		}
		if ( val >= this._valueMax() ) {
			return this._valueMax();
		}
		var step = ( this.options.step > 0 ) ? this.options.step : 1,
			valModStep = ( val - this._valueMin() ) % step,
			alignValue = val - valModStep;

		if ( Math.abs( valModStep ) * 2 >= step ) {
			alignValue += ( valModStep > 0 ) ? step : ( -step );
		}

		// Since JavaScript has problems with large floats, round
		// the final value to 5 digits after the decimal point (see #4124)
		return parseFloat( alignValue.toFixed( 5 ) );
	},

	_calculateNewMax: function() {
		var max = this.options.max,
			min = this._valueMin(),
			step = this.options.step,
			aboveMin = Math.round( ( max - min ) / step ) * step;
		max = aboveMin + min;
		if ( max > this.options.max ) {

			//If max is not divisible by step, rounding off may increase its value
			max -= step;
		}
		this.max = parseFloat( max.toFixed( this._precision() ) );
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_valueMin: function() {
		return this.options.min;
	},

	_valueMax: function() {
		return this.max;
	},

	_refreshRange: function( orientation ) {
		if ( orientation === "vertical" ) {
			this.range.css( { "width": "", "left": "" } );
		}
		if ( orientation === "horizontal" ) {
			this.range.css( { "height": "", "bottom": "" } );
		}
	},

	_refreshValue: function() {
		var lastValPercent, valPercent, value, valueMin, valueMax,
			oRange = this.options.range,
			o = this.options,
			that = this,
			animate = ( !this._animateOff ) ? o.animate : false,
			_set = {};

		if ( this._hasMultipleValues() ) {
			this.handles.each( function( i ) {
				valPercent = ( that.values( i ) - that._valueMin() ) / ( that._valueMax() -
					that._valueMin() ) * 100;
				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
				if ( that.options.range === true ) {
					if ( that.orientation === "horizontal" ) {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								left: valPercent + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								width: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					} else {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								bottom: ( valPercent ) + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								height: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					}
				}
				lastValPercent = valPercent;
			} );
		} else {
			value = this.value();
			valueMin = this._valueMin();
			valueMax = this._valueMax();
			valPercent = ( valueMax !== valueMin ) ?
					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
					0;
			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );

			if ( oRange === "min" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
			if ( oRange === "min" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
		}
	},

	_handleEvents: {
		keydown: function( event ) {
			var allowed, curVal, newVal, step,
				index = $( event.target ).data( "ui-slider-handle-index" );

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_UP:
				case $.ui.keyCode.PAGE_DOWN:
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					event.preventDefault();
					if ( !this._keySliding ) {
						this._keySliding = true;
						this._addClass( $( event.target ), null, "ui-state-active" );
						allowed = this._start( event, index );
						if ( allowed === false ) {
							return;
						}
					}
					break;
			}

			step = this.options.step;
			if ( this._hasMultipleValues() ) {
				curVal = newVal = this.values( index );
			} else {
				curVal = newVal = this.value();
			}

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
					newVal = this._valueMin();
					break;
				case $.ui.keyCode.END:
					newVal = this._valueMax();
					break;
				case $.ui.keyCode.PAGE_UP:
					newVal = this._trimAlignValue(
						curVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )
					);
					break;
				case $.ui.keyCode.PAGE_DOWN:
					newVal = this._trimAlignValue(
						curVal - ( ( this._valueMax() - this._valueMin() ) / this.numPages ) );
					break;
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
					if ( curVal === this._valueMax() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal + step );
					break;
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					if ( curVal === this._valueMin() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal - step );
					break;
			}

			this._slide( event, index, newVal );
		},
		keyup: function( event ) {
			var index = $( event.target ).data( "ui-slider-handle-index" );

			if ( this._keySliding ) {
				this._keySliding = false;
				this._stop( event, index );
				this._change( event, index );
				this._removeClass( $( event.target ), null, "ui-state-active" );
			}
		}
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Annotation.js":
/*!***************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Annotation.js ***!
  \***************************************************************/
/*! exports provided: Annotation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Annotation", function() { return Annotation; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Annotation = /** @class */ (function (_super) {
    __extends(Annotation, _super);
    function Annotation(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    Annotation.prototype.getBody = function () {
        var bodies = [];
        var body = this.getProperty("body");
        // todo: make this a generic "property that can be an object or array enumerator" util
        if (body) {
            if (Array.isArray(body)) {
                for (var i = 0; i < body.length; i++) {
                    var b = body[i];
                    if (b.items) {
                        for (var i_1 = 0; i_1 < b.items.length; i_1++) {
                            // todo: don't ignore that it's a choice. maybe add isChoice() to IAnnotationBody?
                            var c = b.items[i_1];
                            bodies.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationBody"](c, this.options));
                        }
                    }
                    else {
                        bodies.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationBody"](b, this.options));
                    }
                }
            }
            else if (body.items) {
                for (var i = 0; i < body.items.length; i++) {
                    var b = body.items[i];
                    bodies.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationBody"](b, this.options));
                }
            }
            else {
                bodies.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationBody"](body, this.options));
            }
        }
        return bodies;
    };
    Annotation.prototype.getMotivation = function () {
        var motivation = this.getProperty("motivation");
        if (motivation) {
            //const key: string | undefined = Object.keys(AnnotationMotivationEnum).find(k => AnnotationMotivationEnum[k] === motivation);
            return motivation;
        }
        return null;
    };
    // open annotation
    Annotation.prototype.getOn = function () {
        return this.getProperty("on");
    };
    Annotation.prototype.getTarget = function () {
        return this.getProperty("target");
    };
    Annotation.prototype.getResource = function () {
        return new _internal__WEBPACK_IMPORTED_MODULE_0__["Resource"](this.getProperty("resource"), this.options);
    };
    return Annotation;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=Annotation.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/AnnotationBody.js":
/*!*******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/AnnotationBody.js ***!
  \*******************************************************************/
/*! exports provided: AnnotationBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationBody", function() { return AnnotationBody; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnotationBody = /** @class */ (function (_super) {
    __extends(AnnotationBody, _super);
    function AnnotationBody(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    AnnotationBody.prototype.getFormat = function () {
        var format = this.getProperty("format");
        if (format) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getMediaType(format);
        }
        return null;
    };
    AnnotationBody.prototype.getType = function () {
        var type = this.getProperty("type");
        if (type) {
            return (_internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(this.getProperty("type")));
        }
        return null;
    };
    AnnotationBody.prototype.getWidth = function () {
        return this.getProperty("width");
    };
    AnnotationBody.prototype.getHeight = function () {
        return this.getProperty("height");
    };
    return AnnotationBody;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=AnnotationBody.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/AnnotationList.js":
/*!*******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/AnnotationList.js ***!
  \*******************************************************************/
/*! exports provided: AnnotationList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationList", function() { return AnnotationList; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnotationList = /** @class */ (function (_super) {
    __extends(AnnotationList, _super);
    function AnnotationList(label, jsonld, options) {
        var _this = _super.call(this, jsonld) || this;
        _this.label = label;
        _this.options = options;
        return _this;
    }
    AnnotationList.prototype.getIIIFResourceType = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(this.getProperty("type"));
    };
    AnnotationList.prototype.getLabel = function () {
        return this.label;
    };
    AnnotationList.prototype.getResources = function () {
        var _this = this;
        var resources = this.getProperty("resources");
        return resources.map(function (resource) { return new _internal__WEBPACK_IMPORTED_MODULE_0__["Annotation"](resource, _this.options); });
    };
    AnnotationList.prototype.load = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.isLoaded) {
                resolve(_this);
            }
            else {
                var id = _this.__jsonld.id;
                if (!id) {
                    id = _this.__jsonld["@id"];
                }
                _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].loadManifest(id)
                    .then(function (data) {
                    _this.__jsonld = data;
                    _this.context = _this.getProperty("context");
                    _this.id = _this.getProperty("id");
                    _this.isLoaded = true;
                    resolve(_this);
                })
                    .catch(reject);
            }
        });
    };
    return AnnotationList;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["JSONLDResource"]));

//# sourceMappingURL=AnnotationList.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/AnnotationPage.js":
/*!*******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/AnnotationPage.js ***!
  \*******************************************************************/
/*! exports provided: AnnotationPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationPage", function() { return AnnotationPage; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnotationPage = /** @class */ (function (_super) {
    __extends(AnnotationPage, _super);
    function AnnotationPage(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    AnnotationPage.prototype.getItems = function () {
        return this.getProperty("items");
    };
    return AnnotationPage;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=AnnotationPage.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Canvas.js":
/*!***********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Canvas.js ***!
  \***********************************************************/
/*! exports provided: Canvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Canvas", function() { return Canvas; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Canvas = /** @class */ (function (_super) {
    __extends(Canvas, _super);
    function Canvas(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    // http://iiif.io/api/image/2.1/#canonical-uri-syntax
    Canvas.prototype.getCanonicalImageUri = function (w) {
        var id = null;
        var region = "full";
        var rotation = 0;
        var quality = "default";
        var width = w;
        var size;
        // if an info.json has been loaded
        if (this.externalResource &&
            this.externalResource.data &&
            this.externalResource.data["@id"]) {
            id = this.externalResource.data["@id"];
            if (!width) {
                width = this.externalResource.data.width;
            }
            if (this.externalResource.data["@context"]) {
                if (this.externalResource.data["@context"].indexOf("/1.0/context.json") >
                    -1 ||
                    this.externalResource.data["@context"].indexOf("/1.1/context.json") >
                        -1 ||
                    this.externalResource.data["@context"].indexOf("/1/context.json") > -1) {
                    quality = "native";
                }
            }
        }
        else {
            // info.json hasn't been loaded yet
            var images = this.getImages();
            if (images && images.length) {
                var firstImage = images[0];
                var resource = firstImage.getResource();
                var services = resource.getServices();
                if (!width) {
                    width = resource.getWidth();
                }
                if (services.length) {
                    var service = services[0];
                    id = service.id;
                    quality = _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getImageQuality(service.getProfile());
                }
                else if (width === resource.getWidth()) {
                    // if the passed width is the same as the resource width
                    // i.e. not looking for a thumbnail
                    // return the full size image.
                    // used for download options when loading static images.
                    return resource.id;
                }
            }
            // todo: should this be moved to getThumbUri?
            if (!id) {
                var thumbnail = this.getProperty("thumbnail");
                if (thumbnail) {
                    if (typeof thumbnail === "string") {
                        return thumbnail;
                    }
                    else {
                        if (thumbnail["@id"]) {
                            return thumbnail["@id"];
                        }
                        else if (thumbnail.length) {
                            return thumbnail[0].id;
                        }
                    }
                }
            }
        }
        size = width + ",";
        // trim off trailing '/'
        if (id && id.endsWith("/")) {
            id = id.substr(0, id.length - 1);
        }
        var uri = [id, region, size, rotation, quality + ".jpg"].join("/");
        return uri;
    };
    Canvas.prototype.getMaxDimensions = function () {
        var maxDimensions = null;
        var profile;
        if (this.externalResource &&
            this.externalResource.data &&
            this.externalResource.data.profile) {
            profile = this.externalResource.data.profile;
            if (Array.isArray(profile)) {
                profile = profile.filter(function (p) { return p["maxWidth" || false]; })[0];
                if (profile) {
                    maxDimensions = new _internal__WEBPACK_IMPORTED_MODULE_0__["Size"](profile.maxWidth, profile.maxHeight ? profile.maxHeight : profile.maxWidth);
                }
            }
        }
        return maxDimensions;
    };
    // Presentation API 3.0
    Canvas.prototype.getContent = function () {
        var content = [];
        var items = this.__jsonld.items || this.__jsonld.content;
        if (!items)
            return content;
        // should be contained in an AnnotationPage
        var annotationPage = null;
        if (items.length) {
            annotationPage = new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationPage"](items[0], this.options);
        }
        if (!annotationPage) {
            return content;
        }
        var annotations = annotationPage.getItems();
        for (var i = 0; i < annotations.length; i++) {
            var a = annotations[i];
            var annotation = new _internal__WEBPACK_IMPORTED_MODULE_0__["Annotation"](a, this.options);
            content.push(annotation);
        }
        return content;
    };
    Canvas.prototype.getDuration = function () {
        return this.getProperty("duration");
    };
    Canvas.prototype.getImages = function () {
        var images = [];
        if (!this.__jsonld.images)
            return images;
        for (var i = 0; i < this.__jsonld.images.length; i++) {
            var a = this.__jsonld.images[i];
            var annotation = new _internal__WEBPACK_IMPORTED_MODULE_0__["Annotation"](a, this.options);
            images.push(annotation);
        }
        return images;
    };
    Canvas.prototype.getIndex = function () {
        return this.getProperty("index");
    };
    Canvas.prototype.getOtherContent = function () {
        var _this = this;
        var otherContent = Array.isArray(this.getProperty("otherContent"))
            ? this.getProperty("otherContent")
            : [this.getProperty("otherContent")];
        var canonicalComparison = function (typeA, typeB) {
            if (typeof typeA !== "string" || typeof typeB !== "string") {
                return false;
            }
            return typeA.toLowerCase() === typeA.toLowerCase();
        };
        var otherPromises = otherContent
            .filter(function (otherContent) {
            return otherContent &&
                canonicalComparison(otherContent["@type"], "sc:AnnotationList");
        })
            .map(function (annotationList, i) {
            return new _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationList"](annotationList["label"] || "Annotation list " + i, annotationList, _this.options);
        })
            .map(function (annotationList) { return annotationList.load(); });
        return Promise.all(otherPromises);
    };
    // Prefer thumbnail service to image service if supplied and if
    // the thumbnail service can provide a satisfactory size +/- x pixels.
    // this is used to get thumb URIs *before* the info.json has been requested
    // and populate thumbnails in a viewer.
    // the publisher may also provide pre-computed fixed-size thumbs for better performance.
    //getThumbUri(width: number): string {
    //
    //    var uri;
    //    var images: IAnnotation[] = this.getImages();
    //
    //    if (images && images.length) {
    //        var firstImage = images[0];
    //        var resource: IResource = firstImage.getResource();
    //        var services: IService[] = resource.getServices();
    //
    //        for (let i = 0; i < services.length; i++) {
    //            var service: IService = services[i];
    //            var id = service.id;
    //
    //            if (!_endsWith(id, '/')) {
    //                id += '/';
    //            }
    //
    //            uri = id + 'full/' + width + ',/0/' + Utils.getImageQuality(service.getProfile()) + '.jpg';
    //        }
    //    }
    //
    //    return uri;
    //}
    //getType(): CanvasType {
    //    return new CanvasType(this.getProperty('@type').toLowerCase());
    //}
    Canvas.prototype.getWidth = function () {
        return this.getProperty("width");
    };
    Canvas.prototype.getHeight = function () {
        return this.getProperty("height");
    };
    return Canvas;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["Resource"]));

//# sourceMappingURL=Canvas.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Collection.js":
/*!***************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Collection.js ***!
  \***************************************************************/
/*! exports provided: Collection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collection", function() { return Collection; });
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var Collection = /** @class */ (function (_super) {
    __extends(Collection, _super);
    function Collection(jsonld, options) {
        var _this = _super.call(this, jsonld, options) || this;
        _this.items = [];
        _this._collections = null;
        _this._manifests = null;
        jsonld.__collection = _this;
        return _this;
    }
    Collection.prototype.getCollections = function () {
        if (this._collections) {
            return this._collections;
        }
        return (this._collections = (this.items.filter(function (m) { return m.isCollection(); })));
    };
    Collection.prototype.getManifests = function () {
        if (this._manifests) {
            return this._manifests;
        }
        return (this._manifests = (this.items.filter(function (m) { return m.isManifest(); })));
    };
    Collection.prototype.getCollectionByIndex = function (collectionIndex) {
        var collections = this.getCollections();
        var collection;
        for (var i = 0; i < collections.length; i++) {
            var c = collections[i];
            if (c.index === collectionIndex) {
                collection = c;
            }
        }
        if (collection) {
            collection.options.index = collectionIndex;
            // id for collection MUST be dereferenceable
            return collection.load();
        }
        else {
            throw new Error("Collection index not found");
        }
    };
    Collection.prototype.getManifestByIndex = function (manifestIndex) {
        var manifests = this.getManifests();
        var manifest;
        for (var i = 0; i < manifests.length; i++) {
            var m = manifests[i];
            if (m.index === manifestIndex) {
                manifest = m;
            }
        }
        if (manifest) {
            manifest.options.index = manifestIndex;
            return manifest.load();
        }
        else {
            throw new Error("Manifest index not found");
        }
    };
    Collection.prototype.getTotalCollections = function () {
        return this.getCollections().length;
    };
    Collection.prototype.getTotalManifests = function () {
        return this.getManifests().length;
    };
    Collection.prototype.getTotalItems = function () {
        return this.items.length;
    };
    Collection.prototype.getViewingDirection = function () {
        if (this.getProperty("viewingDirection")) {
            return this.getProperty("viewingDirection");
        }
        return _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingDirection"].LEFT_TO_RIGHT;
    };
    /**
     * Get a tree of sub collections and manifests, using each child manifest's first 'top' range.
     */
    Collection.prototype.getDefaultTree = function () {
        _super.prototype.getDefaultTree.call(this);
        //console.log("get default tree for ", this.id);
        this.defaultTree.data.type = _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_1__["TreeNodeType"].COLLECTION);
        this._parseManifests(this);
        this._parseCollections(this);
        _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].generateTreeNodeIds(this.defaultTree);
        return this.defaultTree;
    };
    Collection.prototype._parseManifests = function (parentCollection) {
        if (parentCollection.getManifests() &&
            parentCollection.getManifests().length) {
            for (var i = 0; i < parentCollection.getManifests().length; i++) {
                var manifest = parentCollection.getManifests()[i];
                var tree = manifest.getDefaultTree();
                tree.label =
                    manifest.parentLabel ||
                        _internal__WEBPACK_IMPORTED_MODULE_1__["LanguageMap"].getValue(manifest.getLabel(), this.options.locale) ||
                        "manifest " + (i + 1);
                tree.navDate = manifest.getNavDate();
                tree.data.id = manifest.id;
                tree.data.type = _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_1__["TreeNodeType"].MANIFEST);
                parentCollection.defaultTree.addNode(tree);
            }
        }
    };
    Collection.prototype._parseCollections = function (parentCollection) {
        //console.log("parse collections for ", parentCollection.id);
        if (parentCollection.getCollections() &&
            parentCollection.getCollections().length) {
            for (var i = 0; i < parentCollection.getCollections().length; i++) {
                var collection = parentCollection.getCollections()[i];
                var tree = collection.getDefaultTree();
                tree.label =
                    collection.parentLabel ||
                        _internal__WEBPACK_IMPORTED_MODULE_1__["LanguageMap"].getValue(collection.getLabel(), this.options.locale) ||
                        "collection " + (i + 1);
                tree.navDate = collection.getNavDate();
                tree.data.id = collection.id;
                tree.data.type = _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_1__["TreeNodeType"].COLLECTION);
                parentCollection.defaultTree.addNode(tree);
            }
        }
    };
    return Collection;
}(_internal__WEBPACK_IMPORTED_MODULE_1__["IIIFResource"]));

//# sourceMappingURL=Collection.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Duration.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Duration.js ***!
  \*************************************************************/
/*! exports provided: Duration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Duration", function() { return Duration; });
var Duration = /** @class */ (function () {
    function Duration(start, end) {
        this.start = start;
        this.end = end;
    }
    Duration.prototype.getLength = function () {
        return this.end - this.start;
    };
    return Duration;
}());

//# sourceMappingURL=Duration.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/IIIFResource.js":
/*!*****************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/IIIFResource.js ***!
  \*****************************************************************/
/*! exports provided: IIIFResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IIIFResource", function() { return IIIFResource; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var IIIFResource = /** @class */ (function (_super) {
    __extends(IIIFResource, _super);
    function IIIFResource(jsonld, options) {
        var _this = _super.call(this, jsonld, options) || this;
        _this.index = -1;
        _this.isLoaded = false;
        var defaultOptions = {
            defaultLabel: "-",
            locale: "en-GB",
            resource: _this,
            pessimisticAccessControl: false
        };
        _this.options = Object.assign(defaultOptions, options);
        return _this;
    }
    IIIFResource.prototype.getAttribution = function () {
        //console.warn('getAttribution will be deprecated, use getRequiredStatement instead.');
        var attribution = this.getProperty("attribution");
        if (attribution) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].parse(attribution, this.options.locale);
        }
        return [];
    };
    IIIFResource.prototype.getDescription = function () {
        var description = this.getProperty("description");
        if (description) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].parse(description, this.options.locale);
        }
        return [];
    };
    IIIFResource.prototype.getIIIFResourceType = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(this.getProperty("type"));
    };
    IIIFResource.prototype.getLogo = function () {
        var logo = this.getProperty("logo");
        if (!logo)
            return null;
        if (typeof logo === "string")
            return logo;
        if (Array.isArray(logo) && logo.length) {
            logo = logo[0];
        }
        return logo["@id"] || logo.id;
    };
    IIIFResource.prototype.getLicense = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("license"), this.options.locale);
    };
    IIIFResource.prototype.getNavDate = function () {
        return new Date(this.getProperty("navDate"));
    };
    IIIFResource.prototype.getRelated = function () {
        return this.getProperty("related");
    };
    IIIFResource.prototype.getSeeAlso = function () {
        return this.getProperty("seeAlso");
    };
    IIIFResource.prototype.getTrackingLabel = function () {
        var service = (this.getService(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].TRACKING_EXTENSIONS));
        if (service) {
            return service.getProperty("trackingLabel");
        }
        return "";
    };
    IIIFResource.prototype.getDefaultTree = function () {
        this.defaultTree = new _internal__WEBPACK_IMPORTED_MODULE_0__["TreeNode"]("root");
        this.defaultTree.data = this;
        return this.defaultTree;
    };
    IIIFResource.prototype.getRequiredStatement = function () {
        var requiredStatement = null;
        var _requiredStatement = this.getProperty("requiredStatement");
        if (_requiredStatement) {
            requiredStatement = new _internal__WEBPACK_IMPORTED_MODULE_0__["LabelValuePair"](this.options.locale);
            requiredStatement.parse(_requiredStatement);
        }
        else {
            // fall back to attribution (if it exists)
            var attribution = this.getAttribution();
            if (attribution) {
                requiredStatement = new _internal__WEBPACK_IMPORTED_MODULE_0__["LabelValuePair"](this.options.locale);
                requiredStatement.value = attribution;
            }
        }
        return requiredStatement;
    };
    IIIFResource.prototype.isCollection = function () {
        if (this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].COLLECTION) {
            return true;
        }
        return false;
    };
    IIIFResource.prototype.isManifest = function () {
        if (this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].MANIFEST) {
            return true;
        }
        return false;
    };
    IIIFResource.prototype.load = function () {
        var that = this;
        return new Promise(function (resolve) {
            if (that.isLoaded) {
                resolve(that);
            }
            else {
                var options_1 = that.options;
                options_1.navDate = that.getNavDate();
                var id = that.__jsonld.id;
                if (!id) {
                    id = that.__jsonld["@id"];
                }
                _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].loadManifest(id).then(function (data) {
                    that.parentLabel = (_internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(that.getLabel(), options_1.locale));
                    var parsed = _internal__WEBPACK_IMPORTED_MODULE_0__["Deserialiser"].parse(data, options_1);
                    that = Object.assign(that, parsed);
                    //that.parentCollection = options.resource.parentCollection;
                    that.index = options_1.index;
                    resolve(that);
                });
            }
        });
    };
    return IIIFResource;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=IIIFResource.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/JSONLDResource.js":
/*!*******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/JSONLDResource.js ***!
  \*******************************************************************/
/*! exports provided: JSONLDResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JSONLDResource", function() { return JSONLDResource; });
var JSONLDResource = /** @class */ (function () {
    function JSONLDResource(jsonld) {
        this.__jsonld = jsonld;
        this.context = this.getProperty("context");
        this.id = this.getProperty("id");
    }
    JSONLDResource.prototype.getProperty = function (name) {
        var prop = null;
        if (this.__jsonld) {
            prop = this.__jsonld[name];
            if (!prop) {
                // property may have a prepended '@'
                prop = this.__jsonld["@" + name];
            }
        }
        return prop;
    };
    return JSONLDResource;
}());

//# sourceMappingURL=JSONLDResource.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/LabelValuePair.js":
/*!*******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/LabelValuePair.js ***!
  \*******************************************************************/
/*! exports provided: LabelValuePair */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelValuePair", function() { return LabelValuePair; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");

var LabelValuePair = /** @class */ (function () {
    function LabelValuePair(defaultLocale) {
        this.defaultLocale = defaultLocale;
    }
    LabelValuePair.prototype.parse = function (resource) {
        this.resource = resource;
        this.label = _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].parse(this.resource.label, this.defaultLocale);
        this.value = _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].parse(this.resource.value, this.defaultLocale);
    };
    // shortcuts to get/set values based on default locale
    LabelValuePair.prototype.getLabel = function () {
        if (this.label) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(this.label, this.defaultLocale);
        }
        return null;
    };
    LabelValuePair.prototype.setLabel = function (value) {
        var _this = this;
        if (this.label && this.label.length) {
            var t = this.label.filter(function (x) {
                return x.locale === _this.defaultLocale ||
                    x.locale === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getInexactLocale(_this.defaultLocale);
            })[0];
            if (t)
                t.value = value;
        }
    };
    LabelValuePair.prototype.getValue = function () {
        if (this.value) {
            var locale = this.defaultLocale;
            // if the label has a locale, prefer that to the default locale
            if (this.label && this.label.length && this.label[0].locale) {
                locale = this.label[0].locale;
            }
            return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(this.value, locale);
        }
        return null;
    };
    LabelValuePair.prototype.setValue = function (value) {
        var _this = this;
        if (this.value && this.value.length) {
            var t = this.value.filter(function (x) {
                return x.locale === _this.defaultLocale ||
                    x.locale === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getInexactLocale(_this.defaultLocale);
            })[0];
            if (t)
                t.value = value;
        }
    };
    return LabelValuePair;
}());

//# sourceMappingURL=LabelValuePair.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Language.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Language.js ***!
  \*************************************************************/
/*! exports provided: Language */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Language", function() { return Language; });
var Language = /** @class */ (function () {
    function Language(value, locale) {
        if (Array.isArray(value)) {
            if (value.length === 1) {
                this.value = value[0];
            }
            else {
                // concatenate all of the values
                this.value = value.join("<br/>");
            }
        }
        else {
            this.value = value;
        }
        this.locale = locale;
    }
    return Language;
}());

//# sourceMappingURL=Language.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/LanguageMap.js":
/*!****************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/LanguageMap.js ***!
  \****************************************************************/
/*! exports provided: LanguageMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LanguageMap", function() { return LanguageMap; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var LanguageMap = /** @class */ (function (_super) {
    __extends(LanguageMap, _super);
    function LanguageMap() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LanguageMap.parse = function (language, defaultLocale) {
        var tc = [];
        var t;
        if (!language) {
            return tc;
        }
        else if (Array.isArray(language)) {
            for (var i = 0; i < language.length; i++) {
                var value = language[i];
                if (typeof value === "string") {
                    t = new _internal__WEBPACK_IMPORTED_MODULE_0__["Language"](value, defaultLocale);
                }
                else {
                    t = new _internal__WEBPACK_IMPORTED_MODULE_0__["Language"](value["@value"], value["@language"] || defaultLocale);
                }
                tc.push(t);
            }
        }
        else if (typeof language === "string") {
            // if it's just a single string value, create one language in the configured locale
            t = new _internal__WEBPACK_IMPORTED_MODULE_0__["Language"](language, defaultLocale);
            tc.push(t);
            return tc;
        }
        else {
            // it's an object
            if (language["@value"]) {
                // presentation 2
                t = new _internal__WEBPACK_IMPORTED_MODULE_0__["Language"](language["@value"], language["@language"] || defaultLocale);
                tc.push(t);
            }
            else {
                // presentation 3
                Object.keys(language).forEach(function (key) {
                    // todo: support multiple values in array
                    if (language[key].length) {
                        t = new _internal__WEBPACK_IMPORTED_MODULE_0__["Language"](language[key], key);
                        tc.push(t);
                    }
                    else {
                        throw new Error("language must have a value");
                    }
                });
            }
        }
        return tc;
    };
    LanguageMap.getValue = function (languageCollection, locale) {
        if (languageCollection.length) {
            if (locale) {
                var language = languageCollection.filter(function (t) {
                    return t.locale === locale ||
                        _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getInexactLocale(t.locale) === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getInexactLocale(locale);
                })[0];
                if (language) {
                    return language.value;
                }
            }
            // return the first value
            return languageCollection[0].value;
        }
        return null;
    };
    return LanguageMap;
}(Array));

//# sourceMappingURL=LanguageMap.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Manifest.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Manifest.js ***!
  \*************************************************************/
/*! exports provided: Manifest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Manifest", function() { return Manifest; });
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var Manifest = /** @class */ (function (_super) {
    __extends(Manifest, _super);
    function Manifest(jsonld, options) {
        var _this = _super.call(this, jsonld, options) || this;
        _this.index = 0;
        _this._allRanges = null;
        _this.items = [];
        _this._topRanges = [];
        if (_this.__jsonld.structures && _this.__jsonld.structures.length) {
            var topRanges = _this._getTopRanges();
            for (var i = 0; i < topRanges.length; i++) {
                var range = topRanges[i];
                _this._parseRanges(range, String(i));
            }
        }
        return _this;
    }
    Manifest.prototype.getPosterCanvas = function () {
        var posterCanvas = this.getProperty("posterCanvas");
        if (posterCanvas) {
            posterCanvas = new _internal__WEBPACK_IMPORTED_MODULE_1__["Canvas"](posterCanvas, this.options);
        }
        return posterCanvas;
    };
    Manifest.prototype.getBehavior = function () {
        var behavior = this.getProperty("behavior");
        if (Array.isArray(behavior)) {
            behavior = behavior[0];
        }
        if (behavior) {
            return behavior;
        }
        return null;
    };
    Manifest.prototype.getDefaultTree = function () {
        _super.prototype.getDefaultTree.call(this);
        this.defaultTree.data.type = _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_1__["TreeNodeType"].MANIFEST);
        if (!this.isLoaded) {
            return this.defaultTree;
        }
        var topRanges = this.getTopRanges();
        // if there are any ranges in the manifest, default to the first 'top' range or generated placeholder
        if (topRanges.length) {
            topRanges[0].getTree(this.defaultTree);
        }
        _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].generateTreeNodeIds(this.defaultTree);
        return this.defaultTree;
    };
    Manifest.prototype._getTopRanges = function () {
        var topRanges = [];
        if (this.__jsonld.structures && this.__jsonld.structures.length) {
            for (var i = 0; i < this.__jsonld.structures.length; i++) {
                var json = this.__jsonld.structures[i];
                if (json.viewingHint === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingHint"].TOP) {
                    topRanges.push(json);
                }
            }
            // if no viewingHint="top" range was found, create a default one
            if (!topRanges.length) {
                var range = {};
                range.ranges = this.__jsonld.structures;
                topRanges.push(range);
            }
        }
        return topRanges;
    };
    Manifest.prototype.getTopRanges = function () {
        return this._topRanges;
    };
    Manifest.prototype._getRangeById = function (id) {
        if (this.__jsonld.structures && this.__jsonld.structures.length) {
            for (var i = 0; i < this.__jsonld.structures.length; i++) {
                var r = this.__jsonld.structures[i];
                if (r["@id"] === id || r.id === id) {
                    return r;
                }
            }
        }
        return null;
    };
    //private _parseRangeCanvas(json: any, range: Range): void {
    // todo: currently this isn't needed
    //var canvas: IJSONLDResource = new JSONLDResource(json);
    //range.items.push(<IManifestResource>canvas);
    //}
    Manifest.prototype._parseRanges = function (r, path, parentRange) {
        var range;
        var id = null;
        if (typeof r === "string") {
            id = r;
            r = this._getRangeById(id);
        }
        if (!r) {
            console.warn("Range:", id, "does not exist");
            return;
        }
        range = new _internal__WEBPACK_IMPORTED_MODULE_1__["Range"](r, this.options);
        range.parentRange = parentRange;
        range.path = path;
        if (!parentRange) {
            this._topRanges.push(range);
        }
        else {
            parentRange.items.push(range);
        }
        var items = r.items || r.members;
        if (items) {
            for (var i = 0; i < items.length; i++) {
                var item = items[i];
                // todo: use an ItemType constant?
                if ((item["@type"] && item["@type"].toLowerCase() === "sc:range") ||
                    (item["type"] && item["type"].toLowerCase() === "range")) {
                    this._parseRanges(item, path + "/" + i, range);
                }
                else if ((item["@type"] && item["@type"].toLowerCase() === "sc:canvas") ||
                    (item["type"] && item["type"].toLowerCase() === "canvas")) {
                    // store the ids on the __jsonld object to be used by Range.getCanvasIds()
                    if (!range.canvases) {
                        range.canvases = [];
                    }
                    var id_1 = item.id || item["@id"];
                    range.canvases.push(id_1);
                }
            }
        }
        else if (r.ranges) {
            for (var i = 0; i < r.ranges.length; i++) {
                this._parseRanges(r.ranges[i], path + "/" + i, range);
            }
        }
    };
    Manifest.prototype.getAllRanges = function () {
        if (this._allRanges != null)
            return this._allRanges;
        this._allRanges = [];
        var topRanges = this.getTopRanges();
        var _loop_1 = function (i) {
            var topRange = topRanges[i];
            if (topRange.id) {
                this_1._allRanges.push(topRange); // it might be a placeholder root range
            }
            var reducer = function (acc, next) {
                acc.add(next);
                var nextRanges = next.getRanges();
                if (nextRanges.length) {
                    return nextRanges.reduce(reducer, acc);
                }
                return acc;
            };
            var subRanges = Array.from(topRange.getRanges().reduce(reducer, new Set()));
            this_1._allRanges = this_1._allRanges.concat(subRanges);
        };
        var this_1 = this;
        for (var i = 0; i < topRanges.length; i++) {
            _loop_1(i);
        }
        return this._allRanges;
    };
    Manifest.prototype.getRangeById = function (id) {
        var ranges = this.getAllRanges();
        for (var i = 0; i < ranges.length; i++) {
            var range = ranges[i];
            if (range.id === id) {
                return range;
            }
        }
        return null;
    };
    Manifest.prototype.getRangeByPath = function (path) {
        var ranges = this.getAllRanges();
        for (var i = 0; i < ranges.length; i++) {
            var range = ranges[i];
            if (range.path === path) {
                return range;
            }
        }
        return null;
    };
    Manifest.prototype.getSequences = function () {
        if (this.items.length) {
            return this.items;
        }
        // IxIF mediaSequences overrode sequences, so need to be checked first.
        // deprecate this when presentation 3 ships
        var items = this.__jsonld.mediaSequences || this.__jsonld.sequences;
        if (items) {
            for (var i = 0; i < items.length; i++) {
                var s = items[i];
                var sequence = new _internal__WEBPACK_IMPORTED_MODULE_1__["Sequence"](s, this.options);
                this.items.push(sequence);
            }
        }
        else if (this.__jsonld.items) {
            var sequence = new _internal__WEBPACK_IMPORTED_MODULE_1__["Sequence"](this.__jsonld.items, this.options);
            this.items.push(sequence);
        }
        return this.items;
    };
    Manifest.prototype.getSequenceByIndex = function (sequenceIndex) {
        return this.getSequences()[sequenceIndex];
    };
    Manifest.prototype.getTotalSequences = function () {
        return this.getSequences().length;
    };
    Manifest.prototype.getManifestType = function () {
        var service = (this.getService(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].UI_EXTENSIONS));
        if (service) {
            return service.getProperty("manifestType");
        }
        return _internal__WEBPACK_IMPORTED_MODULE_1__["ManifestType"].EMPTY;
    };
    Manifest.prototype.isMultiSequence = function () {
        return this.getTotalSequences() > 1;
    };
    Manifest.prototype.isPagingEnabled = function () {
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingHint"].PAGED;
        }
        var behavior = this.getBehavior();
        if (behavior) {
            return behavior === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["Behavior"].PAGED;
        }
        return false;
    };
    Manifest.prototype.getViewingDirection = function () {
        return this.getProperty("viewingDirection");
    };
    Manifest.prototype.getViewingHint = function () {
        return this.getProperty("viewingHint");
    };
    return Manifest;
}(_internal__WEBPACK_IMPORTED_MODULE_1__["IIIFResource"]));

//# sourceMappingURL=Manifest.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/ManifestResource.js":
/*!*********************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/ManifestResource.js ***!
  \*********************************************************************/
/*! exports provided: ManifestResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManifestResource", function() { return ManifestResource; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ManifestResource = /** @class */ (function (_super) {
    __extends(ManifestResource, _super);
    function ManifestResource(jsonld, options) {
        var _this = _super.call(this, jsonld) || this;
        _this.options = options;
        return _this;
    }
    ManifestResource.prototype.getIIIFResourceType = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(this.getProperty("type"));
    };
    ManifestResource.prototype.getLabel = function () {
        var label = this.getProperty("label");
        if (label) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].parse(label, this.options.locale);
        }
        return [];
    };
    ManifestResource.prototype.getDefaultLabel = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(this.getLabel());
    };
    ManifestResource.prototype.getMetadata = function () {
        var _metadata = this.getProperty("metadata");
        var metadata = [];
        if (!_metadata)
            return metadata;
        for (var i = 0; i < _metadata.length; i++) {
            var item = _metadata[i];
            var metadataItem = new _internal__WEBPACK_IMPORTED_MODULE_0__["LabelValuePair"](this.options.locale);
            metadataItem.parse(item);
            metadata.push(metadataItem);
        }
        return metadata;
    };
    ManifestResource.prototype.getRendering = function (format) {
        var renderings = this.getRenderings();
        for (var i = 0; i < renderings.length; i++) {
            var rendering = renderings[i];
            if (rendering.getFormat() === format) {
                return rendering;
            }
        }
        return null;
    };
    ManifestResource.prototype.getRenderings = function () {
        var rendering;
        // if passing a manifesto-parsed object, use the __jsonld.rendering property,
        // otherwise look for a rendering property
        if (this.__jsonld) {
            rendering = this.__jsonld.rendering;
        }
        else {
            rendering = this.rendering;
        }
        var renderings = [];
        if (!rendering)
            return renderings;
        // coerce to array
        if (!Array.isArray(rendering)) {
            rendering = [rendering];
        }
        for (var i = 0; i < rendering.length; i++) {
            var r = rendering[i];
            renderings.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["Rendering"](r, this.options));
        }
        return renderings;
    };
    ManifestResource.prototype.getService = function (profile) {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getService(this, profile);
    };
    ManifestResource.prototype.getServices = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getServices(this);
    };
    ManifestResource.prototype.getThumbnail = function () {
        var thumbnail = this.getProperty("thumbnail");
        if (Array.isArray(thumbnail)) {
            thumbnail = thumbnail[0];
        }
        if (thumbnail) {
            return new _internal__WEBPACK_IMPORTED_MODULE_0__["Thumbnail"](thumbnail, this.options);
        }
        return null;
    };
    ManifestResource.prototype.isAnnotation = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].ANNOTATION;
    };
    ManifestResource.prototype.isCanvas = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].CANVAS;
    };
    ManifestResource.prototype.isCollection = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].COLLECTION;
    };
    ManifestResource.prototype.isManifest = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].MANIFEST;
    };
    ManifestResource.prototype.isRange = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].RANGE;
    };
    ManifestResource.prototype.isSequence = function () {
        return this.getIIIFResourceType() === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].SEQUENCE;
    };
    return ManifestResource;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["JSONLDResource"]));

//# sourceMappingURL=ManifestResource.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/ManifestType.js":
/*!*****************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/ManifestType.js ***!
  \*****************************************************************/
/*! exports provided: ManifestType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManifestType", function() { return ManifestType; });
var ManifestType;
(function (ManifestType) {
    ManifestType["EMPTY"] = "";
    ManifestType["MANUSCRIPT"] = "manuscript";
    ManifestType["MONOGRAPH"] = "monograph";
})(ManifestType || (ManifestType = {}));
//# sourceMappingURL=ManifestType.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Range.js":
/*!**********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Range.js ***!
  \**********************************************************/
/*! exports provided: Range */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Range", function() { return Range; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var Range = /** @class */ (function (_super) {
    __extends(Range, _super);
    function Range(jsonld, options) {
        var _this = _super.call(this, jsonld, options) || this;
        _this._ranges = null;
        _this.canvases = null;
        _this.items = [];
        return _this;
    }
    Range.prototype.getCanvasIds = function () {
        if (this.__jsonld.canvases) {
            return this.__jsonld.canvases;
        }
        else if (this.canvases) {
            return this.canvases;
        }
        return [];
    };
    Range.prototype.getDuration = function () {
        var start;
        var end;
        if (this.canvases && this.canvases.length) {
            for (var i = 0; i < this.canvases.length; i++) {
                var canvas = this.canvases[i];
                var temporal = _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getTemporalComponent(canvas);
                if (temporal && temporal.length > 1) {
                    if (i === 0) {
                        start = Number(temporal[0]);
                    }
                    if (i === this.canvases.length - 1) {
                        end = Number(temporal[1]);
                    }
                }
            }
        }
        else {
            // get child ranges and calculate the start and end based on them
            var childRanges = this.getRanges();
            for (var i = 0; i < childRanges.length; i++) {
                var childRange = childRanges[i];
                var duration = childRange.getDuration();
                if (duration) {
                    if (i === 0) {
                        start = duration.start;
                    }
                    if (i === childRanges.length - 1) {
                        end = duration.end;
                    }
                }
            }
        }
        if (start !== undefined && end !== undefined) {
            return new _internal__WEBPACK_IMPORTED_MODULE_0__["Duration"](start, end);
        }
        return undefined;
    };
    // getCanvases(): ICanvas[] {
    //     if (this._canvases) {
    //         return this._canvases;
    //     }
    //     return this._canvases = <ICanvas[]>this.items.en().where(m => m.isCanvas()).toArray();
    // }
    Range.prototype.getRanges = function () {
        if (this._ranges) {
            return this._ranges;
        }
        return (this._ranges = this.items.filter(function (m) { return m.isRange(); }));
    };
    Range.prototype.getBehavior = function () {
        var behavior = this.getProperty("behavior");
        if (Array.isArray(behavior)) {
            behavior = behavior[0];
        }
        if (behavior) {
            return behavior;
        }
        return null;
    };
    Range.prototype.getViewingDirection = function () {
        return this.getProperty("viewingDirection");
    };
    Range.prototype.getViewingHint = function () {
        return this.getProperty("viewingHint");
    };
    Range.prototype.getTree = function (treeRoot) {
        treeRoot.data = this;
        this.treeNode = treeRoot;
        var ranges = this.getRanges();
        if (ranges && ranges.length) {
            for (var i = 0; i < ranges.length; i++) {
                var range = ranges[i];
                var node = new _internal__WEBPACK_IMPORTED_MODULE_0__["TreeNode"]();
                treeRoot.addNode(node);
                this._parseTreeNode(node, range);
            }
        }
        _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].generateTreeNodeIds(treeRoot);
        return treeRoot;
    };
    Range.prototype.spansTime = function (time) {
        var duration = this.getDuration();
        if (duration) {
            if (time >= duration.start && time <= duration.end) {
                return true;
            }
        }
        return false;
    };
    Range.prototype._parseTreeNode = function (node, range) {
        node.label = (_internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(range.getLabel(), this.options.locale));
        node.data = range;
        node.data.type = _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_0__["TreeNodeType"].RANGE);
        range.treeNode = node;
        var ranges = range.getRanges();
        if (ranges && ranges.length) {
            for (var i = 0; i < ranges.length; i++) {
                var childRange = ranges[i];
                var behavior = childRange.getBehavior();
                if (behavior === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["Behavior"].NO_NAV) {
                    continue;
                }
                else {
                    var childNode = new _internal__WEBPACK_IMPORTED_MODULE_0__["TreeNode"]();
                    node.addNode(childNode);
                    this._parseTreeNode(childNode, childRange);
                }
            }
        }
    };
    return Range;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=Range.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Rendering.js":
/*!**************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Rendering.js ***!
  \**************************************************************/
/*! exports provided: Rendering */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rendering", function() { return Rendering; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Rendering = /** @class */ (function (_super) {
    __extends(Rendering, _super);
    function Rendering(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    Rendering.prototype.getFormat = function () {
        return this.getProperty("format");
    };
    return Rendering;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=Rendering.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Resource.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Resource.js ***!
  \*************************************************************/
/*! exports provided: Resource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Resource", function() { return Resource; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Resource = /** @class */ (function (_super) {
    __extends(Resource, _super);
    function Resource(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    Resource.prototype.getFormat = function () {
        var format = this.getProperty("format");
        if (format) {
            return format.toLowerCase();
        }
        return null;
    };
    Resource.prototype.getResources = function () {
        var resources = [];
        if (!this.__jsonld.resources)
            return resources;
        for (var i = 0; i < this.__jsonld.resources.length; i++) {
            var a = this.__jsonld.resources[i];
            var annotation = new _internal__WEBPACK_IMPORTED_MODULE_0__["Annotation"](a, this.options);
            resources.push(annotation);
        }
        return resources;
    };
    Resource.prototype.getType = function () {
        var type = this.getProperty("type");
        if (type) {
            return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(type);
        }
        return null;
    };
    Resource.prototype.getWidth = function () {
        return this.getProperty("width");
    };
    Resource.prototype.getHeight = function () {
        return this.getProperty("height");
    };
    Resource.prototype.getMaxWidth = function () {
        return this.getProperty("maxWidth");
    };
    Resource.prototype.getMaxHeight = function () {
        var maxHeight = this.getProperty("maxHeight");
        // if a maxHeight hasn't been specified, default to maxWidth.
        // maxWidth in essence becomes maxEdge
        if (!maxHeight) {
            return this.getMaxWidth();
        }
        return null;
    };
    return Resource;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=Resource.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Sequence.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Sequence.js ***!
  \*************************************************************/
/*! exports provided: Sequence */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sequence", function() { return Sequence; });
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var Sequence = /** @class */ (function (_super) {
    __extends(Sequence, _super);
    function Sequence(jsonld, options) {
        var _this = _super.call(this, jsonld, options) || this;
        _this.items = [];
        _this._thumbnails = null;
        return _this;
    }
    Sequence.prototype.getCanvases = function () {
        if (this.items.length) {
            return this.items;
        }
        var items = this.__jsonld.canvases || this.__jsonld.elements;
        if (items) {
            for (var i = 0; i < items.length; i++) {
                var c = items[i];
                var canvas = new _internal__WEBPACK_IMPORTED_MODULE_1__["Canvas"](c, this.options);
                canvas.index = i;
                this.items.push(canvas);
            }
        }
        else if (this.__jsonld) {
            for (var i = 0; i < this.__jsonld.length; i++) {
                var c = this.__jsonld[i];
                var canvas = new _internal__WEBPACK_IMPORTED_MODULE_1__["Canvas"](c, this.options);
                canvas.index = i;
                this.items.push(canvas);
            }
        }
        return this.items;
    };
    Sequence.prototype.getCanvasById = function (id) {
        for (var i = 0; i < this.getTotalCanvases(); i++) {
            var canvas = this.getCanvasByIndex(i);
            // normalise canvas id
            var canvasId = _internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseUrl(canvas.id);
            if (_internal__WEBPACK_IMPORTED_MODULE_1__["Utils"].normaliseUrl(id) === canvasId) {
                return canvas;
            }
        }
        return null;
    };
    Sequence.prototype.getCanvasByIndex = function (canvasIndex) {
        return this.getCanvases()[canvasIndex];
    };
    Sequence.prototype.getCanvasIndexById = function (id) {
        for (var i = 0; i < this.getTotalCanvases(); i++) {
            var canvas = this.getCanvasByIndex(i);
            if (canvas.id === id) {
                return i;
            }
        }
        return null;
    };
    Sequence.prototype.getCanvasIndexByLabel = function (label, foliated) {
        label = label.trim();
        if (!isNaN(label)) {
            // if the label is numeric
            label = parseInt(label, 10).toString(); // trim any preceding zeros.
            if (foliated)
                label += "r"; // default to recto
        }
        var doublePageRegExp = /(\d*)\D+(\d*)/;
        var match, regExp, regStr, labelPart1, labelPart2;
        for (var i = 0; i < this.getTotalCanvases(); i++) {
            var canvas = this.getCanvasByIndex(i);
            // check if there's a literal match
            if (_internal__WEBPACK_IMPORTED_MODULE_1__["LanguageMap"].getValue(canvas.getLabel(), this.options.locale) === label) {
                return i;
            }
            // check if there's a match for double-page spreads e.g. 100-101, 100_101, 100 101
            match = doublePageRegExp.exec(label);
            if (!match)
                continue;
            labelPart1 = match[1];
            labelPart2 = match[2];
            if (!labelPart2)
                continue;
            regStr = "^" + labelPart1 + "\\D+" + labelPart2 + "$";
            regExp = new RegExp(regStr);
            if (regExp.test(canvas.getLabel().toString())) {
                return i;
            }
        }
        return -1;
    };
    Sequence.prototype.getLastCanvasLabel = function (alphanumeric) {
        for (var i = this.getTotalCanvases() - 1; i >= 0; i--) {
            var canvas = this.getCanvasByIndex(i);
            var label = (_internal__WEBPACK_IMPORTED_MODULE_1__["LanguageMap"].getValue(canvas.getLabel(), this.options.locale));
            if (alphanumeric) {
                var regExp = /^[a-zA-Z0-9]*$/;
                if (regExp.test(label)) {
                    return label;
                }
            }
            else if (label) {
                return label;
            }
        }
        return this.options.defaultLabel;
    };
    Sequence.prototype.getLastPageIndex = function () {
        return this.getTotalCanvases() - 1;
    };
    Sequence.prototype.getNextPageIndex = function (canvasIndex, pagingEnabled) {
        var index;
        if (pagingEnabled) {
            var indices = this.getPagedIndices(canvasIndex);
            var viewingDirection = this.getViewingDirection();
            if (viewingDirection &&
                viewingDirection === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingDirection"].RIGHT_TO_LEFT) {
                index = indices[0] + 1;
            }
            else {
                index = indices[indices.length - 1] + 1;
            }
        }
        else {
            index = canvasIndex + 1;
        }
        if (index > this.getLastPageIndex()) {
            return -1;
        }
        return index;
    };
    Sequence.prototype.getPagedIndices = function (canvasIndex, pagingEnabled) {
        var indices = [];
        if (!pagingEnabled) {
            indices.push(canvasIndex);
        }
        else {
            if (this.isFirstCanvas(canvasIndex) || this.isLastCanvas(canvasIndex)) {
                indices = [canvasIndex];
            }
            else if (canvasIndex % 2) {
                indices = [canvasIndex, canvasIndex + 1];
            }
            else {
                indices = [canvasIndex - 1, canvasIndex];
            }
            var viewingDirection = this.getViewingDirection();
            if (viewingDirection &&
                viewingDirection === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingDirection"].RIGHT_TO_LEFT) {
                indices = indices.reverse();
            }
        }
        return indices;
    };
    Sequence.prototype.getPrevPageIndex = function (canvasIndex, pagingEnabled) {
        var index;
        if (pagingEnabled) {
            var indices = this.getPagedIndices(canvasIndex);
            var viewingDirection = this.getViewingDirection();
            if (viewingDirection &&
                viewingDirection === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingDirection"].RIGHT_TO_LEFT) {
                index = indices[indices.length - 1] - 1;
            }
            else {
                index = indices[0] - 1;
            }
        }
        else {
            index = canvasIndex - 1;
        }
        return index;
    };
    Sequence.prototype.getStartCanvasIndex = function () {
        var startCanvas = this.getStartCanvas();
        if (startCanvas) {
            // if there's a startCanvas attribute, loop through the canvases and return the matching index.
            for (var i = 0; i < this.getTotalCanvases(); i++) {
                var canvas = this.getCanvasByIndex(i);
                if (canvas.id === startCanvas)
                    return i;
            }
        }
        // default to first canvas.
        return 0;
    };
    // todo: deprecate
    Sequence.prototype.getThumbs = function (width, height) {
        //console.warn('getThumbs will be deprecated, use getThumbnails instead');
        var thumbs = [];
        var totalCanvases = this.getTotalCanvases();
        for (var i = 0; i < totalCanvases; i++) {
            var canvas = this.getCanvasByIndex(i);
            var thumb = new _internal__WEBPACK_IMPORTED_MODULE_1__["Thumb"](width, canvas);
            thumbs.push(thumb);
        }
        return thumbs;
    };
    Sequence.prototype.getThumbnails = function () {
        if (this._thumbnails != null)
            return this._thumbnails;
        this._thumbnails = [];
        var canvases = this.getCanvases();
        for (var i = 0; i < canvases.length; i++) {
            var thumbnail = canvases[i].getThumbnail();
            if (thumbnail) {
                this._thumbnails.push(thumbnail);
            }
        }
        return this._thumbnails;
    };
    Sequence.prototype.getStartCanvas = function () {
        return this.getProperty("startCanvas");
    };
    Sequence.prototype.getTotalCanvases = function () {
        return this.getCanvases().length;
    };
    Sequence.prototype.getViewingDirection = function () {
        if (this.getProperty("viewingDirection")) {
            return this.getProperty("viewingDirection");
        }
        else if (this.options.resource.getViewingDirection) {
            return this.options.resource.getViewingDirection();
        }
        return null;
    };
    Sequence.prototype.getViewingHint = function () {
        return this.getProperty("viewingHint");
    };
    Sequence.prototype.isCanvasIndexOutOfRange = function (canvasIndex) {
        return canvasIndex > this.getTotalCanvases() - 1;
    };
    Sequence.prototype.isFirstCanvas = function (canvasIndex) {
        return canvasIndex === 0;
    };
    Sequence.prototype.isLastCanvas = function (canvasIndex) {
        return canvasIndex === this.getTotalCanvases() - 1;
    };
    Sequence.prototype.isMultiCanvas = function () {
        return this.getTotalCanvases() > 1;
    };
    Sequence.prototype.isPagingEnabled = function () {
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_0__["ViewingHint"].PAGED;
        }
        return false;
    };
    // checks if the number of canvases is even - therefore has a front and back cover
    Sequence.prototype.isTotalCanvasesEven = function () {
        return this.getTotalCanvases() % 2 === 0;
    };
    return Sequence;
}(_internal__WEBPACK_IMPORTED_MODULE_1__["ManifestResource"]));

//# sourceMappingURL=Sequence.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Serialisation.js":
/*!******************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Serialisation.js ***!
  \******************************************************************/
/*! exports provided: Deserialiser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Deserialiser", function() { return Deserialiser; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");

var Deserialiser = /** @class */ (function () {
    function Deserialiser() {
    }
    Deserialiser.parse = function (manifest, options) {
        if (typeof manifest === "string") {
            manifest = JSON.parse(manifest);
        }
        return this.parseJson(manifest, options);
    };
    Deserialiser.parseJson = function (json, options) {
        var resource;
        // have options been passed for the manifest to inherit?
        if (options) {
            if (options.navDate && !isNaN(options.navDate.getTime())) {
                json.navDate = options.navDate.toString();
            }
        }
        if (json["@type"]) {
            switch (json["@type"]) {
                case "sc:Collection":
                    resource = this.parseCollection(json, options);
                    break;
                case "sc:Manifest":
                    resource = this.parseManifest(json, options);
                    break;
                default:
                    return null;
            }
        }
        else {
            // presentation 3
            switch (json["type"]) {
                case "Collection":
                    resource = this.parseCollection(json, options);
                    break;
                case "Manifest":
                    resource = this.parseManifest(json, options);
                    break;
                default:
                    return null;
            }
        }
        // Top-level resource was loaded from a URI, so flag it to prevent
        // unnecessary reload:
        resource.isLoaded = true;
        return resource;
    };
    Deserialiser.parseCollection = function (json, options) {
        var collection = new _internal__WEBPACK_IMPORTED_MODULE_0__["Collection"](json, options);
        if (options) {
            collection.index = options.index || 0;
            if (options.resource) {
                collection.parentCollection = options.resource.parentCollection;
            }
        }
        else {
            collection.index = 0;
        }
        this.parseCollections(collection, options);
        this.parseManifests(collection, options);
        this.parseItems(collection, options);
        return collection;
    };
    Deserialiser.parseCollections = function (collection, options) {
        var items;
        if (collection.__jsonld.collections) {
            items = collection.__jsonld.collections;
        }
        else if (collection.__jsonld.items) {
            items = collection.__jsonld.items.filter(function (m) { return m.type.toLowerCase() === "collection"; });
        }
        if (items) {
            for (var i = 0; i < items.length; i++) {
                if (options) {
                    options.index = i;
                }
                var item = this.parseCollection(items[i], options);
                item.index = i;
                item.parentCollection = collection;
                collection.items.push(item);
            }
        }
    };
    Deserialiser.parseManifest = function (json, options) {
        var manifest = new _internal__WEBPACK_IMPORTED_MODULE_0__["Manifest"](json, options);
        return manifest;
    };
    Deserialiser.parseManifests = function (collection, options) {
        var items;
        if (collection.__jsonld.manifests) {
            items = collection.__jsonld.manifests;
        }
        else if (collection.__jsonld.items) {
            items = collection.__jsonld.items.filter(function (m) { return m.type.toLowerCase() === "manifest"; });
        }
        if (items) {
            for (var i = 0; i < items.length; i++) {
                var item = this.parseManifest(items[i], options);
                item.index = i;
                item.parentCollection = collection;
                collection.items.push(item);
            }
        }
    };
    Deserialiser.parseItem = function (json, options) {
        if (json["@type"]) {
            if (json["@type"].toLowerCase() === "sc:manifest") {
                return this.parseManifest(json, options);
            }
            else if (json["@type"].toLowerCase() === "sc:collection") {
                return this.parseCollection(json, options);
            }
        }
        else if (json.type) {
            if (json.type.toLowerCase() === "manifest") {
                return this.parseManifest(json, options);
            }
            else if (json.type.toLowerCase() === "collection") {
                return this.parseCollection(json, options);
            }
        }
        return null;
    };
    Deserialiser.parseItems = function (collection, options) {
        var items = collection.__jsonld.members || collection.__jsonld.items;
        if (items) {
            var _loop_1 = function (i) {
                if (options) {
                    options.index = i;
                }
                var item = this_1.parseItem(items[i], options);
                if (!item)
                    return { value: void 0 };
                // only add to items if not already parsed from backwards-compatible collections/manifests arrays
                if (collection.items.filter(function (m) { return m.id === item.id; })[0]) {
                    return "continue";
                }
                item.index = i;
                item.parentCollection = collection;
                collection.items.push(item);
            };
            var this_1 = this;
            for (var i = 0; i < items.length; i++) {
                var state_1 = _loop_1(i);
                if (typeof state_1 === "object")
                    return state_1.value;
            }
        }
    };
    return Deserialiser;
}());

//# sourceMappingURL=Serialisation.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Service.js":
/*!************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Service.js ***!
  \************************************************************/
/*! exports provided: Service */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Service", function() { return Service; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Service = /** @class */ (function (_super) {
    __extends(Service, _super);
    function Service(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    Service.prototype.getProfile = function () {
        var profile = this.getProperty("profile");
        if (!profile) {
            profile = this.getProperty("dcterms:conformsTo");
        }
        if (Array.isArray(profile)) {
            return profile[0];
        }
        return profile;
    };
    Service.prototype.getConfirmLabel = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("confirmLabel"), this.options.locale);
    };
    Service.prototype.getDescription = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("description"), this.options.locale);
    };
    Service.prototype.getFailureDescription = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("failureDescription"), this.options.locale);
    };
    Service.prototype.getFailureHeader = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("failureHeader"), this.options.locale);
    };
    Service.prototype.getHeader = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("header"), this.options.locale);
    };
    Service.prototype.getServiceLabel = function () {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].getLocalisedValue(this.getProperty("label"), this.options.locale);
    };
    Service.prototype.getInfoUri = function () {
        var infoUri = this.id;
        if (!infoUri.endsWith("/")) {
            infoUri += "/";
        }
        infoUri += "info.json";
        return infoUri;
    };
    return Service;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]));

//# sourceMappingURL=Service.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Size.js":
/*!*********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Size.js ***!
  \*********************************************************/
/*! exports provided: Size */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Size", function() { return Size; });
var Size = /** @class */ (function () {
    function Size(width, height) {
        this.width = width;
        this.height = height;
    }
    return Size;
}());

//# sourceMappingURL=Size.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/StatusCode.js":
/*!***************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/StatusCode.js ***!
  \***************************************************************/
/*! exports provided: StatusCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusCode", function() { return StatusCode; });
var StatusCode;
(function (StatusCode) {
    StatusCode[StatusCode["AUTHORIZATION_FAILED"] = 1] = "AUTHORIZATION_FAILED";
    StatusCode[StatusCode["FORBIDDEN"] = 2] = "FORBIDDEN";
    StatusCode[StatusCode["INTERNAL_SERVER_ERROR"] = 3] = "INTERNAL_SERVER_ERROR";
    StatusCode[StatusCode["RESTRICTED"] = 4] = "RESTRICTED";
})(StatusCode || (StatusCode = {}));
//# sourceMappingURL=StatusCode.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Thumb.js":
/*!**********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Thumb.js ***!
  \**********************************************************/
/*! exports provided: Thumb */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Thumb", function() { return Thumb; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");

// todo: deprecate
// this is used by Sequence.getThumbs
var Thumb = /** @class */ (function () {
    function Thumb(width, canvas) {
        this.data = canvas;
        this.index = canvas.index;
        this.width = width;
        var heightRatio = canvas.getHeight() / canvas.getWidth();
        if (heightRatio) {
            this.height = Math.floor(this.width * heightRatio);
        }
        else {
            this.height = width;
        }
        this.uri = canvas.getCanonicalImageUri(width);
        this.label = _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"].getValue(canvas.getLabel()); // todo: pass locale?
    }
    return Thumb;
}());

//# sourceMappingURL=Thumb.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Thumbnail.js":
/*!**************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Thumbnail.js ***!
  \**************************************************************/
/*! exports provided: Thumbnail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Thumbnail", function() { return Thumbnail; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Thumbnail = /** @class */ (function (_super) {
    __extends(Thumbnail, _super);
    function Thumbnail(jsonld, options) {
        return _super.call(this, jsonld, options) || this;
    }
    return Thumbnail;
}(_internal__WEBPACK_IMPORTED_MODULE_0__["Resource"]));

//# sourceMappingURL=Thumbnail.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/TreeNode.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/TreeNode.js ***!
  \*************************************************************/
/*! exports provided: TreeNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeNode", function() { return TreeNode; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");

var TreeNode = /** @class */ (function () {
    function TreeNode(label, data) {
        this.label = label;
        this.data = data || {};
        this.nodes = [];
    }
    TreeNode.prototype.addNode = function (node) {
        this.nodes.push(node);
        node.parentNode = this;
    };
    TreeNode.prototype.isCollection = function () {
        return this.data.type === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_0__["TreeNodeType"].COLLECTION);
    };
    TreeNode.prototype.isManifest = function () {
        return this.data.type === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_0__["TreeNodeType"].MANIFEST);
    };
    TreeNode.prototype.isRange = function () {
        return this.data.type === _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseType(_internal__WEBPACK_IMPORTED_MODULE_0__["TreeNodeType"].RANGE);
    };
    return TreeNode;
}());

//# sourceMappingURL=TreeNode.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/TreeNodeType.js":
/*!*****************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/TreeNodeType.js ***!
  \*****************************************************************/
/*! exports provided: TreeNodeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeNodeType", function() { return TreeNodeType; });
var TreeNodeType;
(function (TreeNodeType) {
    TreeNodeType["COLLECTION"] = "collection";
    TreeNodeType["MANIFEST"] = "manifest";
    TreeNodeType["RANGE"] = "range";
})(TreeNodeType || (TreeNodeType = {}));
//# sourceMappingURL=TreeNodeType.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/Utils.js":
/*!**********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/Utils.js ***!
  \**********************************************************/
/*! exports provided: Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary/dist-commonjs */ "./node_modules/@iiif/vocabulary/dist-commonjs/index.js");
/* harmony import */ var _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @edsilv/http-status-codes/dist-commonjs */ "./node_modules/@edsilv/http-status-codes/dist-commonjs/index.js");
/* harmony import */ var _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! isomorphic-unfetch */ "./node_modules/isomorphic-unfetch/browser.js");
/* harmony import */ var isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(isomorphic_unfetch__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var Utils = /** @class */ (function () {
    function Utils() {
    }
    Utils.getMediaType = function (type) {
        type = type.toLowerCase();
        type = type.split(";")[0];
        return type.trim();
    };
    Utils.getImageQuality = function (profile) {
        if (profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_2 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_2 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_2 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_2 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_1 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_2 ||
            profile === _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_2) {
            return "native";
        }
        return "default";
    };
    Utils.getInexactLocale = function (locale) {
        if (locale.indexOf("-") !== -1) {
            return locale.substr(0, locale.indexOf("-"));
        }
        return locale;
    };
    Utils.getLocalisedValue = function (resource, locale) {
        // if the resource is not an array of translations, return the string.
        if (!Array.isArray(resource)) {
            return resource;
        }
        // test for exact match
        for (var i = 0; i < resource.length; i++) {
            var value_1 = resource[i];
            var language_1 = value_1["@language"];
            if (locale === language_1) {
                return value_1["@value"];
            }
        }
        // test for inexact match
        var match = locale.substr(0, locale.indexOf("-"));
        for (var i = 0; i < resource.length; i++) {
            var value = resource[i];
            var language = value["@language"];
            if (language === match) {
                return value["@value"];
            }
        }
        return null;
    };
    Utils.generateTreeNodeIds = function (treeNode, index) {
        if (index === void 0) { index = 0; }
        var id;
        if (!treeNode.parentNode) {
            id = "0";
        }
        else {
            id = treeNode.parentNode.id + "-" + index;
        }
        treeNode.id = id;
        for (var i = 0; i < treeNode.nodes.length; i++) {
            var n = treeNode.nodes[i];
            Utils.generateTreeNodeIds(n, i);
        }
    };
    Utils.normaliseType = function (type) {
        type = type.toLowerCase();
        if (type.indexOf(":") !== -1) {
            var split = type.split(":");
            return split[1];
        }
        return type;
    };
    Utils.normaliseUrl = function (url) {
        url = url.substr(url.indexOf("://"));
        if (url.indexOf("#") !== -1) {
            url = url.split("#")[0];
        }
        return url;
    };
    Utils.normalisedUrlsMatch = function (url1, url2) {
        return Utils.normaliseUrl(url1) === Utils.normaliseUrl(url2);
    };
    Utils.isImageProfile = function (profile) {
        if (Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_2)) {
            return true;
        }
        return false;
    };
    Utils.isLevel0ImageProfile = function (profile) {
        if (Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_0) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_0)) {
            return true;
        }
        return false;
    };
    Utils.isLevel1ImageProfile = function (profile) {
        if (Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_1) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_1)) {
            return true;
        }
        return false;
    };
    Utils.isLevel2ImageProfile = function (profile) {
        if (Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_COMPLIANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_COMPLIANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_0_CONFORMANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_CONFORMANCE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_1_PROFILE_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_LEVEL_2) ||
            Utils.normalisedUrlsMatch(profile, _iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].IMAGE_2_PROFILE_LEVEL_2)) {
            return true;
        }
        return false;
    };
    Utils.parseManifest = function (manifest, options) {
        return _internal__WEBPACK_IMPORTED_MODULE_0__["Deserialiser"].parse(manifest, options);
    };
    Utils.checkStatus = function (response) {
        if (response.ok) {
            return response;
        }
        else {
            var error = new Error(response.statusText);
            error.response = response;
            return Promise.reject(error);
        }
    };
    Utils.loadManifest = function (uri) {
        return new Promise(function (resolve) {
            fetch(uri)
                .then(Utils.checkStatus)
                .then(function (r) { return r.json(); })
                .then(function (data) {
                resolve(data);
            });
        });
    };
    Utils.loadExternalResourcesAuth1 = function (resources, openContentProviderInteraction, openTokenService, getStoredAccessToken, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages) {
        return new Promise(function (resolve, reject) {
            var promises = resources.map(function (resource) {
                return Utils.loadExternalResourceAuth1(resource, openContentProviderInteraction, openTokenService, getStoredAccessToken, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages);
            });
            Promise.all(promises)
                .then(function () {
                resolve(resources);
            })["catch"](function (error) {
                reject(error);
            });
        });
    };
    Utils.loadExternalResourceAuth1 = function (resource, openContentProviderInteraction, openTokenService, getStoredAccessToken, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages) {
        return __awaiter(this, void 0, void 0, function () {
            var storedAccessToken;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, getStoredAccessToken(resource)];
                    case 1:
                        storedAccessToken = _a.sent();
                        if (!storedAccessToken) return [3 /*break*/, 6];
                        return [4 /*yield*/, resource.getData(storedAccessToken)];
                    case 2:
                        _a.sent();
                        if (!(resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"])) return [3 /*break*/, 3];
                        return [2 /*return*/, resource];
                    case 3: 
                    // the stored token is no good for this resource
                    return [4 /*yield*/, Utils.doAuthChain(resource, openContentProviderInteraction, openTokenService, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages)];
                    case 4:
                        // the stored token is no good for this resource
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"] || resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["MOVED_TEMPORARILY"]) {
                            return [2 /*return*/, resource];
                        }
                        throw Utils.createAuthorizationFailedError();
                    case 6: return [4 /*yield*/, resource.getData()];
                    case 7:
                        _a.sent();
                        if (!(resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["MOVED_TEMPORARILY"] ||
                            resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["UNAUTHORIZED"])) return [3 /*break*/, 9];
                        return [4 /*yield*/, Utils.doAuthChain(resource, openContentProviderInteraction, openTokenService, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages)];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9:
                        if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"] || resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["MOVED_TEMPORARILY"]) {
                            return [2 /*return*/, resource];
                        }
                        throw Utils.createAuthorizationFailedError();
                }
            });
        });
    };
    Utils.doAuthChain = function (resource, openContentProviderInteraction, openTokenService, userInteractedWithContentProvider, getContentProviderInteraction, handleMovedTemporarily, showOutOfOptionsMessages) {
        return __awaiter(this, void 0, void 0, function () {
            var externalService, kioskService, clickThroughService, loginService, serviceToTry, lastAttempted, kioskInteraction, contentProviderInteraction, contentProviderInteraction;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // This function enters the flowchart at the < External? > junction
                        // http://iiif.io/api/auth/1.0/#workflow-from-the-browser-client-perspective
                        if (!resource.isAccessControlled()) {
                            return [2 /*return*/, resource]; // no services found
                        }
                        externalService = resource.externalService;
                        if (externalService) {
                            externalService.options = resource.options;
                        }
                        kioskService = resource.kioskService;
                        if (kioskService) {
                            kioskService.options = resource.options;
                        }
                        clickThroughService = resource.clickThroughService;
                        if (clickThroughService) {
                            clickThroughService.options = resource.options;
                        }
                        loginService = resource.loginService;
                        if (loginService) {
                            loginService.options = resource.options;
                        }
                        if (!(!resource.isResponseHandled && resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["MOVED_TEMPORARILY"])) return [3 /*break*/, 2];
                        return [4 /*yield*/, handleMovedTemporarily(resource)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 2:
                        serviceToTry = null;
                        lastAttempted = null;
                        // repetition of logic is left in these steps for clarity:
                        // Looking for external pattern
                        serviceToTry = externalService;
                        if (!serviceToTry) return [3 /*break*/, 4];
                        lastAttempted = serviceToTry;
                        return [4 /*yield*/, Utils.attemptResourceWithToken(resource, openTokenService, serviceToTry)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 4:
                        // Looking for kiosk pattern
                        serviceToTry = kioskService;
                        if (!serviceToTry) return [3 /*break*/, 7];
                        lastAttempted = serviceToTry;
                        kioskInteraction = openContentProviderInteraction(serviceToTry);
                        if (!kioskInteraction) return [3 /*break*/, 7];
                        return [4 /*yield*/, userInteractedWithContentProvider(kioskInteraction)];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, Utils.attemptResourceWithToken(resource, openTokenService, serviceToTry)];
                    case 6:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 7:
                        // The code for the next two patterns is identical (other than the profile name).
                        // The difference is in the expected behaviour of
                        //
                        //    await userInteractedWithContentProvider(contentProviderInteraction);
                        //
                        // For clickthrough the opened window should close immediately having established
                        // a session, whereas for login the user might spend some time entering credentials etc.
                        // Looking for clickthrough pattern
                        serviceToTry = clickThroughService;
                        if (!serviceToTry) return [3 /*break*/, 11];
                        lastAttempted = serviceToTry;
                        return [4 /*yield*/, getContentProviderInteraction(resource, serviceToTry)];
                    case 8:
                        contentProviderInteraction = _a.sent();
                        if (!contentProviderInteraction) return [3 /*break*/, 11];
                        // should close immediately
                        return [4 /*yield*/, userInteractedWithContentProvider(contentProviderInteraction)];
                    case 9:
                        // should close immediately
                        _a.sent();
                        return [4 /*yield*/, Utils.attemptResourceWithToken(resource, openTokenService, serviceToTry)];
                    case 10:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 11:
                        // Looking for login pattern
                        serviceToTry = loginService;
                        if (!serviceToTry) return [3 /*break*/, 15];
                        lastAttempted = serviceToTry;
                        return [4 /*yield*/, getContentProviderInteraction(resource, serviceToTry)];
                    case 12:
                        contentProviderInteraction = _a.sent();
                        if (!contentProviderInteraction) return [3 /*break*/, 15];
                        // we expect the user to spend some time interacting
                        return [4 /*yield*/, userInteractedWithContentProvider(contentProviderInteraction)];
                    case 13:
                        // we expect the user to spend some time interacting
                        _a.sent();
                        return [4 /*yield*/, Utils.attemptResourceWithToken(resource, openTokenService, serviceToTry)];
                    case 14:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 15:
                        // nothing worked! Use the most recently tried service as the source of
                        // messages to show to the user.
                        if (lastAttempted) {
                            showOutOfOptionsMessages(resource, lastAttempted);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    Utils.attemptResourceWithToken = function (resource, openTokenService, authService) {
        return __awaiter(this, void 0, void 0, function () {
            var tokenService, tokenMessage;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        tokenService = authService.getService(_iiif_vocabulary_dist_commonjs__WEBPACK_IMPORTED_MODULE_1__["ServiceProfile"].AUTH_1_TOKEN);
                        if (!tokenService) return [3 /*break*/, 3];
                        return [4 /*yield*/, openTokenService(resource, tokenService)];
                    case 1:
                        tokenMessage = _a.sent();
                        if (!(tokenMessage && tokenMessage.accessToken)) return [3 /*break*/, 3];
                        return [4 /*yield*/, resource.getData(tokenMessage)];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, resource];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    Utils.loadExternalResourcesAuth09 = function (resources, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken, handleResourceResponse, options) {
        return new Promise(function (resolve, reject) {
            var promises = resources.map(function (resource) {
                return Utils.loadExternalResourceAuth09(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken, handleResourceResponse, options);
            });
            Promise.all(promises)
                .then(function () {
                resolve(resources);
            })["catch"](function (error) {
                reject(error);
            });
        });
    };
    // IIIF auth api pre v1.0
    // Keeping this around for now until the auth 1.0 implementation is stable
    Utils.loadExternalResourceAuth09 = function (resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken, handleResourceResponse, options) {
        return new Promise(function (resolve, reject) {
            if (options && options.pessimisticAccessControl) {
                // pessimistic: access control cookies may have been deleted.
                // always request the access token for every access controlled info.json request
                // returned access tokens are not stored, therefore the login window flashes for every request.
                resource
                    .getData()
                    .then(function () {
                    if (resource.isAccessControlled()) {
                        // if the resource has a click through service, use that.
                        if (resource.clickThroughService) {
                            resolve(clickThrough(resource));
                            //} else if(resource.restrictedService) {
                            resolve(restricted(resource));
                        }
                        else {
                            login(resource)
                                .then(function () {
                                getAccessToken(resource, true)
                                    .then(function (token) {
                                    resource
                                        .getData(token)
                                        .then(function () {
                                        resolve(handleResourceResponse(resource));
                                    })["catch"](function (message) {
                                        reject(Utils.createInternalServerError(message));
                                    });
                                })["catch"](function (message) {
                                    reject(Utils.createInternalServerError(message));
                                });
                            })["catch"](function (message) {
                                reject(Utils.createInternalServerError(message));
                            });
                        }
                    }
                    else {
                        // this info.json isn't access controlled, therefore no need to request an access token.
                        resolve(resource);
                    }
                })["catch"](function (message) {
                    reject(Utils.createInternalServerError(message));
                });
            }
            else {
                // optimistic: access control cookies may not have been deleted.
                // store access tokens to avoid login window flashes.
                // if cookies are deleted a page refresh is required.
                // try loading the resource using an access token that matches the info.json domain.
                // if an access token is found, request the resource using it regardless of whether it is access controlled.
                getStoredAccessToken(resource, tokenStorageStrategy)
                    .then(function (storedAccessToken) {
                    if (storedAccessToken) {
                        // try using the stored access token
                        resource
                            .getData(storedAccessToken)
                            .then(function () {
                            // if the info.json loaded using the stored access token
                            if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"]) {
                                resolve(handleResourceResponse(resource));
                            }
                            else {
                                // otherwise, load the resource data to determine the correct access control services.
                                // if access controlled, do login.
                                Utils.authorize(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken)
                                    .then(function () {
                                    resolve(handleResourceResponse(resource));
                                })["catch"](function (error) {
                                    // if (resource.restrictedService){
                                    //     reject(Utils.createRestrictedError());
                                    // } else {
                                    reject(Utils.createAuthorizationFailedError());
                                    //}
                                });
                            }
                        })["catch"](function (error) {
                            reject(Utils.createAuthorizationFailedError());
                        });
                    }
                    else {
                        Utils.authorize(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken)
                            .then(function () {
                            resolve(handleResourceResponse(resource));
                        })["catch"](function (error) {
                            reject(Utils.createAuthorizationFailedError());
                        });
                    }
                })["catch"](function (error) {
                    reject(Utils.createAuthorizationFailedError());
                });
            }
        });
    };
    Utils.createError = function (name, message) {
        var error = new Error();
        error.message = message;
        error.name = String(name);
        return error;
    };
    Utils.createAuthorizationFailedError = function () {
        return Utils.createError(_internal__WEBPACK_IMPORTED_MODULE_0__["StatusCode"].AUTHORIZATION_FAILED, "Authorization failed");
    };
    Utils.createRestrictedError = function () {
        return Utils.createError(_internal__WEBPACK_IMPORTED_MODULE_0__["StatusCode"].RESTRICTED, "Restricted");
    };
    Utils.createInternalServerError = function (message) {
        return Utils.createError(_internal__WEBPACK_IMPORTED_MODULE_0__["StatusCode"].INTERNAL_SERVER_ERROR, message);
    };
    Utils.authorize = function (resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, getStoredAccessToken) {
        return new Promise(function (resolve, reject) {
            resource.getData().then(function () {
                if (resource.isAccessControlled()) {
                    getStoredAccessToken(resource, tokenStorageStrategy)
                        .then(function (storedAccessToken) {
                        if (storedAccessToken) {
                            // try using the stored access token
                            resource
                                .getData(storedAccessToken)
                                .then(function () {
                                if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"]) {
                                    resolve(resource); // happy path ended
                                }
                                else {
                                    // the stored token is no good for this resource
                                    Utils.showAuthInteraction(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, resolve, reject);
                                }
                            })["catch"](function (message) {
                                reject(Utils.createInternalServerError(message));
                            });
                        }
                        else {
                            // There was no stored token, but the user might have a cookie that will grant a token
                            getAccessToken(resource, false).then(function (accessToken) {
                                if (accessToken) {
                                    storeAccessToken(resource, accessToken, tokenStorageStrategy)
                                        .then(function () {
                                        // try using the fresh access token
                                        resource
                                            .getData(accessToken)
                                            .then(function () {
                                            if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["OK"]) {
                                                resolve(resource);
                                            }
                                            else {
                                                // User has a token, but it's not good enough
                                                Utils.showAuthInteraction(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, resolve, reject);
                                            }
                                        })["catch"](function (message) {
                                            reject(Utils.createInternalServerError(message));
                                        });
                                    })["catch"](function (message) {
                                        // not able to store access token
                                        reject(Utils.createInternalServerError(message));
                                    });
                                }
                                else {
                                    // The user did not have a cookie that granted a token
                                    Utils.showAuthInteraction(resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, resolve, reject);
                                }
                            });
                        }
                    })["catch"](function (message) {
                        reject(Utils.createInternalServerError(message));
                    });
                }
                else {
                    // this info.json isn't access controlled, therefore there's no need to request an access token
                    resolve(resource);
                }
            });
        });
    };
    Utils.showAuthInteraction = function (resource, tokenStorageStrategy, clickThrough, restricted, login, getAccessToken, storeAccessToken, resolve, reject) {
        if (resource.status === _edsilv_http_status_codes_dist_commonjs__WEBPACK_IMPORTED_MODULE_2__["MOVED_TEMPORARILY"] && !resource.isResponseHandled) {
            // if the resource was redirected to a degraded version
            // and the response hasn't been handled yet.
            // if the client wishes to trigger a login, set resource.isResponseHandled to true
            // and call loadExternalResources() again passing the resource.
            resolve(resource);
            // } else if (resource.restrictedService) {
            //     resolve(restricted(resource));
            //     // TODO: move to next etc
        }
        else if (resource.clickThroughService && !resource.isResponseHandled) {
            // if the resource has a click through service, use that.
            clickThrough(resource).then(function () {
                getAccessToken(resource, true)
                    .then(function (accessToken) {
                    storeAccessToken(resource, accessToken, tokenStorageStrategy)
                        .then(function () {
                        resource
                            .getData(accessToken)
                            .then(function () {
                            resolve(resource);
                        })["catch"](function (message) {
                            reject(Utils.createInternalServerError(message));
                        });
                    })["catch"](function (message) {
                        reject(Utils.createInternalServerError(message));
                    });
                })["catch"](function (message) {
                    reject(Utils.createInternalServerError(message));
                });
            });
        }
        else {
            // get an access token
            login(resource).then(function () {
                getAccessToken(resource, true)
                    .then(function (accessToken) {
                    storeAccessToken(resource, accessToken, tokenStorageStrategy)
                        .then(function () {
                        resource
                            .getData(accessToken)
                            .then(function () {
                            resolve(resource);
                        })["catch"](function (message) {
                            reject(Utils.createInternalServerError(message));
                        });
                    })["catch"](function (message) {
                        reject(Utils.createInternalServerError(message));
                    });
                })["catch"](function (message) {
                    reject(Utils.createInternalServerError(message));
                });
            });
        }
    };
    Utils.getService = function (resource, profile) {
        var services = this.getServices(resource);
        for (var i = 0; i < services.length; i++) {
            var service = services[i];
            if (service.getProfile() === profile) {
                return service;
            }
        }
        return null;
    };
    Utils.getResourceById = function (parentResource, id) {
        return (Utils.traverseAndFind(parentResource.__jsonld, "@id", id));
    };
    /**
     * Does a depth first traversal of an Object, returning an Object that
     * matches provided k and v arguments
     * @example Utils.traverseAndFind({foo: 'bar'}, 'foo', 'bar')
     */
    Utils.traverseAndFind = function (object, k, v) {
        if (object.hasOwnProperty(k) && object[k] === v) {
            return object;
        }
        for (var i = 0; i < Object.keys(object).length; i++) {
            if (typeof object[Object.keys(object)[i]] === "object") {
                var o = Utils.traverseAndFind(object[Object.keys(object)[i]], k, v);
                if (o != null) {
                    return o;
                }
            }
        }
        return undefined;
    };
    Utils.getServices = function (resource) {
        var service;
        // if passing a manifesto-parsed object, use the __jsonld.service property,
        // otherwise look for a service property (info.json services)
        if (resource.__jsonld) {
            service = resource.__jsonld.service;
        }
        else {
            service = resource.service;
        }
        var services = [];
        if (!service)
            return services;
        // coerce to array
        if (!Array.isArray(service)) {
            service = [service];
        }
        for (var i = 0; i < service.length; i++) {
            var s = service[i];
            if (typeof s === "string") {
                var r = this.getResourceById(resource.options.resource, s);
                if (r) {
                    services.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["Service"](r.__jsonld || r, resource.options));
                }
            }
            else {
                services.push(new _internal__WEBPACK_IMPORTED_MODULE_0__["Service"](s, resource.options));
            }
        }
        return services;
    };
    Utils.getTemporalComponent = function (target) {
        var temporal = /t=([^&]+)/g.exec(target);
        var t = null;
        if (temporal && temporal[1]) {
            t = temporal[1].split(",");
        }
        return t;
    };
    return Utils;
}());

//# sourceMappingURL=Utils.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/index.js ***!
  \**********************************************************/
/*! exports provided: loadManifest, parseManifest, JSONLDResource, ManifestResource, Resource, IIIFResource, Annotation, AnnotationBody, AnnotationList, AnnotationPage, Canvas, Collection, Duration, LabelValuePair, Language, LanguageMap, Manifest, ManifestType, Range, Rendering, Sequence, Deserialiser, Service, Size, StatusCode, Thumb, Thumbnail, TreeNode, TreeNodeType, Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadManifest", function() { return loadManifest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseManifest", function() { return parseManifest; });
/* harmony import */ var _internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal */ "./node_modules/manifesto.js/dist-esmodule/internal.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JSONLDResource", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["JSONLDResource"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ManifestResource", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["ManifestResource"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Resource", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Resource"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IIIFResource", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["IIIFResource"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Annotation", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Annotation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationBody", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationBody"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationList", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationPage", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["AnnotationPage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Canvas", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Canvas"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collection", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Collection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Duration", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Duration"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelValuePair", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["LabelValuePair"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Language", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Language"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LanguageMap", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["LanguageMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Manifest", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Manifest"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ManifestType", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["ManifestType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Range", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Range"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Rendering", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Rendering"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Sequence", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Sequence"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Deserialiser", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Deserialiser"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Service", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Service"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Size", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Size"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StatusCode", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["StatusCode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Thumb", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Thumb"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Thumbnail", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Thumbnail"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeNode", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["TreeNode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeNodeType", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["TreeNodeType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return _internal__WEBPACK_IMPORTED_MODULE_0__["Utils"]; });

/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ "./node_modules/manifesto.js/dist-esmodule/Utils.js");


var loadManifest = function (uri) {
    return _Utils__WEBPACK_IMPORTED_MODULE_1__["Utils"].loadManifest(uri);
};
var parseManifest = function (manifest, options) {
    return _Utils__WEBPACK_IMPORTED_MODULE_1__["Utils"].parseManifest(manifest, options);
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/manifesto.js/dist-esmodule/internal.js":
/*!*************************************************************!*\
  !*** ./node_modules/manifesto.js/dist-esmodule/internal.js ***!
  \*************************************************************/
/*! exports provided: JSONLDResource, ManifestResource, Resource, IIIFResource, Annotation, AnnotationBody, AnnotationList, AnnotationPage, Canvas, Collection, Duration, LabelValuePair, Language, LanguageMap, Manifest, ManifestType, Range, Rendering, Sequence, Deserialiser, Service, Size, StatusCode, Thumb, Thumbnail, TreeNode, TreeNodeType, Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _JSONLDResource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JSONLDResource */ "./node_modules/manifesto.js/dist-esmodule/JSONLDResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JSONLDResource", function() { return _JSONLDResource__WEBPACK_IMPORTED_MODULE_0__["JSONLDResource"]; });

/* harmony import */ var _ManifestResource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ManifestResource */ "./node_modules/manifesto.js/dist-esmodule/ManifestResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ManifestResource", function() { return _ManifestResource__WEBPACK_IMPORTED_MODULE_1__["ManifestResource"]; });

/* harmony import */ var _Resource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Resource */ "./node_modules/manifesto.js/dist-esmodule/Resource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Resource", function() { return _Resource__WEBPACK_IMPORTED_MODULE_2__["Resource"]; });

/* harmony import */ var _IIIFResource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IIIFResource */ "./node_modules/manifesto.js/dist-esmodule/IIIFResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IIIFResource", function() { return _IIIFResource__WEBPACK_IMPORTED_MODULE_3__["IIIFResource"]; });

/* harmony import */ var _Annotation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Annotation */ "./node_modules/manifesto.js/dist-esmodule/Annotation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Annotation", function() { return _Annotation__WEBPACK_IMPORTED_MODULE_4__["Annotation"]; });

/* harmony import */ var _AnnotationBody__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AnnotationBody */ "./node_modules/manifesto.js/dist-esmodule/AnnotationBody.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationBody", function() { return _AnnotationBody__WEBPACK_IMPORTED_MODULE_5__["AnnotationBody"]; });

/* harmony import */ var _AnnotationList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AnnotationList */ "./node_modules/manifesto.js/dist-esmodule/AnnotationList.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationList", function() { return _AnnotationList__WEBPACK_IMPORTED_MODULE_6__["AnnotationList"]; });

/* harmony import */ var _AnnotationPage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AnnotationPage */ "./node_modules/manifesto.js/dist-esmodule/AnnotationPage.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationPage", function() { return _AnnotationPage__WEBPACK_IMPORTED_MODULE_7__["AnnotationPage"]; });

/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Canvas */ "./node_modules/manifesto.js/dist-esmodule/Canvas.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Canvas", function() { return _Canvas__WEBPACK_IMPORTED_MODULE_8__["Canvas"]; });

/* harmony import */ var _Collection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Collection */ "./node_modules/manifesto.js/dist-esmodule/Collection.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collection", function() { return _Collection__WEBPACK_IMPORTED_MODULE_9__["Collection"]; });

/* harmony import */ var _Duration__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Duration */ "./node_modules/manifesto.js/dist-esmodule/Duration.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Duration", function() { return _Duration__WEBPACK_IMPORTED_MODULE_10__["Duration"]; });

/* harmony import */ var _LabelValuePair__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LabelValuePair */ "./node_modules/manifesto.js/dist-esmodule/LabelValuePair.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelValuePair", function() { return _LabelValuePair__WEBPACK_IMPORTED_MODULE_11__["LabelValuePair"]; });

/* harmony import */ var _Language__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Language */ "./node_modules/manifesto.js/dist-esmodule/Language.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Language", function() { return _Language__WEBPACK_IMPORTED_MODULE_12__["Language"]; });

/* harmony import */ var _LanguageMap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LanguageMap */ "./node_modules/manifesto.js/dist-esmodule/LanguageMap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LanguageMap", function() { return _LanguageMap__WEBPACK_IMPORTED_MODULE_13__["LanguageMap"]; });

/* harmony import */ var _Manifest__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Manifest */ "./node_modules/manifesto.js/dist-esmodule/Manifest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Manifest", function() { return _Manifest__WEBPACK_IMPORTED_MODULE_14__["Manifest"]; });

/* harmony import */ var _ManifestType__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ManifestType */ "./node_modules/manifesto.js/dist-esmodule/ManifestType.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ManifestType", function() { return _ManifestType__WEBPACK_IMPORTED_MODULE_15__["ManifestType"]; });

/* harmony import */ var _Range__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Range */ "./node_modules/manifesto.js/dist-esmodule/Range.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Range", function() { return _Range__WEBPACK_IMPORTED_MODULE_16__["Range"]; });

/* harmony import */ var _Rendering__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Rendering */ "./node_modules/manifesto.js/dist-esmodule/Rendering.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Rendering", function() { return _Rendering__WEBPACK_IMPORTED_MODULE_17__["Rendering"]; });

/* harmony import */ var _Sequence__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Sequence */ "./node_modules/manifesto.js/dist-esmodule/Sequence.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Sequence", function() { return _Sequence__WEBPACK_IMPORTED_MODULE_18__["Sequence"]; });

/* harmony import */ var _Serialisation__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Serialisation */ "./node_modules/manifesto.js/dist-esmodule/Serialisation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Deserialiser", function() { return _Serialisation__WEBPACK_IMPORTED_MODULE_19__["Deserialiser"]; });

/* harmony import */ var _Service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Service */ "./node_modules/manifesto.js/dist-esmodule/Service.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Service", function() { return _Service__WEBPACK_IMPORTED_MODULE_20__["Service"]; });

/* harmony import */ var _Size__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Size */ "./node_modules/manifesto.js/dist-esmodule/Size.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Size", function() { return _Size__WEBPACK_IMPORTED_MODULE_21__["Size"]; });

/* harmony import */ var _StatusCode__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./StatusCode */ "./node_modules/manifesto.js/dist-esmodule/StatusCode.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StatusCode", function() { return _StatusCode__WEBPACK_IMPORTED_MODULE_22__["StatusCode"]; });

/* harmony import */ var _Thumb__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Thumb */ "./node_modules/manifesto.js/dist-esmodule/Thumb.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Thumb", function() { return _Thumb__WEBPACK_IMPORTED_MODULE_23__["Thumb"]; });

/* harmony import */ var _Thumbnail__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Thumbnail */ "./node_modules/manifesto.js/dist-esmodule/Thumbnail.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Thumbnail", function() { return _Thumbnail__WEBPACK_IMPORTED_MODULE_24__["Thumbnail"]; });

/* harmony import */ var _TreeNode__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./TreeNode */ "./node_modules/manifesto.js/dist-esmodule/TreeNode.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeNode", function() { return _TreeNode__WEBPACK_IMPORTED_MODULE_25__["TreeNode"]; });

/* harmony import */ var _TreeNodeType__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./TreeNodeType */ "./node_modules/manifesto.js/dist-esmodule/TreeNodeType.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeNodeType", function() { return _TreeNodeType__WEBPACK_IMPORTED_MODULE_26__["TreeNodeType"]; });

/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Utils */ "./node_modules/manifesto.js/dist-esmodule/Utils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return _Utils__WEBPACK_IMPORTED_MODULE_27__["Utils"]; });





























//# sourceMappingURL=internal.js.map

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/unfetch/dist/unfetch.mjs":
/*!***********************************************!*\
  !*** ./node_modules/unfetch/dist/unfetch.mjs ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t}),t(a())},s.onerror=r,s.withCredentials="include"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})});
//# sourceMappingURL=unfetch.mjs.map


/***/ }),

/***/ "./node_modules/webpack-jquery-ui/effects.js":
/*!**************************************!*\
  !*** (webpack)-jquery-ui/effects.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/effect */ "./node_modules/jquery-ui/ui/effect.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-blind */ "./node_modules/jquery-ui/ui/effects/effect-blind.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-bounce */ "./node_modules/jquery-ui/ui/effects/effect-bounce.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-clip */ "./node_modules/jquery-ui/ui/effects/effect-clip.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-drop */ "./node_modules/jquery-ui/ui/effects/effect-drop.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-explode */ "./node_modules/jquery-ui/ui/effects/effect-explode.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fade */ "./node_modules/jquery-ui/ui/effects/effect-fade.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fold */ "./node_modules/jquery-ui/ui/effects/effect-fold.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-highlight */ "./node_modules/jquery-ui/ui/effects/effect-highlight.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-puff */ "./node_modules/jquery-ui/ui/effects/effect-puff.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-pulsate */ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-shake */ "./node_modules/jquery-ui/ui/effects/effect-shake.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-slide */ "./node_modules/jquery-ui/ui/effects/effect-slide.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-transfer */ "./node_modules/jquery-ui/ui/effects/effect-transfer.js");

/***/ }),

/***/ "./node_modules/webpack-jquery-ui/slider.js":
/*!*************************************!*\
  !*** (webpack)-jquery-ui/slider.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/widget */ "./node_modules/jquery-ui/ui/widget.js");
__webpack_require__(/*! jquery-ui/ui/keycode */ "./node_modules/jquery-ui/ui/keycode.js");
__webpack_require__(/*! jquery-ui/ui/widgets/mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js");
__webpack_require__(/*! jquery-ui/ui/widgets/slider */ "./node_modules/jquery-ui/ui/widgets/slider.js");
__webpack_require__(/*! jquery-ui/themes/base/core.css */ "./node_modules/jquery-ui/themes/base/core.css");
__webpack_require__(/*! jquery-ui/themes/base/slider.css */ "./node_modules/jquery-ui/themes/base/slider.css");

/***/ }),

/***/ "./src/components/languages/lang.js":
/*!******************************************!*\
  !*** ./src/components/languages/lang.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  locales: [{
    name: 'Български',
    code: 'bg',
    iso: 'bg-BG'
  }, {
    name: 'Čeština',
    code: 'cs',
    iso: 'cs-CZ'
  }, {
    name: 'Dansk',
    code: 'da',
    iso: 'da-DK'
  }, {
    name: 'Deutsch',
    code: 'de',
    iso: 'de-DE'
  }, {
    name: 'Ελληνικά',
    code: 'el',
    iso: 'el-GR'
  }, {
    name: 'English',
    code: 'en',
    iso: 'en-GB'
  }, {
    name: 'Español',
    code: 'es',
    iso: 'es-ES'
  }, {
    name: 'Eesti',
    code: 'et',
    iso: 'et-EE'
  }, {
    name: 'Euskara',
    code: 'eu',
    iso: 'eu-ES'
  }, {
    name: 'Suomi',
    code: 'fi',
    iso: 'fi-FI'
  }, {
    name: 'Français',
    code: 'fr',
    iso: 'fr-FR'
  }, {
    name: 'Gaeilge',
    code: 'ga',
    iso: 'ga-IE'
  }, {
    name: 'Hrvatski',
    code: 'hr',
    iso: 'hr-HR'
  }, {
    name: 'Magyar',
    code: 'hu',
    iso: 'hu-HU'
  }, {
    name: 'Italiano',
    code: 'it',
    iso: 'it-IT'
  }, {
    name: 'Lietuvių',
    code: 'lt',
    iso: 'lt-LT'
  }, {
    name: 'Latviešu',
    code: 'lv',
    iso: 'lv-LV'
  }, {
    name: 'Malti',
    code: 'mt',
    iso: 'mt-MT'
  }, {
    name: 'Nederlands',
    code: 'nl',
    iso: 'nl-NL'
  }, {
    name: 'Polski',
    code: 'pl',
    iso: 'pl-PL'
  }, {
    name: 'Português',
    code: 'pt',
    iso: 'pt-PT'
  }, {
    name: 'Română',
    code: 'ro',
    iso: 'ro-RO'
  }, {
    name: 'Slovenčina',
    code: 'sk',
    iso: 'sk-SK'
  }, {
    name: 'Slovenščina',
    code: 'sl',
    iso: 'sl-SI'
  }, {
    name: 'Svenska',
    code: 'sv',
    iso: 'sv-SE'
  }]
};

/***/ }),

/***/ "./src/components/player/i18n/languages.json":
/*!***************************************************!*\
  !*** ./src/components/player/i18n/languages.json ***!
  \***************************************************/
/*! exports provided: en, nl, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"en\":{\"player-play\":\"Play\",\"player-pause\":\"Pause\",\"player-fullscreen\":\"Fullscreen\",\"player-mute\":\"Mute\",\"player-unmute\":\"Unmute\",\"player-subtitles\":\"Subtitles\",\"player-more\":\"More\",\"player-create-annotations\":\"Create annotations\",\"player-create-embed\":\"Create embed\",\"player-create-playlist\":\"Create playlist\",\"player-create-subtitles\":\"Create subtitles\",\"player-error\":\"Error\",\"player-error-loading\":\"loading aborted\",\"player-error-network\":\"network error\",\"player-error-decoding\":\"decoding of media failed\",\"player-error-format\":\"media format not suppported by this browser\",\"player-error-unknown\":\"unknown\"},\"nl\":{\"player-play\":\"Afspelen\",\"player-pause\":\"Pauzeren\",\"player-fullscreen\":\"Volledig scherm\",\"player-mute\":\"Dempen\",\"player-unmute\":\"Dempen opheffen\",\"player-subtitles\":\"Ondertitels\",\"player-more\":\"Meer\",\"player-create-annotation\":\"Maak annotaties\",\"player-create-embed\":\"Maak een embed\",\"player-create-playlist\":\"Maak een playlist\",\"player-create-subtitles\":\"Maak ondertitels\",\"player-error\":\"Error\",\"player-error-loading\":\"laden geannuleerd\",\"player-error-network\":\"netwerk error\",\"player-error-decoding\":\"media decoderen mislukt\",\"player-error-format\":\"media formaat wordt niet ondersteund door deze browser\",\"player-error-unknown\":\"onbekend\"}}");

/***/ }),

/***/ "./src/components/player/index.css":
/*!*****************************************!*\
  !*** ./src/components/player/index.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css", function() {
		var newContent = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/components/player/index.js":
/*!****************************************!*\
  !*** ./src/components/player/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ initCanvasNavigation */

__webpack_require__(/*! ./index.css */ "./src/components/player/index.css");

var _bananaI18n = __webpack_require__(/*! banana-i18n */ "./node_modules/banana-i18n/dist/banana-i18n.js");

var _bananaI18n2 = _interopRequireDefault(_bananaI18n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

__webpack_require__(/*! @iiif/iiif-tree-component */ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js");
__webpack_require__(/*! @iiif/base-component */ "./node_modules/@iiif/base-component/dist-esmodule/index.js");
__webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-esmodule/index.js");
var Manifold = __webpack_require__(/*! @iiif/manifold */ "./node_modules/@iiif/manifold/dist-esmodule/index.js");
var IIIFAVComponent = __webpack_require__(/*! @iiif/iiif-av-component */ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js");
__webpack_require__(/*! dashjs */ "dashjs");

__webpack_require__(/*! webpack-jquery-ui/slider */ "./node_modules/webpack-jquery-ui/slider.js");
__webpack_require__(/*! webpack-jquery-ui/effects */ "./node_modules/webpack-jquery-ui/effects.js");

var _require = __webpack_require__(/*! ./playerEventHandlers */ "./src/components/player/playerEventHandlers.js"),
    playEventHandler = _require.playEventHandler,
    pauseEventHandler = _require.pauseEventHandler,
    volumeChangedEventHandler = _require.volumeChangedEventHandler,
    keyEventHandler = _require.keyEventHandler,
    playPauseEventHandler = _require.playPauseEventHandler,
    fullScreenEventHandler = _require.fullScreenEventHandler,
    editorButtonEventHandler = _require.editorButtonEventHandler,
    toggleSubtitlesEventHandler = _require.toggleSubtitlesEventHandler,
    subtitleMenuEventHandler = _require.subtitleMenuEventHandler,
    openEditorTypeEventHandler = _require.openEditorTypeEventHandler,
    mediaErrorHandler = _require.mediaErrorHandler;

var languages = __webpack_require__(/*! ../languages/lang.js */ "./src/components/languages/lang.js").default.locales;
var i18n = __webpack_require__(/*! ./i18n/languages.json */ "./src/components/player/i18n/languages.json");

var helper = void 0;

var Player = function () {
  function Player(elem) {
    _classCallCheck(this, Player);

    if (!elem) return;
    this.elem = elem;

    this.videoId = '';
    this.avcomponent;
    this.timeupdate;
    this.manifest;
    this.manifesturl;
    this.editorurl;
    this.banana;
  }

  _createClass(Player, [{
    key: 'init',
    value: function init(videoObj, editorurl, language) {
      this.createAVComponent();
      this.createManifest(videoObj);
      this.editorurl = editorurl;

      this.state = {
        limitToRange: false,
        autoSelectRange: true,
        constrainNavigationToRange: true,
        virtualCanvasEnabled: true
      };

      //Check if the language is set, and if we have this present, otherwise default to English
      if (language.length === 0 || languages.find(function (lang) {
        return lang.code === language;
      }) === undefined) {
        language = 'en';
      }

      var banana = new _bananaI18n2.default(language);
      banana.load(i18n[language], language);
      this.banana = banana;
    }
  }, {
    key: 'createAVComponent',
    value: function createAVComponent() {
      var _this = this;

      this.$avcomponent = $('<div class="iiif-av-component" tabindex="0"></div>');
      $(this.elem).append(this.$avcomponent);

      var player = this;

      this.avcomponent = new IIIFAVComponent.AVComponent({ target: this.$avcomponent[0] });

      this.avcomponent.on('mediaerror', function (error) {
        mediaErrorHandler(player, error);
      });

      this.avcomponent.on('log', function (message) {
        console.log(message);
      });

      this.avcomponent.on('play', function () {
        playEventHandler(player);
      });

      this.avcomponent.on('pause', function () {
        pauseEventHandler(player);
      });

      this.avcomponent.on('mediaready', function () {
        _this.handleMediaReady(player);
      });

      this.avcomponent.on('fullscreen', function () {
        fullScreenEventHandler(player);
      });

      this.avcomponent.on('volumechanged', function (value) {
        volumeChangedEventHandler(player, value);
      });

      this.$avcomponent.on('keydown', function (e) {
        keyEventHandler(player, e);
      });
    }
  }, {
    key: 'itemSelectListener',
    value: function itemSelectListener(data) {
      if (this.handler === undefined) {
        this.handler = this;
      }

      this.handler.videoId = data;

      var player = this;

      this.handler.ldManifest(data, function (helper) {
        player.manifest = helper.manifest;

        var canvases = helper.getCanvases();
        if (canvases.length > 1) {
          initCanvasNavigation(canvases);
        } else {
          $('.canvasNavigationContainer').hide();
        }
      }, function (error) {
        console.error('ERROR: Could not load manifest data.', error);
      });
    }
  }, {
    key: 'ldManifest',
    value: function ldManifest(manifest, successcb, errorcb) {
      var player = this;

      Manifold.loadManifest({
        manifestUri: manifest,
        collectionIndex: 0,
        manifestIndex: 0,
        sequenceIndex: 0,
        canvasIndex: 0
      }).then(function (h) {
        helper = h;

        player.avcomponent.set({
          helper: helper,
          limitToRange: player.state.limitToRange,
          autoSelectRange: player.state.autoSelectRange,
          constrainNavigationToRange: player.state.constrainNavigationToRange,
          virtualCanvasEnabled: player.state.virtualCanvasEnabled
        });
        successcb(helper);
        player.resize();
      }).catch(function (e) {
        errorcb(e);
      });
    }
  }, {
    key: 'resize',
    value: function resize() {
      var $playerContainer = $('#' + this.elem.id + ' .playerContainer');
      $playerContainer.height($playerContainer.width() * 0.75);
      this.avcomponent.resize();
    }
  }, {
    key: 'createManifest',
    value: function createManifest(vObj) {
      var manifest = void 0;

      if (vObj.manifest) {
        manifest = vObj.manifest;
      } else if (vObj.source.startsWith('EUS_')) {
        manifest = 'https://videoeditor.noterik.com/manifest/euscreenmanifest.php?id=' + vObj.source;
      }

      this.manifesturl = manifest;
      this.itemSelectListener(manifest);
    }
  }, {
    key: 'initLanguages',
    value: function initLanguages() {
      var _this2 = this;

      var textTracks = $('#' + this.elem.id + ' video')[0].textTracks;

      //check if we have any texttracks
      if (textTracks.length === 0) {
        return;
      }

      //show button only if we have at least one language set
      $('.btn[data-name=Subtitles]').show();

      var menu = '<div class=\'anno subtitlemenu\'>';

      var _loop = function _loop(i) {
        menu += '<div class=\'subtitlemenu-option\' data-language=\'' + textTracks[i].language + '\'>' + languages.find(function (lang) {
          return lang.iso === textTracks[i].language;
        }).name + '</div>';
      };

      for (var i = 0; i < textTracks.length; i++) {
        _loop(i);
      }
      menu += '</div>';

      $('#' + this.elem.id + ' .canvas-container').append(menu);

      $('button[data-name="Subtitles"]')[0].addEventListener('click', function (e) {
        toggleSubtitlesEventHandler(_this2, e);
      });

      var player = this;

      $('.subtitlemenu-option').on('click', function (e) {
        subtitleMenuEventHandler(player, e);
      });
    }

    //todo: address audio as well

  }, {
    key: 'hasEnded',
    value: function hasEnded() {
      if ($('#' + this.elem.id + ' video').length) {
        return $('#' + this.elem.id + ' video')[0].ended;
      } else {
        return false;
      }
    }
  }, {
    key: 'handleMediaReady',
    value: function handleMediaReady(player) {
      if (player.avcomponent.canvasInstances[0]._canvasWidth < 400) {
        this.optimizeForSmallerScreens();
      }

      this.updateAVComponentLanguage(player);

      var subtitles = this.createButton('Subtitles', this.banana.i18n('player-subtitles'), 'av-icon-subtitles');
      $('#' + player.elem.id + ' .controls-container').append(subtitles);

      if (player.editorurl && player.editorurl.length > 0) {
        var showMenu = player.needToShowMenu(player);

        if (showMenu) {
          this.addEditorOption(player);
        }
      }

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno playwrapper\'><span class=\'playcircle\'></span></div>');

      this.handleMediaType(player);

      $('#' + player.elem.id + ' .canvas-container').on('click', function () {
        playPauseEventHandler(player);
      });
    }
  }, {
    key: 'optimizeForSmallerScreens',
    value: function optimizeForSmallerScreens() {
      $('.iiif-av-component .controls-container .volume').css({ 'width': 80 });
      $('.iiif-av-component .controls-container .volume .volume-slider').css({ 'width': 42 });
    }
  }, {
    key: 'addEditorOption',
    value: function addEditorOption(player) {
      var more = this.createButton('More', this.banana.i18n('player-more'), 'av-icon-more');
      more[0].addEventListener('click', function (e) {
        editorButtonEventHandler(player, e);
      });
      $('#' + player.elem.id + ' .controls-container').append(more);

      this.handleMenuOptions(player);
    }
  }, {
    key: 'updateAVComponentLanguage',
    value: function updateAVComponentLanguage(player) {
      $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n('player-mute'));
      $('#' + player.elem.id + ' .button-fullscreen').attr('title', player.banana.i18n('player-fullscreen'));
      $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
    }
  }, {
    key: 'createButton',
    value: function createButton(name, text, classname) {
      var button = $('<button class="btn" data-name="' + name + '" title="' + text + '"><i class="av-icon ' + classname + '" aria-hidden="true"></i>' + text + '</button>');
      return button;
    }
  }, {
    key: 'handleMenuOptions',
    value: function handleMenuOptions(player) {
      var _this3 = this;

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno moremenu\'></div>');

      var options = { embed: true, annotation: false, playlist: false, subtitles: false };
      options = player.determineOptionDisplay(player, options);

      var _loop2 = function _loop2(key, value) {
        if (value) {
          $('#' + player.elem.id + ' .moremenu').append('<div id=\'create-' + key + '-link\' class=\'moremenu-option\'>' + _this3.banana.i18n('player-create-' + key) + '</div>');

          $('#' + player.elem.id + ' #create-' + key + '-link').on('click', function (e) {
            openEditorTypeEventHandler(player, e, key);
          });
        }
      };

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = Object.entries(options)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _ref = _step.value;

          var _ref2 = _slicedToArray(_ref, 2);

          var key = _ref2[0];
          var value = _ref2[1];

          _loop2(key, value);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'needToShowMenu',
    value: function needToShowMenu(player) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var _ref3 = _step2.value;

          var _ref4 = _slicedToArray(_ref3, 2);

          var key = _ref4[0];
          var value = _ref4[1];

          if (value === 'allowed' && (key === 'embed' || key === 'annotation' || key === 'playlist' || key === 'subtitles')) {
            return true;
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return false;
    }
  }, {
    key: 'determineOptionDisplay',
    value: function determineOptionDisplay(player, options) {
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var _ref5 = _step3.value;

          var _ref6 = _slicedToArray(_ref5, 2);

          var key = _ref6[0];
          var value = _ref6[1];

          if (value === 'allowed') {
            options[key] = true;
          }
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      return options;
    }
  }, {
    key: 'handleMediaType',
    value: function handleMediaType(player) {
      var w = void 0,
          h = void 0;
      w = h = 400;
      switch (this.getMediaType(player)) {
        case 'Audio':
          this.setImage(player, player.manifest.__jsonld.thumbnail[0].id);
          break;
        case 'Video':
          w = player.avcomponent.canvasInstances[0]._canvasWidth;
          h = player.avcomponent.canvasInstances[0]._canvasHeight;
      }
      $('#' + player.elem.id).css({ width: w, height: h });
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(player) {
      return player.manifest.__jsonld.items[0].items[0].items[0].body.type;
    }
  }, {
    key: 'setImage',
    value: function setImage(player, image) {
      $('#' + player.elem.id + ' .canvas-container').css({ 'background-image': 'url(' + image + ')' });
      $('#' + player.elem.id + ' .canvas-container').addClass('audio-background');
    }
  }]);

  return Player;
}();

exports.default = Player;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/playerEventHandlers.js":
/*!******************************************************!*\
  !*** ./src/components/player/playerEventHandlers.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

/* global $ */

function playEventHandler(player) {
  $('#' + player.elem.id + ' .playwrapper').hide();
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-pause'));
}

function pauseEventHandler(player) {
  clearInterval(player.timeupdate);
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
}

function volumeChangedEventHandler(player, value) {
  var muteType = value !== 0 ? 'player-mute' : 'player-unmute';
  $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n(muteType));
}

function keyEventHandler(player, e) {
  if (e.keyCode === 32 || e.keyCode === 75) {
    //space bar, k button
    playPauseEventHandler(player);
  }
  if (e.keyCode === 70) {
    //f button
    $('#' + player.elem.id + ' .button-fullscreen').click();
  }
  if (e.keyCode === 38) {
    //volume up by 10%
    handleVolumeChange(player, 0.1);
  }
  if (e.keyCode === 40) {
    //volume down by 10%
    handleVolumeChange(player, -0.1);
  }
}

function playPauseEventHandler(player) {
  if (player.avcomponent.canvasInstances[0]._isPlaying) {
    player.avcomponent.canvasInstances[0].pause();
  } else {
    //hide playcircle if showing
    if ($('#' + player.elem.id + ' .playwrapper').is(':visible')) {
      $('#' + player.elem.id + ' .playwrapper').hide();
    }
    player.avcomponent.canvasInstances[0].play();
  }
}

function fullScreenEventHandler(player) {
  $('#' + player.elem.id + ' .moremenu').hide();
  $('#' + player.elem.id + ' .subtitlemenu').hide();
}

function handleVolumeChange(player, rate) {
  var val = $('#' + player.elem.id + ' .volume-slider').slider('option', 'value');
  val = determineNewVolume(val, rate);
  $('#' + player.elem.id + ' .volume-slider').slider('value', val);
}

function determineNewVolume(val, rate) {
  if (rate < 0) {
    return decreaseVolume(val, rate);
  } else {
    return increaseVolume(val, rate);
  }
}

function decreaseVolume(val, rate) {
  return val < rate ? 0 : val + rate;
}

function increaseVolume(val, rate) {
  return val > rate + val > 1 ? 1 : val + rate;
}

function editorButtonEventHandler(player, e) {
  toggleMenuOption(player, e, 'moremenu', 'More');
}

function toggleSubtitlesEventHandler(player, e) {
  toggleMenuOption(player, e, 'subtitlemenu', 'Subtitles');
}

function toggleMenuOption(player, e, cls, name) {
  e.preventDefault();

  if ($('#' + player.elem.id + ' .' + cls).is(':visible')) {
    $('#' + player.elem.id + ' .' + cls).hide();
  } else {
    $('#' + player.elem.id + ' .' + cls).css({ bottom: $('#' + player.elem.id + ' .options-container').height(), left: $('#' + player.elem.id + ' .btn[data-name="' + name + '"]').offset().left - $('#' + player.elem.id + ' .player').offset().left - $('#' + player.elem.id + ' .' + cls).width() / 2 });
    $('#' + player.elem.id + ' .' + cls).show();
  }
}

function subtitleMenuEventHandler(player, e) {
  $('#' + player.elem.id + ' .subtitlemenu').hide();
  var textTracks = $('#' + player.elem.id + ' video')[0].textTracks;

  for (var i = 0; i < textTracks.length; i++) {
    if ($(this).data('language') === textTracks[i].language) {
      textTracks[i].mode = 'showing';
    } else {
      textTracks[i].mode = 'hidden';
    }
  }
  //prevent the play/pause handler to react
  e.stopPropagation();
}

function openEditorTypeEventHandler(player, e, type) {
  //prevent the play/pause handler to react
  e.stopPropagation();

  window.open(player.editorurl + '?manifest=' + encodeURIComponent(player.manifesturl) + '#' + type, '_blank');
}

function mediaErrorHandler(player, error) {
  console.error('media error', error);

  $('#' + player.elem.id + ' .player').removeClass('player--loading');
  var errormessage = player.banana.i18n('player-error') + ': ';
  switch (error.code) {
    case 1:
      errormessage += player.banana.i18n('player-error-loading');
      break;
    case 2:
      errormessage += player.banana.i18n('player-error-network');
      break;
    case 3:
      errormessage += player.banana.i18n('player-error-decoding');
      break;
    case 4:
      errormessage += player.banana.i18n('player-error-format');
      break;
    default:
      errormessage += player.banana.i18n('player-error-unknown');
      break;
  }

  $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno errormessage\'>' + errormessage + '</div>');
}

module.exports = {
  playEventHandler: playEventHandler, pauseEventHandler: pauseEventHandler, volumeChangedEventHandler: volumeChangedEventHandler, keyEventHandler: keyEventHandler, playPauseEventHandler: playPauseEventHandler, fullScreenEventHandler: fullScreenEventHandler, editorButtonEventHandler: editorButtonEventHandler, toggleSubtitlesEventHandler: toggleSubtitlesEventHandler, subtitleMenuEventHandler: subtitleMenuEventHandler, openEditorTypeEventHandler: openEditorTypeEventHandler, mediaErrorHandler: mediaErrorHandler
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css", function() {
		var newContent = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.uuidv4 = exports.init = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ */


__webpack_require__(/*! ./index.css */ "./src/index.css");

var _player = __webpack_require__(/*! ./components/player */ "./src/components/player/index.js");

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editorurl = '';
var player = void 0;
var language = '';

var init = exports.init = function init(container, videoObj, options) {
  //Create unique player id
  var playerId = uuidv4();

  //Append player to container with the unique id
  $(container).append('<div id="eups-player-' + playerId + '" class="eups-player"></div>');

  //Set options
  if (Object.prototype.hasOwnProperty.call(options, 'manifest')) {
    videoObj.manifest = options.manifest;
  }
  videoObj.source = options.source || videoObj.source;
  editorurl = options.editor || editorurl;
  language = options.language || language;

  //Create player
  player = new _player2.default(document.getElementById('eups-player-' + playerId));

  //Initialize player
  player.init(videoObj, editorurl, language);
};

var uuidv4 = exports.uuidv4 = function uuidv4() {
  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
  });
};

var EuropeanaMediaPlayer = function () {
  function EuropeanaMediaPlayer(container, videoObj, options) {
    _classCallCheck(this, EuropeanaMediaPlayer);

    options = arguments.length > 2 ? options : {};
    init(container, videoObj, options);
  }

  _createClass(EuropeanaMediaPlayer, [{
    key: 'player',
    get: function get() {
      return player;
    }
  }]);

  return EuropeanaMediaPlayer;
}();

exports.default = EuropeanaMediaPlayer;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");


/***/ }),

/***/ "dashjs":
/*!*************************!*\
  !*** external "dashjs" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_dashjs__;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jquery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGVkc2lsdi9odHRwLXN0YXR1cy1jb2Rlcy9kaXN0LWNvbW1vbmpzL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BlZHNpbHYvaHR0cC1zdGF0dXMtY29kZXMvZGlzdC11bWQvaHR0cHN0YXR1c2NvZGVzLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL2Jhc2UtY29tcG9uZW50L2Rpc3QtZXNtb2R1bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvaWlpZi1hdi1jb21wb25lbnQvZGlzdC11bWQvSUlJRkFWQ29tcG9uZW50LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL2lpaWYtdHJlZS1jb21wb25lbnQvZGlzdC11bWQvSUlJRlRyZWVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9Bbm5vdGF0aW9uR3JvdXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9Bbm5vdGF0aW9uUmVjdC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Jvb3RzdHJhcHBlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Vycm9ycy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0V4dGVybmFsUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9IZWxwZXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9JTGFiZWxWYWx1ZVBhaXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9NZXRhZGF0YUdyb3VwLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvTWV0YWRhdGFPcHRpb25zLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvTXVsdGlTZWxlY3RTdGF0ZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL1RyYW5zbGF0aW9uLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvVHJlZVNvcnRUeXBlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvVXJpTGFiZWxsZXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi92b2NhYnVsYXJ5L2Rpc3QtY29tbW9uanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvdm9jYWJ1bGFyeS9kaXN0LWVzbW9kdWxlL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2JhbmFuYS1pMThuL2Rpc3QvYmFuYW5hLWkxOG4uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3RoZW1lcy9iYXNlL2NvcmUuY3NzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS90aGVtZXMvYmFzZS9zbGlkZXIuY3NzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmNzcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtdW5mZXRjaC9icm93c2VyLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS90aGVtZXMvYmFzZS9jb3JlLmNzcz8wZWFhIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS90aGVtZXMvYmFzZS9zbGlkZXIuY3NzPzQ1YWEiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtYmxpbmQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtY2xpcC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZHJvcC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZXhwbG9kZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZmFkZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZm9sZC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtaGlnaGxpZ2h0LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1wdWZmLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1wdWxzYXRlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zY2FsZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2hha2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNpemUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNsaWRlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC10cmFuc2Zlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvaWUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2tleWNvZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvd2lkZ2V0cy9tb3VzZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvd2lkZ2V0cy9zbGlkZXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvQW5ub3RhdGlvbi5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9Bbm5vdGF0aW9uQm9keS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9Bbm5vdGF0aW9uTGlzdC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9Bbm5vdGF0aW9uUGFnZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9EdXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9JSUlGUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvSlNPTkxEUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvTGFiZWxWYWx1ZVBhaXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvTGFuZ3VhZ2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvTGFuZ3VhZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvTWFuaWZlc3QuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvTWFuaWZlc3RSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9NYW5pZmVzdFR5cGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvUmFuZ2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvUmVuZGVyaW5nLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1Jlc291cmNlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1NlcXVlbmNlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1NlcmlhbGlzYXRpb24uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvU2VydmljZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9TaXplLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1N0YXR1c0NvZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvVGh1bWIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvbWFuaWZlc3RvLmpzL2Rpc3QtZXNtb2R1bGUvVGh1bWJuYWlsLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1RyZWVOb2RlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LWVzbW9kdWxlL1RyZWVOb2RlVHlwZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9VdGlscy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9tYW5pZmVzdG8uanMvZGlzdC1lc21vZHVsZS9pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvdW5mZXRjaC9kaXN0L3VuZmV0Y2gubWpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLyh3ZWJwYWNrKS1qcXVlcnktdWkvZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8od2VicGFjayktanF1ZXJ5LXVpL3NsaWRlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9jb21wb25lbnRzL2xhbmd1YWdlcy9sYW5nLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmNzcz81ZDYxIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL3BsYXllckV2ZW50SGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvaW5kZXguY3NzPzdkMWYiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvZXh0ZXJuYWwgXCJkYXNoanNcIiIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci9leHRlcm5hbCBcImpxdWVyeVwiIl0sIm5hbWVzIjpbImxvY2FsZXMiLCJuYW1lIiwiY29kZSIsImlzbyIsInJlcXVpcmUiLCJNYW5pZm9sZCIsIklJSUZBVkNvbXBvbmVudCIsInBsYXlFdmVudEhhbmRsZXIiLCJwYXVzZUV2ZW50SGFuZGxlciIsInZvbHVtZUNoYW5nZWRFdmVudEhhbmRsZXIiLCJrZXlFdmVudEhhbmRsZXIiLCJwbGF5UGF1c2VFdmVudEhhbmRsZXIiLCJmdWxsU2NyZWVuRXZlbnRIYW5kbGVyIiwiZWRpdG9yQnV0dG9uRXZlbnRIYW5kbGVyIiwidG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyIiwic3VidGl0bGVNZW51RXZlbnRIYW5kbGVyIiwib3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIiLCJtZWRpYUVycm9ySGFuZGxlciIsImxhbmd1YWdlcyIsImRlZmF1bHQiLCJpMThuIiwiaGVscGVyIiwiUGxheWVyIiwiZWxlbSIsInZpZGVvSWQiLCJhdmNvbXBvbmVudCIsInRpbWV1cGRhdGUiLCJtYW5pZmVzdCIsIm1hbmlmZXN0dXJsIiwiZWRpdG9ydXJsIiwiYmFuYW5hIiwidmlkZW9PYmoiLCJsYW5ndWFnZSIsImNyZWF0ZUFWQ29tcG9uZW50IiwiY3JlYXRlTWFuaWZlc3QiLCJzdGF0ZSIsImxpbWl0VG9SYW5nZSIsImF1dG9TZWxlY3RSYW5nZSIsImNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlIiwidmlydHVhbENhbnZhc0VuYWJsZWQiLCJsZW5ndGgiLCJmaW5kIiwibGFuZyIsInVuZGVmaW5lZCIsIkJhbmFuYSIsImxvYWQiLCIkYXZjb21wb25lbnQiLCIkIiwiYXBwZW5kIiwicGxheWVyIiwiQVZDb21wb25lbnQiLCJ0YXJnZXQiLCJvbiIsImVycm9yIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVNZWRpYVJlYWR5IiwidmFsdWUiLCJlIiwiZGF0YSIsImhhbmRsZXIiLCJsZE1hbmlmZXN0IiwiY2FudmFzZXMiLCJnZXRDYW52YXNlcyIsImluaXRDYW52YXNOYXZpZ2F0aW9uIiwiaGlkZSIsInN1Y2Nlc3NjYiIsImVycm9yY2IiLCJsb2FkTWFuaWZlc3QiLCJtYW5pZmVzdFVyaSIsImNvbGxlY3Rpb25JbmRleCIsIm1hbmlmZXN0SW5kZXgiLCJzZXF1ZW5jZUluZGV4IiwiY2FudmFzSW5kZXgiLCJ0aGVuIiwiaCIsInNldCIsInJlc2l6ZSIsImNhdGNoIiwiJHBsYXllckNvbnRhaW5lciIsImlkIiwiaGVpZ2h0Iiwid2lkdGgiLCJ2T2JqIiwic291cmNlIiwic3RhcnRzV2l0aCIsIml0ZW1TZWxlY3RMaXN0ZW5lciIsInRleHRUcmFja3MiLCJzaG93IiwibWVudSIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5kZWQiLCJjYW52YXNJbnN0YW5jZXMiLCJfY2FudmFzV2lkdGgiLCJvcHRpbWl6ZUZvclNtYWxsZXJTY3JlZW5zIiwidXBkYXRlQVZDb21wb25lbnRMYW5ndWFnZSIsInN1YnRpdGxlcyIsImNyZWF0ZUJ1dHRvbiIsInNob3dNZW51IiwibmVlZFRvU2hvd01lbnUiLCJhZGRFZGl0b3JPcHRpb24iLCJoYW5kbGVNZWRpYVR5cGUiLCJjc3MiLCJtb3JlIiwiaGFuZGxlTWVudU9wdGlvbnMiLCJhdHRyIiwidGV4dCIsImNsYXNzbmFtZSIsImJ1dHRvbiIsIm9wdGlvbnMiLCJlbWJlZCIsImFubm90YXRpb24iLCJwbGF5bGlzdCIsImRldGVybWluZU9wdGlvbkRpc3BsYXkiLCJrZXkiLCJPYmplY3QiLCJlbnRyaWVzIiwiX19qc29ubGQiLCJyaWdodHMiLCJ3IiwiZ2V0TWVkaWFUeXBlIiwic2V0SW1hZ2UiLCJ0aHVtYm5haWwiLCJfY2FudmFzSGVpZ2h0IiwiaXRlbXMiLCJib2R5IiwidHlwZSIsImltYWdlIiwiYWRkQ2xhc3MiLCJjbGVhckludGVydmFsIiwibXV0ZVR5cGUiLCJrZXlDb2RlIiwiY2xpY2siLCJoYW5kbGVWb2x1bWVDaGFuZ2UiLCJfaXNQbGF5aW5nIiwicGF1c2UiLCJpcyIsInBsYXkiLCJyYXRlIiwidmFsIiwic2xpZGVyIiwiZGV0ZXJtaW5lTmV3Vm9sdW1lIiwiZGVjcmVhc2VWb2x1bWUiLCJpbmNyZWFzZVZvbHVtZSIsInRvZ2dsZU1lbnVPcHRpb24iLCJjbHMiLCJwcmV2ZW50RGVmYXVsdCIsImJvdHRvbSIsImxlZnQiLCJvZmZzZXQiLCJtb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwid2luZG93Iiwib3BlbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZUNsYXNzIiwiZXJyb3JtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyIsImluaXQiLCJjb250YWluZXIiLCJwbGF5ZXJJZCIsInV1aWR2NCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImVkaXRvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXBsYWNlIiwiYyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJ0b1N0cmluZyIsIkV1cm9wZWFuYU1lZGlhUGxheWVyIiwiYXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztRQ1ZBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxHQUFHOztRQUVIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQSxPQUFPO1FBQ1A7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQSw2QkFBNkI7UUFDN0IsNkJBQTZCO1FBQzdCO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHFCQUFxQixnQkFBZ0I7UUFDckM7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQSxxQkFBcUIsZ0JBQWdCO1FBQ3JDO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBLEtBQUs7O1FBRUw7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0Esa0JBQWtCLDhCQUE4QjtRQUNoRDtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxJQUFJO1FBQ0o7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSxJQUFJO1FBQ0o7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBO1FBQ0EsT0FBTztRQUNQO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxvQkFBb0IsMkJBQTJCO1FBQy9DO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxPQUFPO1FBQ1A7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLG1CQUFtQixjQUFjO1FBQ2pDO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSxnQkFBZ0IsS0FBSztRQUNyQjtRQUNBO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLGdCQUFnQixZQUFZO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0EsY0FBYyw0QkFBNEI7UUFDMUM7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxJQUFJOztRQUVKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTs7UUFFQTtRQUNBO1FBQ0EsZUFBZSw0QkFBNEI7UUFDM0M7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQSxlQUFlLDRCQUE0QjtRQUMzQztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0Es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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRiw2QkFBNkI7O0FBRTdCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUJBQXFCO0FBQzNCO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIsa0JBQWtCLElBQUkscUJBQXFCO0FBQzVEO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxNQUFNLHFCQUFxQjtBQUMzQjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDLGtCQUFrQix1QkFBdUI7QUFDekMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxrQ0FBa0M7QUFDM0M7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7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QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlDO0FBQ0U7QUFDUjtBQUNJO0FBQ0Y7QUFDSTtBQUNBO0FBQ0E7QUFDUjtBQUNJO0FBQ0Y7QUFDTTtBQUNOO0FBQ0c7QUFDSDtBQUNJO0FBQ1A7QUFDSTtBQUNEO0FBQ0s7QUFDTjtBQUNIO0FBQ007QUFDTDtBQUNJO0FBQ0Q7QUFDSTtBQUNQO0FBQ3hCLG9DOzs7Ozs7Ozs7OztBQzVCQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWMsbUJBQU8sQ0FBQyx1REFBUTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBLG1CQUFtQiwyQkFBMkI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsMkJBQTJCO0FBQzVDO0FBQ0E7O0FBRUEsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZCxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0EsS0FBSyxLQUF3QyxFQUFFLEVBRTdDOztBQUVGLFFBQVEsc0JBQWlCO0FBQ3pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQSw2QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDOVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QixFQUEwQyxDQUExQyxJQUErQyxNQUFNSCxJQUFJLENBQTlELEVBQWlFSSxRQUFqRSxDQUEwRSxFQUExRSxDQURvRDtBQUFBLEdBQS9DLENBQVA7QUFHRCxDQUpNOztJQU1jQyxvQjtBQUNuQixnQ0FBWWYsU0FBWixFQUF1Qm5JLFFBQXZCLEVBQWlDZ0YsT0FBakMsRUFBMEM7QUFBQTs7QUFDeENBLGNBQVVtRSxVQUFVMUksTUFBVixHQUFtQixDQUFuQixHQUF1QnVFLE9BQXZCLEdBQWlDLEVBQTNDO0FBQ0FrRCxTQUFLQyxTQUFMLEVBQWdCbkksUUFBaEIsRUFBMEJnRixPQUExQjtBQUNEOzs7O3dCQUVZO0FBQ1gsYUFBTzlELE1BQVA7QUFDRDs7Ozs7O2tCQVJrQmdJLG9COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQ3JCLG9EOzs7Ozs7Ozs7OztBQ0FBLG9EIiwiZmlsZSI6ImV1cm9wZWFuYW1lZGlhcGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwianF1ZXJ5XCIpLCByZXF1aXJlKFwiZGFzaGpzXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiZXVyb3BlYW5hbWVkaWFwbGF5ZXJcIiwgW1wianF1ZXJ5XCIsIFwiZGFzaGpzXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImV1cm9wZWFuYW1lZGlhcGxheWVyXCJdID0gZmFjdG9yeShyZXF1aXJlKFwianF1ZXJ5XCIpLCByZXF1aXJlKFwiZGFzaGpzXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJldXJvcGVhbmFtZWRpYXBsYXllclwiXSA9IGZhY3Rvcnkocm9vdFtcImpxdWVyeVwiXSwgcm9vdFtcImRhc2hqc1wiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfanF1ZXJ5X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZGFzaGpzX18pIHtcbnJldHVybiAiLCIgXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZWV1cm9wZWFuYW1lZGlhcGxheWVyXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZWV1cm9wZWFuYW1lZGlhcGxheWVyXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMWExYmU4ZmY1ZGJjYjE3YTBmYjNcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IFwibWFpblwiO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQgJiZcbiBcdFx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdICE9PSB3YXJuVW5leHBlY3RlZFJlcXVpcmVcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5DT05USU5VRSA9IDEwMDtcclxuZXhwb3J0cy5TV0lUQ0hJTkdfUFJPVE9DT0xTID0gMTAxO1xyXG5leHBvcnRzLlBST0NFU1NJTkcgPSAxMDI7XHJcbmV4cG9ydHMuT0sgPSAyMDA7XHJcbmV4cG9ydHMuQ1JFQVRFRCA9IDIwMTtcclxuZXhwb3J0cy5BQ0NFUFRFRCA9IDIwMjtcclxuZXhwb3J0cy5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTiA9IDIwMztcclxuZXhwb3J0cy5OT19DT05URU5UID0gMjA0O1xyXG5leHBvcnRzLlJFU0VUX0NPTlRFTlQgPSAyMDU7XHJcbmV4cG9ydHMuUEFSVElBTF9DT05URU5UID0gMjA2O1xyXG5leHBvcnRzLk1VTFRJX1NUQVRVUyA9IDIwNztcclxuZXhwb3J0cy5NVUxUSVBMRV9DSE9JQ0VTID0gMzAwO1xyXG5leHBvcnRzLk1PVkVEX1BFUk1BTkVOVExZID0gMzAxO1xyXG5leHBvcnRzLk1PVkVEX1RFTVBPUkFSSUxZID0gMzAyO1xyXG5leHBvcnRzLlNFRV9PVEhFUiA9IDMwMztcclxuZXhwb3J0cy5OT1RfTU9ESUZJRUQgPSAzMDQ7XHJcbmV4cG9ydHMuVVNFX1BST1hZID0gMzA1O1xyXG5leHBvcnRzLlRFTVBPUkFSWV9SRURJUkVDVCA9IDMwNztcclxuZXhwb3J0cy5CQURfUkVRVUVTVCA9IDQwMDtcclxuZXhwb3J0cy5VTkFVVEhPUklaRUQgPSA0MDE7XHJcbmV4cG9ydHMuUEFZTUVOVF9SRVFVSVJFRCA9IDQwMjtcclxuZXhwb3J0cy5GT1JCSURERU4gPSA0MDM7XHJcbmV4cG9ydHMuTk9UX0ZPVU5EID0gNDA0O1xyXG5leHBvcnRzLk1FVEhPRF9OT1RfQUxMT1dFRCA9IDQwNTtcclxuZXhwb3J0cy5OT1RfQUNDRVBUQUJMRSA9IDQwNjtcclxuZXhwb3J0cy5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRCA9IDQwNztcclxuZXhwb3J0cy5SRVFVRVNUX1RJTUVfT1VUID0gNDA4O1xyXG5leHBvcnRzLkNPTkZMSUNUID0gNDA5O1xyXG5leHBvcnRzLkdPTkUgPSA0MTA7XHJcbmV4cG9ydHMuTEVOR1RIX1JFUVVJUkVEID0gNDExO1xyXG5leHBvcnRzLlBSRUNPTkRJVElPTl9GQUlMRUQgPSA0MTI7XHJcbmV4cG9ydHMuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFID0gNDEzO1xyXG5leHBvcnRzLlJFUVVFU1RfVVJJX1RPT19MQVJHRSA9IDQxNDtcclxuZXhwb3J0cy5VTlNVUFBPUlRFRF9NRURJQV9UWVBFID0gNDE1O1xyXG5leHBvcnRzLlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEUgPSA0MTY7XHJcbmV4cG9ydHMuRVhQRUNUQVRJT05fRkFJTEVEID0gNDE3O1xyXG5leHBvcnRzLklNX0FfVEVBUE9UID0gNDE4O1xyXG5leHBvcnRzLlVOUFJPQ0VTU0FCTEVfRU5USVRZID0gNDIyO1xyXG5leHBvcnRzLkxPQ0tFRCA9IDQyMztcclxuZXhwb3J0cy5GQUlMRURfREVQRU5ERU5DWSA9IDQyNDtcclxuZXhwb3J0cy5VTk9SREVSRURfQ09MTEVDVElPTiA9IDQyNTtcclxuZXhwb3J0cy5VUEdSQURFX1JFUVVJUkVEID0gNDI2O1xyXG5leHBvcnRzLlBSRUNPTkRJVElPTl9SRVFVSVJFRCA9IDQyODtcclxuZXhwb3J0cy5UT09fTUFOWV9SRVFVRVNUUyA9IDQyOTtcclxuZXhwb3J0cy5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFID0gNDMxO1xyXG5leHBvcnRzLklOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMDtcclxuZXhwb3J0cy5OT1RfSU1QTEVNRU5URUQgPSA1MDE7XHJcbmV4cG9ydHMuQkFEX0dBVEVXQVkgPSA1MDI7XHJcbmV4cG9ydHMuU0VSVklDRV9VTkFWQUlMQUJMRSA9IDUwMztcclxuZXhwb3J0cy5HQVRFV0FZX1RJTUVfT1VUID0gNTA0O1xyXG5leHBvcnRzLkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEID0gNTA1O1xyXG5leHBvcnRzLlZBUklBTlRfQUxTT19ORUdPVElBVEVTID0gNTA2O1xyXG5leHBvcnRzLklOU1VGRklDSUVOVF9TVE9SQUdFID0gNTA3O1xyXG5leHBvcnRzLkJBTkRXSURUSF9MSU1JVF9FWENFRURFRCA9IDUwOTtcclxuZXhwb3J0cy5OT1RfRVhURU5ERUQgPSA1MTA7XHJcbmV4cG9ydHMuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRCA9IDUxMTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiIWZ1bmN0aW9uKEUsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJodHRwc3RhdHVzY29kZXNcIixbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmh0dHBzdGF0dXNjb2Rlcz1lKCk6RS5odHRwc3RhdHVzY29kZXM9ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKEUpe3ZhciBlPXt9O2Z1bmN0aW9uIFQodCl7aWYoZVt0XSlyZXR1cm4gZVt0XS5leHBvcnRzO3ZhciBPPWVbdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBFW3RdLmNhbGwoTy5leHBvcnRzLE8sTy5leHBvcnRzLFQpLE8ubD0hMCxPLmV4cG9ydHN9cmV0dXJuIFQubT1FLFQuYz1lLFQuZD1mdW5jdGlvbihFLGUsdCl7VC5vKEUsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFLGUse2VudW1lcmFibGU6ITAsZ2V0OnR9KX0sVC5yPWZ1bmN0aW9uKEUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KEUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LFQudD1mdW5jdGlvbihFLGUpe2lmKDEmZSYmKEU9VChFKSksOCZlKXJldHVybiBFO2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIEUmJkUmJkUuX19lc01vZHVsZSlyZXR1cm4gRTt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO2lmKFQucih0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTpFfSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgRSlmb3IodmFyIE8gaW4gRSlULmQodCxPLGZ1bmN0aW9uKGUpe3JldHVybiBFW2VdfS5iaW5kKG51bGwsTykpO3JldHVybiB0fSxULm49ZnVuY3Rpb24oRSl7dmFyIGU9RSYmRS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIEUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gRX07cmV0dXJuIFQuZChlLFwiYVwiLGUpLGV9LFQubz1mdW5jdGlvbihFLGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoRSxlKX0sVC5wPVwiXCIsVChULnM9MCl9KFtmdW5jdGlvbihFLGUsVCl7RS5leHBvcnRzPVQoMSl9LGZ1bmN0aW9uKEUsZSxUKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkNPTlRJTlVFPTEwMCxlLlNXSVRDSElOR19QUk9UT0NPTFM9MTAxLGUuUFJPQ0VTU0lORz0xMDIsZS5PSz0yMDAsZS5DUkVBVEVEPTIwMSxlLkFDQ0VQVEVEPTIwMixlLk5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OPTIwMyxlLk5PX0NPTlRFTlQ9MjA0LGUuUkVTRVRfQ09OVEVOVD0yMDUsZS5QQVJUSUFMX0NPTlRFTlQ9MjA2LGUuTVVMVElfU1RBVFVTPTIwNyxlLk1VTFRJUExFX0NIT0lDRVM9MzAwLGUuTU9WRURfUEVSTUFORU5UTFk9MzAxLGUuTU9WRURfVEVNUE9SQVJJTFk9MzAyLGUuU0VFX09USEVSPTMwMyxlLk5PVF9NT0RJRklFRD0zMDQsZS5VU0VfUFJPWFk9MzA1LGUuVEVNUE9SQVJZX1JFRElSRUNUPTMwNyxlLkJBRF9SRVFVRVNUPTQwMCxlLlVOQVVUSE9SSVpFRD00MDEsZS5QQVlNRU5UX1JFUVVJUkVEPTQwMixlLkZPUkJJRERFTj00MDMsZS5OT1RfRk9VTkQ9NDA0LGUuTUVUSE9EX05PVF9BTExPV0VEPTQwNSxlLk5PVF9BQ0NFUFRBQkxFPTQwNixlLlBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTQwNyxlLlJFUVVFU1RfVElNRV9PVVQ9NDA4LGUuQ09ORkxJQ1Q9NDA5LGUuR09ORT00MTAsZS5MRU5HVEhfUkVRVUlSRUQ9NDExLGUuUFJFQ09ORElUSU9OX0ZBSUxFRD00MTIsZS5SRVFVRVNUX0VOVElUWV9UT09fTEFSR0U9NDEzLGUuUkVRVUVTVF9VUklfVE9PX0xBUkdFPTQxNCxlLlVOU1VQUE9SVEVEX01FRElBX1RZUEU9NDE1LGUuUkVRVUVTVEVEX1JBTkdFX05PVF9TQVRJU0ZJQUJMRT00MTYsZS5FWFBFQ1RBVElPTl9GQUlMRUQ9NDE3LGUuSU1fQV9URUFQT1Q9NDE4LGUuVU5QUk9DRVNTQUJMRV9FTlRJVFk9NDIyLGUuTE9DS0VEPTQyMyxlLkZBSUxFRF9ERVBFTkRFTkNZPTQyNCxlLlVOT1JERVJFRF9DT0xMRUNUSU9OPTQyNSxlLlVQR1JBREVfUkVRVUlSRUQ9NDI2LGUuUFJFQ09ORElUSU9OX1JFUVVJUkVEPTQyOCxlLlRPT19NQU5ZX1JFUVVFU1RTPTQyOSxlLlJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0U9NDMxLGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMCxlLk5PVF9JTVBMRU1FTlRFRD01MDEsZS5CQURfR0FURVdBWT01MDIsZS5TRVJWSUNFX1VOQVZBSUxBQkxFPTUwMyxlLkdBVEVXQVlfVElNRV9PVVQ9NTA0LGUuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ9NTA1LGUuVkFSSUFOVF9BTFNPX05FR09USUFURVM9NTA2LGUuSU5TVUZGSUNJRU5UX1NUT1JBR0U9NTA3LGUuQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEPTUwOSxlLk5PVF9FWFRFTkRFRD01MTAsZS5ORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTUxMX1dKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBzdGF0dXNjb2Rlcy5qcy5tYXAiLCJ2YXIgQmFzZUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2VDb21wb25lbnQob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRhdGEoKSwgb3B0aW9ucy5kYXRhKTtcclxuICAgIH1cclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZWwgPSB0aGlzLm9wdGlvbnMudGFyZ2V0O1xyXG4gICAgICAgIGlmICghdGhpcy5lbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2VsZW1lbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH07XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XHJcbiAgICAgICAgdmFyIGUgPSB0aGlzLl9lIHx8ICh0aGlzLl9lID0ge30pO1xyXG4gICAgICAgIChlW25hbWVdIHx8IChlW25hbWVdID0gW10pKS5wdXNoKHtcclxuICAgICAgICAgICAgZm46IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBjdHg6IGN0eFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICAgICAgdmFyIGV2dEFyciA9ICgodGhpcy5fZSB8fCAodGhpcy5fZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xyXG4gICAgICAgIGZvciAoaTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuX3Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoX2RhdGEpIHtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFzZUNvbXBvbmVudDtcclxufSgpKTtcclxuZXhwb3J0IHsgQmFzZUNvbXBvbmVudCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIklJSUZBVkNvbXBvbmVudFwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuSUlJRkFWQ29tcG9uZW50PWUoKTp0LklJSUZBVkNvbXBvbmVudD1lKCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihpKXtpZihlW2ldKXJldHVybiBlW2ldLmV4cG9ydHM7dmFyIHI9ZVtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxpKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1uKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgciBpbiB0KW4uZChpLHIsZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCJcIixuKG4ucz03KX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZix0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihpKXtpZihlW2ldKXJldHVybiBlW2ldLmV4cG9ydHM7dmFyIHI9ZVtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxpKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1uKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgciBpbiB0KW4uZChpLHIsZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCJcIixuKG4ucz00KX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe2Zvcih2YXIgbiBpbiB0KWUuaGFzT3duUHJvcGVydHkobil8fChlW25dPXRbbl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGkobig2KSksaShuKDcpKSxpKG4oOCkpLGkobig5KSksaShuKDEwKSksaShuKDExKSksaShuKDEyKSksaShuKDEzKSksaShuKDE0KSksaShuKDE1KSksaShuKDE2KSksaShuKDE3KSksaShuKDE4KSksaShuKDE5KSksaShuKDIwKSksaShuKDIxKSksaShuKDIyKSksaShuKDIzKSksaShuKDI0KSksaShuKDI1KSksaShuKDI2KSksaShuKDI3KSksaShuKDI4KSksaShuKDI5KSksaShuKDMwKSksaShuKDMxKSksaShuKDMyKSksaShuKDIpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3QuQk9PS01BUktJTkc9XCJvYTpib29rbWFya2luZ1wiLHQuQ0xBU1NJRllJTkc9XCJvYTpjbGFzc2lmeWluZ1wiLHQuQ09NTUVOVElORz1cIm9hOmNvbW1lbnRpbmdcIix0LkRFU0NSSUJJTkc9XCJvYTpkZXNjcmliaW5nXCIsdC5FRElUSU5HPVwib2E6ZWRpdGluZ1wiLHQuSElHSExJR0hUSU5HPVwib2E6aGlnaGxpZ2h0aW5nXCIsdC5JREVOVElGWUlORz1cIm9hOmlkZW50aWZ5aW5nXCIsdC5MSU5LSU5HPVwib2E6bGlua2luZ1wiLHQuTU9ERVJBVElORz1cIm9hOm1vZGVyYXRpbmdcIix0LlBBSU5USU5HPVwic2M6cGFpbnRpbmdcIix0LlFVRVNUSU9OSU5HPVwib2E6cXVlc3Rpb25pbmdcIix0LlJFUExZSU5HPVwib2E6cmVwbHlpbmdcIix0LlRBR0dJTkc9XCJvYTp0YWdnaW5nXCIsdC5UUkFOU0NSSUJJTkc9XCJvYWQ6dHJhbnNjcmliaW5nXCJ9KGUuQW5ub3RhdGlvbk1vdGl2YXRpb258fChlLkFubm90YXRpb25Nb3RpdmF0aW9uPXt9KSksZnVuY3Rpb24odCl7dC5BVVRPX0FEVkFOQ0U9XCJhdXRvLWFkdmFuY2VcIix0LkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsdC5GQUNJTkdfUEFHRVM9XCJmYWNpbmctcGFnZXNcIix0LkhJRERFTj1cImhpZGRlblwiLHQuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLHQuTVVMVElfUEFSVD1cIm11bHRpLXBhcnRcIix0Lk5PX05BVj1cIm5vLW5hdlwiLHQuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsdC5QQUdFRD1cInBhZ2VkXCIsdC5SRVBFQVQ9XCJyZXBlYXRcIix0LlNFUVVFTkNFPVwic2VxdWVuY2VcIix0LlRIVU1CTkFJTF9OQVY9XCJ0aHVtYm5haWwtbmF2XCIsdC5UT0dFVEhFUj1cInRvZ2V0aGVyXCIsdC5VTk9SREVSRUQ9XCJ1bm9yZGVyZWRcIn0oZS5CZWhhdmlvcnx8KGUuQmVoYXZpb3I9e30pKSxmdW5jdGlvbih0KXt0LkNBTlZBUz1cImNhbnZhc1wiLHQuQ0hPSUNFPVwiY2hvaWNlXCIsdC5DT05URU5UX0FTX1RFWFQ9XCJjb250ZW50YXN0ZXh0XCIsdC5ET0NVTUVOVD1cImRvY3VtZW50XCIsdC5JTUFHRT1cImltYWdlXCIsdC5NT1ZJTkdfSU1BR0U9XCJtb3ZpbmdpbWFnZVwiLHQuUERGPVwicGRmXCIsdC5QSFlTSUNBTF9PQkpFQ1Q9XCJwaHlzaWNhbG9iamVjdFwiLHQuU09VTkQ9XCJzb3VuZFwiLHQuVEVYVFVBTEJPRFk9XCJ0ZXh0dWFsYm9keVwiLHQuVklERU89XCJ2aWRlb1wifShlLkV4dGVybmFsUmVzb3VyY2VUeXBlfHwoZS5FeHRlcm5hbFJlc291cmNlVHlwZT17fSkpLGZ1bmN0aW9uKHQpe3QuQU5OT1RBVElPTj1cImFubm90YXRpb25cIix0LkNBTlZBUz1cImNhbnZhc1wiLHQuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIix0Lk1BTklGRVNUPVwibWFuaWZlc3RcIix0LlJBTkdFPVwicmFuZ2VcIix0LlNFUVVFTkNFPVwic2VxdWVuY2VcIn0oZS5JSUlGUmVzb3VyY2VUeXBlfHwoZS5JSUlGUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24odCl7dC5BVURJT19NUDQ9XCJhdWRpby9tcDRcIix0LkNPUlRPPVwiYXBwbGljYXRpb24vY29ydG9cIix0LkRSQUNPPVwiYXBwbGljYXRpb24vZHJhY29cIix0LkdMVEY9XCJtb2RlbC9nbHRmK2pzb25cIix0LkpQRz1cImltYWdlL2pwZWdcIix0Lk0zVTg9XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLHQuTVAzPVwiYXVkaW8vbXAzXCIsdC5NUEVHX0RBU0g9XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLHQuT0JKPVwidGV4dC9wbGFpblwiLHQuUERGPVwiYXBwbGljYXRpb24vcGRmXCIsdC5QTFk9XCJhcHBsaWNhdGlvbi9wbHlcIix0LlRIUkVFSlM9XCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCIsdC5WSURFT19NUDQ9XCJ2aWRlby9tcDRcIix0LldFQk09XCJ2aWRlby93ZWJtXCJ9KGUuTWVkaWFUeXBlfHwoZS5NZWRpYVR5cGU9e30pKSxmdW5jdGlvbih0KXt0LkRPQz1cImFwcGxpY2F0aW9uL21zd29yZFwiLHQuRE9DWD1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsdC5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIn0oZS5SZW5kZXJpbmdGb3JtYXR8fChlLlJlbmRlcmluZ0Zvcm1hdD17fSkpLGZ1bmN0aW9uKHQpe3QuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIix0LklNQUdFXzFfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsdC5JTUFHRV8xX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiLHQuQVVUSF8wX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiLHQuQVVUSF8wX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiLHQuQVVUSF8wX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCIsdC5BVVRIXzBfUkVTVFJJQ1RFRD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiLHQuQVVUSF8wX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiLHQuQVVUSF8xX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiLHQuQVVUSF8xX0VYVEVSTkFMPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiLHQuQVVUSF8xX0tJT1NLPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiLHQuQVVUSF8xX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiLHQuQVVUSF8xX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCIsdC5BVVRIXzFfUFJPQkU9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCIsdC5BVVRIXzFfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCIsdC5TRUFSQ0hfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIix0LlNFQVJDSF8wX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCIsdC5TRUFSQ0hfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIix0LlNFQVJDSF8xX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCIsdC5UUkFDS0lOR19FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIix0LlVJX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuUFJJTlRfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5TSEFSRV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIix0Lk9USEVSX01BTklGRVNUQVRJT05TPVwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiLHQuSVhJRj1cImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCJ9KGUuU2VydmljZVByb2ZpbGV8fChlLlNlcnZpY2VQcm9maWxlPXt9KSksZnVuY3Rpb24odCl7dC5CT1RUT01fVE9fVE9QPVwiYm90dG9tLXRvLXRvcFwiLHQuTEVGVF9UT19SSUdIVD1cImxlZnQtdG8tcmlnaHRcIix0LlJJR0hUX1RPX0xFRlQ9XCJyaWdodC10by1sZWZ0XCIsdC5UT1BfVE9fQk9UVE9NPVwidG9wLXRvLWJvdHRvbVwifShlLlZpZXdpbmdEaXJlY3Rpb258fChlLlZpZXdpbmdEaXJlY3Rpb249e30pKSxmdW5jdGlvbih0KXt0LkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsdC5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsdC5OT05fUEFHRUQ9XCJub24tcGFnZWRcIix0LlBBR0VEPVwicGFnZWRcIix0LlRPUD1cInRvcFwifShlLlZpZXdpbmdIaW50fHwoZS5WaWV3aW5nSGludD17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihyLGEpe2Z1bmN0aW9uIG8odCl7dHJ5e2woaS5uZXh0KHQpKX1jYXRjaCh0KXthKHQpfX1mdW5jdGlvbiBzKHQpe3RyeXtsKGkudGhyb3codCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIGwodCl7dmFyIGU7dC5kb25lP3IodC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKChmdW5jdGlvbih0KXt0KGUpfSkpKS50aGVuKG8scyl9bCgoaT1pLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpfSkpfSxyPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLGEsbz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZyWzBdKXRocm93IHJbMV07cmV0dXJuIHJbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gYT17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGFbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksYTtmdW5jdGlvbiBzKGEpe3JldHVybiBmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO287KXRyeXtpZihuPTEsaSYmKHI9MiZhWzBdP2kucmV0dXJuOmFbMF0/aS50aHJvd3x8KChyPWkucmV0dXJuKSYmci5jYWxsKGkpLDApOmkubmV4dCkmJiEocj1yLmNhbGwoaSxhWzFdKSkuZG9uZSlyZXR1cm4gcjtzd2l0Y2goaT0wLHImJihhPVsyJmFbMF0sci52YWx1ZV0pLGFbMF0pe2Nhc2UgMDpjYXNlIDE6cj1hO2JyZWFrO2Nhc2UgNDpyZXR1cm4gby5sYWJlbCsrLHt2YWx1ZTphWzFdLGRvbmU6ITF9O2Nhc2UgNTpvLmxhYmVsKyssaT1hWzFdLGE9WzBdO2NvbnRpbnVlO2Nhc2UgNzphPW8ub3BzLnBvcCgpLG8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEocj0ocj1vLnRyeXMpLmxlbmd0aD4wJiZyW3IubGVuZ3RoLTFdKSYmKDY9PT1hWzBdfHwyPT09YVswXSkpe289MDtjb250aW51ZX1pZigzPT09YVswXSYmKCFyfHxhWzFdPnJbMF0mJmFbMV08clszXSkpe28ubGFiZWw9YVsxXTticmVha31pZig2PT09YVswXSYmby5sYWJlbDxyWzFdKXtvLmxhYmVsPXJbMV0scj1hO2JyZWFrfWlmKHImJm8ubGFiZWw8clsyXSl7by5sYWJlbD1yWzJdLG8ub3BzLnB1c2goYSk7YnJlYWt9clsyXSYmby5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlfWE9ZS5jYWxsKHQsbyl9Y2F0Y2godCl7YT1bNix0XSxpPTB9ZmluYWxseXtuPXI9MH1pZig1JmFbMF0pdGhyb3cgYVsxXTtyZXR1cm57dmFsdWU6YVswXT9hWzFdOnZvaWQgMCxkb25lOiEwfX0oW2Esc10pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1uKDEpLHM9bigzMyk7bigzNCk7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmdldE1lZGlhVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4odD0odD10LnRvTG93ZXJDYXNlKCkpLnNwbGl0KFwiO1wiKVswXSkudHJpbSgpfSx0LmdldEltYWdlUXVhbGl0eT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzJ8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMnx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj9cIm5hdGl2ZVwiOlwiZGVmYXVsdFwifSx0LmdldEluZXhhY3RMb2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuLTEhPT10LmluZGV4T2YoXCItXCIpP3Quc3Vic3RyKDAsdC5pbmRleE9mKFwiLVwiKSk6dH0sdC5nZXRMb2NhbGlzZWRWYWx1ZT1mdW5jdGlvbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGU9PT1pW1wiQGxhbmd1YWdlXCJdKXJldHVybiBpW1wiQHZhbHVlXCJdfXZhciByPWUuc3Vic3RyKDAsZS5pbmRleE9mKFwiLVwiKSk7Zm9yKG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGE9dFtuXTtpZihhW1wiQGxhbmd1YWdlXCJdPT09cilyZXR1cm4gYVtcIkB2YWx1ZVwiXX1yZXR1cm4gbnVsbH0sdC5nZW5lcmF0ZVRyZWVOb2RlSWRzPWZ1bmN0aW9uKGUsbil7dmFyIGk7dm9pZCAwPT09biYmKG49MCksaT1lLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmlkK1wiLVwiK246XCIwXCIsZS5pZD1pO2Zvcih2YXIgcj0wO3I8ZS5ub2Rlcy5sZW5ndGg7cisrKXt2YXIgYT1lLm5vZGVzW3JdO3QuZ2VuZXJhdGVUcmVlTm9kZUlkcyhhLHIpfX0sdC5ub3JtYWxpc2VUeXBlPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09KHQ9dC50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKFwiOlwiKT90LnNwbGl0KFwiOlwiKVsxXTp0fSx0Lm5vcm1hbGlzZVVybD1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PSh0PXQuc3Vic3RyKHQuaW5kZXhPZihcIjovL1wiKSkpLmluZGV4T2YoXCIjXCIpJiYodD10LnNwbGl0KFwiI1wiKVswXSksdH0sdC5ub3JtYWxpc2VkVXJsc01hdGNoPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQubm9ybWFsaXNlVXJsKGUpPT09dC5ub3JtYWxpc2VVcmwobil9LHQuaXNJbWFnZVByb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEodC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LHQuaXNMZXZlbDBJbWFnZVByb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEodC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKSl9LHQuaXNMZXZlbDFJbWFnZVByb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEodC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKSl9LHQuaXNMZXZlbDJJbWFnZVByb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEodC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LHQucGFyc2VNYW5pZmVzdD1mdW5jdGlvbih0LGUpe3JldHVybiBhLkRlc2VyaWFsaXNlci5wYXJzZSh0LGUpfSx0LmNoZWNrU3RhdHVzPWZ1bmN0aW9uKHQpe2lmKHQub2spcmV0dXJuIHQ7dmFyIGU9bmV3IEVycm9yKHQuc3RhdHVzVGV4dCk7cmV0dXJuIGUucmVzcG9uc2U9dCxQcm9taXNlLnJlamVjdChlKX0sdC5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtmZXRjaChlKS50aGVuKHQuY2hlY2tTdGF0dXMpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pKS50aGVuKChmdW5jdGlvbih0KXtuKHQpfSkpfSkpfSx0LmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgxPWZ1bmN0aW9uKGUsbixpLHIsYSxvLHMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihjLHUpe3ZhciBoPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxKGUsbixpLHIsYSxvLHMsbCl9KSk7UHJvbWlzZS5hbGwoaCkudGhlbigoZnVuY3Rpb24oKXtjKGUpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt1KHQpfSkpfSkpfSx0LmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDE9ZnVuY3Rpb24oZSxuLGEsbyxsLGMsdSxoKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGk7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxvKGUpXTtjYXNlIDE6cmV0dXJuKGk9ci5zZW50KCkpP1s0LGUuZ2V0RGF0YShpKV06WzMsNl07Y2FzZSAyOnJldHVybiByLnNlbnQoKSxlLnN0YXR1cyE9PXMuT0s/WzMsM106WzIsZV07Y2FzZSAzOnJldHVybls0LHQuZG9BdXRoQ2hhaW4oZSxuLGEsbCxjLHUsaCldO2Nhc2UgNDpyLnNlbnQoKSxyLmxhYmVsPTU7Y2FzZSA1OmlmKGUuc3RhdHVzPT09cy5PS3x8ZS5zdGF0dXM9PT1zLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLGVdO3Rocm93IHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCk7Y2FzZSA2OnJldHVybls0LGUuZ2V0RGF0YSgpXTtjYXNlIDc6cmV0dXJuIHIuc2VudCgpLGUuc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWSYmZS5zdGF0dXMhPT1zLlVOQVVUSE9SSVpFRD9bMyw5XTpbNCx0LmRvQXV0aENoYWluKGUsbixhLGwsYyx1LGgpXTtjYXNlIDg6ci5zZW50KCksci5sYWJlbD05O2Nhc2UgOTppZihlLnN0YXR1cz09PXMuT0t8fGUuc3RhdHVzPT09cy5NT1ZFRF9URU1QT1JBUklMWSlyZXR1cm5bMixlXTt0aHJvdyB0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpfX0pKX0pKX0sdC5kb0F1dGhDaGFpbj1mdW5jdGlvbihlLG4sYSxvLGwsYyx1KXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksaCxwLGYsXyxkLHYsZztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybiBlLmlzQWNjZXNzQ29udHJvbGxlZCgpPygoaT1lLmV4dGVybmFsU2VydmljZSkmJihpLm9wdGlvbnM9ZS5vcHRpb25zKSwoaD1lLmtpb3NrU2VydmljZSkmJihoLm9wdGlvbnM9ZS5vcHRpb25zKSwocD1lLmNsaWNrVGhyb3VnaFNlcnZpY2UpJiYocC5vcHRpb25zPWUub3B0aW9ucyksKGY9ZS5sb2dpblNlcnZpY2UpJiYoZi5vcHRpb25zPWUub3B0aW9ucyksZS5pc1Jlc3BvbnNlSGFuZGxlZHx8ZS5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZP1szLDJdOls0LGMoZSldKTpbMixlXTtjYXNlIDE6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgMjpyZXR1cm4gXz1udWxsLGQ9bnVsbCwoXz1pKT8oZD1fLFs0LHQuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKGUsYSxfKV0pOlszLDRdO2Nhc2UgMzpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSA0OnJldHVybihfPWgpPyhkPV8sKHY9bihfKSk/WzQsbyh2KV06WzMsN10pOlszLDddO2Nhc2UgNTpyZXR1cm4gci5zZW50KCksWzQsdC5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4oZSxhLF8pXTtjYXNlIDY6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgNzpyZXR1cm4oXz1wKT8oZD1fLFs0LGwoZSxfKV0pOlszLDExXTtjYXNlIDg6cmV0dXJuKGc9ci5zZW50KCkpP1s0LG8oZyldOlszLDExXTtjYXNlIDk6cmV0dXJuIHIuc2VudCgpLFs0LHQuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKGUsYSxfKV07Y2FzZSAxMDpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSAxMTpyZXR1cm4oXz1mKT8oZD1fLFs0LGwoZSxfKV0pOlszLDE1XTtjYXNlIDEyOnJldHVybihnPXIuc2VudCgpKT9bNCxvKGcpXTpbMywxNV07Y2FzZSAxMzpyZXR1cm4gci5zZW50KCksWzQsdC5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4oZSxhLF8pXTtjYXNlIDE0OnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDE1OnJldHVybiBkJiZ1KGUsZCksWzJdfX0pKX0pKX0sdC5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxhO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuKGk9bi5nZXRTZXJ2aWNlKG8uU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKSk/WzQsZSh0LGkpXTpbMywzXTtjYXNlIDE6cmV0dXJuKGE9ci5zZW50KCkpJiZhLmFjY2Vzc1Rva2VuP1s0LHQuZ2V0RGF0YShhKV06WzMsM107Y2FzZSAyOnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZXNBdXRoMDk9ZnVuY3Rpb24oZSxuLGkscixhLG8scyxsLGMsdSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihoLHApe3ZhciBmPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOShlLG4saSxyLGEsbyxzLGwsYyx1KX0pKTtQcm9taXNlLmFsbChmKS50aGVuKChmdW5jdGlvbigpe2goZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AodCl9KSl9KSl9LHQubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMDk9ZnVuY3Rpb24oZSxuLGkscixhLG8sbCxjLHUsaCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihwLGYpe2gmJmgucGVzc2ltaXN0aWNBY2Nlc3NDb250cm9sP2UuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5pc0FjY2Vzc0NvbnRyb2xsZWQoKT9lLmNsaWNrVGhyb3VnaFNlcnZpY2U/KHAoaShlKSkscChyKGUpKSk6YShlKS50aGVuKChmdW5jdGlvbigpe28oZSwhMCkudGhlbigoZnVuY3Rpb24obil7ZS5nZXREYXRhKG4pLnRoZW4oKGZ1bmN0aW9uKCl7cCh1KGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKTpwKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSk6YyhlLG4pLnRoZW4oKGZ1bmN0aW9uKGgpe2g/ZS5nZXREYXRhKGgpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5zdGF0dXM9PT1zLk9LP3AodShlKSk6dC5hdXRob3JpemUoZSxuLGkscixhLG8sbCxjKS50aGVuKChmdW5jdGlvbigpe3AodShlKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSk6dC5hdXRob3JpemUoZSxuLGkscixhLG8sbCxjKS50aGVuKChmdW5jdGlvbigpe3AodShlKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSl9LHQuY3JlYXRlRXJyb3I9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgRXJyb3I7cmV0dXJuIG4ubWVzc2FnZT1lLG4ubmFtZT1TdHJpbmcodCksbn0sdC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVFcnJvcihhLlN0YXR1c0NvZGUuQVVUSE9SSVpBVElPTl9GQUlMRUQsXCJBdXRob3JpemF0aW9uIGZhaWxlZFwiKX0sdC5jcmVhdGVSZXN0cmljdGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jcmVhdGVFcnJvcihhLlN0YXR1c0NvZGUuUkVTVFJJQ1RFRCxcIlJlc3RyaWN0ZWRcIil9LHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jcmVhdGVFcnJvcihhLlN0YXR1c0NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLGUpfSx0LmF1dGhvcml6ZT1mdW5jdGlvbihlLG4saSxyLGEsbyxsLGMpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odSxoKXtlLmdldERhdGEoKS50aGVuKChmdW5jdGlvbigpe2UuaXNBY2Nlc3NDb250cm9sbGVkKCk/YyhlLG4pLnRoZW4oKGZ1bmN0aW9uKGMpe2M/ZS5nZXREYXRhKGMpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5zdGF0dXM9PT1zLk9LP3UoZSk6dC5zaG93QXV0aEludGVyYWN0aW9uKGUsbixpLHIsYSxvLGwsdSxoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aCh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpOm8oZSwhMSkudGhlbigoZnVuY3Rpb24oYyl7Yz9sKGUsYyxuKS50aGVuKChmdW5jdGlvbigpe2UuZ2V0RGF0YShjKS50aGVuKChmdW5jdGlvbigpe2Uuc3RhdHVzPT09cy5PSz91KGUpOnQuc2hvd0F1dGhJbnRlcmFjdGlvbihlLG4saSxyLGEsbyxsLHUsaCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2godC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aCh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpOnQuc2hvd0F1dGhJbnRlcmFjdGlvbihlLG4saSxyLGEsbyxsLHUsaCl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2godC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKTp1KGUpfSkpfSkpfSx0LnNob3dBdXRoSW50ZXJhY3Rpb249ZnVuY3Rpb24oZSxuLGkscixhLG8sbCxjLHUpe2Uuc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWXx8ZS5pc1Jlc3BvbnNlSGFuZGxlZD9lLmNsaWNrVGhyb3VnaFNlcnZpY2UmJiFlLmlzUmVzcG9uc2VIYW5kbGVkP2koZSkudGhlbigoZnVuY3Rpb24oKXtvKGUsITApLnRoZW4oKGZ1bmN0aW9uKGkpe2woZSxpLG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZS5nZXREYXRhKGkpLnRoZW4oKGZ1bmN0aW9uKCl7YyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKTphKGUpLnRoZW4oKGZ1bmN0aW9uKCl7byhlLCEwKS50aGVuKChmdW5jdGlvbihpKXtsKGUsaSxuKS50aGVuKChmdW5jdGlvbigpe2UuZ2V0RGF0YShpKS50aGVuKChmdW5jdGlvbigpe2MoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSk6YyhlKX0sdC5nZXRTZXJ2aWNlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZ2V0U2VydmljZXModCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHIuZ2V0UHJvZmlsZSgpPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0sdC5nZXRSZXNvdXJjZUJ5SWQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC50cmF2ZXJzZUFuZEZpbmQoZS5fX2pzb25sZCxcIkBpZFwiLG4pfSx0LnRyYXZlcnNlQW5kRmluZD1mdW5jdGlvbihlLG4saSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShuKSYmZVtuXT09PWkpcmV0dXJuIGU7Zm9yKHZhciByPTA7cjxPYmplY3Qua2V5cyhlKS5sZW5ndGg7cisrKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlW09iamVjdC5rZXlzKGUpW3JdXSl7dmFyIGE9dC50cmF2ZXJzZUFuZEZpbmQoZVtPYmplY3Qua2V5cyhlKVtyXV0sbixpKTtpZihudWxsIT1hKXJldHVybiBhfX0sdC5nZXRTZXJ2aWNlcz1mdW5jdGlvbih0KXt2YXIgZSxuPVtdO2lmKCEoZT10Ll9fanNvbmxkP3QuX19qc29ubGQuc2VydmljZTp0LnNlcnZpY2UpKXJldHVybiBuO0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPWVbaV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpe3ZhciBvPXRoaXMuZ2V0UmVzb3VyY2VCeUlkKHQub3B0aW9ucy5yZXNvdXJjZSxyKTtvJiZuLnB1c2gobmV3IGEuU2VydmljZShvLl9fanNvbmxkfHxvLHQub3B0aW9ucykpfWVsc2Ugbi5wdXNoKG5ldyBhLlNlcnZpY2Uocix0Lm9wdGlvbnMpKX1yZXR1cm4gbn0sdC5nZXRUZW1wb3JhbENvbXBvbmVudD1mdW5jdGlvbih0KXt2YXIgZT0vdD0oW14mXSspL2cuZXhlYyh0KSxuPW51bGw7cmV0dXJuIGUmJmVbMV0mJihuPWVbMV0uc3BsaXQoXCIsXCIpKSxufSx0fSgpO2UuVXRpbHM9bH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKSxlLmRlZmF1bHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHx7fSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3QsYT1bXSxvPVtdLHM9e30sbD1mdW5jdGlvbigpe3JldHVybntvazoyPT0oci5zdGF0dXMvMTAwfDApLHN0YXR1c1RleHQ6ci5zdGF0dXNUZXh0LHN0YXR1czpyLnN0YXR1cyx1cmw6ci5yZXNwb25zZVVSTCx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShyLnJlc3BvbnNlVGV4dCl9LGpzb246ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2Uoci5yZXNwb25zZVRleHQpKX0sYmxvYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3IucmVzcG9uc2VdKSl9LGNsb25lOmwsaGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBhfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gc1t0LnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKWluIHN9fX19O2Zvcih2YXIgYyBpbiByLm9wZW4oZS5tZXRob2R8fFwiZ2V0XCIsdCwhMCksci5vbmxvYWQ9ZnVuY3Rpb24oKXtyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSwoZnVuY3Rpb24odCxlLG4pe2EucHVzaChlPWUudG9Mb3dlckNhc2UoKSksby5wdXNoKFtlLG5dKSxzW2VdPXNbZV0/c1tlXStcIixcIituOm59KSksbihsKCkpfSxyLm9uZXJyb3I9aSxyLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09ZS5jcmVkZW50aWFscyxlLmhlYWRlcnMpci5zZXRSZXF1ZXN0SGVhZGVyKGMsZS5oZWFkZXJzW2NdKTtyLnNlbmQoZS5ib2R5fHxudWxsKX0pKX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9big1KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KWUuaGFzT3duUHJvcGVydHkobil8fChlW25dPXRbbl0pfShuKDApKTt2YXIgaT1uKDIpO2UubG9hZE1hbmlmZXN0PWZ1bmN0aW9uKHQpe3JldHVybiBpLlV0aWxzLmxvYWRNYW5pZmVzdCh0KX0sZS5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuVXRpbHMucGFyc2VNYW5pZmVzdCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9fanNvbmxkPXQsdGhpcy5jb250ZXh0PXRoaXMuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLHRoaXMuaWQ9dGhpcy5nZXRQcm9wZXJ0eShcImlkXCIpfXJldHVybiB0LnByb3RvdHlwZS5nZXRQcm9wZXJ0eT1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiB0aGlzLl9fanNvbmxkJiYoKGU9dGhpcy5fX2pzb25sZFt0XSl8fChlPXRoaXMuX19qc29ubGRbXCJAXCIrdF0pKSxlfSx0fSgpO2UuSlNPTkxEUmVzb3VyY2U9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1uKDEpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBpLm9wdGlvbnM9bixpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKTtyZXR1cm4gdD9hLkxhbmd1YWdlTWFwLnBhcnNlKHQsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LGUucHJvdG90eXBlLmdldERlZmF1bHRMYWJlbD1mdW5jdGlvbigpe3JldHVybiBhLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMuZ2V0TGFiZWwoKSl9LGUucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcIm1ldGFkYXRhXCIpLGU9W107aWYoIXQpcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj1uZXcgYS5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKTtyLnBhcnNlKGkpLGUucHVzaChyKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFJlbmRlcmluZ3MoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYoaS5nZXRGb3JtYXQoKT09PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFJlbmRlcmluZ3M9ZnVuY3Rpb24oKXt2YXIgdCxlPVtdO2lmKCEodD10aGlzLl9fanNvbmxkP3RoaXMuX19qc29ubGQucmVuZGVyaW5nOnRoaXMucmVuZGVyaW5nKSlyZXR1cm4gZTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2UucHVzaChuZXcgYS5SZW5kZXJpbmcoaSx0aGlzLm9wdGlvbnMpKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0U2VydmljZT1mdW5jdGlvbih0KXtyZXR1cm4gYS5VdGlscy5nZXRTZXJ2aWNlKHRoaXMsdCl9LGUucHJvdG90eXBlLmdldFNlcnZpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0U2VydmljZXModGhpcyl9LGUucHJvdG90eXBlLmdldFRodW1ibmFpbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pLHQ/bmV3IGEuVGh1bWJuYWlsKHQsdGhpcy5vcHRpb25zKTpudWxsfSxlLnByb3RvdHlwZS5pc0Fubm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuQU5OT1RBVElPTn0sZS5wcm90b3R5cGUuaXNDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuQ0FOVkFTfSxlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sZS5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sZS5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5SQU5HRX0sZS5wcm90b3R5cGUuaXNTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5TRVFVRU5DRX0sZX0oYS5KU09OTERSZXNvdXJjZSk7ZS5NYW5pZmVzdFJlc291cmNlPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gdD90LnRvTG93ZXJDYXNlKCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9W107aWYoIXRoaXMuX19qc29ubGQucmVzb3VyY2VzKXJldHVybiB0O2Zvcih2YXIgZT0wO2U8dGhpcy5fX2pzb25sZC5yZXNvdXJjZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5yZXNvdXJjZXNbZV0saT1uZXcgYS5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTt0LnB1c2goaSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKTtyZXR1cm4gdD9hLlV0aWxzLm5vcm1hbGlzZVR5cGUodCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sZS5wcm90b3R5cGUuZ2V0TWF4V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFdpZHRoXCIpfSxlLnByb3RvdHlwZS5nZXRNYXhIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEhlaWdodFwiKT9udWxsOnRoaXMuZ2V0TWF4V2lkdGgoKX0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLlJlc291cmNlPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89bigxKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4pfHx0aGlzO2kuaW5kZXg9LTEsaS5pc0xvYWRlZD0hMTt2YXIgcj17ZGVmYXVsdExhYmVsOlwiLVwiLGxvY2FsZTpcImVuLUdCXCIscmVzb3VyY2U6aSxwZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w6ITF9O3JldHVybiBpLm9wdGlvbnM9T2JqZWN0LmFzc2lnbihyLG4pLGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJhdHRyaWJ1dGlvblwiKTtyZXR1cm4gdD9hLkxhbmd1YWdlTWFwLnBhcnNlKHQsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpO3JldHVybiB0P2EuTGFuZ3VhZ2VNYXAucGFyc2UodCx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sZS5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSxlLnByb3RvdHlwZS5nZXRMb2dvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImxvZ29cIik7cmV0dXJuIHQ/XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDooQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGgmJih0PXRbMF0pLHRbXCJAaWRcIl18fHQuaWQpOm51bGx9LGUucHJvdG90eXBlLmdldExpY2Vuc2U9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGljZW5zZVwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0TmF2RGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmdldFByb3BlcnR5KFwibmF2RGF0ZVwiKSl9LGUucHJvdG90eXBlLmdldFJlbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInJlbGF0ZWRcIil9LGUucHJvdG90eXBlLmdldFNlZUFsc289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInNlZUFsc29cIil9LGUucHJvdG90eXBlLmdldFRyYWNraW5nTGFiZWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlcnZpY2Uoby5TZXJ2aWNlUHJvZmlsZS5UUkFDS0lOR19FWFRFTlNJT05TKTtyZXR1cm4gdD90LmdldFByb3BlcnR5KFwidHJhY2tpbmdMYWJlbFwiKTpcIlwifSxlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHRUcmVlPW5ldyBhLlRyZWVOb2RlKFwicm9vdFwiKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGE9dGhpcyx0aGlzLmRlZmF1bHRUcmVlfSxlLnByb3RvdHlwZS5nZXRSZXF1aXJlZFN0YXRlbWVudD1mdW5jdGlvbigpe3ZhciB0PW51bGwsZT10aGlzLmdldFByb3BlcnR5KFwicmVxdWlyZWRTdGF0ZW1lbnRcIik7aWYoZSkodD1uZXcgYS5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKSkucGFyc2UoZSk7ZWxzZXt2YXIgbj10aGlzLmdldEF0dHJpYnV0aW9uKCk7biYmKCh0PW5ldyBhLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS52YWx1ZT1uKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT059LGUucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1R9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7aWYodC5pc0xvYWRlZCllKHQpO2Vsc2V7dmFyIG49dC5vcHRpb25zO24ubmF2RGF0ZT10LmdldE5hdkRhdGUoKTt2YXIgaT10Ll9fanNvbmxkLmlkO2l8fChpPXQuX19qc29ubGRbXCJAaWRcIl0pLGEuVXRpbHMubG9hZE1hbmlmZXN0KGkpLnRoZW4oKGZ1bmN0aW9uKGkpe3QucGFyZW50TGFiZWw9YS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0LmdldExhYmVsKCksbi5sb2NhbGUpO3ZhciByPWEuRGVzZXJpYWxpc2VyLnBhcnNlKGksbik7KHQ9T2JqZWN0LmFzc2lnbih0LHIpKS5pbmRleD1uLmluZGV4LGUodCl9KSl9fSkpfSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuSUlJRlJlc291cmNlPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5nZXRQcm9wZXJ0eShcImJvZHlcIik7aWYoZSlpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKChvPWVbbl0pLml0ZW1zKWZvcih2YXIgaT0wO2k8by5pdGVtcy5sZW5ndGg7aSsrKXt2YXIgcj1vLml0ZW1zW2ldO3QucHVzaChuZXcgYS5Bbm5vdGF0aW9uQm9keShyLHRoaXMub3B0aW9ucykpfWVsc2UgdC5wdXNoKG5ldyBhLkFubm90YXRpb25Cb2R5KG8sdGhpcy5vcHRpb25zKSk7ZWxzZSBpZihlLml0ZW1zKWZvcihuPTA7bjxlLml0ZW1zLmxlbmd0aDtuKyspe3ZhciBvPWUuaXRlbXNbbl07dC5wdXNoKG5ldyBhLkFubm90YXRpb25Cb2R5KG8sdGhpcy5vcHRpb25zKSl9ZWxzZSB0LnB1c2gobmV3IGEuQW5ub3RhdGlvbkJvZHkoZSx0aGlzLm9wdGlvbnMpKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0TW90aXZhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibW90aXZhdGlvblwiKXx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0T249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm9uXCIpfSxlLnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInRhcmdldFwiKX0sZS5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEuUmVzb3VyY2UodGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlXCIpLHRoaXMub3B0aW9ucyl9LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5Bbm5vdGF0aW9uPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gdD9hLlV0aWxzLmdldE1lZGlhVHlwZSh0KTpudWxsfSxlLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpP2EuVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLkFubm90YXRpb25Cb2R5PW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIHIubGFiZWw9ZSxyLm9wdGlvbnM9aSxyfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSxlLnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VzXCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhLkFubm90YXRpb24oZSx0Lm9wdGlvbnMpfSkpfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7aWYodC5pc0xvYWRlZCllKHQpO2Vsc2V7dmFyIGk9dC5fX2pzb25sZC5pZDtpfHwoaT10Ll9fanNvbmxkW1wiQGlkXCJdKSxhLlV0aWxzLmxvYWRNYW5pZmVzdChpKS50aGVuKChmdW5jdGlvbihuKXt0Ll9fanNvbmxkPW4sdC5jb250ZXh0PXQuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLHQuaWQ9dC5nZXRQcm9wZXJ0eShcImlkXCIpLHQuaXNMb2FkZWQ9ITAsZSh0KX0pKS5jYXRjaChuKX19KSl9LGV9KGEuSlNPTkxEUmVzb3VyY2UpO2UuQW5ub3RhdGlvbkxpc3Q9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpdGVtc1wiKX0sZX0obigwKS5NYW5pZmVzdFJlc291cmNlKTtlLkFubm90YXRpb25QYWdlPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Q2Fub25pY2FsSW1hZ2VVcmk9ZnVuY3Rpb24odCl7dmFyIGUsbj1udWxsLGk9XCJkZWZhdWx0XCIscj10O2lmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdKW49dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0scnx8KHI9dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEud2lkdGgpLHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0mJih0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4wL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEuMS9jb250ZXh0Lmpzb25cIik+LTF8fHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xL2NvbnRleHQuanNvblwiKT4tMSkmJihpPVwibmF0aXZlXCIpO2Vsc2V7dmFyIG89dGhpcy5nZXRJbWFnZXMoKTtpZihvJiZvLmxlbmd0aCl7dmFyIHM9b1swXS5nZXRSZXNvdXJjZSgpLGw9cy5nZXRTZXJ2aWNlcygpO2lmKHJ8fChyPXMuZ2V0V2lkdGgoKSksbC5sZW5ndGgpe3ZhciBjPWxbMF07bj1jLmlkLGk9YS5VdGlscy5nZXRJbWFnZVF1YWxpdHkoYy5nZXRQcm9maWxlKCkpfWVsc2UgaWYocj09PXMuZ2V0V2lkdGgoKSlyZXR1cm4gcy5pZH1pZighbil7dmFyIHU9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtpZih1KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdSlyZXR1cm4gdTtpZih1W1wiQGlkXCJdKXJldHVybiB1W1wiQGlkXCJdO2lmKHUubGVuZ3RoKXJldHVybiB1WzBdLmlkfX19cmV0dXJuIGU9citcIixcIixuJiZuLmVuZHNXaXRoKFwiL1wiKSYmKG49bi5zdWJzdHIoMCxuLmxlbmd0aC0xKSksW24sXCJmdWxsXCIsZSwwLGkrXCIuanBnXCJdLmpvaW4oXCIvXCIpfSxlLnByb3RvdHlwZS5nZXRNYXhEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIHQsZT1udWxsO3JldHVybiB0aGlzLmV4dGVybmFsUmVzb3VyY2UmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlJiYodD10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlLEFycmF5LmlzQXJyYXkodCkmJih0PXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXhXaWR0aH0pKVswXSkmJihlPW5ldyBhLlNpemUodC5tYXhXaWR0aCx0Lm1heEhlaWdodD90Lm1heEhlaWdodDp0Lm1heFdpZHRoKSkpLGV9LGUucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPXRoaXMuX19qc29ubGQuaXRlbXN8fHRoaXMuX19qc29ubGQuY29udGVudDtpZighZSlyZXR1cm4gdDt2YXIgbj1udWxsO2lmKGUubGVuZ3RoJiYobj1uZXcgYS5Bbm5vdGF0aW9uUGFnZShlWzBdLHRoaXMub3B0aW9ucykpLCFuKXJldHVybiB0O2Zvcih2YXIgaT1uLmdldEl0ZW1zKCkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLHM9bmV3IGEuQW5ub3RhdGlvbihvLHRoaXMub3B0aW9ucyk7dC5wdXNoKHMpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZHVyYXRpb25cIil9LGUucHJvdG90eXBlLmdldEltYWdlcz1mdW5jdGlvbigpe3ZhciB0PVtdO2lmKCF0aGlzLl9fanNvbmxkLmltYWdlcylyZXR1cm4gdDtmb3IodmFyIGU9MDtlPHRoaXMuX19qc29ubGQuaW1hZ2VzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX19qc29ubGQuaW1hZ2VzW2VdLGk9bmV3IGEuQW5ub3RhdGlvbihuLHRoaXMub3B0aW9ucyk7dC5wdXNoKGkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaW5kZXhcIil9LGUucHJvdG90eXBlLmdldE90aGVyQ29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0oQXJyYXkuaXNBcnJheSh0aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpKT90aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpOlt0aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpXSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJzdHJpbmdcIj09dHlwZW9mKGU9dFtcIkB0eXBlXCJdKSYmZS50b0xvd2VyQ2FzZSgpPT1lLnRvTG93ZXJDYXNlKCk7dmFyIGV9KSkubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgYS5Bbm5vdGF0aW9uTGlzdChlLmxhYmVsfHxcIkFubm90YXRpb24gbGlzdCBcIituLGUsdC5vcHRpb25zKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvYWQoKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoZSl9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LGV9KGEuUmVzb3VyY2UpO2UuQ2FudmFzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEpLG89bigwKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBpLml0ZW1zPVtdLGkuX2NvbGxlY3Rpb25zPW51bGwsaS5fbWFuaWZlc3RzPW51bGwsZS5fX2NvbGxlY3Rpb249aSxpfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGVjdGlvbnM/dGhpcy5fY29sbGVjdGlvbnM6dGhpcy5fY29sbGVjdGlvbnM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzQ29sbGVjdGlvbigpfSkpfSxlLnByb3RvdHlwZS5nZXRNYW5pZmVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFuaWZlc3RzP3RoaXMuX21hbmlmZXN0czp0aGlzLl9tYW5pZmVzdHM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTWFuaWZlc3QoKX0pKX0sZS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbkJ5SW5kZXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcy5nZXRDb2xsZWN0aW9ucygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtyLmluZGV4PT09dCYmKGU9cil9aWYoZSlyZXR1cm4gZS5vcHRpb25zLmluZGV4PXQsZS5sb2FkKCk7dGhyb3cgbmV3IEVycm9yKFwiQ29sbGVjdGlvbiBpbmRleCBub3QgZm91bmRcIil9LGUucHJvdG90eXBlLmdldE1hbmlmZXN0QnlJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10aGlzLmdldE1hbmlmZXN0cygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtyLmluZGV4PT09dCYmKGU9cil9aWYoZSlyZXR1cm4gZS5vcHRpb25zLmluZGV4PXQsZS5sb2FkKCk7dGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgaW5kZXggbm90IGZvdW5kXCIpfSxlLnByb3RvdHlwZS5nZXRUb3RhbENvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGh9LGUucHJvdG90eXBlLmdldFRvdGFsTWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TWFuaWZlc3RzKCkubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRUb3RhbEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpP3RoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpOmEuVmlld2luZ0RpcmVjdGlvbi5MRUZUX1RPX1JJR0hUfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZS5jYWxsKHRoaXMpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKSx0aGlzLl9wYXJzZU1hbmlmZXN0cyh0aGlzKSx0aGlzLl9wYXJzZUNvbGxlY3Rpb25zKHRoaXMpLG8uVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyh0aGlzLmRlZmF1bHRUcmVlKSx0aGlzLmRlZmF1bHRUcmVlfSxlLnByb3RvdHlwZS5fcGFyc2VNYW5pZmVzdHM9ZnVuY3Rpb24odCl7aWYodC5nZXRNYW5pZmVzdHMoKSYmdC5nZXRNYW5pZmVzdHMoKS5sZW5ndGgpZm9yKHZhciBlPTA7ZTx0LmdldE1hbmlmZXN0cygpLmxlbmd0aDtlKyspe3ZhciBuPXQuZ2V0TWFuaWZlc3RzKClbZV0saT1uLmdldERlZmF1bHRUcmVlKCk7aS5sYWJlbD1uLnBhcmVudExhYmVsfHxvLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKXx8XCJtYW5pZmVzdCBcIisoZSsxKSxpLm5hdkRhdGU9bi5nZXROYXZEYXRlKCksaS5kYXRhLmlkPW4uaWQsaS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLk1BTklGRVNUKSx0LmRlZmF1bHRUcmVlLmFkZE5vZGUoaSl9fSxlLnByb3RvdHlwZS5fcGFyc2VDb2xsZWN0aW9ucz1mdW5jdGlvbih0KXtpZih0LmdldENvbGxlY3Rpb25zKCkmJnQuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGgpZm9yKHZhciBlPTA7ZTx0LmdldENvbGxlY3Rpb25zKCkubGVuZ3RoO2UrKyl7dmFyIG49dC5nZXRDb2xsZWN0aW9ucygpW2VdLGk9bi5nZXREZWZhdWx0VHJlZSgpO2kubGFiZWw9bi5wYXJlbnRMYWJlbHx8by5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSl8fFwiY29sbGVjdGlvbiBcIisoZSsxKSxpLm5hdkRhdGU9bi5nZXROYXZEYXRlKCksaS5kYXRhLmlkPW4uaWQsaS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pLHQuZGVmYXVsdFRyZWUuYWRkTm9kZShpKX19LGV9KG8uSUlJRlJlc291cmNlKTtlLkNvbGxlY3Rpb249c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuc3RhcnQ9dCx0aGlzLmVuZD1lfXJldHVybiB0LnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQtdGhpcy5zdGFydH0sdH0oKTtlLkR1cmF0aW9uPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZGVmYXVsdExvY2FsZT10fXJldHVybiB0LnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXt0aGlzLnJlc291cmNlPXQsdGhpcy5sYWJlbD1pLkxhbmd1YWdlTWFwLnBhcnNlKHRoaXMucmVzb3VyY2UubGFiZWwsdGhpcy5kZWZhdWx0TG9jYWxlKSx0aGlzLnZhbHVlPWkuTGFuZ3VhZ2VNYXAucGFyc2UodGhpcy5yZXNvdXJjZS52YWx1ZSx0aGlzLmRlZmF1bHRMb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsP2kuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy5sYWJlbCx0aGlzLmRlZmF1bHRMb2NhbGUpOm51bGx9LHQucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5sZW5ndGgpe3ZhciBuPXRoaXMubGFiZWwuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbGU9PT1lLmRlZmF1bHRMb2NhbGV8fHQubG9jYWxlPT09aS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKGUuZGVmYXVsdExvY2FsZSl9KSlbMF07biYmKG4udmFsdWU9dCl9fSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe2lmKHRoaXMudmFsdWUpe3ZhciB0PXRoaXMuZGVmYXVsdExvY2FsZTtyZXR1cm4gdGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5sZW5ndGgmJnRoaXMubGFiZWxbMF0ubG9jYWxlJiYodD10aGlzLmxhYmVsWzBdLmxvY2FsZSksaS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLnZhbHVlLHQpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMudmFsdWUmJnRoaXMudmFsdWUubGVuZ3RoKXt2YXIgbj10aGlzLnZhbHVlLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9jYWxlPT09ZS5kZWZhdWx0TG9jYWxlfHx0LmxvY2FsZT09PWkuVXRpbHMuZ2V0SW5leGFjdExvY2FsZShlLmRlZmF1bHRMb2NhbGUpfSkpWzBdO24mJihuLnZhbHVlPXQpfX0sdH0oKTtlLkxhYmVsVmFsdWVQYWlyPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkxhbmd1YWdlPWZ1bmN0aW9uKHQsZSl7QXJyYXkuaXNBcnJheSh0KT8xPT09dC5sZW5ndGg/dGhpcy52YWx1ZT10WzBdOnRoaXMudmFsdWU9dC5qb2luKFwiPGJyLz5cIik6dGhpcy52YWx1ZT10LHRoaXMubG9jYWxlPWV9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiByKGUsdCksZS5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9W107aWYoIXQpcmV0dXJuIGk7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtuPVwic3RyaW5nXCI9PXR5cGVvZiBvP25ldyBhLkxhbmd1YWdlKG8sZSk6bmV3IGEuTGFuZ3VhZ2Uob1tcIkB2YWx1ZVwiXSxvW1wiQGxhbmd1YWdlXCJdfHxlKSxpLnB1c2gobil9ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gbj1uZXcgYS5MYW5ndWFnZSh0LGUpLGkucHVzaChuKSxpO3RbXCJAdmFsdWVcIl0/KG49bmV3IGEuTGFuZ3VhZ2UodFtcIkB2YWx1ZVwiXSx0W1wiQGxhbmd1YWdlXCJdfHxlKSxpLnB1c2gobikpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCF0W2VdLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJsYW5ndWFnZSBtdXN0IGhhdmUgYSB2YWx1ZVwiKTtuPW5ldyBhLkxhbmd1YWdlKHRbZV0sZSksaS5wdXNoKG4pfSkpfXJldHVybiBpfSxlLmdldFZhbHVlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGgpe2lmKGUpe3ZhciBuPXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbGU9PT1lfHxhLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodC5sb2NhbGUpPT09YS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKGUpfSkpWzBdO2lmKG4pcmV0dXJuIG4udmFsdWV9cmV0dXJuIHRbMF0udmFsdWV9cmV0dXJuIG51bGx9LGV9KEFycmF5KTtlLkxhbmd1YWdlTWFwPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEpLG89bigwKSxzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlLG4pfHx0aGlzO2lmKGkuaW5kZXg9MCxpLl9hbGxSYW5nZXM9bnVsbCxpLml0ZW1zPVtdLGkuX3RvcFJhbmdlcz1bXSxpLl9fanNvbmxkLnN0cnVjdHVyZXMmJmkuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpZm9yKHZhciByPWkuX2dldFRvcFJhbmdlcygpLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG89clthXTtpLl9wYXJzZVJhbmdlcyhvLFN0cmluZyhhKSl9cmV0dXJuIGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRQb3N0ZXJDYW52YXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwicG9zdGVyQ2FudmFzXCIpO3JldHVybiB0JiYodD1uZXcgby5DYW52YXModCx0aGlzLm9wdGlvbnMpKSx0fSxlLnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmKHQ9dFswXSksdHx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtpZih0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZS5jYWxsKHRoaXMpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksIXRoaXMuaXNMb2FkZWQpcmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU7dmFyIGU9dGhpcy5nZXRUb3BSYW5nZXMoKTtyZXR1cm4gZS5sZW5ndGgmJmVbMF0uZ2V0VHJlZSh0aGlzLmRlZmF1bHRUcmVlKSxvLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sZS5wcm90b3R5cGUuX2dldFRvcFJhbmdlcz1mdW5jdGlvbigpe3ZhciB0PVtdO2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW2VdO24udmlld2luZ0hpbnQ9PT1hLlZpZXdpbmdIaW50LlRPUCYmdC5wdXNoKG4pfWlmKCF0Lmxlbmd0aCl7dmFyIGk9e307aS5yYW5nZXM9dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLHQucHVzaChpKX19cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldFRvcFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3BSYW5nZXN9LGUucHJvdG90eXBlLl9nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZ0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgZT0wO2U8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1tlXTtpZihuW1wiQGlkXCJdPT09dHx8bi5pZD09PXQpcmV0dXJuIG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9wYXJzZVJhbmdlcz1mdW5jdGlvbih0LGUsbil7dmFyIGkscj1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYocj10LHQ9dGhpcy5fZ2V0UmFuZ2VCeUlkKHIpKSx0KXsoaT1uZXcgby5SYW5nZSh0LHRoaXMub3B0aW9ucykpLnBhcmVudFJhbmdlPW4saS5wYXRoPWUsbj9uLml0ZW1zLnB1c2goaSk6dGhpcy5fdG9wUmFuZ2VzLnB1c2goaSk7dmFyIGE9dC5pdGVtc3x8dC5tZW1iZXJzO2lmKGEpZm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBsPWFbc107aWYobFtcIkB0eXBlXCJdJiZcInNjOnJhbmdlXCI9PT1sW1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8bC50eXBlJiZcInJhbmdlXCI9PT1sLnR5cGUudG9Mb3dlckNhc2UoKSl0aGlzLl9wYXJzZVJhbmdlcyhsLGUrXCIvXCIrcyxpKTtlbHNlIGlmKGxbXCJAdHlwZVwiXSYmXCJzYzpjYW52YXNcIj09PWxbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpfHxsLnR5cGUmJlwiY2FudmFzXCI9PT1sLnR5cGUudG9Mb3dlckNhc2UoKSl7aS5jYW52YXNlc3x8KGkuY2FudmFzZXM9W10pO3ZhciBjPWwuaWR8fGxbXCJAaWRcIl07aS5jYW52YXNlcy5wdXNoKGMpfX1lbHNlIGlmKHQucmFuZ2VzKWZvcihzPTA7czx0LnJhbmdlcy5sZW5ndGg7cysrKXRoaXMuX3BhcnNlUmFuZ2VzKHQucmFuZ2VzW3NdLGUrXCIvXCIrcyxpKX1lbHNlIGNvbnNvbGUud2FybihcIlJhbmdlOlwiLHIsXCJkb2VzIG5vdCBleGlzdFwiKX0sZS5wcm90b3R5cGUuZ2V0QWxsUmFuZ2VzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fYWxsUmFuZ2VzKXJldHVybiB0aGlzLl9hbGxSYW5nZXM7dGhpcy5fYWxsUmFuZ2VzPVtdO2Zvcih2YXIgdD10aGlzLmdldFRvcFJhbmdlcygpLGU9ZnVuY3Rpb24oZSl7dmFyIGk9dFtlXTtpLmlkJiZuLl9hbGxSYW5nZXMucHVzaChpKTt2YXIgcj1mdW5jdGlvbih0LGUpe3QuYWRkKGUpO3ZhciBuPWUuZ2V0UmFuZ2VzKCk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKHIsdCk6dH0sYT1BcnJheS5mcm9tKGkuZ2V0UmFuZ2VzKCkucmVkdWNlKHIsbmV3IFNldCkpO24uX2FsbFJhbmdlcz1uLl9hbGxSYW5nZXMuY29uY2F0KGEpfSxuPXRoaXMsaT0wO2k8dC5sZW5ndGg7aSsrKWUoaSk7cmV0dXJuIHRoaXMuX2FsbFJhbmdlc30sZS5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLmlkPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VCeVBhdGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0QWxsUmFuZ2VzKCksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lmKGkucGF0aD09PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFNlcXVlbmNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXJldHVybiB0aGlzLml0ZW1zO3ZhciB0PXRoaXMuX19qc29ubGQubWVkaWFTZXF1ZW5jZXN8fHRoaXMuX19qc29ubGQuc2VxdWVuY2VzO2lmKHQpZm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0saT1uZXcgby5TZXF1ZW5jZShuLHRoaXMub3B0aW9ucyk7dGhpcy5pdGVtcy5wdXNoKGkpfWVsc2UgdGhpcy5fX2pzb25sZC5pdGVtcyYmKGk9bmV3IG8uU2VxdWVuY2UodGhpcy5fX2pzb25sZC5pdGVtcyx0aGlzLm9wdGlvbnMpLHRoaXMuaXRlbXMucHVzaChpKSk7cmV0dXJuIHRoaXMuaXRlbXN9LGUucHJvdG90eXBlLmdldFNlcXVlbmNlQnlJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZXMoKVt0XX0sZS5wcm90b3R5cGUuZ2V0VG90YWxTZXF1ZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZXMoKS5sZW5ndGh9LGUucHJvdG90eXBlLmdldE1hbmlmZXN0VHlwZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VydmljZShhLlNlcnZpY2VQcm9maWxlLlVJX0VYVEVOU0lPTlMpO3JldHVybiB0P3QuZ2V0UHJvcGVydHkoXCJtYW5pZmVzdFR5cGVcIik6by5NYW5pZmVzdFR5cGUuRU1QVFl9LGUucHJvdG90eXBlLmlzTXVsdGlTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsU2VxdWVuY2VzKCk+MX0sZS5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3aW5nSGludCgpO2lmKHQpcmV0dXJuIHQ9PT1hLlZpZXdpbmdIaW50LlBBR0VEO3ZhciBlPXRoaXMuZ2V0QmVoYXZpb3IoKTtyZXR1cm4hIWUmJmU9PT1hLkJlaGF2aW9yLlBBR0VEfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LGV9KG8uSUlJRlJlc291cmNlKTtlLk1hbmlmZXN0PXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0LkVNUFRZPVwiXCIsdC5NQU5VU0NSSVBUPVwibWFudXNjcmlwdFwiLHQuTU9OT0dSQVBIPVwibW9ub2dyYXBoXCJ9KGUuTWFuaWZlc3RUeXBlfHwoZS5NYW5pZmVzdFR5cGU9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1uKDEpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7cmV0dXJuIGkuX3Jhbmdlcz1udWxsLGkuY2FudmFzZXM9bnVsbCxpLml0ZW1zPVtdLGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRDYW52YXNJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2pzb25sZC5jYW52YXNlcz90aGlzLl9fanNvbmxkLmNhbnZhc2VzOnRoaXMuY2FudmFzZXM/dGhpcy5jYW52YXNlczpbXX0sZS5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKHRoaXMuY2FudmFzZXMmJnRoaXMuY2FudmFzZXMubGVuZ3RoKWZvcih2YXIgbj0wO248dGhpcy5jYW52YXNlcy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmNhbnZhc2VzW25dLHI9YS5VdGlscy5nZXRUZW1wb3JhbENvbXBvbmVudChpKTtyJiZyLmxlbmd0aD4xJiYoMD09PW4mJih0PU51bWJlcihyWzBdKSksbj09PXRoaXMuY2FudmFzZXMubGVuZ3RoLTEmJihlPU51bWJlcihyWzFdKSkpfWVsc2V7dmFyIG89dGhpcy5nZXRSYW5nZXMoKTtmb3Iobj0wO248by5sZW5ndGg7bisrKXt2YXIgcz1vW25dLmdldER1cmF0aW9uKCk7cyYmKDA9PT1uJiYodD1zLnN0YXJ0KSxuPT09by5sZW5ndGgtMSYmKGU9cy5lbmQpKX19aWYodm9pZCAwIT09dCYmdm9pZCAwIT09ZSlyZXR1cm4gbmV3IGEuRHVyYXRpb24odCxlKX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhbmdlcz90aGlzLl9yYW5nZXM6dGhpcy5fcmFuZ2VzPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1JhbmdlKCl9KSl9LGUucHJvdG90eXBlLmdldEJlaGF2aW9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImJlaGF2aW9yXCIpO3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYodD10WzBdKSx0fHxudWxsfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LGUucHJvdG90eXBlLmdldFRyZWU9ZnVuY3Rpb24odCl7dC5kYXRhPXRoaXMsdGhpcy50cmVlTm9kZT10O3ZhciBlPXRoaXMuZ2V0UmFuZ2VzKCk7aWYoZSYmZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj1uZXcgYS5UcmVlTm9kZTt0LmFkZE5vZGUociksdGhpcy5fcGFyc2VUcmVlTm9kZShyLGkpfXJldHVybiBhLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModCksdH0sZS5wcm90b3R5cGUuc3BhbnNUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RHVyYXRpb24oKTtyZXR1cm4hIShlJiZ0Pj1lLnN0YXJ0JiZ0PD1lLmVuZCl9LGUucHJvdG90eXBlLl9wYXJzZVRyZWVOb2RlPWZ1bmN0aW9uKHQsZSl7dC5sYWJlbD1hLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUuZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKSx0LmRhdGE9ZSx0LmRhdGEudHlwZT1hLlV0aWxzLm5vcm1hbGlzZVR5cGUoYS5UcmVlTm9kZVR5cGUuUkFOR0UpLGUudHJlZU5vZGU9dDt2YXIgbj1lLmdldFJhbmdlcygpO2lmKG4mJm4ubGVuZ3RoKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHIuZ2V0QmVoYXZpb3IoKSE9PW8uQmVoYXZpb3IuTk9fTkFWKXt2YXIgcz1uZXcgYS5UcmVlTm9kZTt0LmFkZE5vZGUocyksdGhpcy5fcGFyc2VUcmVlTm9kZShzLHIpfX19LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5SYW5nZT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIil9LGV9KG4oMCkuTWFuaWZlc3RSZXNvdXJjZSk7ZS5SZW5kZXJpbmc9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMSksbz1uKDApLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7cmV0dXJuIGkuaXRlbXM9W10saS5fdGh1bWJuYWlscz1udWxsLGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRDYW52YXNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXRlbXMubGVuZ3RoKXJldHVybiB0aGlzLml0ZW1zO3ZhciB0PXRoaXMuX19qc29ubGQuY2FudmFzZXN8fHRoaXMuX19qc29ubGQuZWxlbWVudHM7aWYodClmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTsoaT1uZXcgby5DYW52YXMobix0aGlzLm9wdGlvbnMpKS5pbmRleD1lLHRoaXMuaXRlbXMucHVzaChpKX1lbHNlIGlmKHRoaXMuX19qc29ubGQpZm9yKGU9MDtlPHRoaXMuX19qc29ubGQubGVuZ3RoO2UrKyl7dmFyIGk7bj10aGlzLl9fanNvbmxkW2VdLChpPW5ldyBvLkNhbnZhcyhuLHRoaXMub3B0aW9ucykpLmluZGV4PWUsdGhpcy5pdGVtcy5wdXNoKGkpfXJldHVybiB0aGlzLml0ZW1zfSxlLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7ZSsrKXt2YXIgbj10aGlzLmdldENhbnZhc0J5SW5kZXgoZSksaT1vLlV0aWxzLm5vcm1hbGlzZVVybChuLmlkKTtpZihvLlV0aWxzLm5vcm1hbGlzZVVybCh0KT09PWkpcmV0dXJuIG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbnZhc0J5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXMoKVt0XX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7ZSsrKWlmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleChlKS5pZD09PXQpcmV0dXJuIGU7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlMYWJlbD1mdW5jdGlvbih0LGUpe3Q9dC50cmltKCksaXNOYU4odCl8fCh0PXBhcnNlSW50KHQsMTApLnRvU3RyaW5nKCksZSYmKHQrPVwiclwiKSk7Zm9yKHZhciBuLGkscixhPS8oXFxkKilcXEQrKFxcZCopLyxzPTA7czx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTtzKyspe3ZhciBsPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChzKTtpZihvLkxhbmd1YWdlTWFwLmdldFZhbHVlKGwuZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKT09PXQpcmV0dXJuIHM7aWYoKG49YS5leGVjKHQpKSYmKGk9blsxXSwocj1uWzJdKSYmbmV3IFJlZ0V4cChcIl5cIitpK1wiXFxcXEQrXCIrcitcIiRcIikudGVzdChsLmdldExhYmVsKCkudG9TdHJpbmcoKSkpKXJldHVybiBzfXJldHVybi0xfSxlLnByb3RvdHlwZS5nZXRMYXN0Q2FudmFzTGFiZWw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTE7ZT49MDtlLS0pe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChlKSxpPW8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpO2lmKHQpe2lmKC9eW2EtekEtWjAtOV0qJC8udGVzdChpKSlyZXR1cm4gaX1lbHNlIGlmKGkpcmV0dXJuIGl9cmV0dXJuIHRoaXMub3B0aW9ucy5kZWZhdWx0TGFiZWx9LGUucHJvdG90eXBlLmdldExhc3RQYWdlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sZS5wcm90b3R5cGUuZ2V0TmV4dFBhZ2VJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKGUpe3ZhciBpPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKHQpLHI9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1yJiZyPT09YS5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/aVswXSsxOmlbaS5sZW5ndGgtMV0rMX1lbHNlIG49dCsxO3JldHVybiBuPnRoaXMuZ2V0TGFzdFBhZ2VJbmRleCgpPy0xOm59LGUucHJvdG90eXBlLmdldFBhZ2VkSW5kaWNlcz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKGUpe249dGhpcy5pc0ZpcnN0Q2FudmFzKHQpfHx0aGlzLmlzTGFzdENhbnZhcyh0KT9bdF06dCUyP1t0LHQrMV06W3QtMSx0XTt2YXIgaT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtpJiZpPT09YS5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQmJihuPW4ucmV2ZXJzZSgpKX1lbHNlIG4ucHVzaCh0KTtyZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0UHJldlBhZ2VJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKGUpe3ZhciBpPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKHQpLHI9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1yJiZyPT09YS5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/aVtpLmxlbmd0aC0xXS0xOmlbMF0tMX1lbHNlIG49dC0xO3JldHVybiBufSxlLnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTdGFydENhbnZhcygpO2lmKHQpZm9yKHZhciBlPTA7ZTx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTtlKyspaWYodGhpcy5nZXRDYW52YXNCeUluZGV4KGUpLmlkPT09dClyZXR1cm4gZTtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0VGh1bWJzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCkscj0wO3I8aTtyKyspe3ZhciBhPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChyKSxzPW5ldyBvLlRodW1iKHQsYSk7bi5wdXNoKHMpfXJldHVybiBufSxlLnByb3RvdHlwZS5nZXRUaHVtYm5haWxzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5fdGh1bWJuYWlscylyZXR1cm4gdGhpcy5fdGh1bWJuYWlsczt0aGlzLl90aHVtYm5haWxzPVtdO2Zvcih2YXIgdD10aGlzLmdldENhbnZhc2VzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdLmdldFRodW1ibmFpbCgpO24mJnRoaXMuX3RodW1ibmFpbHMucHVzaChuKX1yZXR1cm4gdGhpcy5fdGh1bWJuYWlsc30sZS5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInN0YXJ0Q2FudmFzXCIpfSxlLnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXMoKS5sZW5ndGh9LGUucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24/dGhpcy5vcHRpb25zLnJlc291cmNlLmdldFZpZXdpbmdEaXJlY3Rpb24oKTpudWxsfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIil9LGUucHJvdG90eXBlLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0PnRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LGUucHJvdG90eXBlLmlzRmlyc3RDYW52YXM9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10fSxlLnByb3RvdHlwZS5pc0xhc3RDYW52YXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSxlLnByb3RvdHlwZS5pc011bHRpQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpPjF9LGUucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4hIXQmJnQ9PT1hLlZpZXdpbmdIaW50LlBBR0VEfSxlLnByb3RvdHlwZS5pc1RvdGFsQ2FudmFzZXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpJTI9PTB9LGV9KG8uTWFuaWZlc3RSZXNvdXJjZSk7ZS5TZXF1ZW5jZT1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wYXJzZT1mdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1KU09OLnBhcnNlKHQpKSx0aGlzLnBhcnNlSnNvbih0LGUpfSx0LnBhcnNlSnNvbj1mdW5jdGlvbih0LGUpe3ZhciBuO2lmKGUmJmUubmF2RGF0ZSYmIWlzTmFOKGUubmF2RGF0ZS5nZXRUaW1lKCkpJiYodC5uYXZEYXRlPWUubmF2RGF0ZS50b1N0cmluZygpKSx0W1wiQHR5cGVcIl0pc3dpdGNoKHRbXCJAdHlwZVwiXSl7Y2FzZVwic2M6Q29sbGVjdGlvblwiOm49dGhpcy5wYXJzZUNvbGxlY3Rpb24odCxlKTticmVhaztjYXNlXCJzYzpNYW5pZmVzdFwiOm49dGhpcy5wYXJzZU1hbmlmZXN0KHQsZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1lbHNlIHN3aXRjaCh0LnR5cGUpe2Nhc2VcIkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKHQsZSk7YnJlYWs7Y2FzZVwiTWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdCh0LGUpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIG4uaXNMb2FkZWQ9ITAsbn0sdC5wYXJzZUNvbGxlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaS5Db2xsZWN0aW9uKHQsZSk7cmV0dXJuIGU/KG4uaW5kZXg9ZS5pbmRleHx8MCxlLnJlc291cmNlJiYobi5wYXJlbnRDb2xsZWN0aW9uPWUucmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbikpOm4uaW5kZXg9MCx0aGlzLnBhcnNlQ29sbGVjdGlvbnMobixlKSx0aGlzLnBhcnNlTWFuaWZlc3RzKG4sZSksdGhpcy5wYXJzZUl0ZW1zKG4sZSksbn0sdC5wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYodC5fX2pzb25sZC5jb2xsZWN0aW9ucz9uPXQuX19qc29ubGQuY29sbGVjdGlvbnM6dC5fX2pzb25sZC5pdGVtcyYmKG49dC5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblwiY29sbGVjdGlvblwiPT09dC50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe2UmJihlLmluZGV4PWkpO3ZhciByPXRoaXMucGFyc2VDb2xsZWN0aW9uKG5baV0sZSk7ci5pbmRleD1pLHIucGFyZW50Q29sbGVjdGlvbj10LHQuaXRlbXMucHVzaChyKX19LHQucGFyc2VNYW5pZmVzdD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaS5NYW5pZmVzdCh0LGUpfSx0LnBhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYodC5fX2pzb25sZC5tYW5pZmVzdHM/bj10Ll9fanNvbmxkLm1hbmlmZXN0czp0Ll9fanNvbmxkLml0ZW1zJiYobj10Ll9fanNvbmxkLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJtYW5pZmVzdFwiPT09dC50eXBlLnRvTG93ZXJDYXNlKCl9KSkpLG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPXRoaXMucGFyc2VNYW5pZmVzdChuW2ldLGUpO3IuaW5kZXg9aSxyLnBhcmVudENvbGxlY3Rpb249dCx0Lml0ZW1zLnB1c2gocil9fSx0LnBhcnNlSXRlbT1mdW5jdGlvbih0LGUpe2lmKHRbXCJAdHlwZVwiXSl7aWYoXCJzYzptYW5pZmVzdFwiPT09dFtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdCh0LGUpO2lmKFwic2M6Y29sbGVjdGlvblwiPT09dFtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VDb2xsZWN0aW9uKHQsZSl9ZWxzZSBpZih0LnR5cGUpe2lmKFwibWFuaWZlc3RcIj09PXQudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QodCxlKTtpZihcImNvbGxlY3Rpb25cIj09PXQudHlwZS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbih0LGUpfXJldHVybiBudWxsfSx0LnBhcnNlSXRlbXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9fanNvbmxkLm1lbWJlcnN8fHQuX19qc29ubGQuaXRlbXM7aWYobilmb3IodmFyIGk9ZnVuY3Rpb24oaSl7ZSYmKGUuaW5kZXg9aSk7dmFyIGE9ci5wYXJzZUl0ZW0obltpXSxlKTtyZXR1cm4gYT90Lml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1hLmlkfSkpWzBdP1wiY29udGludWVcIjooYS5pbmRleD1pLGEucGFyZW50Q29sbGVjdGlvbj10LHZvaWQgdC5pdGVtcy5wdXNoKGEpKTp7dmFsdWU6dm9pZCAwfX0scj10aGlzLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIG89aShhKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbylyZXR1cm4gby52YWx1ZX19LHR9KCk7ZS5EZXNlcmlhbGlzZXI9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRQcm9maWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcInByb2ZpbGVcIik7cmV0dXJuIHR8fCh0PXRoaXMuZ2V0UHJvcGVydHkoXCJkY3Rlcm1zOmNvbmZvcm1zVG9cIikpLEFycmF5LmlzQXJyYXkodCk/dFswXTp0fSxlLnByb3RvdHlwZS5nZXRDb25maXJtTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiY29uZmlybUxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0RmFpbHVyZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImZhaWx1cmVEZXNjcmlwdGlvblwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0RmFpbHVyZUhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlSGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiaGVhZGVyXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRTZXJ2aWNlTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldEluZm9Vcmk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlkO3JldHVybiB0LmVuZHNXaXRoKFwiL1wiKXx8KHQrPVwiL1wiKSx0K1wiaW5mby5qc29uXCJ9LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5TZXJ2aWNlPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0W3QuQVVUSE9SSVpBVElPTl9GQUlMRUQ9MV09XCJBVVRIT1JJWkFUSU9OX0ZBSUxFRFwiLHRbdC5GT1JCSURERU49Ml09XCJGT1JCSURERU5cIix0W3QuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTNdPVwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsdFt0LlJFU1RSSUNURUQ9NF09XCJSRVNUUklDVEVEXCJ9KGUuU3RhdHVzQ29kZXx8KGUuU3RhdHVzQ29kZT17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKTtlLlRodW1iPWZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhPWUsdGhpcy5pbmRleD1lLmluZGV4LHRoaXMud2lkdGg9dDt2YXIgbj1lLmdldEhlaWdodCgpL2UuZ2V0V2lkdGgoKTt0aGlzLmhlaWdodD1uP01hdGguZmxvb3IodGhpcy53aWR0aCpuKTp0LHRoaXMudXJpPWUuZ2V0Q2Fub25pY2FsSW1hZ2VVcmkodCksdGhpcy5sYWJlbD1pLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUuZ2V0TGFiZWwoKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZX0obigwKS5SZXNvdXJjZSk7ZS5UaHVtYm5haWw9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmxhYmVsPXQsdGhpcy5kYXRhPWV8fHt9LHRoaXMubm9kZXM9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCl7dGhpcy5ub2Rlcy5wdXNoKHQpLHQucGFyZW50Tm9kZT10aGlzfSx0LnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTil9LHQucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpfSx0LnByb3RvdHlwZS5pc1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLlJBTkdFKX0sdH0oKTtlLlRyZWVOb2RlPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbih0KXt0LkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsdC5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsdC5SQU5HRT1cInJhbmdlXCJ9KGUuVHJlZU5vZGVUeXBlfHwoZS5UcmVlTm9kZVR5cGU9e30pKX0sZnVuY3Rpb24odCxlLG4pe3dpbmRvdyx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gbihpKXtpZihlW2ldKXJldHVybiBlW2ldLmV4cG9ydHM7dmFyIHI9ZVtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPXQsbi5jPWUsbi5kPWZ1bmN0aW9uKHQsZSxpKXtuLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1uKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgciBpbiB0KW4uZChpLHIsZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gbi5kKGUsXCJhXCIsZSksZX0sbi5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxuLnA9XCJcIixuKG4ucz0wKX0oW2Z1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ09OVElOVUU9MTAwLGUuU1dJVENISU5HX1BST1RPQ09MUz0xMDEsZS5QUk9DRVNTSU5HPTEwMixlLk9LPTIwMCxlLkNSRUFURUQ9MjAxLGUuQUNDRVBURUQ9MjAyLGUuTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT049MjAzLGUuTk9fQ09OVEVOVD0yMDQsZS5SRVNFVF9DT05URU5UPTIwNSxlLlBBUlRJQUxfQ09OVEVOVD0yMDYsZS5NVUxUSV9TVEFUVVM9MjA3LGUuTVVMVElQTEVfQ0hPSUNFUz0zMDAsZS5NT1ZFRF9QRVJNQU5FTlRMWT0zMDEsZS5NT1ZFRF9URU1QT1JBUklMWT0zMDIsZS5TRUVfT1RIRVI9MzAzLGUuTk9UX01PRElGSUVEPTMwNCxlLlVTRV9QUk9YWT0zMDUsZS5URU1QT1JBUllfUkVESVJFQ1Q9MzA3LGUuQkFEX1JFUVVFU1Q9NDAwLGUuVU5BVVRIT1JJWkVEPTQwMSxlLlBBWU1FTlRfUkVRVUlSRUQ9NDAyLGUuRk9SQklEREVOPTQwMyxlLk5PVF9GT1VORD00MDQsZS5NRVRIT0RfTk9UX0FMTE9XRUQ9NDA1LGUuTk9UX0FDQ0VQVEFCTEU9NDA2LGUuUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NDA3LGUuUkVRVUVTVF9USU1FX09VVD00MDgsZS5DT05GTElDVD00MDksZS5HT05FPTQxMCxlLkxFTkdUSF9SRVFVSVJFRD00MTEsZS5QUkVDT05ESVRJT05fRkFJTEVEPTQxMixlLlJFUVVFU1RfRU5USVRZX1RPT19MQVJHRT00MTMsZS5SRVFVRVNUX1VSSV9UT09fTEFSR0U9NDE0LGUuVU5TVVBQT1JURURfTUVESUFfVFlQRT00MTUsZS5SRVFVRVNURURfUkFOR0VfTk9UX1NBVElTRklBQkxFPTQxNixlLkVYUEVDVEFUSU9OX0ZBSUxFRD00MTcsZS5JTV9BX1RFQVBPVD00MTgsZS5VTlBST0NFU1NBQkxFX0VOVElUWT00MjIsZS5MT0NLRUQ9NDIzLGUuRkFJTEVEX0RFUEVOREVOQ1k9NDI0LGUuVU5PUkRFUkVEX0NPTExFQ1RJT049NDI1LGUuVVBHUkFERV9SRVFVSVJFRD00MjYsZS5QUkVDT05ESVRJT05fUkVRVUlSRUQ9NDI4LGUuVE9PX01BTllfUkVRVUVTVFM9NDI5LGUuUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRT00MzEsZS5JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwLGUuTk9UX0lNUExFTUVOVEVEPTUwMSxlLkJBRF9HQVRFV0FZPTUwMixlLlNFUlZJQ0VfVU5BVkFJTEFCTEU9NTAzLGUuR0FURVdBWV9USU1FX09VVD01MDQsZS5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRD01MDUsZS5WQVJJQU5UX0FMU09fTkVHT1RJQVRFUz01MDYsZS5JTlNVRkZJQ0lFTlRfU1RPUkFHRT01MDcsZS5CQU5EV0lEVEhfTElNSVRfRVhDRUVERUQ9NTA5LGUuTk9UX0VYVEVOREVEPTUxMCxlLk5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NTExfV0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXdpbmRvdy5mZXRjaHx8KHdpbmRvdy5mZXRjaD1uKDMpLmRlZmF1bHR8fG4oMykpfV0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiQmFzZUNvbXBvbmVudFwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLm9wdGlvbnMuZGF0YT1PYmplY3QuYXNzaWduKHt9LHRoaXMuZGF0YSgpLHQuZGF0YSl9cmV0dXJuIHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWw9dGhpcy5vcHRpb25zLnRhcmdldCx0aGlzLmVsPyh0aGlzLmVsLmlubmVySFRNTD1cIlwiLCEwKTooY29uc29sZS53YXJuKFwiZWxlbWVudCBub3QgZm91bmRcIiksITEpfSx0LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJue319LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9lfHwodGhpcy5fZT17fSk7KGlbdF18fChpW3RdPVtdKSkucHVzaCh7Zm46ZSxjdHg6bn0pfSx0LnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2Zvcih2YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPSgodGhpcy5fZXx8KHRoaXMuX2U9e30pKVt0XXx8W10pLnNsaWNlKCksYT0wLG89ci5sZW5ndGg7YTxvO2ErKylyW2FdLmZuLmFwcGx5KHJbYV0uY3R4LGkpfSx0LnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7fSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5fY29tcGFyZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihpKXtPYmplY3QuaXMoZVtpXSx0W2ldKXx8bi5wdXNoKGkpfSkpLG59LHQuZGlmZj1mdW5jdGlvbihlLG4pe3JldHVybiBBcnJheS5mcm9tKG5ldyBTZXQodC5fY29tcGFyZShlLG4pLmNvbmNhdCh0Ll9jb21wYXJlKG4sZSkpKSl9LHQuZ2V0U3BhdGlhbENvbXBvbmVudD1mdW5jdGlvbih0KXt2YXIgZT0veHl3aD0oW14mXSspL2cuZXhlYyh0KSxuPW51bGw7cmV0dXJuIGUmJmVbMV0mJihuPWVbMV0uc3BsaXQoXCIsXCIpKSxufSx0LmdldEZpcnN0VGFyZ2V0ZWRDYW52YXNJZD1mdW5jdGlvbihlKXt2YXIgbjtpZihlLmNhbnZhc2VzJiZlLmNhbnZhc2VzLmxlbmd0aCluPWUuY2FudmFzZXNbMF07ZWxzZXt2YXIgcj1lLmdldFJhbmdlcygpO2lmKHIubGVuZ3RoKXJldHVybiB0LmdldEZpcnN0VGFyZ2V0ZWRDYW52YXNJZChyWzBdKX1pZih2b2lkIDAhPT1uKXJldHVybiBpLlV0aWxzLm5vcm1hbGlzZVVybChuKX0sdC5nZXRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKChuZXcgRGF0ZSkudmFsdWVPZigpKX0sdC5yZXRhcmdldFRlbXBvcmFsQ29tcG9uZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49aS5VdGlscy5nZXRUZW1wb3JhbENvbXBvbmVudChlKTtpZihuKXtmb3IodmFyIHI9MCxhPWUuc3Vic3RyKDAsZS5pbmRleE9mKFwiI1wiKSksbz0wO288dC5sZW5ndGg7bysrKXt2YXIgcz10W29dO2lmKHMuaWQuaW5jbHVkZXMoYSkpYnJlYWs7dmFyIGw9cy5nZXREdXJhdGlvbigpO2wmJihyKz1sKX1yZXR1cm4gblswXT1OdW1iZXIoblswXSkrcixuWzFdPU51bWJlcihuWzFdKStyLGErXCIjdD1cIituWzBdK1wiLFwiK25bMV19fSx0LmZvcm1hdFRpbWU9ZnVuY3Rpb24odCl7dmFyIGUsbixpO3JldHVybiBpPU1hdGguY2VpbCh0KSwoKGU9KGU9TWF0aC5mbG9vcihpLzM2MDApKT49MTA/ZTpcIjBcIitlKT49MT9lK1wiOlwiOlwiXCIpKyhuPShuPU1hdGguZmxvb3IoaSUzNjAwLzYwKSk+PTEwP246XCIwXCIrbikrXCI6XCIrKGk9KGk9TWF0aC5mbG9vcihpJTM2MDAlNjApKT49MTA/aTpcIjBcIitpKX0sdC5pc0lFPWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsZT10LmluZGV4T2YoXCJNU0lFIFwiKTtpZihlPjApcmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKGUrNSx0LmluZGV4T2YoXCIuXCIsZSkpLDEwKTtpZih0LmluZGV4T2YoXCJUcmlkZW50L1wiKT4wKXt2YXIgbj10LmluZGV4T2YoXCJydjpcIik7cmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKG4rMyx0LmluZGV4T2YoXCIuXCIsbikpLDEwKX12YXIgaT10LmluZGV4T2YoXCJFZGdlL1wiKTtyZXR1cm4gaT4wJiZwYXJzZUludCh0LnN1YnN0cmluZyhpKzUsdC5pbmRleE9mKFwiLlwiLGkpKSwxMCl9LHQuaXNTYWZhcmk9ZnVuY3Rpb24oKXt2YXIgdD0vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3JldHVybiBjb25zb2xlLmxvZyhcImlzU2FmYXJpXCIsdCksdH0sdC5kZWJvdW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fDEwMCxmdW5jdGlvbigpe2lmKCF0LmRlYm91bmNpbmcpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO3QubGFzdFJldHVyblZhbD10LmFwcGx5KHdpbmRvdyxuKSx0LmRlYm91bmNpbmc9ITB9cmV0dXJuIGNsZWFyVGltZW91dCh0LmRlYm91bmNlVGltZW91dCksdC5kZWJvdW5jZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmRlYm91bmNpbmc9ITF9KSxlKSx0Lmxhc3RSZXR1cm5WYWx9fSx0Lm5vcm1hbGlzZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuKHQtZSkvKG4tZSl9LHQuaXNITFNGb3JtYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGxzTWltZVR5cGVzLmluY2x1ZGVzKHQudG9TdHJpbmcoKSl9LHQuaXNNcGVnRGFzaEZvcm1hdD1mdW5jdGlvbih0KXtyZXR1cm5cImFwcGxpY2F0aW9uL2Rhc2greG1sXCI9PT10LnRvU3RyaW5nKCl9LHQuY2FuUGxheUhscz1mdW5jdGlvbigpe3ZhciB0PVwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQsZT10JiZ0LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyZXR1cm4gQm9vbGVhbihlJiZlLmNhblBsYXlUeXBlKSYmdGhpcy5obHNNaW1lVHlwZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuL21heWJlfHByb2JhYmx5L2kudGVzdChlLmNhblBsYXlUeXBlKHQpKX0pKX0sdC5obHNNaW1lVHlwZXM9W1wiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIixcInZuZC5hcHBsZS5tcGVndXJsXCIsXCJhdWRpby9tcGVndXJsXCIsXCJhdWRpby94LW1wZWd1cmxcIixcImFwcGxpY2F0aW9uL3gtbXBlZ3VybFwiLFwidmlkZW8veC1tcGVndXJsXCIsXCJ2aWRlby9tcGVndXJsXCIsXCJhcHBsaWNhdGlvbi9tcGVndXJsXCJdLHR9KCk7ZS5BVkNvbXBvbmVudFV0aWxzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDQpLG89bigwKSxzPW4oMSksbD1uKDgpLGM9bigyKSx1PW4oNSksaD1uKDYpLHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5jYW52YXNJbnN0YW5jZXM9W10sbi5fZGF0YT1uLmRhdGEoKSxuLl9yZWFkeU1lZGlhPTAsbi5fcmVhZHlXYXZlZm9ybXM9MCxuLl9wb3N0ZXJDYW52YXNXaWR0aD0wLG4uX3Bvc3RlckNhbnZhc0hlaWdodD0wLG4uX3Bvc3RlckltYWdlRXhwYW5kZWQ9ITEsbi5faW5pdCgpLG4uX3Jlc2l6ZSgpLG59cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5faW5pdC5jYWxsKHRoaXMpLHRoaXMuXyRlbGVtZW50PSQodGhpcy5lbCksITB9LGUucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm57YXV0b1BsYXk6ITEsY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6ITEsZGVmYXVsdEFzcGVjdFJhdGlvOi41Nixkb3VibGVDbGlja01TOjM1MCxoYWx2ZUF0V2lkdGg6MjAwLGxpbWl0VG9SYW5nZTohMSxwb3N0ZXJJbWFnZVJhdGlvOi4zLHZpcnR1YWxDYW52YXNFbmFibGVkOiEwLGNvbnRlbnQ6e2N1cnJlbnRUaW1lOlwiQ3VycmVudCBUaW1lXCIsY29sbGFwc2U6XCJDb2xsYXBzZVwiLGR1cmF0aW9uOlwiRHVyYXRpb25cIixleHBhbmQ6XCJFeHBhbmRcIixtdXRlOlwiTXV0ZVwiLG5leHQ6XCJOZXh0XCIscGF1c2U6XCJQYXVzZVwiLHBsYXk6XCJQbGF5XCIscHJldmlvdXM6XCJQcmV2aW91c1wiLHVubXV0ZTpcIlVubXV0ZVwiLGZ1bGxzY3JlZW46XCJGdWxsc2NyZWVuXCJ9fX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1PYmplY3QuYXNzaWduKHt9LHRoaXMuX2RhdGEpO3RoaXMuX2RhdGE9T2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLHQpO3ZhciBpPWMuQVZDb21wb25lbnRVdGlscy5kaWZmKG4sdGhpcy5fZGF0YSk7aWYoaS5pbmNsdWRlcyhcImhlbHBlclwiKSYmdGhpcy5fcmVzZXQoKSx0aGlzLl9kYXRhLmhlbHBlcil7aWYoaS5pbmNsdWRlcyhcImxpbWl0VG9SYW5nZVwiKSYmdGhpcy5fZGF0YS5jYW52YXNJZCYmdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt0LnNldCh7bGltaXRUb1JhbmdlOmUuX2RhdGEubGltaXRUb1JhbmdlfSl9KSksaS5pbmNsdWRlcyhcImNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlXCIpJiZ0aGlzLl9kYXRhLmNhbnZhc0lkJiZ0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0LG4pe3Quc2V0KHtjb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZTplLl9kYXRhLmNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlfSl9KSksaS5pbmNsdWRlcyhcImF1dG9TZWxlY3RSYW5nZVwiKSYmdGhpcy5fZGF0YS5jYW52YXNJZCYmdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt0LnNldCh7YXV0b1NlbGVjdFJhbmdlOmUuX2RhdGEuYXV0b1NlbGVjdFJhbmdlfSl9KSksaS5pbmNsdWRlcyhcImNhbnZhc0lkXCIpJiZ0aGlzLl9kYXRhLmNhbnZhc0lkKXt2YXIgcj10aGlzLl9nZXRDYW52YXNJbnN0YW5jZUJ5SWQodGhpcy5fZGF0YS5jYW52YXNJZCk7ciYmdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5nZXRDYW52YXNJZCgpIT09ci5nZXRDYW52YXNJZCgpP3Quc2V0KHt2aXNpYmxlOiExfSk6aS5pbmNsdWRlcyhcInJhbmdlXCIpP3Quc2V0KHt2aXNpYmxlOiEwLHJhbmdlOmUuX2RhdGEucmFuZ2U/alF1ZXJ5LmV4dGVuZCghMCx7fSxlLl9kYXRhLnJhbmdlKTp2b2lkIDB9KTp0LnNldCh7dmlzaWJsZTohMH0pfSkpfWlmKGkuaW5jbHVkZXMoXCJ2aXJ0dWFsQ2FudmFzRW5hYmxlZFwiKSYmKHRoaXMuc2V0KHtyYW5nZTp2b2lkIDB9KSx0aGlzLl9kYXRhLnZpcnR1YWxDYW52YXNFbmFibGVkJiZ0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmlzVmlydHVhbCgpJiZlLnNldCh7Y2FudmFzSWQ6dC5nZXRDYW52YXNJZCgpLHJhbmdlOnZvaWQgMH0pfSkpKSxpLmluY2x1ZGVzKFwicmFuZ2VcIikmJnRoaXMuX2RhdGEucmFuZ2Upe3ZhciBhPXRoaXMuX2RhdGEuaGVscGVyLmdldFJhbmdlQnlJZCh0aGlzLl9kYXRhLnJhbmdlLmlkKTtpZihhKXt2YXIgcz1jLkFWQ29tcG9uZW50VXRpbHMuZ2V0Rmlyc3RUYXJnZXRlZENhbnZhc0lkKGEpO2lmKHMpe3ZhciBsPXRoaXMuX2dldENhbnZhc0luc3RhbmNlQnlJZChzKTtpZihsKXtpZihsLmlzVmlydHVhbCgpJiZ0aGlzLl9kYXRhLnZpcnR1YWxDYW52YXNFbmFibGVkJiZsLmluY2x1ZGVzVmlydHVhbFN1YkNhbnZhcyhzKSl7cz1sLmdldENhbnZhc0lkKCk7Zm9yKHZhciB1PTA7dTxsLnJhbmdlcy5sZW5ndGg7dSsrKXt2YXIgaD1sLnJhbmdlc1t1XTtpZihoLmlkPT09YS5pZCl7YT1oO2JyZWFrfX19dGhpcy5fZGF0YS5jYW52YXNJZCYmKHRoaXMuX2RhdGEuY2FudmFzSWQuaW5jbHVkZXMoXCI6Ly9cIik/by5VdGlscy5ub3JtYWxpc2VVcmwodGhpcy5fZGF0YS5jYW52YXNJZCk6dGhpcy5fZGF0YS5jYW52YXNJZCkhPT1zP3RoaXMuc2V0KHtjYW52YXNJZDpzLHJhbmdlOmpRdWVyeS5leHRlbmQoITAse30sYSl9KTpsLnNldCh7cmFuZ2U6alF1ZXJ5LmV4dGVuZCghMCx7fSxhKX0pfX19ZWxzZSBjb25zb2xlLndhcm4oXCJyYW5nZSBub3QgZm91bmRcIil9dGhpcy5fcmVuZGVyKCksdGhpcy5fcmVzaXplKCl9ZWxzZSBjb25zb2xlLndhcm4oXCJtdXN0IHBhc3MgYSBoZWxwZXIgb2JqZWN0XCIpfSxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3Jlc2V0KCl9LGUucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5fcmVhZHlNZWRpYT0wLHRoaXMuX3JlYWR5V2F2ZWZvcm1zPTAsdGhpcy5fcG9zdGVyQ2FudmFzV2lkdGg9MCx0aGlzLl9wb3N0ZXJDYW52YXNIZWlnaHQ9MCxjbGVhckludGVydmFsKHRoaXMuX2NoZWNrQWxsTWVkaWFSZWFkeUludGVydmFsKSxjbGVhckludGVydmFsKHRoaXMuX2NoZWNrQWxsV2F2ZWZvcm1zUmVhZHlJbnRlcnZhbCksdGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSksdGhpcy5jYW52YXNJbnN0YW5jZXM9W10sdGhpcy5fJGVsZW1lbnQuZW1wdHkoKSx0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmhlbHBlciYmdGhpcy5fZGF0YS5oZWxwZXIubWFuaWZlc3Qpe3ZhciBlPXRoaXMuX2RhdGEuaGVscGVyLm1hbmlmZXN0LmdldEJlaGF2aW9yKCksbj10aGlzLl9nZXRDYW52YXNlcygpO2lmKGUmJmUudG9TdHJpbmcoKT09PWEuQmVoYXZpb3IuQVVUT19BRFZBTkNFKXt2YXIgaT1uZXcgdS5WaXJ0dWFsQ2FudmFzO24uZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5hZGRDYW52YXModCl9KSksdGhpcy5faW5pdENhbnZhcyhpKX1uLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuX2luaXRDYW52YXMoZSl9KSksdGhpcy5jYW52YXNJbnN0YW5jZXMubGVuZ3RoPjAmJih0aGlzLl9kYXRhLmNhbnZhc0lkPXRoaXMuY2FudmFzSW5zdGFuY2VzWzBdLmdldENhbnZhc0lkKCkpLHRoaXMuX2NoZWNrQWxsTWVkaWFSZWFkeUludGVydmFsPXNldEludGVydmFsKHRoaXMuX2NoZWNrQWxsTWVkaWFSZWFkeS5iaW5kKHRoaXMpLDEwMCksdGhpcy5fY2hlY2tBbGxXYXZlZm9ybXNSZWFkeUludGVydmFsPXNldEludGVydmFsKHRoaXMuX2NoZWNrQWxsV2F2ZWZvcm1zUmVhZHkuYmluZCh0aGlzKSwxMDApLHRoaXMuXyRwb3N0ZXJDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cInBvc3Rlci1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kZWxlbWVudC5hcHBlbmQodGhpcy5fJHBvc3RlckNvbnRhaW5lciksdGhpcy5fJHBvc3RlckltYWdlPSQoJzxkaXYgY2xhc3M9XCJwb3N0ZXItaW1hZ2VcIj48L2Rpdj4nKSx0aGlzLl8kcG9zdGVyRXhwYW5kQnV0dG9uPSQoJ1xcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgdGl0bGU9XCInKyh0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNvbnRlbnQ/dGhpcy5fZGF0YS5jb250ZW50LmV4cGFuZDpcIlwiKSsnXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gIGF2LWljb24tZXhwYW5kIGV4cGFuZFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48c3Bhbj4nKyh0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNvbnRlbnQ/dGhpcy5fZGF0YS5jb250ZW50LmV4cGFuZDpcIlwiKStcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgXCIpLHRoaXMuXyRwb3N0ZXJJbWFnZS5hcHBlbmQodGhpcy5fJHBvc3RlckV4cGFuZEJ1dHRvbiksdGhpcy5fJHBvc3RlckltYWdlLm9uKFwidG91Y2hzdGFydCBjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dC5fZ2V0UG9zdGVySW1hZ2VDc3MoIXQuX3Bvc3RlckltYWdlRXhwYW5kZWQpO2lmKHQuXyRwb3N0ZXJJbWFnZS5hbmltYXRlKG4pLHQuX3Bvc3RlckltYWdlRXhwYW5kZWQ9IXQuX3Bvc3RlckltYWdlRXhwYW5kZWQsdC5fZGF0YS5jb250ZW50KWlmKHQuX3Bvc3RlckltYWdlRXhwYW5kZWQpe3ZhciBpPXQuX2RhdGEuY29udGVudC5jb2xsYXBzZTt0Ll8kcG9zdGVyRXhwYW5kQnV0dG9uLnByb3AoXCJ0aXRsZVwiLGkpLHQuXyRwb3N0ZXJFeHBhbmRCdXR0b24uZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJleHBhbmRcIixcImNvbGxhcHNlXCIpfWVsc2V7aT10Ll9kYXRhLmNvbnRlbnQuZXhwYW5kO3QuXyRwb3N0ZXJFeHBhbmRCdXR0b24ucHJvcChcInRpdGxlXCIsaSksdC5fJHBvc3RlckV4cGFuZEJ1dHRvbi5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcImNvbGxhcHNlXCIsXCJleHBhbmRcIil9fSkpO3ZhciByPXRoaXMuX2RhdGEuaGVscGVyLmdldFBvc3RlckNhbnZhcygpO2lmKHIpe3RoaXMuX3Bvc3RlckNhbnZhc1dpZHRoPXIuZ2V0V2lkdGgoKSx0aGlzLl9wb3N0ZXJDYW52YXNIZWlnaHQ9ci5nZXRIZWlnaHQoKTt2YXIgbz10aGlzLl9kYXRhLmhlbHBlci5nZXRQb3N0ZXJJbWFnZSgpO2lmKG8pe3RoaXMuXyRwb3N0ZXJDb250YWluZXIuYXBwZW5kKHRoaXMuXyRwb3N0ZXJJbWFnZSk7dmFyIHM9dGhpcy5fZ2V0UG9zdGVySW1hZ2VDc3ModGhpcy5fcG9zdGVySW1hZ2VFeHBhbmRlZCk7cz1PYmplY3QuYXNzaWduKHt9LHMse1wiYmFja2dyb3VuZC1pbWFnZVwiOlwidXJsKFwiK28rXCIpXCJ9KSx0aGlzLl8kcG9zdGVySW1hZ2UuY3NzKHMpfX19fSxlLnByb3RvdHlwZS5fY2hlY2tBbGxNZWRpYVJlYWR5PWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJsb2FkaW5nIG1lZGlhXCIpLHRoaXMuX3JlYWR5TWVkaWE9PT10aGlzLmNhbnZhc0luc3RhbmNlcy5sZW5ndGgmJihjb25zb2xlLmxvZyhcImFsbCBtZWRpYSByZWFkeVwiKSxjbGVhckludGVydmFsKHRoaXMuX2NoZWNrQWxsTWVkaWFSZWFkeUludGVydmFsKSx0aGlzLmZpcmUoZi5NRURJQV9SRUFEWSksdGhpcy5yZXNpemUoKSl9LGUucHJvdG90eXBlLl9jaGVja0FsbFdhdmVmb3Jtc1JlYWR5PWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJsb2FkaW5nIHdhdmVmb3Jtc1wiKSx0aGlzLl9yZWFkeVdhdmVmb3Jtcz09PXRoaXMuX2dldENhbnZhc0luc3RhbmNlc1dpdGhXYXZlZm9ybXMoKS5sZW5ndGgmJihjb25zb2xlLmxvZyhcIndhdmVmb3JtcyByZWFkeVwiKSxjbGVhckludGVydmFsKHRoaXMuX2NoZWNrQWxsV2F2ZWZvcm1zUmVhZHlJbnRlcnZhbCksdGhpcy5maXJlKGYuV0FWRUZPUk1TX1JFQURZKSx0aGlzLnJlc2l6ZSgpKX0sZS5wcm90b3R5cGUuX2dldENhbnZhc0luc3RhbmNlc1dpdGhXYXZlZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNJbnN0YW5jZXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC53YXZlZm9ybXMubGVuZ3RoPjB9KSl9LGUucHJvdG90eXBlLl9nZXRDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmhlbHBlcj90aGlzLl9kYXRhLmhlbHBlci5nZXRDYW52YXNlcygpOltdfSxlLnByb3RvdHlwZS5faW5pdENhbnZhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bmV3IGwuQ2FudmFzSW5zdGFuY2Uoe3RhcmdldDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGRhdGE6T2JqZWN0LmFzc2lnbih7fSx7Y2FudmFzOnR9LHRoaXMuX2RhdGEpfSk7bi5sb2dNZXNzYWdlPXRoaXMuX2xvZ01lc3NhZ2UuYmluZCh0aGlzKSxuLmlzT25seUNhbnZhc0luc3RhbmNlPTE9PT10aGlzLl9nZXRDYW52YXNlcygpLmxlbmd0aCx0aGlzLl8kZWxlbWVudC5hcHBlbmQobi4kcGxheWVyRWxlbWVudCksbi5pbml0KCksdGhpcy5jYW52YXNJbnN0YW5jZXMucHVzaChuKSxuLm9uKGYuTUVESUFfUkVBRFksKGZ1bmN0aW9uKCl7ZS5fcmVhZHlNZWRpYSsrfSksITEpLG4ub24oZi5XQVZFRk9STV9SRUFEWSwoZnVuY3Rpb24oKXtlLl9yZWFkeVdhdmVmb3JtcysrfSksITEpLG4ub24obC5DYW52YXNJbnN0YW5jZUV2ZW50cy5QUkVWSU9VU19SQU5HRSwoZnVuY3Rpb24oKXtlLl9wcmV2UmFuZ2UoKX0pLCExKSxuLm9uKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuTkVYVF9SQU5HRSwoZnVuY3Rpb24oKXtlLl9uZXh0UmFuZ2UoKX0pLCExKSxuLm9uKGYuUkFOR0VfQ0hBTkdFRCwoZnVuY3Rpb24odCl7ZS5maXJlKGYuUkFOR0VfQ0hBTkdFRCx0KX0pLCExKSxuLm9uKGguVm9sdW1lRXZlbnRzLlZPTFVNRV9DSEFOR0VELChmdW5jdGlvbih0KXtlLl9zZXRDYW52YXNJbnN0YW5jZVZvbHVtZXModCksZS5maXJlKGguVm9sdW1lRXZlbnRzLlZPTFVNRV9DSEFOR0VELHQpfSksITEpLG4ub24obC5DYW52YXNJbnN0YW5jZUV2ZW50cy5QTEFZQ0FOVkFTLChmdW5jdGlvbigpe2UuZmlyZShsLkNhbnZhc0luc3RhbmNlRXZlbnRzLlBMQVlDQU5WQVMpfSksITEpLG4ub24obC5DYW52YXNJbnN0YW5jZUV2ZW50cy5QQVVTRUNBTlZBUywoZnVuY3Rpb24oKXtlLmZpcmUobC5DYW52YXNJbnN0YW5jZUV2ZW50cy5QQVVTRUNBTlZBUyl9KSwhMSksbi5vbihmLk1FRElBX0VSUk9SLChmdW5jdGlvbih0KXtjbGVhckludGVydmFsKGUuX2NoZWNrQWxsTWVkaWFSZWFkeUludGVydmFsKSxlLmZpcmUoZi5NRURJQV9FUlJPUix0KX0pLCExKSxuLm9uKGYuRlVMTFNDUkVFTiwoZnVuY3Rpb24odCl7ZS5maXJlKGYuRlVMTFNDUkVFTix0KX0pLCExKX0sZS5wcm90b3R5cGUuX3ByZXZSYW5nZT1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuaGVscGVyKXt2YXIgdD10aGlzLl9kYXRhLmhlbHBlci5nZXRQcmV2aW91c1JhbmdlKCk7dD90aGlzLnBsYXlSYW5nZSh0LmlkKTp0aGlzLl9yZXdpbmQoKX19LGUucHJvdG90eXBlLl9uZXh0UmFuZ2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmhlbHBlcil7dmFyIHQ9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0TmV4dFJhbmdlKCk7dCYmdGhpcy5wbGF5UmFuZ2UodC5pZCl9fSxlLnByb3RvdHlwZS5fc2V0Q2FudmFzSW5zdGFuY2VWb2x1bWVzPWZ1bmN0aW9uKHQpe3RoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc2V0KHt2b2x1bWU6dH0pfSkpfSxlLnByb3RvdHlwZS5fZ2V0Tm9ybWFsaXNlQ2FudmFzSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6Ly9cIik/by5VdGlscy5ub3JtYWxpc2VVcmwodCk6dH0sZS5wcm90b3R5cGUuX2dldENhbnZhc0luc3RhbmNlQnlJZD1mdW5jdGlvbih0KXtpZih0PXRoaXMuX2dldE5vcm1hbGlzZUNhbnZhc0lkKHQpLHRoaXMuX2RhdGEudmlydHVhbENhbnZhc0VuYWJsZWQpZm9yKHZhciBlPTA7ZTx0aGlzLmNhbnZhc0luc3RhbmNlcy5sZW5ndGg7ZSsrKXt2YXIgbj0oaT10aGlzLmNhbnZhc0luc3RhbmNlc1tlXSkuZ2V0Q2FudmFzSWQoKTtpZihuJiYobj10aGlzLl9nZXROb3JtYWxpc2VDYW52YXNJZChuKSwoaS5pc1ZpcnR1YWwoKXx8MT09PXRoaXMuY2FudmFzSW5zdGFuY2VzLmxlbmd0aCkmJm49PT10fHxpLmluY2x1ZGVzVmlydHVhbFN1YkNhbnZhcyh0KSkpcmV0dXJuIGl9ZWxzZSBmb3IoZT0wO2U8dGhpcy5jYW52YXNJbnN0YW5jZXMubGVuZ3RoO2UrKyl7dmFyIGkscj0oaT10aGlzLmNhbnZhc0luc3RhbmNlc1tlXSkuZ2V0Q2FudmFzSWQoKTtpZihyKWlmKG8uVXRpbHMubm9ybWFsaXNlVXJsKHIpPT09dClyZXR1cm4gaX19LGUucHJvdG90eXBlLl9nZXRDdXJyZW50Q2FudmFzPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YS5jYW52YXNJZClyZXR1cm4gdGhpcy5fZ2V0Q2FudmFzSW5zdGFuY2VCeUlkKHRoaXMuX2RhdGEuY2FudmFzSWQpfSxlLnByb3RvdHlwZS5fcmV3aW5kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RhdGEubGltaXRUb1JhbmdlKXt2YXIgdD10aGlzLl9nZXRDdXJyZW50Q2FudmFzKCk7dCYmdC5zZXQoe3JhbmdlOnZvaWQgMH0pfX0sZS5wcm90b3R5cGUucGxheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEN1cnJlbnRDYW52YXMoKTt0JiZ0LnBsYXkoKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDdXJyZW50Q2FudmFzKCk7dCYmdC5wYXVzZSgpfSxlLnByb3RvdHlwZS5wbGF5UmFuZ2U9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGF0YS5oZWxwZXIpe3ZhciBlPXRoaXMuX2RhdGEuaGVscGVyLmdldFJhbmdlQnlJZCh0KTtlJiZ0aGlzLnNldCh7cmFuZ2U6alF1ZXJ5LmV4dGVuZCghMCx7fSxlKX0pfX0sZS5wcm90b3R5cGUuc2hvd0NhbnZhcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRDdXJyZW50Q2FudmFzKCk7ZSYmZS5nZXRDYW52YXNJZCgpPT09dCYmIWUuaXNWaXNpYmxlKCk/ZS5zZXQoe3Zpc2libGU6ITB9KTp0aGlzLnNldCh7Y2FudmFzSWQ6dH0pfSxlLnByb3RvdHlwZS5fbG9nTWVzc2FnZT1mdW5jdGlvbih0KXt0aGlzLmZpcmUoZi5MT0csdCl9LGUucHJvdG90eXBlLl9nZXRQb3N0ZXJJbWFnZUNzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRDdXJyZW50Q2FudmFzKCk7aWYoZSl7dmFyIG49ZS4kcGxheWVyRWxlbWVudC5maW5kKFwiLm9wdGlvbnMtY29udGFpbmVyXCIpLGk9ZS4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLHI9ZS4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKS1uLmhlaWdodCgpO2lmKHQpcmV0dXJue3RvcDowLGxlZnQ6MCx3aWR0aDppLGhlaWdodDpyfTt2YXIgYT12b2lkIDAsbz12b2lkIDAscz12b2lkIDA7cmV0dXJuIHRoaXMuX3Bvc3RlckNhbnZhc1dpZHRoPnRoaXMuX3Bvc3RlckNhbnZhc0hlaWdodD8oYT10aGlzLl9wb3N0ZXJDYW52YXNIZWlnaHQvdGhpcy5fcG9zdGVyQ2FudmFzV2lkdGgscz0obz1pKnRoaXMuX2RhdGEucG9zdGVySW1hZ2VSYXRpbykqYSk6KGE9dGhpcy5fcG9zdGVyQ2FudmFzV2lkdGgvdGhpcy5fcG9zdGVyQ2FudmFzSGVpZ2h0LG89KHM9cip0aGlzLl9kYXRhLnBvc3RlckltYWdlUmF0aW8pKmEpLHt0b3A6MCxsZWZ0Omktbyx3aWR0aDpvLGhlaWdodDpzfX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZXNpemUoKX0pKSx0aGlzLl9nZXRDdXJyZW50Q2FudmFzKCkmJnRoaXMuXyRwb3N0ZXJJbWFnZSYmdGhpcy5fJHBvc3RlckltYWdlLmlzKFwiOnZpc2libGVcIikmJih0aGlzLl9wb3N0ZXJJbWFnZUV4cGFuZGVkP3RoaXMuXyRwb3N0ZXJJbWFnZS5jc3ModGhpcy5fZ2V0UG9zdGVySW1hZ2VDc3MoITApKTp0aGlzLl8kcG9zdGVySW1hZ2UuY3NzKHRoaXMuX2dldFBvc3RlckltYWdlQ3NzKCExKSkpfSxlfShzLkJhc2VDb21wb25lbnQpO2UuQVZDb21wb25lbnQ9cDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuTUVESUFfUkVBRFk9XCJtZWRpYXJlYWR5XCIsdC5NRURJQV9FUlJPUj1cIm1lZGlhZXJyb3JcIix0LkxPRz1cImxvZ1wiLHQuUkFOR0VfQ0hBTkdFRD1cInJhbmdlY2hhbmdlZFwiLHQuV0FWRUZPUk1fUkVBRFk9XCJ3YXZlZm9ybXJlYWR5XCIsdC5XQVZFRk9STVNfUkVBRFk9XCJ3YXZlZm9ybXNyZWFkeVwiLHQuRlVMTFNDUkVFTj1cImZ1bGxzY3JlZW5cIix0fSgpO2UuRXZlbnRzPWZ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyLGEsbyxzLGwsYyx1LGg7bi5yKGUpLG4uZChlLFwiQW5ub3RhdGlvbk1vdGl2YXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQoZSxcIkJlaGF2aW9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKGUsXCJFeHRlcm5hbFJlc291cmNlVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZChlLFwiSUlJRlJlc291cmNlVHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZChlLFwiTWVkaWFUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKGUsXCJSZW5kZXJpbmdGb3JtYXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQoZSxcIlNlcnZpY2VQcm9maWxlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKGUsXCJWaWV3aW5nRGlyZWN0aW9uXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKGUsXCJWaWV3aW5nSGludFwiLChmdW5jdGlvbigpe3JldHVybiBofSkpLGZ1bmN0aW9uKHQpe3QuQk9PS01BUktJTkc9XCJvYTpib29rbWFya2luZ1wiLHQuQ0xBU1NJRllJTkc9XCJvYTpjbGFzc2lmeWluZ1wiLHQuQ09NTUVOVElORz1cIm9hOmNvbW1lbnRpbmdcIix0LkRFU0NSSUJJTkc9XCJvYTpkZXNjcmliaW5nXCIsdC5FRElUSU5HPVwib2E6ZWRpdGluZ1wiLHQuSElHSExJR0hUSU5HPVwib2E6aGlnaGxpZ2h0aW5nXCIsdC5JREVOVElGWUlORz1cIm9hOmlkZW50aWZ5aW5nXCIsdC5MSU5LSU5HPVwib2E6bGlua2luZ1wiLHQuTU9ERVJBVElORz1cIm9hOm1vZGVyYXRpbmdcIix0LlBBSU5USU5HPVwic2M6cGFpbnRpbmdcIix0LlFVRVNUSU9OSU5HPVwib2E6cXVlc3Rpb25pbmdcIix0LlJFUExZSU5HPVwib2E6cmVwbHlpbmdcIix0LlRBR0dJTkc9XCJvYTp0YWdnaW5nXCIsdC5UUkFOU0NSSUJJTkc9XCJvYWQ6dHJhbnNjcmliaW5nXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24odCl7dC5BVVRPX0FEVkFOQ0U9XCJhdXRvLWFkdmFuY2VcIix0LkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsdC5GQUNJTkdfUEFHRVM9XCJmYWNpbmctcGFnZXNcIix0LkhJRERFTj1cImhpZGRlblwiLHQuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLHQuTVVMVElfUEFSVD1cIm11bHRpLXBhcnRcIix0Lk5PX05BVj1cIm5vLW5hdlwiLHQuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsdC5QQUdFRD1cInBhZ2VkXCIsdC5SRVBFQVQ9XCJyZXBlYXRcIix0LlNFUVVFTkNFPVwic2VxdWVuY2VcIix0LlRIVU1CTkFJTF9OQVY9XCJ0aHVtYm5haWwtbmF2XCIsdC5UT0dFVEhFUj1cInRvZ2V0aGVyXCIsdC5VTk9SREVSRUQ9XCJ1bm9yZGVyZWRcIn0ocnx8KHI9e30pKSxmdW5jdGlvbih0KXt0LkNBTlZBUz1cImNhbnZhc1wiLHQuQ0hPSUNFPVwiY2hvaWNlXCIsdC5DT05URU5UX0FTX1RFWFQ9XCJjb250ZW50YXN0ZXh0XCIsdC5EQVRBU0VUPVwiZGF0YXNldFwiLHQuRE9DVU1FTlQ9XCJkb2N1bWVudFwiLHQuSU1BR0U9XCJpbWFnZVwiLHQuTU9ERUw9XCJtb2RlbFwiLHQuTU9WSU5HX0lNQUdFPVwibW92aW5naW1hZ2VcIix0LlBERj1cInBkZlwiLHQuUEhZU0lDQUxfT0JKRUNUPVwicGh5c2ljYWxvYmplY3RcIix0LlNPVU5EPVwic291bmRcIix0LlRFWFQ9XCJ0ZXh0XCIsdC5URVhUVUFMQk9EWT1cInRleHR1YWxib2R5XCIsdC5WSURFTz1cInZpZGVvXCJ9KGF8fChhPXt9KSksZnVuY3Rpb24odCl7dC5BTk5PVEFUSU9OPVwiYW5ub3RhdGlvblwiLHQuQ0FOVkFTPVwiY2FudmFzXCIsdC5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLHQuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLHQuUkFOR0U9XCJyYW5nZVwiLHQuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwifShvfHwobz17fSkpLGZ1bmN0aW9uKHQpe3QuQVVESU9fTVA0PVwiYXVkaW8vbXA0XCIsdC5DT1JUTz1cImFwcGxpY2F0aW9uL2NvcnRvXCIsdC5EUkFDTz1cImFwcGxpY2F0aW9uL2RyYWNvXCIsdC5FUFVCPVwiYXBwbGljYXRpb24vZXB1Yit6aXBcIix0LkdMVEY9XCJtb2RlbC9nbHRmK2pzb25cIix0LkpQRz1cImltYWdlL2pwZWdcIix0Lk0zVTg9XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLHQuTVAzPVwiYXVkaW8vbXAzXCIsdC5NUEVHX0RBU0g9XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLHQuT0JKPVwidGV4dC9wbGFpblwiLHQuT1BGPVwiYXBwbGljYXRpb24vb2VicHMtcGFja2FnZSt4bWxcIix0LlBERj1cImFwcGxpY2F0aW9uL3BkZlwiLHQuUExZPVwiYXBwbGljYXRpb24vcGx5XCIsdC5USFJFRUpTPVwiYXBwbGljYXRpb24vdm5kLnRocmVlanMranNvblwiLHQuVklERU9fTVA0PVwidmlkZW8vbXA0XCIsdC5XRUJNPVwidmlkZW8vd2VibVwifShzfHwocz17fSkpLGZ1bmN0aW9uKHQpe3QuRE9DPVwiYXBwbGljYXRpb24vbXN3b3JkXCIsdC5ET0NYPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIix0LlBERj1cImFwcGxpY2F0aW9uL3BkZlwifShsfHwobD17fSkpLGZ1bmN0aW9uKHQpe3QuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLHQuSU1BR0VfMV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIix0LklNQUdFXzFfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsdC5JTUFHRV8xX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiLHQuQVVUSF8wX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiLHQuQVVUSF8wX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiLHQuQVVUSF8wX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCIsdC5BVVRIXzBfUkVTVFJJQ1RFRD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiLHQuQVVUSF8wX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiLHQuQVVUSF8xX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiLHQuQVVUSF8xX0VYVEVSTkFMPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiLHQuQVVUSF8xX0tJT1NLPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiLHQuQVVUSF8xX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiLHQuQVVUSF8xX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCIsdC5BVVRIXzFfUFJPQkU9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCIsdC5BVVRIXzFfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCIsdC5TRUFSQ0hfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIix0LlNFQVJDSF8wX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCIsdC5TRUFSQ0hfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIix0LlNFQVJDSF8xX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCIsdC5UUkFDS0lOR19FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIix0LlVJX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuUFJJTlRfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5TSEFSRV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIix0Lk9USEVSX01BTklGRVNUQVRJT05TPVwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiLHQuSVhJRj1cImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCJ9KGN8fChjPXt9KSksZnVuY3Rpb24odCl7dC5CT1RUT01fVE9fVE9QPVwiYm90dG9tLXRvLXRvcFwiLHQuTEVGVF9UT19SSUdIVD1cImxlZnQtdG8tcmlnaHRcIix0LlJJR0hUX1RPX0xFRlQ9XCJyaWdodC10by1sZWZ0XCIsdC5UT1BfVE9fQk9UVE9NPVwidG9wLXRvLWJvdHRvbVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKHQpe3QuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIix0LklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIix0Lk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLHQuUEFHRUQ9XCJwYWdlZFwiLHQuVE9QPVwidG9wXCJ9KGh8fChoPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9bigyKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuY2FudmFzZXM9W10sdGhpcy5pZD1yLkFWQ29tcG9uZW50VXRpbHMuZ2V0VGltZXN0YW1wKCl9cmV0dXJuIHQucHJvdG90eXBlLmFkZENhbnZhcz1mdW5jdGlvbih0KXt0aGlzLmNhbnZhc2VzLnB1c2goalF1ZXJ5LmV4dGVuZCghMCx7fSx0KSl9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9W107cmV0dXJuIHRoaXMuY2FudmFzZXMuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGE9bi5nZXRDb250ZW50KCk7YS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LmdldFRhcmdldCgpO2UmJihpLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KGUpfHwodC5fX2pzb25sZC50YXJnZXQrPVwiI3Q9MCxcIituLmdldER1cmF0aW9uKCkpKX0pKSxhLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0VGFyZ2V0KCk7biYmKGUuX19qc29ubGQudGFyZ2V0PXIuQVZDb21wb25lbnRVdGlscy5yZXRhcmdldFRlbXBvcmFsQ29tcG9uZW50KHQuY2FudmFzZXMsbikpfSkpLGUucHVzaC5hcHBseShlLGEpfSkpLGV9LHQucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5jYW52YXNlcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLmdldER1cmF0aW9uKCk7biYmKHQrPW4pfSkpLHR9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzZXMubGVuZ3RoP3RoaXMuY2FudmFzZXNbMF0uZ2V0V2lkdGgoKTowfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5sZW5ndGg/dGhpcy5jYW52YXNlc1swXS5nZXRIZWlnaHQoKTowfSx0fSgpO2UuVmlydHVhbENhbnZhcz1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5fbGFzdFZvbHVtZT0xLG4uX2RhdGE9e3ZvbHVtZToxfSxuLl9pbml0KCksbi5fcmVzaXplKCksbn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0LnByb3RvdHlwZS5faW5pdC5jYWxsKHRoaXMpLHRoaXMuXyRlbGVtZW50PSQodGhpcy5lbCksdGhpcy5fJHZvbHVtZU11dGU9JCgnXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gdm9sdW1lLW11dGVcIiB0aXRsZT1cIicrdGhpcy5vcHRpb25zLmRhdGEuY29udGVudC5tdXRlKydcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiBhdi1pY29uLW11dGUgb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0aGlzLm9wdGlvbnMuZGF0YS5jb250ZW50Lm11dGUrXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XCIpLHRoaXMuXyR2b2x1bWVTbGlkZXI9JCgnPGRpdiBjbGFzcz1cInZvbHVtZS1zbGlkZXJcIj48L2Rpdj4nKSx0aGlzLl8kZWxlbWVudC5hcHBlbmQodGhpcy5fJHZvbHVtZU11dGUsdGhpcy5fJHZvbHVtZVNsaWRlcik7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fJHZvbHVtZU11dGUub24oXCJ0b3VjaHN0YXJ0IGNsaWNrXCIsKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSwwIT09ZS5fZGF0YS52b2x1bWU/KGUuX2xhc3RWb2x1bWU9ZS5fZGF0YS52b2x1bWUsZS5fZGF0YS52b2x1bWU9MCk6ZS5fZGF0YS52b2x1bWU9ZS5fbGFzdFZvbHVtZSxlLmZpcmUoby5WT0xVTUVfQ0hBTkdFRCxlLl9kYXRhLnZvbHVtZSl9KSksdGhpcy5fJHZvbHVtZVNsaWRlci5zbGlkZXIoe3ZhbHVlOm4uX2RhdGEudm9sdW1lLHN0ZXA6LjEsb3JpZW50YXRpb246XCJob3Jpem9udGFsXCIscmFuZ2U6XCJtaW5cIixtaW46MCxtYXg6MSxhbmltYXRlOiExLGNyZWF0ZTpmdW5jdGlvbih0LGUpe30sc2xpZGU6ZnVuY3Rpb24odCxlKXtuLl9kYXRhLnZvbHVtZT1lLnZhbHVlLDA9PT1uLl9kYXRhLnZvbHVtZSYmKG4uX2xhc3RWb2x1bWU9MCksbi5maXJlKG8uVk9MVU1FX0NIQU5HRUQsbi5fZGF0YS52b2x1bWUpfSxzdG9wOmZ1bmN0aW9uKHQsZSl7fX0pLCEwfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT1PYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsdCksdGhpcy5fcmVuZGVyKCl9LGUucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLl9kYXRhLnZvbHVtZSlpZih0aGlzLl8kdm9sdW1lU2xpZGVyLnNsaWRlcih7dmFsdWU6dGhpcy5fZGF0YS52b2x1bWV9KSwwPT09dGhpcy5fZGF0YS52b2x1bWUpe3ZhciB0PXRoaXMub3B0aW9ucy5kYXRhLmNvbnRlbnQudW5tdXRlO3RoaXMuXyR2b2x1bWVNdXRlLnByb3AoXCJ0aXRsZVwiLHQpLHRoaXMuXyR2b2x1bWVNdXRlLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwib25cIixcIm9mZlwiKX1lbHNle3Q9dGhpcy5vcHRpb25zLmRhdGEuY29udGVudC5tdXRlO3RoaXMuXyR2b2x1bWVNdXRlLnByb3AoXCJ0aXRsZVwiLHQpLHRoaXMuXyR2b2x1bWVNdXRlLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwib2ZmXCIsXCJvblwiKX19LGUucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oKXt9LGV9KG4oMSkuQmFzZUNvbXBvbmVudCk7ZS5BVlZvbHVtZUNvbnRyb2w9YTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuVk9MVU1FX0NIQU5HRUQ9XCJ2b2x1bWVjaGFuZ2VkXCIsdH0oKTtlLlZvbHVtZUV2ZW50cz1vfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMyl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDEpLG89bigwKSxzPW4oMyksbD1uKDUpLGM9big5KSx1PW4oNiksaD1uKDIpLHA9big0KSxmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4uX2NhbnZhc0Nsb2NrRnJlcXVlbmN5PTI1LG4uX2NhbnZhc0Nsb2NrU3RhcnREYXRlPTAsbi5fY2FudmFzQ2xvY2tUaW1lPTAsbi5fY2FudmFzSGVpZ2h0PTAsbi5fY2FudmFzV2lkdGg9MCxuLl9kYXRhPW4uZGF0YSgpLG4uX2hpZ2hQcmlvcml0eUZyZXF1ZW5jeT0yNSxuLl9pc1BsYXlpbmc9ITEsbi5faXNTdGFsbGVkPSExLG4uX2xvd1ByaW9yaXR5RnJlcXVlbmN5PTI1MCxuLl9tZWRpYVN5bmNNYXJnaW5TZWNzPTEsbi5fcmFuZ2VTcGFuUGFkZGluZz0uMjUsbi5fcmVhZHlNZWRpYUNvdW50PTAsbi5fc3RhbGxSZXF1ZXN0ZWRCeT1bXSxuLl93YXNQbGF5aW5nPSExLG4ucmFuZ2VzPVtdLG4ud2F2ZWZvcm1zPVtdLG4uaXNPbmx5Q2FudmFzSW5zdGFuY2U9ITEsbi5fc2NhbGVZPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KG4uX2RhdGEud2F2ZWZvcm1CYXJXaWR0aCx0KmUvMjU2KX0sbi5fZGF0YT1uLm9wdGlvbnMuZGF0YSxuLiRwbGF5ZXJFbGVtZW50PSQoJzxkaXYgY2xhc3M9XCJwbGF5ZXJcIj48L2Rpdj4nKSxufXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jb250ZW50JiZ0aGlzLl9kYXRhLmNhbnZhcyl7dGhpcy5fJGhvdmVyUHJldmlld1RlbXBsYXRlPSQoJzxkaXYgY2xhc3M9XCJob3Zlci1wcmV2aWV3XCI+PGRpdiBjbGFzcz1cImxhYmVsXCI+PC9kaXY+PGRpdiBjbGFzcz1cInBvaW50ZXJcIj48c3BhbiBjbGFzcz1cImFycm93XCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpLHRoaXMuXyRjYW52YXNDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cImNhbnZhcy1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kb3B0aW9uc0NvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwib3B0aW9ucy1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwicmFuZ2UtdGltZWxpbmUtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJjYW52YXMtdGltZWxpbmUtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJGNhbnZhc0hvdmVyUHJldmlldz10aGlzLl8kaG92ZXJQcmV2aWV3VGVtcGxhdGUuY2xvbmUoKSx0aGlzLl8kY2FudmFzSG92ZXJIaWdobGlnaHQ9JCgnPGRpdiBjbGFzcz1cImhvdmVyLWhpZ2hsaWdodFwiPjwvZGl2PicpLHRoaXMuXyRyYW5nZUhvdmVyUHJldmlldz10aGlzLl8kaG92ZXJQcmV2aWV3VGVtcGxhdGUuY2xvbmUoKSx0aGlzLl8kcmFuZ2VIb3ZlckhpZ2hsaWdodD0kKCc8ZGl2IGNsYXNzPVwiaG92ZXItaGlnaGxpZ2h0XCI+PC9kaXY+JyksdGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0PSQoJzxkaXYgY2xhc3M9XCJkdXJhdGlvbi1oaWdobGlnaHRcIj48L2Rpdj4nKSx0aGlzLl8kdGltZWxpbmVJdGVtQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJ0aW1lbGluZS1pdGVtLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRjb250cm9sc0NvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwiY29udHJvbHMtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJHByZXZCdXR0b249JCgnXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiB0aXRsZT1cIicrdGhpcy5fZGF0YS5jb250ZW50LnByZXZpb3VzKydcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiBhdi1pY29uLXByZXZpb3VzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGhpcy5fZGF0YS5jb250ZW50LnByZXZpb3VzK1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlwiKSx0aGlzLl8kcGxheUJ1dHRvbj0kKCdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidXR0b24tcGxheVwiIHRpdGxlPVwiJyt0aGlzLl9kYXRhLmNvbnRlbnQucGxheSsnXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gYXYtaWNvbi1wbGF5IHBsYXlcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0aGlzLl9kYXRhLmNvbnRlbnQucGxheStcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cIiksdGhpcy5fJG5leHRCdXR0b249JCgnXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiB0aXRsZT1cIicrdGhpcy5fZGF0YS5jb250ZW50Lm5leHQrJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uIGF2LWljb24tbmV4dFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RoaXMuX2RhdGEuY29udGVudC5uZXh0K1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlwiKSx0aGlzLl8kdGltZURpc3BsYXk9JCgnPGRpdiBjbGFzcz1cInRpbWUtZGlzcGxheVwiPjxzcGFuIGNsYXNzPVwiY2FudmFzLXRpbWVcIj48L3NwYW4+IC8gPHNwYW4gY2xhc3M9XCJjYW52YXMtZHVyYXRpb25cIj48L3NwYW4+PC9kaXY+JyksdGhpcy5fJGNhbnZhc1RpbWU9dGhpcy5fJHRpbWVEaXNwbGF5LmZpbmQoXCIuY2FudmFzLXRpbWVcIiksdGhpcy5fJGNhbnZhc0R1cmF0aW9uPXRoaXMuXyR0aW1lRGlzcGxheS5maW5kKFwiLmNhbnZhcy1kdXJhdGlvblwiKSx0aGlzLl8kY2FudmFzTG9hZGluZ1Byb2dyZXNzPSQoJzxkaXYgY2xhc3M9XCJsb2FkaW5nLXByb2dyZXNzXCI+PC9kaXY+JyksdGhpcy5fJGZ1bGxzY3JlZW5CdXR0b249JCgnXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ1dHRvbi1mdWxsc2NyZWVuXCIgdGl0bGU9XCInK3RoaXMuX2RhdGEuY29udGVudC5mdWxsc2NyZWVuKydcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gYXYtaWNvbi1mdWxsc2NyZWVuXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGhpcy5fZGF0YS5jb250ZW50LmZ1bGxzY3JlZW4rXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlwiKSx0aGlzLmlzVmlydHVhbCgpJiZ0aGlzLiRwbGF5ZXJFbGVtZW50LmFkZENsYXNzKFwidmlydHVhbFwiKTt2YXIgZT0kKCc8ZGl2IGNsYXNzPVwidm9sdW1lXCI+PC9kaXY+Jyk7aWYodGhpcy5fdm9sdW1lPW5ldyB1LkFWVm9sdW1lQ29udHJvbCh7dGFyZ2V0OmVbMF0sZGF0YTpPYmplY3QuYXNzaWduKHt9LHRoaXMuX2RhdGEpfSksdGhpcy5fdm9sdW1lLm9uKHUuVm9sdW1lRXZlbnRzLlZPTFVNRV9DSEFOR0VELChmdW5jdGlvbihlKXt0LmZpcmUodS5Wb2x1bWVFdmVudHMuVk9MVU1FX0NIQU5HRUQsZSl9KSwhMSksdGhpcy5fJGNvbnRyb2xzQ29udGFpbmVyLmFwcGVuZCh0aGlzLl8kcHJldkJ1dHRvbix0aGlzLl8kcGxheUJ1dHRvbix0aGlzLl8kbmV4dEJ1dHRvbix0aGlzLl8kdGltZURpc3BsYXksdGhpcy5fJGZ1bGxzY3JlZW5CdXR0b24sZSksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLmFwcGVuZCh0aGlzLl8kY2FudmFzSG92ZXJQcmV2aWV3LHRoaXMuXyRjYW52YXNIb3ZlckhpZ2hsaWdodCx0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQsdGhpcy5fJGNhbnZhc0xvYWRpbmdQcm9ncmVzcyksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuYXBwZW5kKHRoaXMuXyRyYW5nZUhvdmVyUHJldmlldyx0aGlzLl8kcmFuZ2VIb3ZlckhpZ2hsaWdodCksdGhpcy5fJG9wdGlvbnNDb250YWluZXIuYXBwZW5kKHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lcix0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lcix0aGlzLl8kdGltZWxpbmVJdGVtQ29udGFpbmVyLHRoaXMuXyRjb250cm9sc0NvbnRhaW5lciksdGhpcy4kcGxheWVyRWxlbWVudC5hcHBlbmQodGhpcy5fJGNhbnZhc0NvbnRhaW5lcix0aGlzLl8kb3B0aW9uc0NvbnRhaW5lciksdGhpcy5fJGNhbnZhc0hvdmVyUHJldmlldy5oaWRlKCksdGhpcy5fJHJhbmdlSG92ZXJQcmV2aWV3LmhpZGUoKSx0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmhlbHBlciYmdGhpcy5fZGF0YS5jYW52YXMpe3ZhciBuPVtdO3RoaXMuaXNWaXJ0dWFsKCk/dGhpcy5fZGF0YS5jYW52YXMuY2FudmFzZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYodC5fZGF0YSYmdC5fZGF0YS5oZWxwZXIpe3ZhciBpPXQuX2RhdGEuaGVscGVyLmdldENhbnZhc1JhbmdlcyhlKSxyPVtdO2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49alF1ZXJ5LmV4dGVuZCghMCx7fSxlKTtpZihyLnB1c2gobiksbi5jYW52YXNlcyYmbi5jYW52YXNlcy5sZW5ndGgpZm9yKHZhciBpPTA7aTxuLmNhbnZhc2VzLmxlbmd0aDtpKyspbi5jYW52YXNlc1tpXT1oLkFWQ29tcG9uZW50VXRpbHMucmV0YXJnZXRUZW1wb3JhbENvbXBvbmVudCh0Ll9kYXRhLmNhbnZhcy5jYW52YXNlcyxuLl9fanNvbmxkLml0ZW1zW2ldLmlkKX0pKSxuLnB1c2guYXBwbHkobixyKX19KSk6bj1uLmNvbmNhdCh0aGlzLl9kYXRhLmhlbHBlci5nZXRDYW52YXNSYW5nZXModGhpcy5fZGF0YS5jYW52YXMpKSxuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucmFuZ2VzLnB1c2goZSl9KSl9dmFyIGk9dGhpcy5fZGF0YS5jYW52YXMuZ2V0V2lkdGgoKSxyPXRoaXMuX2RhdGEuY2FudmFzLmdldEhlaWdodCgpO3RoaXMuX2NhbnZhc1dpZHRoPWl8fHRoaXMuJHBsYXllckVsZW1lbnQucGFyZW50KCkud2lkdGgoKSx0aGlzLl9jYW52YXNIZWlnaHQ9cnx8dGhpcy5fY2FudmFzV2lkdGgqdGhpcy5fZGF0YS5kZWZhdWx0QXNwZWN0UmF0aW87dmFyIGE9dGhpcyxsPTAsYz0wO3RoaXMuXyRwcmV2QnV0dG9uLm9uKFwidG91Y2hzdGFydCBjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksMT09PSsrbD8odC5fcHJldmlvdXMoITEpLGM9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtsPTAsYz0wfSksdC5fZGF0YS5kb3VibGVDbGlja01TKSk6KHQuX3ByZXZpb3VzKCEwKSxjbGVhclRpbWVvdXQoYyksbD0wLGM9MCl9KSksdGhpcy5fJHBsYXlCdXR0b24ub24oXCJ0b3VjaHN0YXJ0IGNsaWNrXCIsKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0Ll9pc1BsYXlpbmc/dC5wYXVzZSgpOnQucGxheSgpfSkpLHRoaXMuXyRuZXh0QnV0dG9uLm9uKFwidG91Y2hzdGFydCBjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5fbmV4dCgpfSkpLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5zbGlkZXIoe3ZhbHVlOjAsc3RlcDouMDEsb3JpZW50YXRpb246XCJob3Jpem9udGFsXCIscmFuZ2U6XCJtaW5cIixtYXg6YS5fZ2V0RHVyYXRpb24oKSxhbmltYXRlOiExLGNyZWF0ZTpmdW5jdGlvbih0LGUpe30sc2xpZGU6ZnVuY3Rpb24odCxlKXthLl9zZXRDdXJyZW50VGltZShlLnZhbHVlKX0sc3RvcDpmdW5jdGlvbih0LGUpe319KSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIubW91c2VvdXQoKGZ1bmN0aW9uKCl7YS5fJGNhbnZhc0hvdmVySGlnaGxpZ2h0LndpZHRoKDApLGEuXyRjYW52YXNIb3ZlclByZXZpZXcuaGlkZSgpfSkpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLm1vdXNlb3V0KChmdW5jdGlvbigpe2EuXyRyYW5nZUhvdmVySGlnaGxpZ2h0LndpZHRoKDApLGEuXyRyYW5nZUhvdmVyUHJldmlldy5oaWRlKCl9KSksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLm9uKFwibW91c2Vtb3ZlXCIsKGZ1bmN0aW9uKGUpe3QuX3VwZGF0ZUhvdmVyUHJldmlldyhlLHQuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lcix0Ll9nZXREdXJhdGlvbigpKX0pKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5vbihcIm1vdXNlbW92ZVwiLChmdW5jdGlvbihlKXtpZih0Ll9kYXRhLnJhbmdlKXt2YXIgbj10Ll9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCk7dC5fdXBkYXRlSG92ZXJQcmV2aWV3KGUsdC5fJHJhbmdlVGltZWxpbmVDb250YWluZXIsbj9uLmdldExlbmd0aCgpOjApfX0pKSx0aGlzLl8kZnVsbHNjcmVlbkJ1dHRvblswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPWRvY3VtZW50O2lmKG4uZnVsbHNjcmVlbkVsZW1lbnR8fG4ubW96RnVsbFNjcmVlbkVsZW1lbnR8fG4ud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fG4ubXNGdWxsc2NyZWVuRWxlbWVudCl0LmZpcmUocy5FdmVudHMuRlVMTFNDUkVFTixcIm9mZlwiKSxuLmV4aXRGdWxsc2NyZWVuP24uZXhpdEZ1bGxzY3JlZW4oKTpuLm1zRXhpdEZ1bGxzY3JlZW4/bi5tc0V4aXRGdWxsc2NyZWVuKCk6bi5tb3pDYW5jZWxGdWxsU2NyZWVuP24ubW96Q2FuY2VsRnVsbFNjcmVlbigpOm4ud2Via2l0RXhpdEZ1bGxzY3JlZW4mJm4ud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtlbHNle3ZhciBpPXQuJHBsYXllckVsZW1lbnQuZ2V0KDApO3QuZmlyZShzLkV2ZW50cy5GVUxMU0NSRUVOLFwib25cIiksaS5yZXF1ZXN0RnVsbHNjcmVlbj9pLnJlcXVlc3RGdWxsc2NyZWVuKCk6aS5tc1JlcXVlc3RGdWxsc2NyZWVuP2kubXNSZXF1ZXN0RnVsbHNjcmVlbigpOmkubW96UmVxdWVzdEZ1bGxTY3JlZW4/aS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOmkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJmkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKX19KSwhMSksdGhpcy5fY29udGVudEFubm90YXRpb25zPVtdO3ZhciBwPXRoaXMuX2RhdGEuY2FudmFzLmdldENvbnRlbnQoKTt0aGlzLl8kdGltZWxpbmVJdGVtQ29udGFpbmVyLmhpZGUoKTtmb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKyl7dmFyIF89cFtmXSxkPXZvaWQgMCx2PV8uZ2V0Qm9keSgpO2lmKCF2Lmxlbmd0aClyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJpdGVtIGhhcyBubyBib2R5XCIpO3ZhciBnPXRoaXMuX2dldEJvZHkodik7aWYoZyl7dmFyIEU9Zy5nZXRUeXBlKCksbT1nLmdldEZvcm1hdCgpO0UmJlwidGV4dHVhbGJvZHlcIj09PUUudG9TdHJpbmcoKXx8KGQ9Zy5pZC5zcGxpdChcIiNcIilbMF0pO3ZhciB5PV8uZ2V0VGFyZ2V0KCk7aWYoIXkpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiaXRlbSBoYXMgbm8gdGFyZ2V0XCIpO3ZhciBJPWguQVZDb21wb25lbnRVdGlscy5nZXRTcGF0aWFsQ29tcG9uZW50KHkpLEM9by5VdGlscy5nZXRUZW1wb3JhbENvbXBvbmVudCh5KTtJfHwoST1bMCwwLHRoaXMuX2NhbnZhc1dpZHRoLHRoaXMuX2NhbnZhc0hlaWdodF0pLEN8fChDPVswLHRoaXMuX2dldER1cmF0aW9uKCldKTt2YXIgVD1wYXJzZUludChTdHJpbmcoSVswXSkpLEE9cGFyc2VJbnQoU3RyaW5nKElbMV0pKSxPPXBhcnNlSW50KFN0cmluZyhJWzJdKSksTT1wYXJzZUludChTdHJpbmcoSVszXSkpLEw9cGFyc2VJbnQoU3RyaW5nKENbMF0pKSxQPXBhcnNlSW50KFN0cmluZyhDWzFdKSksUj10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKEEsdGhpcy5fY2FudmFzSGVpZ2h0KSxOPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UoVCx0aGlzLl9jYW52YXNXaWR0aCksUz10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKE8sdGhpcy5fY2FudmFzV2lkdGgpLGI9dGhpcy5fY29udmVydFRvUGVyY2VudGFnZShNLHRoaXMuX2NhbnZhc0hlaWdodCksdz0vW1xcP3wmXXQ9KFteJl0rKS9nLmV4ZWMoZy5pZCksRD12b2lkIDAseD0oRD13JiZ3WzFdP3dbMV0uc3BsaXQoXCIsXCIpOltudWxsLG51bGxdKVswXT9wYXJzZUludChEWzBdKTpEWzBdLFU9e2FjdGl2ZTohMSxlbmQ6UCxlbmRPZmZzZXQ6RFsxXT9wYXJzZUludChEWzFdKTpEWzFdLGZvcm1hdDptLGhlaWdodDpiLGxlZnQ6Tixzb3VyY2U6ZCxzdGFydDpMLHN0YXJ0T2Zmc2V0OngsdG9wOlIsdHlwZTpFLHdpZHRoOlN9O3RoaXMuX3JlbmRlck1lZGlhRWxlbWVudChVKTt2YXIgVj1fLmdldFByb3BlcnR5KFwic2VlQWxzb1wiKTtpZihWJiZWLmxlbmd0aCl7dmFyIEc9VlswXS5pZDt0aGlzLndhdmVmb3Jtcy5wdXNoKEcpfX1lbHNlIGNvbnNvbGUud2FybihcInVuYWJsZSB0byBmaW5kIHN1aXRhYmxlIGZvcm1hdCBmb3JcIixfLmlkKX10aGlzLl9yZW5kZXJXYXZlZm9ybSgpfWVsc2UgY29uc29sZS53YXJuKFwidW5hYmxlIHRvIGluaXRpYWxpc2UsIG1pc3NpbmcgY2FudmFzIG9yIGNvbnRlbnRcIil9LGUucHJvdG90eXBlLl9nZXRCb2R5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXtpZigoaT0obj10W2VdKS5nZXRGb3JtYXQoKSkmJmguQVZDb21wb25lbnRVdGlscy5pc0hMU0Zvcm1hdChpKSYmaC5BVkNvbXBvbmVudFV0aWxzLmNhblBsYXlIbHMoKSlyZXR1cm4gbn1mb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXtpZigoaT0obj10W2VdKS5nZXRGb3JtYXQoKSkmJmguQVZDb21wb25lbnRVdGlscy5pc01wZWdEYXNoRm9ybWF0KGkpJiYhaC5BVkNvbXBvbmVudFV0aWxzLmlzU2FmYXJpKCkpcmV0dXJuIG59Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG4saTtpZigoaT0obj10W2VdKS5nZXRGb3JtYXQoKSkmJiFoLkFWQ29tcG9uZW50VXRpbHMuaXNITFNGb3JtYXQoaSkmJiFoLkFWQ29tcG9uZW50VXRpbHMuaXNNcGVnRGFzaEZvcm1hdChpKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX2dldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY2FudmFzP3RoaXMuX2RhdGEuY2FudmFzLmdldER1cmF0aW9uKCk6MH0sZS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybnt3YXZlZm9ybUNvbG9yOlwiI2ZmZlwiLHdhdmVmb3JtQmFyU3BhY2luZzo0LHdhdmVmb3JtQmFyV2lkdGg6Mix2b2x1bWU6MX19LGUucHJvdG90eXBlLmlzVmlydHVhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNhbnZhcyBpbnN0YW5jZW9mIGwuVmlydHVhbENhbnZhc30sZS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9kYXRhLnZpc2libGV9LGUucHJvdG90eXBlLmluY2x1ZGVzVmlydHVhbFN1YkNhbnZhcz1mdW5jdGlvbih0KXtpZih0aGlzLmlzVmlydHVhbCgpJiZ0aGlzLl9kYXRhLmNhbnZhcyYmdGhpcy5fZGF0YS5jYW52YXMuY2FudmFzZXMpZm9yKHZhciBlPTA7ZTx0aGlzLl9kYXRhLmNhbnZhcy5jYW52YXNlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9kYXRhLmNhbnZhcy5jYW52YXNlc1tlXTtpZihvLlV0aWxzLm5vcm1hbGlzZVVybChuLmlkKT09PXQpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9kYXRhKTt0aGlzLl9kYXRhPU9iamVjdC5hc3NpZ24odGhpcy5fZGF0YSx0KTt2YXIgaT1oLkFWQ29tcG9uZW50VXRpbHMuZGlmZihuLHRoaXMuX2RhdGEpO2lmKGkuaW5jbHVkZXMoXCJ2aXNpYmxlXCIpJiZ0aGlzLl9kYXRhLmNhbnZhcyYmKHRoaXMuX2RhdGEudmlzaWJsZT8odGhpcy5fcmV3aW5kKCksdGhpcy4kcGxheWVyRWxlbWVudC5zaG93KCkpOih0aGlzLiRwbGF5ZXJFbGVtZW50LmhpZGUoKSx0aGlzLnBhdXNlKCkpLHRoaXMucmVzaXplKCkpLGkuaW5jbHVkZXMoXCJyYW5nZVwiKSYmdGhpcy5fZGF0YS5oZWxwZXIpaWYodGhpcy5fZGF0YS5yYW5nZSl7dmFyIHI9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpO3ImJih0aGlzLl9kYXRhLnJhbmdlLmF1dG9DaGFuZ2VkfHx0aGlzLl9zZXRDdXJyZW50VGltZShyLnN0YXJ0KSx0aGlzLl9kYXRhLmF1dG9QbGF5JiZ0aGlzLnBsYXkoKSx0aGlzLmZpcmUocy5FdmVudHMuUkFOR0VfQ0hBTkdFRCx0aGlzLl9kYXRhLnJhbmdlLmlkKSl9ZWxzZSB0aGlzLmZpcmUocy5FdmVudHMuUkFOR0VfQ0hBTkdFRCxudWxsKTtpLmluY2x1ZGVzKFwidm9sdW1lXCIpP3RoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj12b2lkIDAhPT1lLl9kYXRhLnZvbHVtZT9lLl9kYXRhLnZvbHVtZToxOyQodC5lbGVtZW50KS5wcm9wKFwidm9sdW1lXCIsbiksZS5fdm9sdW1lLnNldCh7dm9sdW1lOmUuX2RhdGEudm9sdW1lfSl9KSk6dGhpcy5fcmVuZGVyKCksaS5pbmNsdWRlcyhcImxpbWl0VG9SYW5nZVwiKSYmdGhpcy5fcmVuZGVyKCl9LGUucHJvdG90eXBlLl9oYXNSYW5nZUNoYW5nZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRSYW5nZUZvckN1cnJlbnRUaW1lKCk7dCYmIXRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiYoIXRoaXMuX2RhdGEucmFuZ2V8fHRoaXMuX2RhdGEucmFuZ2UmJnQuaWQhPT10aGlzLl9kYXRhLnJhbmdlLmlkKSYmdGhpcy5zZXQoe3JhbmdlOmpRdWVyeS5leHRlbmQoITAse2F1dG9DaGFuZ2VkOiEwfSx0KX0pfSxlLnByb3RvdHlwZS5fZ2V0UmFuZ2VGb3JDdXJyZW50VGltZT1mdW5jdGlvbih0KXt2YXIgZTtlPXQ/dC5nZXRSYW5nZXMoKTp0aGlzLnJhbmdlcztmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZih0aGlzLl9yYW5nZVNwYW5zQ3VycmVudFRpbWUoaSkpe2lmKHRoaXMuX3JhbmdlTmF2aWdhYmxlKGkpKXJldHVybiBpO2Zvcih2YXIgcj1pLmdldFJhbmdlcygpLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG89clthXTtpZih0aGlzLl9yYW5nZVNwYW5zQ3VycmVudFRpbWUobykpcmV0dXJuIHRoaXMuX2dldFJhbmdlRm9yQ3VycmVudFRpbWUobyl9cmV0dXJuIGkucGFyZW50UmFuZ2V9fX0sZS5wcm90b3R5cGUuX3JhbmdlU3BhbnNDdXJyZW50VGltZT1mdW5jdGlvbih0KXtyZXR1cm4hIXQuc3BhbnNUaW1lKE1hdGguY2VpbCh0aGlzLl9jYW52YXNDbG9ja1RpbWUpK3RoaXMuX3JhbmdlU3BhblBhZGRpbmcpfSxlLnByb3RvdHlwZS5fcmFuZ2VOYXZpZ2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRCZWhhdmlvcigpO3JldHVybiFlfHxlLnRvU3RyaW5nKCkhPT1wLkJlaGF2aW9yLk5PX05BVn0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEucmFuZ2Upe3ZhciB0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKTtpZih0KXt2YXIgZT10aGlzLl9nZXREdXJhdGlvbigpLG49dGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLndpZHRoKCkvZSxpPXQuc3RhcnQqbixyPXQuZW5kKm47KHI+ZXx8cjxpKSYmKHI9ZSk7dmFyIGE9ci1pO3RoaXMuaXNWaXJ0dWFsKCl8fHRoaXMuaXNPbmx5Q2FudmFzSW5zdGFuY2U/KHRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodC5zaG93KCksdGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0LmNzcyh7bGVmdDppLHdpZHRoOmF9KSk6dGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0LmhpZGUoKTt2YXIgbz10aGlzO3RoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLmRhdGEoXCJ1aS1zb3J0YWJsZVwiKSYmdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuc2xpZGVyKFwiZGVzdHJveVwiKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5zbGlkZXIoe3ZhbHVlOnQuc3RhcnQsc3RlcDouMDEsb3JpZW50YXRpb246XCJob3Jpem9udGFsXCIscmFuZ2U6XCJtaW5cIixtaW46dC5zdGFydCxtYXg6dC5lbmQsYW5pbWF0ZTohMSxjcmVhdGU6ZnVuY3Rpb24odCxlKXt9LHNsaWRlOmZ1bmN0aW9uKHQsZSl7by5fc2V0Q3VycmVudFRpbWUoZS52YWx1ZSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt9fSl9fWVsc2UgdGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0LmhpZGUoKTt0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdGhpcy5fZGF0YS5yYW5nZT8odGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLmhpZGUoKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5zaG93KCkpOih0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIuc2hvdygpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLmhpZGUoKSksdGhpcy5fdXBkYXRlQ3VycmVudFRpbWVEaXNwbGF5KCksdGhpcy5fdXBkYXRlRHVyYXRpb25EaXNwbGF5KCksdGhpcy5fZHJhd1dhdmVmb3JtKCl9LGUucHJvdG90eXBlLmdldENhbnZhc0lkPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jYW52YXMpcmV0dXJuIHRoaXMuX2RhdGEuY2FudmFzLmlkfSxlLnByb3RvdHlwZS5fdXBkYXRlSG92ZXJQcmV2aWV3PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLm9mZnNldCgpLHI9dC5wYWdlWC1pLmxlZnQsYT1lLmZpbmQoXCIuYXJyb3dcIiksbz1lLmZpbmQoXCIuaG92ZXItaGlnaGxpZ2h0XCIpLHM9ZS5maW5kKFwiLmhvdmVyLXByZXZpZXdcIik7by53aWR0aChyKTt2YXIgbD1lLndpZHRoKCksYz1yL2wsdT1NYXRoLm1pbihuKmMpO3MuZmluZChcIi5sYWJlbFwiKS50ZXh0KGguQVZDb21wb25lbnRVdGlscy5mb3JtYXRUaW1lKHUpKTt2YXIgcD1zLm91dGVyV2lkdGgoKSxmPXMub3V0ZXJIZWlnaHQoKSxfPXItLjUqcCxkPS41KnAtNjtfPDAmJihfPTAsZD1yLTYpLF8rcD5sJiYoXz1sLXAsZD1wLShsLXIpLTYpLHMuY3NzKHtsZWZ0Ol8sdG9wOi0xKmYrXCJweFwifSkuc2hvdygpLGEuY3NzKHtsZWZ0OmR9KX0sZS5wcm90b3R5cGUuX3ByZXZpb3VzPWZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEubGltaXRUb1JhbmdlP3Q/dGhpcy5faXNOYXZpZ2F0aW9uQ29uc3RyYWluZWRUb1JhbmdlKCk/dGhpcy5fcmV3aW5kKCk6dGhpcy5maXJlKF8uUFJFVklPVVNfUkFOR0UpOnRoaXMuX3Jld2luZCgpOnRoaXMuX2RhdGEucmFuZ2U/dD8odGhpcy5zZXQoe3JhbmdlOnZvaWQgMH0pLHRoaXMuX3Jld2luZCgpKTp0aGlzLmZpcmUoXy5QUkVWSU9VU19SQU5HRSk6dGhpcy5fcmV3aW5kKCl9LGUucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnRoaXMuX2lzTmF2aWdhdGlvbkNvbnN0cmFpbmVkVG9SYW5nZSgpP3RoaXMuX2Zhc3Rmb3J3YXJkKCk6dGhpcy5maXJlKF8uTkVYVF9SQU5HRSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9oaWdoUHJpb3JpdHlJbnRlcnZhbCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbG93UHJpb3JpdHlJbnRlcnZhbCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fY2FudmFzQ2xvY2tJbnRlcnZhbCl9LGUucHJvdG90eXBlLl9jb252ZXJ0VG9QZXJjZW50YWdlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQvZSoxMDB9LGUucHJvdG90eXBlLl9yZW5kZXJNZWRpYUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzO3N3aXRjaCh0LnR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJ2aWRlb1wiOmU9JCgnPHZpZGVvIGNsYXNzPVwiYW5ub1wiIC8+Jyk7YnJlYWs7Y2FzZVwic291bmRcIjpjYXNlXCJhdWRpb1wiOmU9JCgnPGF1ZGlvIGNsYXNzPVwiYW5ub1wiIC8+Jyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59dmFyIGk9ZVswXTtpZih0LmZvcm1hdCYmXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiPT09dC5mb3JtYXQudG9TdHJpbmcoKSl7ZS5hdHRyKFwiZGF0YS1kYXNoanMtcGxheWVyXCIsXCJcIik7dmFyIHI9ZGFzaGpzLk1lZGlhUGxheWVyKCkuY3JlYXRlKCk7ci5nZXREZWJ1ZygpLnNldExvZ1RvQnJvd3NlckNvbnNvbGUoITEpLHRoaXMuX2RhdGEuYWRhcHRpdmVBdXRoRW5hYmxlZCYmci5zZXRYSFJXaXRoQ3JlZGVudGlhbHNGb3JUeXBlKFwiTVBEXCIsITApLHIuaW5pdGlhbGl6ZShpLHQuc291cmNlKX1lbHNlIGlmKHQuZm9ybWF0JiZcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCI9PT10LmZvcm1hdC50b1N0cmluZygpKWlmKEhscy5pc1N1cHBvcnRlZCgpKXt2YXIgYT1uZXcgSGxzO2E9dGhpcy5fZGF0YS5hZGFwdGl2ZUF1dGhFbmFibGVkP25ldyBIbHMoe3hoclNldHVwOmZ1bmN0aW9uKHQpe3Qud2l0aENyZWRlbnRpYWxzPSEwfX0pOm5ldyBIbHMsdGhpcy5fZGF0YS5hZGFwdGl2ZUF1dGhFbmFibGVkLGEubG9hZFNvdXJjZSh0LnNvdXJjZSksYS5hdHRhY2hNZWRpYShpKX1lbHNlIGkuY2FuUGxheVR5cGUoXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiKSYmKGkuc3JjPXQuc291cmNlKTtlbHNlIGUuYXR0cihcInNyY1wiLHQuc291cmNlKTtlLmNzcyh7dG9wOnQudG9wK1wiJVwiLGxlZnQ6dC5sZWZ0K1wiJVwiLHdpZHRoOnQud2lkdGgrXCIlXCIsaGVpZ2h0OnQuaGVpZ2h0K1wiJVwifSkuaGlkZSgpLHQuZWxlbWVudD1lLHQudGltZW91dD1udWxsO3ZhciBvPXRoaXM7dC5jaGVja0ZvclN0YWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmFjdGl2ZT8oby5fY2hlY2tNZWRpYVN5bmNocm9uaXphdGlvbigpLHRoaXMuZWxlbWVudC5nZXQoMCkucmVhZHlTdGF0ZT4wJiYhdGhpcy5vdXRPZlN5bmM/by5fcGxheWJhY2tTdGFsbGVkKCExLHQpOihvLl9wbGF5YmFja1N0YWxsZWQoITAsdCksdGhpcy50aW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy50aW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY2hlY2tGb3JTdGFsbCgpfSksMWUzKSkpOm8uX3BsYXliYWNrU3RhbGxlZCghMSx0KX0sdGhpcy5fY29udGVudEFubm90YXRpb25zLnB1c2godCksdGhpcy4kcGxheWVyRWxlbWVudCYmdGhpcy5fJGNhbnZhc0NvbnRhaW5lci5hcHBlbmQoZSksZS5vbihcImxvYWRzdGFydFwiLChmdW5jdGlvbigpe30pKSxlLm9uKFwid2FpdGluZ1wiLChmdW5jdGlvbigpe30pKSxlLm9uKFwic2Vla2luZ1wiLChmdW5jdGlvbigpe30pKSxlLm9uKFwibG9hZGVkbWV0YWRhdGFcIiwoZnVuY3Rpb24oKXtuLl9yZWFkeU1lZGlhQ291bnQrKyxuLl9yZWFkeU1lZGlhQ291bnQ9PT1uLl9jb250ZW50QW5ub3RhdGlvbnMubGVuZ3RoJiYobi5fc2V0Q3VycmVudFRpbWUoMCksbi5fZGF0YS5hdXRvUGxheSYmbi5wbGF5KCksbi5fdXBkYXRlRHVyYXRpb25EaXNwbGF5KCksbi5maXJlKHMuRXZlbnRzLk1FRElBX1JFQURZKSl9KSksZS5vbihcInByb2dyZXNzXCIsKGZ1bmN0aW9uKCl7aWYoaS5idWZmZXJlZC5sZW5ndGg+MCl7dmFyIHQ9aS5kdXJhdGlvbixlPWkuYnVmZmVyZWQuZW5kKGkuYnVmZmVyZWQubGVuZ3RoLTEpO3Q+MCYmbi5fJG9wdGlvbnNDb250YWluZXIuZmluZChcIi5sb2FkaW5nLXByb2dyZXNzXCIpLndpZHRoKGUvdCoxMDArXCIlXCIpfX0pKSxlLmF0dHIoXCJwcmVsb2FkXCIsXCJhdXRvXCIpLGUuZ2V0KDApLmxvYWQoKSx0aGlzLl9yZW5kZXJTeW5jSW5kaWNhdG9yKHQpfSxlLnByb3RvdHlwZS5fZ2V0V2F2ZWZvcm1EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXskLmFqYXgoe3VybDp0LHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcImJpbmFyeVwiLHJlc3BvbnNlVHlwZTpcImFycmF5YnVmZmVyXCIscHJvY2Vzc0RhdGE6ITF9KS5kb25lKChmdW5jdGlvbih0KXtlKFdhdmVmb3JtRGF0YS5jcmVhdGUodCkpfSkpLmZhaWwoKGZ1bmN0aW9uKHQpe24obmV3IEVycm9yKFwiTmV0d29yayBFcnJvclwiKSl9KSl9KSl9LGUucHJvdG90eXBlLl9yZW5kZXJXYXZlZm9ybT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy53YXZlZm9ybXMubGVuZ3RoKXt2YXIgZT10aGlzLndhdmVmb3Jtcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRXYXZlZm9ybURhdGEoZSl9KSk7UHJvbWlzZS5hbGwoZSkudGhlbigoZnVuY3Rpb24oZSl7dC5fd2F2ZWZvcm1DYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0Ll93YXZlZm9ybUNhbnZhcy5jbGFzc0xpc3QuYWRkKFwid2F2ZWZvcm1cIiksdC5fJGNhbnZhc0NvbnRhaW5lci5hcHBlbmQodC5fd2F2ZWZvcm1DYW52YXMpLHQuX3dhdmVmb3JtQ3R4PXQuX3dhdmVmb3JtQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0Ll93YXZlZm9ybUN0eCYmKHQuX3dhdmVmb3JtQ3R4LmZpbGxTdHlsZT10Ll9kYXRhLndhdmVmb3JtQ29sb3IsdC5fY29tcG9zaXRlV2F2ZWZvcm09bmV3IGMuQ29tcG9zaXRlV2F2ZWZvcm0oZSksdC5maXJlKHMuRXZlbnRzLldBVkVGT1JNX1JFQURZKSl9KSl9fSxlLnByb3RvdHlwZS5fZHJhd1dhdmVmb3JtPWZ1bmN0aW9uKCl7aWYodGhpcy5fd2F2ZWZvcm1DdHgpe3ZhciB0LGU9MCxuPXRoaXMuX2NvbXBvc2l0ZVdhdmVmb3JtLmR1cmF0aW9uO3RoaXMuX2RhdGEucmFuZ2UmJih0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnQmJihlPXQuc3RhcnQsbj10LmVuZCk7dmFyIGk9ZSp0aGlzLl9jb21wb3NpdGVXYXZlZm9ybS5waXhlbHNQZXJTZWNvbmQscj1uKnRoaXMuX2NvbXBvc2l0ZVdhdmVmb3JtLnBpeGVsc1BlclNlY29uZCxhPXRoaXMuX3dhdmVmb3JtQ3R4LmNhbnZhcy53aWR0aCxvPXRoaXMuX3dhdmVmb3JtQ3R4LmNhbnZhcy5oZWlnaHQscz10aGlzLl9kYXRhLndhdmVmb3JtQmFyU3BhY2luZyxsPXRoaXMuX2RhdGEud2F2ZWZvcm1CYXJXaWR0aCxjPU1hdGguZmxvb3IoKHItaSkvYSpzKSx1PWEvczt0aGlzLl93YXZlZm9ybUN0eC5jbGVhclJlY3QoMCwwLGEsbyksdGhpcy5fd2F2ZWZvcm1DdHguZmlsbFN0eWxlPXRoaXMuX2RhdGEud2F2ZWZvcm1Db2xvcjtmb3IodmFyIHA9aTtwPHI7cCs9Yyl7dmFyIGY9dGhpcy5fZ2V0V2F2ZWZvcm1NYXhBbmRNaW4odGhpcy5fY29tcG9zaXRlV2F2ZWZvcm0scCx1KSxfPXRoaXMuX3NjYWxlWShmLm1heC1mLm1pbixvKSxkPShvLV8pLzIsdj1hKmguQVZDb21wb25lbnRVdGlscy5ub3JtYWxpc2UocCxpLHIpO3RoaXMuX3dhdmVmb3JtQ3R4LmZpbGxSZWN0KHYsZCxsLF8pfX19LGUucHJvdG90eXBlLl9nZXRXYXZlZm9ybU1heEFuZE1pbj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPS0xMjcscj0xMjgsYT1lO2E8ZStuO2ErKyl0Lm1heChhKT5pJiYoaT10Lm1heChhKSksdC5taW4oYSk8ciYmKHI9dC5taW4oYSkpO3JldHVybnttYXg6aSxtaW46cn19LGUucHJvdG90eXBlLl91cGRhdGVDdXJyZW50VGltZURpc3BsYXk9ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLl9kYXRhLnJhbmdlJiYodD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0KXt2YXIgZT10aGlzLl9jYW52YXNDbG9ja1RpbWUtdC5zdGFydDt0aGlzLl8kY2FudmFzVGltZS50ZXh0KGguQVZDb21wb25lbnRVdGlscy5mb3JtYXRUaW1lKGUpKX1lbHNlIHRoaXMuXyRjYW52YXNUaW1lLnRleHQoaC5BVkNvbXBvbmVudFV0aWxzLmZvcm1hdFRpbWUodGhpcy5fY2FudmFzQ2xvY2tUaW1lKSl9LGUucHJvdG90eXBlLl91cGRhdGVEdXJhdGlvbkRpc3BsYXk9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9kYXRhLnJhbmdlJiYodD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0P3RoaXMuXyRjYW52YXNEdXJhdGlvbi50ZXh0KGguQVZDb21wb25lbnRVdGlscy5mb3JtYXRUaW1lKHQuZ2V0TGVuZ3RoKCkpKTp0aGlzLl8kY2FudmFzRHVyYXRpb24udGV4dChoLkFWQ29tcG9uZW50VXRpbHMuZm9ybWF0VGltZSh0aGlzLl9nZXREdXJhdGlvbigpKSl9LGUucHJvdG90eXBlLl9yZW5kZXJTeW5jSW5kaWNhdG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UodC5zdGFydCx0aGlzLl9nZXREdXJhdGlvbigpKSxuPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UodC5lbmQtdC5zdGFydCx0aGlzLl9nZXREdXJhdGlvbigpKSxpPSQoJzxkaXYgY2xhc3M9XCJ0aW1lbGluZS1pdGVtXCIgdGl0bGU9XCInK3Quc291cmNlKydcIiBkYXRhLXN0YXJ0PVwiJyt0LnN0YXJ0KydcIiBkYXRhLWVuZD1cIicrdC5lbmQrJ1wiPjwvZGl2PicpO2kuY3NzKHtsZWZ0OmUrXCIlXCIsd2lkdGg6bitcIiVcIn0pO3ZhciByPSQoJzxkaXYgY2xhc3M9XCJsaW5lLXdyYXBwZXJcIj48L2Rpdj4nKTtpLmFwcGVuZFRvKHIpLHQudGltZWxpbmVFbGVtZW50PWksdGhpcy4kcGxheWVyRWxlbWVudCYmdGhpcy5fJHRpbWVsaW5lSXRlbUNvbnRhaW5lci5hcHBlbmQocil9LGUucHJvdG90eXBlLl9zZXRDdXJyZW50VGltZT1mdW5jdGlvbih0KXt0aGlzLl9jYW52YXNDbG9ja1RpbWU9dCx0aGlzLl9jYW52YXNDbG9ja1N0YXJ0RGF0ZT1EYXRlLm5vdygpLTFlMyp0aGlzLl9jYW52YXNDbG9ja1RpbWUsdGhpcy5sb2dNZXNzYWdlKFwiU0VUIENVUlJFTlQgVElNRSB0bzogXCIrdGhpcy5fY2FudmFzQ2xvY2tUaW1lK1wiIHNlY29uZHMuXCIpLHRoaXMuX2NhbnZhc0Nsb2NrVXBkYXRlcigpLHRoaXMuX2hpZ2hQcmlvcml0eVVwZGF0ZXIoKSx0aGlzLl9sb3dQcmlvcml0eVVwZGF0ZXIoKSx0aGlzLl9zeW5jaHJvbml6ZU1lZGlhKCl9LGUucHJvdG90eXBlLl9yZXdpbmQ9ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5wYXVzZSgpLHRoaXMuX2RhdGEucmFuZ2UmJihlPXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJmU/dGhpcy5fY2FudmFzQ2xvY2tUaW1lPWUuc3RhcnQ6dGhpcy5fY2FudmFzQ2xvY2tUaW1lPTAsdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2V8fHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuaGVscGVyJiZ0aGlzLnNldCh7cmFuZ2U6dm9pZCAwfSl9LGUucHJvdG90eXBlLl9mYXN0Zm9yd2FyZD1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX2RhdGEucmFuZ2UmJih0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnQ/dGhpcy5fY2FudmFzQ2xvY2tUaW1lPXQuZW5kOnRoaXMuX2NhbnZhc0Nsb2NrVGltZT10aGlzLl9nZXREdXJhdGlvbigpLHRoaXMucGF1c2UoKX0sZS5wcm90b3R5cGUucGxheT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLl9pc1BsYXlpbmcpe3ZhciBuO3RoaXMuX2RhdGEucmFuZ2UmJihuPXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJm4mJnRoaXMuX2NhbnZhc0Nsb2NrVGltZT49bi5lbmQmJih0aGlzLl9jYW52YXNDbG9ja1RpbWU9bi5zdGFydCksdGhpcy5fY2FudmFzQ2xvY2tUaW1lPT09dGhpcy5fZ2V0RHVyYXRpb24oKSYmKHRoaXMuX2NhbnZhc0Nsb2NrVGltZT0wKSx0aGlzLl9jYW52YXNDbG9ja1N0YXJ0RGF0ZT1EYXRlLm5vdygpLTFlMyp0aGlzLl9jYW52YXNDbG9ja1RpbWUsdGhpcy5faGlnaFByaW9yaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2UuX2hpZ2hQcmlvcml0eVVwZGF0ZXIoKX0pLHRoaXMuX2hpZ2hQcmlvcml0eUZyZXF1ZW5jeSksdGhpcy5fbG93UHJpb3JpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5fbG93UHJpb3JpdHlVcGRhdGVyKCl9KSx0aGlzLl9sb3dQcmlvcml0eUZyZXF1ZW5jeSksdGhpcy5fY2FudmFzQ2xvY2tJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5fY2FudmFzQ2xvY2tVcGRhdGVyKCl9KSx0aGlzLl9jYW52YXNDbG9ja0ZyZXF1ZW5jeSksdGhpcy5faXNQbGF5aW5nPSEwLHR8fHRoaXMuX3N5bmNocm9uaXplTWVkaWEoKTt2YXIgaT10aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNvbnRlbnQ/dGhpcy5fZGF0YS5jb250ZW50LnBhdXNlOlwiXCI7dGhpcy5fJHBsYXlCdXR0b24ucHJvcChcInRpdGxlXCIsaSksdGhpcy5fJHBsYXlCdXR0b24uZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJwbGF5XCIsXCJwYXVzZVwiKSx0aGlzLmZpcmUoXy5QTEFZQ0FOVkFTKSx0aGlzLmxvZ01lc3NhZ2UoXCJQTEFZIGNhbnZhc1wiKX19LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKHQpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2hpZ2hQcmlvcml0eUludGVydmFsKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb3dQcmlvcml0eUludGVydmFsKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9jYW52YXNDbG9ja0ludGVydmFsKSx0aGlzLl9pc1BsYXlpbmc9ITEsdHx8KHRoaXMuX2hpZ2hQcmlvcml0eVVwZGF0ZXIoKSx0aGlzLl9sb3dQcmlvcml0eVVwZGF0ZXIoKSx0aGlzLl9zeW5jaHJvbml6ZU1lZGlhKCkpO3ZhciBlPXRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY29udGVudD90aGlzLl9kYXRhLmNvbnRlbnQucGxheTpcIlwiO3RoaXMuXyRwbGF5QnV0dG9uLnByb3AoXCJ0aXRsZVwiLGUpLHRoaXMuXyRwbGF5QnV0dG9uLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwicGF1c2VcIixcInBsYXlcIiksdGhpcy5maXJlKF8uUEFVU0VDQU5WQVMpLHRoaXMubG9nTWVzc2FnZShcIlBBVVNFIGNhbnZhc1wiKX0sZS5wcm90b3R5cGUuX2lzTmF2aWdhdGlvbkNvbnN0cmFpbmVkVG9SYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlfSxlLnByb3RvdHlwZS5fY2FudmFzQ2xvY2tVcGRhdGVyPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fY2FudmFzQ2xvY2tUaW1lPShEYXRlLm5vdygpLXRoaXMuX2NhbnZhc0Nsb2NrU3RhcnREYXRlKS8xZTMsdGhpcy5fZGF0YS5yYW5nZSYmKHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdCYmdGhpcy5fY2FudmFzQ2xvY2tUaW1lPj10LmVuZCYmdGhpcy5wYXVzZSgpLHRoaXMuX2NhbnZhc0Nsb2NrVGltZT49dGhpcy5fZ2V0RHVyYXRpb24oKSYmKHRoaXMuX2NhbnZhc0Nsb2NrVGltZT10aGlzLl9nZXREdXJhdGlvbigpLHRoaXMucGF1c2UoKSl9LGUucHJvdG90eXBlLl9oaWdoUHJpb3JpdHlVcGRhdGVyPWZ1bmN0aW9uKCl7dGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuc2xpZGVyKHt2YWx1ZTp0aGlzLl9jYW52YXNDbG9ja1RpbWV9KSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIuc2xpZGVyKHt2YWx1ZTp0aGlzLl9jYW52YXNDbG9ja1RpbWV9KSx0aGlzLl91cGRhdGVDdXJyZW50VGltZURpc3BsYXkoKSx0aGlzLl91cGRhdGVEdXJhdGlvbkRpc3BsYXkoKX0sZS5wcm90b3R5cGUuX2xvd1ByaW9yaXR5VXBkYXRlcj1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZU1lZGlhQWN0aXZlU3RhdGVzKCksdGhpcy5faXNQbGF5aW5nJiZ0aGlzLl9kYXRhLmF1dG9TZWxlY3RSYW5nZSYmKHRoaXMuaXNWaXJ0dWFsKCl8fHRoaXMuaXNPbmx5Q2FudmFzSW5zdGFuY2UpJiZ0aGlzLl9oYXNSYW5nZUNoYW5nZWQoKX0sZS5wcm90b3R5cGUuX3VwZGF0ZU1lZGlhQWN0aXZlU3RhdGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9MDtlPHRoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucy5sZW5ndGg7ZSsrKSh0PXRoaXMuX2NvbnRlbnRBbm5vdGF0aW9uc1tlXSkuc3RhcnQ8PXRoaXMuX2NhbnZhc0Nsb2NrVGltZSYmdC5lbmQ+PXRoaXMuX2NhbnZhc0Nsb2NrVGltZT8odGhpcy5fY2hlY2tNZWRpYVN5bmNocm9uaXphdGlvbigpLHQuYWN0aXZlfHwodGhpcy5fc3luY2hyb25pemVNZWRpYSgpLHQuYWN0aXZlPSEwLHQuZWxlbWVudC5zaG93KCksdC50aW1lbGluZUVsZW1lbnQuYWRkQ2xhc3MoXCJhY3RpdmVcIikpLHQuZWxlbWVudFswXS5jdXJyZW50VGltZT50LmVsZW1lbnRbMF0uZHVyYXRpb24tdC5lbmRPZmZzZXQmJnRoaXMuX3BhdXNlTWVkaWEodC5lbGVtZW50WzBdKSk6dC5hY3RpdmUmJih0LmFjdGl2ZT0hMSx0LmVsZW1lbnQuaGlkZSgpLHQudGltZWxpbmVFbGVtZW50LnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHRoaXMuX3BhdXNlTWVkaWEodC5lbGVtZW50WzBdKSl9LGUucHJvdG90eXBlLl9wYXVzZU1lZGlhPWZ1bmN0aW9uKHQpe3QucGF1c2UoKX0sZS5wcm90b3R5cGUuX3NldE1lZGlhQ3VycmVudFRpbWU9ZnVuY3Rpb24odCxlKXtpc05hTih0LmR1cmF0aW9uKXx8KHQuY3VycmVudFRpbWU9ZSl9LGUucHJvdG90eXBlLl9zeW5jaHJvbml6ZU1lZGlhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9MDtlPHRoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucy5sZW5ndGg7ZSsrKXtpZih0PXRoaXMuX2NvbnRlbnRBbm5vdGF0aW9uc1tlXSx0aGlzLl9zZXRNZWRpYUN1cnJlbnRUaW1lKHQuZWxlbWVudFswXSx0aGlzLl9jYW52YXNDbG9ja1RpbWUtdC5zdGFydCt0LnN0YXJ0T2Zmc2V0KSx0LnN0YXJ0PD10aGlzLl9jYW52YXNDbG9ja1RpbWUmJnQuZW5kPj10aGlzLl9jYW52YXNDbG9ja1RpbWUpaWYodGhpcy5faXNQbGF5aW5nKXtpZih0LmVsZW1lbnRbMF0ucGF1c2VkKXt2YXIgbj10LmVsZW1lbnRbMF0ucGxheSgpO24mJm4uY2F0Y2goKGZ1bmN0aW9uKCl7fSkpfX1lbHNlIHRoaXMuX3BhdXNlTWVkaWEodC5lbGVtZW50WzBdKTtlbHNlIHRoaXMuX3BhdXNlTWVkaWEodC5lbGVtZW50WzBdKTt0LmVsZW1lbnRbMF0uY3VycmVudFRpbWU+dC5lbGVtZW50WzBdLmR1cmF0aW9uLXQuZW5kT2Zmc2V0JiZ0aGlzLl9wYXVzZU1lZGlhKHQuZWxlbWVudFswXSl9dGhpcy5sb2dNZXNzYWdlKFwiU1lOQyBNRURJQSBhdDogXCIrdGhpcy5fY2FudmFzQ2xvY2tUaW1lK1wiIHNlY29uZHMuXCIpfSxlLnByb3RvdHlwZS5fY2hlY2tNZWRpYVN5bmNocm9uaXphdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPTAsbj10aGlzLl9jb250ZW50QW5ub3RhdGlvbnMubGVuZ3RoO2U8bjtlKyspaWYoKHQ9dGhpcy5fY29udGVudEFubm90YXRpb25zW2VdKS5zdGFydDw9dGhpcy5fY2FudmFzQ2xvY2tUaW1lJiZ0LmVuZD49dGhpcy5fY2FudmFzQ2xvY2tUaW1lKXt2YXIgaT10aGlzLl9jYW52YXNDbG9ja1RpbWUtdC5zdGFydCt0LnN0YXJ0T2Zmc2V0LHI9dC5lbGVtZW50WzBdLmN1cnJlbnRUaW1lO2lmKE1hdGguYWJzKHItaSk+dGhpcy5fbWVkaWFTeW5jTWFyZ2luU2Vjcyl7dC5vdXRPZlN5bmM9ITA7dmFyIGE9TWF0aC5hYnMoci1pKTt0aGlzLmxvZ01lc3NhZ2UoXCJERVRFQ1RFRCBzeW5jaHJvbml6YXRpb24gbGFnOiBcIitNYXRoLmFicyhhKSksdGhpcy5fc2V0TWVkaWFDdXJyZW50VGltZSh0LmVsZW1lbnRbMF0saSl9ZWxzZSB0Lm91dE9mU3luYz0hMX19LGUucHJvdG90eXBlLl9wbGF5YmFja1N0YWxsZWQ9ZnVuY3Rpb24odCxlKXtpZih0KXRoaXMuX3N0YWxsUmVxdWVzdGVkQnkuaW5kZXhPZihlKTwwJiZ0aGlzLl9zdGFsbFJlcXVlc3RlZEJ5LnB1c2goZSksdGhpcy5faXNTdGFsbGVkfHwodGhpcy4kcGxheWVyRWxlbWVudCx0aGlzLl93YXNQbGF5aW5nPXRoaXMuX2lzUGxheWluZyx0aGlzLnBhdXNlKCEwKSx0aGlzLl9pc1N0YWxsZWQ9dCk7ZWxzZXt2YXIgbj10aGlzLl9zdGFsbFJlcXVlc3RlZEJ5LmluZGV4T2YoZSk7bj49MCYmdGhpcy5fc3RhbGxSZXF1ZXN0ZWRCeS5zcGxpY2UobiwxKSwwPT09dGhpcy5fc3RhbGxSZXF1ZXN0ZWRCeS5sZW5ndGgmJih0aGlzLl9pc1N0YWxsZWQmJnRoaXMuX3dhc1BsYXlpbmcmJnRoaXMucGxheSghMCksdGhpcy5faXNTdGFsbGVkPXQpfX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7aWYodGhpcy4kcGxheWVyRWxlbWVudCl7dmFyIHQ9dGhpcy5fJGNhbnZhc0NvbnRhaW5lci53aWR0aCgpO2lmKHQpe3RoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci53aWR0aCh0KTt2YXIgZT10aGlzLiRwbGF5ZXJFbGVtZW50LmZpbmQoXCIub3B0aW9ucy1jb250YWluZXJcIik7dm9pZCAwIT09dGhpcy5fZGF0YS5oYWx2ZUF0V2lkdGgmJnRoaXMuJHBsYXllckVsZW1lbnQucGFyZW50KCkud2lkdGgoKTx0aGlzLl9kYXRhLmhhbHZlQXRXaWR0aD90aGlzLl8kY2FudmFzQ29udGFpbmVyLmhlaWdodCh0aGlzLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLmhlaWdodCgpLzIpOnRoaXMuXyRjYW52YXNDb250YWluZXIuaGVpZ2h0KHRoaXMuJHBsYXllckVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCktZS5oZWlnaHQoKSl9aWYodGhpcy5fd2F2ZWZvcm1DYW52YXMpe3ZhciBuPXRoaXMuXyRjYW52YXNDb250YWluZXIud2lkdGgoKSxpPXRoaXMuXyRjYW52YXNDb250YWluZXIuaGVpZ2h0KCk7dGhpcy5fd2F2ZWZvcm1DYW52YXMud2lkdGg9bix0aGlzLl93YXZlZm9ybUNhbnZhcy5oZWlnaHQ9aX10aGlzLl9yZW5kZXIoKX19LGV9KGEuQmFzZUNvbXBvbmVudCk7ZS5DYW52YXNJbnN0YW5jZT1mO3ZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5ORVhUX1JBTkdFPVwibmV4dHJhbmdlXCIsdC5QQVVTRUNBTlZBUz1cInBhdXNlXCIsdC5QTEFZQ0FOVkFTPVwicGxheVwiLHQuUFJFVklPVVNfUkFOR0U9XCJwcmV2aW91c3JhbmdlXCIsdH0oKTtlLkNhbnZhc0luc3RhbmNlRXZlbnRzPV99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpczt0aGlzLmxlbmd0aD0wLHRoaXMuZHVyYXRpb249MCx0aGlzLnBpeGVsc1BlclNlY29uZD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuc2Vjb25kc1BlclBpeGVsPU51bWJlci5NQVhfVkFMVUUsdGhpcy5fd2F2ZWZvcm1zPVtdLHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5fd2F2ZWZvcm1zLnB1c2goe3N0YXJ0OmUubGVuZ3RoLGVuZDplLmxlbmd0aCt0LmFkYXB0ZXIubGVuZ3RoLHdhdmVmb3JtOnR9KSxlLmxlbmd0aCs9dC5hZGFwdGVyLmxlbmd0aCxlLmR1cmF0aW9uKz10LmR1cmF0aW9uLGUucGl4ZWxzUGVyU2Vjb25kPU1hdGgubWluKGUucGl4ZWxzUGVyU2Vjb25kLHQucGl4ZWxzX3Blcl9zZWNvbmQpLGUuc2Vjb25kc1BlclBpeGVsPU1hdGgubWluKGUuc2Vjb25kc1BlclBpeGVsLHQuc2Vjb25kc19wZXJfcGl4ZWwpfSkpfXJldHVybiB0LnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZmluZCh0KTtyZXR1cm4gZT9lLndhdmVmb3JtLm1pbl9zYW1wbGUodC1lLnN0YXJ0KTowfSx0LnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZmluZCh0KTtyZXR1cm4gZT9lLndhdmVmb3JtLm1heF9zYW1wbGUodC1lLnN0YXJ0KTowfSx0LnByb3RvdHlwZS5fZmluZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl93YXZlZm9ybXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdD49ZS5zdGFydCYmdDxlLmVuZH0pKTtyZXR1cm4gZS5sZW5ndGg+MD9lWzBdOm51bGx9LHR9KCk7ZS5Db21wb3NpdGVXYXZlZm9ybT1pfV0pfSkpOyIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiSUlJRlRyZWVDb21wb25lbnRcIixbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLklJSUZUcmVlQ29tcG9uZW50PXQoKTplLklJSUZUcmVlQ29tcG9uZW50PXQoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcj10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciByIGluIGUpbi5kKGkscixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTIpfShbZnVuY3Rpb24oZSx0LG4pe1widW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcj10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciByIGluIGUpbi5kKGkscixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTQpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7Zm9yKHZhciBuIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09ZVtuXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaShuKDYpKSxpKG4oNykpLGkobig4KSksaShuKDkpKSxpKG4oMTApKSxpKG4oMTEpKSxpKG4oMTIpKSxpKG4oMTMpKSxpKG4oMTQpKSxpKG4oMTUpKSxpKG4oMTYpKSxpKG4oMTcpKSxpKG4oMTgpKSxpKG4oMTkpKSxpKG4oMjApKSxpKG4oMjEpKSxpKG4oMjIpKSxpKG4oMjMpKSxpKG4oMjQpKSxpKG4oMjUpKSxpKG4oMjYpKSxpKG4oMjcpKSxpKG4oMjgpKSxpKG4oMjkpKSxpKG4oMzApKSxpKG4oMzEpKSxpKG4oMzIpKSxpKG4oMikpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5CT09LTUFSS0lORz1cIm9hOmJvb2ttYXJraW5nXCIsZS5DTEFTU0lGWUlORz1cIm9hOmNsYXNzaWZ5aW5nXCIsZS5DT01NRU5USU5HPVwib2E6Y29tbWVudGluZ1wiLGUuREVTQ1JJQklORz1cIm9hOmRlc2NyaWJpbmdcIixlLkVESVRJTkc9XCJvYTplZGl0aW5nXCIsZS5ISUdITElHSFRJTkc9XCJvYTpoaWdobGlnaHRpbmdcIixlLklERU5USUZZSU5HPVwib2E6aWRlbnRpZnlpbmdcIixlLkxJTktJTkc9XCJvYTpsaW5raW5nXCIsZS5NT0RFUkFUSU5HPVwib2E6bW9kZXJhdGluZ1wiLGUuUEFJTlRJTkc9XCJzYzpwYWludGluZ1wiLGUuUVVFU1RJT05JTkc9XCJvYTpxdWVzdGlvbmluZ1wiLGUuUkVQTFlJTkc9XCJvYTpyZXBseWluZ1wiLGUuVEFHR0lORz1cIm9hOnRhZ2dpbmdcIixlLlRSQU5TQ1JJQklORz1cIm9hZDp0cmFuc2NyaWJpbmdcIn0odC5Bbm5vdGF0aW9uTW90aXZhdGlvbnx8KHQuQW5ub3RhdGlvbk1vdGl2YXRpb249e30pKSxmdW5jdGlvbihlKXtlLkFVVE9fQURWQU5DRT1cImF1dG8tYWR2YW5jZVwiLGUuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLkZBQ0lOR19QQUdFUz1cImZhY2luZy1wYWdlc1wiLGUuSElEREVOPVwiaGlkZGVuXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5NVUxUSV9QQVJUPVwibXVsdGktcGFydFwiLGUuTk9fTkFWPVwibm8tbmF2XCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlJFUEVBVD1cInJlcGVhdFwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwiLGUuVEhVTUJOQUlMX05BVj1cInRodW1ibmFpbC1uYXZcIixlLlRPR0VUSEVSPVwidG9nZXRoZXJcIixlLlVOT1JERVJFRD1cInVub3JkZXJlZFwifSh0LkJlaGF2aW9yfHwodC5CZWhhdmlvcj17fSkpLGZ1bmN0aW9uKGUpe2UuQ0FOVkFTPVwiY2FudmFzXCIsZS5DSE9JQ0U9XCJjaG9pY2VcIixlLkNPTlRFTlRfQVNfVEVYVD1cImNvbnRlbnRhc3RleHRcIixlLkRPQ1VNRU5UPVwiZG9jdW1lbnRcIixlLklNQUdFPVwiaW1hZ2VcIixlLk1PVklOR19JTUFHRT1cIm1vdmluZ2ltYWdlXCIsZS5QREY9XCJwZGZcIixlLlBIWVNJQ0FMX09CSkVDVD1cInBoeXNpY2Fsb2JqZWN0XCIsZS5TT1VORD1cInNvdW5kXCIsZS5URVhUVUFMQk9EWT1cInRleHR1YWxib2R5XCIsZS5WSURFTz1cInZpZGVvXCJ9KHQuRXh0ZXJuYWxSZXNvdXJjZVR5cGV8fCh0LkV4dGVybmFsUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5BTk5PVEFUSU9OPVwiYW5ub3RhdGlvblwiLGUuQ0FOVkFTPVwiY2FudmFzXCIsZS5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLGUuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLGUuUkFOR0U9XCJyYW5nZVwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwifSh0LklJSUZSZXNvdXJjZVR5cGV8fCh0LklJSUZSZXNvdXJjZVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkFVRElPX01QND1cImF1ZGlvL21wNFwiLGUuQ09SVE89XCJhcHBsaWNhdGlvbi9jb3J0b1wiLGUuRFJBQ089XCJhcHBsaWNhdGlvbi9kcmFjb1wiLGUuR0xURj1cIm1vZGVsL2dsdGYranNvblwiLGUuSlBHPVwiaW1hZ2UvanBlZ1wiLGUuTTNVOD1cImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsZS5NUDM9XCJhdWRpby9tcDNcIixlLk1QRUdfREFTSD1cImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsZS5PQko9XCJ0ZXh0L3BsYWluXCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIixlLlBMWT1cImFwcGxpY2F0aW9uL3BseVwiLGUuVEhSRUVKUz1cImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIixlLlZJREVPX01QND1cInZpZGVvL21wNFwiLGUuV0VCTT1cInZpZGVvL3dlYm1cIn0odC5NZWRpYVR5cGV8fCh0Lk1lZGlhVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuRE9DPVwiYXBwbGljYXRpb24vbXN3b3JkXCIsZS5ET0NYPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIixlLlBERj1cImFwcGxpY2F0aW9uL3BkZlwifSh0LlJlbmRlcmluZ0Zvcm1hdHx8KHQuUmVuZGVyaW5nRm9ybWF0PXt9KSksZnVuY3Rpb24oZSl7ZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5BVVRIXzBfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzBfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCIsZS5BVVRIXzBfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIixlLkFVVEhfMF9SRVNUUklDVEVEPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCIsZS5BVVRIXzBfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCIsZS5BVVRIXzFfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzFfRVhURVJOQUw9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCIsZS5BVVRIXzFfS0lPU0s9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCIsZS5BVVRIXzFfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCIsZS5BVVRIXzFfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIixlLkFVVEhfMV9QUk9CRT1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIixlLkFVVEhfMV9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIixlLlNFQVJDSF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiLGUuU0VBUkNIXzBfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIixlLlNFQVJDSF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiLGUuU0VBUkNIXzFfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIixlLlRSQUNLSU5HX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuVUlfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5QUklOVF9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIixlLlNIQVJFX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuT1RIRVJfTUFOSUZFU1RBVElPTlM9XCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCIsZS5JWElGPVwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIn0odC5TZXJ2aWNlUHJvZmlsZXx8KHQuU2VydmljZVByb2ZpbGU9e30pKSxmdW5jdGlvbihlKXtlLkJPVFRPTV9UT19UT1A9XCJib3R0b20tdG8tdG9wXCIsZS5MRUZUX1RPX1JJR0hUPVwibGVmdC10by1yaWdodFwiLGUuUklHSFRfVE9fTEVGVD1cInJpZ2h0LXRvLWxlZnRcIixlLlRPUF9UT19CT1RUT009XCJ0b3AtdG8tYm90dG9tXCJ9KHQuVmlld2luZ0RpcmVjdGlvbnx8KHQuVmlld2luZ0RpcmVjdGlvbj17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIixlLk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLGUuUEFHRUQ9XCJwYWdlZFwiLGUuVE9QPVwidG9wXCJ9KHQuVmlld2luZ0hpbnR8fCh0LlZpZXdpbmdIaW50PXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHIsbyl7ZnVuY3Rpb24gYShlKXt0cnl7dShpLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e3UoaS50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gdShlKXt2YXIgdDtlLmRvbmU/cihlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX11KChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LHI9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnJbMF0pdGhyb3cgclsxXTtyZXR1cm4gclsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIHMobyl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKG49MSxpJiYocj0yJm9bMF0/aS5yZXR1cm46b1swXT9pLnRocm93fHwoKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSksMCk6aS5uZXh0KSYmIShyPXIuY2FsbChpLG9bMV0pKS5kb25lKXJldHVybiByO3N3aXRjaChpPTAsciYmKG89WzImb1swXSxyLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpyPW87YnJlYWs7Y2FzZSA0OnJldHVybiBhLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OmEubGFiZWwrKyxpPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89YS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShyPShyPWEudHJ5cykubGVuZ3RoPjAmJnJbci5sZW5ndGgtMV0pJiYoNj09PW9bMF18fDI9PT1vWzBdKSl7YT0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIXJ8fG9bMV0+clswXSYmb1sxXTxyWzNdKSl7YS5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZhLmxhYmVsPHJbMV0pe2EubGFiZWw9clsxXSxyPW87YnJlYWt9aWYociYmYS5sYWJlbDxyWzJdKXthLmxhYmVsPXJbMl0sYS5vcHMucHVzaChvKTticmVha31yWzJdJiZhLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxhKX1jYXRjaChlKXtvPVs2LGVdLGk9MH1maW5hbGx5e249cj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxzXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPW4oMSkscz1uKDMzKTtuKDM0KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKGUpe3JldHVybihlPShlPWUudG9Mb3dlckNhc2UoKSkuc3BsaXQoXCI7XCIpWzBdKS50cmltKCl9LGUuZ2V0SW1hZ2VRdWFsaXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzJ8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMnx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzJ8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzJ8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yP1wibmF0aXZlXCI6XCJkZWZhdWx0XCJ9LGUuZ2V0SW5leGFjdExvY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIi1cIik/ZS5zdWJzdHIoMCxlLmluZGV4T2YoXCItXCIpKTplfSxlLmdldExvY2FsaXNlZFZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYodD09PWlbXCJAbGFuZ3VhZ2VcIl0pcmV0dXJuIGlbXCJAdmFsdWVcIl19dmFyIHI9dC5zdWJzdHIoMCx0LmluZGV4T2YoXCItXCIpKTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO2lmKG9bXCJAbGFuZ3VhZ2VcIl09PT1yKXJldHVybiBvW1wiQHZhbHVlXCJdfXJldHVybiBudWxsfSxlLmdlbmVyYXRlVHJlZU5vZGVJZHM9ZnVuY3Rpb24odCxuKXt2YXIgaTt2b2lkIDA9PT1uJiYobj0wKSxpPXQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuaWQrXCItXCIrbjpcIjBcIix0LmlkPWk7Zm9yKHZhciByPTA7cjx0Lm5vZGVzLmxlbmd0aDtyKyspe3ZhciBvPXQubm9kZXNbcl07ZS5nZW5lcmF0ZVRyZWVOb2RlSWRzKG8scil9fSxlLm5vcm1hbGlzZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT0oZT1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCI6XCIpP2Uuc3BsaXQoXCI6XCIpWzFdOmV9LGUubm9ybWFsaXNlVXJsPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09KGU9ZS5zdWJzdHIoZS5pbmRleE9mKFwiOi8vXCIpKSkuaW5kZXhPZihcIiNcIikmJihlPWUuc3BsaXQoXCIjXCIpWzBdKSxlfSxlLm5vcm1hbGlzZWRVcmxzTWF0Y2g9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5ub3JtYWxpc2VVcmwodCk9PT1lLm5vcm1hbGlzZVVybChuKX0sZS5pc0ltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sZS5pc0xldmVsMEltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApKX0sZS5pc0xldmVsMUltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpKX0sZS5pc0xldmVsMkltYWdlUHJvZmlsZT1mdW5jdGlvbih0KXtyZXR1cm4hIShlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sZS5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uRGVzZXJpYWxpc2VyLnBhcnNlKGUsdCl9LGUuY2hlY2tTdGF0dXM9ZnVuY3Rpb24oZSl7aWYoZS5vaylyZXR1cm4gZTt2YXIgdD1uZXcgRXJyb3IoZS5zdGF0dXNUZXh0KTtyZXR1cm4gdC5yZXNwb25zZT1lLFByb21pc2UucmVqZWN0KHQpfSxlLmxvYWRNYW5pZmVzdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2ZldGNoKHQpLnRoZW4oZS5jaGVja1N0YXR1cykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe24oZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VzQXV0aDE9ZnVuY3Rpb24odCxuLGkscixvLGEscyx1KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGwsYyl7dmFyIHA9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDEodCxuLGkscixvLGEscyx1KX0pKTtQcm9taXNlLmFsbChwKS50aGVuKChmdW5jdGlvbigpe2wodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2MoZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMT1mdW5jdGlvbih0LG4sbyxhLHUsbCxjLHApe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGEodCldO2Nhc2UgMTpyZXR1cm4oaT1yLnNlbnQoKSk/WzQsdC5nZXREYXRhKGkpXTpbMyw2XTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLHQuc3RhdHVzIT09cy5PSz9bMywzXTpbMix0XTtjYXNlIDM6cmV0dXJuWzQsZS5kb0F1dGhDaGFpbih0LG4sbyx1LGwsYyxwKV07Y2FzZSA0OnIuc2VudCgpLHIubGFiZWw9NTtjYXNlIDU6aWYodC5zdGF0dXM9PT1zLk9LfHx0LnN0YXR1cz09PXMuTU9WRURfVEVNUE9SQVJJTFkpcmV0dXJuWzIsdF07dGhyb3cgZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKTtjYXNlIDY6cmV0dXJuWzQsdC5nZXREYXRhKCldO2Nhc2UgNzpyZXR1cm4gci5zZW50KCksdC5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZJiZ0LnN0YXR1cyE9PXMuVU5BVVRIT1JJWkVEP1szLDldOls0LGUuZG9BdXRoQ2hhaW4odCxuLG8sdSxsLGMscCldO2Nhc2UgODpyLnNlbnQoKSxyLmxhYmVsPTk7Y2FzZSA5OmlmKHQuc3RhdHVzPT09cy5PS3x8dC5zdGF0dXM9PT1zLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLHRdO3Rocm93IGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCl9fSkpfSkpfSxlLmRvQXV0aENoYWluPWZ1bmN0aW9uKHQsbixvLGEsdSxsLGMpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxwLGYsaCxkLGcsXyx2O3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQuaXNBY2Nlc3NDb250cm9sbGVkKCk/KChpPXQuZXh0ZXJuYWxTZXJ2aWNlKSYmKGkub3B0aW9ucz10Lm9wdGlvbnMpLChwPXQua2lvc2tTZXJ2aWNlKSYmKHAub3B0aW9ucz10Lm9wdGlvbnMpLChmPXQuY2xpY2tUaHJvdWdoU2VydmljZSkmJihmLm9wdGlvbnM9dC5vcHRpb25zKSwoaD10LmxvZ2luU2VydmljZSkmJihoLm9wdGlvbnM9dC5vcHRpb25zKSx0LmlzUmVzcG9uc2VIYW5kbGVkfHx0LnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFk/WzMsMl06WzQsbCh0KV0pOlsyLHRdO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSAyOnJldHVybiBkPW51bGwsZz1udWxsLChkPWkpPyhnPWQsWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLGQpXSk6WzMsNF07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDQ6cmV0dXJuKGQ9cCk/KGc9ZCwoXz1uKGQpKT9bNCxhKF8pXTpbMyw3XSk6WzMsN107Y2FzZSA1OnJldHVybiByLnNlbnQoKSxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sZCldO2Nhc2UgNjpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSA3OnJldHVybihkPWYpPyhnPWQsWzQsdSh0LGQpXSk6WzMsMTFdO2Nhc2UgODpyZXR1cm4odj1yLnNlbnQoKSk/WzQsYSh2KV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gci5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLGQpXTtjYXNlIDEwOnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDExOnJldHVybihkPWgpPyhnPWQsWzQsdSh0LGQpXSk6WzMsMTVdO2Nhc2UgMTI6cmV0dXJuKHY9ci5zZW50KCkpP1s0LGEodildOlszLDE1XTtjYXNlIDEzOnJldHVybiByLnNlbnQoKSxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sZCldO2Nhc2UgMTQ6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgMTU6cmV0dXJuIGcmJmModCxnKSxbMl19fSkpfSkpfSxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG87cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4oaT1uLmdldFNlcnZpY2UoYS5TZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pKT9bNCx0KGUsaSldOlszLDNdO2Nhc2UgMTpyZXR1cm4obz1yLnNlbnQoKSkmJm8uYWNjZXNzVG9rZW4/WzQsZS5nZXREYXRhKG8pXTpbMywzXTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgwOT1mdW5jdGlvbih0LG4saSxyLG8sYSxzLHUsbCxjKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHAsZil7dmFyIGg9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5KHQsbixpLHIsbyxhLHMsdSxsLGMpfSkpO1Byb21pc2UuYWxsKGgpLnRoZW4oKGZ1bmN0aW9uKCl7cCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ZihlKX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOT1mdW5jdGlvbih0LG4saSxyLG8sYSx1LGwsYyxwKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGYsaCl7cCYmcC5wZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w/dC5nZXREYXRhKCkudGhlbigoZnVuY3Rpb24oKXt0LmlzQWNjZXNzQ29udHJvbGxlZCgpP3QuY2xpY2tUaHJvdWdoU2VydmljZT8oZihpKHQpKSxmKHIodCkpKTpvKHQpLnRoZW4oKGZ1bmN0aW9uKCl7YSh0LCEwKS50aGVuKChmdW5jdGlvbihuKXt0LmdldERhdGEobikudGhlbigoZnVuY3Rpb24oKXtmKGModCkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmYodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpsKHQsbikudGhlbigoZnVuY3Rpb24ocCl7cD90LmdldERhdGEocCkudGhlbigoZnVuY3Rpb24oKXt0LnN0YXR1cz09PXMuT0s/ZihjKHQpKTplLmF1dGhvcml6ZSh0LG4saSxyLG8sYSx1LGwpLnRoZW4oKGZ1bmN0aW9uKCl7ZihjKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKTplLmF1dGhvcml6ZSh0LG4saSxyLG8sYSx1LGwpLnRoZW4oKGZ1bmN0aW9uKCl7ZihjKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKX0sZS5jcmVhdGVFcnJvcj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBFcnJvcjtyZXR1cm4gbi5tZXNzYWdlPXQsbi5uYW1lPVN0cmluZyhlKSxufSxlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5BVVRIT1JJWkFUSU9OX0ZBSUxFRCxcIkF1dGhvcml6YXRpb24gZmFpbGVkXCIpfSxlLmNyZWF0ZVJlc3RyaWN0ZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5SRVNUUklDVEVELFwiUmVzdHJpY3RlZFwiKX0sZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVycm9yKG8uU3RhdHVzQ29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IsdCl9LGUuYXV0aG9yaXplPWZ1bmN0aW9uKHQsbixpLHIsbyxhLHUsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihjLHApe3QuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5pc0FjY2Vzc0NvbnRyb2xsZWQoKT9sKHQsbikudGhlbigoZnVuY3Rpb24obCl7bD90LmdldERhdGEobCkudGhlbigoZnVuY3Rpb24oKXt0LnN0YXR1cz09PXMuT0s/Yyh0KTplLnNob3dBdXRoSW50ZXJhY3Rpb24odCxuLGkscixvLGEsdSxjLHApfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6YSh0LCExKS50aGVuKChmdW5jdGlvbihsKXtsP3UodCxsLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKGwpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1zLk9LP2ModCk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixpLHIsbyxhLHUsYyxwKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixpLHIsbyxhLHUsYyxwKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmModCl9KSl9KSl9LGUuc2hvd0F1dGhJbnRlcmFjdGlvbj1mdW5jdGlvbih0LG4saSxyLG8sYSx1LGwsYyl7dC5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZfHx0LmlzUmVzcG9uc2VIYW5kbGVkP3QuY2xpY2tUaHJvdWdoU2VydmljZSYmIXQuaXNSZXNwb25zZUhhbmRsZWQ/aSh0KS50aGVuKChmdW5jdGlvbigpe2EodCwhMCkudGhlbigoZnVuY3Rpb24oaSl7dSh0LGksbikudGhlbigoZnVuY3Rpb24oKXt0LmdldERhdGEoaSkudGhlbigoZnVuY3Rpb24oKXtsKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpOm8odCkudGhlbigoZnVuY3Rpb24oKXthKHQsITApLnRoZW4oKGZ1bmN0aW9uKGkpe3UodCxpLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKGkpLnRoZW4oKGZ1bmN0aW9uKCl7bCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKTpsKHQpfSxlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5nZXRTZXJ2aWNlcyhlKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5nZXRQcm9maWxlKCk9PT10KXJldHVybiByfXJldHVybiBudWxsfSxlLmdldFJlc291cmNlQnlJZD1mdW5jdGlvbih0LG4pe3JldHVybiBlLnRyYXZlcnNlQW5kRmluZCh0Ll9fanNvbmxkLFwiQGlkXCIsbil9LGUudHJhdmVyc2VBbmRGaW5kPWZ1bmN0aW9uKHQsbixpKXtpZih0Lmhhc093blByb3BlcnR5KG4pJiZ0W25dPT09aSlyZXR1cm4gdDtmb3IodmFyIHI9MDtyPE9iamVjdC5rZXlzKHQpLmxlbmd0aDtyKyspaWYoXCJvYmplY3RcIj09dHlwZW9mIHRbT2JqZWN0LmtleXModClbcl1dKXt2YXIgbz1lLnRyYXZlcnNlQW5kRmluZCh0W09iamVjdC5rZXlzKHQpW3JdXSxuLGkpO2lmKG51bGwhPW8pcmV0dXJuIG99fSxlLmdldFNlcnZpY2VzPWZ1bmN0aW9uKGUpe3ZhciB0LG49W107aWYoISh0PWUuX19qc29ubGQ/ZS5fX2pzb25sZC5zZXJ2aWNlOmUuc2VydmljZSkpcmV0dXJuIG47QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dFtpXTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcil7dmFyIGE9dGhpcy5nZXRSZXNvdXJjZUJ5SWQoZS5vcHRpb25zLnJlc291cmNlLHIpO2EmJm4ucHVzaChuZXcgby5TZXJ2aWNlKGEuX19qc29ubGR8fGEsZS5vcHRpb25zKSl9ZWxzZSBuLnB1c2gobmV3IG8uU2VydmljZShyLGUub3B0aW9ucykpfXJldHVybiBufSxlLmdldFRlbXBvcmFsQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciB0PS90PShbXiZdKykvZy5leGVjKGUpLG49bnVsbDtyZXR1cm4gdCYmdFsxXSYmKG49dFsxXS5zcGxpdChcIixcIikpLG59LGV9KCk7dC5VdGlscz11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdCxvPVtdLGE9W10scz17fSx1PWZ1bmN0aW9uKCl7cmV0dXJue29rOjI9PShyLnN0YXR1cy8xMDB8MCksc3RhdHVzVGV4dDpyLnN0YXR1c1RleHQsc3RhdHVzOnIuc3RhdHVzLHVybDpyLnJlc3BvbnNlVVJMLHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShyLnJlc3BvbnNlVGV4dCkpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbci5yZXNwb25zZV0pKX0sY2xvbmU6dSxoZWFkZXJzOntrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBzW2UudG9Mb3dlckNhc2UoKV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpaW4gc319fX07Zm9yKHZhciBsIGluIHIub3Blbih0Lm1ldGhvZHx8XCJnZXRcIixlLCEwKSxyLm9ubG9hZD1mdW5jdGlvbigpe3IuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLChmdW5jdGlvbihlLHQsbil7by5wdXNoKHQ9dC50b0xvd2VyQ2FzZSgpKSxhLnB1c2goW3Qsbl0pLHNbdF09c1t0XT9zW3RdK1wiLFwiK246bn0pKSxuKHUoKSl9LHIub25lcnJvcj1pLHIud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT10LmNyZWRlbnRpYWxzLHQuaGVhZGVycylyLnNldFJlcXVlc3RIZWFkZXIobCx0LmhlYWRlcnNbbF0pO3Iuc2VuZCh0LmJvZHl8fG51bGwpfSkpfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDUpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShuKXx8KHRbbl09ZVtuXSl9KG4oMCkpO3ZhciBpPW4oMik7dC5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuVXRpbHMubG9hZE1hbmlmZXN0KGUpfSx0LnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5VdGlscy5wYXJzZU1hbmlmZXN0KGUsdCl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX19qc29ubGQ9ZSx0aGlzLmNvbnRleHQ9dGhpcy5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksdGhpcy5pZD10aGlzLmdldFByb3BlcnR5KFwiaWRcIil9cmV0dXJuIGUucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7cmV0dXJuIHRoaXMuX19qc29ubGQmJigodD10aGlzLl9fanNvbmxkW2VdKXx8KHQ9dGhpcy5fX2pzb25sZFtcIkBcIitlXSkpLHR9LGV9KCk7dC5KU09OTERSZXNvdXJjZT1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPW4oMSkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGkub3B0aW9ucz1uLGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy5nZXRMYWJlbCgpKX0sdC5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibWV0YWRhdGFcIiksdD1bXTtpZighZSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpO3IucGFyc2UoaSksdC5wdXNoKHIpfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRSZW5kZXJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0UmVuZGVyaW5ncygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLmdldEZvcm1hdCgpPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0UmVuZGVyaW5ncz1mdW5jdGlvbigpe3ZhciBlLHQ9W107aWYoIShlPXRoaXMuX19qc29ubGQ/dGhpcy5fX2pzb25sZC5yZW5kZXJpbmc6dGhpcy5yZW5kZXJpbmcpKXJldHVybiB0O0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07dC5wdXNoKG5ldyBvLlJlbmRlcmluZyhpLHRoaXMub3B0aW9ucykpfXJldHVybiB0fSx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlPWZ1bmN0aW9uKGUpe3JldHVybiBvLlV0aWxzLmdldFNlcnZpY2UodGhpcyxlKX0sdC5wcm90b3R5cGUuZ2V0U2VydmljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRTZXJ2aWNlcyh0aGlzKX0sdC5wcm90b3R5cGUuZ2V0VGh1bWJuYWlsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZT9uZXcgby5UaHVtYm5haWwoZSx0aGlzLm9wdGlvbnMpOm51bGx9LHQucHJvdG90eXBlLmlzQW5ub3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5BTk5PVEFUSU9OfSx0LnByb3RvdHlwZS5pc0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5DQU5WQVN9LHQucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OfSx0LnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUfSx0LnByb3RvdHlwZS5pc1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLlJBTkdFfSx0LnByb3RvdHlwZS5pc1NlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLlNFUVVFTkNFfSx0fShvLkpTT05MRFJlc291cmNlKTt0Lk1hbmlmZXN0UmVzb3VyY2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiBlP2UudG9Mb3dlckNhc2UoKTpudWxsfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZighdGhpcy5fX2pzb25sZC5yZXNvdXJjZXMpcmV0dXJuIGU7Zm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLnJlc291cmNlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnJlc291cmNlc1t0XSxpPW5ldyBvLkFubm90YXRpb24obix0aGlzLm9wdGlvbnMpO2UucHVzaChpKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpO3JldHVybiBlP28uVXRpbHMubm9ybWFsaXNlVHlwZShlKTpudWxsfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0LnByb3RvdHlwZS5nZXRNYXhXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4V2lkdGhcIil9LHQucHJvdG90eXBlLmdldE1heEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4SGVpZ2h0XCIpP251bGw6dGhpcy5nZXRNYXhXaWR0aCgpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmVzb3VyY2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1uKDEpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7aS5pbmRleD0tMSxpLmlzTG9hZGVkPSExO3ZhciByPXtkZWZhdWx0TGFiZWw6XCItXCIsbG9jYWxlOlwiZW4tR0JcIixyZXNvdXJjZTppLHBlc3NpbWlzdGljQWNjZXNzQ29udHJvbDohMX07cmV0dXJuIGkub3B0aW9ucz1PYmplY3QuYXNzaWduKHIsbiksaX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImF0dHJpYnV0aW9uXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIik7cmV0dXJuIGU/by5MYW5ndWFnZU1hcC5wYXJzZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExvZ289ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibG9nb1wiKTtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9lOihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmKGU9ZVswXSksZVtcIkBpZFwiXXx8ZS5pZCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0TGljZW5zZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsaWNlbnNlXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXROYXZEYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuZ2V0UHJvcGVydHkoXCJuYXZEYXRlXCIpKX0sdC5wcm90b3R5cGUuZ2V0UmVsYXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVsYXRlZFwiKX0sdC5wcm90b3R5cGUuZ2V0U2VlQWxzbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwic2VlQWxzb1wiKX0sdC5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VydmljZShhLlNlcnZpY2VQcm9maWxlLlRSQUNLSU5HX0VYVEVOU0lPTlMpO3JldHVybiBlP2UuZ2V0UHJvcGVydHkoXCJ0cmFja2luZ0xhYmVsXCIpOlwiXCJ9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU9bmV3IG8uVHJlZU5vZGUoXCJyb290XCIpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YT10aGlzLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLmdldFJlcXVpcmVkU3RhdGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbCx0PXRoaXMuZ2V0UHJvcGVydHkoXCJyZXF1aXJlZFN0YXRlbWVudFwiKTtpZih0KShlPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS5wYXJzZSh0KTtlbHNle3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRpb24oKTtuJiYoKGU9bmV3IG8uTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSkpLnZhbHVlPW4pfXJldHVybiBlfSx0LnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sdC5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtpZihlLmlzTG9hZGVkKXQoZSk7ZWxzZXt2YXIgbj1lLm9wdGlvbnM7bi5uYXZEYXRlPWUuZ2V0TmF2RGF0ZSgpO3ZhciBpPWUuX19qc29ubGQuaWQ7aXx8KGk9ZS5fX2pzb25sZFtcIkBpZFwiXSksby5VdGlscy5sb2FkTWFuaWZlc3QoaSkudGhlbigoZnVuY3Rpb24oaSl7ZS5wYXJlbnRMYWJlbD1vLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUuZ2V0TGFiZWwoKSxuLmxvY2FsZSk7dmFyIHI9by5EZXNlcmlhbGlzZXIucGFyc2UoaSxuKTsoZT1PYmplY3QuYXNzaWduKGUscikpLmluZGV4PW4uaW5kZXgsdChlKX0pKX19KSl9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5JSUlGUmVzb3VyY2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzLmdldFByb3BlcnR5KFwiYm9keVwiKTtpZih0KWlmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoKGE9dFtuXSkuaXRlbXMpZm9yKHZhciBpPTA7aTxhLml0ZW1zLmxlbmd0aDtpKyspe3ZhciByPWEuaXRlbXNbaV07ZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KHIsdGhpcy5vcHRpb25zKSl9ZWxzZSBlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkoYSx0aGlzLm9wdGlvbnMpKTtlbHNlIGlmKHQuaXRlbXMpZm9yKG49MDtuPHQuaXRlbXMubGVuZ3RoO24rKyl7dmFyIGE9dC5pdGVtc1tuXTtlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkoYSx0aGlzLm9wdGlvbnMpKX1lbHNlIGUucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keSh0LHRoaXMub3B0aW9ucykpO3JldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNb3RpdmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtb3RpdmF0aW9uXCIpfHxudWxsfSx0LnByb3RvdHlwZS5nZXRPbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwib25cIil9LHQucHJvdG90eXBlLmdldFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0XCIpfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBuZXcgby5SZXNvdXJjZSh0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VcIiksdGhpcy5vcHRpb25zKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb249YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiBlP28uVXRpbHMuZ2V0TWVkaWFUeXBlKGUpOm51bGx9LHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik/by5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKTpudWxsfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuQW5ub3RhdGlvbkJvZHk9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpKXt2YXIgcj1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gci5sYWJlbD10LHIub3B0aW9ucz1pLHJ9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LHQucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LHQucHJvdG90eXBlLmdldFJlc291cmNlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZXNcIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQW5ub3RhdGlvbih0LGUub3B0aW9ucyl9KSl9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtpZihlLmlzTG9hZGVkKXQoZSk7ZWxzZXt2YXIgaT1lLl9fanNvbmxkLmlkO2l8fChpPWUuX19qc29ubGRbXCJAaWRcIl0pLG8uVXRpbHMubG9hZE1hbmlmZXN0KGkpLnRoZW4oKGZ1bmN0aW9uKG4pe2UuX19qc29ubGQ9bixlLmNvbnRleHQ9ZS5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksZS5pZD1lLmdldFByb3BlcnR5KFwiaWRcIiksZS5pc0xvYWRlZD0hMCx0KGUpfSkpLmNhdGNoKG4pfX0pKX0sdH0oby5KU09OTERSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uTGlzdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0SXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIml0ZW1zXCIpfSx0fShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO3QuQW5ub3RhdGlvblBhZ2U9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRDYW5vbmljYWxJbWFnZVVyaT1mdW5jdGlvbihlKXt2YXIgdCxuPW51bGwsaT1cImRlZmF1bHRcIixyPWU7aWYodGhpcy5leHRlcm5hbFJlc291cmNlJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0pbj10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBpZFwiXSxyfHwocj10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS53aWR0aCksdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXSYmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xLjAvY29udGV4dC5qc29uXCIpPi0xfHx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4xL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEvY29udGV4dC5qc29uXCIpPi0xKSYmKGk9XCJuYXRpdmVcIik7ZWxzZXt2YXIgYT10aGlzLmdldEltYWdlcygpO2lmKGEmJmEubGVuZ3RoKXt2YXIgcz1hWzBdLmdldFJlc291cmNlKCksdT1zLmdldFNlcnZpY2VzKCk7aWYocnx8KHI9cy5nZXRXaWR0aCgpKSx1Lmxlbmd0aCl7dmFyIGw9dVswXTtuPWwuaWQsaT1vLlV0aWxzLmdldEltYWdlUXVhbGl0eShsLmdldFByb2ZpbGUoKSl9ZWxzZSBpZihyPT09cy5nZXRXaWR0aCgpKXJldHVybiBzLmlkfWlmKCFuKXt2YXIgYz10aGlzLmdldFByb3BlcnR5KFwidGh1bWJuYWlsXCIpO2lmKGMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBjKXJldHVybiBjO2lmKGNbXCJAaWRcIl0pcmV0dXJuIGNbXCJAaWRcIl07aWYoYy5sZW5ndGgpcmV0dXJuIGNbMF0uaWR9fX1yZXR1cm4gdD1yK1wiLFwiLG4mJm4uZW5kc1dpdGgoXCIvXCIpJiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLTEpKSxbbixcImZ1bGxcIix0LDAsaStcIi5qcGdcIl0uam9pbihcIi9cIil9LHQucHJvdG90eXBlLmdldE1heERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgZSx0PW51bGw7cmV0dXJuIHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUmJihlPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUsQXJyYXkuaXNBcnJheShlKSYmKGU9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1heFdpZHRofSkpWzBdKSYmKHQ9bmV3IG8uU2l6ZShlLm1heFdpZHRoLGUubWF4SGVpZ2h0P2UubWF4SGVpZ2h0OmUubWF4V2lkdGgpKSksdH0sdC5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5fX2pzb25sZC5pdGVtc3x8dGhpcy5fX2pzb25sZC5jb250ZW50O2lmKCF0KXJldHVybiBlO3ZhciBuPW51bGw7aWYodC5sZW5ndGgmJihuPW5ldyBvLkFubm90YXRpb25QYWdlKHRbMF0sdGhpcy5vcHRpb25zKSksIW4pcmV0dXJuIGU7Zm9yKHZhciBpPW4uZ2V0SXRlbXMoKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl0scz1uZXcgby5Bbm5vdGF0aW9uKGEsdGhpcy5vcHRpb25zKTtlLnB1c2gocyl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJkdXJhdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoIXRoaXMuX19qc29ubGQuaW1hZ2VzKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5pbWFnZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5pbWFnZXNbdF0saT1uZXcgby5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTtlLnB1c2goaSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpbmRleFwiKX0sdC5wcm90b3R5cGUuZ2V0T3RoZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PShBcnJheS5pc0FycmF5KHRoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIikpP3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIik6W3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIildKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YodD1lW1wiQHR5cGVcIl0pJiZ0LnRvTG93ZXJDYXNlKCk9PXQudG9Mb3dlckNhc2UoKTt2YXIgdH0pKS5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBvLkFubm90YXRpb25MaXN0KHQubGFiZWx8fFwiQW5ub3RhdGlvbiBsaXN0IFwiK24sdCxlLm9wdGlvbnMpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9hZCgpfSkpO3JldHVybiBQcm9taXNlLmFsbCh0KX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdH0oby5SZXNvdXJjZSk7dC5DYW52YXM9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSksYT1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGkuaXRlbXM9W10saS5fY29sbGVjdGlvbnM9bnVsbCxpLl9tYW5pZmVzdHM9bnVsbCx0Ll9fY29sbGVjdGlvbj1pLGl9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsZWN0aW9ucz90aGlzLl9jb2xsZWN0aW9uczp0aGlzLl9jb2xsZWN0aW9ucz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNDb2xsZWN0aW9uKCl9KSl9LHQucHJvdG90eXBlLmdldE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYW5pZmVzdHM/dGhpcy5fbWFuaWZlc3RzOnRoaXMuX21hbmlmZXN0cz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNNYW5pZmVzdCgpfSkpfSx0LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uQnlJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmdldENvbGxlY3Rpb25zKCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3IuaW5kZXg9PT1lJiYodD1yKX1pZih0KXJldHVybiB0Lm9wdGlvbnMuaW5kZXg9ZSx0LmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZFwiKX0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUluZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMuZ2V0TWFuaWZlc3RzKCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3IuaW5kZXg9PT1lJiYodD1yKX1pZih0KXJldHVybiB0Lm9wdGlvbnMuaW5kZXg9ZSx0LmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJNYW5pZmVzdCBpbmRleCBub3QgZm91bmRcIil9LHQucHJvdG90eXBlLmdldFRvdGFsQ29sbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0VG90YWxNYW5pZmVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNYW5pZmVzdHMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldFRvdGFsSXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGh9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6by5WaWV3aW5nRGlyZWN0aW9uLkxFRlRfVE9fUklHSFR9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyksdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGU9YS5VdGlscy5ub3JtYWxpc2VUeXBlKGEuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pLHRoaXMuX3BhcnNlTWFuaWZlc3RzKHRoaXMpLHRoaXMuX3BhcnNlQ29sbGVjdGlvbnModGhpcyksYS5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLl9wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbihlKXtpZihlLmdldE1hbmlmZXN0cygpJiZlLmdldE1hbmlmZXN0cygpLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoO3QrKyl7dmFyIG49ZS5nZXRNYW5pZmVzdHMoKVt0XSxpPW4uZ2V0RGVmYXVsdFRyZWUoKTtpLmxhYmVsPW4ucGFyZW50TGFiZWx8fGEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcIm1hbmlmZXN0IFwiKyh0KzEpLGkubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxpLmRhdGEuaWQ9bi5pZCxpLmRhdGEudHlwZT1hLlV0aWxzLm5vcm1hbGlzZVR5cGUoYS5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLGUuZGVmYXVsdFRyZWUuYWRkTm9kZShpKX19LHQucHJvdG90eXBlLl9wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0Q29sbGVjdGlvbnMoKSYmZS5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGg7dCsrKXt2YXIgbj1lLmdldENvbGxlY3Rpb25zKClbdF0saT1uLmdldERlZmF1bHRUcmVlKCk7aS5sYWJlbD1uLnBhcmVudExhYmVsfHxhLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKXx8XCJjb2xsZWN0aW9uIFwiKyh0KzEpLGkubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxpLmRhdGEuaWQ9bi5pZCxpLmRhdGEudHlwZT1hLlV0aWxzLm5vcm1hbGlzZVR5cGUoYS5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksZS5kZWZhdWx0VHJlZS5hZGROb2RlKGkpfX0sdH0oYS5JSUlGUmVzb3VyY2UpO3QuQ29sbGVjdGlvbj1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdGFydD1lLHRoaXMuZW5kPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC10aGlzLnN0YXJ0fSxlfSgpO3QuRHVyYXRpb249aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kZWZhdWx0TG9jYWxlPWV9cmV0dXJuIGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUpe3RoaXMucmVzb3VyY2U9ZSx0aGlzLmxhYmVsPWkuTGFuZ3VhZ2VNYXAucGFyc2UodGhpcy5yZXNvdXJjZS5sYWJlbCx0aGlzLmRlZmF1bHRMb2NhbGUpLHRoaXMudmFsdWU9aS5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLnZhbHVlLHRoaXMuZGVmYXVsdExvY2FsZSl9LGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWw/aS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSk6bnVsbH0sZS5wcm90b3R5cGUuc2V0TGFiZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCl7dmFyIG49dGhpcy5sYWJlbC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2FsZT09PXQuZGVmYXVsdExvY2FsZXx8ZS5sb2NhbGU9PT1pLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodC5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT1lKX19LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy52YWx1ZSl7dmFyIGU9dGhpcy5kZWZhdWx0TG9jYWxlO3JldHVybiB0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCYmdGhpcy5sYWJlbFswXS5sb2NhbGUmJihlPXRoaXMubGFiZWxbMF0ubG9jYWxlKSxpLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMudmFsdWUsZSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy52YWx1ZSYmdGhpcy52YWx1ZS5sZW5ndGgpe3ZhciBuPXRoaXMudmFsdWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbGU9PT10LmRlZmF1bHRMb2NhbGV8fGUubG9jYWxlPT09aS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQuZGVmYXVsdExvY2FsZSl9KSlbMF07biYmKG4udmFsdWU9ZSl9fSxlfSgpO3QuTGFiZWxWYWx1ZVBhaXI9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGFuZ3VhZ2U9ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KGUpPzE9PT1lLmxlbmd0aD90aGlzLnZhbHVlPWVbMF06dGhpcy52YWx1ZT1lLmpvaW4oXCI8YnIvPlwiKTp0aGlzLnZhbHVlPWUsdGhpcy5sb2NhbGU9dH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnBhcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1bXTtpZighZSlyZXR1cm4gaTtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgYT1lW3JdO249XCJzdHJpbmdcIj09dHlwZW9mIGE/bmV3IG8uTGFuZ3VhZ2UoYSx0KTpuZXcgby5MYW5ndWFnZShhW1wiQHZhbHVlXCJdLGFbXCJAbGFuZ3VhZ2VcIl18fHQpLGkucHVzaChuKX1lbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBuPW5ldyBvLkxhbmd1YWdlKGUsdCksaS5wdXNoKG4pLGk7ZVtcIkB2YWx1ZVwiXT8obj1uZXcgby5MYW5ndWFnZShlW1wiQHZhbHVlXCJdLGVbXCJAbGFuZ3VhZ2VcIl18fHQpLGkucHVzaChuKSk6T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIWVbdF0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImxhbmd1YWdlIG11c3QgaGF2ZSBhIHZhbHVlXCIpO249bmV3IG8uTGFuZ3VhZ2UoZVt0XSx0KSxpLnB1c2gobil9KSl9cmV0dXJuIGl9LHQuZ2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCl7aWYodCl7dmFyIG49ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2FsZT09PXR8fG8uVXRpbHMuZ2V0SW5leGFjdExvY2FsZShlLmxvY2FsZSk9PT1vLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodCl9KSlbMF07aWYobilyZXR1cm4gbi52YWx1ZX1yZXR1cm4gZVswXS52YWx1ZX1yZXR1cm4gbnVsbH0sdH0oQXJyYXkpO3QuTGFuZ3VhZ2VNYXA9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSksYT1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7aWYoaS5pbmRleD0wLGkuX2FsbFJhbmdlcz1udWxsLGkuaXRlbXM9W10saS5fdG9wUmFuZ2VzPVtdLGkuX19qc29ubGQuc3RydWN0dXJlcyYmaS5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aClmb3IodmFyIHI9aS5fZ2V0VG9wUmFuZ2VzKCksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1yW29dO2kuX3BhcnNlUmFuZ2VzKGEsU3RyaW5nKG8pKX1yZXR1cm4gaX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldFBvc3RlckNhbnZhcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJwb3N0ZXJDYW52YXNcIik7cmV0dXJuIGUmJihlPW5ldyBhLkNhbnZhcyhlLHRoaXMub3B0aW9ucykpLGV9LHQucHJvdG90eXBlLmdldEJlaGF2aW9yPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImJlaGF2aW9yXCIpO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYoZT1lWzBdKSxlfHxudWxsfSx0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe2lmKGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyksdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGU9YS5VdGlscy5ub3JtYWxpc2VUeXBlKGEuVHJlZU5vZGVUeXBlLk1BTklGRVNUKSwhdGhpcy5pc0xvYWRlZClyZXR1cm4gdGhpcy5kZWZhdWx0VHJlZTt2YXIgdD10aGlzLmdldFRvcFJhbmdlcygpO3JldHVybiB0Lmxlbmd0aCYmdFswXS5nZXRUcmVlKHRoaXMuZGVmYXVsdFRyZWUpLGEuVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyh0aGlzLmRlZmF1bHRUcmVlKSx0aGlzLmRlZmF1bHRUcmVlfSx0LnByb3RvdHlwZS5fZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZ0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKXtmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXNbdF07bi52aWV3aW5nSGludD09PW8uVmlld2luZ0hpbnQuVE9QJiZlLnB1c2gobil9aWYoIWUubGVuZ3RoKXt2YXIgaT17fTtpLnJhbmdlcz10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMsZS5wdXNoKGkpfX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvcFJhbmdlc30sdC5wcm90b3R5cGUuX2dldFJhbmdlQnlJZD1mdW5jdGlvbihlKXtpZih0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMmJnRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpZm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW3RdO2lmKG5bXCJAaWRcIl09PT1lfHxuLmlkPT09ZSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuX3BhcnNlUmFuZ2VzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihyPWUsZT10aGlzLl9nZXRSYW5nZUJ5SWQocikpLGUpeyhpPW5ldyBhLlJhbmdlKGUsdGhpcy5vcHRpb25zKSkucGFyZW50UmFuZ2U9bixpLnBhdGg9dCxuP24uaXRlbXMucHVzaChpKTp0aGlzLl90b3BSYW5nZXMucHVzaChpKTt2YXIgbz1lLml0ZW1zfHxlLm1lbWJlcnM7aWYobylmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtpZih1W1wiQHR5cGVcIl0mJlwic2M6cmFuZ2VcIj09PXVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpfHx1LnR5cGUmJlwicmFuZ2VcIj09PXUudHlwZS50b0xvd2VyQ2FzZSgpKXRoaXMuX3BhcnNlUmFuZ2VzKHUsdCtcIi9cIitzLGkpO2Vsc2UgaWYodVtcIkB0eXBlXCJdJiZcInNjOmNhbnZhc1wiPT09dVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCl8fHUudHlwZSYmXCJjYW52YXNcIj09PXUudHlwZS50b0xvd2VyQ2FzZSgpKXtpLmNhbnZhc2VzfHwoaS5jYW52YXNlcz1bXSk7dmFyIGw9dS5pZHx8dVtcIkBpZFwiXTtpLmNhbnZhc2VzLnB1c2gobCl9fWVsc2UgaWYoZS5yYW5nZXMpZm9yKHM9MDtzPGUucmFuZ2VzLmxlbmd0aDtzKyspdGhpcy5fcGFyc2VSYW5nZXMoZS5yYW5nZXNbc10sdCtcIi9cIitzLGkpfWVsc2UgY29uc29sZS53YXJuKFwiUmFuZ2U6XCIscixcImRvZXMgbm90IGV4aXN0XCIpfSx0LnByb3RvdHlwZS5nZXRBbGxSYW5nZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9hbGxSYW5nZXMpcmV0dXJuIHRoaXMuX2FsbFJhbmdlczt0aGlzLl9hbGxSYW5nZXM9W107Zm9yKHZhciBlPXRoaXMuZ2V0VG9wUmFuZ2VzKCksdD1mdW5jdGlvbih0KXt2YXIgaT1lW3RdO2kuaWQmJm4uX2FsbFJhbmdlcy5wdXNoKGkpO3ZhciByPWZ1bmN0aW9uKGUsdCl7ZS5hZGQodCk7dmFyIG49dC5nZXRSYW5nZXMoKTtyZXR1cm4gbi5sZW5ndGg/bi5yZWR1Y2UocixlKTplfSxvPUFycmF5LmZyb20oaS5nZXRSYW5nZXMoKS5yZWR1Y2UocixuZXcgU2V0KSk7bi5fYWxsUmFuZ2VzPW4uX2FsbFJhbmdlcy5jb25jYXQobyl9LG49dGhpcyxpPTA7aTxlLmxlbmd0aDtpKyspdChpKTtyZXR1cm4gdGhpcy5fYWxsUmFuZ2VzfSx0LnByb3RvdHlwZS5nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0QWxsUmFuZ2VzKCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkuaWQ9PT1lKXJldHVybiBpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRSYW5nZUJ5UGF0aD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRBbGxSYW5nZXMoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5wYXRoPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0U2VxdWVuY2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGgpcmV0dXJuIHRoaXMuaXRlbXM7dmFyIGU9dGhpcy5fX2pzb25sZC5tZWRpYVNlcXVlbmNlc3x8dGhpcy5fX2pzb25sZC5zZXF1ZW5jZXM7aWYoZSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XSxpPW5ldyBhLlNlcXVlbmNlKG4sdGhpcy5vcHRpb25zKTt0aGlzLml0ZW1zLnB1c2goaSl9ZWxzZSB0aGlzLl9fanNvbmxkLml0ZW1zJiYoaT1uZXcgYS5TZXF1ZW5jZSh0aGlzLl9fanNvbmxkLml0ZW1zLHRoaXMub3B0aW9ucyksdGhpcy5pdGVtcy5wdXNoKGkpKTtyZXR1cm4gdGhpcy5pdGVtc30sdC5wcm90b3R5cGUuZ2V0U2VxdWVuY2VCeUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpW2VdfSx0LnByb3RvdHlwZS5nZXRUb3RhbFNlcXVlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZXJ2aWNlKG8uU2VydmljZVByb2ZpbGUuVUlfRVhURU5TSU9OUyk7cmV0dXJuIGU/ZS5nZXRQcm9wZXJ0eShcIm1hbmlmZXN0VHlwZVwiKTphLk1hbmlmZXN0VHlwZS5FTVBUWX0sdC5wcm90b3R5cGUuaXNNdWx0aVNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxTZXF1ZW5jZXMoKT4xfSx0LnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7aWYoZSlyZXR1cm4gZT09PW8uVmlld2luZ0hpbnQuUEFHRUQ7dmFyIHQ9dGhpcy5nZXRCZWhhdmlvcigpO3JldHVybiEhdCYmdD09PW8uQmVoYXZpb3IuUEFHRUR9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LHQucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sdH0oYS5JSUlGUmVzb3VyY2UpO3QuTWFuaWZlc3Q9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuRU1QVFk9XCJcIixlLk1BTlVTQ1JJUFQ9XCJtYW51c2NyaXB0XCIsZS5NT05PR1JBUEg9XCJtb25vZ3JhcGhcIn0odC5NYW5pZmVzdFR5cGV8fCh0Lk1hbmlmZXN0VHlwZT17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPW4oMSkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5fcmFuZ2VzPW51bGwsaS5jYW52YXNlcz1udWxsLGkuaXRlbXM9W10saX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldENhbnZhc0lkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fanNvbmxkLmNhbnZhc2VzP3RoaXMuX19qc29ubGQuY2FudmFzZXM6dGhpcy5jYW52YXNlcz90aGlzLmNhbnZhc2VzOltdfSx0LnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5jYW52YXNlcyYmdGhpcy5jYW52YXNlcy5sZW5ndGgpZm9yKHZhciBuPTA7bjx0aGlzLmNhbnZhc2VzLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuY2FudmFzZXNbbl0scj1vLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KGkpO3ImJnIubGVuZ3RoPjEmJigwPT09biYmKGU9TnVtYmVyKHJbMF0pKSxuPT09dGhpcy5jYW52YXNlcy5sZW5ndGgtMSYmKHQ9TnVtYmVyKHJbMV0pKSl9ZWxzZXt2YXIgYT10aGlzLmdldFJhbmdlcygpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl0uZ2V0RHVyYXRpb24oKTtzJiYoMD09PW4mJihlPXMuc3RhcnQpLG49PT1hLmxlbmd0aC0xJiYodD1zLmVuZCkpfX1pZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT10KXJldHVybiBuZXcgby5EdXJhdGlvbihlLHQpfSx0LnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzP3RoaXMuX3Jhbmdlczp0aGlzLl9yYW5nZXM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzUmFuZ2UoKX0pKX0sdC5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGV8fG51bGx9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LHQucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sdC5wcm90b3R5cGUuZ2V0VHJlZT1mdW5jdGlvbihlKXtlLmRhdGE9dGhpcyx0aGlzLnRyZWVOb2RlPWU7dmFyIHQ9dGhpcy5nZXRSYW5nZXMoKTtpZih0JiZ0Lmxlbmd0aClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPW5ldyBvLlRyZWVOb2RlO2UuYWRkTm9kZShyKSx0aGlzLl9wYXJzZVRyZWVOb2RlKHIsaSl9cmV0dXJuIG8uVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyhlKSxlfSx0LnByb3RvdHlwZS5zcGFuc1RpbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXREdXJhdGlvbigpO3JldHVybiEhKHQmJmU+PXQuc3RhcnQmJmU8PXQuZW5kKX0sdC5wcm90b3R5cGUuX3BhcnNlVHJlZU5vZGU9ZnVuY3Rpb24oZSx0KXtlLmxhYmVsPW8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodC5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpLGUuZGF0YT10LGUuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5SQU5HRSksdC50cmVlTm9kZT1lO3ZhciBuPXQuZ2V0UmFuZ2VzKCk7aWYobiYmbi5sZW5ndGgpZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5nZXRCZWhhdmlvcigpIT09YS5CZWhhdmlvci5OT19OQVYpe3ZhciBzPW5ldyBvLlRyZWVOb2RlO2UuYWRkTm9kZShzKSx0aGlzLl9wYXJzZVRyZWVOb2RlKHMscil9fX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlJhbmdlPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKX0sdH0obigwKS5NYW5pZmVzdFJlc291cmNlKTt0LlJlbmRlcmluZz1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxhPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5pdGVtcz1bXSxpLl90aHVtYm5haWxzPW51bGwsaX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldENhbnZhc2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGgpcmV0dXJuIHRoaXMuaXRlbXM7dmFyIGU9dGhpcy5fX2pzb25sZC5jYW52YXNlc3x8dGhpcy5fX2pzb25sZC5lbGVtZW50cztpZihlKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdOyhpPW5ldyBhLkNhbnZhcyhuLHRoaXMub3B0aW9ucykpLmluZGV4PXQsdGhpcy5pdGVtcy5wdXNoKGkpfWVsc2UgaWYodGhpcy5fX2pzb25sZClmb3IodD0wO3Q8dGhpcy5fX2pzb25sZC5sZW5ndGg7dCsrKXt2YXIgaTtuPXRoaXMuX19qc29ubGRbdF0sKGk9bmV3IGEuQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9dCx0aGlzLml0ZW1zLnB1c2goaSl9cmV0dXJuIHRoaXMuaXRlbXN9LHQucHJvdG90eXBlLmdldENhbnZhc0J5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0Kyspe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KSxpPWEuVXRpbHMubm9ybWFsaXNlVXJsKG4uaWQpO2lmKGEuVXRpbHMubm9ybWFsaXNlVXJsKGUpPT09aSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDYW52YXNlcygpW2VdfSx0LnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0KyspaWYodGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLmlkPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsPWZ1bmN0aW9uKGUsdCl7ZT1lLnRyaW0oKSxpc05hTihlKXx8KGU9cGFyc2VJbnQoZSwxMCkudG9TdHJpbmcoKSx0JiYoZSs9XCJyXCIpKTtmb3IodmFyIG4saSxyLG89LyhcXGQqKVxcRCsoXFxkKikvLHM9MDtzPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3MrKyl7dmFyIHU9dGhpcy5nZXRDYW52YXNCeUluZGV4KHMpO2lmKGEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodS5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpPT09ZSlyZXR1cm4gcztpZigobj1vLmV4ZWMoZSkpJiYoaT1uWzFdLChyPW5bMl0pJiZuZXcgUmVnRXhwKFwiXlwiK2krXCJcXFxcRCtcIityK1wiJFwiKS50ZXN0KHUuZ2V0TGFiZWwoKS50b1N0cmluZygpKSkpcmV0dXJuIHN9cmV0dXJuLTF9LHQucHJvdG90eXBlLmdldExhc3RDYW52YXNMYWJlbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMTt0Pj0wO3QtLSl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLGk9YS5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSk7aWYoZSl7aWYoL15bYS16QS1aMC05XSokLy50ZXN0KGkpKXJldHVybiBpfWVsc2UgaWYoaSlyZXR1cm4gaX1yZXR1cm4gdGhpcy5vcHRpb25zLmRlZmF1bHRMYWJlbH0sdC5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5nZXROZXh0UGFnZUluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodCl7dmFyIGk9dGhpcy5nZXRQYWdlZEluZGljZXMoZSkscj10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPXImJnI9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9pWzBdKzE6aVtpLmxlbmd0aC0xXSsxfWVsc2Ugbj1lKzE7cmV0dXJuIG4+dGhpcy5nZXRMYXN0UGFnZUluZGV4KCk/LTE6bn0sdC5wcm90b3R5cGUuZ2V0UGFnZWRJbmRpY2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYodCl7bj10aGlzLmlzRmlyc3RDYW52YXMoZSl8fHRoaXMuaXNMYXN0Q2FudmFzKGUpP1tlXTplJTI/W2UsZSsxXTpbZS0xLGVdO3ZhciBpPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO2kmJmk9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVCYmKG49bi5yZXZlcnNlKCkpfWVsc2Ugbi5wdXNoKGUpO3JldHVybiBufSx0LnByb3RvdHlwZS5nZXRQcmV2UGFnZUluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodCl7dmFyIGk9dGhpcy5nZXRQYWdlZEluZGljZXMoZSkscj10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPXImJnI9PT1vLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9pW2kubGVuZ3RoLTFdLTE6aVswXS0xfWVsc2Ugbj1lLTE7cmV0dXJuIG59LHQucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzSW5kZXg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFN0YXJ0Q2FudmFzKCk7aWYoZSlmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKylpZih0aGlzLmdldENhbnZhc0J5SW5kZXgodCkuaWQ9PT1lKXJldHVybiB0O3JldHVybiAwfSx0LnByb3RvdHlwZS5nZXRUaHVtYnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10saT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKSxyPTA7cjxpO3IrKyl7dmFyIG89dGhpcy5nZXRDYW52YXNCeUluZGV4KHIpLHM9bmV3IGEuVGh1bWIoZSxvKTtuLnB1c2gocyl9cmV0dXJuIG59LHQucHJvdG90eXBlLmdldFRodW1ibmFpbHM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl90aHVtYm5haWxzKXJldHVybiB0aGlzLl90aHVtYm5haWxzO3RoaXMuX3RodW1ibmFpbHM9W107Zm9yKHZhciBlPXRoaXMuZ2V0Q2FudmFzZXMoKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0uZ2V0VGh1bWJuYWlsKCk7biYmdGhpcy5fdGh1bWJuYWlscy5wdXNoKG4pfXJldHVybiB0aGlzLl90aHVtYm5haWxzfSx0LnByb3RvdHlwZS5nZXRTdGFydENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwic3RhcnRDYW52YXNcIil9LHQucHJvdG90eXBlLmdldFRvdGFsQ2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDYW52YXNlcygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKT90aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKTp0aGlzLm9wdGlvbnMucmVzb3VyY2UuZ2V0Vmlld2luZ0RpcmVjdGlvbj90aGlzLm9wdGlvbnMucmVzb3VyY2UuZ2V0Vmlld2luZ0RpcmVjdGlvbigpOm51bGx9LHQucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sdC5wcm90b3R5cGUuaXNDYW52YXNJbmRleE91dE9mUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sdC5wcm90b3R5cGUuaXNGaXJzdENhbnZhcz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWV9LHQucHJvdG90eXBlLmlzTGFzdENhbnZhcz1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LHQucHJvdG90eXBlLmlzTXVsdGlDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCk+MX0sdC5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nSGludCgpO3JldHVybiEhZSYmZT09PW8uVmlld2luZ0hpbnQuUEFHRUR9LHQucHJvdG90eXBlLmlzVG90YWxDYW52YXNlc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCklMj09MH0sdH0oYS5NYW5pZmVzdFJlc291cmNlKTt0LlNlcXVlbmNlPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPUpTT04ucGFyc2UoZSkpLHRoaXMucGFyc2VKc29uKGUsdCl9LGUucGFyc2VKc29uPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodCYmdC5uYXZEYXRlJiYhaXNOYU4odC5uYXZEYXRlLmdldFRpbWUoKSkmJihlLm5hdkRhdGU9dC5uYXZEYXRlLnRvU3RyaW5nKCkpLGVbXCJAdHlwZVwiXSlzd2l0Y2goZVtcIkB0eXBlXCJdKXtjYXNlXCJzYzpDb2xsZWN0aW9uXCI6bj10aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpO2JyZWFrO2Nhc2VcInNjOk1hbmlmZXN0XCI6bj10aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfWVsc2Ugc3dpdGNoKGUudHlwZSl7Y2FzZVwiQ29sbGVjdGlvblwiOm49dGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KTticmVhaztjYXNlXCJNYW5pZmVzdFwiOm49dGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gbi5pc0xvYWRlZD0hMCxufSxlLnBhcnNlQ29sbGVjdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBpLkNvbGxlY3Rpb24oZSx0KTtyZXR1cm4gdD8obi5pbmRleD10LmluZGV4fHwwLHQucmVzb3VyY2UmJihuLnBhcmVudENvbGxlY3Rpb249dC5yZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uKSk6bi5pbmRleD0wLHRoaXMucGFyc2VDb2xsZWN0aW9ucyhuLHQpLHRoaXMucGFyc2VNYW5pZmVzdHMobix0KSx0aGlzLnBhcnNlSXRlbXMobix0KSxufSxlLnBhcnNlQ29sbGVjdGlvbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlLl9fanNvbmxkLmNvbGxlY3Rpb25zP249ZS5fX2pzb25sZC5jb2xsZWN0aW9uczplLl9fanNvbmxkLml0ZW1zJiYobj1lLl9fanNvbmxkLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJjb2xsZWN0aW9uXCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKX0pKSksbilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dCYmKHQuaW5kZXg9aSk7dmFyIHI9dGhpcy5wYXJzZUNvbGxlY3Rpb24obltpXSx0KTtyLmluZGV4PWksci5wYXJlbnRDb2xsZWN0aW9uPWUsZS5pdGVtcy5wdXNoKHIpfX0sZS5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpLk1hbmlmZXN0KGUsdCl9LGUucGFyc2VNYW5pZmVzdHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlLl9fanNvbmxkLm1hbmlmZXN0cz9uPWUuX19qc29ubGQubWFuaWZlc3RzOmUuX19qc29ubGQuaXRlbXMmJihuPWUuX19qc29ubGQuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cIm1hbmlmZXN0XCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKX0pKSksbilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9dGhpcy5wYXJzZU1hbmlmZXN0KG5baV0sdCk7ci5pbmRleD1pLHIucGFyZW50Q29sbGVjdGlvbj1lLGUuaXRlbXMucHVzaChyKX19LGUucGFyc2VJdGVtPWZ1bmN0aW9uKGUsdCl7aWYoZVtcIkB0eXBlXCJdKXtpZihcInNjOm1hbmlmZXN0XCI9PT1lW1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7aWYoXCJzYzpjb2xsZWN0aW9uXCI9PT1lW1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KX1lbHNlIGlmKGUudHlwZSl7aWYoXCJtYW5pZmVzdFwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2lmKFwiY29sbGVjdGlvblwiPT09ZS50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCl9cmV0dXJuIG51bGx9LGUucGFyc2VJdGVtcz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuX19qc29ubGQubWVtYmVyc3x8ZS5fX2pzb25sZC5pdGVtcztpZihuKWZvcih2YXIgaT1mdW5jdGlvbihpKXt0JiYodC5pbmRleD1pKTt2YXIgbz1yLnBhcnNlSXRlbShuW2ldLHQpO3JldHVybiBvP2UuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PW8uaWR9KSlbMF0/XCJjb250aW51ZVwiOihvLmluZGV4PWksby5wYXJlbnRDb2xsZWN0aW9uPWUsdm9pZCBlLml0ZW1zLnB1c2gobykpOnt2YWx1ZTp2b2lkIDB9fSxyPXRoaXMsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1pKG8pO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXJldHVybiBhLnZhbHVlfX0sZX0oKTt0LkRlc2VyaWFsaXNlcj1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldFByb2ZpbGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwicHJvZmlsZVwiKTtyZXR1cm4gZXx8KGU9dGhpcy5nZXRQcm9wZXJ0eShcImRjdGVybXM6Y29uZm9ybXNUb1wiKSksQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9LHQucHJvdG90eXBlLmdldENvbmZpcm1MYWJlbD1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJjb25maXJtTGFiZWxcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRGYWlsdXJlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZURlc2NyaXB0aW9uXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRGYWlsdXJlSGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImZhaWx1cmVIZWFkZXJcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJoZWFkZXJcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldFNlcnZpY2VMYWJlbD1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0SW5mb1VyaT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaWQ7cmV0dXJuIGUuZW5kc1dpdGgoXCIvXCIpfHwoZSs9XCIvXCIpLGUrXCJpbmZvLmpzb25cIn0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlNlcnZpY2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2VbZS5BVVRIT1JJWkFUSU9OX0ZBSUxFRD0xXT1cIkFVVEhPUklaQVRJT05fRkFJTEVEXCIsZVtlLkZPUkJJRERFTj0yXT1cIkZPUkJJRERFTlwiLGVbZS5JTlRFUk5BTF9TRVJWRVJfRVJST1I9M109XCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlW2UuUkVTVFJJQ1RFRD00XT1cIlJFU1RSSUNURURcIn0odC5TdGF0dXNDb2RlfHwodC5TdGF0dXNDb2RlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApO3QuVGh1bWI9ZnVuY3Rpb24oZSx0KXt0aGlzLmRhdGE9dCx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy53aWR0aD1lO3ZhciBuPXQuZ2V0SGVpZ2h0KCkvdC5nZXRXaWR0aCgpO3RoaXMuaGVpZ2h0PW4/TWF0aC5mbG9vcih0aGlzLndpZHRoKm4pOmUsdGhpcy51cmk9dC5nZXRDYW5vbmljYWxJbWFnZVVyaShlKSx0aGlzLmxhYmVsPWkuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodC5nZXRMYWJlbCgpKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0fShuKDApLlJlc291cmNlKTt0LlRodW1ibmFpbD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubGFiZWw9ZSx0aGlzLmRhdGE9dHx8e30sdGhpcy5ub2Rlcz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbihlKXt0aGlzLm5vZGVzLnB1c2goZSksZS5wYXJlbnROb2RlPXRoaXN9LGUucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKX0sZS5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCl9LGUucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuUkFOR0UpfSxlfSgpO3QuVHJlZU5vZGU9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIixlLk1BTklGRVNUPVwibWFuaWZlc3RcIixlLlJBTkdFPVwicmFuZ2VcIn0odC5UcmVlTm9kZVR5cGV8fCh0LlRyZWVOb2RlVHlwZT17fSkpfSxmdW5jdGlvbihlLHQsbil7d2luZG93LGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcj10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciByIGluIGUpbi5kKGkscixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDEpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DT05USU5VRT0xMDAsdC5TV0lUQ0hJTkdfUFJPVE9DT0xTPTEwMSx0LlBST0NFU1NJTkc9MTAyLHQuT0s9MjAwLHQuQ1JFQVRFRD0yMDEsdC5BQ0NFUFRFRD0yMDIsdC5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTj0yMDMsdC5OT19DT05URU5UPTIwNCx0LlJFU0VUX0NPTlRFTlQ9MjA1LHQuUEFSVElBTF9DT05URU5UPTIwNix0Lk1VTFRJX1NUQVRVUz0yMDcsdC5NVUxUSVBMRV9DSE9JQ0VTPTMwMCx0Lk1PVkVEX1BFUk1BTkVOVExZPTMwMSx0Lk1PVkVEX1RFTVBPUkFSSUxZPTMwMix0LlNFRV9PVEhFUj0zMDMsdC5OT1RfTU9ESUZJRUQ9MzA0LHQuVVNFX1BST1hZPTMwNSx0LlRFTVBPUkFSWV9SRURJUkVDVD0zMDcsdC5CQURfUkVRVUVTVD00MDAsdC5VTkFVVEhPUklaRUQ9NDAxLHQuUEFZTUVOVF9SRVFVSVJFRD00MDIsdC5GT1JCSURERU49NDAzLHQuTk9UX0ZPVU5EPTQwNCx0Lk1FVEhPRF9OT1RfQUxMT1dFRD00MDUsdC5OT1RfQUNDRVBUQUJMRT00MDYsdC5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRD00MDcsdC5SRVFVRVNUX1RJTUVfT1VUPTQwOCx0LkNPTkZMSUNUPTQwOSx0LkdPTkU9NDEwLHQuTEVOR1RIX1JFUVVJUkVEPTQxMSx0LlBSRUNPTkRJVElPTl9GQUlMRUQ9NDEyLHQuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFPTQxMyx0LlJFUVVFU1RfVVJJX1RPT19MQVJHRT00MTQsdC5VTlNVUFBPUlRFRF9NRURJQV9UWVBFPTQxNSx0LlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU9NDE2LHQuRVhQRUNUQVRJT05fRkFJTEVEPTQxNyx0LklNX0FfVEVBUE9UPTQxOCx0LlVOUFJPQ0VTU0FCTEVfRU5USVRZPTQyMix0LkxPQ0tFRD00MjMsdC5GQUlMRURfREVQRU5ERU5DWT00MjQsdC5VTk9SREVSRURfQ09MTEVDVElPTj00MjUsdC5VUEdSQURFX1JFUVVJUkVEPTQyNix0LlBSRUNPTkRJVElPTl9SRVFVSVJFRD00MjgsdC5UT09fTUFOWV9SRVFVRVNUUz00MjksdC5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFPTQzMSx0LklOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDAsdC5OT1RfSU1QTEVNRU5URUQ9NTAxLHQuQkFEX0dBVEVXQVk9NTAyLHQuU0VSVklDRV9VTkFWQUlMQUJMRT01MDMsdC5HQVRFV0FZX1RJTUVfT1VUPTUwNCx0LkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEPTUwNSx0LlZBUklBTlRfQUxTT19ORUdPVElBVEVTPTUwNix0LklOU1VGRklDSUVOVF9TVE9SQUdFPTUwNyx0LkJBTkRXSURUSF9MSU1JVF9FWENFRURFRD01MDksdC5OT1RfRVhURU5ERUQ9NTEwLHQuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRD01MTF9XSl9LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9d2luZG93LmZldGNofHwod2luZG93LmZldGNoPW4oMykuZGVmYXVsdHx8bigzKSl9XSl9LGZ1bmN0aW9uKGUsdCxuKXt3aW5kb3csZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oaSl7aWYodFtpXSlyZXR1cm4gdFtpXS5leHBvcnRzO3ZhciByPXRbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsaSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSluLmQoaSxyLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNPTlRJTlVFPTEwMCx0LlNXSVRDSElOR19QUk9UT0NPTFM9MTAxLHQuUFJPQ0VTU0lORz0xMDIsdC5PSz0yMDAsdC5DUkVBVEVEPTIwMSx0LkFDQ0VQVEVEPTIwMix0Lk5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OPTIwMyx0Lk5PX0NPTlRFTlQ9MjA0LHQuUkVTRVRfQ09OVEVOVD0yMDUsdC5QQVJUSUFMX0NPTlRFTlQ9MjA2LHQuTVVMVElfU1RBVFVTPTIwNyx0Lk1VTFRJUExFX0NIT0lDRVM9MzAwLHQuTU9WRURfUEVSTUFORU5UTFk9MzAxLHQuTU9WRURfVEVNUE9SQVJJTFk9MzAyLHQuU0VFX09USEVSPTMwMyx0Lk5PVF9NT0RJRklFRD0zMDQsdC5VU0VfUFJPWFk9MzA1LHQuVEVNUE9SQVJZX1JFRElSRUNUPTMwNyx0LkJBRF9SRVFVRVNUPTQwMCx0LlVOQVVUSE9SSVpFRD00MDEsdC5QQVlNRU5UX1JFUVVJUkVEPTQwMix0LkZPUkJJRERFTj00MDMsdC5OT1RfRk9VTkQ9NDA0LHQuTUVUSE9EX05PVF9BTExPV0VEPTQwNSx0Lk5PVF9BQ0NFUFRBQkxFPTQwNix0LlBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTQwNyx0LlJFUVVFU1RfVElNRV9PVVQ9NDA4LHQuQ09ORkxJQ1Q9NDA5LHQuR09ORT00MTAsdC5MRU5HVEhfUkVRVUlSRUQ9NDExLHQuUFJFQ09ORElUSU9OX0ZBSUxFRD00MTIsdC5SRVFVRVNUX0VOVElUWV9UT09fTEFSR0U9NDEzLHQuUkVRVUVTVF9VUklfVE9PX0xBUkdFPTQxNCx0LlVOU1VQUE9SVEVEX01FRElBX1RZUEU9NDE1LHQuUkVRVUVTVEVEX1JBTkdFX05PVF9TQVRJU0ZJQUJMRT00MTYsdC5FWFBFQ1RBVElPTl9GQUlMRUQ9NDE3LHQuSU1fQV9URUFQT1Q9NDE4LHQuVU5QUk9DRVNTQUJMRV9FTlRJVFk9NDIyLHQuTE9DS0VEPTQyMyx0LkZBSUxFRF9ERVBFTkRFTkNZPTQyNCx0LlVOT1JERVJFRF9DT0xMRUNUSU9OPTQyNSx0LlVQR1JBREVfUkVRVUlSRUQ9NDI2LHQuUFJFQ09ORElUSU9OX1JFUVVJUkVEPTQyOCx0LlRPT19NQU5ZX1JFUVVFU1RTPTQyOSx0LlJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0U9NDMxLHQuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMCx0Lk5PVF9JTVBMRU1FTlRFRD01MDEsdC5CQURfR0FURVdBWT01MDIsdC5TRVJWSUNFX1VOQVZBSUxBQkxFPTUwMyx0LkdBVEVXQVlfVElNRV9PVVQ9NTA0LHQuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ9NTA1LHQuVkFSSUFOVF9BTFNPX05FR09USUFURVM9NTA2LHQuSU5TVUZGSUNJRU5UX1NUT1JBR0U9NTA3LHQuQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEPTUwOSx0Lk5PVF9FWFRFTkRFRD01MTAsdC5ORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTUxMX1dKX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDMpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPW4oNSkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLl9kYXRhPW4uZGF0YSgpLG4uX2RhdGE9bi5vcHRpb25zLmRhdGEsbi5faW5pdCgpLG4uX3Jlc2l6ZSgpLG59cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe2UucHJvdG90eXBlLl9pbml0LmNhbGwodGhpcyksdGhpcy5fJGVsZW1lbnQ9JCh0aGlzLmVsKTt2YXIgdD10aGlzO3JldHVybiB0aGlzLl8kdHJlZT0kKCc8dWwgY2xhc3M9XCJ0cmVlXCI+PC91bD4nKSx0aGlzLl8kZWxlbWVudC5hcHBlbmQodGhpcy5fJHRyZWUpLCQudGVtcGxhdGVzKHtwYWdlVGVtcGxhdGU6XCJ7Xntmb3Igbm9kZXN9fVxcdFxcdFxcdFxcdFxcdHtee3RyZWUvfX1cXHRcXHRcXHRcXHR7ey9mb3J9fVwiLHRyZWVUZW1wbGF0ZTonPGxpPlxcdFxcdFxcdFxcdFxcdFxcdHtee2lmIG5vZGVzICYmIG5vZGVzLmxlbmd0aH19XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cInRvZ2dsZVwiIGRhdGEtbGluaz1cImNsYXNze21lcmdlOmV4cGFuZGVkIHRvZ2dsZT1cXCdleHBhbmRlZFxcJ31cIj48L2Rpdj5cXHRcXHRcXHRcXHRcXHRcXHR7e2Vsc2V9fVxcdFxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XCJzcGFjZXJcIj48L2Rpdj5cXHRcXHRcXHRcXHRcXHRcXHR7ey9pZn19XFx0XFx0XFx0XFx0XFx0XFx0e157aWYgbXVsdGlTZWxlY3RFbmFibGVkfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8aW5wdXQgaWQ9XCJ0cmVlLWNoZWNrYm94LXt7PmlkfX1cIiB0eXBlPVwiY2hlY2tib3hcIiBkYXRhLWxpbms9XCJjaGVja2VkezptdWx0aVNlbGVjdGVkID8gXFwnY2hlY2tlZFxcJyA6IFxcJ1xcJ31cIiBjbGFzcz1cIm11bHRpU2VsZWN0XCIgLz5cXHRcXHRcXHRcXHRcXHRcXHR7ey9pZn19XFx0XFx0XFx0XFx0XFx0XFx0e157aWYgc2VsZWN0ZWR9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGlkPVwidHJlZS1saW5rLXt7PmlkfX1cIiBocmVmPVwiI1wiIHRpdGxlPVwie3s+bGFiZWx9fVwiIGNsYXNzPVwic2VsZWN0ZWRcIj57ez5sYWJlbH19PC9hPlxcdFxcdFxcdFxcdFxcdFxcdHt7ZWxzZX19XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgaWQ9XCJ0cmVlLWxpbmste3s+aWR9fVwiIGhyZWY9XCIjXCIgdGl0bGU9XCJ7ez5sYWJlbH19XCI+e3s+bGFiZWx9fTwvYT5cXHRcXHRcXHRcXHRcXHRcXHR7ey9pZn19XFx0XFx0XFx0XFx0PC9saT5cXHRcXHRcXHRcXHR7XntpZiBleHBhbmRlZH19XFx0XFx0XFx0XFx0XFx0PGxpPlxcdFxcdFxcdFxcdFxcdFxcdFxcdDx1bD5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR7Xntmb3Igbm9kZXN9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHtee3RyZWUvfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR7ey9mb3J9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdDwvdWw+XFx0XFx0XFx0XFx0XFx0PC9saT5cXHRcXHRcXHRcXHR7ey9pZn19J30pLCQudmlld3MudGFncyh7dHJlZTp7dG9nZ2xlRXhwYW5kZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGE7dC5fc2V0Tm9kZUV4cGFuZGVkKGUsIWUuZXhwYW5kZWQpfSx0b2dnbGVNdWx0aVNlbGVjdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTtpZih0Ll9zZXROb2RlTXVsdGlTZWxlY3RlZChlLCFlLm11bHRpU2VsZWN0ZWQpLGUuaXNSYW5nZSgpKXt2YXIgbj10Ll9nZXRNdWx0aVNlbGVjdFN0YXRlKCk7biYmbi5zZWxlY3RSYW5nZShlLmRhdGEsZS5tdWx0aVNlbGVjdGVkKX10LmZpcmUodS5UUkVFX05PREVfTVVMVElTRUxFQ1RFRCxlKX0saW5pdDpmdW5jdGlvbihlLHQsbil7dGhpcy5kYXRhPWUudmlldy5kYXRhfSxvbkFmdGVyTGluazpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jb250ZW50cyhcImxpXCIpLmZpcnN0KCkub24oXCJjbGlja1wiLFwiLnRvZ2dsZVwiLChmdW5jdGlvbigpe2UudG9nZ2xlRXhwYW5kZWQoKX0pKS5vbihcImNsaWNrXCIsXCJhXCIsKGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLmRhdGE7aS5ub2Rlcy5sZW5ndGgmJnQuX2RhdGEuYnJhbmNoTm9kZXNFeHBhbmRPbkNsaWNrJiZlLnRvZ2dsZUV4cGFuZGVkKCksaS5tdWx0aVNlbGVjdEVuYWJsZWQ/ZS50b2dnbGVNdWx0aVNlbGVjdCgpOmkubm9kZXMubGVuZ3RoP3QuX2RhdGEuYnJhbmNoTm9kZXNTZWxlY3RhYmxlJiYodC5maXJlKHUuVFJFRV9OT0RFX1NFTEVDVEVELGkpLHQuc2VsZWN0Tm9kZShpKSk6KHQuZmlyZSh1LlRSRUVfTk9ERV9TRUxFQ1RFRCxpKSx0LnNlbGVjdE5vZGUoaSkpfSkpLm9uKFwiY2xpY2tcIixcImlucHV0Lm11bHRpU2VsZWN0XCIsKGZ1bmN0aW9uKHQpe2UudG9nZ2xlTXVsdGlTZWxlY3QoKX0pKX0sdGVtcGxhdGU6JC50ZW1wbGF0ZXMudHJlZVRlbXBsYXRlfX0pLCEwfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9kYXRhPU9iamVjdC5hc3NpZ24odGhpcy5fZGF0YSxlKSx0aGlzLl9kYXRhLmhlbHBlcil7dGhpcy5fcm9vdE5vZGU9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0VHJlZSh0aGlzLl9kYXRhLnRvcFJhbmdlSW5kZXgsdGhpcy5fZGF0YS50cmVlU29ydFR5cGUpLHRoaXMuX2ZsYXR0ZW5lZFRyZWU9bnVsbCx0aGlzLl9tdWx0aVNlbGVjdGFibGVOb2Rlcz1udWxsLHRoaXMuXyR0cmVlLmxpbmsoJC50ZW1wbGF0ZXMucGFnZVRlbXBsYXRlLHRoaXMuX3Jvb3ROb2RlKTt2YXIgbj10aGlzLl9nZXRNdWx0aVNlbGVjdFN0YXRlKCk7aWYobilmb3IodmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5yYW5nZXNbZV0saT1yLl9nZXRNdWx0aVNlbGVjdGFibGVOb2RlcygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YS5pZD09PXQuaWR9KSlbMF07aSYmKHIuX3NldE5vZGVNdWx0aVNlbGVjdEVuYWJsZWQoaSx0Lm11bHRpU2VsZWN0RW5hYmxlZCksci5fc2V0Tm9kZU11bHRpU2VsZWN0ZWQoaSx0Lm11bHRpU2VsZWN0ZWQpKX0scj10aGlzLG89MDtvPG4ucmFuZ2VzLmxlbmd0aDtvKyspaShvKTtpZih0aGlzLl9kYXRhLmF1dG9FeHBhbmQpdGhpcy5nZXRBbGxOb2RlcygpLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dC5fc2V0Tm9kZUV4cGFuZGVkKGUsITApfSkpfX0sdC5wcm90b3R5cGUuX2dldE11bHRpU2VsZWN0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5oZWxwZXI/dGhpcy5fZGF0YS5oZWxwZXIuZ2V0TXVsdGlTZWxlY3RTdGF0ZSgpOm51bGx9LHQucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm57YXV0b0V4cGFuZDohMSxicmFuY2hOb2Rlc0V4cGFuZE9uQ2xpY2s6ITAsYnJhbmNoTm9kZXNTZWxlY3RhYmxlOiEwLGhlbHBlcjpudWxsLHRvcFJhbmdlSW5kZXg6MCx0cmVlU29ydFR5cGU6YS5UcmVlU29ydFR5cGUuTk9ORX19LHQucHJvdG90eXBlLmFsbE5vZGVzU2VsZWN0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRNdWx0aVNlbGVjdGFibGVOb2RlcygpLHQ9dGhpcy5nZXRNdWx0aVNlbGVjdGVkTm9kZXMoKTtyZXR1cm4gZS5sZW5ndGg9PT10Lmxlbmd0aH0sdC5wcm90b3R5cGUuX2dldE11bHRpU2VsZWN0YWJsZU5vZGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLl9tdWx0aVNlbGVjdGFibGVOb2RlcylyZXR1cm4gdGhpcy5fbXVsdGlTZWxlY3RhYmxlTm9kZXM7dmFyIHQ9dGhpcy5nZXRBbGxOb2RlcygpO3JldHVybiB0P3RoaXMuX211bHRpU2VsZWN0YWJsZU5vZGVzPXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fbm9kZUlzTXVsdGlTZWxlY3RhYmxlKHQpfSkpOltdfSx0LnByb3RvdHlwZS5fbm9kZUlzTXVsdGlTZWxlY3RhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUuZGF0YS50eXBlPT09by5UcmVlTm9kZVR5cGUuTUFOSUZFU1QmJmUubm9kZXMmJmUubm9kZXMubGVuZ3RoPjB8fGUuZGF0YS50eXBlPT09by5UcmVlTm9kZVR5cGUuUkFOR0UpfSx0LnByb3RvdHlwZS5nZXRBbGxOb2Rlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mbGF0dGVuZWRUcmVlP3RoaXMuX2ZsYXR0ZW5lZFRyZWU6dGhpcy5fZGF0YS5oZWxwZXI/dGhpcy5fZmxhdHRlbmVkVHJlZT10aGlzLl9kYXRhLmhlbHBlci5nZXRGbGF0dGVuZWRUcmVlKHRoaXMuX3Jvb3ROb2RlKTpbXX0sdC5wcm90b3R5cGUuZ2V0TXVsdGlTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5nZXRBbGxOb2RlcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUuX25vZGVJc011bHRpU2VsZWN0YWJsZSh0KSYmdC5tdWx0aVNlbGVjdGVkfSkpfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRBbGxOb2RlcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSkpWzBdfSx0LnByb3RvdHlwZS5leHBhbmRQYXJlbnRzPWZ1bmN0aW9uKGUsdCl7ZSYmZS5wYXJlbnROb2RlJiYodGhpcy5fc2V0Tm9kZUV4cGFuZGVkKGUucGFyZW50Tm9kZSx0KSx0aGlzLmV4cGFuZFBhcmVudHMoZS5wYXJlbnROb2RlLHQpKX0sdC5wcm90b3R5cGUuX3NldE5vZGVTZWxlY3RlZD1mdW5jdGlvbihlLHQpeyQub2JzZXJ2YWJsZShlKS5zZXRQcm9wZXJ0eShcInNlbGVjdGVkXCIsdCl9LHQucHJvdG90eXBlLl9zZXROb2RlRXhwYW5kZWQ9ZnVuY3Rpb24oZSx0KXskLm9ic2VydmFibGUoZSkuc2V0UHJvcGVydHkoXCJleHBhbmRlZFwiLHQpfSx0LnByb3RvdHlwZS5fc2V0Tm9kZU11bHRpU2VsZWN0ZWQ9ZnVuY3Rpb24oZSx0KXskLm9ic2VydmFibGUoZSkuc2V0UHJvcGVydHkoXCJtdWx0aVNlbGVjdGVkXCIsdCl9LHQucHJvdG90eXBlLl9zZXROb2RlTXVsdGlTZWxlY3RFbmFibGVkPWZ1bmN0aW9uKGUsdCl7JC5vYnNlcnZhYmxlKGUpLnNldFByb3BlcnR5KFwibXVsdGlTZWxlY3RFbmFibGVkXCIsdCl9LHQucHJvdG90eXBlLnNlbGVjdFBhdGg9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcm9vdE5vZGUpe3ZhciB0PWUuc3BsaXQoXCIvXCIpO3QubGVuZ3RoPj0xJiZ0LnNoaWZ0KCk7dmFyIG49dGhpcy5nZXROb2RlQnlQYXRoKHRoaXMuX3Jvb3ROb2RlLHQpO3RoaXMuc2VsZWN0Tm9kZShuKX19LHQucHJvdG90eXBlLmRlc2VsZWN0Q3VycmVudE5vZGU9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkTm9kZSYmdGhpcy5fc2V0Tm9kZVNlbGVjdGVkKHRoaXMuc2VsZWN0ZWROb2RlLCExKX0sdC5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbihlKXt0aGlzLl9yb290Tm9kZSYmKHRoaXMuZGVzZWxlY3RDdXJyZW50Tm9kZSgpLHRoaXMuc2VsZWN0ZWROb2RlPWUsdGhpcy5fc2V0Tm9kZVNlbGVjdGVkKHRoaXMuc2VsZWN0ZWROb2RlLCEwKSl9LHQucHJvdG90eXBlLmV4cGFuZE5vZGU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9yb290Tm9kZSYmdGhpcy5fc2V0Tm9kZUV4cGFuZGVkKGUsdCl9LHQucHJvdG90eXBlLmdldE5vZGVCeVBhdGg9ZnVuY3Rpb24oZSx0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGU7dmFyIG49TnVtYmVyKHQuc2hpZnQoKSksaT1lLm5vZGVzW25dO3JldHVybiB0aGlzLmdldE5vZGVCeVBhdGgoaSx0KX0sdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuXyRlbGVtZW50LnNob3coKX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuXyRlbGVtZW50LmhpZGUoKX0sdC5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe30sdH0obig0KS5CYXNlQ29tcG9uZW50KTt0LlRyZWVDb21wb25lbnQ9czt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuVFJFRV9OT0RFX01VTFRJU0VMRUNURUQ9XCJ0cmVlTm9kZU11bHRpU2VsZWN0ZWRcIixlLlRSRUVfTk9ERV9TRUxFQ1RFRD1cInRyZWVOb2RlU2VsZWN0ZWRcIixlfSgpO3QuRXZlbnRzPXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJCYXNlQ29tcG9uZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMub3B0aW9ucz1lLHRoaXMub3B0aW9ucy5kYXRhPU9iamVjdC5hc3NpZ24oe30sdGhpcy5kYXRhKCksZS5kYXRhKX1yZXR1cm4gZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbD10aGlzLm9wdGlvbnMudGFyZ2V0LHRoaXMuZWw/KHRoaXMuZWwuaW5uZXJIVE1MPVwiXCIsITApOihjb25zb2xlLndhcm4oXCJlbGVtZW50IG5vdCBmb3VuZFwiKSwhMSl9LGUucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm57fX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuX2V8fCh0aGlzLl9lPXt9KTsoaVtlXXx8KGlbZV09W10pKS5wdXNoKHtmbjp0LGN0eDpufSl9LGUucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciBpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9KCh0aGlzLl9lfHwodGhpcy5fZT17fSkpW2VdfHxbXSkuc2xpY2UoKSxvPTAsYT1yLmxlbmd0aDtvPGE7bysrKXJbb10uZm4uYXBwbHkocltvXS5jdHgsaSl9LGUucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXt9LGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCk7dmFyIGkscixvLGEscyx1LGwsYyxwLGYsaD1mdW5jdGlvbihlKXt0aGlzLmlzVmlzaWJsZT0hMDt2YXIgdD1lLm9uLm1hdGNoKC8uKnh5d2g9KFxcZCopLChcXGQqKSwoXFxkKiksKFxcZCopLyk7dGhpcy54PU51bWJlcih0WzFdKSx0aGlzLnk9TnVtYmVyKHRbMl0pLHRoaXMud2lkdGg9TnVtYmVyKHRbM10pLHRoaXMuaGVpZ2h0PU51bWJlcih0WzRdKSx0aGlzLmNoYXJzPWUucmVzb3VyY2UuY2hhcnN9LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5yZWN0cz1bXSx0aGlzLmNhbnZhc0luZGV4PXQsdGhpcy5hZGRSZWN0KGUpfXJldHVybiBlLnByb3RvdHlwZS5hZGRSZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBoKGUpO3QuY2FudmFzSW5kZXg9dGhpcy5jYW52YXNJbmRleCx0LmluZGV4PXRoaXMucmVjdHMubGVuZ3RoLHRoaXMucmVjdHMucHVzaCh0KSx0aGlzLnJlY3RzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXgtdC5pbmRleH0pKX0sZX0oKSxnPW4oMCksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmlzRW5hYmxlZD0hMSx0aGlzLnJhbmdlcz1bXSx0aGlzLmNhbnZhc2VzPVtdfXJldHVybiBlLnByb3RvdHlwZS5hbGxDYW52YXNlc1NlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzZXMubGVuZ3RoPjAmJnRoaXMuZ2V0QWxsU2VsZWN0ZWRDYW52YXNlcygpLmxlbmd0aD09PXRoaXMuY2FudmFzZXMubGVuZ3RofSxlLnByb3RvdHlwZS5hbGxSYW5nZXNTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlcy5sZW5ndGg+MCYmdGhpcy5nZXRBbGxTZWxlY3RlZFJhbmdlcygpLmxlbmd0aD09PXRoaXMucmFuZ2VzLmxlbmd0aH0sZS5wcm90b3R5cGUuYWxsU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxSYW5nZXNTZWxlY3RlZCgpJiZ0aGlzLmFsbENhbnZhc2VzU2VsZWN0ZWQoKX0sZS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzZXMuY29uY2F0KHRoaXMucmFuZ2VzKX0sZS5wcm90b3R5cGUuZ2V0QWxsU2VsZWN0ZWRDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc2VzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubXVsdGlTZWxlY3RlZH0pKX0sZS5wcm90b3R5cGUuZ2V0QWxsU2VsZWN0ZWRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tdWx0aVNlbGVjdGVkfSkpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNhbnZhc2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGcuVXRpbHMubm9ybWFsaXNlVXJsKHQuaWQpPT09Zy5VdGlscy5ub3JtYWxpc2VVcmwoZSl9KSlbMF19LGUucHJvdG90eXBlLmdldENhbnZhc2VzQnlJZHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTt0LnB1c2godGhpcy5nZXRDYW52YXNCeUlkKGkpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VDYW52YXNlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldENhbnZhc0lkcygpO3JldHVybiB0aGlzLmdldENhbnZhc2VzQnlJZHModCl9LGUucHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdFJhbmdlcyh0aGlzLnJhbmdlcyxlKSx0aGlzLnNlbGVjdENhbnZhc2VzKHRoaXMuY2FudmFzZXMsZSl9LGUucHJvdG90eXBlLnNlbGVjdENhbnZhcz1mdW5jdGlvbihlLHQpe3RoaXMuY2FudmFzZXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWUuaWR9KSlbMF0ubXVsdGlTZWxlY3RlZD10fSxlLnByb3RvdHlwZS5zZWxlY3RBbGxDYW52YXNlcz1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdENhbnZhc2VzKHRoaXMuY2FudmFzZXMsZSl9LGUucHJvdG90eXBlLnNlbGVjdENhbnZhc2VzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe2Vbbl0ubXVsdGlTZWxlY3RlZD10fX0sZS5wcm90b3R5cGUuc2VsZWN0UmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnJhbmdlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZS5pZH0pKVswXTtuLm11bHRpU2VsZWN0ZWQ9dDt2YXIgaT10aGlzLmdldFJhbmdlQ2FudmFzZXMobik7dGhpcy5zZWxlY3RDYW52YXNlcyhpLHQpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGxSYW5nZXM9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3RSYW5nZXModGhpcy5yYW5nZXMsZSl9LGUucHJvdG90eXBlLnNlbGVjdFJhbmdlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kubXVsdGlTZWxlY3RlZD10O3ZhciByPXRoaXMuZ2V0Q2FudmFzZXNCeUlkcyhpLmdldENhbnZhc0lkcygpKTt0aGlzLnNlbGVjdENhbnZhc2VzKHIsdCl9fSxlLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGUpe3RoaXMuaXNFbmFibGVkPWU7Zm9yKHZhciB0PXRoaXMuZ2V0QWxsKCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kubXVsdGlTZWxlY3RFbmFibGVkPXRoaXMuaXNFbmFibGVkLGV8fChpLm11bHRpU2VsZWN0ZWQ9ITEpfX0sZX0oKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuaXRlbXM9W10sdGhpcy5yZXNvdXJjZT1lLHRoaXMubGFiZWw9dH1yZXR1cm4gZS5wcm90b3R5cGUuYWRkSXRlbT1mdW5jdGlvbihlKXt0aGlzLml0ZW1zLnB1c2goZSl9LGUucHJvdG90eXBlLmFkZE1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kuaXNSb290TGV2ZWw9dCx0aGlzLmFkZEl0ZW0oaSl9fSxlfSgpOyFmdW5jdGlvbihlKXtlLkRBVEU9XCJkYXRlXCIsZS5OT05FPVwibm9uZVwifShpfHwoaT17fSkpLGZ1bmN0aW9uKGUpe2UuQk9PS01BUktJTkc9XCJvYTpib29rbWFya2luZ1wiLGUuQ0xBU1NJRllJTkc9XCJvYTpjbGFzc2lmeWluZ1wiLGUuQ09NTUVOVElORz1cIm9hOmNvbW1lbnRpbmdcIixlLkRFU0NSSUJJTkc9XCJvYTpkZXNjcmliaW5nXCIsZS5FRElUSU5HPVwib2E6ZWRpdGluZ1wiLGUuSElHSExJR0hUSU5HPVwib2E6aGlnaGxpZ2h0aW5nXCIsZS5JREVOVElGWUlORz1cIm9hOmlkZW50aWZ5aW5nXCIsZS5MSU5LSU5HPVwib2E6bGlua2luZ1wiLGUuTU9ERVJBVElORz1cIm9hOm1vZGVyYXRpbmdcIixlLlBBSU5USU5HPVwic2M6cGFpbnRpbmdcIixlLlFVRVNUSU9OSU5HPVwib2E6cXVlc3Rpb25pbmdcIixlLlJFUExZSU5HPVwib2E6cmVwbHlpbmdcIixlLlRBR0dJTkc9XCJvYTp0YWdnaW5nXCIsZS5UUkFOU0NSSUJJTkc9XCJvYWQ6dHJhbnNjcmliaW5nXCJ9KHJ8fChyPXt9KSksZnVuY3Rpb24oZSl7ZS5BVVRPX0FEVkFOQ0U9XCJhdXRvLWFkdmFuY2VcIixlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5GQUNJTkdfUEFHRVM9XCJmYWNpbmctcGFnZXNcIixlLkhJRERFTj1cImhpZGRlblwiLGUuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLGUuTVVMVElfUEFSVD1cIm11bHRpLXBhcnRcIixlLk5PX05BVj1cIm5vLW5hdlwiLGUuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsZS5QQUdFRD1cInBhZ2VkXCIsZS5SRVBFQVQ9XCJyZXBlYXRcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIixlLlRIVU1CTkFJTF9OQVY9XCJ0aHVtYm5haWwtbmF2XCIsZS5UT0dFVEhFUj1cInRvZ2V0aGVyXCIsZS5VTk9SREVSRUQ9XCJ1bm9yZGVyZWRcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ0hPSUNFPVwiY2hvaWNlXCIsZS5DT05URU5UX0FTX1RFWFQ9XCJjb250ZW50YXN0ZXh0XCIsZS5EQVRBU0VUPVwiZGF0YXNldFwiLGUuRE9DVU1FTlQ9XCJkb2N1bWVudFwiLGUuSU1BR0U9XCJpbWFnZVwiLGUuTU9ERUw9XCJtb2RlbFwiLGUuTU9WSU5HX0lNQUdFPVwibW92aW5naW1hZ2VcIixlLlBERj1cInBkZlwiLGUuUEhZU0lDQUxfT0JKRUNUPVwicGh5c2ljYWxvYmplY3RcIixlLlNPVU5EPVwic291bmRcIixlLlRFWFQ9XCJ0ZXh0XCIsZS5URVhUVUFMQk9EWT1cInRleHR1YWxib2R5XCIsZS5WSURFTz1cInZpZGVvXCJ9KGF8fChhPXt9KSksZnVuY3Rpb24oZSl7ZS5BTk5PVEFUSU9OPVwiYW5ub3RhdGlvblwiLGUuQ0FOVkFTPVwiY2FudmFzXCIsZS5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLGUuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLGUuUkFOR0U9XCJyYW5nZVwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuQVVESU9fTVA0PVwiYXVkaW8vbXA0XCIsZS5DT1JUTz1cImFwcGxpY2F0aW9uL2NvcnRvXCIsZS5EUkFDTz1cImFwcGxpY2F0aW9uL2RyYWNvXCIsZS5FUFVCPVwiYXBwbGljYXRpb24vZXB1Yit6aXBcIixlLkdMVEY9XCJtb2RlbC9nbHRmK2pzb25cIixlLkpQRz1cImltYWdlL2pwZWdcIixlLk0zVTg9XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLGUuTVAzPVwiYXVkaW8vbXAzXCIsZS5NUEVHX0RBU0g9XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLGUuT0JKPVwidGV4dC9wbGFpblwiLGUuT1BGPVwiYXBwbGljYXRpb24vb2VicHMtcGFja2FnZSt4bWxcIixlLlBERj1cImFwcGxpY2F0aW9uL3BkZlwiLGUuUExZPVwiYXBwbGljYXRpb24vcGx5XCIsZS5USFJFRUpTPVwiYXBwbGljYXRpb24vdm5kLnRocmVlanMranNvblwiLGUuVklERU9fTVA0PVwidmlkZW8vbXA0XCIsZS5XRUJNPVwidmlkZW8vd2VibVwifSh1fHwodT17fSkpLGZ1bmN0aW9uKGUpe2UuRE9DPVwiYXBwbGljYXRpb24vbXN3b3JkXCIsZS5ET0NYPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIixlLlBERj1cImFwcGxpY2F0aW9uL3BkZlwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuQVVUSF8wX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8wX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiLGUuQVVUSF8wX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCIsZS5BVVRIXzBfUkVTVFJJQ1RFRD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiLGUuQVVUSF8wX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiLGUuQVVUSF8xX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8xX0VYVEVSTkFMPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiLGUuQVVUSF8xX0tJT1NLPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiLGUuQVVUSF8xX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiLGUuQVVUSF8xX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCIsZS5BVVRIXzFfUFJPQkU9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCIsZS5BVVRIXzFfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCIsZS5TRUFSQ0hfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIixlLlNFQVJDSF8wX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCIsZS5TRUFSQ0hfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIixlLlNFQVJDSF8xX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCIsZS5UUkFDS0lOR19FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIixlLlVJX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuUFJJTlRfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5TSEFSRV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIixlLk9USEVSX01BTklGRVNUQVRJT05TPVwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiLGUuSVhJRj1cImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCJ9KGN8fChjPXt9KSksZnVuY3Rpb24oZSl7ZS5CT1RUT01fVE9fVE9QPVwiYm90dG9tLXRvLXRvcFwiLGUuTEVGVF9UT19SSUdIVD1cImxlZnQtdG8tcmlnaHRcIixlLlJJR0hUX1RPX0xFRlQ9XCJyaWdodC10by1sZWZ0XCIsZS5UT1BfVE9fQk9UVE9NPVwidG9wLXRvLWJvdHRvbVwifShwfHwocD17fSkpLGZ1bmN0aW9uKGUpe2UuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIixlLk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLGUuUEFHRUQ9XCJwYWdlZFwiLGUuVE9QPVwidG9wXCJ9KGZ8fChmPXt9KSk7dmFyIEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLm1hbmlmZXN0Tm90TG9hZGVkPVwiTWFuaWZlc3QgaGFzIG5vdCBsb2FkZWQgeWV0XCIsZX0oKSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9wdGlvbnM9ZSx0aGlzLmlpaWZSZXNvdXJjZT10aGlzLm9wdGlvbnMuaWlpZlJlc291cmNlLHRoaXMubWFuaWZlc3RVcmk9dGhpcy5vcHRpb25zLm1hbmlmZXN0VXJpLHRoaXMubWFuaWZlc3Q9dGhpcy5vcHRpb25zLm1hbmlmZXN0LHRoaXMuY29sbGVjdGlvbkluZGV4PXRoaXMub3B0aW9ucy5jb2xsZWN0aW9uSW5kZXh8fDAsdGhpcy5tYW5pZmVzdEluZGV4PXRoaXMub3B0aW9ucy5tYW5pZmVzdEluZGV4fHwwLHRoaXMuc2VxdWVuY2VJbmRleD10aGlzLm9wdGlvbnMuc2VxdWVuY2VJbmRleHx8MCx0aGlzLmNhbnZhc0luZGV4PXRoaXMub3B0aW9ucy5jYW52YXNJbmRleHx8MH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0QXV0b0NvbXBsZXRlU2VydmljZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VhcmNoU2VydmljZSgpLHQ9bnVsbDtyZXR1cm4gZSYmKCh0PWUuZ2V0U2VydmljZShjLlNFQVJDSF8wX0FVVE9fQ09NUExFVEUpKXx8KHQ9ZS5nZXRTZXJ2aWNlKGMuU0VBUkNIXzFfQVVUT19DT01QTEVURSkpKSx0fSxlLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCk7cmV0dXJuIGU/Zy5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOm51bGx9LGUucHJvdG90eXBlLmdldENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzZXMoKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUlkKGUpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNlc0J5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuZ2V0Q2FudmFzQnlJZChpKTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldENhbnZhc0J5SW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJbmRleChlKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0luZGV4QnlJZChlKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TWFuaWZlc3RUeXBlKCk9PT1nLk1hbmlmZXN0VHlwZS5NQU5VU0NSSVBUO3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0luZGV4QnlMYWJlbChlLHQpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0Q2FudmFzUmFuZ2VzKGUpO2lmKHQpe2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHIucGF0aD09PXQpcmV0dXJuIHJ9cmV0dXJuIG51bGx9cmV0dXJuIG5bMF19LGUucHJvdG90eXBlLmdldENhbnZhc1Jhbmdlcz1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIGUucmFuZ2VzP2UucmFuZ2VzOihlLnJhbmdlcz10aGlzLm1hbmlmZXN0LmdldEFsbFJhbmdlcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Q2FudmFzSWRzKCkuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGcuVXRpbHMubm9ybWFsaXNlVXJsKHQpPT09Zy5VdGlscy5ub3JtYWxpc2VVcmwoZS5pZCl9KSl9KSksZS5yYW5nZXMpfSxlLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uSW5kZXg9ZnVuY3Rpb24oZSl7aWYoIWUucGFyZW50Q29sbGVjdGlvbnx8ZS5wYXJlbnRDb2xsZWN0aW9uLnBhcmVudENvbGxlY3Rpb24pcmV0dXJuIGUucGFyZW50Q29sbGVjdGlvbj9lLnBhcmVudENvbGxlY3Rpb24uaW5kZXg6dm9pZCAwfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJbmRleCh0aGlzLmNhbnZhc0luZGV4KX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VCeUluZGV4KHRoaXMuc2VxdWVuY2VJbmRleCl9LGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKTtyZXR1cm4gZT9nLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXRMYWJlbCgpO3JldHVybiBlP2cuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0Q2FudmFzTGFiZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0TGFzdENhbnZhc0xhYmVsKGUpfSxlLnByb3RvdHlwZS5nZXRGaXJzdFBhZ2VJbmRleD1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRMYXN0UGFnZUluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LGUucHJvdG90eXBlLmdldExpY2Vuc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0TGljZW5zZSgpfSxlLnByb3RvdHlwZS5nZXRMb2dvPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldExvZ28oKX0sZS5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0TWFuaWZlc3RUeXBlKCk7cmV0dXJuIGU9PT1nLk1hbmlmZXN0VHlwZS5FTVBUWSYmKGU9Zy5NYW5pZmVzdFR5cGUuTU9OT0dSQVBIKSxlfSxlLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIHQ9W10sbj10aGlzLm1hbmlmZXN0LmdldE1ldGFkYXRhKCksaT1uZXcgdih0aGlzLm1hbmlmZXN0KSxyPXRoaXMub3B0aW9ucy5sb2NhbGU7KG4mJm4ubGVuZ3RoJiZpLmFkZE1ldGFkYXRhKG4sITApLHRoaXMubWFuaWZlc3QuZ2V0RGVzY3JpcHRpb24oKS5sZW5ndGgpJiYoKHM9bmV3IGcuTGFiZWxWYWx1ZVBhaXIocikpLmxhYmVsPVtuZXcgZy5MYW5ndWFnZShcImRlc2NyaXB0aW9uXCIscildLHMudmFsdWU9dGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpLHMuaXNSb290TGV2ZWw9ITAsaS5hZGRJdGVtKHMpKTt0aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCkubGVuZ3RoJiYoKHM9bmV3IGcuTGFiZWxWYWx1ZVBhaXIocikpLmxhYmVsPVtuZXcgZy5MYW5ndWFnZShcImF0dHJpYnV0aW9uXCIscildLHMudmFsdWU9dGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpLHMuaXNSb290TGV2ZWw9ITAsaS5hZGRJdGVtKHMpKTt2YXIgbz10aGlzLm1hbmlmZXN0LmdldExpY2Vuc2UoKTtpZihvKXt2YXIgYT17bGFiZWw6XCJsaWNlbnNlXCIsdmFsdWU6ZSYmZS5saWNlbnNlRm9ybWF0dGVyP2UubGljZW5zZUZvcm1hdHRlci5mb3JtYXQobyk6b307KHM9bmV3IGcuTGFiZWxWYWx1ZVBhaXIocikpLnBhcnNlKGEpLHMuaXNSb290TGV2ZWw9ITAsaS5hZGRJdGVtKHMpfWlmKHRoaXMubWFuaWZlc3QuZ2V0TG9nbygpKXt2YXIgczthPXtsYWJlbDpcImxvZ29cIix2YWx1ZTonPGltZyBzcmM9XCInK3RoaXMubWFuaWZlc3QuZ2V0TG9nbygpKydcIi8+J307KHM9bmV3IGcuTGFiZWxWYWx1ZVBhaXIocikpLnBhcnNlKGEpLHMuaXNSb290TGV2ZWw9ITAsaS5hZGRJdGVtKHMpfXJldHVybiB0LnB1c2goaSksZT90aGlzLl9wYXJzZU1ldGFkYXRhT3B0aW9ucyhlLHQpOnR9LGUucHJvdG90eXBlLmdldFJlcXVpcmVkU3RhdGVtZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQoKTtyZXR1cm4gZT97bGFiZWw6ZS5nZXRMYWJlbCgpLHZhbHVlOmUuZ2V0VmFsdWUoKX06bnVsbH0sZS5wcm90b3R5cGUuX3BhcnNlTWV0YWRhdGFPcHRpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKSxpPW4uZ2V0TWV0YWRhdGEoKTtpZihpJiZpLmxlbmd0aCl7dmFyIHI9bmV3IHYobik7ci5hZGRNZXRhZGF0YShpKSx0LnB1c2gocil9aWYoZS5yYW5nZSl7dmFyIG89dGhpcy5fZ2V0UmFuZ2VNZXRhZGF0YShbXSxlLnJhbmdlKTtvPW8ucmV2ZXJzZSgpLHQ9dC5jb25jYXQobyl9aWYoZS5jYW52YXNlcyYmZS5jYW52YXNlcy5sZW5ndGgpZm9yKHZhciBhPTA7YTxlLmNhbnZhc2VzLmxlbmd0aDthKyspe3ZhciBzPWUuY2FudmFzZXNbYV0sdT1zLmdldE1ldGFkYXRhKCk7aWYodSYmdS5sZW5ndGgpe3ZhciBsPW5ldyB2KHMpO2wuYWRkTWV0YWRhdGEocy5nZXRNZXRhZGF0YSgpKSx0LnB1c2gobCl9Zm9yKHZhciBjPXMuZ2V0SW1hZ2VzKCkscD0wO3A8Yy5sZW5ndGg7cCsrKXt2YXIgZj1jW3BdLGg9Zi5nZXRNZXRhZGF0YSgpO2lmKGgmJmgubGVuZ3RoKXt2YXIgZD1uZXcgdihmKTtkLmFkZE1ldGFkYXRhKGgpLHQucHVzaChkKX19fXJldHVybiB0fSxlLnByb3RvdHlwZS5fZ2V0UmFuZ2VNZXRhZGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZ2V0TWV0YWRhdGEoKTtpZihuJiZuLmxlbmd0aCl7dmFyIGk9bmV3IHYodCk7aS5hZGRNZXRhZGF0YShuKSxlLnB1c2goaSl9ZWxzZSBpZih0LnBhcmVudFJhbmdlKXJldHVybiB0aGlzLl9nZXRSYW5nZU1ldGFkYXRhKGUsdC5wYXJlbnRSYW5nZSk7cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldE11bHRpU2VsZWN0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZXx8KHRoaXMuX211bHRpU2VsZWN0U3RhdGU9bmV3IF8sdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZS5yYW5nZXM9dGhpcy5nZXRSYW5nZXMoKS5zbGljZSgwKSx0aGlzLl9tdWx0aVNlbGVjdFN0YXRlLmNhbnZhc2VzPXRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzZXMoKS5zbGljZSgwKSksdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VJZD90aGlzLmdldFJhbmdlQnlJZCh0aGlzLnJhbmdlSWQpOm51bGx9LGUucHJvdG90eXBlLmdldFBvc3RlckNhbnZhcz1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRQb3N0ZXJDYW52YXMoKX0sZS5wcm90b3R5cGUuZ2V0UG9zdGVySW1hZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFBvc3RlckNhbnZhcygpO2lmKGUpe3ZhciB0PWUuZ2V0Q29udGVudCgpO2lmKHQmJnQubGVuZ3RoKXJldHVybiB0WzBdLmdldEJvZHkoKVswXS5pZH1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UHJldmlvdXNSYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKHQ9ZXx8dGhpcy5nZXRDdXJyZW50UmFuZ2UoKSl7dmFyIG49dGhpcy5nZXRGbGF0dGVuZWRUcmVlKCk7aWYobilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyJiZyLmRhdGEuaWQ9PT10LmlkKXtmb3IoO2k+MDspe3JldHVybiBuWy0taV0uZGF0YX1icmVha319fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXROZXh0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZih0PWV8fHRoaXMuZ2V0Q3VycmVudFJhbmdlKCkpe3ZhciBuPXRoaXMuZ2V0RmxhdHRlbmVkVHJlZSgpO2lmKG4pZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYociYmci5kYXRhLmlkPT09dC5pZCl7Zm9yKDtpPG4ubGVuZ3RoLTE7KXt2YXIgbz1uWysraV07aWYoby5kYXRhLmNhbnZhc2VzJiZvLmRhdGEuY2FudmFzZXMubGVuZ3RoKXJldHVybiBvLmRhdGF9YnJlYWt9fX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0RmxhdHRlbmVkVHJlZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3JldHVybih0PWV8fHRoaXMuZ2V0VHJlZSgpKT90aGlzLl9mbGF0dGVuVHJlZSh0LFwibm9kZXNcIik6bnVsbH0sZS5wcm90b3R5cGUuX2ZsYXR0ZW5UcmVlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPVtlXTtyZXR1cm4gZVt0XSYmZVt0XS5sZW5ndGg+MD9pLmNvbmNhdChlW3RdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uX2ZsYXR0ZW5UcmVlKGUsdCl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLFtdKSk6aX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0QWxsUmFuZ2VzKCl9LGUucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSYW5nZUJ5UGF0aChlKX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSYW5nZUJ5SWQoZSl9LGUucHJvdG90eXBlLmdldFJhbmdlQ2FudmFzZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDYW52YXNJZHMoKTtyZXR1cm4gdGhpcy5nZXRDYW52YXNlc0J5SWQodCl9LGUucHJvdG90eXBlLmdldFJlbGF0ZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmVsYXRlZCgpfSxlLnByb3RvdHlwZS5nZXRTZWFyY2hTZXJ2aWNlPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShjLlNFQVJDSF8wKTtyZXR1cm4gZXx8KGU9dGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKGMuU0VBUkNIXzEpKSxlfSxlLnByb3RvdHlwZS5nZXRTZWVBbHNvPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFNlZUFsc28oKX0sZS5wcm90b3R5cGUuZ2V0U2VxdWVuY2VCeUluZGV4PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRTZXF1ZW5jZUJ5SW5kZXgoZSl9LGUucHJvdG90eXBlLmdldFNoYXJlU2VydmljZVVybD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT1udWxsLHQ9dGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKGMuU0hBUkVfRVhURU5TSU9OUyk7cmV0dXJuIHQmJih0Lmxlbmd0aCYmKHQ9dFswXSksZT10Ll9fanNvbmxkLnNoYXJlVXJsKSxlfSxlLnByb3RvdHlwZS5fZ2V0U29ydGVkVHJlZU5vZGVzQnlEYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRGbGF0dGVuZWRUcmVlKHQpO2lmKG4pe3ZhciBpPW4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhLnR5cGU9PT1nLlRyZWVOb2RlVHlwZS5NQU5JRkVTVH0pKTt0aGlzLmNyZWF0ZURlY2FkZU5vZGVzKGUsbiksdGhpcy5zb3J0RGVjYWRlTm9kZXMoZSksdGhpcy5jcmVhdGVZZWFyTm9kZXMoZSxuKSx0aGlzLnNvcnRZZWFyTm9kZXMoZSksdGhpcy5jcmVhdGVNb250aE5vZGVzKGUsaSksdGhpcy5zb3J0TW9udGhOb2RlcyhlKSx0aGlzLmNyZWF0ZURhdGVOb2RlcyhlLGkpLHRoaXMucHJ1bmVEZWNhZGVOb2RlcyhlKX19LGUucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRTdGFydENhbnZhc0luZGV4KCl9LGUucHJvdG90eXBlLmdldFRodW1icz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFRodW1icyhlLHQpfSxlLnByb3RvdHlwZS5nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0VG9wUmFuZ2VzKCl9LGUucHJvdG90eXBlLmdldFRvdGFsQ2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRUb3RhbENhbnZhc2VzKCl9LGUucHJvdG90eXBlLmdldFRyYWNraW5nTGFiZWw9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0VHJhY2tpbmdMYWJlbCgpfSxlLnByb3RvdHlwZS5fZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWlpZlJlc291cmNlLmdldFRvcFJhbmdlcygpfSxlLnByb3RvdHlwZS5nZXRUcmVlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9aS5OT05FKSwhdGhpcy5paWlmUmVzb3VyY2UpcmV0dXJuIG51bGw7dmFyIG47aWYodGhpcy5paWlmUmVzb3VyY2UuaXNDb2xsZWN0aW9uKCkpbj10aGlzLmlpaWZSZXNvdXJjZS5nZXREZWZhdWx0VHJlZSgpO2Vsc2V7dmFyIHI9dGhpcy5fZ2V0VG9wUmFuZ2VzKCksbz1uZXcgZy5UcmVlTm9kZTtpZihvLmxhYmVsPVwicm9vdFwiLG8uZGF0YT10aGlzLmlpaWZSZXNvdXJjZSwhci5sZW5ndGgpcmV0dXJuIG87bj1yW2VdLmdldFRyZWUobyl9dmFyIGE9bmV3IGcuVHJlZU5vZGU7c3dpdGNoKHQudG9TdHJpbmcoKSl7Y2FzZSBpLkRBVEUudG9TdHJpbmcoKTppZih0aGlzLnRyZWVIYXNOYXZEYXRlcyhuKSl7dGhpcy5fZ2V0U29ydGVkVHJlZU5vZGVzQnlEYXRlKGEsbik7YnJlYWt9ZGVmYXVsdDphPW59cmV0dXJuIGF9LGUucHJvdG90eXBlLnRyZWVIYXNOYXZEYXRlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEZsYXR0ZW5lZFRyZWUoZSk7cmV0dXJuISF0JiZ0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiFpc05hTihlLm5hdkRhdGUpfSkpfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3JldHVybiBlfHwoZT10aGlzLm1hbmlmZXN0LmdldFZpZXdpbmdEaXJlY3Rpb24oKSksZX0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRWaWV3aW5nSGludCgpO3JldHVybiBlfHwoZT10aGlzLm1hbmlmZXN0LmdldFZpZXdpbmdIaW50KCkpLGV9LGUucHJvdG90eXBlLmhhc1BhcmVudENvbGxlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuISF0aGlzLm1hbmlmZXN0LnBhcmVudENvbGxlY3Rpb259LGUucHJvdG90eXBlLmhhc1JlbGF0ZWRQYWdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRSZWxhdGVkKCk7cmV0dXJuISFlJiYoZS5sZW5ndGgmJihlPWVbMF0pLFwidGV4dC9odG1sXCI9PT1lLmZvcm1hdCl9LGUucHJvdG90eXBlLmhhc1Jlc291cmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRDYW52YXMoKS5nZXRSZXNvdXJjZXMoKS5sZW5ndGg+MH0sZS5wcm90b3R5cGUuaXNCb3R0b21Ub1RvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3JldHVybiEhZSYmZT09PXAuQk9UVE9NX1RPX1RPUH0sZS5wcm90b3R5cGUuaXNDYW52YXNJbmRleE91dE9mUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNDYW52YXNJbmRleE91dE9mUmFuZ2UoZSl9LGUucHJvdG90eXBlLmlzQ29udGludW91cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtyZXR1cm4hIWUmJmU9PT1mLkNPTlRJTlVPVVN9LGUucHJvdG90eXBlLmlzRmlyc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0ZpcnN0Q2FudmFzKGUpOnRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNGaXJzdENhbnZhcyh0aGlzLmNhbnZhc0luZGV4KX0sZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsbHlBbGlnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZWZ0VG9SaWdodCgpfHx0aGlzLmlzUmlnaHRUb0xlZnQoKX0sZS5wcm90b3R5cGUuaXNMYXN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lP3RoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNMYXN0Q2FudmFzKGUpOnRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNMYXN0Q2FudmFzKHRoaXMuY2FudmFzSW5kZXgpfSxlLnByb3RvdHlwZS5pc0xlZnRUb1JpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7cmV0dXJuISFlJiZlPT09cC5MRUZUX1RPX1JJR0hUfSxlLnByb3RvdHlwZS5pc011bHRpQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNNdWx0aUNhbnZhcygpfSxlLnByb3RvdHlwZS5pc011bHRpU2VxdWVuY2U9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuaXNNdWx0aVNlcXVlbmNlKCl9LGUucHJvdG90eXBlLmlzUGFnZWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5nZXRWaWV3aW5nSGludCgpO3JldHVybiBlP2U9PT1mLlBBR0VEOnRoaXMubWFuaWZlc3QuaXNQYWdpbmdFbmFibGVkKCl9LGUucHJvdG90eXBlLmlzUGFnaW5nQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQYWdpbmdFbmFibGVkKCkmJnRoaXMuZ2V0VG90YWxDYW52YXNlcygpPjJ9LGUucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5pc1BhZ2luZ0VuYWJsZWQoKXx8dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc1BhZ2luZ0VuYWJsZWQoKX0sZS5wcm90b3R5cGUuaXNSaWdodFRvTGVmdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3JldHVybiEhZSYmZT09PXAuUklHSFRfVE9fTEVGVH0sZS5wcm90b3R5cGUuaXNUb3BUb0JvdHRvbT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO3JldHVybiEhZSYmZT09PXAuVE9QX1RPX0JPVFRPTX0sZS5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzVG90YWxDYW52YXNlc0V2ZW4oKX0sZS5wcm90b3R5cGUuaXNVSUVuYWJsZWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciB0PXRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShjLlVJX0VYVEVOU0lPTlMpO2lmKHQpe3ZhciBuPXQuZ2V0UHJvcGVydHkoXCJkaXNhYmxlVUlcIik7aWYobiYmKC0xIT09bi5pbmRleE9mKGUpfHwtMSE9PW4uaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuaXNWZXJ0aWNhbGx5QWxpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9wVG9Cb3R0b20oKXx8dGhpcy5pc0JvdHRvbVRvVG9wKCl9LGUucHJvdG90eXBlLmNyZWF0ZURhdGVOb2Rlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9dGhpcy5nZXROb2RlWWVhcihpKSxvPXRoaXMuZ2V0Tm9kZU1vbnRoKGkpLGE9bmV3IGcuVHJlZU5vZGU7YS5pZD1pLmlkLGEubGFiZWw9dGhpcy5nZXROb2RlRGlzcGxheURhdGUoaSksYS5kYXRhPWkuZGF0YSxhLmRhdGEudHlwZT1nLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCxhLmRhdGEueWVhcj1yLGEuZGF0YS5tb250aD1vO3ZhciBzPXRoaXMuZ2V0RGVjYWRlTm9kZShlLHIpO2lmKHMpe3ZhciB1PXRoaXMuZ2V0WWVhck5vZGUocyxyKTtpZih1KXt2YXIgbD10aGlzLmdldE1vbnRoTm9kZSh1LG8pO2wmJmwuYWRkTm9kZShhKX19fX0sZS5wcm90b3R5cGUuY3JlYXRlRGVjYWRlTm9kZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLm5hdkRhdGUpe3ZhciByPXRoaXMuZ2V0Tm9kZVllYXIoaSksbz1OdW1iZXIoci50b1N0cmluZygpLnN1YnN0cigwLDMpK1wiOVwiKTtpZighdGhpcy5nZXREZWNhZGVOb2RlKGUscikpe3ZhciBhPW5ldyBnLlRyZWVOb2RlO2EubGFiZWw9citcIiAtIFwiK28sYS5uYXZEYXRlPWkubmF2RGF0ZSxhLmRhdGEuc3RhcnRZZWFyPXIsYS5kYXRhLmVuZFllYXI9byxlLmFkZE5vZGUoYSl9fX19LGUucHJvdG90eXBlLmNyZWF0ZU1vbnRoTm9kZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLm5hdkRhdGUpe3ZhciByPXRoaXMuZ2V0Tm9kZVllYXIoaSksbz10aGlzLmdldE5vZGVNb250aChpKSxhPXRoaXMuZ2V0RGVjYWRlTm9kZShlLHIpLHM9bnVsbDtpZihhJiYocz10aGlzLmdldFllYXJOb2RlKGEscikpLGEmJnMmJiF0aGlzLmdldE1vbnRoTm9kZShzLG8pKXt2YXIgdT1uZXcgZy5UcmVlTm9kZTt1LmxhYmVsPXRoaXMuZ2V0Tm9kZURpc3BsYXlNb250aChpKSx1Lm5hdkRhdGU9aS5uYXZEYXRlLHUuZGF0YS55ZWFyPXIsdS5kYXRhLm1vbnRoPW8scy5hZGROb2RlKHUpfX19fSxlLnByb3RvdHlwZS5jcmVhdGVZZWFyTm9kZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLm5hdkRhdGUpe3ZhciByPXRoaXMuZ2V0Tm9kZVllYXIoaSksbz10aGlzLmdldERlY2FkZU5vZGUoZSxyKTtpZihvJiYhdGhpcy5nZXRZZWFyTm9kZShvLHIpKXt2YXIgYT1uZXcgZy5UcmVlTm9kZTthLmxhYmVsPXIudG9TdHJpbmcoKSxhLm5hdkRhdGU9aS5uYXZEYXRlLGEuZGF0YS55ZWFyPXIsby5hZGROb2RlKGEpfX19fSxlLnByb3RvdHlwZS5nZXREZWNhZGVOb2RlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciBpPWUubm9kZXNbbl07aWYodD49aS5kYXRhLnN0YXJ0WWVhciYmdDw9aS5kYXRhLmVuZFllYXIpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1vbnRoTm9kZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgaT1lLm5vZGVzW25dO2lmKHQ9PT10aGlzLmdldE5vZGVNb250aChpKSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Tm9kZURpc3BsYXlEYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5hdkRhdGUudG9EYXRlU3RyaW5nKCl9LGUucHJvdG90eXBlLmdldE5vZGVEaXNwbGF5TW9udGg9ZnVuY3Rpb24oZSl7cmV0dXJuW1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdW2UubmF2RGF0ZS5nZXRNb250aCgpXX0sZS5wcm90b3R5cGUuZ2V0Tm9kZU1vbnRoPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5hdkRhdGUuZ2V0TW9udGgoKX0sZS5wcm90b3R5cGUuZ2V0Tm9kZVllYXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmF2RGF0ZS5nZXRGdWxsWWVhcigpfSxlLnByb3RvdHlwZS5nZXRZZWFyTm9kZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgaT1lLm5vZGVzW25dO2lmKHQ9PT10aGlzLmdldE5vZGVZZWFyKGkpKXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5wcnVuZURlY2FkZU5vZGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciBpPWUubm9kZXNbbl07aS5ub2Rlcy5sZW5ndGh8fHQucHVzaChpKX1mb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXSxhPWUubm9kZXMuaW5kZXhPZihvKTthPi0xJiZlLm5vZGVzLnNwbGljZShhLDEpfX0sZS5wcm90b3R5cGUuc29ydERlY2FkZU5vZGVzPWZ1bmN0aW9uKGUpe2Uubm9kZXM9ZS5ub2Rlcy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRhdGEuc3RhcnRZZWFyLXQuZGF0YS5zdGFydFllYXJ9KSl9LGUucHJvdG90eXBlLnNvcnRNb250aE5vZGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLG49MDtuPGUubm9kZXMubGVuZ3RoO24rKylmb3IodmFyIGk9ZS5ub2Rlc1tuXSxyPTA7cjxpLm5vZGVzLmxlbmd0aDtyKyspe3ZhciBvPWkubm9kZXNbcl07by5ub2Rlcz1vLm5vZGVzLnNvcnQoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0Tm9kZU1vbnRoKGUpLXQuZ2V0Tm9kZU1vbnRoKG4pfSkpfX0sZS5wcm90b3R5cGUuc29ydFllYXJOb2Rlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciBpPWUubm9kZXNbbl07aS5ub2Rlcz1pLm5vZGVzLnNvcnQoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZ2V0Tm9kZVllYXIoZSktdC5nZXROb2RlWWVhcihuKX0pKX19LGV9KCksVD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fb3B0aW9ucz1lLHRoaXMuX29wdGlvbnMubG9jYWxlPXRoaXMuX29wdGlvbnMubG9jYWxlfHxcImVuLUdCXCJ9cmV0dXJuIGUucHJvdG90eXBlLmJvb3RzdHJhcD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHIpe2UmJnQmJihpPWUscj10KSxnLlV0aWxzLmxvYWRNYW5pZmVzdChuLl9vcHRpb25zLm1hbmlmZXN0VXJpKS50aGVuKChmdW5jdGlvbihlKXtuLl9sb2FkZWQobixlLGkscil9KSl9KSl9LGUucHJvdG90eXBlLl9sb2FkZWQ9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9Zy5VdGlscy5wYXJzZU1hbmlmZXN0KHQse2xvY2FsZTplLl9vcHRpb25zLmxvY2FsZX0pO2lmKHIpe2UuX29wdGlvbnMuaWlpZlJlc291cmNlfHwoZS5fb3B0aW9ucy5paWlmUmVzb3VyY2U9cik7dmFyIG89ZS5fb3B0aW9ucy5jb2xsZWN0aW9uSW5kZXgsYT1lLl9vcHRpb25zLm1hbmlmZXN0SW5kZXg7aWYoci5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLkNPTExFQ1RJT04pe3ZhciB1PXIuZ2V0TWFuaWZlc3RzKCksbD1yLmdldENvbGxlY3Rpb25zKCk7dS5sZW5ndGh8fHZvaWQgMCE9PW98fChvPTApLHZvaWQgMCE9PW8mJmwmJmwubGVuZ3RoP3IuZ2V0Q29sbGVjdGlvbkJ5SW5kZXgobykudGhlbigoZnVuY3Rpb24odCl7dHx8aShcIkNvbGxlY3Rpb24gaW5kZXggbm90IGZvdW5kXCIpLDA9PT10LmdldFRvdGFsTWFuaWZlc3RzKCkmJjA9PT1hJiZ0LmdldFRvdGFsQ29sbGVjdGlvbnMoKT4wPyhlLl9vcHRpb25zLmNvbGxlY3Rpb25JbmRleD0wLGUuX29wdGlvbnMubWFuaWZlc3RVcmk9dC5pZCxlLmJvb3RzdHJhcChuLGkpKTp2b2lkIDAhPT1hJiZ0LmdldE1hbmlmZXN0QnlJbmRleChhKS50aGVuKChmdW5jdGlvbih0KXtlLl9vcHRpb25zLm1hbmlmZXN0PXQ7dmFyIGk9bmV3IHkoZS5fb3B0aW9ucyk7bihpKX0pKX0pKTpyLmdldE1hbmlmZXN0QnlJbmRleChlLl9vcHRpb25zLm1hbmlmZXN0SW5kZXgpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX29wdGlvbnMubWFuaWZlc3Q9dDt2YXIgaT1uZXcgeShlLl9vcHRpb25zKTtuKGkpfSkpfWVsc2V7ZS5fb3B0aW9ucy5tYW5pZmVzdD1yO3ZhciBjPW5ldyB5KGUuX29wdGlvbnMpO24oYyl9fWVsc2UgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBsb2FkIElJSUYgcmVzb3VyY2VcIil9LGV9KCksST1uKDEpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5hdXRoSG9sZGluZ1BhZ2U9bnVsbCx0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2U9bnVsbCx0aGlzLmV4dGVybmFsU2VydmljZT1udWxsLHRoaXMuaXNQcm9iZWQ9ITEsdGhpcy5pc1Jlc3BvbnNlSGFuZGxlZD0hMSx0aGlzLmtpb3NrU2VydmljZT1udWxsLHRoaXMubG9naW5TZXJ2aWNlPW51bGwsdGhpcy5sb2dvdXRTZXJ2aWNlPW51bGwsdGhpcy5wcm9iZVNlcnZpY2U9bnVsbCx0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlPW51bGwsdGhpcy50b2tlblNlcnZpY2U9bnVsbCxlLmV4dGVybmFsUmVzb3VyY2U9dGhpcyx0aGlzLmRhdGFVcmk9dGhpcy5fZ2V0RGF0YVVyaShlKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5hdXRoQVBJVmVyc2lvbj10LmF1dGhBcGlWZXJzaW9uLHRoaXMuX3BhcnNlQXV0aFNlcnZpY2VzKGUpLHRoaXMuX3BhcnNlQ2FudmFzRGltZW5zaW9ucyhlKX1yZXR1cm4gZS5wcm90b3R5cGUuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3I9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW51bGwsbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dLHI9aS5pZDtyLmVuZHNXaXRoKFwiL1wiKXx8KHIrPVwiL1wiKSxnLlV0aWxzLmlzSW1hZ2VQcm9maWxlKGkuZ2V0UHJvZmlsZSgpKSYmKHQ9citcImluZm8uanNvblwiKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuX2dldERhdGFVcmk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDb250ZW50KCksbj1lLmdldEltYWdlcygpLGk9bnVsbDtpZih0JiZ0Lmxlbmd0aCl7dmFyIHI9dFswXS5nZXRCb2R5KCk7cmV0dXJuIHIubGVuZ3RoPyhvPXJbMF0uZ2V0U2VydmljZXMoKSkubGVuZ3RoJiYoaT10aGlzLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yKG8pKT9pOnJbMF0uaWQ6bnVsbH1pZihuJiZuLmxlbmd0aCl7dmFyIG8sYT1uWzBdLmdldFJlc291cmNlKCk7cmV0dXJuKG89YS5nZXRTZXJ2aWNlcygpKS5sZW5ndGgmJihpPXRoaXMuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3IobykpP2k6YS5pZH12YXIgcz1lLmdldFNlcnZpY2UoYy5JWElGKTtyZXR1cm4gcz9zLmdldEluZm9VcmkoKTplLmlkfSxlLnByb3RvdHlwZS5fcGFyc2VBdXRoU2VydmljZXM9ZnVuY3Rpb24oZSl7aWYoLjk9PT10aGlzLmF1dGhBUElWZXJzaW9uKXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMF9DTElDS19USFJPVUdIKSx0aGlzLmxvZ2luU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMF9MT0dJTiksdGhpcy5yZXN0cmljdGVkU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMF9SRVNUUklDVEVEKSx0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2U/KHRoaXMubG9nb3V0U2VydmljZT10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX1RPS0VOKSk6dGhpcy5sb2dpblNlcnZpY2U/KHRoaXMubG9nb3V0U2VydmljZT10aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMF9UT0tFTikpOnRoaXMucmVzdHJpY3RlZFNlcnZpY2UmJih0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5yZXN0cmljdGVkU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5yZXN0cmljdGVkU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX1RPS0VOKSk7ZWxzZXtpZih2b2lkIDAhPT1lLmlzQ2FudmFzJiZlLmlzQ2FudmFzKCkpe3ZhciB0PWUuZ2V0Q29udGVudCgpO2lmKHQmJnQubGVuZ3RoKXt2YXIgbj10WzBdLmdldEJvZHkoKTtpZihuJiZuLmxlbmd0aCllPW5bMF19fXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMV9DTElDS19USFJPVUdIKSx0aGlzLmxvZ2luU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMV9MT0dJTiksdGhpcy5leHRlcm5hbFNlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzFfRVhURVJOQUwpLHRoaXMua2lvc2tTZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8xX0tJT1NLKSx0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2U/KHRoaXMubG9nb3V0U2VydmljZT10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1RPS0VOKSx0aGlzLnByb2JlU2VydmljZT10aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9QUk9CRSkpOnRoaXMubG9naW5TZXJ2aWNlPyh0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfVE9LRU4pLHRoaXMucHJvYmVTZXJ2aWNlPXRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfUFJPQkUpKTp0aGlzLmV4dGVybmFsU2VydmljZT8odGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1RPS0VOKSx0aGlzLnByb2JlU2VydmljZT10aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1BST0JFKSk6dGhpcy5raW9za1NlcnZpY2UmJih0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfVE9LRU4pLHRoaXMucHJvYmVTZXJ2aWNlPXRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfUFJPQkUpKX19LGUucHJvdG90eXBlLl9wYXJzZUNhbnZhc0RpbWVuc2lvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRJbWFnZXMoKTtpZih0JiZ0Lmxlbmd0aCl7dmFyIG49dFswXS5nZXRSZXNvdXJjZSgpO3RoaXMud2lkdGg9bi5nZXRXaWR0aCgpLHRoaXMuaGVpZ2h0PW4uZ2V0SGVpZ2h0KCl9ZWxzZSBpZigodD1lLmdldENvbnRlbnQoKSkubGVuZ3RoKXt2YXIgaT10WzBdLmdldEJvZHkoKTtpLmxlbmd0aCYmKHRoaXMud2lkdGg9aVswXS5nZXRXaWR0aCgpLHRoaXMuaGVpZ2h0PWlbMF0uZ2V0SGVpZ2h0KCkpfX0sZS5wcm90b3R5cGUuX3BhcnNlRGVzY3JpcHRvckRpbWVuc2lvbnM9ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS53aWR0aCYmKHRoaXMud2lkdGg9ZS53aWR0aCksdm9pZCAwIT09ZS5oZWlnaHQmJih0aGlzLmhlaWdodD1lLmhlaWdodCl9LGUucHJvdG90eXBlLmlzQWNjZXNzQ29udHJvbGxlZD1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZXx8dGhpcy5sb2dpblNlcnZpY2V8fHRoaXMuZXh0ZXJuYWxTZXJ2aWNlfHx0aGlzLmtpb3NrU2VydmljZXx8dGhpcy5wcm9iZVNlcnZpY2UpfSxlLnByb3RvdHlwZS5oYXNTZXJ2aWNlRGVzY3JpcHRvcj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5kYXRhVXJpJiZ0aGlzLmRhdGFVcmkuZW5kc1dpdGgoXCJpbmZvLmpzb25cIil9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdC5kYXRhPXt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe2lmKHQuZGF0YVVyaSlpZih0LnByb2JlU2VydmljZSl7dC5pc1Byb2JlZD0hMDt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7ci5vcGVuKFwiR0VUXCIsdC5wcm9iZVNlcnZpY2UuaWQsITApLHIud2l0aENyZWRlbnRpYWxzPSEwLHIub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9SlNPTi5wYXJzZShyLnJlc3BvbnNlVGV4dCk7dW5lc2NhcGUoZS5jb250ZW50TG9jYXRpb24pIT09dC5kYXRhVXJpP3Quc3RhdHVzPUkuTU9WRURfVEVNUE9SQVJJTFk6dC5zdGF0dXM9SS5PSyxuKHQpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXt0LnN0YXR1cz1yLnN0YXR1cyxuKHQpfSxyLnNlbmQoKX1lbHNle3ZhciBvPVwiR0VUXCI7aWYoIXQuaGFzU2VydmljZURlc2NyaXB0b3IoKSl7aWYoIXQuaXNBY2Nlc3NDb250cm9sbGVkKCkpcmV0dXJuIHQuc3RhdHVzPUkuT0ssdm9pZCBuKHQpO289XCJIRUFEXCJ9dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbihvLHQuZGF0YVVyaSwhMCksZSYmYS5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLFwiQmVhcmVyIFwiK2UuYWNjZXNzVG9rZW4pLGEub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9SlNPTi5wYXJzZShhLnJlc3BvbnNlVGV4dCk7aWYoZSl7dmFyIGk9dW5lc2NhcGUoZVtcIkBpZFwiXSk7dC5kYXRhPWUsdC5fcGFyc2VBdXRoU2VydmljZXModC5kYXRhKSx0Ll9wYXJzZURlc2NyaXB0b3JEaW1lbnNpb25zKHQuZGF0YSksaS5lbmRzV2l0aChcIi9pbmZvLmpzb25cIikmJihpPWkuc3Vic3RyKDAsaS5sYXN0SW5kZXhPZihcIi9cIikpKTt2YXIgcj10LmRhdGFVcmk7ciYmci5lbmRzV2l0aChcIi9pbmZvLmpzb25cIikmJihyPXIuc3Vic3RyKDAsci5sYXN0SW5kZXhPZihcIi9cIikpKSxpIT09ciYmdC5sb2dpblNlcnZpY2U/dC5zdGF0dXM9SS5NT1ZFRF9URU1QT1JBUklMWTp0LnN0YXR1cz1JLk9LLG4odCl9ZWxzZSB0LnN0YXR1cz1JLk9LLG4odCl9LGEub25lcnJvcj1mdW5jdGlvbigpe3Quc3RhdHVzPWEuc3RhdHVzLGEucmVzcG9uc2VUZXh0JiZ0Ll9wYXJzZUF1dGhTZXJ2aWNlcyhKU09OLnBhcnNlKGEucmVzcG9uc2VUZXh0KSksbih0KX0sYS5zZW5kKCl9ZWxzZSBpKFwiVGhlcmUgaXMgbm8gZGF0YVVyaSB0byBmZXRjaFwiKX0pKX0sZX0oKSxOPWZ1bmN0aW9uKCl7fSxtPWZ1bmN0aW9uKCl7fSxMPWZ1bmN0aW9uKGUsdCl7dGhpcy52YWx1ZT1lLHRoaXMubG9jYWxlPXR9LEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubGFiZWxzPWV9cmV0dXJuIGUucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9ZS5pbmRleE9mKFwiPGFcIik/ZTonPGEgaHJlZj1cIicrZSsnXCI+JysodGhpcy5sYWJlbHNbZV0/dGhpcy5sYWJlbHNbZV06ZSkrXCI8L2E+XCJ9LGV9KCk7bi5kKHQsXCJsb2FkTWFuaWZlc3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxuLmQodCxcIkFubm90YXRpb25Hcm91cFwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZCh0LFwiQW5ub3RhdGlvblJlY3RcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQodCxcIkJvb3RzdHJhcHBlclwiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLG4uZCh0LFwiRXh0ZXJuYWxSZXNvdXJjZVwiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LFwiSGVscGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSksbi5kKHQsXCJJTGFiZWxWYWx1ZVBhaXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSxuLmQodCxcIk1ldGFkYXRhR3JvdXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCxcIk1ldGFkYXRhT3B0aW9uc1wiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZCh0LFwiTXVsdGlTZWxlY3RTdGF0ZVwiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZCh0LFwiVHJhbnNsYXRpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQodCxcIlRyZWVTb3J0VHlwZVwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LFwiVXJpTGFiZWxsZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgUz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFQoZSkuYm9vdHN0cmFwKCl9fV0pfSkpOyIsImltcG9ydCB7IEFubm90YXRpb25SZWN0IH0gZnJvbSBcIi4vQW5ub3RhdGlvblJlY3RcIjtcclxudmFyIEFubm90YXRpb25Hcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFubm90YXRpb25Hcm91cChyZXNvdXJjZSwgY2FudmFzSW5kZXgpIHtcclxuICAgICAgICB0aGlzLnJlY3RzID0gW107XHJcbiAgICAgICAgdGhpcy5jYW52YXNJbmRleCA9IGNhbnZhc0luZGV4O1xyXG4gICAgICAgIHRoaXMuYWRkUmVjdChyZXNvdXJjZSk7XHJcbiAgICB9XHJcbiAgICBBbm5vdGF0aW9uR3JvdXAucHJvdG90eXBlLmFkZFJlY3QgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IG5ldyBBbm5vdGF0aW9uUmVjdChyZXNvdXJjZSk7XHJcbiAgICAgICAgcmVjdC5jYW52YXNJbmRleCA9IHRoaXMuY2FudmFzSW5kZXg7XHJcbiAgICAgICAgcmVjdC5pbmRleCA9IHRoaXMucmVjdHMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMucmVjdHMucHVzaChyZWN0KTtcclxuICAgICAgICAvLyBzb3J0IGFzY2VuZGluZ1xyXG4gICAgICAgIHRoaXMucmVjdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFubm90YXRpb25Hcm91cDtcclxufSgpKTtcclxuZXhwb3J0IHsgQW5ub3RhdGlvbkdyb3VwIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFubm90YXRpb25Hcm91cC5qcy5tYXAiLCJ2YXIgQW5ub3RhdGlvblJlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBbm5vdGF0aW9uUmVjdChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdmFyIHh5d2ggPSByZXN1bHQub24ubWF0Y2goLy4qeHl3aD0oXFxkKiksKFxcZCopLChcXGQqKSwoXFxkKikvKTtcclxuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeHl3aFsxXSk7XHJcbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHh5d2hbMl0pO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIoeHl3aFszXSk7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoeHl3aFs0XSk7XHJcbiAgICAgICAgdGhpcy5jaGFycyA9IHJlc3VsdC5yZXNvdXJjZS5jaGFycztcclxuICAgIH1cclxuICAgIHJldHVybiBBbm5vdGF0aW9uUmVjdDtcclxufSgpKTtcclxuZXhwb3J0IHsgQW5ub3RhdGlvblJlY3QgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5ub3RhdGlvblJlY3QuanMubWFwIiwiaW1wb3J0IHsgSGVscGVyIH0gZnJvbSBcIi4vSGVscGVyXCI7XHJcbmltcG9ydCB7IElJSUZSZXNvdXJjZVR5cGUgfSBmcm9tIFwiQGlpaWYvdm9jYWJ1bGFyeVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJtYW5pZmVzdG8uanNcIjtcclxudmFyIEJvb3RzdHJhcHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJvb3RzdHJhcHBlcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5sb2NhbGUgPSB0aGlzLl9vcHRpb25zLmxvY2FsZSB8fCAnZW4tR0InOyAvLyBkZWZhdWx0IGxvY2FsZVxyXG4gICAgfVxyXG4gICAgQm9vdHN0cmFwcGVyLnByb3RvdHlwZS5ib290c3RyYXAgPSBmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIHJlY3Vyc2l2ZSBib290c3RyYXAgd2Ugd2lsbCBoYXZlIGV4aXN0aW5nIHJlc29sdmUgJiByZWplY3QgbWV0aG9kcy5cclxuICAgICAgICAgICAgaWYgKHJlcyAmJiByZWopIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICByZWplY3QgPSByZWo7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVXRpbHMubG9hZE1hbmlmZXN0KHRoYXQuX29wdGlvbnMubWFuaWZlc3RVcmkpLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuX2xvYWRlZCh0aGF0LCBqc29uLCByZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBCb290c3RyYXBwZXIucHJvdG90eXBlLl9sb2FkZWQgPSBmdW5jdGlvbiAoYm9vdHN0cmFwcGVyLCBqc29uLCByZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICB2YXIgaWlpZlJlc291cmNlID0gVXRpbHMucGFyc2VNYW5pZmVzdChqc29uLCB7XHJcbiAgICAgICAgICAgIGxvY2FsZTogYm9vdHN0cmFwcGVyLl9vcHRpb25zLmxvY2FsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChpaWlmUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgLy8gb25seSBzZXQgdGhlIHJvb3QgSUlJRlJlc291cmNlIG9uIHRoZSBmaXJzdCBsb2FkXHJcbiAgICAgICAgICAgIGlmICghYm9vdHN0cmFwcGVyLl9vcHRpb25zLmlpaWZSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLmlpaWZSZXNvdXJjZSA9IGlpaWZSZXNvdXJjZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbkluZGV4ID0gYm9vdHN0cmFwcGVyLl9vcHRpb25zLmNvbGxlY3Rpb25JbmRleDsgLy8gdGhpcyBpcyBlaXRoZXIgdW5kZWZpbmVkLCAwLCBvciBhIHBvc2l0aXZlIG51bWJlciAoZGVmYXVsdHMgdG8gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB2YXIgbWFuaWZlc3RJbmRleF8xID0gYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0SW5kZXg7IC8vIHRoaXMgaXMgZWl0aGVyIDAgb3IgYSBwb3NpdGl2ZSBudW1iZXIgKGRlZmF1bHRzIHRvIDApXHJcbiAgICAgICAgICAgIGlmIChpaWlmUmVzb3VyY2UuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIC8vIGl0J3MgYSBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFuaWZlc3RzID0gaWlpZlJlc291cmNlLmdldE1hbmlmZXN0cygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25zID0gaWlpZlJlc291cmNlLmdldENvbGxlY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgb25seSBjb2xsZWN0aW9ucyBhdmFpbGFibGUsIHNldCB0aGUgY29sbGVjdGlvbkluZGV4IHRvIDAgaWYgdW5kZWZpbmVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKCFtYW5pZmVzdHMubGVuZ3RoICYmIGNvbGxlY3Rpb25JbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uSW5kZXggIT09IHVuZGVmaW5lZCAmJiBjb2xsZWN0aW9ucyAmJiBjb2xsZWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhIGNvbGxlY3Rpb25JbmRleCBoYXMgYmVlbiBwYXNzZWQgYW5kIHdlIGhhdmUgc3ViIGNvbGxlY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgaWlpZlJlc291cmNlLmdldENvbGxlY3Rpb25CeUluZGV4KGNvbGxlY3Rpb25JbmRleCkudGhlbihmdW5jdGlvbiAoY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnQ29sbGVjdGlvbiBpbmRleCBub3QgZm91bmQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2U6IHdlJ3JlIHRyeWluZyB0byBsb2FkIHRoZSBmaXJzdCBtYW5pZmVzdCBvZiB0aGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGNvbGxlY3Rpb24sIGJ1dCB0aGUgY29sbGVjdGlvbiBoYXMgbm8gbWFuaWZlc3RzIGJ1dCBkb2VzIGhhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ViY29sbGVjdGlvbnMuIFRodXMsIHdlIHNob3VsZCBkaXZlIGluIHVudGlsIHdlIGZpbmQgc29tZXRoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBkaXNwbGF5IVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5nZXRUb3RhbE1hbmlmZXN0cygpID09PSAwICYmIG1hbmlmZXN0SW5kZXhfMSA9PT0gMCAmJiBjb2xsZWN0aW9uLmdldFRvdGFsQ29sbGVjdGlvbnMoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5jb2xsZWN0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0VXJpID0gY29sbGVjdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5ib290c3RyYXAocmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYW5pZmVzdEluZGV4XzEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5nZXRNYW5pZmVzdEJ5SW5kZXgobWFuaWZlc3RJbmRleF8xKS50aGVuKGZ1bmN0aW9uIChtYW5pZmVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWxwZXIgPSBuZXcgSGVscGVyKGJvb3RzdHJhcHBlci5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShoZWxwZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlpaWZSZXNvdXJjZS5nZXRNYW5pZmVzdEJ5SW5kZXgoYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0SW5kZXgpLnRoZW4oZnVuY3Rpb24gKG1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVscGVyID0gbmV3IEhlbHBlcihib290c3RyYXBwZXIuX29wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhlbHBlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3QgPSBpaWlmUmVzb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVscGVyID0gbmV3IEhlbHBlcihib290c3RyYXBwZXIuX29wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShoZWxwZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gbG9hZCBJSUlGIHJlc291cmNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCb290c3RyYXBwZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEJvb3RzdHJhcHBlciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Cb290c3RyYXBwZXIuanMubWFwIiwidmFyIEVycm9ycyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVycm9ycygpIHtcclxuICAgIH1cclxuICAgIEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCA9IFwiTWFuaWZlc3QgaGFzIG5vdCBsb2FkZWQgeWV0XCI7XHJcbiAgICByZXR1cm4gRXJyb3JzO1xyXG59KCkpO1xyXG5leHBvcnQgeyBFcnJvcnMgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXJyb3JzLmpzLm1hcCIsImltcG9ydCB7IFNlcnZpY2VQcm9maWxlIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnlcIjtcclxuaW1wb3J0ICogYXMgSFRUUFN0YXR1c0NvZGUgZnJvbSBcIkBlZHNpbHYvaHR0cC1zdGF0dXMtY29kZXNcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwibWFuaWZlc3RvLmpzXCI7XHJcbnZhciBFeHRlcm5hbFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXh0ZXJuYWxSZXNvdXJjZShjYW52YXMsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmF1dGhIb2xkaW5nUGFnZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmV4dGVybmFsU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1Byb2JlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNSZXNwb25zZUhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmtpb3NrU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sb2dpblNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9iZVNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVzdHJpY3RlZFNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICBjYW52YXMuZXh0ZXJuYWxSZXNvdXJjZSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5kYXRhVXJpID0gdGhpcy5fZ2V0RGF0YVVyaShjYW52YXMpO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBjYW52YXMuaW5kZXg7XHJcbiAgICAgICAgdGhpcy5hdXRoQVBJVmVyc2lvbiA9IG9wdGlvbnMuYXV0aEFwaVZlcnNpb247XHJcbiAgICAgICAgdGhpcy5fcGFyc2VBdXRoU2VydmljZXMoY2FudmFzKTtcclxuICAgICAgICAvLyBnZXQgdGhlIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGltYWdlIHJlc291cmNlIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIHRoaXMuX3BhcnNlQ2FudmFzRGltZW5zaW9ucyhjYW52YXMpO1xyXG4gICAgfVxyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoc2VydmljZXMpIHtcclxuICAgICAgICB2YXIgaW5mb1VyaSA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZSA9IHNlcnZpY2VzW2ldO1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBzZXJ2aWNlLmlkO1xyXG4gICAgICAgICAgICBpZiAoIWlkLmVuZHNXaXRoKCcvJykpIHtcclxuICAgICAgICAgICAgICAgIGlkICs9ICcvJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoVXRpbHMuaXNJbWFnZVByb2ZpbGUoc2VydmljZS5nZXRQcm9maWxlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvVXJpID0gaWQgKyAnaW5mby5qc29uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mb1VyaTtcclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5fZ2V0RGF0YVVyaSA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IGNhbnZhcy5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgdmFyIGltYWdlcyA9IGNhbnZhcy5nZXRJbWFnZXMoKTtcclxuICAgICAgICB2YXIgaW5mb1VyaSA9IG51bGw7XHJcbiAgICAgICAgLy8gcHJlc2VudGF0aW9uIDNcclxuICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGNvbnRlbnRbMF07XHJcbiAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uQm9keSA9IGFubm90YXRpb24uZ2V0Qm9keSgpO1xyXG4gICAgICAgICAgICBpZiAoYW5ub3RhdGlvbkJvZHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFubm90YXRpb25Cb2R5WzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VzID0gYm9keS5nZXRTZXJ2aWNlcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm9VcmkgPSB0aGlzLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yKHNlcnZpY2VzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb1VyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5mb1VyaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBubyBpbWFnZSBzZXJ2aWNlcy4gcmV0dXJuIHRoZSBpbWFnZSBpZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb25Cb2R5WzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbWFnZXMgJiYgaW1hZ2VzLmxlbmd0aCkgeyAvLyBwcmVzZW50YXRpb24gMlxyXG4gICAgICAgICAgICB2YXIgZmlyc3RJbWFnZSA9IGltYWdlc1swXTtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlID0gZmlyc3RJbWFnZS5nZXRSZXNvdXJjZSgpO1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZXMgPSByZXNvdXJjZS5nZXRTZXJ2aWNlcygpO1xyXG4gICAgICAgICAgICBpZiAoc2VydmljZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZvVXJpID0gdGhpcy5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvcihzZXJ2aWNlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mb1VyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZvVXJpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIGltYWdlIHNlcnZpY2VzLiByZXR1cm4gdGhlIGltYWdlIGlkXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIExlZ2FjeSBJeElGXHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gY2FudmFzLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuSVhJRik7XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlKSB7IC8vIHRvZG86IGRlcHJlY2F0ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0SW5mb1VyaSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgY2FudmFzIGlkLlxyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzLmlkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5fcGFyc2VBdXRoU2VydmljZXMgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5hdXRoQVBJVmVyc2lvbiA9PT0gMC45KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMF9DTElDS19USFJPVUdIKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dpblNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfTE9HSU4pO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8wX1JFU1RSSUNURUQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX1RPS0VOKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxvZ2luU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfVE9LRU4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucmVzdHJpY3RlZFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMucmVzdHJpY3RlZFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5yZXN0cmljdGVkU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9UT0tFTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGF1dGggMVxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVzb3VyY2UgaXMgYSBjYW52YXMsIG5vdCBhbiBpbmZvLmpzb24sIGxvb2sgZm9yIGF1dGggc2VydmljZXMgb24gaXRzIGNvbnRlbnQuXHJcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NhbnZhcyAhPT0gdW5kZWZpbmVkICYmIHJlc291cmNlLmlzQ2FudmFzKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVzb3VyY2UuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGNvbnRlbnRbMF0uZ2V0Qm9keSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5ICYmIGJvZHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uID0gYm9keVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBhbm5vdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfQ0xJQ0tfVEhST1VHSCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9naW5TZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8xX0xPR0lOKTtcclxuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfRVhURVJOQUwpO1xyXG4gICAgICAgICAgICB0aGlzLmtpb3NrU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMV9LSU9TSyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9iZVNlcnZpY2UgPSB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfUFJPQkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubG9naW5TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlU2VydmljZSA9IHRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1BST0JFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmV4dGVybmFsU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9iZVNlcnZpY2UgPSB0aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9QUk9CRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5raW9za1NlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMua2lvc2tTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvYmVTZXJ2aWNlID0gdGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfUFJPQkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLl9wYXJzZUNhbnZhc0RpbWVuc2lvbnMgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgdmFyIGltYWdlcyA9IGNhbnZhcy5nZXRJbWFnZXMoKTtcclxuICAgICAgICBpZiAoaW1hZ2VzICYmIGltYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGZpcnN0SW1hZ2UgPSBpbWFnZXNbMF07XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IGZpcnN0SW1hZ2UuZ2V0UmVzb3VyY2UoKTtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlc291cmNlLmdldFdpZHRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVzb3VyY2UuZ2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBwcmVzZW50YXRpb24gM1xyXG4gICAgICAgICAgICBpbWFnZXMgPSBjYW52YXMuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgICAgICBpZiAoaW1hZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBpbWFnZXNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFubm90YXRpb24uZ2V0Qm9keSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IGJvZHlbMF0uZ2V0V2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IGJvZHlbMF0uZ2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuX3BhcnNlRGVzY3JpcHRvckRpbWVuc2lvbnMgPSBmdW5jdGlvbiAoZGVzY3JpcHRvcikge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLndpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRlc2NyaXB0b3Iud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZGVzY3JpcHRvci5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLmlzQWNjZXNzQ29udHJvbGxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlIHx8IHRoaXMubG9naW5TZXJ2aWNlIHx8IHRoaXMuZXh0ZXJuYWxTZXJ2aWNlIHx8IHRoaXMua2lvc2tTZXJ2aWNlIHx8IHRoaXMucHJvYmVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuaGFzU2VydmljZURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YVVyaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhVXJpLmVuZHNXaXRoKCdpbmZvLmpzb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgdGhhdC5kYXRhID0ge307XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGF0LmRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgnVGhlcmUgaXMgbm8gZGF0YVVyaSB0byBmZXRjaCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSByZXNvdXJjZSBoYXMgYSBwcm9iZSBzZXJ2aWNlLCB1c2UgdGhhdCB0byBnZXQgaHR0cCBzdGF0dXMgY29kZVxyXG4gICAgICAgICAgICBpZiAodGhhdC5wcm9iZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuaXNQcm9iZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyB0aGlzIGluIGZvciByZWZlcmVuY2UgdW50aWwgdGhlIFhIUiB2ZXJzaW9uIGlzIGZ1bGx5IHRlc3RlZFxyXG4gICAgICAgICAgICAgICAgLy8gJC5hamF4KDxKUXVlcnlBamF4U2V0dGluZ3M+e1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHVybDogdGhhdC5wcm9iZVNlcnZpY2UuaWQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBiZWZvcmVTZW5kOiAoeGhyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW4uYWNjZXNzVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfSkuZG9uZSgoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IGNvbnRlbnRMb2NhdGlvbjogc3RyaW5nID0gdW5lc2NhcGUoZGF0YS5jb250ZW50TG9jYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChjb250ZW50TG9jYXRpb24gIT09IHRoYXQuZGF0YVVyaSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk1PVkVEX1RFTVBPUkFSSUxZO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KS5mYWlsKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoYXQuc3RhdHVzID0gZXJyb3Iuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoYXQuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgIC8vICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB4aHIgaW1wbGVtZW50YXRpb25cclxuICAgICAgICAgICAgICAgIHZhciB4aHJfMSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeGhyXzEub3BlbignR0VUJywgdGhhdC5wcm9iZVNlcnZpY2UuaWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgeGhyXzEud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHhocl8xLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoeGhyXzEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudExvY2F0aW9uID0gdW5lc2NhcGUoZGF0YS5jb250ZW50TG9jYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50TG9jYXRpb24gIT09IHRoYXQuZGF0YVVyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk1PVkVEX1RFTVBPUkFSSUxZO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHJfMS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0geGhyXzEuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyXzEuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZGF0YVVyaSBlbmRzIHdpdGggaW5mby5qc29uXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBub3QgaXNzdWUgYSBIRUFEIHJlcXVlc3QuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9ICdHRVQnO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGF0Lmhhc1NlcnZpY2VEZXNjcmlwdG9yKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhY2Nlc3MgY29udHJvbCBpcyB1bm5lY2Vzc2FyeSwgc2hvcnQgY2lyY3VpdCB0aGUgcHJvY2Vzcy5cclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgaXNBY2Nlc3NDb250cm9sbGVkIGNoZWNrIGZvciBzaG9ydC1jaXJjdWl0aW5nIG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAvLyB3b3JrcyBpbiB0aGUgXCJiaW5hcnkgcmVzb3VyY2VcIiBjb250ZXh0LCBzaW5jZSBpbiB0aGF0IGNhc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Uga25vdyBhYm91dCBhY2Nlc3MgY29udHJvbCBmcm9tIHRoZSBtYW5pZmVzdC4gRm9yIGltYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb3VyY2VzLCB3ZSBuZWVkIHRvIGNoZWNrIGluZm8uanNvbiBmb3IgZGV0YWlscyBhbmQgY2FuJ3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IGxpa2UgdGhpcy5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuaXNBY2Nlc3NDb250cm9sbGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0hFQUQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyB0aGlzIGluIGZvciByZWZlcmVuY2UgdW50aWwgdGhlIFhIUiB2ZXJzaW9uIGlzIGZ1bGx5IHRlc3RlZFxyXG4gICAgICAgICAgICAgICAgLy8gJC5hamF4KDxKUXVlcnlBamF4U2V0dGluZ3M+e1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHVybDogdGhhdC5kYXRhVXJpLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBiZWZvcmVTZW5kOiAoeGhyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW4uYWNjZXNzVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfSkuZG9uZSgoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gaWYgaXQncyBhIHJlc291cmNlIHdpdGhvdXQgYW4gaW5mby5qc29uXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gdG9kbzogaWYgcmVzb3VyY2UgZG9lc24ndCBoYXZlIGEgQHByb2ZpbGVcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBsZXQgdXJpOiBzdHJpbmcgPSB1bmVzY2FwZShkYXRhWydAaWQnXSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuX3BhcnNlQXV0aFNlcnZpY2VzKHRoYXQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIHJlbW92ZSB0cmFpbGluZyAvaW5mby5qc29uXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmICh1cmkuZW5kc1dpdGgoJy9pbmZvLmpzb24nKSl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB1cmkgPSB1cmkuc3Vic3RyKDAsIHVyaS5sYXN0SW5kZXhPZignLycpKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBsZXQgZGF0YVVyaTogc3RyaW5nIHwgbnVsbCA9IHRoYXQuZGF0YVVyaTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGRhdGFVcmkgJiYgZGF0YVVyaS5lbmRzV2l0aCgnL2luZm8uanNvbicpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRhdGFVcmkgPSBkYXRhVXJpLnN1YnN0cigwLCBkYXRhVXJpLmxhc3RJbmRleE9mKCcvJykpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIGlmIHRoZSByZXF1ZXN0IHdhcyByZWRpcmVjdGVkIHRvIGEgZGVncmFkZWQgdmVyc2lvbiBhbmQgdGhlcmUncyBhIGxvZ2luIHNlcnZpY2UgdG8gZ2V0IHRoZSBmdWxsIHF1YWxpdHkgdmVyc2lvblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAodXJpICE9PSBkYXRhVXJpICYmIHRoYXQubG9naW5TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk1PVkVEX1RFTVBPUkFSSUxZO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pLmZhaWwoKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5zdGF0dXMgPSBlcnJvci5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChlcnJvci5yZXNwb25zZUpTT04pe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0Ll9wYXJzZUF1dGhTZXJ2aWNlcyhlcnJvci5yZXNwb25zZUpTT04pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB4aHIgaW1wbGVtZW50YXRpb25cclxuICAgICAgICAgICAgICAgIHZhciB4aHJfMiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeGhyXzIub3Blbih0eXBlLCB0aGF0LmRhdGFVcmksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy94aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHhocl8yLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW4uYWNjZXNzVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgeGhyXzIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh4aHJfMi5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSByZXNvdXJjZSB3aXRob3V0IGFuIGluZm8uanNvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvZG86IGlmIHJlc291cmNlIGRvZXNuJ3QgaGF2ZSBhIEBwcm9maWxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJpID0gdW5lc2NhcGUoZGF0YVsnQGlkJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9wYXJzZUF1dGhTZXJ2aWNlcyh0aGF0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9wYXJzZURlc2NyaXB0b3JEaW1lbnNpb25zKHRoYXQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0cmFpbGluZyAvaW5mby5qc29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmkuZW5kc1dpdGgoJy9pbmZvLmpzb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpID0gdXJpLnN1YnN0cigwLCB1cmkubGFzdEluZGV4T2YoJy8nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFVcmkgPSB0aGF0LmRhdGFVcmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVXJpICYmIGRhdGFVcmkuZW5kc1dpdGgoJy9pbmZvLmpzb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVyaSA9IGRhdGFVcmkuc3Vic3RyKDAsIGRhdGFVcmkubGFzdEluZGV4T2YoJy8nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlcXVlc3Qgd2FzIHJlZGlyZWN0ZWQgdG8gYSBkZWdyYWRlZCB2ZXJzaW9uIGFuZCB0aGVyZSdzIGEgbG9naW4gc2VydmljZSB0byBnZXQgdGhlIGZ1bGwgcXVhbGl0eSB2ZXJzaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmkgIT09IGRhdGFVcmkgJiYgdGhhdC5sb2dpblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuTU9WRURfVEVNUE9SQVJJTFk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhocl8yLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSB4aHJfMi5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhocl8yLnJlc3BvbnNlVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9wYXJzZUF1dGhTZXJ2aWNlcyhKU09OLnBhcnNlKHhocl8yLnJlc3BvbnNlVGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhocl8yLnNlbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFeHRlcm5hbFJlc291cmNlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBFeHRlcm5hbFJlc291cmNlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dGVybmFsUmVzb3VyY2UuanMubWFwIiwiaW1wb3J0IHsgTXVsdGlTZWxlY3RTdGF0ZSB9IGZyb20gXCIuL011bHRpU2VsZWN0U3RhdGVcIjtcclxuaW1wb3J0IHsgTWV0YWRhdGFHcm91cCB9IGZyb20gXCIuL01ldGFkYXRhR3JvdXBcIjtcclxuaW1wb3J0IHsgVHJlZVNvcnRUeXBlIH0gZnJvbSBcIi4vVHJlZVNvcnRUeXBlXCI7XHJcbmltcG9ydCB7IFNlcnZpY2VQcm9maWxlLCBWaWV3aW5nSGludCwgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gXCJAaWlpZi92b2NhYnVsYXJ5XCI7XHJcbmltcG9ydCB7IEVycm9ycyB9IGZyb20gXCIuL0Vycm9yc1wiO1xyXG5pbXBvcnQgeyBMYWJlbFZhbHVlUGFpciwgTGFuZ3VhZ2UsIExhbmd1YWdlTWFwLCBNYW5pZmVzdFR5cGUsIFRyZWVOb2RlLCBUcmVlTm9kZVR5cGUsIFV0aWxzIH0gZnJvbSBcIm1hbmlmZXN0by5qc1wiO1xyXG52YXIgSGVscGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSGVscGVyKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuaWlpZlJlc291cmNlID0gdGhpcy5vcHRpb25zLmlpaWZSZXNvdXJjZTtcclxuICAgICAgICB0aGlzLm1hbmlmZXN0VXJpID0gdGhpcy5vcHRpb25zLm1hbmlmZXN0VXJpO1xyXG4gICAgICAgIHRoaXMubWFuaWZlc3QgPSB0aGlzLm9wdGlvbnMubWFuaWZlc3Q7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uSW5kZXggPSB0aGlzLm9wdGlvbnMuY29sbGVjdGlvbkluZGV4IHx8IDA7XHJcbiAgICAgICAgdGhpcy5tYW5pZmVzdEluZGV4ID0gdGhpcy5vcHRpb25zLm1hbmlmZXN0SW5kZXggfHwgMDtcclxuICAgICAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSB0aGlzLm9wdGlvbnMuc2VxdWVuY2VJbmRleCB8fCAwO1xyXG4gICAgICAgIHRoaXMuY2FudmFzSW5kZXggPSB0aGlzLm9wdGlvbnMuY2FudmFzSW5kZXggfHwgMDtcclxuICAgIH1cclxuICAgIC8vIGdldHRlcnMgLy9cclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0QXV0b0NvbXBsZXRlU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VydmljZSA9IHRoaXMuZ2V0U2VhcmNoU2VydmljZSgpO1xyXG4gICAgICAgIHZhciBhdXRvQ29tcGxldGVTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICBpZiAoc2VydmljZSkge1xyXG4gICAgICAgICAgICBhdXRvQ29tcGxldGVTZXJ2aWNlID0gc2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlNFQVJDSF8wX0FVVE9fQ09NUExFVEUpO1xyXG4gICAgICAgICAgICBpZiAoIWF1dG9Db21wbGV0ZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZVNlcnZpY2UgPSBzZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuU0VBUkNIXzFfQVVUT19DT01QTEVURSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF1dG9Db21wbGV0ZVNlcnZpY2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhdHRyaWJ1dGlvbiA9IHRoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKTtcclxuICAgICAgICBpZiAoYXR0cmlidXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIExhbmd1YWdlTWFwLmdldFZhbHVlKGF0dHJpYnV0aW9uLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNlcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SWQoaWQpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzZXNCeUlkID0gZnVuY3Rpb24gKGlkcykge1xyXG4gICAgICAgIHZhciBjYW52YXNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGlkc1tpXTtcclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzQnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhc2VzLnB1c2goY2FudmFzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FudmFzZXM7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJbmRleChpbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNJbmRleEJ5SWQoaWQpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsID0gZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgICAgICAgdmFyIGZvbGlhdGVkID0gdGhpcy5nZXRNYW5pZmVzdFR5cGUoKSA9PT0gTWFuaWZlc3RUeXBlLk1BTlVTQ1JJUFQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsKGxhYmVsLCBmb2xpYXRlZCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNSYW5nZSA9IGZ1bmN0aW9uIChjYW52YXMsIHBhdGgpIHtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5nZXRDYW52YXNSYW5nZXMoY2FudmFzKTtcclxuICAgICAgICBpZiAocGF0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnBhdGggPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VzWzBdOyAvLyBlbHNlIHJldHVybiB0aGUgZmlyc3QgcmFuZ2VcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNSYW5nZXMgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FudmFzLnJhbmdlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzLnJhbmdlczsgLy8gY2FjaGVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IHdyaXRlIHRlc3RcclxuICAgICAgICAgICAgY2FudmFzLnJhbmdlcyA9IHRoaXMubWFuaWZlc3QuZ2V0QWxsUmFuZ2VzKCkuZmlsdGVyKGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gKHJhbmdlLmdldENhbnZhc0lkcygpLnNvbWUoZnVuY3Rpb24gKGNpZCkgeyByZXR1cm4gVXRpbHMubm9ybWFsaXNlVXJsKGNpZCkgPT09IFV0aWxzLm5vcm1hbGlzZVVybChjYW52YXMuaWQpOyB9KSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FudmFzLnJhbmdlcztcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENvbGxlY3Rpb25JbmRleCA9IGZ1bmN0aW9uIChpaWlmUmVzb3VyY2UpIHtcclxuICAgICAgICAvLyB0b2RvOiB0aGlzIG9ubHkgd29ya3MgZm9yIGNvbGxlY3Rpb25zIG5lc3RlZCBvbmUgbGV2ZWwgZGVlcFxyXG4gICAgICAgIGlmIChpaWlmUmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbiAmJiAhaWlpZlJlc291cmNlLnBhcmVudENvbGxlY3Rpb24ucGFyZW50Q29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBtYW5pZmVzdCBtdXN0IGJlIGluIHRoZSByb290XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlpaWZSZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpaWlmUmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbi5pbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEN1cnJlbnRDYW52YXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJbmRleCh0aGlzLmNhbnZhc0luZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEN1cnJlbnRTZXF1ZW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZUJ5SW5kZXgodGhpcy5zZXF1ZW5jZUluZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZGVzY3JpcHRpb24sIHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5tYW5pZmVzdC5nZXRMYWJlbCgpO1xyXG4gICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobGFiZWwsIHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldExhc3RDYW52YXNMYWJlbCA9IGZ1bmN0aW9uIChhbHBoYW51bWVyaWMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRMYXN0Q2FudmFzTGFiZWwoYWxwaGFudW1lcmljKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEZpcnN0UGFnZUluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAwOyAvLyB3aHkgaXMgdGhpcyBuZWVkZWQ/XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRMYXN0UGFnZUluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSAtIDE7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRMaWNlbnNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0TGljZW5zZSgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TG9nbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldExvZ28oKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE1hbmlmZXN0VHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtYW5pZmVzdFR5cGUgPSB0aGlzLm1hbmlmZXN0LmdldE1hbmlmZXN0VHlwZSgpO1xyXG4gICAgICAgIC8vIGRlZmF1bHQgdG8gbW9ub2dyYXBoXHJcbiAgICAgICAgaWYgKG1hbmlmZXN0VHlwZSA9PT0gTWFuaWZlc3RUeXBlLkVNUFRZKSB7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0VHlwZSA9IE1hbmlmZXN0VHlwZS5NT05PR1JBUEg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYW5pZmVzdFR5cGU7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWV0YWRhdGFHcm91cHMgPSBbXTtcclxuICAgICAgICB2YXIgbWFuaWZlc3RNZXRhZGF0YSA9IHRoaXMubWFuaWZlc3QuZ2V0TWV0YWRhdGEoKTtcclxuICAgICAgICB2YXIgbWFuaWZlc3RHcm91cCA9IG5ldyBNZXRhZGF0YUdyb3VwKHRoaXMubWFuaWZlc3QpO1xyXG4gICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlOyAvLyB0aGlzIHdpbGwgYWx3YXlzIGRlZmF1bHQgdG8gZW4tR0JcclxuICAgICAgICBpZiAobWFuaWZlc3RNZXRhZGF0YSAmJiBtYW5pZmVzdE1ldGFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYW5pZmVzdEdyb3VwLmFkZE1ldGFkYXRhKG1hbmlmZXN0TWV0YWRhdGEsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFJdGVtID0gbmV3IExhYmVsVmFsdWVQYWlyKGxvY2FsZSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5sYWJlbCA9IFtuZXcgTGFuZ3VhZ2UoXCJkZXNjcmlwdGlvblwiLCBsb2NhbGUpXTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLnZhbHVlID0gdGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0uaXNSb290TGV2ZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBtYW5pZmVzdEdyb3VwLmFkZEl0ZW0obWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhSXRlbSA9IG5ldyBMYWJlbFZhbHVlUGFpcihsb2NhbGUpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0ubGFiZWwgPSBbbmV3IExhbmd1YWdlKFwiYXR0cmlidXRpb25cIiwgbG9jYWxlKV07XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS52YWx1ZSA9IHRoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmlzUm9vdExldmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgbWFuaWZlc3RHcm91cC5hZGRJdGVtKG1ldGFkYXRhSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsaWNlbnNlID0gdGhpcy5tYW5pZmVzdC5nZXRMaWNlbnNlKCk7XHJcbiAgICAgICAgaWYgKGxpY2Vuc2UpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJsaWNlbnNlXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogKG9wdGlvbnMgJiYgb3B0aW9ucy5saWNlbnNlRm9ybWF0dGVyKSA/IG9wdGlvbnMubGljZW5zZUZvcm1hdHRlci5mb3JtYXQobGljZW5zZSkgOiBsaWNlbnNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YUl0ZW0gPSBuZXcgTGFiZWxWYWx1ZVBhaXIobG9jYWxlKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLnBhcnNlKGl0ZW0pO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0uaXNSb290TGV2ZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBtYW5pZmVzdEdyb3VwLmFkZEl0ZW0obWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWFuaWZlc3QuZ2V0TG9nbygpKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwibG9nb1wiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICc8aW1nIHNyYz1cIicgKyB0aGlzLm1hbmlmZXN0LmdldExvZ28oKSArICdcIi8+J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFJdGVtID0gbmV3IExhYmVsVmFsdWVQYWlyKGxvY2FsZSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5wYXJzZShpdGVtKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmlzUm9vdExldmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgbWFuaWZlc3RHcm91cC5hZGRJdGVtKG1ldGFkYXRhSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1ldGFkYXRhR3JvdXBzLnB1c2gobWFuaWZlc3RHcm91cCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlTWV0YWRhdGFPcHRpb25zKG9wdGlvbnMsIG1ldGFkYXRhR3JvdXBzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YUdyb3VwcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSZXF1aXJlZFN0YXRlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXF1aXJlZFN0YXRlbWVudCA9IHRoaXMubWFuaWZlc3QuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQoKTtcclxuICAgICAgICBpZiAocmVxdWlyZWRTdGF0ZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiByZXF1aXJlZFN0YXRlbWVudC5nZXRMYWJlbCgpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlcXVpcmVkU3RhdGVtZW50LmdldFZhbHVlKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5fcGFyc2VNZXRhZGF0YU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucywgbWV0YWRhdGFHcm91cHMpIHtcclxuICAgICAgICAvLyBnZXQgc2VxdWVuY2UgbWV0YWRhdGFcclxuICAgICAgICB2YXIgc2VxdWVuY2UgPSB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpO1xyXG4gICAgICAgIHZhciBzZXF1ZW5jZU1ldGFkYXRhID0gc2VxdWVuY2UuZ2V0TWV0YWRhdGEoKTtcclxuICAgICAgICBpZiAoc2VxdWVuY2VNZXRhZGF0YSAmJiBzZXF1ZW5jZU1ldGFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgc2VxdWVuY2VHcm91cCA9IG5ldyBNZXRhZGF0YUdyb3VwKHNlcXVlbmNlKTtcclxuICAgICAgICAgICAgc2VxdWVuY2VHcm91cC5hZGRNZXRhZGF0YShzZXF1ZW5jZU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFHcm91cHMucHVzaChzZXF1ZW5jZUdyb3VwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2V0IHJhbmdlIG1ldGFkYXRhXHJcbiAgICAgICAgaWYgKG9wdGlvbnMucmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlR3JvdXBzID0gdGhpcy5fZ2V0UmFuZ2VNZXRhZGF0YShbXSwgb3B0aW9ucy5yYW5nZSk7XHJcbiAgICAgICAgICAgIHJhbmdlR3JvdXBzID0gcmFuZ2VHcm91cHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUdyb3VwcyA9IG1ldGFkYXRhR3JvdXBzLmNvbmNhdChyYW5nZUdyb3Vwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGdldCBjYW52YXMgbWV0YWRhdGFcclxuICAgICAgICBpZiAob3B0aW9ucy5jYW52YXNlcyAmJiBvcHRpb25zLmNhbnZhc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuY2FudmFzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBvcHRpb25zLmNhbnZhc2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhc01ldGFkYXRhID0gY2FudmFzLmdldE1ldGFkYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzTWV0YWRhdGEgJiYgY2FudmFzTWV0YWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhc0dyb3VwID0gbmV3IE1ldGFkYXRhR3JvdXAoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXNHcm91cC5hZGRNZXRhZGF0YShjYW52YXMuZ2V0TWV0YWRhdGEoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFHcm91cHMucHVzaChjYW52YXNHcm91cCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgaW1hZ2UgbWV0YWRhdGFcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZXMgPSBjYW52YXMuZ2V0SW1hZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGltYWdlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IGltYWdlc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNZXRhZGF0YSA9IGltYWdlLmdldE1ldGFkYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlTWV0YWRhdGEgJiYgaW1hZ2VNZXRhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlR3JvdXAgPSBuZXcgTWV0YWRhdGFHcm91cChpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlR3JvdXAuYWRkTWV0YWRhdGEoaW1hZ2VNZXRhZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhR3JvdXBzLnB1c2goaW1hZ2VHcm91cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXRhZGF0YUdyb3VwcztcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLl9nZXRSYW5nZU1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhR3JvdXBzLCByYW5nZSkge1xyXG4gICAgICAgIHZhciByYW5nZU1ldGFkYXRhID0gcmFuZ2UuZ2V0TWV0YWRhdGEoKTtcclxuICAgICAgICBpZiAocmFuZ2VNZXRhZGF0YSAmJiByYW5nZU1ldGFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2VHcm91cCA9IG5ldyBNZXRhZGF0YUdyb3VwKHJhbmdlKTtcclxuICAgICAgICAgICAgcmFuZ2VHcm91cC5hZGRNZXRhZGF0YShyYW5nZU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFHcm91cHMucHVzaChyYW5nZUdyb3VwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmFuZ2UucGFyZW50UmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJhbmdlTWV0YWRhdGEobWV0YWRhdGFHcm91cHMsIHJhbmdlLnBhcmVudFJhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhR3JvdXBzO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TXVsdGlTZWxlY3RTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX211bHRpU2VsZWN0U3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZSA9IG5ldyBNdWx0aVNlbGVjdFN0YXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX211bHRpU2VsZWN0U3RhdGUucmFuZ2VzID0gdGhpcy5nZXRSYW5nZXMoKS5zbGljZSgwKTtcclxuICAgICAgICAgICAgdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZS5jYW52YXNlcyA9IHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzZXMoKS5zbGljZSgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX211bHRpU2VsZWN0U3RhdGU7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDdXJyZW50UmFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSYW5nZUJ5SWQodGhpcy5yYW5nZUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRQb3N0ZXJDYW52YXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRQb3N0ZXJDYW52YXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFBvc3RlckltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwb3N0ZXJDYW52YXMgPSB0aGlzLmdldFBvc3RlckNhbnZhcygpO1xyXG4gICAgICAgIGlmIChwb3N0ZXJDYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBwb3N0ZXJDYW52YXMuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFubm8gPSBjb250ZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBhbm5vLmdldEJvZHkoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBib2R5WzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UHJldmlvdXNSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xyXG4gICAgICAgIHZhciBjdXJyZW50UmFuZ2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChyYW5nZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50UmFuZ2UgPSByYW5nZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRSYW5nZSA9IHRoaXMuZ2V0Q3VycmVudFJhbmdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50UmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIGZsYXRUcmVlID0gdGhpcy5nZXRGbGF0dGVuZWRUcmVlKCk7XHJcbiAgICAgICAgICAgIGlmIChmbGF0VHJlZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbGF0VHJlZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gZmxhdFRyZWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBjdXJyZW50IHJhbmdlIGluIGZsYXR0ZW5lZCB0cmVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5kYXRhLmlkID09PSBjdXJyZW50UmFuZ2UuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgZmlyc3Qgbm9kZSBiZWZvcmUgaXQgdGhhdCBoYXMgY2FudmFzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldk5vZGUgPSBmbGF0VHJlZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2Tm9kZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE5leHRSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xyXG4gICAgICAgIC8vIGlmIGEgcmFuZ2UgaXMgcGFzc2VkLCB1c2UgdGhhdC4gb3RoZXJ3aXNlIGdldCB0aGUgY3VycmVudCByYW5nZS5cclxuICAgICAgICB2YXIgY3VycmVudFJhbmdlID0gbnVsbDtcclxuICAgICAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICAgICAgY3VycmVudFJhbmdlID0gcmFuZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50UmFuZ2UgPSB0aGlzLmdldEN1cnJlbnRSYW5nZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudFJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciBmbGF0VHJlZSA9IHRoaXMuZ2V0RmxhdHRlbmVkVHJlZSgpO1xyXG4gICAgICAgICAgICBpZiAoZmxhdFRyZWUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmxhdFRyZWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGZsYXRUcmVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgY3VycmVudCByYW5nZSBpbiBmbGF0dGVuZWQgdHJlZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuZGF0YS5pZCA9PT0gY3VycmVudFJhbmdlLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGZpcnN0IG5vZGUgYWZ0ZXIgaXQgdGhhdCBoYXMgY2FudmFzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBmbGF0VHJlZS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dE5vZGUgPSBmbGF0VHJlZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZS5kYXRhLmNhbnZhc2VzICYmIG5leHROb2RlLmRhdGEuY2FudmFzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHROb2RlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0RmxhdHRlbmVkVHJlZSA9IGZ1bmN0aW9uICh0cmVlTm9kZSkge1xyXG4gICAgICAgIHZhciB0ID0gbnVsbDtcclxuICAgICAgICBpZiAoIXRyZWVOb2RlKSB7XHJcbiAgICAgICAgICAgIHQgPSB0aGlzLmdldFRyZWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHQgPSB0cmVlTm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYXR0ZW5UcmVlKHQsICdub2RlcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyB1c2Ugb2JqZWN0LmFzc2lnbiB0byByZXR1cm4gYSBzZXQgb2YgbmV3IG5vZGVzXHJcbiAgICAvLyByaWdodCBub3cgdGhlIFVWIG5lZWRzIHRoZSBub2RlcyB0byByZXRhaW4gcHJvcGVydGllcyBmb3IgZGF0YWJpbmRpbmcgbGlrZSBleHBhbmRlZFxyXG4gICAgLy8gYXMgd2UncmUgbm90IHJlZHJhd2luZyB0aGUgdHJlZSBldmVyeSB0aW1lIGFzIHBlciByZWFjdC5cclxuICAgIC8vIG1heWJlIG1ha2UgdGhpcyBvcHRpb25hbC5cclxuICAgIC8vIG5vdCBzdXJlIHdoeSBkZWxldGluZyB0aGUgbm9kZXMga2V5IGZyb20gZWFjaCBub2RlIGlzIG5lY2Vzc2FyeVxyXG4gICAgSGVscGVyLnByb3RvdHlwZS5fZmxhdHRlblRyZWUgPSBmdW5jdGlvbiAocm9vdCwga2V5KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZmxhdHRlbiA9IFtyb290XTsgLy9bT2JqZWN0LmFzc2lnbih7fSwgcm9vdCldO1xyXG4gICAgICAgIC8vZGVsZXRlIGZsYXR0ZW5bMF1ba2V5XTtcclxuICAgICAgICBpZiAocm9vdFtrZXldICYmIHJvb3Rba2V5XS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuLmNvbmNhdChyb290W2tleV1cclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBfdGhpcy5fZmxhdHRlblRyZWUoY2hpbGQsIGtleSk7IH0pXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChiKTsgfSwgW10pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW47XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0QWxsUmFuZ2VzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSYW5nZUJ5UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSYW5nZUJ5UGF0aChwYXRoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJhbmdlQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmFuZ2VCeUlkKGlkKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJhbmdlQ2FudmFzZXMgPSBmdW5jdGlvbiAocmFuZ2UpIHtcclxuICAgICAgICB2YXIgaWRzID0gcmFuZ2UuZ2V0Q2FudmFzSWRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXNCeUlkKGlkcyk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRSZWxhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0UmVsYXRlZCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0U2VhcmNoU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZXJ2aWNlID0gdGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlNFQVJDSF8wKTtcclxuICAgICAgICBpZiAoIXNlcnZpY2UpIHtcclxuICAgICAgICAgICAgc2VydmljZSA9IHRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5TRUFSQ0hfMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0U2VlQWxzbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFNlZUFsc28oKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFNlcXVlbmNlQnlJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0U2VxdWVuY2VCeUluZGV4KGluZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFNoYXJlU2VydmljZVVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1cmwgPSBudWxsO1xyXG4gICAgICAgIHZhciBzaGFyZVNlcnZpY2UgPSB0aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuU0hBUkVfRVhURU5TSU9OUyk7XHJcbiAgICAgICAgaWYgKHNoYXJlU2VydmljZSkge1xyXG4gICAgICAgICAgICBpZiAoc2hhcmVTZXJ2aWNlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc2hhcmVTZXJ2aWNlID0gc2hhcmVTZXJ2aWNlWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVybCA9IHNoYXJlU2VydmljZS5fX2pzb25sZC5zaGFyZVVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLl9nZXRTb3J0ZWRUcmVlTm9kZXNCeURhdGUgPSBmdW5jdGlvbiAoc29ydGVkVHJlZSwgdHJlZSkge1xyXG4gICAgICAgIC8vIGNvbnN0IGFsbDogVHJlZU5vZGVbXSA9IDxUcmVlTm9kZVtdPnRyZWUubm9kZXMuZW4oKS50cmF2ZXJzZVVuaXF1ZShub2RlID0+IG5vZGUubm9kZXMpXHJcbiAgICAgICAgLy8gICAgIC53aGVyZSgobikgPT4gbi5kYXRhLnR5cGUgPT09IFRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OIHx8XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIG4uZGF0YS50eXBlID09PSBUcmVlTm9kZVR5cGUuTUFOSUZFU1QpLnRvQXJyYXkoKTtcclxuICAgICAgICB2YXIgZmxhdHRlbmVkVHJlZSA9IHRoaXMuZ2V0RmxhdHRlbmVkVHJlZSh0cmVlKTtcclxuICAgICAgICAvLyBjb25zdCBtYW5pZmVzdHM6IFRyZWVOb2RlW10gPSA8VHJlZU5vZGVbXT50cmVlLm5vZGVzLmVuKCkudHJhdmVyc2VVbmlxdWUobiA9PiBuLm5vZGVzKVxyXG4gICAgICAgIC8vICAgICAud2hlcmUoKG4pID0+IG4uZGF0YS50eXBlID09PSBUcmVlTm9kZVR5cGUuTUFOSUZFU1QpLnRvQXJyYXkoKTtcclxuICAgICAgICBpZiAoZmxhdHRlbmVkVHJlZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFuaWZlc3RzID0gZmxhdHRlbmVkVHJlZS5maWx0ZXIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uZGF0YS50eXBlID09PSBUcmVlTm9kZVR5cGUuTUFOSUZFU1Q7IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURlY2FkZU5vZGVzKHNvcnRlZFRyZWUsIGZsYXR0ZW5lZFRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvcnREZWNhZGVOb2Rlcyhzb3J0ZWRUcmVlKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVZZWFyTm9kZXMoc29ydGVkVHJlZSwgZmxhdHRlbmVkVHJlZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydFllYXJOb2Rlcyhzb3J0ZWRUcmVlKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVNb250aE5vZGVzKHNvcnRlZFRyZWUsIG1hbmlmZXN0cyk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydE1vbnRoTm9kZXMoc29ydGVkVHJlZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGF0ZU5vZGVzKHNvcnRlZFRyZWUsIG1hbmlmZXN0cyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJ1bmVEZWNhZGVOb2Rlcyhzb3J0ZWRUcmVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFN0YXJ0Q2FudmFzSW5kZXgoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFRodW1icyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0VGh1bWJzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0VG9wUmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0VG9wUmFuZ2VzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFRvdGFsQ2FudmFzZXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFRyYWNraW5nTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRUcmFja2luZ0xhYmVsKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5fZ2V0VG9wUmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlpaWZSZXNvdXJjZS5nZXRUb3BSYW5nZXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFRyZWUgPSBmdW5jdGlvbiAodG9wUmFuZ2VJbmRleCwgc29ydFR5cGUpIHtcclxuICAgICAgICAvLyBpZiBpdCdzIGEgY29sbGVjdGlvbiwgdXNlIElJSUZSZXNvdXJjZS5nZXREZWZhdWx0VHJlZSgpXHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBnZXQgdGhlIHRvcCByYW5nZSBieSBpbmRleCBhbmQgdXNlIFJhbmdlLmdldFRyZWUoKVxyXG4gICAgICAgIGlmICh0b3BSYW5nZUluZGV4ID09PSB2b2lkIDApIHsgdG9wUmFuZ2VJbmRleCA9IDA7IH1cclxuICAgICAgICBpZiAoc29ydFR5cGUgPT09IHZvaWQgMCkgeyBzb3J0VHlwZSA9IFRyZWVTb3J0VHlwZS5OT05FOyB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlpaWZSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRyZWU7XHJcbiAgICAgICAgaWYgKHRoaXMuaWlpZlJlc291cmNlLmlzQ29sbGVjdGlvbigpKSB7XHJcbiAgICAgICAgICAgIHRyZWUgPSB0aGlzLmlpaWZSZXNvdXJjZS5nZXREZWZhdWx0VHJlZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHRvcFJhbmdlcyA9IHRoaXMuX2dldFRvcFJhbmdlcygpO1xyXG4gICAgICAgICAgICB2YXIgcm9vdCA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICByb290LmxhYmVsID0gJ3Jvb3QnO1xyXG4gICAgICAgICAgICByb290LmRhdGEgPSB0aGlzLmlpaWZSZXNvdXJjZTtcclxuICAgICAgICAgICAgaWYgKHRvcFJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRvcFJhbmdlc1t0b3BSYW5nZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIHRyZWUgPSByYW5nZS5nZXRUcmVlKHJvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNvcnRlZFRyZWUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICBzd2l0Y2ggKHNvcnRUeXBlLnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgY2FzZSBUcmVlU29ydFR5cGUuREFURS50b1N0cmluZygpOlxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJucyBhIGxpc3Qgb2YgdHJlZW5vZGVzIGZvciBlYWNoIGRlY2FkZS5cclxuICAgICAgICAgICAgICAgIC8vIGV4cGFuZGluZyBhIGRlY2FkZSBnZW5lcmF0ZXMgYSBsaXN0IG9mIHllYXJzXHJcbiAgICAgICAgICAgICAgICAvLyBleHBhbmRpbmcgYSB5ZWFyIGdpdmVzIGEgbGlzdCBvZiBtb250aHMgY29udGFpbmluZyBpc3N1ZXNcclxuICAgICAgICAgICAgICAgIC8vIGV4cGFuZGluZyBhIG1vbnRoIGdpdmVzIGEgbGlzdCBvZiBpc3N1ZXMuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmVlSGFzTmF2RGF0ZXModHJlZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRTb3J0ZWRUcmVlTm9kZXNCeURhdGUoc29ydGVkVHJlZSwgdHJlZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzb3J0ZWRUcmVlID0gdHJlZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNvcnRlZFRyZWU7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS50cmVlSGFzTmF2RGF0ZXMgPSBmdW5jdGlvbiAodHJlZSkge1xyXG4gICAgICAgIC8vY29uc3Qgbm9kZTogVHJlZU5vZGUgPSB0cmVlLm5vZGVzLmVuKCkudHJhdmVyc2VVbmlxdWUobm9kZSA9PiBub2RlLm5vZGVzKS53aGVyZSgobikgPT4gIWlzTmFOKDxhbnk+bi5uYXZEYXRlKSkuZmlyc3QoKTtcclxuICAgICAgICAvLyB0b2RvOiB3cml0ZSB0ZXN0XHJcbiAgICAgICAgdmFyIGZsYXR0ZW5lZFRyZWUgPSB0aGlzLmdldEZsYXR0ZW5lZFRyZWUodHJlZSk7XHJcbiAgICAgICAgcmV0dXJuIChmbGF0dGVuZWRUcmVlKSA/IGZsYXR0ZW5lZFRyZWUuc29tZShmdW5jdGlvbiAobikgeyByZXR1cm4gIWlzTmFOKG4ubmF2RGF0ZSk7IH0pIDogZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICBpZiAoIXZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMubWFuaWZlc3QuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmlld2luZ0RpcmVjdGlvbjtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFZpZXdpbmdIaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZpZXdpbmdIaW50ID0gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRWaWV3aW5nSGludCgpO1xyXG4gICAgICAgIGlmICghdmlld2luZ0hpbnQpIHtcclxuICAgICAgICAgICAgdmlld2luZ0hpbnQgPSB0aGlzLm1hbmlmZXN0LmdldFZpZXdpbmdIaW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2aWV3aW5nSGludDtcclxuICAgIH07XHJcbiAgICAvLyBpbnF1aXJpZXMgLy9cclxuICAgIEhlbHBlci5wcm90b3R5cGUuaGFzUGFyZW50Q29sbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhIXRoaXMubWFuaWZlc3QucGFyZW50Q29sbGVjdGlvbjtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmhhc1JlbGF0ZWRQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWxhdGVkID0gdGhpcy5nZXRSZWxhdGVkKCk7XHJcbiAgICAgICAgaWYgKCFyZWxhdGVkKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJlbGF0ZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJlbGF0ZWQgPSByZWxhdGVkWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVsYXRlZFsnZm9ybWF0J10gPT09ICd0ZXh0L2h0bWwnO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaGFzUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldEN1cnJlbnRDYW52YXMoKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzLmdldFJlc291cmNlcygpLmxlbmd0aCA+IDA7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0JvdHRvbVRvVG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uQk9UVE9NX1RPX1RPUDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNDYW52YXNJbmRleE91dE9mUmFuZ2UgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZShpbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0NvbnRpbnVvdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZpZXdpbmdIaW50ID0gdGhpcy5nZXRWaWV3aW5nSGludCgpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nSGludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0hpbnQgPT09IFZpZXdpbmdIaW50LkNPTlRJTlVPVVM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzRmlyc3RDYW52YXMgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0ZpcnN0Q2FudmFzKGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNGaXJzdENhbnZhcyh0aGlzLmNhbnZhc0luZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzSG9yaXpvbnRhbGx5QWxpZ25lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0xlZnRUb1JpZ2h0KCkgfHwgdGhpcy5pc1JpZ2h0VG9MZWZ0KCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0xhc3RDYW52YXMgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0xhc3RDYW52YXMoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0xhc3RDYW52YXModGhpcy5jYW52YXNJbmRleCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0xlZnRUb1JpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uTEVGVF9UT19SSUdIVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNNdWx0aUNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc011bHRpQ2FudmFzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc011bHRpU2VxdWVuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5pc011bHRpU2VxdWVuY2UoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzUGFnZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGVjayB0aGUgc2VxdWVuY2UgZm9yIGEgdmlld2luZ0hpbnQgKGRlcHJlY2F0ZWQpXHJcbiAgICAgICAgdmFyIHZpZXdpbmdIaW50ID0gdGhpcy5nZXRWaWV3aW5nSGludCgpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nSGludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0hpbnQgPT09IFZpZXdpbmdIaW50LlBBR0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjaGVjayB0aGUgbWFuaWZlc3QgZm9yIGEgdmlld2luZ0hpbnQgKGRlcHJlY2F0ZWQpIG9yIHBhZ2VkIGJlaGF2aW9yXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuaXNQYWdpbmdFbmFibGVkKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1BhZ2luZ0F2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBwYWdlZCBtb2RlIGlzIHVzZWxlc3MgdW5sZXNzIHlvdSBoYXZlIGF0IGxlYXN0IDMgcGFnZXMuLi5cclxuICAgICAgICByZXR1cm4gdGhpcy5pc1BhZ2luZ0VuYWJsZWQoKSAmJiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSA+IDI7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMubWFuaWZlc3QuaXNQYWdpbmdFbmFibGVkKCkgfHwgdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc1BhZ2luZ0VuYWJsZWQoKSk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1JpZ2h0VG9MZWZ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNUb3BUb0JvdHRvbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIGlmICh2aWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLlRPUF9UT19CT1RUT007XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzVG90YWxDYW52YXNlc0V2ZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNUb3RhbENhbnZhc2VzRXZlbigpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNVSUVuYWJsZWQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVpRXh0ZW5zaW9ucyA9IHRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5VSV9FWFRFTlNJT05TKTtcclxuICAgICAgICBpZiAodWlFeHRlbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlVUkgPSB1aUV4dGVuc2lvbnMuZ2V0UHJvcGVydHkoJ2Rpc2FibGVVSScpO1xyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZVVJKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZVVJLmluZGV4T2YobmFtZSkgIT09IC0xIHx8IGRpc2FibGVVSS5pbmRleE9mKG5hbWUudG9Mb3dlckNhc2UoKSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNWZXJ0aWNhbGx5QWxpZ25lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1RvcFRvQm90dG9tKCkgfHwgdGhpcy5pc0JvdHRvbVRvVG9wKCk7XHJcbiAgICB9O1xyXG4gICAgLy8gZGF0ZXMgLy8gICAgIFxyXG4gICAgSGVscGVyLnByb3RvdHlwZS5jcmVhdGVEYXRlTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUsIG5vZGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMuZ2V0Tm9kZVllYXIobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBtb250aCA9IHRoaXMuZ2V0Tm9kZU1vbnRoKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgZGF0ZU5vZGUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgZGF0ZU5vZGUuaWQgPSBub2RlLmlkO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5sYWJlbCA9IHRoaXMuZ2V0Tm9kZURpc3BsYXlEYXRlKG5vZGUpO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5kYXRhID0gbm9kZS5kYXRhO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5kYXRhLnR5cGUgPSBUcmVlTm9kZVR5cGUuTUFOSUZFU1Q7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmRhdGEueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmRhdGEubW9udGggPSBtb250aDtcclxuICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSB0aGlzLmdldERlY2FkZU5vZGUocm9vdE5vZGUsIHllYXIpO1xyXG4gICAgICAgICAgICBpZiAoZGVjYWRlTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHllYXJOb2RlID0gdGhpcy5nZXRZZWFyTm9kZShkZWNhZGVOb2RlLCB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIGlmICh5ZWFyTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5vZGUgPSB0aGlzLmdldE1vbnRoTm9kZSh5ZWFyTm9kZSwgbW9udGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb250aE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhOb2RlLmFkZE5vZGUoZGF0ZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmNyZWF0ZURlY2FkZU5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlLCBub2Rlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFub2RlLm5hdkRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy5nZXROb2RlWWVhcihub2RlKTtcclxuICAgICAgICAgICAgdmFyIGVuZFllYXIgPSBOdW1iZXIoeWVhci50b1N0cmluZygpLnN1YnN0cigwLCAzKSArIFwiOVwiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldERlY2FkZU5vZGUocm9vdE5vZGUsIHllYXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVjYWRlTm9kZS5sYWJlbCA9IHllYXIgKyBcIiAtIFwiICsgZW5kWWVhcjtcclxuICAgICAgICAgICAgICAgIGRlY2FkZU5vZGUubmF2RGF0ZSA9IG5vZGUubmF2RGF0ZTtcclxuICAgICAgICAgICAgICAgIGRlY2FkZU5vZGUuZGF0YS5zdGFydFllYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgZGVjYWRlTm9kZS5kYXRhLmVuZFllYXIgPSBlbmRZZWFyO1xyXG4gICAgICAgICAgICAgICAgcm9vdE5vZGUuYWRkTm9kZShkZWNhZGVOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmNyZWF0ZU1vbnRoTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUsIG5vZGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIW5vZGUubmF2RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLmdldE5vZGVZZWFyKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgbW9udGggPSB0aGlzLmdldE5vZGVNb250aChub2RlKTtcclxuICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSB0aGlzLmdldERlY2FkZU5vZGUocm9vdE5vZGUsIHllYXIpO1xyXG4gICAgICAgICAgICB2YXIgeWVhck5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoZGVjYWRlTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgeWVhck5vZGUgPSB0aGlzLmdldFllYXJOb2RlKGRlY2FkZU5vZGUsIHllYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkZWNhZGVOb2RlICYmIHllYXJOb2RlICYmICF0aGlzLmdldE1vbnRoTm9kZSh5ZWFyTm9kZSwgbW9udGgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOb2RlID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBtb250aE5vZGUubGFiZWwgPSB0aGlzLmdldE5vZGVEaXNwbGF5TW9udGgobm9kZSk7XHJcbiAgICAgICAgICAgICAgICBtb250aE5vZGUubmF2RGF0ZSA9IG5vZGUubmF2RGF0ZTtcclxuICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5kYXRhLnllYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgbW9udGhOb2RlLmRhdGEubW9udGggPSBtb250aDtcclxuICAgICAgICAgICAgICAgIHllYXJOb2RlLmFkZE5vZGUobW9udGhOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmNyZWF0ZVllYXJOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSwgbm9kZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5uYXZEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMuZ2V0Tm9kZVllYXIobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gdGhpcy5nZXREZWNhZGVOb2RlKHJvb3ROb2RlLCB5ZWFyKTtcclxuICAgICAgICAgICAgaWYgKGRlY2FkZU5vZGUgJiYgIXRoaXMuZ2V0WWVhck5vZGUoZGVjYWRlTm9kZSwgeWVhcikpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyTm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgeWVhck5vZGUubGFiZWwgPSB5ZWFyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB5ZWFyTm9kZS5uYXZEYXRlID0gbm9kZS5uYXZEYXRlO1xyXG4gICAgICAgICAgICAgICAgeWVhck5vZGUuZGF0YS55ZWFyID0geWVhcjtcclxuICAgICAgICAgICAgICAgIGRlY2FkZU5vZGUuYWRkTm9kZSh5ZWFyTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXREZWNhZGVOb2RlID0gZnVuY3Rpb24gKHJvb3ROb2RlLCB5ZWFyKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290Tm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IHJvb3ROb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoeWVhciA+PSBuLmRhdGEuc3RhcnRZZWFyICYmIHllYXIgPD0gbi5kYXRhLmVuZFllYXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRNb250aE5vZGUgPSBmdW5jdGlvbiAoeWVhck5vZGUsIG1vbnRoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB5ZWFyTm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IHllYXJOb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobW9udGggPT09IHRoaXMuZ2V0Tm9kZU1vbnRoKG4pKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Tm9kZURpc3BsYXlEYXRlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5uYXZEYXRlLnRvRGF0ZVN0cmluZygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Tm9kZURpc3BsYXlNb250aCA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIG1vbnRocyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xyXG4gICAgICAgIHJldHVybiBtb250aHNbbm9kZS5uYXZEYXRlLmdldE1vbnRoKCldO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Tm9kZU1vbnRoID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5uYXZEYXRlLmdldE1vbnRoKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXROb2RlWWVhciA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUubmF2RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0WWVhck5vZGUgPSBmdW5jdGlvbiAoZGVjYWRlTm9kZSwgeWVhcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVjYWRlTm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IGRlY2FkZU5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh5ZWFyID09PSB0aGlzLmdldE5vZGVZZWFyKG4pKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vIGRlbGV0ZSBhbnkgZW1wdHkgZGVjYWRlc1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5wcnVuZURlY2FkZU5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlKSB7XHJcbiAgICAgICAgdmFyIHBydW5lZCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdE5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG4gPSByb290Tm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFuLm5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcHJ1bmVkLnB1c2gobik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcnVuZWQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIHAgPSBwcnVuZWRbal07XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHJvb3ROb2RlLm5vZGVzLmluZGV4T2YocCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByb290Tm9kZS5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuc29ydERlY2FkZU5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlKSB7XHJcbiAgICAgICAgcm9vdE5vZGUubm9kZXMgPSByb290Tm9kZS5ub2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLmRhdGEuc3RhcnRZZWFyIC0gYi5kYXRhLnN0YXJ0WWVhcjtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLnNvcnRNb250aE5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3ROb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gcm9vdE5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVjYWRlTm9kZS5ub2Rlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTm9kZSA9IGRlY2FkZU5vZGUubm9kZXNbal07XHJcbiAgICAgICAgICAgICAgICBtb250aE5vZGUubm9kZXMgPSBtb250aE5vZGUubm9kZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXROb2RlTW9udGgoYSkgLSBfdGhpcy5nZXROb2RlTW9udGgoYik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLnNvcnRZZWFyTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdE5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSByb290Tm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgZGVjYWRlTm9kZS5ub2RlcyA9IGRlY2FkZU5vZGUubm9kZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChfdGhpcy5nZXROb2RlWWVhcihhKSAtIF90aGlzLmdldE5vZGVZZWFyKGIpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWxwZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEhlbHBlciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWxwZXIuanMubWFwIiwidmFyIElMYWJlbFZhbHVlUGFpciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIElMYWJlbFZhbHVlUGFpcigpIHtcclxuICAgIH1cclxuICAgIHJldHVybiBJTGFiZWxWYWx1ZVBhaXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IElMYWJlbFZhbHVlUGFpciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JTGFiZWxWYWx1ZVBhaXIuanMubWFwIiwidmFyIE1ldGFkYXRhR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNZXRhZGF0YUdyb3VwKHJlc291cmNlLCBsYWJlbCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgfVxyXG4gICAgTWV0YWRhdGFHcm91cC5wcm90b3R5cGUuYWRkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfTtcclxuICAgIE1ldGFkYXRhR3JvdXAucHJvdG90eXBlLmFkZE1ldGFkYXRhID0gZnVuY3Rpb24gKG1ldGFkYXRhLCBpc1Jvb3RMZXZlbCkge1xyXG4gICAgICAgIGlmIChpc1Jvb3RMZXZlbCA9PT0gdm9pZCAwKSB7IGlzUm9vdExldmVsID0gZmFsc2U7IH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gbWV0YWRhdGFbaV07XHJcbiAgICAgICAgICAgIGl0ZW0uaXNSb290TGV2ZWwgPSBpc1Jvb3RMZXZlbDtcclxuICAgICAgICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gTWV0YWRhdGFHcm91cDtcclxufSgpKTtcclxuZXhwb3J0IHsgTWV0YWRhdGFHcm91cCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXRhZGF0YUdyb3VwLmpzLm1hcCIsInZhciBNZXRhZGF0YU9wdGlvbnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNZXRhZGF0YU9wdGlvbnMoKSB7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWV0YWRhdGFPcHRpb25zO1xyXG59KCkpO1xyXG5leHBvcnQgeyBNZXRhZGF0YU9wdGlvbnMgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWV0YWRhdGFPcHRpb25zLmpzLm1hcCIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIm1hbmlmZXN0by5qc1wiO1xyXG52YXIgTXVsdGlTZWxlY3RTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE11bHRpU2VsZWN0U3RhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJhbmdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FudmFzZXMgPSBbXTtcclxuICAgIH1cclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmFsbENhbnZhc2VzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzZXMubGVuZ3RoID4gMCAmJiB0aGlzLmdldEFsbFNlbGVjdGVkQ2FudmFzZXMoKS5sZW5ndGggPT09IHRoaXMuY2FudmFzZXMubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmFsbFJhbmdlc1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5sZW5ndGggPiAwICYmIHRoaXMuZ2V0QWxsU2VsZWN0ZWRSYW5nZXMoKS5sZW5ndGggPT09IHRoaXMucmFuZ2VzLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5hbGxTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbGxSYW5nZXNTZWxlY3RlZCgpICYmIHRoaXMuYWxsQ2FudmFzZXNTZWxlY3RlZCgpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNlcy5jb25jYXQodGhpcy5yYW5nZXMpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldEFsbFNlbGVjdGVkQ2FudmFzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm11bHRpU2VsZWN0ZWQ7IH0pO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldEFsbFNlbGVjdGVkUmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIubXVsdGlTZWxlY3RlZDsgfSk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc2VzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gVXRpbHMubm9ybWFsaXNlVXJsKGMuaWQpID09PSBVdGlscy5ub3JtYWxpc2VVcmwoaWQpOyB9KVswXTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRDYW52YXNlc0J5SWRzID0gZnVuY3Rpb24gKGlkcykge1xyXG4gICAgICAgIHZhciBjYW52YXNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGlkc1tpXTtcclxuICAgICAgICAgICAgY2FudmFzZXMucHVzaCh0aGlzLmdldENhbnZhc0J5SWQoaWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhc2VzO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldFJhbmdlQ2FudmFzZXMgPSBmdW5jdGlvbiAocmFuZ2UpIHtcclxuICAgICAgICB2YXIgaWRzID0gcmFuZ2UuZ2V0Q2FudmFzSWRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXNCeUlkcyhpZHMpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdEFsbCA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmFuZ2VzKHRoaXMucmFuZ2VzLCBzZWxlY3RlZCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RDYW52YXNlcyh0aGlzLmNhbnZhc2VzLCBzZWxlY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0Q2FudmFzID0gZnVuY3Rpb24gKGNhbnZhcywgc2VsZWN0ZWQpIHtcclxuICAgICAgICB2YXIgYyA9IHRoaXMuY2FudmFzZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmlkID09PSBjYW52YXMuaWQ7IH0pWzBdO1xyXG4gICAgICAgIGMubXVsdGlTZWxlY3RlZCA9IHNlbGVjdGVkO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdEFsbENhbnZhc2VzID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RDYW52YXNlcyh0aGlzLmNhbnZhc2VzLCBzZWxlY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0Q2FudmFzZXMgPSBmdW5jdGlvbiAoY2FudmFzZXMsIHNlbGVjdGVkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYW52YXNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgY2FudmFzID0gY2FudmFzZXNbal07XHJcbiAgICAgICAgICAgIGNhbnZhcy5tdWx0aVNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdFJhbmdlID0gZnVuY3Rpb24gKHJhbmdlLCBzZWxlY3RlZCkge1xyXG4gICAgICAgIHZhciByID0gdGhpcy5yYW5nZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmlkID09PSByYW5nZS5pZDsgfSlbMF07XHJcbiAgICAgICAgci5tdWx0aVNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgdmFyIGNhbnZhc2VzID0gdGhpcy5nZXRSYW5nZUNhbnZhc2VzKHIpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q2FudmFzZXMoY2FudmFzZXMsIHNlbGVjdGVkKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RBbGxSYW5nZXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdFJhbmdlcyh0aGlzLnJhbmdlcywgc2VsZWN0ZWQpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdFJhbmdlcyA9IGZ1bmN0aW9uIChyYW5nZXMsIHNlbGVjdGVkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xyXG4gICAgICAgICAgICByYW5nZS5tdWx0aVNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXNlcyA9IHRoaXMuZ2V0Q2FudmFzZXNCeUlkcyhyYW5nZS5nZXRDYW52YXNJZHMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2FudmFzZXMoY2FudmFzZXMsIHNlbGVjdGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2V0RW5hYmxlZCA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XHJcbiAgICAgICAgdGhpcy5pc0VuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0QWxsKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xyXG4gICAgICAgICAgICBpdGVtLm11bHRpU2VsZWN0RW5hYmxlZCA9IHRoaXMuaXNFbmFibGVkO1xyXG4gICAgICAgICAgICBpZiAoIWVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubXVsdGlTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBNdWx0aVNlbGVjdFN0YXRlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBNdWx0aVNlbGVjdFN0YXRlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU11bHRpU2VsZWN0U3RhdGUuanMubWFwIiwidmFyIFRyYW5zbGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVHJhbnNsYXRpb24odmFsdWUsIGxvY2FsZSkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuICAgIH1cclxuICAgIHJldHVybiBUcmFuc2xhdGlvbjtcclxufSgpKTtcclxuZXhwb3J0IHsgVHJhbnNsYXRpb24gfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNsYXRpb24uanMubWFwIiwiZXhwb3J0IHZhciBUcmVlU29ydFR5cGU7XHJcbihmdW5jdGlvbiAoVHJlZVNvcnRUeXBlKSB7XHJcbiAgICBUcmVlU29ydFR5cGVbXCJEQVRFXCJdID0gXCJkYXRlXCI7XHJcbiAgICBUcmVlU29ydFR5cGVbXCJOT05FXCJdID0gXCJub25lXCI7XHJcbn0pKFRyZWVTb3J0VHlwZSB8fCAoVHJlZVNvcnRUeXBlID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJlZVNvcnRUeXBlLmpzLm1hcCIsIi8vIFRoaXMgY2xhc3MgZm9ybWF0cyBVUklzIGludG8gSFRNTCA8YT4gbGlua3MsIGFwcGx5aW5nIGxhYmVscyB3aGVuIGF2YWlsYWJsZVxyXG52YXIgVXJpTGFiZWxsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVcmlMYWJlbGxlcihsYWJlbHMpIHtcclxuICAgICAgICB0aGlzLmxhYmVscyA9IGxhYmVscztcclxuICAgIH1cclxuICAgIFVyaUxhYmVsbGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgLy8gaWYgYWxyZWFkeSBhIGxpbmssIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCc8YScpICE9IC0xKVxyXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgICAgIHZhciBsYWJlbCA9ICh0aGlzLmxhYmVsc1t1cmxdKSA/IHRoaXMubGFiZWxzW3VybF0gOiB1cmw7XHJcbiAgICAgICAgcmV0dXJuICc8YSBocmVmPVwiJyArIHVybCArICdcIj4nICsgbGFiZWwgKyAnPC9hPic7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVyaUxhYmVsbGVyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBVcmlMYWJlbGxlciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1VcmlMYWJlbGxlci5qcy5tYXAiLCJleHBvcnQgKiBmcm9tIFwiLi9Bbm5vdGF0aW9uR3JvdXBcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQW5ub3RhdGlvblJlY3RcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQm9vdHN0cmFwcGVyXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0V4dGVybmFsUmVzb3VyY2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vSGVscGVyXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0lMYWJlbFZhbHVlUGFpclwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9NZXRhZGF0YUdyb3VwXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL01ldGFkYXRhT3B0aW9uc1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9NdWx0aVNlbGVjdFN0YXRlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1RyZWVTb3J0VHlwZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9VcmlMYWJlbGxlclwiO1xyXG5pbXBvcnQgeyBCb290c3RyYXBwZXIgfSBmcm9tIFwiLi9Cb290c3RyYXBwZXJcIjtcclxuZXhwb3J0IHZhciBsb2FkTWFuaWZlc3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBCb290c3RyYXBwZXIob3B0aW9ucykuYm9vdHN0cmFwKCk7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBbm5vdGF0aW9uTW90aXZhdGlvbjtcclxuKGZ1bmN0aW9uIChBbm5vdGF0aW9uTW90aXZhdGlvbikge1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJCT09LTUFSS0lOR1wiXSA9IFwib2E6Ym9va21hcmtpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiQ0xBU1NJRllJTkdcIl0gPSBcIm9hOmNsYXNzaWZ5aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkNPTU1FTlRJTkdcIl0gPSBcIm9hOmNvbW1lbnRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiREVTQ1JJQklOR1wiXSA9IFwib2E6ZGVzY3JpYmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJFRElUSU5HXCJdID0gXCJvYTplZGl0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkhJR0hMSUdIVElOR1wiXSA9IFwib2E6aGlnaGxpZ2h0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIklERU5USUZZSU5HXCJdID0gXCJvYTppZGVudGlmeWluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJMSU5LSU5HXCJdID0gXCJvYTpsaW5raW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIk1PREVSQVRJTkdcIl0gPSBcIm9hOm1vZGVyYXRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiUEFJTlRJTkdcIl0gPSBcInNjOnBhaW50aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIlFVRVNUSU9OSU5HXCJdID0gXCJvYTpxdWVzdGlvbmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJSRVBMWUlOR1wiXSA9IFwib2E6cmVwbHlpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiVEFHR0lOR1wiXSA9IFwib2E6dGFnZ2luZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJUUkFOU0NSSUJJTkdcIl0gPSBcIm9hZDp0cmFuc2NyaWJpbmdcIjtcclxufSkoQW5ub3RhdGlvbk1vdGl2YXRpb24gPSBleHBvcnRzLkFubm90YXRpb25Nb3RpdmF0aW9uIHx8IChleHBvcnRzLkFubm90YXRpb25Nb3RpdmF0aW9uID0ge30pKTtcclxudmFyIEJlaGF2aW9yO1xyXG4oZnVuY3Rpb24gKEJlaGF2aW9yKSB7XHJcbiAgICBCZWhhdmlvcltcIkFVVE9fQURWQU5DRVwiXSA9IFwiYXV0by1hZHZhbmNlXCI7XHJcbiAgICBCZWhhdmlvcltcIkNPTlRJTlVPVVNcIl0gPSBcImNvbnRpbnVvdXNcIjtcclxuICAgIEJlaGF2aW9yW1wiRkFDSU5HX1BBR0VTXCJdID0gXCJmYWNpbmctcGFnZXNcIjtcclxuICAgIEJlaGF2aW9yW1wiSElEREVOXCJdID0gXCJoaWRkZW5cIjtcclxuICAgIEJlaGF2aW9yW1wiSU5ESVZJRFVBTFNcIl0gPSBcImluZGl2aWR1YWxzXCI7XHJcbiAgICBCZWhhdmlvcltcIk1VTFRJX1BBUlRcIl0gPSBcIm11bHRpLXBhcnRcIjtcclxuICAgIEJlaGF2aW9yW1wiTk9fTkFWXCJdID0gXCJuby1uYXZcIjtcclxuICAgIEJlaGF2aW9yW1wiTk9OX1BBR0VEXCJdID0gXCJub24tcGFnZWRcIjtcclxuICAgIEJlaGF2aW9yW1wiUEFHRURcIl0gPSBcInBhZ2VkXCI7XHJcbiAgICBCZWhhdmlvcltcIlJFUEVBVFwiXSA9IFwicmVwZWF0XCI7XHJcbiAgICBCZWhhdmlvcltcIlNFUVVFTkNFXCJdID0gXCJzZXF1ZW5jZVwiO1xyXG4gICAgQmVoYXZpb3JbXCJUSFVNQk5BSUxfTkFWXCJdID0gXCJ0aHVtYm5haWwtbmF2XCI7XHJcbiAgICBCZWhhdmlvcltcIlRPR0VUSEVSXCJdID0gXCJ0b2dldGhlclwiO1xyXG4gICAgQmVoYXZpb3JbXCJVTk9SREVSRURcIl0gPSBcInVub3JkZXJlZFwiO1xyXG59KShCZWhhdmlvciA9IGV4cG9ydHMuQmVoYXZpb3IgfHwgKGV4cG9ydHMuQmVoYXZpb3IgPSB7fSkpO1xyXG52YXIgRXh0ZXJuYWxSZXNvdXJjZVR5cGU7XHJcbihmdW5jdGlvbiAoRXh0ZXJuYWxSZXNvdXJjZVR5cGUpIHtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiQ0FOVkFTXCJdID0gXCJjYW52YXNcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiQ0hPSUNFXCJdID0gXCJjaG9pY2VcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiQ09OVEVOVF9BU19URVhUXCJdID0gXCJjb250ZW50YXN0ZXh0XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIkRBVEFTRVRcIl0gPSBcImRhdGFzZXRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiRE9DVU1FTlRcIl0gPSBcImRvY3VtZW50XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIklNQUdFXCJdID0gXCJpbWFnZVwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJNT0RFTFwiXSA9IFwibW9kZWxcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiTU9WSU5HX0lNQUdFXCJdID0gXCJtb3ZpbmdpbWFnZVwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJQREZcIl0gPSBcInBkZlwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJQSFlTSUNBTF9PQkpFQ1RcIl0gPSBcInBoeXNpY2Fsb2JqZWN0XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlNPVU5EXCJdID0gXCJzb3VuZFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJURVhUXCJdID0gXCJ0ZXh0XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlRFWFRVQUxCT0RZXCJdID0gXCJ0ZXh0dWFsYm9keVwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJWSURFT1wiXSA9IFwidmlkZW9cIjtcclxufSkoRXh0ZXJuYWxSZXNvdXJjZVR5cGUgPSBleHBvcnRzLkV4dGVybmFsUmVzb3VyY2VUeXBlIHx8IChleHBvcnRzLkV4dGVybmFsUmVzb3VyY2VUeXBlID0ge30pKTtcclxudmFyIElJSUZSZXNvdXJjZVR5cGU7XHJcbihmdW5jdGlvbiAoSUlJRlJlc291cmNlVHlwZSkge1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkFOTk9UQVRJT05cIl0gPSBcImFubm90YXRpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJDQU5WQVNcIl0gPSBcImNhbnZhc1wiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkNPTExFQ1RJT05cIl0gPSBcImNvbGxlY3Rpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJNQU5JRkVTVFwiXSA9IFwibWFuaWZlc3RcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJSQU5HRVwiXSA9IFwicmFuZ2VcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJTRVFVRU5DRVwiXSA9IFwic2VxdWVuY2VcIjtcclxufSkoSUlJRlJlc291cmNlVHlwZSA9IGV4cG9ydHMuSUlJRlJlc291cmNlVHlwZSB8fCAoZXhwb3J0cy5JSUlGUmVzb3VyY2VUeXBlID0ge30pKTtcclxudmFyIE1lZGlhVHlwZTtcclxuKGZ1bmN0aW9uIChNZWRpYVR5cGUpIHtcclxuICAgIE1lZGlhVHlwZVtcIkFVRElPX01QNFwiXSA9IFwiYXVkaW8vbXA0XCI7XHJcbiAgICBNZWRpYVR5cGVbXCJDT1JUT1wiXSA9IFwiYXBwbGljYXRpb24vY29ydG9cIjtcclxuICAgIE1lZGlhVHlwZVtcIkRSQUNPXCJdID0gXCJhcHBsaWNhdGlvbi9kcmFjb1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiRVBVQlwiXSA9IFwiYXBwbGljYXRpb24vZXB1Yit6aXBcIjtcclxuICAgIE1lZGlhVHlwZVtcIkdMVEZcIl0gPSBcIm1vZGVsL2dsdGYranNvblwiO1xyXG4gICAgTWVkaWFUeXBlW1wiSlBHXCJdID0gXCJpbWFnZS9qcGVnXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJNM1U4XCJdID0gXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiTVAzXCJdID0gXCJhdWRpby9tcDNcIjtcclxuICAgIE1lZGlhVHlwZVtcIk1QRUdfREFTSFwiXSA9IFwiYXBwbGljYXRpb24vZGFzaCt4bWxcIjtcclxuICAgIE1lZGlhVHlwZVtcIk9CSlwiXSA9IFwidGV4dC9wbGFpblwiO1xyXG4gICAgTWVkaWFUeXBlW1wiT1BGXCJdID0gXCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiUERGXCJdID0gXCJhcHBsaWNhdGlvbi9wZGZcIjtcclxuICAgIE1lZGlhVHlwZVtcIlBMWVwiXSA9IFwiYXBwbGljYXRpb24vcGx5XCI7XHJcbiAgICBNZWRpYVR5cGVbXCJUSFJFRUpTXCJdID0gXCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJWSURFT19NUDRcIl0gPSBcInZpZGVvL21wNFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiV0VCTVwiXSA9IFwidmlkZW8vd2VibVwiO1xyXG59KShNZWRpYVR5cGUgPSBleHBvcnRzLk1lZGlhVHlwZSB8fCAoZXhwb3J0cy5NZWRpYVR5cGUgPSB7fSkpO1xyXG52YXIgUmVuZGVyaW5nRm9ybWF0O1xyXG4oZnVuY3Rpb24gKFJlbmRlcmluZ0Zvcm1hdCkge1xyXG4gICAgUmVuZGVyaW5nRm9ybWF0W1wiRE9DXCJdID0gXCJhcHBsaWNhdGlvbi9tc3dvcmRcIjtcclxuICAgIFJlbmRlcmluZ0Zvcm1hdFtcIkRPQ1hcIl0gPSBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCI7XHJcbiAgICBSZW5kZXJpbmdGb3JtYXRbXCJQREZcIl0gPSBcImFwcGxpY2F0aW9uL3BkZlwiO1xyXG59KShSZW5kZXJpbmdGb3JtYXQgPSBleHBvcnRzLlJlbmRlcmluZ0Zvcm1hdCB8fCAoZXhwb3J0cy5SZW5kZXJpbmdGb3JtYXQgPSB7fSkpO1xyXG52YXIgU2VydmljZVByb2ZpbGU7XHJcbihmdW5jdGlvbiAoU2VydmljZVByb2ZpbGUpIHtcclxuICAgIC8vIGltYWdlIGFwaVxyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfUFJPRklMRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfUFJPRklMRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDEuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfUFJPRklMRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfUFJPRklMRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfUFJPRklMRV9MRVZFTF8xXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDEuanNvblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8yX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfUFJPRklMRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiO1xyXG4gICAgLy8gYXV0aCBhcGlcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX0NMSUNLX1RIUk9VR0hcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9MT0dJTlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfTE9HT1VUXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ291dFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfUkVTVFJJQ1RFRFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9UT0tFTlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfQ0xJQ0tfVEhST1VHSFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9jbGlja3Rocm91Z2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0VYVEVSTkFMXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9LSU9TS1wiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfTE9HSU5cIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9naW5cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0xPR09VVFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX1BST0JFXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9UT0tFTlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS90b2tlblwiO1xyXG4gICAgLy8gc2VhcmNoIGFwaVxyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTRUFSQ0hfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTRUFSQ0hfMF9BVVRPX0NPTVBMRVRFXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8xXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvc2VhcmNoXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8xX0FVVE9fQ09NUExFVEVcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIjtcclxuICAgIC8vIGV4dGVuc2lvbnNcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiVFJBQ0tJTkdfRVhURU5TSU9OU1wiXSA9IFwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiVUlfRVhURU5TSU9OU1wiXSA9IFwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby91aS1leHRlbnNpb25zLXByb2ZpbGVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiUFJJTlRfRVhURU5TSU9OU1wiXSA9IFwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0hBUkVfRVhURU5TSU9OU1wiXSA9IFwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIjtcclxuICAgIC8vIG90aGVyXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIk9USEVSX01BTklGRVNUQVRJT05TXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklYSUZcIl0gPSBcImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCI7XHJcbn0pKFNlcnZpY2VQcm9maWxlID0gZXhwb3J0cy5TZXJ2aWNlUHJvZmlsZSB8fCAoZXhwb3J0cy5TZXJ2aWNlUHJvZmlsZSA9IHt9KSk7XHJcbnZhciBWaWV3aW5nRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKFZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJCT1RUT01fVE9fVE9QXCJdID0gXCJib3R0b20tdG8tdG9wXCI7XHJcbiAgICBWaWV3aW5nRGlyZWN0aW9uW1wiTEVGVF9UT19SSUdIVFwiXSA9IFwibGVmdC10by1yaWdodFwiO1xyXG4gICAgVmlld2luZ0RpcmVjdGlvbltcIlJJR0hUX1RPX0xFRlRcIl0gPSBcInJpZ2h0LXRvLWxlZnRcIjtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJUT1BfVE9fQk9UVE9NXCJdID0gXCJ0b3AtdG8tYm90dG9tXCI7XHJcbn0pKFZpZXdpbmdEaXJlY3Rpb24gPSBleHBvcnRzLlZpZXdpbmdEaXJlY3Rpb24gfHwgKGV4cG9ydHMuVmlld2luZ0RpcmVjdGlvbiA9IHt9KSk7XHJcbnZhciBWaWV3aW5nSGludDtcclxuKGZ1bmN0aW9uIChWaWV3aW5nSGludCkge1xyXG4gICAgVmlld2luZ0hpbnRbXCJDT05USU5VT1VTXCJdID0gXCJjb250aW51b3VzXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIklORElWSURVQUxTXCJdID0gXCJpbmRpdmlkdWFsc1wiO1xyXG4gICAgVmlld2luZ0hpbnRbXCJOT05fUEFHRURcIl0gPSBcIm5vbi1wYWdlZFwiO1xyXG4gICAgVmlld2luZ0hpbnRbXCJQQUdFRFwiXSA9IFwicGFnZWRcIjtcclxuICAgIFZpZXdpbmdIaW50W1wiVE9QXCJdID0gXCJ0b3BcIjtcclxufSkoVmlld2luZ0hpbnQgPSBleHBvcnRzLlZpZXdpbmdIaW50IHx8IChleHBvcnRzLlZpZXdpbmdIaW50ID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiZXhwb3J0IHZhciBBbm5vdGF0aW9uTW90aXZhdGlvbjtcclxuKGZ1bmN0aW9uIChBbm5vdGF0aW9uTW90aXZhdGlvbikge1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJCT09LTUFSS0lOR1wiXSA9IFwib2E6Ym9va21hcmtpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiQ0xBU1NJRllJTkdcIl0gPSBcIm9hOmNsYXNzaWZ5aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkNPTU1FTlRJTkdcIl0gPSBcIm9hOmNvbW1lbnRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiREVTQ1JJQklOR1wiXSA9IFwib2E6ZGVzY3JpYmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJFRElUSU5HXCJdID0gXCJvYTplZGl0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkhJR0hMSUdIVElOR1wiXSA9IFwib2E6aGlnaGxpZ2h0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIklERU5USUZZSU5HXCJdID0gXCJvYTppZGVudGlmeWluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJMSU5LSU5HXCJdID0gXCJvYTpsaW5raW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIk1PREVSQVRJTkdcIl0gPSBcIm9hOm1vZGVyYXRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiUEFJTlRJTkdcIl0gPSBcInNjOnBhaW50aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIlFVRVNUSU9OSU5HXCJdID0gXCJvYTpxdWVzdGlvbmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJSRVBMWUlOR1wiXSA9IFwib2E6cmVwbHlpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiVEFHR0lOR1wiXSA9IFwib2E6dGFnZ2luZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJUUkFOU0NSSUJJTkdcIl0gPSBcIm9hZDp0cmFuc2NyaWJpbmdcIjtcclxufSkoQW5ub3RhdGlvbk1vdGl2YXRpb24gfHwgKEFubm90YXRpb25Nb3RpdmF0aW9uID0ge30pKTtcclxuZXhwb3J0IHZhciBCZWhhdmlvcjtcclxuKGZ1bmN0aW9uIChCZWhhdmlvcikge1xyXG4gICAgQmVoYXZpb3JbXCJBVVRPX0FEVkFOQ0VcIl0gPSBcImF1dG8tYWR2YW5jZVwiO1xyXG4gICAgQmVoYXZpb3JbXCJDT05USU5VT1VTXCJdID0gXCJjb250aW51b3VzXCI7XHJcbiAgICBCZWhhdmlvcltcIkZBQ0lOR19QQUdFU1wiXSA9IFwiZmFjaW5nLXBhZ2VzXCI7XHJcbiAgICBCZWhhdmlvcltcIkhJRERFTlwiXSA9IFwiaGlkZGVuXCI7XHJcbiAgICBCZWhhdmlvcltcIklORElWSURVQUxTXCJdID0gXCJpbmRpdmlkdWFsc1wiO1xyXG4gICAgQmVoYXZpb3JbXCJNVUxUSV9QQVJUXCJdID0gXCJtdWx0aS1wYXJ0XCI7XHJcbiAgICBCZWhhdmlvcltcIk5PX05BVlwiXSA9IFwibm8tbmF2XCI7XHJcbiAgICBCZWhhdmlvcltcIk5PTl9QQUdFRFwiXSA9IFwibm9uLXBhZ2VkXCI7XHJcbiAgICBCZWhhdmlvcltcIlBBR0VEXCJdID0gXCJwYWdlZFwiO1xyXG4gICAgQmVoYXZpb3JbXCJSRVBFQVRcIl0gPSBcInJlcGVhdFwiO1xyXG4gICAgQmVoYXZpb3JbXCJTRVFVRU5DRVwiXSA9IFwic2VxdWVuY2VcIjtcclxuICAgIEJlaGF2aW9yW1wiVEhVTUJOQUlMX05BVlwiXSA9IFwidGh1bWJuYWlsLW5hdlwiO1xyXG4gICAgQmVoYXZpb3JbXCJUT0dFVEhFUlwiXSA9IFwidG9nZXRoZXJcIjtcclxuICAgIEJlaGF2aW9yW1wiVU5PUkRFUkVEXCJdID0gXCJ1bm9yZGVyZWRcIjtcclxufSkoQmVoYXZpb3IgfHwgKEJlaGF2aW9yID0ge30pKTtcclxuZXhwb3J0IHZhciBFeHRlcm5hbFJlc291cmNlVHlwZTtcclxuKGZ1bmN0aW9uIChFeHRlcm5hbFJlc291cmNlVHlwZSkge1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDQU5WQVNcIl0gPSBcImNhbnZhc1wiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDSE9JQ0VcIl0gPSBcImNob2ljZVwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDT05URU5UX0FTX1RFWFRcIl0gPSBcImNvbnRlbnRhc3RleHRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiREFUQVNFVFwiXSA9IFwiZGF0YXNldFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJET0NVTUVOVFwiXSA9IFwiZG9jdW1lbnRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiSU1BR0VcIl0gPSBcImltYWdlXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIk1PREVMXCJdID0gXCJtb2RlbFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJNT1ZJTkdfSU1BR0VcIl0gPSBcIm1vdmluZ2ltYWdlXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlBERlwiXSA9IFwicGRmXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlBIWVNJQ0FMX09CSkVDVFwiXSA9IFwicGh5c2ljYWxvYmplY3RcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiU09VTkRcIl0gPSBcInNvdW5kXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlRFWFRcIl0gPSBcInRleHRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiVEVYVFVBTEJPRFlcIl0gPSBcInRleHR1YWxib2R5XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlZJREVPXCJdID0gXCJ2aWRlb1wiO1xyXG59KShFeHRlcm5hbFJlc291cmNlVHlwZSB8fCAoRXh0ZXJuYWxSZXNvdXJjZVR5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIElJSUZSZXNvdXJjZVR5cGU7XHJcbihmdW5jdGlvbiAoSUlJRlJlc291cmNlVHlwZSkge1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkFOTk9UQVRJT05cIl0gPSBcImFubm90YXRpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJDQU5WQVNcIl0gPSBcImNhbnZhc1wiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkNPTExFQ1RJT05cIl0gPSBcImNvbGxlY3Rpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJNQU5JRkVTVFwiXSA9IFwibWFuaWZlc3RcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJSQU5HRVwiXSA9IFwicmFuZ2VcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJTRVFVRU5DRVwiXSA9IFwic2VxdWVuY2VcIjtcclxufSkoSUlJRlJlc291cmNlVHlwZSB8fCAoSUlJRlJlc291cmNlVHlwZSA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgTWVkaWFUeXBlO1xyXG4oZnVuY3Rpb24gKE1lZGlhVHlwZSkge1xyXG4gICAgTWVkaWFUeXBlW1wiQVVESU9fTVA0XCJdID0gXCJhdWRpby9tcDRcIjtcclxuICAgIE1lZGlhVHlwZVtcIkNPUlRPXCJdID0gXCJhcHBsaWNhdGlvbi9jb3J0b1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiRFJBQ09cIl0gPSBcImFwcGxpY2F0aW9uL2RyYWNvXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJFUFVCXCJdID0gXCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiR0xURlwiXSA9IFwibW9kZWwvZ2x0Zitqc29uXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJKUEdcIl0gPSBcImltYWdlL2pwZWdcIjtcclxuICAgIE1lZGlhVHlwZVtcIk0zVThcIl0gPSBcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJNUDNcIl0gPSBcImF1ZGlvL21wM1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiTVBFR19EQVNIXCJdID0gXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiT0JKXCJdID0gXCJ0ZXh0L3BsYWluXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJPUEZcIl0gPSBcImFwcGxpY2F0aW9uL29lYnBzLXBhY2thZ2UreG1sXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJQREZcIl0gPSBcImFwcGxpY2F0aW9uL3BkZlwiO1xyXG4gICAgTWVkaWFUeXBlW1wiUExZXCJdID0gXCJhcHBsaWNhdGlvbi9wbHlcIjtcclxuICAgIE1lZGlhVHlwZVtcIlRIUkVFSlNcIl0gPSBcImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIjtcclxuICAgIE1lZGlhVHlwZVtcIlZJREVPX01QNFwiXSA9IFwidmlkZW8vbXA0XCI7XHJcbiAgICBNZWRpYVR5cGVbXCJXRUJNXCJdID0gXCJ2aWRlby93ZWJtXCI7XHJcbn0pKE1lZGlhVHlwZSB8fCAoTWVkaWFUeXBlID0ge30pKTtcclxuZXhwb3J0IHZhciBSZW5kZXJpbmdGb3JtYXQ7XHJcbihmdW5jdGlvbiAoUmVuZGVyaW5nRm9ybWF0KSB7XHJcbiAgICBSZW5kZXJpbmdGb3JtYXRbXCJET0NcIl0gPSBcImFwcGxpY2F0aW9uL21zd29yZFwiO1xyXG4gICAgUmVuZGVyaW5nRm9ybWF0W1wiRE9DWFwiXSA9IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIjtcclxuICAgIFJlbmRlcmluZ0Zvcm1hdFtcIlBERlwiXSA9IFwiYXBwbGljYXRpb24vcGRmXCI7XHJcbn0pKFJlbmRlcmluZ0Zvcm1hdCB8fCAoUmVuZGVyaW5nRm9ybWF0ID0ge30pKTtcclxuZXhwb3J0IHZhciBTZXJ2aWNlUHJvZmlsZTtcclxuKGZ1bmN0aW9uIChTZXJ2aWNlUHJvZmlsZSkge1xyXG4gICAgLy8gaW1hZ2UgYXBpXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCI7XHJcbiAgICAvLyBhdXRoIGFwaVxyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfQ0xJQ0tfVEhST1VHSFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX0xPR0lOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9MT0dPVVRcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9SRVNUUklDVEVEXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX1RPS0VOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9DTElDS19USFJPVUdIXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfRVhURVJOQUxcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0tJT1NLXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9MT0dJTlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfTE9HT1VUXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfUFJPQkVcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX1RPS0VOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCI7XHJcbiAgICAvLyBzZWFyY2ggYXBpXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8wX0FVVE9fQ09NUExFVEVcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzFfQVVUT19DT01QTEVURVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiO1xyXG4gICAgLy8gZXh0ZW5zaW9uc1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJUUkFDS0lOR19FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJVSV9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJQUklOVF9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTSEFSRV9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgLy8gb3RoZXJcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiT1RIRVJfTUFOSUZFU1RBVElPTlNcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSVhJRlwiXSA9IFwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIjtcclxufSkoU2VydmljZVByb2ZpbGUgfHwgKFNlcnZpY2VQcm9maWxlID0ge30pKTtcclxuZXhwb3J0IHZhciBWaWV3aW5nRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKFZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJCT1RUT01fVE9fVE9QXCJdID0gXCJib3R0b20tdG8tdG9wXCI7XHJcbiAgICBWaWV3aW5nRGlyZWN0aW9uW1wiTEVGVF9UT19SSUdIVFwiXSA9IFwibGVmdC10by1yaWdodFwiO1xyXG4gICAgVmlld2luZ0RpcmVjdGlvbltcIlJJR0hUX1RPX0xFRlRcIl0gPSBcInJpZ2h0LXRvLWxlZnRcIjtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJUT1BfVE9fQk9UVE9NXCJdID0gXCJ0b3AtdG8tYm90dG9tXCI7XHJcbn0pKFZpZXdpbmdEaXJlY3Rpb24gfHwgKFZpZXdpbmdEaXJlY3Rpb24gPSB7fSkpO1xyXG5leHBvcnQgdmFyIFZpZXdpbmdIaW50O1xyXG4oZnVuY3Rpb24gKFZpZXdpbmdIaW50KSB7XHJcbiAgICBWaWV3aW5nSGludFtcIkNPTlRJTlVPVVNcIl0gPSBcImNvbnRpbnVvdXNcIjtcclxuICAgIFZpZXdpbmdIaW50W1wiSU5ESVZJRFVBTFNcIl0gPSBcImluZGl2aWR1YWxzXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIk5PTl9QQUdFRFwiXSA9IFwibm9uLXBhZ2VkXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIlBBR0VEXCJdID0gXCJwYWdlZFwiO1xyXG4gICAgVmlld2luZ0hpbnRbXCJUT1BcIl0gPSBcInRvcFwiO1xyXG59KShWaWV3aW5nSGludCB8fCAoVmlld2luZ0hpbnQgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIhZnVuY3Rpb24odSxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkJhbmFuYT1lKCk6dS5CYW5hbmE9ZSgpfSh0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1KXt2YXIgZT17fTtmdW5jdGlvbiBkKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgdD1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdVtyXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxkKSx0Lmw9ITAsdC5leHBvcnRzfXJldHVybiBkLm09dSxkLmM9ZSxkLmQ9ZnVuY3Rpb24odSxlLHIpe2Qubyh1LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodSxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LGQucj1mdW5jdGlvbih1KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxkLnQ9ZnVuY3Rpb24odSxlKXtpZigxJmUmJih1PWQodSkpLDgmZSlyZXR1cm4gdTtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB1JiZ1JiZ1Ll9fZXNNb2R1bGUpcmV0dXJuIHU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihkLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dX0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHUpZm9yKHZhciB0IGluIHUpZC5kKHIsdCxmdW5jdGlvbihlKXtyZXR1cm4gdVtlXX0uYmluZChudWxsLHQpKTtyZXR1cm4gcn0sZC5uPWZ1bmN0aW9uKHUpe3ZhciBlPXUmJnUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHV9O3JldHVybiBkLmQoZSxcImFcIixlKSxlfSxkLm89ZnVuY3Rpb24odSxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsZSl9LGQucD1cIlwiLGQoZC5zPTIpfShbZnVuY3Rpb24odSl7dS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcImFyXCI6XCLZoNmh2aLZo9mk2aXZptmn2ajZqVwiLFwiZmFcIjpcItuw27Hbstuz27Tbtdu227fbuNu5XCIsXCJtbFwiOlwi4LWm4LWn4LWo4LWp4LWq4LWr4LWs4LWt4LWu4LWvXCIsXCJrblwiOlwi4LOm4LOn4LOo4LOp4LOq4LOr4LOs4LOt4LOu4LOvXCIsXCJsb1wiOlwi4LuQ4LuR4LuS4LuT4LuU4LuV4LuW4LuX4LuY4LuZXCIsXCJvclwiOlwi4K2m4K2n4K2o4K2p4K2q4K2r4K2s4K2t4K2u4K2vXCIsXCJraFwiOlwi4Z+g4Z+h4Z+i4Z+j4Z+k4Z+l4Z+m4Z+n4Z+o4Z+pXCIsXCJucW9cIjpcIt+A34Hfgt+D34Tfhd+G34ffiN+JXCIsXCJwYVwiOlwi4Kmm4Kmn4Kmo4Kmp4Kmq4Kmr4Kms4Kmt4Kmu4KmvXCIsXCJndVwiOlwi4Kum4Kun4Kuo4Kup4Kuq4Kur4Kus4Kut4Kuu4KuvXCIsXCJoaVwiOlwi4KWm4KWn4KWo4KWp4KWq4KWr4KWs4KWt4KWu4KWvXCIsXCJteVwiOlwi4YGA4YGB4YGC4YGD4YGE4YGF4YGG4YGH4YGI4YGJXCIsXCJ0YVwiOlwi4K+m4K+n4K+o4K+p4K+q4K+r4K+s4K+t4K+u4K+vXCIsXCJ0ZVwiOlwi4LGm4LGn4LGo4LGp4LGq4LGr4LGs4LGt4LGu4LGvXCIsXCJ0aFwiOlwi4LmQ4LmR4LmS4LmT4LmU4LmV4LmW4LmX4LmY4LmZXCIsXCJib1wiOlwi4Lyg4Lyh4Lyi4Lyj4Lyk4Lyl4Lym4Lyn4Lyo4LypXCJ9Jyl9LGZ1bmN0aW9uKHUpe3UuZXhwb3J0cz1KU09OLnBhcnNlKCd7XCJhYlwiOltcInJ1XCJdLFwiYWNlXCI6W1wiaWRcIl0sXCJhbG5cIjpbXCJzcVwiXSxcImFsc1wiOltcImdzd1wiLFwiZGVcIl0sXCJhblwiOltcImVzXCJdLFwiYW5wXCI6W1wiaGlcIl0sXCJhcm5cIjpbXCJlc1wiXSxcImFyelwiOltcImFyXCJdLFwiYXZcIjpbXCJydVwiXSxcImF5XCI6W1wiZXNcIl0sXCJiYVwiOltcInJ1XCJdLFwiYmFyXCI6W1wiZGVcIl0sXCJiYXQtc21nXCI6W1wic2dzXCIsXCJsdFwiXSxcImJjY1wiOltcImZhXCJdLFwiYmUteC1vbGRcIjpbXCJiZS10YXJhc2tcIl0sXCJiaFwiOltcImJob1wiXSxcImJqblwiOltcImlkXCJdLFwiYm1cIjpbXCJmclwiXSxcImJweVwiOltcImJuXCJdLFwiYnFpXCI6W1wiZmFcIl0sXCJidWdcIjpbXCJpZFwiXSxcImNiay16YW1cIjpbXCJlc1wiXSxcImNlXCI6W1wicnVcIl0sXCJjcmhcIjpbXCJjcmgtbGF0blwiXSxcImNyaC1jeXJsXCI6W1wicnVcIl0sXCJjc2JcIjpbXCJwbFwiXSxcImN2XCI6W1wicnVcIl0sXCJkZS1hdFwiOltcImRlXCJdLFwiZGUtY2hcIjpbXCJkZVwiXSxcImRlLWZvcm1hbFwiOltcImRlXCJdLFwiZHNiXCI6W1wiZGVcIl0sXCJkdHBcIjpbXCJtc1wiXSxcImVnbFwiOltcIml0XCJdLFwiZW1sXCI6W1wiaXRcIl0sXCJmZlwiOltcImZyXCJdLFwiZml0XCI6W1wiZmlcIl0sXCJmaXUtdnJvXCI6W1widnJvXCIsXCJldFwiXSxcImZyY1wiOltcImZyXCJdLFwiZnJwXCI6W1wiZnJcIl0sXCJmcnJcIjpbXCJkZVwiXSxcImZ1clwiOltcIml0XCJdLFwiZ2FnXCI6W1widHJcIl0sXCJnYW5cIjpbXCJnYW4taGFudFwiLFwiemgtaGFudFwiLFwiemgtaGFuc1wiXSxcImdhbi1oYW5zXCI6W1wiemgtaGFuc1wiXSxcImdhbi1oYW50XCI6W1wiemgtaGFudFwiLFwiemgtaGFuc1wiXSxcImdsXCI6W1wicHRcIl0sXCJnbGtcIjpbXCJmYVwiXSxcImduXCI6W1wiZXNcIl0sXCJnc3dcIjpbXCJkZVwiXSxcImhpZlwiOltcImhpZi1sYXRuXCJdLFwiaHNiXCI6W1wiZGVcIl0sXCJodFwiOltcImZyXCJdLFwiaWlcIjpbXCJ6aC1jblwiLFwiemgtaGFuc1wiXSxcImluaFwiOltcInJ1XCJdLFwiaXVcIjpbXCJpa2UtY2Fuc1wiXSxcImp1dFwiOltcImRhXCJdLFwianZcIjpbXCJpZFwiXSxcImthYVwiOltcImtrLWxhdG5cIixcImtrLWN5cmxcIl0sXCJrYmRcIjpbXCJrYmQtY3lybFwiXSxcImtod1wiOltcInVyXCJdLFwia2l1XCI6W1widHJcIl0sXCJra1wiOltcImtrLWN5cmxcIl0sXCJray1hcmFiXCI6W1wia2stY3lybFwiXSxcImtrLWxhdG5cIjpbXCJray1jeXJsXCJdLFwia2stY25cIjpbXCJray1hcmFiXCIsXCJray1jeXJsXCJdLFwia2sta3pcIjpbXCJray1jeXJsXCJdLFwia2stdHJcIjpbXCJray1sYXRuXCIsXCJray1jeXJsXCJdLFwia2xcIjpbXCJkYVwiXSxcImtvLWtwXCI6W1wia29cIl0sXCJrb2lcIjpbXCJydVwiXSxcImtyY1wiOltcInJ1XCJdLFwia3NcIjpbXCJrcy1hcmFiXCJdLFwia3NoXCI6W1wiZGVcIl0sXCJrdVwiOltcImt1LWxhdG5cIl0sXCJrdS1hcmFiXCI6W1wiY2tiXCJdLFwia3ZcIjpbXCJydVwiXSxcImxhZFwiOltcImVzXCJdLFwibGJcIjpbXCJkZVwiXSxcImxiZVwiOltcInJ1XCJdLFwibGV6XCI6W1wicnVcIl0sXCJsaVwiOltcIm5sXCJdLFwibGlqXCI6W1wiaXRcIl0sXCJsaXZcIjpbXCJldFwiXSxcImxtb1wiOltcIml0XCJdLFwibG5cIjpbXCJmclwiXSxcImx0Z1wiOltcImx2XCJdLFwibHp6XCI6W1widHJcIl0sXCJtYWlcIjpbXCJoaVwiXSxcIm1hcC1ibXNcIjpbXCJqdlwiLFwiaWRcIl0sXCJtZ1wiOltcImZyXCJdLFwibWhyXCI6W1wicnVcIl0sXCJtaW5cIjpbXCJpZFwiXSxcIm1vXCI6W1wicm9cIl0sXCJtcmpcIjpbXCJydVwiXSxcIm13bFwiOltcInB0XCJdLFwibXl2XCI6W1wicnVcIl0sXCJtem5cIjpbXCJmYVwiXSxcIm5haFwiOltcImVzXCJdLFwibmFwXCI6W1wiaXRcIl0sXCJuZHNcIjpbXCJkZVwiXSxcIm5kcy1ubFwiOltcIm5sXCJdLFwibmwtaW5mb3JtYWxcIjpbXCJubFwiXSxcIm5vXCI6W1wibmJcIl0sXCJvc1wiOltcInJ1XCJdLFwicGNkXCI6W1wiZnJcIl0sXCJwZGNcIjpbXCJkZVwiXSxcInBkdFwiOltcImRlXCJdLFwicGZsXCI6W1wiZGVcIl0sXCJwbXNcIjpbXCJpdFwiXSxcInB0XCI6W1wicHQtYnJcIl0sXCJwdC1iclwiOltcInB0XCJdLFwicXVcIjpbXCJlc1wiXSxcInF1Z1wiOltcInF1XCIsXCJlc1wiXSxcInJnblwiOltcIml0XCJdLFwicm15XCI6W1wicm9cIl0sXCJyb2EtcnVwXCI6W1wicnVwXCJdLFwicnVlXCI6W1widWtcIixcInJ1XCJdLFwicnVxXCI6W1wicnVxLWxhdG5cIixcInJvXCJdLFwicnVxLWN5cmxcIjpbXCJta1wiXSxcInJ1cS1sYXRuXCI6W1wicm9cIl0sXCJzYVwiOltcImhpXCJdLFwic2FoXCI6W1wicnVcIl0sXCJzY25cIjpbXCJpdFwiXSxcInNnXCI6W1wiZnJcIl0sXCJzZ3NcIjpbXCJsdFwiXSxcInNsaVwiOltcImRlXCJdLFwic3JcIjpbXCJzci1lY1wiXSxcInNyblwiOltcIm5sXCJdLFwic3RxXCI6W1wiZGVcIl0sXCJzdVwiOltcImlkXCJdLFwic3psXCI6W1wicGxcIl0sXCJ0Y3lcIjpbXCJrblwiXSxcInRnXCI6W1widGctY3lybFwiXSxcInR0XCI6W1widHQtY3lybFwiLFwicnVcIl0sXCJ0dC1jeXJsXCI6W1wicnVcIl0sXCJ0eVwiOltcImZyXCJdLFwidWRtXCI6W1wicnVcIl0sXCJ1Z1wiOltcInVnLWFyYWJcIl0sXCJ1a1wiOltcInJ1XCJdLFwidmVjXCI6W1wiaXRcIl0sXCJ2ZXBcIjpbXCJldFwiXSxcInZsc1wiOltcIm5sXCJdLFwidm1mXCI6W1wiZGVcIl0sXCJ2b3RcIjpbXCJmaVwiXSxcInZyb1wiOltcImV0XCJdLFwid2FcIjpbXCJmclwiXSxcIndvXCI6W1wiZnJcIl0sXCJ3dXVcIjpbXCJ6aC1oYW5zXCJdLFwieGFsXCI6W1wicnVcIl0sXCJ4bWZcIjpbXCJrYVwiXSxcInlpXCI6W1wiaGVcIl0sXCJ6YVwiOltcInpoLWhhbnNcIl0sXCJ6ZWFcIjpbXCJubFwiXSxcInpoXCI6W1wiemgtaGFuc1wiXSxcInpoLWNsYXNzaWNhbFwiOltcImx6aFwiXSxcInpoLWNuXCI6W1wiemgtaGFuc1wiXSxcInpoLWhhbnRcIjpbXCJ6aC1oYW5zXCJdLFwiemgtaGtcIjpbXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiemgtbWluLW5hblwiOltcIm5hblwiXSxcInpoLW1vXCI6W1wiemgtaGtcIixcInpoLWhhbnRcIixcInpoLWhhbnNcIl0sXCJ6aC1teVwiOltcInpoLXNnXCIsXCJ6aC1oYW5zXCJdLFwiemgtc2dcIjpbXCJ6aC1oYW5zXCJdLFwiemgtdHdcIjpbXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiemgteXVlXCI6W1wieXVlXCJdfScpfSxmdW5jdGlvbih1LGUsZCl7XCJ1c2Ugc3RyaWN0XCI7ZC5yKGUpO3ZhciByPWQoMCk7Y2xhc3MgdHtjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11fWNvbnZlcnRQbHVyYWwodSxlKXt2YXIgZD1uZXcgUmVnRXhwKFwiXFxcXGQrPVwiLFwiaVwiKTtpZighZXx8MD09PWUubGVuZ3RoKXJldHVyblwiXCI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCB0PWVbcl07aWYoZC50ZXN0KHQpKXtpZihwYXJzZUludCh0LnNsaWNlKDAsdC5pbmRleE9mKFwiPVwiKSksMTApPT09dSlyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoXCI9XCIpKzEpO2Vbcl09dm9pZCAwfX1lPWUuZmlsdGVyKHU9PiEhdSk7bGV0IHI9dGhpcy5nZXRQbHVyYWxGb3JtKHUsdGhpcy5sb2NhbGUpO3JldHVybiByPU1hdGgubWluKHIsZS5sZW5ndGgtMSksZVtyXX1nZXRQbHVyYWxGb3JtKHUsZSl7Y29uc3QgZD1uZXcgSW50bC5QbHVyYWxSdWxlcyhlKSxyPWQucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcyx0PWQuc2VsZWN0KHUpO3JldHVybltcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLmZpbHRlcih1PT5yLmluY2x1ZGVzKHUpKS5pbmRleE9mKHQpfWNvbnZlcnROdW1iZXIodSxlKXtsZXQgZD10aGlzLmRpZ2l0VHJhbnNmb3JtVGFibGUodGhpcy5sb2NhbGUpLHI9U3RyaW5nKHUpLHQ9XCJcIjtpZighZClyZXR1cm4gdTtpZihlKXtpZihwYXJzZUZsb2F0KHUsMTApPT09dSlyZXR1cm4gdTtsZXQgZT1bXTtmb3IobGV0IHUgaW4gZCllW2RbdV1dPXU7ZD1lfWZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKWRbclt1XV0/dCs9ZFtyW3VdXTp0Kz1yW3VdO3JldHVybiBlP3BhcnNlRmxvYXQodCwxMCk6dH1jb252ZXJ0R3JhbW1hcih1LGUpe3JldHVybiB1fWdlbmRlcih1LGUpe2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuXCJcIjtmb3IoO2UubGVuZ3RoPDI7KWUucHVzaChlW2UubGVuZ3RoLTFdKTtyZXR1cm5cIm1hbGVcIj09PXU/ZVswXTpcImZlbWFsZVwiPT09dT9lWzFdOjM9PT1lLmxlbmd0aD9lWzJdOmVbMF19ZGlnaXRUcmFuc2Zvcm1UYWJsZSh1KXtyZXR1cm4hIXJbdV0mJnJbdV0uc3BsaXQoXCJcIil9fXZhciBhPXticzpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtzd2l0Y2goZSl7Y2FzZVwiaW5zdHJ1bWVudGFsXCI6dT1cInMgXCIrdTticmVhaztjYXNlXCJsb2thdGl2XCI6dT1cIm8gXCIrdX1yZXR1cm4gdX19LGRlZmF1bHQ6dCxkc2I6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcImluc3RydW1lbnRhbFwiOnU9XCJ6IFwiK3U7YnJlYWs7Y2FzZVwibG9rYXRpd1wiOnU9XCJ3byBcIit1fXJldHVybiB1fX0sZmk6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7bGV0IGQ9dS5tYXRjaCgvW2FvdV1bXsOkw7Z5XSokL2kpLHI9dTtzd2l0Y2godS5tYXRjaCgvd2lraSQvaSkmJihkPSExKSx1Lm1hdGNoKC9bYmNkZmdoamtsbW5wcXJzdHZ3eHpdJC9pKSYmKHUrPVwiaVwiKSxlKXtjYXNlXCJnZW5pdGl2ZVwiOnUrPVwiblwiO2JyZWFrO2Nhc2VcImVsYXRpdmVcIjp1Kz1kP1wic3RhXCI6XCJzdMOkXCI7YnJlYWs7Y2FzZVwicGFydGl0aXZlXCI6dSs9ZD9cImFcIjpcIsOkXCI7YnJlYWs7Y2FzZVwiaWxsYXRpdmVcIjp1Kz11LnNsaWNlKC0xKStcIm5cIjticmVhaztjYXNlXCJpbmVzc2l2ZVwiOnUrPWQ/XCJzc2FcIjpcInNzw6RcIjticmVhaztkZWZhdWx0OnU9cn1yZXR1cm4gdX19LGdhOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe2lmKFwiYWlubWxhZVwiPT09ZSlzd2l0Y2godSl7Y2FzZVwiYW4gRG9taG5hY2hcIjp1PVwiRMOpIERvbWhuYWlnaFwiO2JyZWFrO2Nhc2VcImFuIEx1YW5cIjp1PVwiRMOpIEx1YWluXCI7YnJlYWs7Y2FzZVwiYW4gTWjDoWlydFwiOnU9XCJEw6kgTWjDoWlydFwiO2JyZWFrO2Nhc2VcImFuIENow6lhZGFvaW5cIjp1PVwiRMOpIENow6lhZGFvaW5cIjticmVhaztjYXNlXCJhbiBEw6lhcmRhb2luXCI6dT1cIkTDqWFyZGFvaW5cIjticmVhaztjYXNlXCJhbiBBb2luZVwiOnU9XCJEw6kgaEFvaW5lXCI7YnJlYWs7Y2FzZVwiYW4gU2F0aGFyblwiOnU9XCJEw6kgU2F0aGFpcm5cIn1yZXR1cm4gdX19LGhlOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJwcmVmaXhlZFwiOmNhc2VcIteq15fXmdec15nXqlwiOlwi15VcIj09PXUuc2xpY2UoMCwxKSYmXCLXldeVXCIhPT11LnNsaWNlKDAsMikmJih1PVwi15VcIit1KSxcIteUXCI9PT11LnNsaWNlKDAsMSkmJih1PXUuc2xpY2UoMSkpLCh1LnNsaWNlKDAsMSk8XCLXkFwifHx1LnNsaWNlKDAsMSk+XCLXqlwiKSYmKHU9XCLWvlwiK3UpfXJldHVybiB1fX0saHNiOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJpbnN0cnVtZW50YWxcIjp1PVwieiBcIit1O2JyZWFrO2Nhc2VcImxva2F0aXdcIjp1PVwid28gXCIrdX1yZXR1cm4gdX19LGh1OmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJyb2xcIjp1Kz1cInLDs2xcIjticmVhaztjYXNlXCJiYVwiOnUrPVwiYmFcIjticmVhaztjYXNlXCJrXCI6dSs9XCJrXCJ9cmV0dXJuIHV9fSxoeTpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtyZXR1cm5cImdlbml0aXZlXCI9PT1lJiYoXCLVoVwiPT09dS5zbGljZSgtMSk/dT11LnNsaWNlKDAsLTEpK1wi1aHVtdWrXCI6XCLVuFwiPT09dS5zbGljZSgtMSk/dT11LnNsaWNlKDAsLTEpK1wi1bjVtdWrXCI6XCLVo9Wr1oDWhFwiPT09dS5zbGljZSgtNCk/dT11LnNsaWNlKDAsLTQpK1wi1aPWgNaE1atcIjp1Kz1cItWrXCIpLHV9fSxsYTpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtzd2l0Y2goZSl7Y2FzZVwiZ2VuaXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJpXCIpKS5yZXBsYWNlKC9vbW11bmlhJC9pLFwib21tdW5pdW1cIikpLnJlcGxhY2UoL2EkL2ksXCJhZVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyb3J1bVwiKSkucmVwbGFjZSgvbnVudGlpJC9pLFwibnVudGlvcnVtXCIpKS5yZXBsYWNlKC90aW8kL2ksXCJ0aW9uaXNcIikpLnJlcGxhY2UoL25zJC9pLFwibnRpc1wiKSkucmVwbGFjZSgvYXMkL2ksXCJhdGlzXCIpKS5yZXBsYWNlKC9lcyQvaSxcImVpXCIpO2JyZWFrO2Nhc2VcImFjY3VzYXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJ1bVwiKSkucmVwbGFjZSgvb21tdW5pYSQvaSxcImFtXCIpKS5yZXBsYWNlKC9hJC9pLFwib21tdW5pYVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyb3NcIikpLnJlcGxhY2UoL251bnRpaSQvaSxcIm51bnRpb3NcIikpLnJlcGxhY2UoL3RpbyQvaSxcInRpb25lbVwiKSkucmVwbGFjZSgvbnMkL2ksXCJudGVtXCIpKS5yZXBsYWNlKC9hcyQvaSxcImF0ZW1cIikpLnJlcGxhY2UoL2VzJC9pLFwiZW1cIik7YnJlYWs7Y2FzZVwiYWJsYXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJvXCIpKS5yZXBsYWNlKC9vbW11bmlhJC9pLFwib21tdW5pYnVzXCIpKS5yZXBsYWNlKC9hJC9pLFwiYVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyaXNcIikpLnJlcGxhY2UoL251bnRpaSQvaSxcIm51bnRpaXNcIikpLnJlcGxhY2UoL3RpbyQvaSxcInRpb25lXCIpKS5yZXBsYWNlKC9ucyQvaSxcIm50ZVwiKSkucmVwbGFjZSgvYXMkL2ksXCJhdGVcIikpLnJlcGxhY2UoL2VzJC9pLFwiZVwiKX1yZXR1cm4gdX19LG9zOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3ZhciBkLHIsdCxhO3N3aXRjaChkPVwi0LzDplwiLHI9XCJcIix0PVwiXCIsYT1cIlwiLHUubWF0Y2goL9GCw6YkL2kpPyh1PXUuc2xpY2UoMCwtMSksZD1cIsOm0LxcIik6dS5tYXRjaCgvW9Cww6bQtdGR0LjQvtGL0Y3RjtGPXSQvaSk/cj1cItC5XCI6dS5tYXRjaCgv0YMkL2kpP3Uuc2xpY2UoLTIsLTEpLm1hdGNoKC9b0LDDptC10ZHQuNC+0YvRjdGO0Y9dJC9pKXx8KHI9XCLQuVwiKTp1Lm1hdGNoKC9b0LHQstCz0LTQttC30LnQutC70LzQvdC+0L/RgNGB0YLRhNGF0YbRh9GI0YnRjNGKXSQvaSl8fCh0PVwiLVwiKSxlKXtjYXNlXCJnZW5pdGl2ZVwiOmE9dCtyK1wi0YtcIjticmVhaztjYXNlXCJkYXRpdmVcIjphPXQrcitcIsOm0L1cIjticmVhaztjYXNlXCJhbGxhdGl2ZVwiOmE9dCtkO2JyZWFrO2Nhc2VcImFibGF0aXZlXCI6YT1cItC5XCI9PT1yP3QrcitcIsOmXCI6dCtyK1wiw6bQuVwiO2JyZWFrO2Nhc2VcInN1cGVyZXNzaXZlXCI6YT10K3IrXCLRi9C7XCI7YnJlYWs7Y2FzZVwiZXF1YXRpdmVcIjphPXQrcitcItCw0YNcIjticmVhaztjYXNlXCJjb21pdGF0aXZlXCI6YT10K1wi0LjQvMOmXCJ9cmV0dXJuIHUrYX19LHJ1OmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3JldHVyblwiZ2VuaXRpdmVcIj09PWUmJihcItGMXCI9PT11LnNsaWNlKC0xKT91PXUuc2xpY2UoMCwtMSkrXCLRj1wiOlwi0LjRj1wiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0LjQuFwiOlwi0LrQsFwiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0LrQuFwiOlwi0YLQuFwiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0YLQtdC5XCI6XCLQtNGLXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQtNC+0LJcIjpcItC90LjQulwiPT09dS5zbGljZSgtMykmJih1PXUuc2xpY2UoMCwtMykrXCLQvdC40LrQsFwiKSksdX19LHNsOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJtZXN0bmlrXCI6dT1cIm8gXCIrdTticmVhaztjYXNlXCJvcm9kbmlrXCI6dT1cInogXCIrdX1yZXR1cm4gdX19LHVrOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJnZW5pdGl2ZVwiOlwi0YxcIj09PXUuc2xpY2UoLTEpP3U9dS5zbGljZSgwLC0xKStcItGPXCI6XCLRltGPXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLRltGXXCI6XCLQutCwXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQutC4XCI6XCLRgtC4XCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLRgtC10LlcIjpcItC00YtcIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItC00L7QslwiOlwi0L3QuNC6XCI9PT11LnNsaWNlKC0zKSYmKHU9dS5zbGljZSgwLC0zKStcItC90LjQutCwXCIpO2JyZWFrO2Nhc2VcImFjY3VzYXRpdmVcIjpcItGW0Y9cIj09PXUuc2xpY2UoLTIpJiYodT11LnNsaWNlKDAsLTIpK1wi0ZbRjlwiKX1yZXR1cm4gdX19fTtjb25zdCBuPW5ldyBSZWdFeHAoXCIoPzooW0EtWmEtesKqwrXCusOALcOWw5gtw7bDuC3KuMq7LcuBy5DLkcugLcuky67NsC3Ns822zbfNui3Nvc2/zobOiC3Ois6Mzo4tzqHOoy3Ptc+3LdKC0oot1K/UsS3VltWZLdWf1aEt1ofWieCkgy3gpLngpLvgpL0t4KWA4KWJLeCljOClji3gpZDgpZgt4KWh4KWkLeCmgOCmguCmg+CmhS3gpozgpo/gppDgppMt4Kao4KaqLeCmsOCmsuCmti3gprngpr0t4KeA4KeH4KeI4KeL4KeM4KeO4KeX4Kec4Ked4KefLeCnoeCnpi3gp7Hgp7Qt4Ke64KiD4KiFLeCoiuCoj+CokOCoky3gqKjgqKot4Kiw4Kiy4Kiz4Ki14Ki24Ki44Ki54Ki+LeCpgOCpmS3gqZzgqZ7gqaYt4Kmv4KmyLeCptOCqg+CqhS3gqo3gqo8t4KqR4KqTLeCqqOCqqi3gqrDgqrLgqrPgqrUt4Kq54Kq9LeCrgOCrieCri+CrjOCrkOCroOCroeCrpi3gq7Dgq7ngrILgrIPgrIUt4KyM4KyP4KyQ4KyTLeCsqOCsqi3grLDgrLLgrLPgrLUt4Ky54Ky94Ky+4K2A4K2H4K2I4K2L4K2M4K2X4K2c4K2d4K2fLeCtoeCtpi3grbfgroPgroUt4K6K4K6OLeCukOCuki3grpXgrpngrprgrpzgrp7grp/grqPgrqTgrqgt4K6q4K6uLeCuueCuvuCuv+CvgeCvguCvhi3gr4jgr4ot4K+M4K+Q4K+X4K+mLeCvsuCwgS3gsIPgsIUt4LCM4LCOLeCwkOCwki3gsKjgsKot4LC54LC94LGBLeCxhOCxmC3gsZrgsaDgsaHgsaYt4LGv4LG/4LKC4LKD4LKFLeCyjOCyji3gspDgspIt4LKo4LKqLeCys+CytS3gsrngsr0t4LOE4LOGLeCziOCziuCzi+CzleCzluCznuCzoOCzoeCzpi3gs6/gs7Hgs7LgtILgtIPgtIUt4LSM4LSOLeC0kOC0ki3gtLrgtL0t4LWA4LWGLeC1iOC1ii3gtYzgtY7gtZfgtZ8t4LWh4LWmLeC1teC1uS3gtb/gtoLgtoPgtoUt4LaW4LaaLeC2seC2sy3gtrvgtr3gt4At4LeG4LePLeC3keC3mC3gt5/gt6Yt4Lev4LeyLeC3tOC4gS3guLDguLLguLPguYAt4LmG4LmPLeC5m+C6geC6guC6hOC6h+C6iOC6iuC6jeC6lC3gupfgupkt4Lqf4LqhLeC6o+C6peC6p+C6quC6q+C6rS3gurDgurLgurPgur3gu4At4LuE4LuG4LuQLeC7meC7nC3gu5/gvIAt4LyX4LyaLeC8tOC8tuC8uOC8vi3gvYfgvYkt4L2s4L2/4L6F4L6ILeC+jOC+vi3gv4Xgv4ct4L+M4L+OLeC/muGAgC3hgKzhgLHhgLjhgLvhgLzhgL8t4YGX4YGaLeGBneGBoS3hgbDhgbUt4YKB4YKD4YKE4YKHLeGCjOGCji3hgpzhgp4t4YOF4YOH4YON4YOQLeGJiOGJii3hiY3hiZAt4YmW4YmY4YmaLeGJneGJoC3hiojhioot4YqN4YqQLeGKsOGKsi3hirXhirgt4Yq+4YuA4YuCLeGLheGLiC3hi5bhi5gt4YyQ4YySLeGMleGMmC3hjZrhjaAt4Y284Y6ALeGOj+GOoC3hj7Xhj7gt4Y+94ZCBLeGZv+GagS3hmprhmqAt4Zu44ZyALeGcjOGcji3hnJHhnKAt4Zyx4Zy14Zy24Z2ALeGdkeGdoC3hnazhna4t4Z2w4Z6ALeGes+GetuGevi3hn4Xhn4fhn4jhn5Qt4Z+a4Z+c4Z+gLeGfqeGgkC3hoJnhoKAt4aG34aKALeGiqOGiquGisC3ho7XhpIAt4aSe4aSjLeGkpuGkqS3hpKvhpLDhpLHhpLMt4aS44aWGLeGlreGlsC3hpbThpoAt4aar4aawLeGnieGnkC3hp5rhqIAt4aiW4aiZ4aia4aieLeGpleGpl+GpoeGpo+GppOGprS3hqbLhqoAt4aqJ4aqQLeGqmeGqoC3hqq3hrIQt4ayz4ay14ay74ay9LeGtgeGtgy3hrYvhrZAt4a2q4a20LeGtvOGugi3hrqHhrqbhrqfhrqrhrq4t4a+l4a+n4a+qLeGvrOGvruGvsuGvs+GvvC3hsKvhsLThsLXhsLst4bGJ4bGNLeGxv+GzgC3hs4fhs5Phs6Hhs6kt4bOs4bOuLeGzs+GzteGztuG0gC3htr/huIAt4byV4byYLeG8neG8oC3hvYXhvYgt4b2N4b2QLeG9l+G9meG9m+G9neG9ny3hvb3hvoAt4b604b62LeG+vOG+vuG/gi3hv4Thv4Yt4b+M4b+QLeG/k+G/li3hv5vhv6At4b+s4b+yLeG/tOG/ti3hv7zigI7igbHigb/igpAt4oKc4oSC4oSH4oSKLeKEk+KEleKEmS3ihJ3ihKTihKbihKjihKot4oSt4oSvLeKEueKEvC3ihL/ihYUt4oWJ4oWO4oWP4oWgLeKGiOKMti3ijbrijpXikpwt4pOp4pqs4qCALeKjv+KwgC3isK7isLAt4rGe4rGgLeKzpOKzqy3is67is7Lis7PitIAt4rSl4rSn4rSt4rSwLeK1p+K1r+K1sOK2gC3itpbitqAt4ram4raoLeK2ruK2sC3itrbitrgt4ra+4reALeK3huK3iC3it47it5At4reW4reYLeK3nuOAhS3jgIfjgKEt44Cp44Cu44Cv44CxLeOAteOAuC3jgLzjgYEt44KW44KdLeOCn+OCoS3jg7rjg7wt44O/44SFLeOEreOEsS3jho7jhpAt44a644ewLeOInOOIoC3jiY/jiaAt44m744m/LeOKsOOLgC3ji4vji5At44u+44yALeONtuONuy3jj53jj6At44++45CALeS2teS4gC3pv5XqgIAt6pKM6pOQLeqYjOqYkC3qmKvqmYAt6pmu6pqALeqaneqaoC3qm6/qm7It6pu36pyiLeqeh+qeiS3qnq3qnrAt6p636p+3Leqggeqggy3qoIXqoIct6qCK6qCMLeqgpOqgp+qgsC3qoLfqoYAt6qGz6qKALeqjg+qjji3qo5nqo7It6qO96qSALeqkpeqkri3qpYbqpZLqpZPqpZ8t6qW86qaDLeqmsuqmtOqmteqmuuqmu+qmvS3qp43qp48t6qeZ6qeeLeqnpOqnpi3qp77qqIAt6qio6qiv6qiw6qiz6qi06qmALeqpguqphC3qqYvqqY3qqZAt6qmZ6qmcLeqpu+qpvS3qqq/qqrHqqrXqqrbqqrkt6qq96quA6quC6qubLeqrq+qrri3qq7XqrIEt6qyG6qyJLeqsjuqskS3qrJbqrKAt6qym6qyoLeqsruqssC3qraXqrbAt6q+k6q+m6q+n6q+pLeqvrOqvsC3qr7nqsIAt7Z6j7Z6wLe2fhu2fiy3tn7vugIAt76mt76mwLe+rme+sgC3vrIbvrJMt76yX77yhLe+8uu+9gS3vvZrvvaYt776+77+CLe+/h++/ii3vv4/vv5It77+X77+aLe+/nF18XFx1ZDgwMFtcXHVkYzAwLVxcdWRjMGJdfFxcdWQ4MDBbXFx1ZGMwZC1cXHVkYzI2XXxcXHVkODAwW1xcdWRjMjgtXFx1ZGMzYV188JCAvHzwkIC9fFxcdWQ4MDBbXFx1ZGMzZi1cXHVkYzRkXXxcXHVkODAwW1xcdWRjNTAtXFx1ZGM1ZF18XFx1ZDgwMFtcXHVkYzgwLVxcdWRjZmFdfPCQhIB88JCEgnxcXHVkODAwW1xcdWRkMDctXFx1ZGQzM118XFx1ZDgwMFtcXHVkZDM3LVxcdWRkM2ZdfFxcdWQ4MDBbXFx1ZGRkMC1cXHVkZGZjXXxcXHVkODAwW1xcdWRlODAtXFx1ZGU5Y118XFx1ZDgwMFtcXHVkZWEwLVxcdWRlZDBdfFxcdWQ4MDBbXFx1ZGYwMC1cXHVkZjIzXXxcXHVkODAwW1xcdWRmMzAtXFx1ZGY0YV18XFx1ZDgwMFtcXHVkZjUwLVxcdWRmNzVdfFxcdWQ4MDBbXFx1ZGY4MC1cXHVkZjlkXXxcXHVkODAwW1xcdWRmOWYtXFx1ZGZjM118XFx1ZDgwMFtcXHVkZmM4LVxcdWRmZDVdfFxcdWQ4MDFbXFx1ZGMwMC1cXHVkYzlkXXxcXHVkODAxW1xcdWRjYTAtXFx1ZGNhOV18XFx1ZDgwMVtcXHVkZDAwLVxcdWRkMjddfFxcdWQ4MDFbXFx1ZGQzMC1cXHVkZDYzXXzwkJWvfFxcdWQ4MDFbXFx1ZGUwMC1cXHVkZjM2XXxcXHVkODAxW1xcdWRmNDAtXFx1ZGY1NV18XFx1ZDgwMVtcXHVkZjYwLVxcdWRmNjddfPCRgIB8XFx1ZDgwNFtcXHVkYzAyLVxcdWRjMzddfFxcdWQ4MDRbXFx1ZGM0Ny1cXHVkYzRkXXxcXHVkODA0W1xcdWRjNjYtXFx1ZGM2Zl18XFx1ZDgwNFtcXHVkYzgyLVxcdWRjYjJdfPCRgrd88JGCuHxcXHVkODA0W1xcdWRjYmItXFx1ZGNjMV18XFx1ZDgwNFtcXHVkY2QwLVxcdWRjZThdfFxcdWQ4MDRbXFx1ZGNmMC1cXHVkY2Y5XXxcXHVkODA0W1xcdWRkMDMtXFx1ZGQyNl188JGErHxcXHVkODA0W1xcdWRkMzYtXFx1ZGQ0M118XFx1ZDgwNFtcXHVkZDUwLVxcdWRkNzJdfFxcdWQ4MDRbXFx1ZGQ3NC1cXHVkZDc2XXxcXHVkODA0W1xcdWRkODItXFx1ZGRiNV18XFx1ZDgwNFtcXHVkZGJmLVxcdWRkYzldfPCRh418XFx1ZDgwNFtcXHVkZGQwLVxcdWRkZGZdfFxcdWQ4MDRbXFx1ZGRlMS1cXHVkZGY0XXxcXHVkODA0W1xcdWRlMDAtXFx1ZGUxMV18XFx1ZDgwNFtcXHVkZTEzLVxcdWRlMmVdfPCRiLJ88JGIs3zwkYi1fFxcdWQ4MDRbXFx1ZGUzOC1cXHVkZTNkXXxcXHVkODA0W1xcdWRlODAtXFx1ZGU4Nl188JGKiHxcXHVkODA0W1xcdWRlOGEtXFx1ZGU4ZF18XFx1ZDgwNFtcXHVkZThmLVxcdWRlOWRdfFxcdWQ4MDRbXFx1ZGU5Zi1cXHVkZWE5XXxcXHVkODA0W1xcdWRlYjAtXFx1ZGVkZV18XFx1ZDgwNFtcXHVkZWUwLVxcdWRlZTJdfFxcdWQ4MDRbXFx1ZGVmMC1cXHVkZWY5XXzwkYyCfPCRjIN8XFx1ZDgwNFtcXHVkZjA1LVxcdWRmMGNdfPCRjI988JGMkHxcXHVkODA0W1xcdWRmMTMtXFx1ZGYyOF18XFx1ZDgwNFtcXHVkZjJhLVxcdWRmMzBdfPCRjLJ88JGMs3xcXHVkODA0W1xcdWRmMzUtXFx1ZGYzOV18XFx1ZDgwNFtcXHVkZjNkLVxcdWRmM2ZdfFxcdWQ4MDRbXFx1ZGY0MS1cXHVkZjQ0XXzwkY2HfPCRjYh8XFx1ZDgwNFtcXHVkZjRiLVxcdWRmNGRdfPCRjZB88JGNl3xcXHVkODA0W1xcdWRmNWQtXFx1ZGY2M118XFx1ZDgwNVtcXHVkYzgwLVxcdWRjYjJdfPCRkrl8XFx1ZDgwNVtcXHVkY2JiLVxcdWRjYmVdfPCRk4F8XFx1ZDgwNVtcXHVkY2M0LVxcdWRjYzddfFxcdWQ4MDVbXFx1ZGNkMC1cXHVkY2Q5XXxcXHVkODA1W1xcdWRkODAtXFx1ZGRiMV18XFx1ZDgwNVtcXHVkZGI4LVxcdWRkYmJdfPCRlr58XFx1ZDgwNVtcXHVkZGMxLVxcdWRkZGJdfFxcdWQ4MDVbXFx1ZGUwMC1cXHVkZTMyXXzwkZi7fPCRmLx88JGYvnxcXHVkODA1W1xcdWRlNDEtXFx1ZGU0NF18XFx1ZDgwNVtcXHVkZTUwLVxcdWRlNTldfFxcdWQ4MDVbXFx1ZGU4MC1cXHVkZWFhXXzwkZqsfPCRmq588JGar3zwkZq2fFxcdWQ4MDVbXFx1ZGVjMC1cXHVkZWM5XXxcXHVkODA1W1xcdWRmMDAtXFx1ZGYxOV188JGcoHzwkZyhfPCRnKZ8XFx1ZDgwNVtcXHVkZjMwLVxcdWRmM2ZdfFxcdWQ4MDZbXFx1ZGNhMC1cXHVkY2YyXXzwkaO/fFxcdWQ4MDZbXFx1ZGVjMC1cXHVkZWY4XXxcXHVkODA4W1xcdWRjMDAtXFx1ZGY5OV18XFx1ZDgwOVtcXHVkYzAwLVxcdWRjNmVdfFxcdWQ4MDlbXFx1ZGM3MC1cXHVkYzc0XXxcXHVkODA5W1xcdWRjODAtXFx1ZGQ0M118XFx1ZDgwY1tcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4MGRbXFx1ZGMwMC1cXHVkYzJlXXxcXHVkODExW1xcdWRjMDAtXFx1ZGU0Nl18XFx1ZDgxYVtcXHVkYzAwLVxcdWRlMzhdfFxcdWQ4MWFbXFx1ZGU0MC1cXHVkZTVlXXxcXHVkODFhW1xcdWRlNjAtXFx1ZGU2OV188JaprnzwlqmvfFxcdWQ4MWFbXFx1ZGVkMC1cXHVkZWVkXXzwlqu1fFxcdWQ4MWFbXFx1ZGYwMC1cXHVkZjJmXXxcXHVkODFhW1xcdWRmMzctXFx1ZGY0NV18XFx1ZDgxYVtcXHVkZjUwLVxcdWRmNTldfFxcdWQ4MWFbXFx1ZGY1Yi1cXHVkZjYxXXxcXHVkODFhW1xcdWRmNjMtXFx1ZGY3N118XFx1ZDgxYVtcXHVkZjdkLVxcdWRmOGZdfFxcdWQ4MWJbXFx1ZGYwMC1cXHVkZjQ0XXxcXHVkODFiW1xcdWRmNTAtXFx1ZGY3ZV18XFx1ZDgxYltcXHVkZjkzLVxcdWRmOWZdfPCbgIB88JuAgXxcXHVkODJmW1xcdWRjMDAtXFx1ZGM2YV18XFx1ZDgyZltcXHVkYzcwLVxcdWRjN2NdfFxcdWQ4MmZbXFx1ZGM4MC1cXHVkYzg4XXxcXHVkODJmW1xcdWRjOTAtXFx1ZGM5OV188JuynHzwm7KffFxcdWQ4MzRbXFx1ZGMwMC1cXHVkY2Y1XXxcXHVkODM0W1xcdWRkMDAtXFx1ZGQyNl18XFx1ZDgzNFtcXHVkZDI5LVxcdWRkNjZdfFxcdWQ4MzRbXFx1ZGQ2YS1cXHVkZDcyXXzwnYaDfPCdhoR8XFx1ZDgzNFtcXHVkZDhjLVxcdWRkYTldfFxcdWQ4MzRbXFx1ZGRhZS1cXHVkZGU4XXxcXHVkODM0W1xcdWRmNjAtXFx1ZGY3MV18XFx1ZDgzNVtcXHVkYzAwLVxcdWRjNTRdfFxcdWQ4MzVbXFx1ZGM1Ni1cXHVkYzljXXzwnZKefPCdkp988J2SonzwnZKlfPCdkqZ8XFx1ZDgzNVtcXHVkY2E5LVxcdWRjYWNdfFxcdWQ4MzVbXFx1ZGNhZS1cXHVkY2I5XXzwnZK7fFxcdWQ4MzVbXFx1ZGNiZC1cXHVkY2MzXXxcXHVkODM1W1xcdWRjYzUtXFx1ZGQwNV18XFx1ZDgzNVtcXHVkZDA3LVxcdWRkMGFdfFxcdWQ4MzVbXFx1ZGQwZC1cXHVkZDE0XXxcXHVkODM1W1xcdWRkMTYtXFx1ZGQxY118XFx1ZDgzNVtcXHVkZDFlLVxcdWRkMzldfFxcdWQ4MzVbXFx1ZGQzYi1cXHVkZDNlXXxcXHVkODM1W1xcdWRkNDAtXFx1ZGQ0NF188J2VhnxcXHVkODM1W1xcdWRkNGEtXFx1ZGQ1MF18XFx1ZDgzNVtcXHVkZDUyLVxcdWRlYTVdfFxcdWQ4MzVbXFx1ZGVhOC1cXHVkZWRhXXxcXHVkODM1W1xcdWRlZGMtXFx1ZGYxNF18XFx1ZDgzNVtcXHVkZjE2LVxcdWRmNGVdfFxcdWQ4MzVbXFx1ZGY1MC1cXHVkZjg4XXxcXHVkODM1W1xcdWRmOGEtXFx1ZGZjMl18XFx1ZDgzNVtcXHVkZmM0LVxcdWRmY2JdfFxcdWQ4MzZbXFx1ZGMwMC1cXHVkZGZmXXxcXHVkODM2W1xcdWRlMzctXFx1ZGUzYV18XFx1ZDgzNltcXHVkZTZkLVxcdWRlNzRdfFxcdWQ4MzZbXFx1ZGU3Ni1cXHVkZTgzXXxcXHVkODM2W1xcdWRlODUtXFx1ZGU4Yl18XFx1ZDgzY1tcXHVkZDEwLVxcdWRkMmVdfFxcdWQ4M2NbXFx1ZGQzMC1cXHVkZDY5XXxcXHVkODNjW1xcdWRkNzAtXFx1ZGQ5YV18XFx1ZDgzY1tcXHVkZGU2LVxcdWRlMDJdfFxcdWQ4M2NbXFx1ZGUxMC1cXHVkZTNhXXxcXHVkODNjW1xcdWRlNDAtXFx1ZGU0OF188J+JkHzwn4mRfFtcXHVkODQwLVxcdWQ4NjhdW1xcdWRjMDAtXFx1ZGZmZl18XFx1ZDg2OVtcXHVkYzAwLVxcdWRlZDZdfFxcdWQ4NjlbXFx1ZGYwMC1cXHVkZmZmXXxbXFx1ZDg2YS1cXHVkODZjXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4NmRbXFx1ZGMwMC1cXHVkZjM0XXxcXHVkODZkW1xcdWRmNDAtXFx1ZGZmZl18XFx1ZDg2ZVtcXHVkYzAwLVxcdWRjMWRdfFxcdWQ4NmVbXFx1ZGMyMC1cXHVkZmZmXXxbXFx1ZDg2Zi1cXHVkODcyXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4NzNbXFx1ZGMwMC1cXHVkZWExXXxcXHVkODdlW1xcdWRjMDAtXFx1ZGUxZF18W1xcdWRiODAtXFx1ZGJiZV1bXFx1ZGMwMC1cXHVkZmZmXXxcXHVkYmJmW1xcdWRjMDAtXFx1ZGZmZF18W1xcdWRiYzAtXFx1ZGJmZV1bXFx1ZGMwMC1cXHVkZmZmXXxcXHVkYmZmW1xcdWRjMDAtXFx1ZGZmZF0pfChb1pDWvteA14PXhteILde/34At36rftN+137ot4KCV4KCa4KCk4KCo4KCuLeChmOChnC3gop/igI/vrJ3vrJ8t76yo76yqLe+tj9iI2IvYjdibLdmK2a0t2a/ZsS3bldul26bbrtuv27ot3JDcki3cr92LLd6l3rEt3r/goqAt4KOi762QLe+0ve+1gC3vt4/vt7At77e877e+77e/77mwLe+7vl18XFx1ZDgwMltcXHVkYzAwLVxcdWRkMWVdfFxcdWQ4MDJbXFx1ZGQyMC1cXHVkZTAwXXzwkKiEfFxcdWQ4MDJbXFx1ZGUwNy1cXHVkZTBiXXxcXHVkODAyW1xcdWRlMTAtXFx1ZGUzN118XFx1ZDgwMltcXHVkZTNiLVxcdWRlM2VdfFxcdWQ4MDJbXFx1ZGU0MC1cXHVkZWU0XXxcXHVkODAyW1xcdWRlZTctXFx1ZGYzOF18XFx1ZDgwMltcXHVkZjQwLVxcdWRmZmZdfFxcdWQ4MDNbXFx1ZGMwMC1cXHVkZTVmXXxcXHVkODAzW1xcdWRlN2YtXFx1ZGZmZl18XFx1ZDgzYVtcXHVkYzAwLVxcdWRjY2ZdfFxcdWQ4M2FbXFx1ZGNkNy1cXHVkZmZmXXxcXHVkODNiW1xcdWRjMDAtXFx1ZGRmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGUwMC1cXHVkZWVmXXxcXHVkODNiW1xcdWRlZjItXFx1ZGVmZl0pKVwiKTt2YXIgYz1jbGFzc3tjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11LHRoaXMubGFuZ3VhZ2U9bmV3KGFbdV18fGEuZGVmYXVsdCkodSl9ZW1pdCh1LGUpe2xldCBkLHIsdDtzd2l0Y2godHlwZW9mIHUpe2Nhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmQ9dTticmVhaztjYXNlXCJvYmplY3RcIjppZihyPXUuc2xpY2UoMSkubWFwKHU9PnRoaXMuZW1pdCh1LGUpKSx0PXVbMF0udG9Mb3dlckNhc2UoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW3RdKXRocm93IG5ldyBFcnJvcigndW5rbm93biBvcGVyYXRpb24gXCInK3QrJ1wiJyk7ZD10aGlzW3RdKHIsZSk7YnJlYWs7Y2FzZVwidW5kZWZpbmVkXCI6ZD1cIlwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0eXBlIGluIEFTVDogXCIrdHlwZW9mIHUpfXJldHVybiBkfWNvbmNhdCh1KXtsZXQgZT1cIlwiO3JldHVybiB1LmZvckVhY2godT0+e2UrPXV9KSxlfXJlcGxhY2UodSxlKXtsZXQgZD1wYXJzZUludCh1WzBdLDEwKTtyZXR1cm4gZDxlLmxlbmd0aD9lW2RdOlwiJFwiKyhkKzEpfXBsdXJhbCh1KXtsZXQgZT1wYXJzZUZsb2F0KHRoaXMubGFuZ3VhZ2UuY29udmVydE51bWJlcih1WzBdLDEwKSksZD11LnNsaWNlKDEpO3JldHVybiBkLmxlbmd0aD90aGlzLmxhbmd1YWdlLmNvbnZlcnRQbHVyYWwoZSxkKTpcIlwifWdlbmRlcih1KXtsZXQgZT11WzBdLGQ9dS5zbGljZSgxKTtyZXR1cm4gdGhpcy5sYW5ndWFnZS5nZW5kZXIoZSxkKX1ncmFtbWFyKHUpe2xldCBlPXVbMF0sZD11WzFdO3JldHVybiBkJiZlJiZ0aGlzLmxhbmd1YWdlLmNvbnZlcnRHcmFtbWFyKGQsZSl9YmlkaSh1KXt2YXIgZT1mdW5jdGlvbih1KXt2YXIgZT11Lm1hdGNoKG4pO2lmKCFlKXJldHVybiBudWxsO2lmKHZvaWQgMD09PWVbMl0pcmV0dXJuXCJsdHJcIjtyZXR1cm5cInJ0bFwifSh1WzBdKTtyZXR1cm5cImx0clwiPT09ZT9cIuKAqlwiK3VbMF0rXCLigKxcIjpcInJ0bFwiPT09ZT9cIuKAq1wiK3VbMF0rXCLigKxcIjp1WzBdfX07ZnVuY3Rpb24gbCh1KXtsZXQgZSxkLHIsdCxhLG4sYyxsLHMsaSxmLG8saCxiLG0scCxrLGcsdj0wO2Z1bmN0aW9uIHoodSl7cmV0dXJuKCk9Pntmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrKyl7bGV0IGQ9dVtlXSgpO2lmKG51bGwhPT1kKXJldHVybiBkfXJldHVybiBudWxsfX1mdW5jdGlvbiB3KHUpe2xldCBlPXYsZD1bXTtmb3IobGV0IHI9MDtyPHUubGVuZ3RoO3IrKyl7bGV0IHQ9dVtyXSgpO2lmKG51bGw9PT10KXJldHVybiB2PWUsbnVsbDtkLnB1c2godCl9cmV0dXJuIGR9ZnVuY3Rpb24geSh1LGUpe3JldHVybigpPT57bGV0IGQ9dixyPVtdLHQ9ZSgpO2Zvcig7bnVsbCE9PXQ7KXIucHVzaCh0KSx0PWUoKTtyZXR1cm4gci5sZW5ndGg8dT8odj1kLG51bGwpOnJ9fWZ1bmN0aW9uICQoZSl7bGV0IGQ9ZS5sZW5ndGg7cmV0dXJuKCk9PntsZXQgcj1udWxsO3JldHVybiB1LnNsaWNlKHYsditkKT09PWUmJihyPWUsdis9ZCkscn19ZnVuY3Rpb24geChlKXtyZXR1cm4oKT0+e2xldCBkPXUuc2xpY2UodikubWF0Y2goZSk7cmV0dXJuIG51bGw9PT1kP251bGw6KHYrPWRbMF0ubGVuZ3RoLGRbMF0pfX1mdW5jdGlvbiBqKCl7bGV0IHU9dyhbcix0XSk7cmV0dXJuIG51bGw9PT11P251bGw6dVsxXX1mdW5jdGlvbiBNKCl7bGV0IHU9dyhbYSxuXSk7cmV0dXJuIG51bGw9PT11P251bGw6W1wiUkVQTEFDRVwiLHBhcnNlSW50KHVbMV0sMTApLTFdfXZhciBPLFM7ZnVuY3Rpb24gRygpe2xldCB1PXcoW2UseSgwLGspXSk7aWYobnVsbD09PXUpcmV0dXJuIG51bGw7bGV0IGQ9dVsxXTtyZXR1cm4gZC5sZW5ndGg+MT9bXCJDT05DQVRcIl0uY29uY2F0KGQpOmRbMF19ZnVuY3Rpb24gUCgpe2xldCB1PXcoW2gsZCxNXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF0sdVsyXV19ZnVuY3Rpb24gcSgpe2xldCB1PXcoW2gsZCxrXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF0sdVsyXV19ZnVuY3Rpb24gRigpe2xldCB1PXcoW2IsbyxtXSk7cmV0dXJuIG51bGw9PT11P251bGw6dVsxXX1pZihlPSQoXCJ8XCIpLGQ9JChcIjpcIikscj0kKFwiXFxcXFwiKSx0PXgoL14uLyksYT0kKFwiJFwiKSxuPXgoL15cXGQrLyksYz14KC9eW157fVtcXF0kXFxcXF0vKSxsPXgoL15bXnt9W1xcXSRcXFxcfF0vKSxzPXgoL15bXnt9W1xcXSRcXHNdLykseihbaixzXSksaT16KFtqLGxdKSxmPXooW2osY10pLE89eCgvXlsgIVwiJCYnKCkqLC4vMC05Oz0/QEEtWl5fYGEten5cXHg4MC1cXHhGRistXSsvKSxTPWZ1bmN0aW9uKHUpe3JldHVybiB1LnRvU3RyaW5nKCl9LGg9KCk9PntsZXQgdT1PKCk7cmV0dXJuIG51bGw9PT11P251bGw6Uyh1KX0sbz16KFtmdW5jdGlvbigpe2xldCB1PXcoW3ooW1AscV0pLHkoMCxHKV0pO3JldHVybiBudWxsPT09dT9udWxsOnVbMF0uY29uY2F0KHVbMV0pfSxmdW5jdGlvbigpe2xldCB1PXcoW2gseSgwLEcpXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF1dLmNvbmNhdCh1WzFdKX1dKSxiPSQoXCJ7e1wiKSxtPSQoXCJ9fVwiKSxwPXooW0YsTSxmdW5jdGlvbigpe2xldCB1PXkoMSxmKSgpO3JldHVybiBudWxsPT09dT9udWxsOnUuam9pbihcIlwiKX1dKSxrPXooW0YsTSxmdW5jdGlvbigpe2xldCB1PXkoMSxpKSgpO3JldHVybiBudWxsPT09dT9udWxsOnUuam9pbihcIlwiKX1dKSxnPWZ1bmN0aW9uKCl7bGV0IHU9eSgwLHApKCk7cmV0dXJuIG51bGw9PT11P251bGw6W1wiQ09OQ0FUXCJdLmNvbmNhdCh1KX0oKSxudWxsPT09Z3x8diE9PXUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlBhcnNlIGVycm9yIGF0IHBvc2l0aW9uIFwiK3YudG9TdHJpbmcoKStcIiBpbiBpbnB1dDogXCIrdSk7cmV0dXJuIGd9Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11LHRoaXMuZW1pdHRlcj1uZXcgYyh0aGlzLmxvY2FsZSl9cGFyc2UodSxlKXtpZih1LmluY2x1ZGVzKFwie3tcIikpe2xldCBkPW5ldyBsKHUpO3JldHVybiB0aGlzLmVtaXR0ZXIuZW1pdChkLGUpfXJldHVybiB0aGlzLnNpbXBsZVBhcnNlKHUsZSl9c2ltcGxlUGFyc2UodSxlKXtyZXR1cm4gdS5yZXBsYWNlKC9cXCQoXFxkKykvZywodSxkKT0+e2xldCByPXBhcnNlSW50KGQsMTApLTE7cmV0dXJuIHZvaWQgMCE9PWVbcl0/ZVtyXTpcIiRcIitkfSl9fWNsYXNzIGl7Y29uc3RydWN0b3IodSl7dGhpcy5zb3VyY2VNYXA9bmV3IE1hcH1sb2FkKHUsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2Ugc291cmNlLiBNdXN0IGJlIGFuIG9iamVjdFwiKTtpZihlKXtpZighL15bYS16QS1aMC05LV0rJC8udGVzdChlKSl0aHJvdyBFcnJvcihgSW52YWxpZCBsb2NhbGUgJHtlfWApO2ZvcihsZXQgZCBpbiB1KWlmKDAhPT1kLmluZGV4T2YoXCJAXCIpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgdVtkXSlyZXR1cm4gdGhpcy5sb2FkKHUpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB1W2RdKXRocm93IEVycm9yKGBJbnZhbGlkIG1lc3NhZ2UgZm9yIG1lc3NhZ2UgJHtkfSBpbiAke2V9IGxvY2FsZS5gKTticmVha310aGlzLnNvdXJjZU1hcC5oYXMoZSk/dGhpcy5zb3VyY2VNYXAuc2V0KGUsT2JqZWN0LmFzc2lnbih0aGlzLnNvdXJjZU1hcC5nZXQoZSksdSkpOnRoaXMuc291cmNlTWFwLnNldChlLHUpfWVsc2UgZm9yKGUgaW4gdSl0aGlzLmxvYWQodVtlXSxlKX1nZXRNZXNzYWdlKHUsZSl7bGV0IGQ9dGhpcy5zb3VyY2VNYXAuZ2V0KGUpO3JldHVybiBkP2RbdV06bnVsbH1oYXNMb2NhbGUodSl7cmV0dXJuIHRoaXMuc291cmNlTWFwLmhhcyh1KX19dmFyIGY9ZCgxKTtkLmQoZSxcImRlZmF1bHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTtjbGFzcyBve2NvbnN0cnVjdG9yKHUsZSl7ZT1lfHx7fSx0aGlzLmxvY2FsZT11LHRoaXMucGFyc2VyPW5ldyBzKHRoaXMubG9jYWxlKSx0aGlzLm1lc3NhZ2VTdG9yZT1uZXcgaSxlLm1lc3NhZ2VzJiZ0aGlzLmxvYWQoZS5tZXNzYWdlcyx0aGlzLmxvY2FsZSksdGhpcy5maW5hbEZhbGxiYWNrPWUuZmluYWxGYWxsYmFja3x8XCJlblwifWxvYWQodSxlKXtyZXR1cm4gdGhpcy5tZXNzYWdlU3RvcmUubG9hZCh1LGV8fHRoaXMubG9jYWxlKX1pMThuKHUsLi4uZSl7cmV0dXJuIHRoaXMucGFyc2VyLnBhcnNlKHRoaXMuZ2V0TWVzc2FnZSh1KSxlKX1zZXRMb2NhbGUodSl7dGhpcy5sb2NhbGU9dSx0aGlzLnBhcnNlcj1uZXcgcyh0aGlzLmxvY2FsZSl9Z2V0RmFsbGJhY2tMb2NhbGVzKCl7cmV0dXJuWy4uLmZbdGhpcy5sb2NhbGVdfHxbXSx0aGlzLmZpbmFsRmFsbGJhY2tdfWdldE1lc3NhZ2UodSl7bGV0IGU9dGhpcy5sb2NhbGUsZD0wO2NvbnN0IHI9dGhpcy5nZXRGYWxsYmFja0xvY2FsZXModGhpcy5sb2NhbGUpO2Zvcig7ZTspe2xldCB0PWUuc3BsaXQoXCItXCIpLGE9dC5sZW5ndGg7ZG97bGV0IGU9dC5zbGljZSgwLGEpLmpvaW4oXCItXCIpLGQ9dGhpcy5tZXNzYWdlU3RvcmUuZ2V0TWVzc2FnZSh1LGUpO2lmKGQpcmV0dXJuIGQ7YS0tfXdoaWxlKGEpO2U9cltkXSxkKyt9cmV0dXJuIHV9fX1dKS5kZWZhdWx0fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFuYW5hLWkxOG4uanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiAqIGpRdWVyeSBVSSBDU1MgRnJhbWV3b3JrIDEuMTIuMVxcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cXG4gKlxcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcXG4gKlxcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NhdGVnb3J5L3RoZW1pbmcvXFxuICovXFxuXFxuLyogTGF5b3V0IGhlbHBlcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktaGVscGVyLWhpZGRlbiB7XFxuXFx0ZGlzcGxheTogbm9uZTtcXG59XFxuLnVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSB7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGNsaXA6IHJlY3QoMCAwIDAgMCk7XFxuXFx0aGVpZ2h0OiAxcHg7XFxuXFx0bWFyZ2luOiAtMXB4O1xcblxcdG92ZXJmbG93OiBoaWRkZW47XFxuXFx0cGFkZGluZzogMDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0d2lkdGg6IDFweDtcXG59XFxuLnVpLWhlbHBlci1yZXNldCB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdG91dGxpbmU6IDA7XFxuXFx0bGluZS1oZWlnaHQ6IDEuMztcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuXFx0Zm9udC1zaXplOiAxMDAlO1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi51aS1oZWxwZXItY2xlYXJmaXg6YmVmb3JlLFxcbi51aS1oZWxwZXItY2xlYXJmaXg6YWZ0ZXIge1xcblxcdGNvbnRlbnQ6IFxcXCJcXFwiO1xcblxcdGRpc3BsYXk6IHRhYmxlO1xcblxcdGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxufVxcbi51aS1oZWxwZXItY2xlYXJmaXg6YWZ0ZXIge1xcblxcdGNsZWFyOiBib3RoO1xcbn1cXG4udWktaGVscGVyLXpmaXgge1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGhlaWdodDogMTAwJTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0b3BhY2l0eTogMDtcXG5cXHRmaWx0ZXI6QWxwaGEoT3BhY2l0eT0wKTsgLyogc3VwcG9ydDogSUU4ICovXFxufVxcblxcbi51aS1mcm9udCB7XFxuXFx0ei1pbmRleDogMTAwO1xcbn1cXG5cXG5cXG4vKiBJbnRlcmFjdGlvbiBDdWVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXN0YXRlLWRpc2FibGVkIHtcXG5cXHRjdXJzb3I6IGRlZmF1bHQgIWltcG9ydGFudDtcXG5cXHRwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuXFxuLyogSWNvbnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktaWNvbiB7XFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcblxcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuXFx0bWFyZ2luLXRvcDogLS4yNWVtO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWluZGVudDogLTk5OTk5cHg7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbn1cXG5cXG4udWktd2lkZ2V0LWljb24tYmxvY2sge1xcblxcdGxlZnQ6IDUwJTtcXG5cXHRtYXJnaW4tbGVmdDogLThweDtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLyogTWlzYyB2aXN1YWxzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLyogT3ZlcmxheXMgKi9cXG4udWktd2lkZ2V0LW92ZXJsYXkge1xcblxcdHBvc2l0aW9uOiBmaXhlZDtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHR3aWR0aDogMTAwJTtcXG5cXHRoZWlnaHQ6IDEwMCU7XFxufVxcblwiLCBcIlwiXSk7XG5cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiFcXG4gKiBqUXVlcnkgVUkgU2xpZGVyIDEuMTIuMVxcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cXG4gKlxcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcXG4gKlxcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NsaWRlci8jdGhlbWluZ1xcbiAqL1xcbi51aS1zbGlkZXIge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4udWktc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMjtcXG5cXHR3aWR0aDogMS4yZW07XFxuXFx0aGVpZ2h0OiAxLjJlbTtcXG5cXHRjdXJzb3I6IGRlZmF1bHQ7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1zbGlkZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHotaW5kZXg6IDE7XFxuXFx0Zm9udC1zaXplOiAuN2VtO1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdGJvcmRlcjogMDtcXG5cXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7XFxufVxcblxcbi8qIHN1cHBvcnQ6IElFOCAtIFNlZSAjNjcyNyAqL1xcbi51aS1zbGlkZXIudWktc3RhdGUtZGlzYWJsZWQgLnVpLXNsaWRlci1oYW5kbGUsXFxuLnVpLXNsaWRlci51aS1zdGF0ZS1kaXNhYmxlZCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRmaWx0ZXI6IGluaGVyaXQ7XFxufVxcblxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCB7XFxuXFx0aGVpZ2h0OiAuOGVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdHRvcDogLS4zZW07XFxuXFx0bWFyZ2luLWxlZnQ6IC0uNmVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0dG9wOiAwO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXNsaWRlci1ob3Jpem9udGFsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRsZWZ0OiAwO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHJpZ2h0OiAwO1xcbn1cXG5cXG4udWktc2xpZGVyLXZlcnRpY2FsIHtcXG5cXHR3aWR0aDogLjhlbTtcXG5cXHRoZWlnaHQ6IDEwMHB4O1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRsZWZ0OiAtLjNlbTtcXG5cXHRtYXJnaW4tbGVmdDogMDtcXG5cXHRtYXJnaW4tYm90dG9tOiAtLjZlbTtcXG59XFxuLnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRsZWZ0OiAwO1xcblxcdHdpZHRoOiAxMDAlO1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRib3R0b206IDA7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHRvcDogMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaWlpZi1hdi1jb21wb25lbnQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6ICMwMDA7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJPcGVuIFNhbnNcXFwiO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wbGF5ZXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucGxheWVyLS1sb2FkaW5nIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEZBQVVBTVFTQUd4c2JGcGFXbmg0ZUVaR1Jod2NIRDgvUHpVMU5WSlNVaXNyS3dnSUNINStma3hNVEdOall5VWxKWEp5Y250N2V4SVNFb0NBZ0FBQUFQLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoL3d0WVRWQWdSR0YwWVZoTlVEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU5pMWpNREUwSURjNUxqRTFOamM1Tnl3Z01qQXhOQzh3T0M4eU1DMHdPVG8xTXpvd01pQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUlIaHRiRzV6T25OMFVtVm1QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVlNaV1lqSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEbzFPVEZqTXpoak5TMHhabVF5TFRnNU5HVXRZak15Wmkxa1lUTmtaV1E1Tm1RNVlqTWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZRemMwT0VFMU5EQTVPVE16TVRGRk5VRkJSakk1TWtJM05URkZPREpGUlRZaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNlF6YzBPRUUxTTBZNU9UTXpNVEZGTlVGQlJqSTVNa0kzTlRGRk9ESkZSVFlpSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01UUWdLRmRwYm1SdmQzTXBJajRnUEhodGNFMU5Pa1JsY21sMlpXUkdjbTl0SUhOMFVtVm1PbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TlRreFl6TTRZelV0TVdaa01pMDRPVFJsTFdJek1tWXRaR0V6WkdWa09UWmtPV0l6SWlCemRGSmxaanBrYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2pVNU1XTXpPR00xTFRGbVpESXRPRGswWlMxaU16Sm1MV1JoTTJSbFpEazJaRGxpTXlJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BnSC8vdjM4Ky9yNStQZjI5ZlR6OHZIdzcrN3Q3T3ZxNmVqbjV1WGs0K0xoNE4vZTNkemIydG5ZMTliVjFOUFMwZERQenMzTXk4ckp5TWZHeGNURHdzSEF2NzY5dkx1NnViaTN0clcwczdLeHNLK3VyYXlycXFtb3A2YWxwS09pb2FDZm5wMmNtNXFabUplV2xaU1RrcEdRajQ2TmpJdUtpWWlIaG9XRWc0S0JnSDkrZlh4N2VubDRkM1oxZEhOeWNYQnZibTFzYTJwcGFHZG1aV1JqWW1GZ1gxNWRYRnRhV1ZoWFZsVlVVMUpSVUU5T1RVeExTa2xJUjBaRlJFTkNRVUEvUGowOE96bzVPRGMyTlRRek1qRXdMeTR0TENzcUtTZ25KaVVrSXlJaElCOGVIUndiR2hrWUZ4WVZGQk1TRVJBUERnME1Dd29KQ0FjR0JRUURBZ0VBQUNINUJBa0FBQklBTEFBQUFBQVVBQlFBQUFWQW9DU09aR21lYUtxbVNldStMUnBFZEcwSHNxMUgrRG52dFo3cEIrVGxpa1lmTWpsY0NrdEU0Sk1VM1UxSFZkMVZsTDJoQ0lpd2VFeFltYy9vdEhvVUFnQWgrUVFKQUFBU0FDd0FBQUFBRkFBVUFBQUZXcUFram1ScG5tZ3FFZ3lobmt5a0hOQTdHbEVlUFVYeUpnNmR6b0ZRRFlUSTFnbnlRQ0lWQzFQQTZZeVNHbFNrd0VjQ1pJV0dFdTZiQTVnU0N3VzVnV0psQXkrRVY2aW8vUXJOM01BMlNod1VXM3drQkd5Q2hvY1NJUUFoK1FRRkFBQVNBQ3dBQUFBQUZBQVVBQUFGWEtBa2ptUnBubWhhSnN1aW1vWVFLY1FyTmtDa1I4d0xCYnNnQXBVWUtJSkJSOExVY0NDZkJSUGgrQXcrSUtaREZYa3dRUjdiSGMxVUNPOTZxMXlZVVRNaHRnNkRpb0ZVREphcTZTNkF0VWtXRVFBTmZpTUpjb1NJaVNVaEFEcz0pO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnBvc3Rlci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0b3A6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucG9zdGVyLWNvbnRhaW5lciAucG9zdGVyLWltYWdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wb3N0ZXItY29udGFpbmVyIC5wb3N0ZXItaW1hZ2UgLmJ0biB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtY29udGFpbmVyIHZpZGVvIHtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy1jb250YWluZXIgLndvcmtpbmctaW5kaWNhdG9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZy10b3A6IDMwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmb250LXNpemU6IDIwcHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLWNvbnRhaW5lciAuYW5ubyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIHtcXG4gIGJhY2tncm91bmQ6ICMxNGE0YzM7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLXRpbWVsaW5lLWNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBoZWlnaHQ6IDVweDtcXG4gIHdpZHRoOiAwcHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuaG92ZXItcHJldmlldyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxO1xcbiAgcGFkZGluZy1ib3R0b206IDdweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1wcmV2aWV3IC5sYWJlbCB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDY2LCA2NiwgNjYsIDAuODUpO1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBsaW5lLWhlaWdodDogOHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmhvdmVyLXByZXZpZXcgLnBvaW50ZXIge1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuaG92ZXItcHJldmlldyAucG9pbnRlciAuYXJyb3cge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBib3JkZXItdG9wOiA2cHggc29saWQgcmdiYSg2NiwgNjYsIDY2LCAwLjg1KTtcXG4gIGJvcmRlci1sZWZ0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1oaWdobGlnaHQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogI2UyZTJlMjtcXG4gIGhlaWdodDogNHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIge1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC5kdXJhdGlvbi1oaWdobGlnaHQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogIzE0YTRjMztcXG4gIGhlaWdodDogNHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnRpbWVsaW5lLWl0ZW0tY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogNnB4O1xcbiAgYmFja2dyb3VuZDogI2NmY2ZjZjtcXG4gIHRvcDogMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAubGluZS13cmFwcGVyIHtcXG4gIG1hcmdpbi10b3A6IDJweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAudGltZWxpbmUtaXRlbSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDZweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWZlZmVmO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZWZlZmVmO1xcbiAgYmFja2dyb3VuZDogIzc3NztcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAudGltZWxpbmUtaXRlbS5hY3RpdmUge1xcbiAgYmFja2dyb3VuZDogIzMzMztcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcbiAgd2lkdGg6IDE0cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBtYXJnaW4tbGVmdDogLTdweDtcXG4gIG1hcmdpbi10b3A6IDA7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA3cHg7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgei1pbmRleDogMjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItaGFuZGxlOmZvY3VzIHtcXG4gIG91dGxpbmUtd2lkdGg6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnJhbmdlLXRpbWVsaW5lLWNvbnRhaW5lciAudWktc2xpZGVyLWhhbmRsZSB7XFxuICB3aWR0aDogMTRweDtcXG4gIGhlaWdodDogMTRweDtcXG4gIG1hcmdpbi1sZWZ0OiAtN3B4O1xcbiAgbWFyZ2luLXRvcDogMDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcXG4gIGJhY2tncm91bmQ6ICM3OUIyRTM7XFxuICB6LWluZGV4OiAyO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTowO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnJhbmdlLXRpbWVsaW5lLWNvbnRhaW5lciAudWktc2xpZGVyLWhhbmRsZTpmb2N1cyB7XFxuICBvdXRsaW5lLXdpZHRoOiAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgaGVpZ2h0OiAzNnB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAuYnRuIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAucGF1c2UtYnV0dG9uIHtcXG4gIG1hcmdpbi1yaWdodDogMTRweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnRpbWUtZGlzcGxheSB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmc6IDhweCAwcHggMCAxMHB4O1xcbiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcXG4gIG1pbi13aWR0aDogMTUwcHg7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC50aW1lLWRpc3BsYXkgLmNhbnZhcy10aW1lIHtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudGltZS1kaXNwbGF5IC5jYW52YXMtZHVyYXRpb24ge1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHdpZHRoOiAxNDBweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLW11dGUge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBwYWRkaW5nLWxlZnQ6IDBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDJweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLXNsaWRlciB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi10b3A6IDEycHg7XFxuICB3aWR0aDogODRweDtcXG4gIGhlaWdodDogNXB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTsgIFxcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG4gIHRvcDogMHB4O1xcbiAgd2lkdGg6IDE0cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBtYXJnaW4tbGVmdDogLTdweDtcXG4gIG1hcmdpbi10b3A6IC00cHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA3cHg7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgei1pbmRleDogMTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLXNsaWRlciAudWktc2xpZGVyLWhhbmRsZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmJ0biB7XFxuICBmb250LXNpemU6IDA7XFxuICBiYWNrZ3JvdW5kOiAwIDA7XFxuICBib3JkZXI6IDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbiAgcGFkZGluZzogMCA1cHggMCAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmJ0biBpIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgd2lkdGg6IDI1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIxcHgnIGhlaWdodD0nMThweCcgdmlld0JveD0nMCAwIDIxIDE4JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFdm9sdW1lIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtODA2LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNzI0LjQwOTY2NiwzNi4wMTg2OTE2IEM3MjQuMTk2MDI0LDM2LjAxODY5MTYgNzIzLjk4MjM4MywzNS45Mjg2MDA5IDcyMy44MTkzNywzNS43NDc4MDIzIEM3MjMuNDkzMzQ0LDM1LjM4NjIwNTIgNzIzLjQ5MzM0NCwzNC44MDA2MTU1IDcyMy44MTkzNywzNC40MzkwMTg0IEM3MjUuMzQzMjM1LDMyLjc0ODg5MTUgNzI2LjE4MjIyMywzMC41MDIxNzY2IDcyNi4xODIyMjMsMjguMTEyMzAzOCBDNzI2LjE4MjIyMywyNS43MjI0MzEgNzI1LjM0MzIzNSwyMy40NzU3MTYxIDcyMy44MTkzNywyMS43ODU1ODkyIEM3MjMuNDkzMzQ0LDIxLjQyMzk5MjEgNzIzLjQ5MzM0NCwyMC44Mzc3ODUzIDcyMy44MTkzNywyMC40NzY4MDUzIEM3MjQuMTQ1Mzk2LDIwLjExNTIwODIgNzI0LjY3MzkzNiwyMC4xMTUyMDgyIDcyNC45OTk0MDUsMjAuNDc2ODA1MyBDNzI2LjgzODE2OSwyMi41MTYxODgxIDcyNy44NTEyOTcsMjUuMjI4MTY2MSA3MjcuODUxMjk3LDI4LjExMjMwMzggQzcyNy44NTEyOTcsMzAuOTk2NDQxNSA3MjYuODM4NzI2LDMzLjcwODQxOTUgNzI0Ljk5OTQwNSwzNS43NDc4MDIzIEM3MjQuODM2MzkyLDM1LjkyODYwMDkgNzI0LjYyMjc1MSwzNi4wMTg2OTE2IDcyNC40MDkxMDksMzYuMDE4NjkxNiBMNzI0LjQwOTY2NiwzNi4wMTg2OTE2IFogTTcyMS4zNjkzNDEsMzQuMjYxMDY2NCBDNzIxLjE2NzY3OSwzNC4yNjEwNjY0IDcyMC45NjYwMTcsMzQuMTcxMTUwNiA3MjAuODEyMTQ1LDMzLjk5MDcwMzEgQzcyMC41MDQ0MDEsMzMuNjI5ODA4MiA3MjAuNTA0NDAxLDMzLjA0NTM1NTUgNzIwLjgxMjE0NSwzMi42ODQ0NjA1IEM3MjIuOTYyMTUyLDMwLjE2MzEyMjggNzIyLjk2MjE1MiwyNi4wNjA4NjgzIDcyMC44MTIxNDUsMjMuNTM5NTMwNiBDNzIwLjUwNDQwMSwyMy4xNzg2MzU3IDcyMC41MDQ0MDEsMjIuNTkzNTY3MSA3MjAuODEyMTQ1LDIyLjIzMzI4OCBDNzIxLjExOTg4OSwyMS44NzIzOTMxIDcyMS42MTg3OTIsMjEuODcyMzkzMSA3MjEuOTI2MDExLDIyLjIzMzI4OCBDNzIzLjI2NTE3LDIzLjgwMzczNTMgNzI0LjAwMjQ5NSwyNS44OTE1MDYzIDcyNC4wMDI0OTUsMjguMTEyMzAzNSBDNzI0LjAwMjQ5NSwzMC4zMzMxMDA3IDcyMy4yNjUxNywzMi40MjA4NzE3IDcyMS45MjYwMTEsMzMuOTkxMzE5IEM3MjEuNzcyMTM5LDM0LjE3MTc2NjQgNzIxLjU3MDQ3NywzNC4yNjE2ODIyIDcyMS4zNjg4MTUsMzQuMjYxNjgyMiBMNzIxLjM2OTM0MSwzNC4yNjEwNjY0IFogTTcxOC41NDk0MTQsMzIuNTA0MDU5MSBDNzE4LjMwMzMyOSwzMi41MDQwNTkxIDcxOC4wNTcyNDQsMzIuNDE0NDUwMiA3MTcuODY5NDc2LDMyLjIzNDYxODcgQzcxNy40OTM5NCwzMS44NzQ5NTU2IDcxNy40OTM5NCwzMS4yOTI0OTc5IDcxNy44Njk0NzYsMzAuOTMyODM0OCBDNzE5LjQ5MzM4MSwyOS4zNzc1NjgyIDcxOS40OTMzODEsMjYuODQ2NDI0IDcxNy44Njk0NzYsMjUuMjkxMTU3NCBDNzE3LjQ5Mzk0LDI0LjkzMTQ5NDMgNzE3LjQ5Mzk0LDI0LjM0ODQyMjggNzE3Ljg2OTQ3NiwyMy45ODkzNzM1IEM3MTguMjQ1MDEyLDIzLjYyOTcxMDQgNzE4Ljg1MzE3NSwyMy42Mjk3MTA0IDcxOS4yMjg3MTEsMjMuOTg5MzczNSBDNzIxLjYwMjQwNiwyNi4yNjI3Mzg3IDcyMS42MDI0MDYsMjkuOTYxODY3MyA3MTkuMjI4NzExLDMyLjIzNTIzMjUgQzcxOS4wNDA5NDMsMzIuNDE1MDY0IDcxOC43OTQ4NTgsMzIuNTA0NjcyOSA3MTguNTQ4NzczLDMyLjUwNDY3MjkgTDcxOC41NDk0MTQsMzIuNTA0MDU5MSBaIE03MTUuMDc1NTk1LDE5LjYxNjI0NDQgQzcxNS41MTY1NTgsMTkuMTEzMDcxNSA3MTUuODc3MjQ2LDE5LjI4MzcyMzYgNzE1Ljg3NzI0NiwxOS45OTUxOTI2IEw3MTUuODc3MjQ2LDM2LjIyOTEwNjUgQzcxNS44NzcyNDYsMzYuOTQwNTc1NCA3MTUuNTE2NTU4LDM3LjExMTIyNzYgNzE1LjA3NTU5NSwzNi42MDgwNTQ3IEw3MTAuOTI4Nzg1LDMxLjg3NjIyMTcgTDcwOC4xNzk2NDEsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwyNC4zNDc0NSBMNzEwLjkyODc4NSwyNC4zNDc0NSBMNzE1LjA3NTU5NSwxOS42MTU2MTcgTDcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBaJyBpZD0ndm9sdW1lLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpOyAgXFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIxcHgnIGhlaWdodD0nMThweCcgdmlld0JveD0nMCAwIDIxIDE4JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFdm9sdW1lIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtODA2LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNzI0LjQwOTY2NiwzNi4wMTg2OTE2IEM3MjQuMTk2MDI0LDM2LjAxODY5MTYgNzIzLjk4MjM4MywzNS45Mjg2MDA5IDcyMy44MTkzNywzNS43NDc4MDIzIEM3MjMuNDkzMzQ0LDM1LjM4NjIwNTIgNzIzLjQ5MzM0NCwzNC44MDA2MTU1IDcyMy44MTkzNywzNC40MzkwMTg0IEM3MjUuMzQzMjM1LDMyLjc0ODg5MTUgNzI2LjE4MjIyMywzMC41MDIxNzY2IDcyNi4xODIyMjMsMjguMTEyMzAzOCBDNzI2LjE4MjIyMywyNS43MjI0MzEgNzI1LjM0MzIzNSwyMy40NzU3MTYxIDcyMy44MTkzNywyMS43ODU1ODkyIEM3MjMuNDkzMzQ0LDIxLjQyMzk5MjEgNzIzLjQ5MzM0NCwyMC44Mzc3ODUzIDcyMy44MTkzNywyMC40NzY4MDUzIEM3MjQuMTQ1Mzk2LDIwLjExNTIwODIgNzI0LjY3MzkzNiwyMC4xMTUyMDgyIDcyNC45OTk0MDUsMjAuNDc2ODA1MyBDNzI2LjgzODE2OSwyMi41MTYxODgxIDcyNy44NTEyOTcsMjUuMjI4MTY2MSA3MjcuODUxMjk3LDI4LjExMjMwMzggQzcyNy44NTEyOTcsMzAuOTk2NDQxNSA3MjYuODM4NzI2LDMzLjcwODQxOTUgNzI0Ljk5OTQwNSwzNS43NDc4MDIzIEM3MjQuODM2MzkyLDM1LjkyODYwMDkgNzI0LjYyMjc1MSwzNi4wMTg2OTE2IDcyNC40MDkxMDksMzYuMDE4NjkxNiBMNzI0LjQwOTY2NiwzNi4wMTg2OTE2IFogTTcyMS4zNjkzNDEsMzQuMjYxMDY2NCBDNzIxLjE2NzY3OSwzNC4yNjEwNjY0IDcyMC45NjYwMTcsMzQuMTcxMTUwNiA3MjAuODEyMTQ1LDMzLjk5MDcwMzEgQzcyMC41MDQ0MDEsMzMuNjI5ODA4MiA3MjAuNTA0NDAxLDMzLjA0NTM1NTUgNzIwLjgxMjE0NSwzMi42ODQ0NjA1IEM3MjIuOTYyMTUyLDMwLjE2MzEyMjggNzIyLjk2MjE1MiwyNi4wNjA4NjgzIDcyMC44MTIxNDUsMjMuNTM5NTMwNiBDNzIwLjUwNDQwMSwyMy4xNzg2MzU3IDcyMC41MDQ0MDEsMjIuNTkzNTY3MSA3MjAuODEyMTQ1LDIyLjIzMzI4OCBDNzIxLjExOTg4OSwyMS44NzIzOTMxIDcyMS42MTg3OTIsMjEuODcyMzkzMSA3MjEuOTI2MDExLDIyLjIzMzI4OCBDNzIzLjI2NTE3LDIzLjgwMzczNTMgNzI0LjAwMjQ5NSwyNS44OTE1MDYzIDcyNC4wMDI0OTUsMjguMTEyMzAzNSBDNzI0LjAwMjQ5NSwzMC4zMzMxMDA3IDcyMy4yNjUxNywzMi40MjA4NzE3IDcyMS45MjYwMTEsMzMuOTkxMzE5IEM3MjEuNzcyMTM5LDM0LjE3MTc2NjQgNzIxLjU3MDQ3NywzNC4yNjE2ODIyIDcyMS4zNjg4MTUsMzQuMjYxNjgyMiBMNzIxLjM2OTM0MSwzNC4yNjEwNjY0IFogTTcxOC41NDk0MTQsMzIuNTA0MDU5MSBDNzE4LjMwMzMyOSwzMi41MDQwNTkxIDcxOC4wNTcyNDQsMzIuNDE0NDUwMiA3MTcuODY5NDc2LDMyLjIzNDYxODcgQzcxNy40OTM5NCwzMS44NzQ5NTU2IDcxNy40OTM5NCwzMS4yOTI0OTc5IDcxNy44Njk0NzYsMzAuOTMyODM0OCBDNzE5LjQ5MzM4MSwyOS4zNzc1NjgyIDcxOS40OTMzODEsMjYuODQ2NDI0IDcxNy44Njk0NzYsMjUuMjkxMTU3NCBDNzE3LjQ5Mzk0LDI0LjkzMTQ5NDMgNzE3LjQ5Mzk0LDI0LjM0ODQyMjggNzE3Ljg2OTQ3NiwyMy45ODkzNzM1IEM3MTguMjQ1MDEyLDIzLjYyOTcxMDQgNzE4Ljg1MzE3NSwyMy42Mjk3MTA0IDcxOS4yMjg3MTEsMjMuOTg5MzczNSBDNzIxLjYwMjQwNiwyNi4yNjI3Mzg3IDcyMS42MDI0MDYsMjkuOTYxODY3MyA3MTkuMjI4NzExLDMyLjIzNTIzMjUgQzcxOS4wNDA5NDMsMzIuNDE1MDY0IDcxOC43OTQ4NTgsMzIuNTA0NjcyOSA3MTguNTQ4NzczLDMyLjUwNDY3MjkgTDcxOC41NDk0MTQsMzIuNTA0MDU5MSBaIE03MTUuMDc1NTk1LDE5LjYxNjI0NDQgQzcxNS41MTY1NTgsMTkuMTEzMDcxNSA3MTUuODc3MjQ2LDE5LjI4MzcyMzYgNzE1Ljg3NzI0NiwxOS45OTUxOTI2IEw3MTUuODc3MjQ2LDM2LjIyOTEwNjUgQzcxNS44NzcyNDYsMzYuOTQwNTc1NCA3MTUuNTE2NTU4LDM3LjExMTIyNzYgNzE1LjA3NTU5NSwzNi42MDgwNTQ3IEw3MTAuOTI4Nzg1LDMxLjg3NjIyMTcgTDcwOC4xNzk2NDEsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwyNC4zNDc0NSBMNzEwLjkyODc4NSwyNC4zNDc0NSBMNzE1LjA3NTU5NSwxOS42MTU2MTcgTDcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBaJyBpZD0ndm9sdW1lLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpOyAgXFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9mZiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0Z2NLRFFrMHNtdnc4Z0FBQU9sSlJFRlVTTWZ0bFRGS0JFRVFSZCtmWFJkQkVObEFURFR5Q29KSEVBMjlneGN5TnpQWHpGU01CVE92WUtSZ29DRE1QZ01ibEdXRFlad1pBK2RGMVZEVnY3cXFxSWFSa1pHT3lHOHZVT2ZBTzdBT2tPU2w5NnpWVS9WQzNTam5hZ2pSWTcrNGFoTmZ0UlE5QWE3TDhhM05IZE9HUWdmQURIZ0dEb0h6VmJGcWt0aVpNSEFEeklIRmlpclpaNm1yaHY3cHRjZGQ4R2ZDVFh0OEQyd0RyOEF1c05mWFFscWUxb2s2S2ZhTyt1QTNsei84cWs1TG5hUk9VaGY3Q1RnQzdwWmZtV1F4eE9iYVZCL1YyOEVIUk4xWHo5U3QwbzdaWUw5VFNXQUtyQUYxa28veDB4OForUjk4QWhjVGIyS0JIS0NVQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcHJldmlvdXMge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQVlBQUFBN01LNmlBQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQUIzUkpUVVVINGdjSkRDZ3ExNHdkcXdBQUFKOUpSRUZVU01mdDFUc09RVUVVZ09FVHBVWXBjbU1GRXR1d0V5dlIyb0xlUXBRNm02QWlFWS9HcDBDREs1TDdFcG0vbXptVCtjL0p6SnlKU0NRU2RZSTFUdWg5V05QR3BHengwWTBzSjk3QkFtb1RvNC9WUGI3N2RzOVd3WVJHRWJHTWlNRmpxdktLTWZiS3RpcHg5ejZlZWsvcDRnTXVHR0ltbjlMRmU1d3g5NW4vcWJpeE0yNzhWbWZQN3hpYjJzVkZPdGZQOStwbWZxZEVJdkhUWEFIS3M3ZURuL2hxcFFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXBsYXkucGxheSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBsYXkgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMDUuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgQzcuMDI1MzY2ODUsMzkuNDQ4NTk4MSA2LjkzMjc3NDAxLDM5LjQyNTQ0OTkgNi44NjMzMjkzOCwzOS4zNzkxNTM1IEM2Ljc0NzU4ODM0LDM5LjMwOTcwODkgNi42NzgxNDM3MSwzOS4xNzA4MTk2IDYuNjc4MTQzNzEsMzkuMDMxOTMwNCBMNi42NzgxNDM3MSwxOS44NjUyMTM0IEM2LjY3ODE0MzcxLDE5LjcyNjMyNDIgNi43NDc1ODgzNCwxOS41ODc0MzQ5IDYuODYzMzI5MzgsMTkuNTE3OTkwMyBDNy4wMDIyMTg2NCwxOS40MjUzOTc1IDcuMTQxMTA3ODksMTkuNDI1Mzk3NSA3LjI3OTk5NzE0LDE5LjQ5NDg0MjEgTDI2LjQ0NjcxNDEsMjkuMDc4MjAwNiBDMjYuNTg1NjAzMywyOS4xNDc2NDUyIDI2LjY3ODE5NjIsMjkuMjg2NTM0NCAyNi42NzgxOTYyLDI5LjQ0ODU3MTkgQzI2LjY3ODE5NjIsMjkuNjEwNjA5NCAyNi41ODU2MDMzLDI5Ljc0OTQ5ODYgMjYuNDQ2NzE0MSwyOS44MTg5NDMyIEw3LjI3OTk5NzE0LDM5LjQwMjMwMTcgQzcuMjEwNTUyNTIsMzkuNDI1NDQ5OSA3LjE2NDI1NjEsMzkuNDQ4NTk4MSA3LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgWicgaWQ9J3BsYXktaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1wbGF5LnBsYXk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcGxheS5wYXVzZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxNXB4JyBoZWlnaHQ9JzE1cHgnIHZpZXdCb3g9JzAgMCAxNSAxNScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBhdXNlIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nYW5ub3RhdGlvbi10eXBlLWRyb3Bkb3duLW1lbnUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xOS4wMDAwMDAsIC0yMTIuMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyUzRSUzQ2cgaWQ9J2Ryb3Bkb3duJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1LjAwMDAwMCwgMC4wMDAwMDApJyUzRSUzQ3BhdGggZD0nTTE4LjUxNTYxNDMsMjI2Ljk2ODc0OCBMMTUuNTE1NjIxNCwyMjYuOTY4NzQ4IEMxNC42ODc0OTg0LDIyNi45Njg3NDggMTQuMDE1NjI1LDIyNi4yOTY4NzQgMTQuMDE1NjI1LDIyNS40Njg3NTEgTDE0LjAxNTYyNSwyMTQuNDY4Nzc3IEMxNC4wMTU2MjUsMjEzLjY0MDY1NCAxNC42ODc0OTg0LDIxMi45Njg3ODEgMTUuNTE1NjIxNCwyMTIuOTY4NzgxIEwxOC41MTU2MTQzLDIxMi45Njg3ODEgQzE5LjM0MzczNzMsMjEyLjk2ODc4MSAyMC4wMTU2MTA3LDIxMy42NDA2NTQgMjAuMDE1NjEwNywyMTQuNDY4Nzc3IEwyMC4wMTU2MTA3LDIyNS40Njg3NTEgQzIwLjAxNTYxMDcsMjI2LjI5Njg3NCAxOS4zNDM3MzczLDIyNi45Njg3NDggMTguNTE1NjE0MywyMjYuOTY4NzQ4IFogTTI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBDMjguMDE1NTkxNiwyMjYuMjk2ODc0IDI3LjM0MzcxODIsMjI2Ljk2ODc0OCAyNi41MTU1OTUyLDIyNi45Njg3NDggTDIzLjUxNTYwMjQsMjI2Ljk2ODc0OCBDMjIuNjg3NDc5MywyMjYuOTY4NzQ4IDIyLjAxNTYwNTksMjI2LjI5Njg3NCAyMi4wMTU2MDU5LDIyNS40Njg3NTEgTDIyLjAxNTYwNTksMjE0LjQ2ODc3NyBDMjIuMDE1NjA1OSwyMTMuNjQwNjU0IDIyLjY4NzQ3OTMsMjEyLjk2ODc4MSAyMy41MTU2MDI0LDIxMi45Njg3ODEgTDI2LjUxNTU5NTIsMjEyLjk2ODc4MSBDMjcuMzQzNzE4MiwyMTIuOTY4NzgxIDI4LjAxNTU5MTYsMjEzLjY0MDY1NCAyOC4wMTU1OTE2LDIxNC40Njg3NzcgTDI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBaJyBpZD0ncGF1c2UtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG1hcmdpbi10b3A6IDhweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXBsYXkucGF1c2U6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMTVweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTUgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwYXVzZSBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J2Fubm90YXRpb24tdHlwZS1kcm9wZG93bi1tZW51JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTkuMDAwMDAwLCAtMjEyLjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdkcm9wZG93bicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNS4wMDAwMDAsIDAuMDAwMDAwKSclM0UlM0NwYXRoIGQ9J00xOC41MTU2MTQzLDIyNi45Njg3NDggTDE1LjUxNTYyMTQsMjI2Ljk2ODc0OCBDMTQuNjg3NDk4NCwyMjYuOTY4NzQ4IDE0LjAxNTYyNSwyMjYuMjk2ODc0IDE0LjAxNTYyNSwyMjUuNDY4NzUxIEwxNC4wMTU2MjUsMjE0LjQ2ODc3NyBDMTQuMDE1NjI1LDIxMy42NDA2NTQgMTQuNjg3NDk4NCwyMTIuOTY4NzgxIDE1LjUxNTYyMTQsMjEyLjk2ODc4MSBMMTguNTE1NjE0MywyMTIuOTY4NzgxIEMxOS4zNDM3MzczLDIxMi45Njg3ODEgMjAuMDE1NjEwNywyMTMuNjQwNjU0IDIwLjAxNTYxMDcsMjE0LjQ2ODc3NyBMMjAuMDE1NjEwNywyMjUuNDY4NzUxIEMyMC4wMTU2MTA3LDIyNi4yOTY4NzQgMTkuMzQzNzM3MywyMjYuOTY4NzQ4IDE4LjUxNTYxNDMsMjI2Ljk2ODc0OCBaIE0yOC4wMTU1OTE2LDIyNS40Njg3NTEgQzI4LjAxNTU5MTYsMjI2LjI5Njg3NCAyNy4zNDM3MTgyLDIyNi45Njg3NDggMjYuNTE1NTk1MiwyMjYuOTY4NzQ4IEwyMy41MTU2MDI0LDIyNi45Njg3NDggQzIyLjY4NzQ3OTMsMjI2Ljk2ODc0OCAyMi4wMTU2MDU5LDIyNi4yOTY4NzQgMjIuMDE1NjA1OSwyMjUuNDY4NzUxIEwyMi4wMTU2MDU5LDIxNC40Njg3NzcgQzIyLjAxNTYwNTksMjEzLjY0MDY1NCAyMi42ODc0NzkzLDIxMi45Njg3ODEgMjMuNTE1NjAyNCwyMTIuOTY4NzgxIEwyNi41MTU1OTUyLDIxMi45Njg3ODEgQzI3LjM0MzcxODIsMjEyLjk2ODc4MSAyOC4wMTU1OTE2LDIxMy42NDA2NTQgMjguMDE1NTkxNiwyMTQuNDY4Nzc3IEwyOC4wMTU1OTE2LDIyNS40Njg3NTEgWicgaWQ9J3BhdXNlLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1uZXh0IHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FZQUFBQTdNSzZpQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFCM1JKVFVVSDRnY0pEQ2tWZVBFQjF3QUFBS0pKUkVGVVNNZnRsYkVOd2pBUVJiOGlxcVNnUkZIRUJFaXN3UncwVEpJMks3QU5KUjFMUUpVMGdJU1VSK01LU0pUQ09oenBYdVBpckh1Mnp6NUxqdU5ZQXRSQVBoSXZnU2R3alMwR09BSExnWGdWNWp4aWk3dVErQUtzWTRpenFlNHdiaVNkZ1oxVmpWdStPVmdjOVM4eFFCUGlLMnN4d0JIWUFqMXduNXB6RVdGZGUwbUZwSmVrUHZrZHo3TEc1cmY2OXZtT1o5VzVrdS9WLy9tZEhNZEptamRCeDQ2T2tKSjRzQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tZXhwYW5kLmV4cGFuZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQU1zbnBVV0hSU1lYY2djSEp2Wm1sc1pTQjBlWEJsSUdWNGFXWUFBSGphN1psSmNpTTlEb1gzUEVVZklUbUF3M0U0UnZRTit2ajlnVXhibG9jYTdGNzA0aTlGS1dXS3lRU0JoNGNIeXN6Ly9IdVpmL0V2SkJ0TmtKUmppZkhpWHlpaHVNcUhmSjEvNTJxdnNOL1BIL1Aremo2UG05Y3ZIRU9lcXo5L3hudmNWc2JsY1VNSzkzaDdIamVwMyt2a2U2SDdpNWNGdlQ3WjhlR2VsKytGdkR2ajl2N2JsUHUrR3Q1czUvN3YwMTdpZGZMN3YwUENHVU1ZOU02NDZhMi9lQS82Rkk4RlB2dktOZkZ1ZlhRNjR2bnN1T3A3K054MzV2WGpPK2U5Zm5ybnU2dmU0LzdaRmVhSzk0VDR6a2YzdUpYUGZiYzk5QlMxeDVPZnZoQ3hEOXZlK1c2dGtkZWFaM2MxUkR3VnpiMnBsNjNzVDB4c3VOTHYyeUt2eEgvaGM5cXZ3aXV6eFk3VEI5RnN2THF4eFRxOHZXeXd3MWE3N056WGJqc21CamRkNHVwY3g5YzZsbjF5eGZVZGxLQXZ1MXp5eFE5RGpKenZSTTB6N0Y1dHNmdTVaVCt2Mjh5VGgyV21zeXhtdWVQRHkzdzIrSjNYNjBKcktYUnhjSDcxRlhZNUJTQm1hT1QwblZrRXhLN2JwN0w5dTEvbWVvN05TMkE5RVpUdDVzd0c2OVhPRWszc0ExdCt4OWt6VDY1Z3JnTjNtOGE5QUM3aTJZSXgxaE9CSzFvdk50b3JPWmVzeFkrWitGUXNCK1N1RVFFcjRvWTFpOWg0TWlHNTdQVFozSlBzbnV2RW5XR29oVUNJajZSTkprS1ZZSVVnNENlRkRJYXFlQWxHUktJa3lWS2tSaDlEbEJoamlzcFJOZmtVa3FTWVVzcXBwSnA5RGxseXpDbm5YSEl0cm5nb1RFb3N5WlJjU3FtVmgxYVdydHhkbVZGcmM4MjMwS1RGbGxwdXBkVU9mSHJvMG1OUFBmZlM2M0RERDlKL3hKSE15S09NT3UwRVNqTk1tWEdtbVdlWmRZRzE1VmRZc3VKS0s2K3k2bXZVN3FnK1I4MitpOXl2bzJidnFHbkV3cDZYSGxGak9LV1hKYXpTaVdqTWlKZ0xsb2dualFDQWRocXpLOXNRbkVaT1kzWVZSMUtJSTJwV05EakRhc1NJWUpqV3liS3ZzWHRFN3BkeE14TCtLbTd1cThnWkRkMy9JbkpHUTNkSDdtUGNQb25hcUx1aStCMGd6VUwxNmVVWHhNYUVtYXZMVld2U3Q2L21wd3Y4czlELy9VSXJYQ3RIV1ZkdmExb1NaZ0Zlc25rc3hWSHphM1k3aFpIV1VtbHRwYm1nOXdWVUxWQ2RhMFFHZFNSSFZsbFY1eXhYOXRob01hOVJpa2xyeGxoMHFLV2d3QjJ5bEVHdTFOZSsrZW84Zm9sUHpPUjl6NHpENnZWOFJYbm5TM04vMnpSVEVENzNDbHEybnljKzV1a2FIeGMzNzFiNEN4dWVUVERmdCtIWkJQTjlHNTVOTU4rMzRka0U4L2MyWkxTUFQ5TVc4T0lhSEtUVHN6bG9nRGxIVzMzbzU1TGljaTNHUHBnRVRKSnZpSjBxcWF5Ujl1dzV2T2pWdTViNGF0OWxKckpxcWNUOGRuNnNFMzVBK1lMSmpVaXdlbVB5ZG1SVHlhUDdIWDdiUG5XbTFEWlYvVjB6cmg3YjlIQzJSL3NuVlFrVjFpK1hqRDZ1MEJJdW03VkZxa0JIc2RWR2Vaa3ppczBvdHJsbWthNWl5UWZLaXo5Ynk3YlZ5VlpYenRpWTJlcHFmTDE2OGR1SWlVZDNFQ0Qyd3NPakdyTElWZEsyK3RiM2Q0dEtPMFlpYTBsaGJ1cVVNeGFMZWE1cjczelFBY2plWWx0MjQyWFpVVmZKeHp0dmxqdUFERDlmenJ3MTd5ZkxtWSs3L2Q1eTV1TnV2N2VjZWRwdEF4VldRSVdDSWhWQU1RQkZTUW9LbEpDa2EwUXlBZ2xTYTVmc3dFZUlJMFpBZ2ZJSEZVMkdvN2ZkUWU1ejQ4S0Y1V1UvcTEyMUEwSTBocXZyQkw4Y0tpNTFwMVFSR055TW01L3pTQmswZjVsTHYwc2w4NmU1OUx0VU1yL0pKUlFwQllIOG42SE1lRy9KU3Q1c2hHWnJzcEQrYWZnTnlOK254Q2ZXVG5Kc0lqZVhKYlhHWlZCbVpOcThXbzBzNG5hWWcvVTk3c1dDcTdGdE83S2JTbDI1c016STdkSlowN2NSVnBnb3VtV2FIMWVERTZYVlhGaEhJRE1FN2tEWUlWTjlkcXZZUW1QT1pnOS8xdENtMHcxZkdvWGlnY3oyVVUrdXplclhCUzk0cVN2YjFQMUE2OUhBMFBjdEcwdUp2YmhBVTFNRTJGaXJYVXYyblhlMlZVZFhWMlpEdDlLR05rQUxrbXJXVDhRdjVpMHQxWldDUEdOZ0FqSnlUcm02TDRMeW5ycU9yUjFOaWR1ejZnQ2NiWjBLQVl2L1MrdnMvVm9RV2txeHVWUnNZN091MTFBczZ2d0s4WnEwcFYxMWVvRCswYTJKZ1BEb0VnMUFoQXlYWnNMaWR1K2J1eERkY3lMZlZVZlBrRHYzWHJaSCtyaXlvZy8wSWtHTGg2YkFTd0kwYy9DUEQxOHlZQ09uOUhTUVE5K3R1Q24reG8zSTFDN2RMZ1hLVG9BYi9tYm93RUcvUW5nUWJnQXM4ZWlUdHVFb2M1K3JDSVh0eTZ2NWVvS2R2NjBpbXIwNmhtb3lpK2FCYll4N1dwTmRVbG5GL3dubU40OHBUYWxpSzRTbm5zVE1FcmxoV0xyZDFQdGI2d2o2RlFiOURiMXdHNjJEZ3VFN0RhT0RoK2l5dXVtemgzMEtsbHpneVJIWFBlWFF4eFNpdDhOSWlQTWFUT0RaWENoSHNRNHQrNSs0S0s4MHB1dk1uMUJJY1ZJSVRNNCtWRHFtbXBkdENJa0pIaktzN0doRkxXaE45SWJBZFlFcTFRNTJKUjRFTGZOeFNCNDlhcThtVmZrSDB3STA2SVFTM0Z6TmNmbElUaG9ud0xZQTFXVG5kTTJ0Nlhmb2V4R3lkNGZoY0UrWnZvS2VsMHBCWUJLZTN3NVdIeGoyZVBpTzNoV212VFoxdjBQdEI5QWUydGJGbExZM2FTTnI1aGw2a1BZVFl0OEE5Z2ZLZjJQOVFkYnZ0SGhDbU5TSW1LODlvdGhRT0F2SlFzYVBhQ2RwMi90cVR1aGRNUmp2MFNlckU2TzJwQUpqSFhvamdybURreHliRnRKMUdmSjl1ODdLSXluZXdsa3IzUWIwQTg3MHdxRjFJTEFpc21rZTdqQU5SbEZEQWVtSXZ0VldVNUhnNDdYWkF3NlpGd2F0NUtYb01hMGs1YlVkbnVJeW5GUjNNRVkxSjNlRzFKR1Z6Nk5WcmxwZGo0UnFwd2dQZDdVRzZmbU9GbFBxelRmSjVSQWxJQVgwWEdObE1XbFEwUk1jendabzcwa2w5UTFiQjNVeDVZS3ZTSjZrVk4zMEJKWkNZSyttN3pNcHg3V2llU0FJZG5zKzRLUUZOL1o0SkxKcm84N1RSaWtnTUNoQjY1bEVqV1VpSGdUSXA1emptR09wdTBoYVZSbTFVQXRDc2gwdnUxcUpmWkY5c0J2MUJJK3VUVThYb1BvSlFsRSt4UzB5WU03RXBtdnhKRjBzWmdidnFFMzdoQm9sNC9WK3Rwa3ZiTHF6ZDRYZlkzMlo3ekgwUjRJMjMyUG9qMWZ6WU9pSndNYVhzSVdmTFIzOHdtR3hSU3FzVjV1eG5kSUhZOU9haE5hODEvTVkyektsS3BuTDExUXg4RlR3clI5dUZZbCsyQkxlemJ5WFJUK2NVdlZwN3BuVENLTWRlZ0p3SStvNWZjbzI5amg5MEdJZVJyTmxOTGdMcCtoaGtnUXRuQXM2aE1aYzNhWHo4aWFyZHlkVWlIRHBFS3NBMDhydWxGaEhEZll1M212enFyZk82YzhBaFFTcVpWNVR6N2lYN29jdSs5ZDZiQWJVUmRBSnpNNWJXVWJkWUEzTDZWYlFSOUdqSVNoSGg5cnRtSklUem5paGRuL3JoMFB0OEhtTytpc0YxaWpBWTcvVDRUVXRVQ016L1FMNWZ3ajhncXlabHRaejYvdXFsUXowMWtQM2FvcHlaQnJKNGhCaUFBYVNzbjJoVUlwcjhKV2YyZ1A0WnAxQndVQUZudW80QzJpeWZVRm9XbEhkNklKUmQwWEZXYWkyNlBvdXFQcDU3WUpLTnZoTnkrYkJ6NThWbVQrdk1lYlhSZWJQYTR6NVlYdjlpblB6U1pIWk5teFpkRVRSbGtSNmN2elNEa0FXMXBFTnNPZ2lWR1hZa1ExNlBHcG1Ocnd1MWp1NHYrcXZMRjNQbW51MTJvSGIxU2VGSkFTNHVjMXJIQUY4b1Q5cWdPL0JkWnNtKzVSS2Nrc2JNMlFKRkV5b3FXTXFnSjB2Vm5ENFlRc2g4VHVMV1NkQUw5RGxGeTFRQlRydkduNEtDQWtJRW9DR1hKT08zbDR6WU04SzBZL1p1dk4zYjZsZGhYYVd1NHViNTJoTmU4dkx3dzhnR3dFb0FKc2MxR1RRNElJUjVQSEFjdzN1c0dsVTJqVTA4d0RDM2U1Y3BRaTJLYnRWek5EVHN1YlNHcXJQZ3RJUG5VMTBFVHF0SlNVV0sxUlR1SUIyTVFId05ET2lIc0ZEQllqTCtaQXUvSmhkcTBaN2doaUQ4ejU3cmVTZ09DdTJOTVFmcnY3RTc1bmtRUmswYndqdkM4dkxyV1I5WHFmMEI3K1ZMSHhMNGMrMWpid1hPOEwxSWNnMzJSc2Qybnd2QjhNTjdRcCtOSEhqYVVKQlMrdVgrOXJPZlRXL21PREhxeHovVkkzTHV0VktQeFo1cjdodWUySkVncjk5dUdKUllFQktCaGlHK0NpNEFVWWxxek96a1RTWW5lbVlrckVVRjZKLzdTNVI3S2p0SEpBcEtKTVdGQ1ZkT0dVZlM2aEkzVmIwZUR5bUdhZUhFVzRaZGc5N0EzVGFMNUlObm9hSHZmNnVOSHZ0ZURSRHJLRlU1Nm9VZElneW9vVjRlMTZpbTZ1aU1uMTZLdTFtbitua25EcUlqQjBrTnBuelM4UVZka3BVZWpDaTUxMTZMTEtQR3E3OW5hMTFVKzI5QnkyS3IzdlFIYnkxMzk2bngvZHFlc3h5MXROakZyck8vWE9HTHJqKzNDZjJVd3ZOZXhQL3pNSjVqblVRank5bmZXWlVtU1g1OFhMWVIrV0EvSkhMKzdDdjFubkZJZnV3ajhROXh6cHZUMmxmOFd0TzdkUmoxQVBnY3piemZLVHpmS0x6cGl5K3Vacnd4UmR2cjhpVjFLSGV2TTlqdFg5RFU5QzhvU29IYWJ2VmxYRThFY2JEdU5MdXcxL043bm4zcjNMU3BIdmR3Z2gxdXg3RzBPb2hXNUxwZzA2S3JMZXo5aHc5ZHBLUTF1OXZmOXh0L3Y3MnJMOUp0SERTbDVZa3NjL2g5RHpiV3NndWtkcXh1S0UvYU9qT20rWmpjQWhnQzZWU1c3MDJObFRhTkQ2eEoxVHprKzI4M1kzNTJlMlB1ODNQYm4vY2JUN2NycGloWWgzTU5JdGZ6ODBiTlRCQnZKWnFaWVVNZlhPanpDSklXalk5OXBXQVBpajdLNEgrcFdELzZmV2ZoWDV4WExWVXRoSCsvd0lFYnRQbHc5eXA3UUFBQUFaaVMwZEVBUDhBL3dEL29MMm5rd0FBQUFsd1NGbHpBQUFMRXdBQUN4TUJBSnFjR0FBQUFBZDBTVTFGQitJSEVBd1ZHRmlpSElBQUFBRVlTVVJCVkVqSDdaVS9TZ05SRUllL2lRa2lDSGJXNGdFczlBTGlCV0loRWcrUUMzZ0t4Uk9JZlJRTHRUQlZRQ3Nyd1FNSVF2QUVJbFphZkRaUGtKQi91L3RzWkQ5WTJMZHZaMzR6ajVsNVVGTlQ4KzlSaDVaak9NMXZ6Q0VzY0FIY0ZZaDNCK2hFUkZUSldMVmQwS2FkQXA1SVkwNWZxd1hqbmZsL0kxTWQ5TlNUSWphTmlvSUw2alZ3QUt5cGtWdDRaWXhvQU9mQUxuQUo3RWVFT2R2cFVOMFkrYmFrM3FiQ3UxR2JJL3ZkV2NWVjluajdTZlJxM1BGbUVWWWZmOXBKWFZZSFNYU2dMazZ3eVNLc3VwZmU3OU82cjdhbTJIUno5Zkc2ZWdac0F3K3BrTDcrZWxaL3FKOHAwOU5jazZzNWg1OVdlZ0JlMUE3d0hCRlA2aWF3TldGV1Y4NzRWWDFUMzMvZFBNZHA3NmpzN1ZSVFU1T05iMnFPT2FoOW5KSDBBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1leHBhbmQuY29sbGFwc2Uge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQVlBQUFBN01LNmlBQUFNdm5wVVdIUlNZWGNnY0hKdlptbHNaU0IwZVhCbElHVjRhV1lBQUhqYTdabFpkdU04RG9YZnVZcGVBdWRoT1J6UDZSMzA4dnNES1R1eEszRlZ5djNRRDM5Y2lXUktna2hjNE9LQ3BlWi8vcjNVdi9qeHlXdmxROHF4eEtqNThjVVhXem5KK3Z5Y285RisvejFmNW5YTlBJNnIrd1hMa09Qb3p0ZDRqWnZLZVBoNElQbHJ2RDJPcTlRdk8va3lkRjI0R1hUeVpzdkpkVisrRERsN3hzMzFYWlhydWVvL0xlZjZkV21idU4vOC9CM2ZGRDhDZzg0cU81MXhtcjllM3VLWWdjdXVja3o4TlM1YUdYR2NXNDR5bnIvMm5icWZQam52ZnZia08xMnZjZmZvQ3FYamRVTjg4dEUxYnNMWHZ0c2Vla0R0NDgwUEYrSXdIM043OHQxYUk2ODF6K3FxajNncXFtdFJ0NlhzTTI1c3VOTHR4eUtmeEcvZ1BPMVA0Wk5aWXNmcEF6UWJuNjVNTVJadkwrUE5NTlVzTS9leG04NFV2WjAyY2JTMjQyc1p5eTdaWXZzR3hjdkhMSnRjY1VPQmtYVWQxQnpEOWo0WHM5OWI5dnU2eWJ4NUdPNjBCbU9HSjM3NXFLOEcvK1p6TjdTV2hDNE96bmRmTVM4ckFjZzBCRG41eTEwQVl0YmwwN0Q5dXo5S1AySnpBOWFCWU5odXppeXc2blpNdEdBK1lzdHRuQjMzQmUyVlB1RnUwcmdNNENMZUhaaU1jU0NnbzNIQlJLT1R0Y2tZL0pqQnB6Sno2N3h0SUdCQ3NNT29CVGFPVEVnMlczazN6eVN6NzdYQm5tR29CU0NDaTZSTkJxRUtXTjRINGlmNVRBelY0SUpYSVlRWVVzaWhoQnBkOURIRUdGTVVqcXJKSlo5Q2lpbWxuRXFxMldXZlE0NDU1WnhMcnNVV0I0V0ZFa3RTSlpkU2F1V2xGZE9WcHl0MzFOcHNjODIzMEdKTExiZlNhaWQ4dXUraHg1NTY3cVhYWVljYnBQK0lJNm1SUnhsMW1ra29UVC9EakRQTlBNdXNpMWhiYnZrVlZseHA1VlZXdmFOMm9mcUltbmxDN2pWcTVrSk5FUFA3dnZTQkdzTXAzVXdZb1pNZ21JR1k5UWJFa3lCQVFGdkJUR2ZqdlJYa0JETmRMRWtSTEtpWklPQU1JNGlCb0ovR2htWHUySDBnOXhJM0ZmeVBjTFBmSWFjRXV2OEZja3FndTVEN0ZiY3ZVQnQxVnhTM0FaSXNGSjlxdHlBMmJwaTUybHlsSnYzMVViMXI0QjlETDQ1dGFEZE5TVjNZbGJwR2NBMHdMZkxGdUxSbWw3T21Vd2xyMlRrSWhqVldrNnBBOUxpWTJncVlJaTdFbHR5N01BZU5yRm01ZGZVYTkyQWMxWjByMXdXQ1JpNHRLWmxpZ0pyOVlPRDJ2SHJYd08xNTlhNkIyL1BxbFlGY1Y2STB0aFZUWG5PMHhZTWtaVXVyMjBBNjRUZHl6YmF5YkZPcnVaVmlIek9iUnBMMWJrcVBpVDk2bTF0L05wKzAxSHNMK2xpUCtxbUJTZlRZdUs3b3lTRzVOYmhQc245SHo5Q0xwWmQyWWlldzFzS2FSNHQ5cHNRbGY0c2RDY25qdjhlait1N0NkWVNJZUtOTUxjWWR0TmdVVWhwaHd0RjdVWGpaN2huMVB0eGUzT1RPRm1wbThubWJtaXdodHVuQ2NLam9KUFcyd3A5Rmg5R0g5aTFwOEtrdHdxZGRJWDVxZzZubmpNRmt4TTljczNodGhnMjgwVzMvb1kzRzFQdnRsZmNCOTByVElrMG1URXdzT0orU3luczJBbjZkaWF6S21jVmtmS1pUMDVjdFFlR3lKWEJjdHJoalcrTnA3S25Mb05oN3NnWW1qL1plemsxOVRPN0YzQWhUcVFBckc4TEhsMGtmMU9BSkttTGJjN1FscWpZdDJGU0xNY3JpU3QyMjZoTHg0Zk93azRaZ2pSaHFvakxaSE1mME1VK1RLVmJSZTlxTzNIdG1aUll4S2gxT2F2WFB2UkZtUWZuR1JUMHVLN2ZXSGFXeFRoV3lUNjRuU21BZ09hMmZsWGFEQU80WlhXd3NlSmU1UUxFWkgvZ25yY0FTZnc0V3NKd2xpb2Vrd2xTSWF2eG0yOXp1SFZVV1Q5RW1vbEk3STdRN05IVjNPOThjMWJjM1NOaEtKRy9CdTJOMlI2eEltOXE2M2lrcFlSeVpHZHdpZkRTdXlHN2lycUZ2M2dKTzhDeHVHNW1BY0x3a2ptNGoyOWIzR25BK2hpelNyMG8yNVJEM3c4T2dVQS9lMzg4VWZlRlI1WFlKL1BSd0lUT2s0cXBvbEU3VVFZRTlvYWNxcy9EVjhFNnVNQVhSODZnaUNLVnQ2cGpHVTRUOGZuRTF4NVBNS0I3MnlUT2s0U0VoMTB6THc3bE9YQnBtT24yYVlZeFFjVkJjWkhocDJZQnFNN3dHSmRaRnRhVWFsS3hqN2RYcmpxeWhUd0xFRWlXcWhUc2tNVU9Zd2hlVG1FMnBUSU1XdGJISWUzQWhQWDVpaFZOQmdDbWJYTHdqS2xsWnRpaE1PcUVVNjd5WFZieFBsT1VLQ1Ewc3htYmNSQUFpd0J5Rm9jM3NvZ0k2Mm9lQzJCdXRZVTdQUUl2blpMN1poVVlRTjNxNW1RYzZiS0RvMmhyTXpjMUJEQnNvMk1TMGJKbE9kV21iQ3pQQVVUNmFWUUF0OXNCNlR3Z01RZ0NCdDdacTJ5T3NBOTViNWJCNHFYS2tyakZsU1BvTVprRSs2N0NoMWo4N0tqazVFTTdlOTVGV1VpUkRsVkNOZFYzRVRZeDlVUGNtYmttZlFmcVFpU0ZsdFUyUThEc2EvQklqVzQxVUNWeUVicWdyNm5wd0plL2E1aU14SmxGdFF0NXJRWEtySmpiZHd6UTltTktramRBOTJRdGhlQ0tVcW96QW5qQ0RiNDVnMnpzU3BoZGViZ1JiUmN0c2V5UllVTXZVUDc2QXRiTVQ4SU1uNVB6b3NGS0s5TnJvNnFscDhzMklyVEdWSEtSRjBDY0QxYWxOdlF5WWhlQXJ3YXdNWFJxb3JEYnVHMGorTGNGaDBOcnAwMzJvM094a0xvVmVwU0wwYzJGcDhqMUlYMHozWGxmRDltT1o3TVRiSWxoeVhMNDNIdTlTd3IycElkUXdmRUx2NmI1U1U2WUxuVkl4ZXFXcE1PSWVxcUlVU1J5WngwbEpjQTNqMUZuaENwdnliQVFZVWIxQmdFV0txbVNWc0loQVRrY0ZrSFFaQWRIWW5DUXg5YUc1eEJwb3c4aGRtQUgrNzRWMDFEN25rV21SNmRlSWF1WG9pVFBDcWNsak5OdTVKTm5jZ0FOYkduQU01SkZxSExsUEZHdG5KZ1lxR05aN2lmNmFjL1FhSUVnUnpQUUZKeEFOU0k3bndIK01lMnFsaUxXVWJsVUd2ais4MUkzS25iTWVXRkpPSW03cW5IbEpiblhyQ2tLRU1rTHp0TTJTNldVNU4zdEp1SVZFV0NYSVRLMElQR1VtT1NqTzdlNnZleVNwQTlKbTdVSWdDNm0zU2tBZGtPUjlsWU83K3A4S3NQbGZIZkRxU2N0VEEzWUZFTzJROHU4elVmcTlmTzlGbXFFNU1OZ3JWSGM2V09pcXVNR1BMMlVVWEltZU5MS3pWRndPSkJnQkxQd2VSazIzTkZBL3lvT0hOQ2h1NmlLVmovcWowZG5BeTNMZ0JzQ3ZhLzRxSkdIZnRBenZEbkhFYVlNMHlrZ0kySmZjTU5KaWd5OTlQNWRvMFFsUGIzUm9Wdmc2SWdXQ1IyckFhREhST1hXY0Z1T0NLT2JVcmJWQS9hV2hkdDVZYUJxQm9iMktGTHljdGgzeVhweWRkd0F5UWI0TEp4TDFDVmlwcUJXTnMrRU96cE9yc0FrNVE4MmcvNklYcVRaU2h3YVhpNCtGTjZOOEtTUkROZ3Q5elZKbEpRVkdEekhRMmVPRzV2S2hIbVFCZ1MxdnN0S3ZaZFN0QktTV3JrQUw0WkhHbWdLUGExaUlpSDYwUGhVTTdrT0s1R0ZjcnhKTHcrTFY3anE5b2pSK3NCMzZzYVhwcEoyaFEzQzU3KzBESERYWGI3THZvK3FvbjVhZDc2cU8rbW5aK1M3VzFVL0x6cTNxcElyNk1GWkVGdGdaZkNTcWlLNkJLQ2FhZDAwdXRCNG9Wak1DMGtGa1ZSbzFNQi84N2cremVYQkMxU3dYTGVSc01pbEVMd0xBTkNJTlc0ZzdqZVE5TkU4NHlSNFByZFZGODJWSElCM0xZWGx2U0NXeldSNkdqUXJnNDY4RWc0cGZ4dzhkaGJKa0NVSU5FKzhpSXNMUlU0WHVnQmRCWjFRQ0pVd1puZHR1TmlGa1JQYzZWYllsazR6dHA4cVdKQWxyOHFteWNyNHplcEc4MHJQY3R6U2FLTjlSeEZ2aVk3Smo0ZUd5K2RqTDd0bjI3MUcvTzdBZnc1cFpxUlBXSW5kZlNQYXdvZStuWC95UVRPQXBFWU5reWxxUkd2WWRycjVSdFhxWHEyOVVyZDdoNmdhYmpOQmtGN3FxYWRDc25qb0xaM1hZMmx2Nk5PRmJrdHlFbmlFUjVJMGtzazVHWElzR242SlVJV0pmTHRKRDVLdExXOVJ4Q251YUJHUnFBMmlwOFRBZ1FSdnNKajVvaG42UW9oQ3BnNldPV2JIWUJ3V2JXU0ZySUdEMHd2S0dIbzV3RVpvZG82T3lrQ3RiSjhQSVJoSXNvUVVnelNFdUdiVHZSQzFOUWtOaElNam9zcHVYNS9PazlhUnhSMXpra2tWWVREZzhsYzRqdTRtRXRhNHVFczUzeDhuaGJIUjBhZjZWVkhuUW8vMnNxYWJRcGYyQTY0Z2tWdXY5N2o0VzcwVC9VU0lROUQzN2pzY3MvUWR4ZENRRXVrS2Q3Z05aRVlpM2JuSS9HUmEreXFlbmRPcmdmT2M3OVpuNFhxVUFHY0EwcFNGL1ZHbzNvYVp1U3Uzc0ZMeEtnM3ZuSUdOQzRSOEVMdnRIYi9VTk53SW5DUlNIblFPZzhVemZYMjczZkNMdkUvcFg0SXMrdWlKZml2MUYzZGQrajY2eTM0TWZaTDlIZWxrVXlsWVlDYnRjbEphdTlnQnoyS24wbkNFQ2xpdXNWdlo3Wkl2QndCdDc1WjBxdDg0R0RIbXp0MHhrOCtWc3dZencwWGxxZGUyOG9JTExiajczcmxDNE5TaC9ibERkTEw1clVEMVA4VzhOcXUvVy9GT0Q2bmRPZkdud1V5Nm9MNU5oTTJTV1JOQVNUOW8zeWNSTnZFZnpRMkMwMnQyRUswUjBVc1FJQlhtV0pERnk5Z1FIWGNwSWZrS1ROSWM4b2hGZmUwc1ErcDN0YkFrK0o1UDY4Mng2blV6cXo3UHB1MlR5R25ZT2F1MnRXaU0raUZ6dXZqb201K1pZTS9DMVNlZlNYTHcyZlUxek1CUmNMTElaSlZCUFhkMy9lWENKdWxyOHhveDBrK1FVZjU5TDU4SWVscXA3MzRHOUt2UHRMdlY4MjhIckcrT2ZiVHpkcDk2WnhlZTcxRHV6K0h5ZmVtY1dueWVoM3BuRjUwbW9yMmJ4V3FSTEl1NTkwV0NQMkVEcWJocHBkTVpDakM3Si93b3MyU29oL3JpV1pRSlJxbzA3MVE3OXR4dzlObXd1cVVtdklNVytTc0FYSlVYdTc4ckg0MUc5YStBZlEvL1BoZ2hEd29may9DOTFzK0duMnIvbkR3QUFBQVppUzBkRUFQOEEvd0Qvb0wybmt3QUFBQWx3U0ZsekFBQUxFd0FBQ3hNQkFKcWNHQUFBQUFkMFNVMUZCK0lIRUF3VkNFVVZET1FBQUFFZVNVUkJWRWpIN1pXeExrUkJGSWEvczFZMm9sY3FsUXF0VGlrUmtTaDRnSDBCd1RQWVJ4QVBnQzFrQzFRaUNpVWVRVGJLclJEVmlueWFLWVMxOTk3Y3V3cTVYem4vUC9QUE9UbVRnWnFhbXI5QTdmczdCOG5UK2JMMnFqNnJUMWxuUjBhd3dBbHdQVUsrajRnSGRRbFlBT2FCVHRLR0VkRXFVN0hxZWs3dllmSVAxYmV5clZadFozaG0xZHZrUFZMM1U2ZkcwaWg1c1dtZ0N5d0ROeEhSQmg3ejdHMlVDRzBCbDhBcWNBV3NKZWtkdUp0SXE5VlF6NUorb1U1Vi9aeCtCS3ROdFplMGMzWG1tNzZvN2xRYW5DbzlUZXRkTlViczJjMHpYTTBDbDRnMFNKdEFEOWlPaUZFQkw1VU9Wd3JwQThjUnNSRVJIMlc2MlN4aWpvaTlxdVluVDhXRGdtY09xcXA0UzUwckVMd3k2ZDlwSFAzNmI2K3ArZjk4QWlmcko4ZGJtMEdWQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tbW9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxOHB4JyBoZWlnaHQ9JzVweCcgdmlld0JveD0nMCAwIDE4IDUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VPcHRpb25zIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzM0LjAwMDAwMCwgLTc1NS4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ3BhdGggZD0nTTY1OC4xNDUyMSw1MC45NTMyNzEgQzY1Ni45NjQzMDEsNTAuOTUzMjcxIDY1Ni4wMDY5ODYsNDkuOTY5OTcxMiA2NTYuMDA2OTg2LDQ4Ljc1NzAwOTMgQzY1Ni4wMDY5ODYsNDcuNTQ0MDQ3NSA2NTYuOTY0MzAxLDQ2LjU2MDc0NzcgNjU4LjE0NTIxLDQ2LjU2MDc0NzcgQzY1OS4zMjYxMTgsNDYuNTYwNzQ3NyA2NjAuMjgzNDMzLDQ3LjU0NDA0NzUgNjYwLjI4MzQzMyw0OC43NTcwMDkzIEM2NjAuMjgzNDMzLDQ5Ljk2OTk3MTIgNjU5LjMyNjExOCw1MC45NTMyNzEgNjU4LjE0NTIxLDUwLjk1MzI3MSBaIE02NzEuODI5ODQsNTAuOTUzMjcxIEM2NzAuNjQ4OTMyLDUwLjk1MzI3MSA2NjkuNjkxNjE3LDQ5Ljk2OTk3MTIgNjY5LjY5MTYxNyw0OC43NTcwMDkzIEM2NjkuNjkxNjE3LDQ3LjU0NDA0NzUgNjcwLjY0ODkzMiw0Ni41NjA3NDc3IDY3MS44Mjk4NCw0Ni41NjA3NDc3IEM2NzMuMDEwNzQ5LDQ2LjU2MDc0NzcgNjczLjk2ODA2NCw0Ny41NDQwNDc1IDY3My45NjgwNjQsNDguNzU3MDA5MyBDNjczLjk2ODA2NCw0OS45Njk5NzEyIDY3My4wMTA3NDksNTAuOTUzMjcxIDY3MS44Mjk4NCw1MC45NTMyNzEgWiBNNjY0Ljk4NzUyNSw1MC45NTMyNzEgQzY2My44MDY2MTcsNTAuOTUzMjcxIDY2Mi44NDkzMDEsNDkuOTY5OTcxMiA2NjIuODQ5MzAxLDQ4Ljc1NzAwOTMgQzY2Mi44NDkzMDEsNDcuNTQ0MDQ3NSA2NjMuODA2NjE3LDQ2LjU2MDc0NzcgNjY0Ljk4NzUyNSw0Ni41NjA3NDc3IEM2NjYuMTY4NDMzLDQ2LjU2MDc0NzcgNjY3LjEyNTc0OSw0Ny41NDQwNDc1IDY2Ny4xMjU3NDksNDguNzU3MDA5MyBDNjY3LjEyNTc0OSw0OS45Njk5NzEyIDY2Ni4xNjg0MzMsNTAuOTUzMjcxIDY2NC45ODc1MjUsNTAuOTUzMjcxIFonIGlkPSdPcHRpb25zLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTsgIFxcbiAgbWFyZ2luLXRvcDogMTNweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW1vcmU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PSc1cHgnIHZpZXdCb3g9JzAgMCAxOCA1JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFT3B0aW9ucyBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTczNC4wMDAwMDAsIC03NTUuMDAwMDAwKScgZmlsbD0nJTIzRkZGRkZGJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NwYXRoIGQ9J002NTguMTQ1MjEsNTAuOTUzMjcxIEM2NTYuOTY0MzAxLDUwLjk1MzI3MSA2NTYuMDA2OTg2LDQ5Ljk2OTk3MTIgNjU2LjAwNjk4Niw0OC43NTcwMDkzIEM2NTYuMDA2OTg2LDQ3LjU0NDA0NzUgNjU2Ljk2NDMwMSw0Ni41NjA3NDc3IDY1OC4xNDUyMSw0Ni41NjA3NDc3IEM2NTkuMzI2MTE4LDQ2LjU2MDc0NzcgNjYwLjI4MzQzMyw0Ny41NDQwNDc1IDY2MC4yODM0MzMsNDguNzU3MDA5MyBDNjYwLjI4MzQzMyw0OS45Njk5NzEyIDY1OS4zMjYxMTgsNTAuOTUzMjcxIDY1OC4xNDUyMSw1MC45NTMyNzEgWiBNNjcxLjgyOTg0LDUwLjk1MzI3MSBDNjcwLjY0ODkzMiw1MC45NTMyNzEgNjY5LjY5MTYxNyw0OS45Njk5NzEyIDY2OS42OTE2MTcsNDguNzU3MDA5MyBDNjY5LjY5MTYxNyw0Ny41NDQwNDc1IDY3MC42NDg5MzIsNDYuNTYwNzQ3NyA2NzEuODI5ODQsNDYuNTYwNzQ3NyBDNjczLjAxMDc0OSw0Ni41NjA3NDc3IDY3My45NjgwNjQsNDcuNTQ0MDQ3NSA2NzMuOTY4MDY0LDQ4Ljc1NzAwOTMgQzY3My45NjgwNjQsNDkuOTY5OTcxMiA2NzMuMDEwNzQ5LDUwLjk1MzI3MSA2NzEuODI5ODQsNTAuOTUzMjcxIFogTTY2NC45ODc1MjUsNTAuOTUzMjcxIEM2NjMuODA2NjE3LDUwLjk1MzI3MSA2NjIuODQ5MzAxLDQ5Ljk2OTk3MTIgNjYyLjg0OTMwMSw0OC43NTcwMDkzIEM2NjIuODQ5MzAxLDQ3LjU0NDA0NzUgNjYzLjgwNjYxNyw0Ni41NjA3NDc3IDY2NC45ODc1MjUsNDYuNTYwNzQ3NyBDNjY2LjE2ODQzMyw0Ni41NjA3NDc3IDY2Ny4xMjU3NDksNDcuNTQ0MDQ3NSA2NjcuMTI1NzQ5LDQ4Ljc1NzAwOTMgQzY2Ny4xMjU3NDksNDkuOTY5OTcxMiA2NjYuMTY4NDMzLDUwLjk1MzI3MSA2NjQuOTg3NTI1LDUwLjk1MzI3MSBaJyBpZD0nT3B0aW9ucy1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7ICBcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLWZ1bGxzY3JlZW4ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VleHBhbmQgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04OTQuMDAwMDAwLCAtNzQ4LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J004MDYuNjg5MDExLDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMzYuODA4NTc1MSBMODA1Ljk3MTQxNiwzOS42MDk1MDgzIEM4MDYuMDY0MDA5LDM5LjY3ODk1MyA4MDYuMTEwMzA2LDM5Ljc5NDY5NCA4MDYuMTEwMzA2LDM5LjkxMDQzNSBDODA2LjExMDMwNiw0MC4xNDE5MTcxIDgwNS45MjUxMiw0MC4zMjcxMDI4IDgwNS42OTM2MzgsNDAuMzI3MTAyOCBMNzk2LjUyNjk0Nyw0MC4zMjcxMDI4IEM3OTYuMjk1NDY1LDQwLjMyNzEwMjggNzk2LjExMDI3OSw0MC4xNDE5MTcxIDc5Ni4xMTAyNzksMzkuOTEwNDM1IEw3OTYuMTEwMjc5LDMwLjc0Mzc0NDMgQzc5Ni4xMTAyNzksMzAuNTgxNzA2OSA3OTYuMjAyODcyLDMwLjQxOTY2OTQgNzk2LjM2NDkxLDMwLjM1MDIyNDggQzc5Ni41MjY5NDcsMzAuMzAzOTI4NCA3OTYuNzEyMTMzLDMwLjMyNzA3NjYgNzk2LjgyNzg3NCwzMC40NDI4MTc2IEw3OTkuNjI4ODA3LDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMjkuNzQ4MzcxNCBDODAzLjMzMjUyMSwyOS41ODYzMzM5IDgwMy41ODcxNTEsMjkuNTg2MzMzOSA4MDMuNzQ5MTg4LDI5Ljc0ODM3MTQgTDgwNi42ODkwMTEsMzIuNjg4MTkzOSBDODA2Ljc4MTYwNCwzMi43NTc2Mzg1IDgwNi44Mjc5LDMyLjg3MzM3OTYgODA2LjgyNzksMzIuOTg5MTIwNiBDODA2LjgyNzksMzMuMDgxNzEzNCA4MDYuNzgxNjA0LDMzLjE5NzQ1NDUgODA2LjY4OTAxMSwzMy4yNjY4OTkxIFogTTgxNi4xMTAzMzIsMjAuNzQzNzE4MSBMODE2LjExMDMzMiwyOS45MTA0MDg4IEM4MTYuMTEwMzMyLDMwLjA3MjQ0NjMgODE2LjAxNzczOSwzMC4yMzQ0ODM3IDgxNS44NTU3MDIsMzAuMzAzOTI4NCBDODE1LjgwOTQwNSwzMC4zMjcwNzY2IDgxNS43Mzk5NjEsMzAuMzI3MDc2NiA4MTUuNjkzNjY0LDMwLjMyNzA3NjYgQzgxNS41Nzc5MjMsMzAuMzI3MDc2NiA4MTUuNDg1MzMsMzAuMjgwNzgwMiA4MTUuMzkyNzM3LDMwLjIxMTMzNTUgTDgxMi41OTE4MDQsMjcuMzg3MjU0MSBMODA5LjA1MDEyOCwzMC45Mjg5MyBDODA4Ljk4MDY4NCwzMC45OTgzNzQ2IDgwOC44NjQ5NDMsMzEuMDQ0NjcxMSA4MDguNzcyMzUsMzEuMDQ0NjcxMSBDODA4LjY1NjYwOSwzMS4wNDQ2NzExIDgwOC41NDA4NjgsMzAuOTk4Mzc0NiA4MDguNDcxNDIzLDMwLjkyODkzIEw4MDUuNTA4NDUyLDI3Ljk2NTk1OTMgQzgwNS4zNDY0MTUsMjcuODAzOTIxOCA4MDUuMzQ2NDE1LDI3LjU0OTI5MTUgODA1LjUwODQ1MiwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDIzLjg0NTU3ODEgTDgwNi4yMjYwNDcsMjEuMDQ0NjQ0OCBDODA2LjExMDMwNiwyMC45Mjg5MDM4IDgwNi4wODcxNTcsMjAuNzQzNzE4MSA4MDYuMTMzNDU0LDIwLjU4MTY4MDYgQzgwNi4yMDI4OTksMjAuNDE5NjQzMiA4MDYuMzY0OTM2LDIwLjMyNzA1MDQgODA2LjUyNjk3MywyMC4zMjcwNTA0IEw4MTUuNjkzNjY0LDIwLjMyNzA1MDQgQzgxNS45MjUxNDYsMjAuMzI3MDUwNCA4MTYuMTEwMzMyLDIwLjUxMjIzNiA4MTYuMTEwMzMyLDIwLjc0MzcxODEgWicgaWQ9J2V4cGFuZC1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLWZ1bGxzY3JlZW46aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VleHBhbmQgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04OTQuMDAwMDAwLCAtNzQ4LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J004MDYuNjg5MDExLDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMzYuODA4NTc1MSBMODA1Ljk3MTQxNiwzOS42MDk1MDgzIEM4MDYuMDY0MDA5LDM5LjY3ODk1MyA4MDYuMTEwMzA2LDM5Ljc5NDY5NCA4MDYuMTEwMzA2LDM5LjkxMDQzNSBDODA2LjExMDMwNiw0MC4xNDE5MTcxIDgwNS45MjUxMiw0MC4zMjcxMDI4IDgwNS42OTM2MzgsNDAuMzI3MTAyOCBMNzk2LjUyNjk0Nyw0MC4zMjcxMDI4IEM3OTYuMjk1NDY1LDQwLjMyNzEwMjggNzk2LjExMDI3OSw0MC4xNDE5MTcxIDc5Ni4xMTAyNzksMzkuOTEwNDM1IEw3OTYuMTEwMjc5LDMwLjc0Mzc0NDMgQzc5Ni4xMTAyNzksMzAuNTgxNzA2OSA3OTYuMjAyODcyLDMwLjQxOTY2OTQgNzk2LjM2NDkxLDMwLjM1MDIyNDggQzc5Ni41MjY5NDcsMzAuMzAzOTI4NCA3OTYuNzEyMTMzLDMwLjMyNzA3NjYgNzk2LjgyNzg3NCwzMC40NDI4MTc2IEw3OTkuNjI4ODA3LDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMjkuNzQ4MzcxNCBDODAzLjMzMjUyMSwyOS41ODYzMzM5IDgwMy41ODcxNTEsMjkuNTg2MzMzOSA4MDMuNzQ5MTg4LDI5Ljc0ODM3MTQgTDgwNi42ODkwMTEsMzIuNjg4MTkzOSBDODA2Ljc4MTYwNCwzMi43NTc2Mzg1IDgwNi44Mjc5LDMyLjg3MzM3OTYgODA2LjgyNzksMzIuOTg5MTIwNiBDODA2LjgyNzksMzMuMDgxNzEzNCA4MDYuNzgxNjA0LDMzLjE5NzQ1NDUgODA2LjY4OTAxMSwzMy4yNjY4OTkxIFogTTgxNi4xMTAzMzIsMjAuNzQzNzE4MSBMODE2LjExMDMzMiwyOS45MTA0MDg4IEM4MTYuMTEwMzMyLDMwLjA3MjQ0NjMgODE2LjAxNzczOSwzMC4yMzQ0ODM3IDgxNS44NTU3MDIsMzAuMzAzOTI4NCBDODE1LjgwOTQwNSwzMC4zMjcwNzY2IDgxNS43Mzk5NjEsMzAuMzI3MDc2NiA4MTUuNjkzNjY0LDMwLjMyNzA3NjYgQzgxNS41Nzc5MjMsMzAuMzI3MDc2NiA4MTUuNDg1MzMsMzAuMjgwNzgwMiA4MTUuMzkyNzM3LDMwLjIxMTMzNTUgTDgxMi41OTE4MDQsMjcuMzg3MjU0MSBMODA5LjA1MDEyOCwzMC45Mjg5MyBDODA4Ljk4MDY4NCwzMC45OTgzNzQ2IDgwOC44NjQ5NDMsMzEuMDQ0NjcxMSA4MDguNzcyMzUsMzEuMDQ0NjcxMSBDODA4LjY1NjYwOSwzMS4wNDQ2NzExIDgwOC41NDA4NjgsMzAuOTk4Mzc0NiA4MDguNDcxNDIzLDMwLjkyODkzIEw4MDUuNTA4NDUyLDI3Ljk2NTk1OTMgQzgwNS4zNDY0MTUsMjcuODAzOTIxOCA4MDUuMzQ2NDE1LDI3LjU0OTI5MTUgODA1LjUwODQ1MiwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDIzLjg0NTU3ODEgTDgwNi4yMjYwNDcsMjEuMDQ0NjQ0OCBDODA2LjExMDMwNiwyMC45Mjg5MDM4IDgwNi4wODcxNTcsMjAuNzQzNzE4MSA4MDYuMTMzNDU0LDIwLjU4MTY4MDYgQzgwNi4yMDI4OTksMjAuNDE5NjQzMiA4MDYuMzY0OTM2LDIwLjMyNzA1MDQgODA2LjUyNjk3MywyMC4zMjcwNTA0IEw4MTUuNjkzNjY0LDIwLjMyNzA1MDQgQzgxNS45MjUxNDYsMjAuMzI3MDUwNCA4MTYuMTEwMzMyLDIwLjUxMjIzNiA4MTYuMTEwMzMyLDIwLjc0MzcxODEgWicgaWQ9J2V4cGFuZC1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXN1YnRpdGxlcyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMnB4JyBoZWlnaHQ9JzIwcHgnIHZpZXdCb3g9JzAgMCAyMiAyMCcgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXN1YnRpdGxlcyBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTc2OS4wMDAwMDAsIC03NDYuMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyBmaWxsLXJ1bGU9J25vbnplcm8nJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ3BhdGggZD0nTTY5NS45NzY1NzcsMzkuNTMyNzEwMyBDNjk0LjY4NTk2NywzOS41MzI3MTAzIDY5My42Mzk3MjEsNDAuNjE4NTYyOSA2OTMuNjM5NzIxLDQxLjk1ODAyOTkgTDY5My42Mzk3MjEsNTIuOTIwNDc0NyBDNjkzLjYzOTcyMSw1NC4yNTk5NDE4IDY5NC42ODU5NjcsNTUuMzQ1Nzk0NCA2OTUuOTc2NTc3LDU1LjM0NTc5NDQgTDcwOC40MDg2NTMsNTUuMzQ1Nzk0NCBDNzA5LjY5OTI2Myw1NS4zNDU3OTQ0IDcxMC43NDU1MDksNTQuMjU5OTQxOCA3MTAuNzQ1NTA5LDUyLjkyMDQ3NDcgTDcxMC43NDU1MDksNDEuOTU4MDI5OSBDNzEwLjc0NTUwOSw0MC42MTg1NjI5IDcwOS42OTkyNjMsMzkuNTMyNzEwMyA3MDguNDA4NjUzLDM5LjUzMjcxMDMgTDY5NS45NzY1NzcsMzkuNTMyNzEwMyBaIE02OTYuMDcxMzUxLDM3Ljc3NTcwMDkgTDcwOC4zMTM4NzksMzcuNzc1NzAwOSBDNzEwLjYwMTU1OCwzNy43NzU3MDA5IDcxMi40NTYwODgsMzkuNjkzODYyMiA3MTIuNDU2MDg4LDQyLjA2MDAzNDEgTDcxMi40NTYwODgsNTIuODE4NDcwNiBDNzEyLjQ1NjA4OCw1NS4xODQ2NDI1IDcxMC42MDE1NTgsNTcuMTAyODAzNyA3MDguMzEzODc5LDU3LjEwMjgwMzcgTDY5Ni4wNzEzNTEsNTcuMTAyODAzNyBDNjkzLjc4MzY3Miw1Ny4xMDI4MDM3IDY5MS45MjkxNDIsNTUuMTg0NjQyNSA2OTEuOTI5MTQyLDUyLjgxODQ3MDYgTDY5MS45MjkxNDIsNDIuMDYwMDM0MSBDNjkxLjkyOTE0MiwzOS42OTM4NjIyIDY5My43ODM2NzIsMzcuNzc1NzAwOSA2OTYuMDcxMzUxLDM3Ljc3NTcwMDkgWiBNNjk2LjI2MDE4Miw0OC4zMTc3NTcgTDcwMi45OTMzMTEsNDguMzE3NzU3IEM3MDMuNDk1ODI1LDQ4LjMxNzc1NyA3MDMuOTAzMTk0LDQ3LjkyNDQzNzEgNzAzLjkwMzE5NCw0Ny40MzkyNTIzIEM3MDMuOTAzMTk0LDQ2Ljk1NDA2NzYgNzAzLjQ5NTgyNSw0Ni41NjA3NDc3IDcwMi45OTMzMTEsNDYuNTYwNzQ3NyBMNjk2LjI2MDE4Miw0Ni41NjA3NDc3IEM2OTUuNzU3NjY4LDQ2LjU2MDc0NzcgNjk1LjM1MDI5OSw0Ni45NTQwNjc2IDY5NS4zNTAyOTksNDcuNDM5MjUyMyBDNjk1LjM1MDI5OSw0Ny45MjQ0MzcxIDY5NS43NTc2NjgsNDguMzE3NzU3IDY5Ni4yNjAxODIsNDguMzE3NzU3IFogTTcwNy4yOTY3NjEsNDguMzE3NzU3IEw3MDguMjA3MjMxLDQ4LjMxNzc1NyBDNzA4LjY2NDM1Niw0OC4zMTc3NTcgNzA5LjAzNDkzLDQ3LjkyNDQzNzEgNzA5LjAzNDkzLDQ3LjQzOTI1MjMgQzcwOS4wMzQ5Myw0Ni45NTQwNjc2IDcwOC42NjQzNTYsNDYuNTYwNzQ3NyA3MDguMjA3MjMxLDQ2LjU2MDc0NzcgTDcwNy4yOTY3NjEsNDYuNTYwNzQ3NyBDNzA2LjgzOTYzNiw0Ni41NjA3NDc3IDcwNi40NjkwNjIsNDYuOTU0MDY3NiA3MDYuNDY5MDYyLDQ3LjQzOTI1MjMgQzcwNi40NjkwNjIsNDcuOTI0NDM3MSA3MDYuODM5NjM2LDQ4LjMxNzc1NyA3MDcuMjk2NzYxLDQ4LjMxNzc1NyBaIE03MDEuMzkxOTE4LDUxLjgzMTc3NTcgTDcwOC4xMjUwNDgsNTEuODMxNzc1NyBDNzA4LjYyNzU2Miw1MS44MzE3NzU3IDcwOS4wMzQ5Myw1MS40Mzg0NTU4IDcwOS4wMzQ5Myw1MC45NTMyNzEgQzcwOS4wMzQ5Myw1MC40NjgwODYzIDcwOC42Mjc1NjIsNTAuMDc0NzY2NCA3MDguMTI1MDQ4LDUwLjA3NDc2NjQgTDcwMS4zOTE5MTgsNTAuMDc0NzY2NCBDNzAwLjg4OTQwNCw1MC4wNzQ3NjY0IDcwMC40ODIwMzYsNTAuNDY4MDg2MyA3MDAuNDgyMDM2LDUwLjk1MzI3MSBDNzAwLjQ4MjAzNiw1MS40Mzg0NTU4IDcwMC44ODk0MDQsNTEuODMxNzc1NyA3MDEuMzkxOTE4LDUxLjgzMTc3NTcgWiBNNjk2LjQxOTQxMSw1MS44MzE3NzU3IEw2OTcuNzAyMzQ1LDUxLjgzMTc3NTcgQzY5OC4yOTI3OTksNTEuODMxNzc1NyA2OTguNzcxNDU3LDUxLjQzODQ1NTggNjk4Ljc3MTQ1Nyw1MC45NTMyNzEgQzY5OC43NzE0NTcsNTAuNDY4MDg2MyA2OTguMjkyNzk5LDUwLjA3NDc2NjQgNjk3LjcwMjM0NSw1MC4wNzQ3NjY0IEw2OTYuNDE5NDExLDUwLjA3NDc2NjQgQzY5NS44Mjg5NTcsNTAuMDc0NzY2NCA2OTUuMzUwMjk5LDUwLjQ2ODA4NjMgNjk1LjM1MDI5OSw1MC45NTMyNzEgQzY5NS4zNTAyOTksNTEuNDM4NDU1OCA2OTUuODI4OTU3LDUxLjgzMTc3NTcgNjk2LjQxOTQxMSw1MS44MzE3NzU3IFonIGlkPSdzdWJ0aXRsZXMtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tc3VidGl0bGVzOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIycHgnIGhlaWdodD0nMjBweCcgdmlld0JveD0nMCAwIDIyIDIwJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFc3VidGl0bGVzIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzY5LjAwMDAwMCwgLTc0Ni4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnIGZpbGwtcnVsZT0nbm9uemVybyclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDcGF0aCBkPSdNNjk1Ljk3NjU3NywzOS41MzI3MTAzIEM2OTQuNjg1OTY3LDM5LjUzMjcxMDMgNjkzLjYzOTcyMSw0MC42MTg1NjI5IDY5My42Mzk3MjEsNDEuOTU4MDI5OSBMNjkzLjYzOTcyMSw1Mi45MjA0NzQ3IEM2OTMuNjM5NzIxLDU0LjI1OTk0MTggNjk0LjY4NTk2Nyw1NS4zNDU3OTQ0IDY5NS45NzY1NzcsNTUuMzQ1Nzk0NCBMNzA4LjQwODY1Myw1NS4zNDU3OTQ0IEM3MDkuNjk5MjYzLDU1LjM0NTc5NDQgNzEwLjc0NTUwOSw1NC4yNTk5NDE4IDcxMC43NDU1MDksNTIuOTIwNDc0NyBMNzEwLjc0NTUwOSw0MS45NTgwMjk5IEM3MTAuNzQ1NTA5LDQwLjYxODU2MjkgNzA5LjY5OTI2MywzOS41MzI3MTAzIDcwOC40MDg2NTMsMzkuNTMyNzEwMyBMNjk1Ljk3NjU3NywzOS41MzI3MTAzIFogTTY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBMNzA4LjMxMzg3OSwzNy43NzU3MDA5IEM3MTAuNjAxNTU4LDM3Ljc3NTcwMDkgNzEyLjQ1NjA4OCwzOS42OTM4NjIyIDcxMi40NTYwODgsNDIuMDYwMDM0MSBMNzEyLjQ1NjA4OCw1Mi44MTg0NzA2IEM3MTIuNDU2MDg4LDU1LjE4NDY0MjUgNzEwLjYwMTU1OCw1Ny4xMDI4MDM3IDcwOC4zMTM4NzksNTcuMTAyODAzNyBMNjk2LjA3MTM1MSw1Ny4xMDI4MDM3IEM2OTMuNzgzNjcyLDU3LjEwMjgwMzcgNjkxLjkyOTE0Miw1NS4xODQ2NDI1IDY5MS45MjkxNDIsNTIuODE4NDcwNiBMNjkxLjkyOTE0Miw0Mi4wNjAwMzQxIEM2OTEuOTI5MTQyLDM5LjY5Mzg2MjIgNjkzLjc4MzY3MiwzNy43NzU3MDA5IDY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBaIE02OTYuMjYwMTgyLDQ4LjMxNzc1NyBMNzAyLjk5MzMxMSw0OC4zMTc3NTcgQzcwMy40OTU4MjUsNDguMzE3NzU3IDcwMy45MDMxOTQsNDcuOTI0NDM3MSA3MDMuOTAzMTk0LDQ3LjQzOTI1MjMgQzcwMy45MDMxOTQsNDYuOTU0MDY3NiA3MDMuNDk1ODI1LDQ2LjU2MDc0NzcgNzAyLjk5MzMxMSw0Ni41NjA3NDc3IEw2OTYuMjYwMTgyLDQ2LjU2MDc0NzcgQzY5NS43NTc2NjgsNDYuNTYwNzQ3NyA2OTUuMzUwMjk5LDQ2Ljk1NDA2NzYgNjk1LjM1MDI5OSw0Ny40MzkyNTIzIEM2OTUuMzUwMjk5LDQ3LjkyNDQzNzEgNjk1Ljc1NzY2OCw0OC4zMTc3NTcgNjk2LjI2MDE4Miw0OC4zMTc3NTcgWiBNNzA3LjI5Njc2MSw0OC4zMTc3NTcgTDcwOC4yMDcyMzEsNDguMzE3NzU3IEM3MDguNjY0MzU2LDQ4LjMxNzc1NyA3MDkuMDM0OTMsNDcuOTI0NDM3MSA3MDkuMDM0OTMsNDcuNDM5MjUyMyBDNzA5LjAzNDkzLDQ2Ljk1NDA2NzYgNzA4LjY2NDM1Niw0Ni41NjA3NDc3IDcwOC4yMDcyMzEsNDYuNTYwNzQ3NyBMNzA3LjI5Njc2MSw0Ni41NjA3NDc3IEM3MDYuODM5NjM2LDQ2LjU2MDc0NzcgNzA2LjQ2OTA2Miw0Ni45NTQwNjc2IDcwNi40NjkwNjIsNDcuNDM5MjUyMyBDNzA2LjQ2OTA2Miw0Ny45MjQ0MzcxIDcwNi44Mzk2MzYsNDguMzE3NzU3IDcwNy4yOTY3NjEsNDguMzE3NzU3IFogTTcwMS4zOTE5MTgsNTEuODMxNzc1NyBMNzA4LjEyNTA0OCw1MS44MzE3NzU3IEM3MDguNjI3NTYyLDUxLjgzMTc3NTcgNzA5LjAzNDkzLDUxLjQzODQ1NTggNzA5LjAzNDkzLDUwLjk1MzI3MSBDNzA5LjAzNDkzLDUwLjQ2ODA4NjMgNzA4LjYyNzU2Miw1MC4wNzQ3NjY0IDcwOC4xMjUwNDgsNTAuMDc0NzY2NCBMNzAxLjM5MTkxOCw1MC4wNzQ3NjY0IEM3MDAuODg5NDA0LDUwLjA3NDc2NjQgNzAwLjQ4MjAzNiw1MC40NjgwODYzIDcwMC40ODIwMzYsNTAuOTUzMjcxIEM3MDAuNDgyMDM2LDUxLjQzODQ1NTggNzAwLjg4OTQwNCw1MS44MzE3NzU3IDcwMS4zOTE5MTgsNTEuODMxNzc1NyBaIE02OTYuNDE5NDExLDUxLjgzMTc3NTcgTDY5Ny43MDIzNDUsNTEuODMxNzc1NyBDNjk4LjI5Mjc5OSw1MS44MzE3NzU3IDY5OC43NzE0NTcsNTEuNDM4NDU1OCA2OTguNzcxNDU3LDUwLjk1MzI3MSBDNjk4Ljc3MTQ1Nyw1MC40NjgwODYzIDY5OC4yOTI3OTksNTAuMDc0NzY2NCA2OTcuNzAyMzQ1LDUwLjA3NDc2NjQgTDY5Ni40MTk0MTEsNTAuMDc0NzY2NCBDNjk1LjgyODk1Nyw1MC4wNzQ3NjY0IDY5NS4zNTAyOTksNTAuNDY4MDg2MyA2OTUuMzUwMjk5LDUwLjk1MzI3MSBDNjk1LjM1MDI5OSw1MS40Mzg0NTU4IDY5NS44Mjg5NTcsNTEuODMxNzc1NyA2OTYuNDE5NDExLDUxLjgzMTc3NTcgWicgaWQ9J3N1YnRpdGxlcy1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5lcnJvcm1lc3NhZ2Uge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4ucGxheXdyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4ucGxheWNpcmNsZSB7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUwLDUwLDUwLDAuNzUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgd2lkdGg6IDE1dmg7XFxuICBoZWlnaHQ6IDE1dmg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDh2aCA4dmg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA2NiUgNTAlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG59XFxuXFxuLnBsYXljaXJjbGU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLm9wdGlvbnMtY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAgMi41JSAwIDIuNSU7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSg1MCw1MCw1MCwwLjc1KSAwJSwgcmdiYSgyOSwyOSwyOSwwKSAxMDAlKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIHtcXG4gIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAubG9hZGluZy1wcm9ncmVzcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNDQ0NDQ0M7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIC0xcHggMCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4xNSksIGluc2V0IDAgMXB4IDAgMCByZ2JhKDI1NSwyNTUsMjU1LDAuMTUpO1xcbn1cXG5cXG4uYnRuW3RpdGxlPVByZXZpb3VzXSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uYnRuW3RpdGxlPU5leHRdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5idG4uYnV0dG9uLWZ1bGxzY3JlZW4ge1xcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XFxufVxcblxcbi5idG5bZGF0YS1uYW1lPU1vcmVdIHtcXG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYnRuW2RhdGEtbmFtZT1TdWJ0aXRsZXNdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmbG9hdDogcmlnaHQgIWltcG9ydGFudDtcXG59XFxuXFxuLm1vcmVtZW51IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjRURFREVEICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuOCkgIWltcG9ydGFudDtcXG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5tb3JlbWVudS1vcHRpb24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uc3VidGl0bGVtZW51IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjRURFREVEICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuOCkgIWltcG9ydGFudDtcXG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5zdWJ0aXRsZW1lbnUtb3B0aW9uIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdWRpby1iYWNrZ3JvdW5kIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxufVwiLCBcIlwiXSk7XG5cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI2V1cHMtY29udGVudC13cmFwcGVyIHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxuICAgIG1heC1oZWlnaHQ6IGluaGVyaXQ7XFxuICAgIG1heC13aWR0aDogaW5oZXJpdDtcXG59XFxuXFxuLmV1cHMtcGxheWVyIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5lZGl0b3Ige1xcbiAgICB3aWR0aDogNjAlO1xcbn1cXG5cXG4ubm8tZWRpdG9yIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4jZXVwcy1lZGl0b3Itd3JhcHBlciB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4jZXVwcy1hbm5vdGF0aW9uZWRpdG9yIHtcXG4gICAgcGFkZGluZy1sZWZ0OiA1JTtcXG59XCIsIFwiXCJdKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuICdAbWVkaWEgJyArIGl0ZW1bMl0gKyAneycgKyBjb250ZW50ICsgJ30nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9ICcoJyArIGl0ZW1bMl0gKyAnKSBhbmQgKCcgKyBtZWRpYVF1ZXJ5ICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuICByZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufSIsIm1vZHVsZS5leHBvcnRzID0gd2luZG93LmZldGNoIHx8ICh3aW5kb3cuZmV0Y2ggPSByZXF1aXJlKCd1bmZldGNoJykuZGVmYXVsdCB8fCByZXF1aXJlKCd1bmZldGNoJykpO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jb3JlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29yZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29yZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2xpZGVyLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEVmZmVjdHMgQ29yZVxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLyBqc2NzOmRpc2FibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kZXNjcmlwdGlvbjogRXh0ZW5kcyB0aGUgaW50ZXJuYWwgalF1ZXJ5IGVmZmVjdHMuIEluY2x1ZGVzIG1vcnBoaW5nIGFuZCBlYXNpbmcuIFJlcXVpcmVkIGJ5IGFsbCBvdGhlciBlZmZlY3RzLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS9lZmZlY3RzLWNvcmUvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxudmFyIGRhdGFTcGFjZSA9IFwidWktZWZmZWN0cy1cIixcblx0ZGF0YVNwYWNlU3R5bGUgPSBcInVpLWVmZmVjdHMtc3R5bGVcIixcblx0ZGF0YVNwYWNlQW5pbWF0ZWQgPSBcInVpLWVmZmVjdHMtYW5pbWF0ZWRcIixcblxuXHQvLyBDcmVhdGUgYSBsb2NhbCBqUXVlcnkgYmVjYXVzZSBqUXVlcnkgQ29sb3IgcmVsaWVzIG9uIGl0IGFuZCB0aGVcblx0Ly8gZ2xvYmFsIG1heSBub3QgZXhpc3Qgd2l0aCBBTUQgYW5kIGEgY3VzdG9tIGJ1aWxkICgjMTAxOTkpXG5cdGpRdWVyeSA9ICQ7XG5cbiQuZWZmZWN0cyA9IHtcblx0ZWZmZWN0OiB7fVxufTtcblxuLyohXG4gKiBqUXVlcnkgQ29sb3IgQW5pbWF0aW9ucyB2Mi4xLjJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LWNvbG9yXG4gKlxuICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IFdlZCBKYW4gMTYgMDg6NDc6MDkgMjAxMyAtMDYwMFxuICovXG4oIGZ1bmN0aW9uKCBqUXVlcnksIHVuZGVmaW5lZCApIHtcblxuXHR2YXIgc3RlcEhvb2tzID0gXCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgXCIgK1xuXHRcdFwiYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yXCIsXG5cblx0Ly8gUGx1c2VxdWFscyB0ZXN0IGZvciArPSAxMDAgLT0gMTAwXG5cdHJwbHVzZXF1YWxzID0gL14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLFxuXG5cdC8vIEEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLlxuXHRzdHJpbmdQYXJzZXJzID0gWyB7XG5cdFx0XHRyZTogL3JnYmE/XFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0cmU6IC9yZ2JhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMiBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblxuXHRcdFx0Ly8gVGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXG5cdFx0XHQvLyBUaGlzIHJlZ2V4IGlnbm9yZXMgQS1GIGJlY2F1c2UgaXQncyBjb21wYXJlZCBhZ2FpbnN0IGFuIGFscmVhZHkgbG93ZXJjYXNlZCBzdHJpbmdcblx0XHRcdHJlOiAvIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDEgXSArIGV4ZWNSZXN1bHRbIDEgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMiBdICsgZXhlY1Jlc3VsdFsgMiBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAzIF0gKyBleGVjUmVzdWx0WyAzIF0sIDE2IClcblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRyZTogL2hzbGE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRzcGFjZTogXCJoc2xhXCIsXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAvIDEwMCxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSBdLFxuXG5cdC8vIEpRdWVyeS5Db2xvciggKVxuXHRjb2xvciA9IGpRdWVyeS5Db2xvciA9IGZ1bmN0aW9uKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkNvbG9yLmZuLnBhcnNlKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICk7XG5cdH0sXG5cdHNwYWNlcyA9IHtcblx0XHRyZ2JhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRyZWQ6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Z3JlZW46IHtcblx0XHRcdFx0XHRpZHg6IDEsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Ymx1ZToge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcImJ5dGVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGhzbGE6IHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGh1ZToge1xuXHRcdFx0XHRcdGlkeDogMCxcblx0XHRcdFx0XHR0eXBlOiBcImRlZ3JlZXNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzYXR1cmF0aW9uOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwicGVyY2VudFwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxpZ2h0bmVzczoge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwcm9wVHlwZXMgPSB7XG5cdFx0XCJieXRlXCI6IHtcblx0XHRcdGZsb29yOiB0cnVlLFxuXHRcdFx0bWF4OiAyNTVcblx0XHR9LFxuXHRcdFwicGVyY2VudFwiOiB7XG5cdFx0XHRtYXg6IDFcblx0XHR9LFxuXHRcdFwiZGVncmVlc1wiOiB7XG5cdFx0XHRtb2Q6IDM2MCxcblx0XHRcdGZsb29yOiB0cnVlXG5cdFx0fVxuXHR9LFxuXHRzdXBwb3J0ID0gY29sb3Iuc3VwcG9ydCA9IHt9LFxuXG5cdC8vIEVsZW1lbnQgZm9yIHN1cHBvcnQgdGVzdHNcblx0c3VwcG9ydEVsZW0gPSBqUXVlcnkoIFwiPHA+XCIgKVsgMCBdLFxuXG5cdC8vIENvbG9ycyA9IGpRdWVyeS5Db2xvci5uYW1lc1xuXHRjb2xvcnMsXG5cblx0Ly8gTG9jYWwgYWxpYXNlcyBvZiBmdW5jdGlvbnMgY2FsbGVkIG9mdGVuXG5cdGVhY2ggPSBqUXVlcnkuZWFjaDtcblxuLy8gRGV0ZXJtaW5lIHJnYmEgc3VwcG9ydCBpbW1lZGlhdGVseVxuc3VwcG9ydEVsZW0uc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KVwiO1xuc3VwcG9ydC5yZ2JhID0gc3VwcG9ydEVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoIFwicmdiYVwiICkgPiAtMTtcblxuLy8gRGVmaW5lIGNhY2hlIG5hbWUgYW5kIGFscGhhIHByb3BlcnRpZXNcbi8vIGZvciByZ2JhIGFuZCBoc2xhIHNwYWNlc1xuZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0c3BhY2UuY2FjaGUgPSBcIl9cIiArIHNwYWNlTmFtZTtcblx0c3BhY2UucHJvcHMuYWxwaGEgPSB7XG5cdFx0aWR4OiAzLFxuXHRcdHR5cGU6IFwicGVyY2VudFwiLFxuXHRcdGRlZjogMVxuXHR9O1xufSApO1xuXG5mdW5jdGlvbiBjbGFtcCggdmFsdWUsIHByb3AsIGFsbG93RW1wdHkgKSB7XG5cdHZhciB0eXBlID0gcHJvcFR5cGVzWyBwcm9wLnR5cGUgXSB8fCB7fTtcblxuXHRpZiAoIHZhbHVlID09IG51bGwgKSB7XG5cdFx0cmV0dXJuICggYWxsb3dFbXB0eSB8fCAhcHJvcC5kZWYgKSA/IG51bGwgOiBwcm9wLmRlZjtcblx0fVxuXG5cdC8vIH5+IGlzIGFuIHNob3J0IHdheSBvZiBkb2luZyBmbG9vciBmb3IgcG9zaXRpdmUgbnVtYmVyc1xuXHR2YWx1ZSA9IHR5cGUuZmxvb3IgPyB+fnZhbHVlIDogcGFyc2VGbG9hdCggdmFsdWUgKTtcblxuXHQvLyBJRSB3aWxsIHBhc3MgaW4gZW1wdHkgc3RyaW5ncyBhcyB2YWx1ZSBmb3IgYWxwaGEsXG5cdC8vIHdoaWNoIHdpbGwgaGl0IHRoaXMgY2FzZVxuXHRpZiAoIGlzTmFOKCB2YWx1ZSApICkge1xuXHRcdHJldHVybiBwcm9wLmRlZjtcblx0fVxuXG5cdGlmICggdHlwZS5tb2QgKSB7XG5cblx0XHQvLyBXZSBhZGQgbW9kIGJlZm9yZSBtb2RkaW5nIHRvIG1ha2Ugc3VyZSB0aGF0IG5lZ2F0aXZlcyB2YWx1ZXNcblx0XHQvLyBnZXQgY29udmVydGVkIHByb3Blcmx5OiAtMTAgLT4gMzUwXG5cdFx0cmV0dXJuICggdmFsdWUgKyB0eXBlLm1vZCApICUgdHlwZS5tb2Q7XG5cdH1cblxuXHQvLyBGb3Igbm93IGFsbCBwcm9wZXJ0eSB0eXBlcyB3aXRob3V0IG1vZCBoYXZlIG1pbiBhbmQgbWF4XG5cdHJldHVybiAwID4gdmFsdWUgPyAwIDogdHlwZS5tYXggPCB2YWx1ZSA/IHR5cGUubWF4IDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1BhcnNlKCBzdHJpbmcgKSB7XG5cdHZhciBpbnN0ID0gY29sb3IoKSxcblx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IFtdO1xuXG5cdHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuXG5cdGVhY2goIHN0cmluZ1BhcnNlcnMsIGZ1bmN0aW9uKCBpLCBwYXJzZXIgKSB7XG5cdFx0dmFyIHBhcnNlZCxcblx0XHRcdG1hdGNoID0gcGFyc2VyLnJlLmV4ZWMoIHN0cmluZyApLFxuXHRcdFx0dmFsdWVzID0gbWF0Y2ggJiYgcGFyc2VyLnBhcnNlKCBtYXRjaCApLFxuXHRcdFx0c3BhY2VOYW1lID0gcGFyc2VyLnNwYWNlIHx8IFwicmdiYVwiO1xuXG5cdFx0aWYgKCB2YWx1ZXMgKSB7XG5cdFx0XHRwYXJzZWQgPSBpbnN0WyBzcGFjZU5hbWUgXSggdmFsdWVzICk7XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIHJnYmEgcGFyc2UgdGhlIGFzc2lnbm1lbnQgbWlnaHQgaGFwcGVuIHR3aWNlXG5cdFx0XHQvLyBvaCB3ZWxsLi4uLlxuXHRcdFx0aW5zdFsgc3BhY2VzWyBzcGFjZU5hbWUgXS5jYWNoZSBdID0gcGFyc2VkWyBzcGFjZXNbIHNwYWNlTmFtZSBdLmNhY2hlIF07XG5cdFx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IHBhcnNlZC5fcmdiYTtcblxuXHRcdFx0Ly8gRXhpdCBlYWNoKCBzdHJpbmdQYXJzZXJzICkgaGVyZSBiZWNhdXNlIHdlIG1hdGNoZWRcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0gKTtcblxuXHQvLyBGb3VuZCBhIHN0cmluZ1BhcnNlciB0aGF0IGhhbmRsZWQgaXRcblx0aWYgKCByZ2JhLmxlbmd0aCApIHtcblxuXHRcdC8vIElmIHRoaXMgY2FtZSBmcm9tIGEgcGFyc2VkIHN0cmluZywgZm9yY2UgXCJ0cmFuc3BhcmVudFwiIHdoZW4gYWxwaGEgaXMgMFxuXHRcdC8vIGNocm9tZSwgKGFuZCBtYXliZSBvdGhlcnMpIHJldHVybiBcInRyYW5zcGFyZW50XCIgYXMgcmdiYSgwLDAsMCwwKVxuXHRcdGlmICggcmdiYS5qb2luKCkgPT09IFwiMCwwLDAsMFwiICkge1xuXHRcdFx0alF1ZXJ5LmV4dGVuZCggcmdiYSwgY29sb3JzLnRyYW5zcGFyZW50ICk7XG5cdFx0fVxuXHRcdHJldHVybiBpbnN0O1xuXHR9XG5cblx0Ly8gTmFtZWQgY29sb3JzXG5cdHJldHVybiBjb2xvcnNbIHN0cmluZyBdO1xufVxuXG5jb2xvci5mbiA9IGpRdWVyeS5leHRlbmQoIGNvbG9yLnByb3RvdHlwZSwge1xuXHRwYXJzZTogZnVuY3Rpb24oIHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhICkge1xuXHRcdGlmICggcmVkID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLl9yZ2JhID0gWyBudWxsLCBudWxsLCBudWxsLCBudWxsIF07XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCByZWQuanF1ZXJ5IHx8IHJlZC5ub2RlVHlwZSApIHtcblx0XHRcdHJlZCA9IGpRdWVyeSggcmVkICkuY3NzKCBncmVlbiApO1xuXHRcdFx0Z3JlZW4gPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0dmFyIGluc3QgPSB0aGlzLFxuXHRcdFx0dHlwZSA9IGpRdWVyeS50eXBlKCByZWQgKSxcblx0XHRcdHJnYmEgPSB0aGlzLl9yZ2JhID0gW107XG5cblx0XHQvLyBNb3JlIHRoYW4gMSBhcmd1bWVudCBzcGVjaWZpZWQgLSBhc3N1bWUgKCByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSApXG5cdFx0aWYgKCBncmVlbiAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmVkID0gWyByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSBdO1xuXHRcdFx0dHlwZSA9IFwiYXJyYXlcIjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wYXJzZSggc3RyaW5nUGFyc2UoIHJlZCApIHx8IGNvbG9ycy5fZGVmYXVsdCApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZSA9PT0gXCJhcnJheVwiICkge1xuXHRcdFx0ZWFjaCggc3BhY2VzLnJnYmEucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHRcdHJnYmFbIHByb3AuaWR4IF0gPSBjbGFtcCggcmVkWyBwcm9wLmlkeCBdLCBwcm9wICk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRpZiAoIHJlZCBpbnN0YW5jZW9mIGNvbG9yICkge1xuXHRcdFx0XHRlYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBzcGFjZU5hbWUsIHNwYWNlICkge1xuXHRcdFx0XHRcdGlmICggcmVkWyBzcGFjZS5jYWNoZSBdICkge1xuXHRcdFx0XHRcdFx0aW5zdFsgc3BhY2UuY2FjaGUgXSA9IHJlZFsgc3BhY2UuY2FjaGUgXS5zbGljZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHR2YXIgY2FjaGUgPSBzcGFjZS5jYWNoZTtcblx0XHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIGNhY2hlIGRvZXNuJ3QgZXhpc3QsIGFuZCB3ZSBrbm93IGhvdyB0byBjb252ZXJ0XG5cdFx0XHRcdFx0XHRpZiAoICFpbnN0WyBjYWNoZSBdICYmIHNwYWNlLnRvICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZSB2YWx1ZSB3YXMgbnVsbCwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0XG5cdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSBrZXkgd2FzIGFscGhhLCB3ZSBkb24ndCBuZWVkIHRvIGNvcHkgaXQgZWl0aGVyXG5cdFx0XHRcdFx0XHRcdGlmICgga2V5ID09PSBcImFscGhhXCIgfHwgcmVkWyBrZXkgXSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdID0gc3BhY2UudG8oIGluc3QuX3JnYmEgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyB0aGUgb25seSBjYXNlIHdoZXJlIHdlIGFsbG93IG51bGxzIGZvciBBTEwgcHJvcGVydGllcy5cblx0XHRcdFx0XHRcdC8vIGNhbGwgY2xhbXAgd2l0aCBhbHdheXNBbGxvd0VtcHR5XG5cdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsga2V5IF0sIHByb3AsIHRydWUgKTtcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHQvLyBFdmVyeXRoaW5nIGRlZmluZWQgYnV0IGFscGhhP1xuXHRcdFx0XHRcdGlmICggaW5zdFsgY2FjaGUgXSAmJlxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggbnVsbCwgaW5zdFsgY2FjaGUgXS5zbGljZSggMCwgMyApICkgPCAwICkge1xuXG5cdFx0XHRcdFx0XHQvLyBVc2UgdGhlIGRlZmF1bHQgb2YgMVxuXHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXVsgMyBdID0gMTtcblx0XHRcdFx0XHRcdGlmICggc3BhY2UuZnJvbSApIHtcblx0XHRcdFx0XHRcdFx0aW5zdC5fcmdiYSA9IHNwYWNlLmZyb20oIGluc3RbIGNhY2hlIF0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBjb21wYXJlICkge1xuXHRcdHZhciBpcyA9IGNvbG9yKCBjb21wYXJlICksXG5cdFx0XHRzYW1lID0gdHJ1ZSxcblx0XHRcdGluc3QgPSB0aGlzO1xuXG5cdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggXywgc3BhY2UgKSB7XG5cdFx0XHR2YXIgbG9jYWxDYWNoZSxcblx0XHRcdFx0aXNDYWNoZSA9IGlzWyBzcGFjZS5jYWNoZSBdO1xuXHRcdFx0aWYgKCBpc0NhY2hlICkge1xuXHRcdFx0XHRsb2NhbENhY2hlID0gaW5zdFsgc3BhY2UuY2FjaGUgXSB8fCBzcGFjZS50byAmJiBzcGFjZS50byggaW5zdC5fcmdiYSApIHx8IFtdO1xuXHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdFx0XHRcdFx0aWYgKCBpc0NhY2hlWyBwcm9wLmlkeCBdICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzYW1lID0gKCBpc0NhY2hlWyBwcm9wLmlkeCBdID09PSBsb2NhbENhY2hlWyBwcm9wLmlkeCBdICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2FtZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBzYW1lO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2FtZTtcblx0fSxcblx0X3NwYWNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdXNlZCA9IFtdLFxuXHRcdFx0aW5zdCA9IHRoaXM7XG5cdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdGlmICggaW5zdFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0dXNlZC5wdXNoKCBzcGFjZU5hbWUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHVzZWQucG9wKCk7XG5cdH0sXG5cdHRyYW5zaXRpb246IGZ1bmN0aW9uKCBvdGhlciwgZGlzdGFuY2UgKSB7XG5cdFx0dmFyIGVuZCA9IGNvbG9yKCBvdGhlciApLFxuXHRcdFx0c3BhY2VOYW1lID0gZW5kLl9zcGFjZSgpLFxuXHRcdFx0c3BhY2UgPSBzcGFjZXNbIHNwYWNlTmFtZSBdLFxuXHRcdFx0c3RhcnRDb2xvciA9IHRoaXMuYWxwaGEoKSA9PT0gMCA/IGNvbG9yKCBcInRyYW5zcGFyZW50XCIgKSA6IHRoaXMsXG5cdFx0XHRzdGFydCA9IHN0YXJ0Q29sb3JbIHNwYWNlLmNhY2hlIF0gfHwgc3BhY2UudG8oIHN0YXJ0Q29sb3IuX3JnYmEgKSxcblx0XHRcdHJlc3VsdCA9IHN0YXJ0LnNsaWNlKCk7XG5cblx0XHRlbmQgPSBlbmRbIHNwYWNlLmNhY2hlIF07XG5cdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSBwcm9wLmlkeCxcblx0XHRcdFx0c3RhcnRWYWx1ZSA9IHN0YXJ0WyBpbmRleCBdLFxuXHRcdFx0XHRlbmRWYWx1ZSA9IGVuZFsgaW5kZXggXSxcblx0XHRcdFx0dHlwZSA9IHByb3BUeXBlc1sgcHJvcC50eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIG51bGwsIGRvbid0IG92ZXJyaWRlIHN0YXJ0IHZhbHVlXG5cdFx0XHRpZiAoIGVuZFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIG51bGwgLSB1c2UgZW5kXG5cdFx0XHRpZiAoIHN0YXJ0VmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGVuZFZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0eXBlLm1vZCApIHtcblx0XHRcdFx0XHRpZiAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgKz0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggc3RhcnRWYWx1ZSAtIGVuZFZhbHVlID4gdHlwZS5tb2QgLyAyICkge1xuXHRcdFx0XHRcdFx0c3RhcnRWYWx1ZSAtPSB0eXBlLm1vZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0WyBpbmRleCBdID0gY2xhbXAoICggZW5kVmFsdWUgLSBzdGFydFZhbHVlICkgKiBkaXN0YW5jZSArIHN0YXJ0VmFsdWUsIHByb3AgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXNbIHNwYWNlTmFtZSBdKCByZXN1bHQgKTtcblx0fSxcblx0YmxlbmQ6IGZ1bmN0aW9uKCBvcGFxdWUgKSB7XG5cblx0XHQvLyBJZiB3ZSBhcmUgYWxyZWFkeSBvcGFxdWUgLSByZXR1cm4gb3Vyc2VsZlxuXHRcdGlmICggdGhpcy5fcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0dmFyIHJnYiA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcblx0XHRcdGEgPSByZ2IucG9wKCksXG5cdFx0XHRibGVuZCA9IGNvbG9yKCBvcGFxdWUgKS5fcmdiYTtcblxuXHRcdHJldHVybiBjb2xvciggalF1ZXJ5Lm1hcCggcmdiLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdHJldHVybiAoIDEgLSBhICkgKiBibGVuZFsgaSBdICsgYSAqIHY7XG5cdFx0fSApICk7XG5cdH0sXG5cdHRvUmdiYVN0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZWZpeCA9IFwicmdiYShcIixcblx0XHRcdHJnYmEgPSBqUXVlcnkubWFwKCB0aGlzLl9yZ2JhLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdFx0cmV0dXJuIHYgPT0gbnVsbCA/ICggaSA+IDIgPyAxIDogMCApIDogdjtcblx0XHRcdH0gKTtcblxuXHRcdGlmICggcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmdiYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwicmdiKFwiO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcmVmaXggKyByZ2JhLmpvaW4oKSArIFwiKVwiO1xuXHR9LFxuXHR0b0hzbGFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcImhzbGEoXCIsXG5cdFx0XHRoc2xhID0galF1ZXJ5Lm1hcCggdGhpcy5oc2xhKCksIGZ1bmN0aW9uKCB2LCBpICkge1xuXHRcdFx0XHRpZiAoIHYgPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2ID0gaSA+IDIgPyAxIDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhdGNoIDEgYW5kIDJcblx0XHRcdFx0aWYgKCBpICYmIGkgPCAzICkge1xuXHRcdFx0XHRcdHYgPSBNYXRoLnJvdW5kKCB2ICogMTAwICkgKyBcIiVcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdjtcblx0XHRcdH0gKTtcblxuXHRcdGlmICggaHNsYVsgMyBdID09PSAxICkge1xuXHRcdFx0aHNsYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwiaHNsKFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJlZml4ICsgaHNsYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9IZXhTdHJpbmc6IGZ1bmN0aW9uKCBpbmNsdWRlQWxwaGEgKSB7XG5cdFx0dmFyIHJnYmEgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhbHBoYSA9IHJnYmEucG9wKCk7XG5cblx0XHRpZiAoIGluY2x1ZGVBbHBoYSApIHtcblx0XHRcdHJnYmEucHVzaCggfn4oIGFscGhhICogMjU1ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gXCIjXCIgKyBqUXVlcnkubWFwKCByZ2JhLCBmdW5jdGlvbiggdiApIHtcblxuXHRcdFx0Ly8gRGVmYXVsdCB0byAwIHdoZW4gbnVsbHMgZXhpc3Rcblx0XHRcdHYgPSAoIHYgfHwgMCApLnRvU3RyaW5nKCAxNiApO1xuXHRcdFx0cmV0dXJuIHYubGVuZ3RoID09PSAxID8gXCIwXCIgKyB2IDogdjtcblx0XHR9ICkuam9pbiggXCJcIiApO1xuXHR9LFxuXHR0b1N0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JnYmFbIDMgXSA9PT0gMCA/IFwidHJhbnNwYXJlbnRcIiA6IHRoaXMudG9SZ2JhU3RyaW5nKCk7XG5cdH1cbn0gKTtcbmNvbG9yLmZuLnBhcnNlLnByb3RvdHlwZSA9IGNvbG9yLmZuO1xuXG4vLyBIc2xhIGNvbnZlcnNpb25zIGFkYXB0ZWQgZnJvbTpcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvbWFhc2hhYWNrL3NvdXJjZS9icm93c2UvcGFja2FnZXMvZ3JhcGhpY3MvdHJ1bmsvc3JjL2dyYXBoaWNzL2NvbG9ycy9IVUUyUkdCLmFzP3I9NTAyMVxuXG5mdW5jdGlvbiBodWUycmdiKCBwLCBxLCBoICkge1xuXHRoID0gKCBoICsgMSApICUgMTtcblx0aWYgKCBoICogNiA8IDEgKSB7XG5cdFx0cmV0dXJuIHAgKyAoIHEgLSBwICkgKiBoICogNjtcblx0fVxuXHRpZiAoIGggKiAyIDwgMSApIHtcblx0XHRyZXR1cm4gcTtcblx0fVxuXHRpZiAoIGggKiAzIDwgMiApIHtcblx0XHRyZXR1cm4gcCArICggcSAtIHAgKSAqICggKCAyIC8gMyApIC0gaCApICogNjtcblx0fVxuXHRyZXR1cm4gcDtcbn1cblxuc3BhY2VzLmhzbGEudG8gPSBmdW5jdGlvbiggcmdiYSApIHtcblx0aWYgKCByZ2JhWyAwIF0gPT0gbnVsbCB8fCByZ2JhWyAxIF0gPT0gbnVsbCB8fCByZ2JhWyAyIF0gPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gWyBudWxsLCBudWxsLCBudWxsLCByZ2JhWyAzIF0gXTtcblx0fVxuXHR2YXIgciA9IHJnYmFbIDAgXSAvIDI1NSxcblx0XHRnID0gcmdiYVsgMSBdIC8gMjU1LFxuXHRcdGIgPSByZ2JhWyAyIF0gLyAyNTUsXG5cdFx0YSA9IHJnYmFbIDMgXSxcblx0XHRtYXggPSBNYXRoLm1heCggciwgZywgYiApLFxuXHRcdG1pbiA9IE1hdGgubWluKCByLCBnLCBiICksXG5cdFx0ZGlmZiA9IG1heCAtIG1pbixcblx0XHRhZGQgPSBtYXggKyBtaW4sXG5cdFx0bCA9IGFkZCAqIDAuNSxcblx0XHRoLCBzO1xuXG5cdGlmICggbWluID09PSBtYXggKSB7XG5cdFx0aCA9IDA7XG5cdH0gZWxzZSBpZiAoIHIgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggZyAtIGIgKSAvIGRpZmYgKSArIDM2MDtcblx0fSBlbHNlIGlmICggZyA9PT0gbWF4ICkge1xuXHRcdGggPSAoIDYwICogKCBiIC0gciApIC8gZGlmZiApICsgMTIwO1xuXHR9IGVsc2Uge1xuXHRcdGggPSAoIDYwICogKCByIC0gZyApIC8gZGlmZiApICsgMjQwO1xuXHR9XG5cblx0Ly8gQ2hyb21hIChkaWZmKSA9PSAwIG1lYW5zIGdyZXlzY2FsZSB3aGljaCwgYnkgZGVmaW5pdGlvbiwgc2F0dXJhdGlvbiA9IDAlXG5cdC8vIG90aGVyd2lzZSwgc2F0dXJhdGlvbiBpcyBiYXNlZCBvbiB0aGUgcmF0aW8gb2YgY2hyb21hIChkaWZmKSB0byBsaWdodG5lc3MgKGFkZClcblx0aWYgKCBkaWZmID09PSAwICkge1xuXHRcdHMgPSAwO1xuXHR9IGVsc2UgaWYgKCBsIDw9IDAuNSApIHtcblx0XHRzID0gZGlmZiAvIGFkZDtcblx0fSBlbHNlIHtcblx0XHRzID0gZGlmZiAvICggMiAtIGFkZCApO1xuXHR9XG5cdHJldHVybiBbIE1hdGgucm91bmQoIGggKSAlIDM2MCwgcywgbCwgYSA9PSBudWxsID8gMSA6IGEgXTtcbn07XG5cbnNwYWNlcy5oc2xhLmZyb20gPSBmdW5jdGlvbiggaHNsYSApIHtcblx0aWYgKCBoc2xhWyAwIF0gPT0gbnVsbCB8fCBoc2xhWyAxIF0gPT0gbnVsbCB8fCBoc2xhWyAyIF0gPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gWyBudWxsLCBudWxsLCBudWxsLCBoc2xhWyAzIF0gXTtcblx0fVxuXHR2YXIgaCA9IGhzbGFbIDAgXSAvIDM2MCxcblx0XHRzID0gaHNsYVsgMSBdLFxuXHRcdGwgPSBoc2xhWyAyIF0sXG5cdFx0YSA9IGhzbGFbIDMgXSxcblx0XHRxID0gbCA8PSAwLjUgPyBsICogKCAxICsgcyApIDogbCArIHMgLSBsICogcyxcblx0XHRwID0gMiAqIGwgLSBxO1xuXG5cdHJldHVybiBbXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCArICggMSAvIDMgKSApICogMjU1ICksXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCApICogMjU1ICksXG5cdFx0TWF0aC5yb3VuZCggaHVlMnJnYiggcCwgcSwgaCAtICggMSAvIDMgKSApICogMjU1ICksXG5cdFx0YVxuXHRdO1xufTtcblxuZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0dmFyIHByb3BzID0gc3BhY2UucHJvcHMsXG5cdFx0Y2FjaGUgPSBzcGFjZS5jYWNoZSxcblx0XHR0byA9IHNwYWNlLnRvLFxuXHRcdGZyb20gPSBzcGFjZS5mcm9tO1xuXG5cdC8vIE1ha2VzIHJnYmEoKSBhbmQgaHNsYSgpXG5cdGNvbG9yLmZuWyBzcGFjZU5hbWUgXSA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblxuXHRcdC8vIEdlbmVyYXRlIGEgY2FjaGUgZm9yIHRoaXMgc3BhY2UgaWYgaXQgZG9lc24ndCBleGlzdFxuXHRcdGlmICggdG8gJiYgIXRoaXNbIGNhY2hlIF0gKSB7XG5cdFx0XHR0aGlzWyBjYWNoZSBdID0gdG8oIHRoaXMuX3JnYmEgKTtcblx0XHR9XG5cdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXNbIGNhY2hlIF0uc2xpY2UoKTtcblx0XHR9XG5cblx0XHR2YXIgcmV0LFxuXHRcdFx0dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApLFxuXHRcdFx0YXJyID0gKCB0eXBlID09PSBcImFycmF5XCIgfHwgdHlwZSA9PT0gXCJvYmplY3RcIiApID8gdmFsdWUgOiBhcmd1bWVudHMsXG5cdFx0XHRsb2NhbCA9IHRoaXNbIGNhY2hlIF0uc2xpY2UoKTtcblxuXHRcdGVhY2goIHByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0dmFyIHZhbCA9IGFyclsgdHlwZSA9PT0gXCJvYmplY3RcIiA/IGtleSA6IHByb3AuaWR4IF07XG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBsb2NhbFsgcHJvcC5pZHggXTtcblx0XHRcdH1cblx0XHRcdGxvY2FsWyBwcm9wLmlkeCBdID0gY2xhbXAoIHZhbCwgcHJvcCApO1xuXHRcdH0gKTtcblxuXHRcdGlmICggZnJvbSApIHtcblx0XHRcdHJldCA9IGNvbG9yKCBmcm9tKCBsb2NhbCApICk7XG5cdFx0XHRyZXRbIGNhY2hlIF0gPSBsb2NhbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjb2xvciggbG9jYWwgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gTWFrZXMgcmVkKCkgZ3JlZW4oKSBibHVlKCkgYWxwaGEoKSBodWUoKSBzYXR1cmF0aW9uKCkgbGlnaHRuZXNzKClcblx0ZWFjaCggcHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cblx0XHQvLyBBbHBoYSBpcyBpbmNsdWRlZCBpbiBtb3JlIHRoYW4gb25lIHNwYWNlXG5cdFx0aWYgKCBjb2xvci5mblsga2V5IF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbG9yLmZuWyBrZXkgXSA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciB2dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApLFxuXHRcdFx0XHRmbiA9ICgga2V5ID09PSBcImFscGhhXCIgPyAoIHRoaXMuX2hzbGEgPyBcImhzbGFcIiA6IFwicmdiYVwiICkgOiBzcGFjZU5hbWUgKSxcblx0XHRcdFx0bG9jYWwgPSB0aGlzWyBmbiBdKCksXG5cdFx0XHRcdGN1ciA9IGxvY2FsWyBwcm9wLmlkeCBdLFxuXHRcdFx0XHRtYXRjaDtcblxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGN1cjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlLmNhbGwoIHRoaXMsIGN1ciApO1xuXHRcdFx0XHR2dHlwZSA9IGpRdWVyeS50eXBlKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsICYmIHByb3AuZW1wdHkgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB2dHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0bWF0Y2ggPSBycGx1c2VxdWFscy5leGVjKCB2YWx1ZSApO1xuXHRcdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY3VyICsgcGFyc2VGbG9hdCggbWF0Y2hbIDIgXSApICogKCBtYXRjaFsgMSBdID09PSBcIitcIiA/IDEgOiAtMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFsgcHJvcC5pZHggXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIHRoaXNbIGZuIF0oIGxvY2FsICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG4vLyBBZGQgY3NzSG9vayBhbmQgLmZ4LnN0ZXAgZnVuY3Rpb24gZm9yIGVhY2ggbmFtZWQgaG9vay5cbi8vIGFjY2VwdCBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2YgcHJvcGVydGllc1xuY29sb3IuaG9vayA9IGZ1bmN0aW9uKCBob29rICkge1xuXHR2YXIgaG9va3MgPSBob29rLnNwbGl0KCBcIiBcIiApO1xuXHRlYWNoKCBob29rcywgZnVuY3Rpb24oIGksIGhvb2sgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBob29rIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIHBhcnNlZCwgY3VyRWxlbSxcblx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgPSBcIlwiO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT09IFwidHJhbnNwYXJlbnRcIiAmJiAoIGpRdWVyeS50eXBlKCB2YWx1ZSApICE9PSBcInN0cmluZ1wiIHx8XG5cdFx0XHRcdFx0XHQoIHBhcnNlZCA9IHN0cmluZ1BhcnNlKCB2YWx1ZSApICkgKSApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbG9yKCBwYXJzZWQgfHwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoICFzdXBwb3J0LnJnYmEgJiYgdmFsdWUuX3JnYmFbIDMgXSAhPT0gMSApIHtcblx0XHRcdFx0XHRcdGN1ckVsZW0gPSBob29rID09PSBcImJhY2tncm91bmRDb2xvclwiID8gZWxlbS5wYXJlbnROb2RlIDogZWxlbTtcblx0XHRcdFx0XHRcdHdoaWxlIChcblx0XHRcdFx0XHRcdFx0KCBiYWNrZ3JvdW5kQ29sb3IgPT09IFwiXCIgfHwgYmFja2dyb3VuZENvbG9yID09PSBcInRyYW5zcGFyZW50XCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRjdXJFbGVtICYmIGN1ckVsZW0uc3R5bGVcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvciA9IGpRdWVyeS5jc3MoIGN1ckVsZW0sIFwiYmFja2dyb3VuZENvbG9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRjdXJFbGVtID0gY3VyRWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLmJsZW5kKCBiYWNrZ3JvdW5kQ29sb3IgJiYgYmFja2dyb3VuZENvbG9yICE9PSBcInRyYW5zcGFyZW50XCIgP1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgOlxuXHRcdFx0XHRcdFx0XHRcIl9kZWZhdWx0XCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvUmdiYVN0cmluZygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZVsgaG9vayBdID0gdmFsdWU7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gV3JhcHBlZCB0byBwcmV2ZW50IElFIGZyb20gdGhyb3dpbmcgZXJyb3JzIG9uIFwiaW52YWxpZFwiIHZhbHVlcyBsaWtlXG5cdFx0XHRcdFx0Ly8gJ2F1dG8nIG9yICdpbmhlcml0J1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRqUXVlcnkuZnguc3RlcFsgaG9vayBdID0gZnVuY3Rpb24oIGZ4ICkge1xuXHRcdFx0aWYgKCAhZnguY29sb3JJbml0ICkge1xuXHRcdFx0XHRmeC5zdGFydCA9IGNvbG9yKCBmeC5lbGVtLCBob29rICk7XG5cdFx0XHRcdGZ4LmVuZCA9IGNvbG9yKCBmeC5lbmQgKTtcblx0XHRcdFx0ZnguY29sb3JJbml0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGpRdWVyeS5jc3NIb29rc1sgaG9vayBdLnNldCggZnguZWxlbSwgZnguc3RhcnQudHJhbnNpdGlvbiggZnguZW5kLCBmeC5wb3MgKSApO1xuXHRcdH07XG5cdH0gKTtcblxufTtcblxuY29sb3IuaG9vayggc3RlcEhvb2tzICk7XG5cbmpRdWVyeS5jc3NIb29rcy5ib3JkZXJDb2xvciA9IHtcblx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGV4cGFuZGVkID0ge307XG5cblx0XHRlYWNoKCBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHBhcnQgKSB7XG5cdFx0XHRleHBhbmRlZFsgXCJib3JkZXJcIiArIHBhcnQgKyBcIkNvbG9yXCIgXSA9IHZhbHVlO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdH1cbn07XG5cbi8vIEJhc2ljIGNvbG9yIG5hbWVzIG9ubHkuXG4vLyBVc2FnZSBvZiBhbnkgb2YgdGhlIG90aGVyIGNvbG9yIG5hbWVzIHJlcXVpcmVzIGFkZGluZyB5b3Vyc2VsZiBvciBpbmNsdWRpbmdcbi8vIGpxdWVyeS5jb2xvci5zdmctbmFtZXMuanMuXG5jb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXMgPSB7XG5cblx0Ly8gNC4xLiBCYXNpYyBjb2xvciBrZXl3b3Jkc1xuXHRhcXVhOiBcIiMwMGZmZmZcIixcblx0YmxhY2s6IFwiIzAwMDAwMFwiLFxuXHRibHVlOiBcIiMwMDAwZmZcIixcblx0ZnVjaHNpYTogXCIjZmYwMGZmXCIsXG5cdGdyYXk6IFwiIzgwODA4MFwiLFxuXHRncmVlbjogXCIjMDA4MDAwXCIsXG5cdGxpbWU6IFwiIzAwZmYwMFwiLFxuXHRtYXJvb246IFwiIzgwMDAwMFwiLFxuXHRuYXZ5OiBcIiMwMDAwODBcIixcblx0b2xpdmU6IFwiIzgwODAwMFwiLFxuXHRwdXJwbGU6IFwiIzgwMDA4MFwiLFxuXHRyZWQ6IFwiI2ZmMDAwMFwiLFxuXHRzaWx2ZXI6IFwiI2MwYzBjMFwiLFxuXHR0ZWFsOiBcIiMwMDgwODBcIixcblx0d2hpdGU6IFwiI2ZmZmZmZlwiLFxuXHR5ZWxsb3c6IFwiI2ZmZmYwMFwiLFxuXG5cdC8vIDQuMi4zLiBcInRyYW5zcGFyZW50XCIgY29sb3Iga2V5d29yZFxuXHR0cmFuc3BhcmVudDogWyBudWxsLCBudWxsLCBudWxsLCAwIF0sXG5cblx0X2RlZmF1bHQ6IFwiI2ZmZmZmZlwiXG59O1xuXG59ICkoIGpRdWVyeSApO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDTEFTUyBBTklNQVRJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4oIGZ1bmN0aW9uKCkge1xuXG52YXIgY2xhc3NBbmltYXRpb25BY3Rpb25zID0gWyBcImFkZFwiLCBcInJlbW92ZVwiLCBcInRvZ2dsZVwiIF0sXG5cdHNob3J0aGFuZFN0eWxlcyA9IHtcblx0XHRib3JkZXI6IDEsXG5cdFx0Ym9yZGVyQm90dG9tOiAxLFxuXHRcdGJvcmRlckNvbG9yOiAxLFxuXHRcdGJvcmRlckxlZnQ6IDEsXG5cdFx0Ym9yZGVyUmlnaHQ6IDEsXG5cdFx0Ym9yZGVyVG9wOiAxLFxuXHRcdGJvcmRlcldpZHRoOiAxLFxuXHRcdG1hcmdpbjogMSxcblx0XHRwYWRkaW5nOiAxXG5cdH07XG5cbiQuZWFjaChcblx0WyBcImJvcmRlckxlZnRTdHlsZVwiLCBcImJvcmRlclJpZ2h0U3R5bGVcIiwgXCJib3JkZXJCb3R0b21TdHlsZVwiLCBcImJvcmRlclRvcFN0eWxlXCIgXSxcblx0ZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdFx0JC5meC5zdGVwWyBwcm9wIF0gPSBmdW5jdGlvbiggZnggKSB7XG5cdFx0XHRpZiAoIGZ4LmVuZCAhPT0gXCJub25lXCIgJiYgIWZ4LnNldEF0dHIgfHwgZngucG9zID09PSAxICYmICFmeC5zZXRBdHRyICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGZ4LmVsZW0sIHByb3AsIGZ4LmVuZCApO1xuXHRcdFx0XHRmeC5zZXRBdHRyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG4pO1xuXG5mdW5jdGlvbiBnZXRFbGVtZW50U3R5bGVzKCBlbGVtICkge1xuXHR2YXIga2V5LCBsZW4sXG5cdFx0c3R5bGUgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgP1xuXHRcdFx0ZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0sIG51bGwgKSA6XG5cdFx0XHRlbGVtLmN1cnJlbnRTdHlsZSxcblx0XHRzdHlsZXMgPSB7fTtcblxuXHRpZiAoIHN0eWxlICYmIHN0eWxlLmxlbmd0aCAmJiBzdHlsZVsgMCBdICYmIHN0eWxlWyBzdHlsZVsgMCBdIF0gKSB7XG5cdFx0bGVuID0gc3R5bGUubGVuZ3RoO1xuXHRcdHdoaWxlICggbGVuLS0gKSB7XG5cdFx0XHRrZXkgPSBzdHlsZVsgbGVuIF07XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sgJC5jYW1lbENhc2UoIGtleSApIF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdC8vIFN1cHBvcnQ6IE9wZXJhLCBJRSA8OVxuXHR9IGVsc2Uge1xuXHRcdGZvciAoIGtleSBpbiBzdHlsZSApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0eWxlWyBrZXkgXSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0c3R5bGVzWyBrZXkgXSA9IHN0eWxlWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBzdHlsZURpZmZlcmVuY2UoIG9sZFN0eWxlLCBuZXdTdHlsZSApIHtcblx0dmFyIGRpZmYgPSB7fSxcblx0XHRuYW1lLCB2YWx1ZTtcblxuXHRmb3IgKCBuYW1lIGluIG5ld1N0eWxlICkge1xuXHRcdHZhbHVlID0gbmV3U3R5bGVbIG5hbWUgXTtcblx0XHRpZiAoIG9sZFN0eWxlWyBuYW1lIF0gIT09IHZhbHVlICkge1xuXHRcdFx0aWYgKCAhc2hvcnRoYW5kU3R5bGVzWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGlmICggJC5meC5zdGVwWyBuYW1lIF0gfHwgIWlzTmFOKCBwYXJzZUZsb2F0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRcdFx0ZGlmZlsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZGlmZjtcbn1cblxuLy8gU3VwcG9ydDogalF1ZXJ5IDwxLjhcbmlmICggISQuZm4uYWRkQmFjayApIHtcblx0JC5mbi5hZGRCYWNrID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fTtcbn1cblxuJC5lZmZlY3RzLmFuaW1hdGVDbGFzcyA9IGZ1bmN0aW9uKCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdHZhciBvID0gJC5zcGVlZCggZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKTtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFuaW1hdGVkID0gJCggdGhpcyApLFxuXHRcdFx0YmFzZUNsYXNzID0gYW5pbWF0ZWQuYXR0ciggXCJjbGFzc1wiICkgfHwgXCJcIixcblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UsXG5cdFx0XHRhbGxBbmltYXRpb25zID0gby5jaGlsZHJlbiA/IGFuaW1hdGVkLmZpbmQoIFwiKlwiICkuYWRkQmFjaygpIDogYW5pbWF0ZWQ7XG5cblx0XHQvLyBNYXAgdGhlIGFuaW1hdGVkIG9iamVjdHMgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIHN0eWxlcy5cblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsID0gJCggdGhpcyApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZWw6IGVsLFxuXHRcdFx0XHRzdGFydDogZ2V0RWxlbWVudFN0eWxlcyggdGhpcyApXG5cdFx0XHR9O1xuXHRcdH0gKTtcblxuXHRcdC8vIEFwcGx5IGNsYXNzIGNoYW5nZVxuXHRcdGFwcGx5Q2xhc3NDaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQuZWFjaCggY2xhc3NBbmltYXRpb25BY3Rpb25zLCBmdW5jdGlvbiggaSwgYWN0aW9uICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlWyBhY3Rpb24gXSApIHtcblx0XHRcdFx0XHRhbmltYXRlZFsgYWN0aW9uICsgXCJDbGFzc1wiIF0oIHZhbHVlWyBhY3Rpb24gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fTtcblx0XHRhcHBseUNsYXNzQ2hhbmdlKCk7XG5cblx0XHQvLyBNYXAgYWxsIGFuaW1hdGVkIG9iamVjdHMgYWdhaW4gLSBjYWxjdWxhdGUgbmV3IHN0eWxlcyBhbmQgZGlmZlxuXHRcdGFsbEFuaW1hdGlvbnMgPSBhbGxBbmltYXRpb25zLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmVuZCA9IGdldEVsZW1lbnRTdHlsZXMoIHRoaXMuZWxbIDAgXSApO1xuXHRcdFx0dGhpcy5kaWZmID0gc3R5bGVEaWZmZXJlbmNlKCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSApO1xuXG5cdFx0Ly8gQXBwbHkgb3JpZ2luYWwgY2xhc3Ncblx0XHRhbmltYXRlZC5hdHRyKCBcImNsYXNzXCIsIGJhc2VDbGFzcyApO1xuXG5cdFx0Ly8gTWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gdGhpcyB0aW1lIGNvbGxlY3RpbmcgYSBwcm9taXNlXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzdHlsZUluZm8gPSB0aGlzLFxuXHRcdFx0XHRkZmQgPSAkLkRlZmVycmVkKCksXG5cdFx0XHRcdG9wdHMgPSAkLmV4dGVuZCgge30sIG8sIHtcblx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGZkLnJlc29sdmUoIHN0eWxlSW5mbyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLmVsLmFuaW1hdGUoIHRoaXMuZGlmZiwgb3B0cyApO1xuXHRcdFx0cmV0dXJuIGRmZC5wcm9taXNlKCk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gT25jZSBhbGwgYW5pbWF0aW9ucyBoYXZlIGNvbXBsZXRlZDpcblx0XHQkLndoZW4uYXBwbHkoICQsIGFsbEFuaW1hdGlvbnMuZ2V0KCkgKS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gU2V0IHRoZSBmaW5hbCBjbGFzc1xuXHRcdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBhbmltYXRlZCBlbGVtZW50LFxuXHRcdFx0Ly8gY2xlYXIgYWxsIGNzcyBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBhbmltYXRlZFxuXHRcdFx0JC5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXHRcdFx0XHQkLmVhY2goIHRoaXMuZGlmZiwgZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHRlbC5jc3MoIGtleSwgXCJcIiApO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIFRoaXMgaXMgZ3Vhcm50ZWVkIHRvIGJlIHRoZXJlIGlmIHlvdSB1c2UgalF1ZXJ5LnNwZWVkKClcblx0XHRcdC8vIGl0IGFsc28gaGFuZGxlcyBkZXF1ZXVpbmcgdGhlIG5leHQgYW5pbS4uLlxuXHRcdFx0by5jb21wbGV0ZS5jYWxsKCBhbmltYXRlZFsgMCBdICk7XG5cdFx0fSApO1xuXHR9ICk7XG59O1xuXG4kLmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIHNwZWVkID9cblx0XHRcdFx0JC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdHsgYWRkOiBjbGFzc05hbWVzIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9ICkoICQuZm4uYWRkQ2xhc3MgKSxcblxuXHRyZW1vdmVDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID9cblx0XHRcdFx0JC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9ICkoICQuZm4ucmVtb3ZlQ2xhc3MgKSxcblxuXHR0b2dnbGVDbGFzczogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIGZvcmNlLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdGlmICggdHlwZW9mIGZvcmNlID09PSBcImJvb2xlYW5cIiB8fCBmb3JjZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoICFzcGVlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdpdGhvdXQgc3BlZWQgcGFyYW1ldGVyXG5cdFx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0XHQoIGZvcmNlID8geyBhZGQ6IGNsYXNzTmFtZXMgfSA6IHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0gKSxcblx0XHRcdFx0XHRcdHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gV2l0aG91dCBmb3JjZSBwYXJhbWV0ZXJcblx0XHRcdFx0cmV0dXJuICQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IHRvZ2dsZTogY2xhc3NOYW1lcyB9LCBmb3JjZSwgc3BlZWQsIGVhc2luZyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKSggJC5mbi50b2dnbGVDbGFzcyApLFxuXG5cdHN3aXRjaENsYXNzOiBmdW5jdGlvbiggcmVtb3ZlLCBhZGQsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsIHtcblx0XHRcdGFkZDogYWRkLFxuXHRcdFx0cmVtb3ZlOiByZW1vdmVcblx0XHR9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9XG59ICk7XG5cbn0gKSgpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVGRkVDVFMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiggZnVuY3Rpb24oKSB7XG5cbmlmICggJC5leHByICYmICQuZXhwci5maWx0ZXJzICYmICQuZXhwci5maWx0ZXJzLmFuaW1hdGVkICkge1xuXHQkLmV4cHIuZmlsdGVycy5hbmltYXRlZCA9ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICEhJCggZWxlbSApLmRhdGEoIGRhdGFTcGFjZUFuaW1hdGVkICkgfHwgb3JpZyggZWxlbSApO1xuXHRcdH07XG5cdH0gKSggJC5leHByLmZpbHRlcnMuYW5pbWF0ZWQgKTtcbn1cblxuaWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgKSB7XG5cdCQuZXh0ZW5kKCAkLmVmZmVjdHMsIHtcblxuXHRcdC8vIFNhdmVzIGEgc2V0IG9mIHByb3BlcnRpZXMgaW4gYSBkYXRhIHN0b3JhZ2Vcblx0XHRzYXZlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdFx0dmFyIGkgPSAwLCBsZW5ndGggPSBzZXQubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggc2V0WyBpIF0gIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBzZXRbIGkgXSwgZWxlbWVudFsgMCBdLnN0eWxlWyBzZXRbIGkgXSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gUmVzdG9yZXMgYSBzZXQgb2YgcHJldmlvdXNseSBzYXZlZCBwcm9wZXJ0aWVzIGZyb20gYSBkYXRhIHN0b3JhZ2Vcblx0XHRyZXN0b3JlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdFx0dmFyIHZhbCwgaSA9IDAsIGxlbmd0aCA9IHNldC5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBzZXRbIGkgXSAhPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2YWwgPSBlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIHNldFsgaSBdICk7XG5cdFx0XHRcdFx0ZWxlbWVudC5jc3MoIHNldFsgaSBdLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXRNb2RlOiBmdW5jdGlvbiggZWwsIG1vZGUgKSB7XG5cdFx0XHRpZiAoIG1vZGUgPT09IFwidG9nZ2xlXCIgKSB7XG5cdFx0XHRcdG1vZGUgPSBlbC5pcyggXCI6aGlkZGVuXCIgKSA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbW9kZTtcblx0XHR9LFxuXG5cdFx0Ly8gV3JhcHMgdGhlIGVsZW1lbnQgYXJvdW5kIGEgd3JhcHBlciB0aGF0IGNvcGllcyBwb3NpdGlvbiBwcm9wZXJ0aWVzXG5cdFx0Y3JlYXRlV3JhcHBlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgd3JhcHBlZCwgcmV0dXJuIGl0XG5cdFx0XHRpZiAoIGVsZW1lbnQucGFyZW50KCkuaXMoIFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiICkgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtZW50LnBhcmVudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXcmFwIHRoZSBlbGVtZW50XG5cdFx0XHR2YXIgcHJvcHMgPSB7XG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQub3V0ZXJXaWR0aCggdHJ1ZSApLFxuXHRcdFx0XHRcdGhlaWdodDogZWxlbWVudC5vdXRlckhlaWdodCggdHJ1ZSApLFxuXHRcdFx0XHRcdFwiZmxvYXRcIjogZWxlbWVudC5jc3MoIFwiZmxvYXRcIiApXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyYXBwZXIgPSAkKCBcIjxkaXY+PC9kaXY+XCIgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLXdyYXBwZXJcIiApXG5cdFx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuXHRcdFx0XHRcdFx0Ym9yZGVyOiBcIm5vbmVcIixcblx0XHRcdFx0XHRcdG1hcmdpbjogMCxcblx0XHRcdFx0XHRcdHBhZGRpbmc6IDBcblx0XHRcdFx0XHR9ICksXG5cblx0XHRcdFx0Ly8gU3RvcmUgdGhlIHNpemUgaW4gY2FzZSB3aWR0aC9oZWlnaHQgYXJlIGRlZmluZWQgaW4gJSAtIEZpeGVzICM1MjQ1XG5cdFx0XHRcdHNpemUgPSB7XG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQud2lkdGgoKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0KClcblx0XHRcdFx0fSxcblx0XHRcdFx0YWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveFxuXHRcdFx0Ly8gRmlyZWZveCBpbmNvcnJlY3RseSBleHBvc2VzIGFub255bW91cyBjb250ZW50XG5cdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NjE2NjRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGFjdGl2ZS5pZDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRhY3RpdmUgPSBkb2N1bWVudC5ib2R5O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtZW50LndyYXAoIHdyYXBwZXIgKTtcblxuXHRcdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdFx0JCggYWN0aXZlICkudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvdGZpeCBmb3IgalF1ZXJ5IDEuNCBzaW5jZSBzb21lIGNoYW5nZSBpbiB3cmFwKCkgc2VlbXMgdG8gYWN0dWFsbHlcblx0XHRcdC8vIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgd3JhcHBlZCBlbGVtZW50XG5cdFx0XHR3cmFwcGVyID0gZWxlbWVudC5wYXJlbnQoKTtcblxuXHRcdFx0Ly8gVHJhbnNmZXIgcG9zaXRpb25pbmcgcHJvcGVydGllcyB0byB0aGUgd3JhcHBlclxuXHRcdFx0aWYgKCBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdHdyYXBwZXIuY3NzKCB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIgfSApO1xuXHRcdFx0XHRlbGVtZW50LmNzcyggeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQuZXh0ZW5kKCBwcm9wcywge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdFx0ekluZGV4OiBlbGVtZW50LmNzcyggXCJ6LWluZGV4XCIgKVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdCQuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiwgXCJib3R0b21cIiwgXCJyaWdodFwiIF0sIGZ1bmN0aW9uKCBpLCBwb3MgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIHBvcyBdID0gZWxlbWVudC5jc3MoIHBvcyApO1xuXHRcdFx0XHRcdGlmICggaXNOYU4oIHBhcnNlSW50KCBwcm9wc1sgcG9zIF0sIDEwICkgKSApIHtcblx0XHRcdFx0XHRcdHByb3BzWyBwb3MgXSA9IFwiYXV0b1wiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0cmlnaHQ6IFwiYXV0b1wiLFxuXHRcdFx0XHRcdGJvdHRvbTogXCJhdXRvXCJcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0ZWxlbWVudC5jc3MoIHNpemUgKTtcblxuXHRcdFx0cmV0dXJuIHdyYXBwZXIuY3NzKCBwcm9wcyApLnNob3coKTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlV3JhcHBlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgYWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdFx0aWYgKCBlbGVtZW50LnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdFx0XHRlbGVtZW50LnBhcmVudCgpLnJlcGxhY2VXaXRoKCBlbGVtZW50ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRcdFx0aWYgKCBlbGVtZW50WyAwIF0gPT09IGFjdGl2ZSB8fCAkLmNvbnRhaW5zKCBlbGVtZW50WyAwIF0sIGFjdGl2ZSApICkge1xuXHRcdFx0XHRcdCQoIGFjdGl2ZSApLnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtZW50O1xuXHRcdH1cblx0fSApO1xufVxuXG4kLmV4dGVuZCggJC5lZmZlY3RzLCB7XG5cdHZlcnNpb246IFwiMS4xMi4xXCIsXG5cblx0ZGVmaW5lOiBmdW5jdGlvbiggbmFtZSwgbW9kZSwgZWZmZWN0ICkge1xuXHRcdGlmICggIWVmZmVjdCApIHtcblx0XHRcdGVmZmVjdCA9IG1vZGU7XG5cdFx0XHRtb2RlID0gXCJlZmZlY3RcIjtcblx0XHR9XG5cblx0XHQkLmVmZmVjdHMuZWZmZWN0WyBuYW1lIF0gPSBlZmZlY3Q7XG5cdFx0JC5lZmZlY3RzLmVmZmVjdFsgbmFtZSBdLm1vZGUgPSBtb2RlO1xuXG5cdFx0cmV0dXJuIGVmZmVjdDtcblx0fSxcblxuXHRzY2FsZWREaW1lbnNpb25zOiBmdW5jdGlvbiggZWxlbWVudCwgcGVyY2VudCwgZGlyZWN0aW9uICkge1xuXHRcdGlmICggcGVyY2VudCA9PT0gMCApIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGhlaWdodDogMCxcblx0XHRcdFx0d2lkdGg6IDAsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiAwLFxuXHRcdFx0XHRvdXRlcldpZHRoOiAwXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHZhciB4ID0gZGlyZWN0aW9uICE9PSBcImhvcml6b250YWxcIiA/ICggKCBwZXJjZW50IHx8IDEwMCApIC8gMTAwICkgOiAxLFxuXHRcdFx0eSA9IGRpcmVjdGlvbiAhPT0gXCJ2ZXJ0aWNhbFwiID8gKCAoIHBlcmNlbnQgfHwgMTAwICkgLyAxMDAgKSA6IDE7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVpZ2h0OiBlbGVtZW50LmhlaWdodCgpICogeSxcblx0XHRcdHdpZHRoOiBlbGVtZW50LndpZHRoKCkgKiB4LFxuXHRcdFx0b3V0ZXJIZWlnaHQ6IGVsZW1lbnQub3V0ZXJIZWlnaHQoKSAqIHksXG5cdFx0XHRvdXRlcldpZHRoOiBlbGVtZW50Lm91dGVyV2lkdGgoKSAqIHhcblx0XHR9O1xuXG5cdH0sXG5cblx0Y2xpcFRvQm94OiBmdW5jdGlvbiggYW5pbWF0aW9uICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogYW5pbWF0aW9uLmNsaXAucmlnaHQgLSBhbmltYXRpb24uY2xpcC5sZWZ0LFxuXHRcdFx0aGVpZ2h0OiBhbmltYXRpb24uY2xpcC5ib3R0b20gLSBhbmltYXRpb24uY2xpcC50b3AsXG5cdFx0XHRsZWZ0OiBhbmltYXRpb24uY2xpcC5sZWZ0LFxuXHRcdFx0dG9wOiBhbmltYXRpb24uY2xpcC50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdC8vIEluamVjdHMgcmVjZW50bHkgcXVldWVkIGZ1bmN0aW9ucyB0byBiZSBmaXJzdCBpbiBsaW5lIChhZnRlciBcImlucHJvZ3Jlc3NcIilcblx0dW5zaGlmdDogZnVuY3Rpb24oIGVsZW1lbnQsIHF1ZXVlTGVuZ3RoLCBjb3VudCApIHtcblx0XHR2YXIgcXVldWUgPSBlbGVtZW50LnF1ZXVlKCk7XG5cblx0XHRpZiAoIHF1ZXVlTGVuZ3RoID4gMSApIHtcblx0XHRcdHF1ZXVlLnNwbGljZS5hcHBseSggcXVldWUsXG5cdFx0XHRcdFsgMSwgMCBdLmNvbmNhdCggcXVldWUuc3BsaWNlKCBxdWV1ZUxlbmd0aCwgY291bnQgKSApICk7XG5cdFx0fVxuXHRcdGVsZW1lbnQuZGVxdWV1ZSgpO1xuXHR9LFxuXG5cdHNhdmVTdHlsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2VTdHlsZSwgZWxlbWVudFsgMCBdLnN0eWxlLmNzc1RleHQgKTtcblx0fSxcblxuXHRyZXN0b3JlU3R5bGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnRbIDAgXS5zdHlsZS5jc3NUZXh0ID0gZWxlbWVudC5kYXRhKCBkYXRhU3BhY2VTdHlsZSApIHx8IFwiXCI7XG5cdFx0ZWxlbWVudC5yZW1vdmVEYXRhKCBkYXRhU3BhY2VTdHlsZSApO1xuXHR9LFxuXG5cdG1vZGU6IGZ1bmN0aW9uKCBlbGVtZW50LCBtb2RlICkge1xuXHRcdHZhciBoaWRkZW4gPSBlbGVtZW50LmlzKCBcIjpoaWRkZW5cIiApO1xuXG5cdFx0aWYgKCBtb2RlID09PSBcInRvZ2dsZVwiICkge1xuXHRcdFx0bW9kZSA9IGhpZGRlbiA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG5cdFx0fVxuXHRcdGlmICggaGlkZGVuID8gbW9kZSA9PT0gXCJoaWRlXCIgOiBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRcdG1vZGUgPSBcIm5vbmVcIjtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZGU7XG5cdH0sXG5cblx0Ly8gVHJhbnNsYXRlcyBhIFt0b3AsbGVmdF0gYXJyYXkgaW50byBhIGJhc2VsaW5lIHZhbHVlXG5cdGdldEJhc2VsaW5lOiBmdW5jdGlvbiggb3JpZ2luLCBvcmlnaW5hbCApIHtcblx0XHR2YXIgeSwgeDtcblxuXHRcdHN3aXRjaCAoIG9yaWdpblsgMCBdICkge1xuXHRcdGNhc2UgXCJ0b3BcIjpcblx0XHRcdHkgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm1pZGRsZVwiOlxuXHRcdFx0eSA9IDAuNTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJib3R0b21cIjpcblx0XHRcdHkgPSAxO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHkgPSBvcmlnaW5bIDAgXSAvIG9yaWdpbmFsLmhlaWdodDtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDEgXSApIHtcblx0XHRjYXNlIFwibGVmdFwiOlxuXHRcdFx0eCA9IDA7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiY2VudGVyXCI6XG5cdFx0XHR4ID0gMC41O1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJpZ2h0XCI6XG5cdFx0XHR4ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR4ID0gb3JpZ2luWyAxIF0gLyBvcmlnaW5hbC53aWR0aDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogeCxcblx0XHRcdHk6IHlcblx0XHR9O1xuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBwbGFjZWhvbGRlciBlbGVtZW50IHNvIHRoYXQgdGhlIG9yaWdpbmFsIGVsZW1lbnQgY2FuIGJlIG1hZGUgYWJzb2x1dGVcblx0Y3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBwbGFjZWhvbGRlcixcblx0XHRcdGNzc1Bvc2l0aW9uID0gZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0cG9zaXRpb24gPSBlbGVtZW50LnBvc2l0aW9uKCk7XG5cblx0XHQvLyBMb2NrIGluIG1hcmdpbnMgZmlyc3QgdG8gYWNjb3VudCBmb3IgZm9ybSBlbGVtZW50cywgd2hpY2hcblx0XHQvLyB3aWxsIGNoYW5nZSBtYXJnaW4gaWYgeW91IGV4cGxpY2l0bHkgc2V0IGhlaWdodFxuXHRcdC8vIHNlZTogaHR0cDovL2pzZmlkZGxlLm5ldC9KWlNNdC8zLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTA3MzgwXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpXG5cdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdG1hcmdpblRvcDogZWxlbWVudC5jc3MoIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdG1hcmdpbkJvdHRvbTogZWxlbWVudC5jc3MoIFwibWFyZ2luQm90dG9tXCIgKSxcblx0XHRcdG1hcmdpbkxlZnQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0bWFyZ2luUmlnaHQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblJpZ2h0XCIgKVxuXHRcdH0gKVxuXHRcdC5vdXRlcldpZHRoKCBlbGVtZW50Lm91dGVyV2lkdGgoKSApXG5cdFx0Lm91dGVySGVpZ2h0KCBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKTtcblxuXHRcdGlmICggL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdCggY3NzUG9zaXRpb24gKSApIHtcblx0XHRcdGNzc1Bvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXG5cdFx0XHRwbGFjZWhvbGRlciA9ICQoIFwiPFwiICsgZWxlbWVudFsgMCBdLm5vZGVOYW1lICsgXCI+XCIgKS5pbnNlcnRBZnRlciggZWxlbWVudCApLmNzcygge1xuXG5cdFx0XHRcdC8vIENvbnZlcnQgaW5saW5lIHRvIGlubGluZSBibG9jayB0byBhY2NvdW50IGZvciBpbmxpbmUgZWxlbWVudHNcblx0XHRcdFx0Ly8gdGhhdCB0dXJuIHRvIGlubGluZSBibG9jayBiYXNlZCBvbiBjb250ZW50IChsaWtlIGltZylcblx0XHRcdFx0ZGlzcGxheTogL14oaW5saW5lfHJ1YnkpLy50ZXN0KCBlbGVtZW50LmNzcyggXCJkaXNwbGF5XCIgKSApID9cblx0XHRcdFx0XHRcImlubGluZS1ibG9ja1wiIDpcblx0XHRcdFx0XHRcImJsb2NrXCIsXG5cdFx0XHRcdHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG5cblx0XHRcdFx0Ly8gTWFyZ2lucyBuZWVkIHRvIGJlIHNldCB0byBhY2NvdW50IGZvciBtYXJnaW4gY29sbGFwc2Vcblx0XHRcdFx0bWFyZ2luVG9wOiBlbGVtZW50LmNzcyggXCJtYXJnaW5Ub3BcIiApLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkJvdHRvbVwiICksXG5cdFx0XHRcdG1hcmdpbkxlZnQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0XHRtYXJnaW5SaWdodDogZWxlbWVudC5jc3MoIFwibWFyZ2luUmlnaHRcIiApLFxuXHRcdFx0XHRcImZsb2F0XCI6IGVsZW1lbnQuY3NzKCBcImZsb2F0XCIgKVxuXHRcdFx0fSApXG5cdFx0XHQub3V0ZXJXaWR0aCggZWxlbWVudC5vdXRlcldpZHRoKCkgKVxuXHRcdFx0Lm91dGVySGVpZ2h0KCBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWVmZmVjdHMtcGxhY2Vob2xkZXJcIiApO1xuXG5cdFx0XHRlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIFwicGxhY2Vob2xkZXJcIiwgcGxhY2Vob2xkZXIgKTtcblx0XHR9XG5cblx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0cG9zaXRpb246IGNzc1Bvc2l0aW9uLFxuXHRcdFx0bGVmdDogcG9zaXRpb24ubGVmdCxcblx0XHRcdHRvcDogcG9zaXRpb24udG9wXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHBsYWNlaG9sZGVyO1xuXHR9LFxuXG5cdHJlbW92ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgZGF0YUtleSA9IGRhdGFTcGFjZSArIFwicGxhY2Vob2xkZXJcIixcblx0XHRcdFx0cGxhY2Vob2xkZXIgPSBlbGVtZW50LmRhdGEoIGRhdGFLZXkgKTtcblxuXHRcdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRwbGFjZWhvbGRlci5yZW1vdmUoKTtcblx0XHRcdGVsZW1lbnQucmVtb3ZlRGF0YSggZGF0YUtleSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBSZW1vdmVzIGEgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzIGFuZCByZXN0b3Jlc1xuXHQvLyBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBtb2RpZmllZCBkdXJpbmcgcGxhY2Vob2xkZXIgY3JlYXRpb25cblx0Y2xlYW5VcDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0JC5lZmZlY3RzLnJlc3RvcmVTdHlsZSggZWxlbWVudCApO1xuXHRcdCQuZWZmZWN0cy5yZW1vdmVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXHR9LFxuXG5cdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKCBlbGVtZW50LCBsaXN0LCBmYWN0b3IsIHZhbHVlICkge1xuXHRcdHZhbHVlID0gdmFsdWUgfHwge307XG5cdFx0JC5lYWNoKCBsaXN0LCBmdW5jdGlvbiggaSwgeCApIHtcblx0XHRcdHZhciB1bml0ID0gZWxlbWVudC5jc3NVbml0KCB4ICk7XG5cdFx0XHRpZiAoIHVuaXRbIDAgXSA+IDAgKSB7XG5cdFx0XHRcdHZhbHVlWyB4IF0gPSB1bml0WyAwIF0gKiBmYWN0b3IgKyB1bml0WyAxIF07XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxufSApO1xuXG4vLyBSZXR1cm4gYW4gZWZmZWN0IG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gcGFyYW1ldGVyczpcbmZ1bmN0aW9uIF9ub3JtYWxpemVBcmd1bWVudHMoIGVmZmVjdCwgb3B0aW9ucywgc3BlZWQsIGNhbGxiYWNrICkge1xuXG5cdC8vIEFsbG93IHBhc3NpbmcgYWxsIG9wdGlvbnMgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuXHRpZiAoICQuaXNQbGFpbk9iamVjdCggZWZmZWN0ICkgKSB7XG5cdFx0b3B0aW9ucyA9IGVmZmVjdDtcblx0XHRlZmZlY3QgPSBlZmZlY3QuZWZmZWN0O1xuXHR9XG5cblx0Ly8gQ29udmVydCB0byBhbiBvYmplY3Rcblx0ZWZmZWN0ID0geyBlZmZlY3Q6IGVmZmVjdCB9O1xuXG5cdC8vIENhdGNoIChlZmZlY3QsIG51bGwsIC4uLilcblx0aWYgKCBvcHRpb25zID09IG51bGwgKSB7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gQ2F0Y2ggKGVmZmVjdCwgY2FsbGJhY2spXG5cdGlmICggJC5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xuXHRcdHNwZWVkID0gbnVsbDtcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBzcGVlZCwgPylcblx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiB8fCAkLmZ4LnNwZWVkc1sgb3B0aW9ucyBdICkge1xuXHRcdGNhbGxiYWNrID0gc3BlZWQ7XG5cdFx0c3BlZWQgPSBvcHRpb25zO1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIENhdGNoIChlZmZlY3QsIG9wdGlvbnMsIGNhbGxiYWNrKVxuXHRpZiAoICQuaXNGdW5jdGlvbiggc3BlZWQgKSApIHtcblx0XHRjYWxsYmFjayA9IHNwZWVkO1xuXHRcdHNwZWVkID0gbnVsbDtcblx0fVxuXG5cdC8vIEFkZCBvcHRpb25zIHRvIGVmZmVjdFxuXHRpZiAoIG9wdGlvbnMgKSB7XG5cdFx0JC5leHRlbmQoIGVmZmVjdCwgb3B0aW9ucyApO1xuXHR9XG5cblx0c3BlZWQgPSBzcGVlZCB8fCBvcHRpb25zLmR1cmF0aW9uO1xuXHRlZmZlY3QuZHVyYXRpb24gPSAkLmZ4Lm9mZiA/IDAgOlxuXHRcdHR5cGVvZiBzcGVlZCA9PT0gXCJudW1iZXJcIiA/IHNwZWVkIDpcblx0XHRzcGVlZCBpbiAkLmZ4LnNwZWVkcyA/ICQuZnguc3BlZWRzWyBzcGVlZCBdIDpcblx0XHQkLmZ4LnNwZWVkcy5fZGVmYXVsdDtcblxuXHRlZmZlY3QuY29tcGxldGUgPSBjYWxsYmFjayB8fCBvcHRpb25zLmNvbXBsZXRlO1xuXG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbmZ1bmN0aW9uIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSB7XG5cblx0Ly8gVmFsaWQgc3RhbmRhcmQgc3BlZWRzIChub3RoaW5nLCBudW1iZXIsIG5hbWVkIHNwZWVkKVxuXHRpZiAoICFvcHRpb24gfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJudW1iZXJcIiB8fCAkLmZ4LnNwZWVkc1sgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnZhbGlkIHN0cmluZ3MgLSB0cmVhdCBhcyBcIm5vcm1hbFwiIHNwZWVkXG5cdGlmICggdHlwZW9mIG9wdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiAhJC5lZmZlY3RzLmVmZmVjdFsgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBDb21wbGV0ZSBjYWxsYmFja1xuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBPcHRpb25zIGhhc2ggKGJ1dCBub3QgbmFtaW5nIGFuIGVmZmVjdClcblx0aWYgKCB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiICYmICFvcHRpb24uZWZmZWN0ICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gRGlkbid0IG1hdGNoIGFueSBzdGFuZGFyZCBBUElcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4kLmZuLmV4dGVuZCgge1xuXHRlZmZlY3Q6IGZ1bmN0aW9uKCAvKiBlZmZlY3QsIG9wdGlvbnMsIHNwZWVkLCBjYWxsYmFjayAqLyApIHtcblx0XHR2YXIgYXJncyA9IF9ub3JtYWxpemVBcmd1bWVudHMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApLFxuXHRcdFx0ZWZmZWN0TWV0aG9kID0gJC5lZmZlY3RzLmVmZmVjdFsgYXJncy5lZmZlY3QgXSxcblx0XHRcdGRlZmF1bHRNb2RlID0gZWZmZWN0TWV0aG9kLm1vZGUsXG5cdFx0XHRxdWV1ZSA9IGFyZ3MucXVldWUsXG5cdFx0XHRxdWV1ZU5hbWUgPSBxdWV1ZSB8fCBcImZ4XCIsXG5cdFx0XHRjb21wbGV0ZSA9IGFyZ3MuY29tcGxldGUsXG5cdFx0XHRtb2RlID0gYXJncy5tb2RlLFxuXHRcdFx0bW9kZXMgPSBbXSxcblx0XHRcdHByZWZpbHRlciA9IGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0XHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0bm9ybWFsaXplZE1vZGUgPSAkLmVmZmVjdHMubW9kZSggZWwsIG1vZGUgKSB8fCBkZWZhdWx0TW9kZTtcblxuXHRcdFx0XHQvLyBTZW50aW5lbCBmb3IgZHVjay1wdW5jaGluZyB0aGUgOmFuaW1hdGVkIHBzdWVkby1zZWxlY3RvclxuXHRcdFx0XHRlbC5kYXRhKCBkYXRhU3BhY2VBbmltYXRlZCwgdHJ1ZSApO1xuXG5cdFx0XHRcdC8vIFNhdmUgZWZmZWN0IG1vZGUgZm9yIGxhdGVyIHVzZSxcblx0XHRcdFx0Ly8gd2UgY2FuJ3QganVzdCBjYWxsICQuZWZmZWN0cy5tb2RlIGFnYWluIGxhdGVyLFxuXHRcdFx0XHQvLyBhcyB0aGUgLnNob3coKSBiZWxvdyBkZXN0cm95cyB0aGUgaW5pdGlhbCBzdGF0ZVxuXHRcdFx0XHRtb2Rlcy5wdXNoKCBub3JtYWxpemVkTW9kZSApO1xuXG5cdFx0XHRcdC8vIFNlZSAkLnVpQmFja0NvbXBhdCBpbnNpZGUgb2YgcnVuKCkgZm9yIHJlbW92YWwgb2YgZGVmYXVsdE1vZGUgaW4gMS4xM1xuXHRcdFx0XHRpZiAoIGRlZmF1bHRNb2RlICYmICggbm9ybWFsaXplZE1vZGUgPT09IFwic2hvd1wiIHx8XG5cdFx0XHRcdFx0XHQoIG5vcm1hbGl6ZWRNb2RlID09PSBkZWZhdWx0TW9kZSAmJiBub3JtYWxpemVkTW9kZSA9PT0gXCJoaWRlXCIgKSApICkge1xuXHRcdFx0XHRcdGVsLnNob3coKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggIWRlZmF1bHRNb2RlIHx8IG5vcm1hbGl6ZWRNb2RlICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0XHQkLmVmZmVjdHMuc2F2ZVN0eWxlKCBlbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG5leHQgKSApIHtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoICQuZngub2ZmIHx8ICFlZmZlY3RNZXRob2QgKSB7XG5cblx0XHRcdC8vIERlbGVnYXRlIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QgKGUuZy4sIC5zaG93KCkpIGlmIHBvc3NpYmxlXG5cdFx0XHRpZiAoIG1vZGUgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzWyBtb2RlIF0oIGFyZ3MuZHVyYXRpb24sIGNvbXBsZXRlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlICkge1xuXHRcdFx0XHRcdFx0Y29tcGxldGUuY2FsbCggdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJ1biggbmV4dCApIHtcblx0XHRcdHZhciBlbGVtID0gJCggdGhpcyApO1xuXG5cdFx0XHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZURhdGEoIGRhdGFTcGFjZUFuaW1hdGVkICk7XG5cblx0XHRcdFx0JC5lZmZlY3RzLmNsZWFuVXAoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGFyZ3MubW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdFx0ZWxlbS5oaWRlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGRvbmUoKSB7XG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBjb21wbGV0ZSApICkge1xuXHRcdFx0XHRcdGNvbXBsZXRlLmNhbGwoIGVsZW1bIDAgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG5leHQgKSApIHtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbW9kZSBvcHRpb24gb24gYSBwZXIgZWxlbWVudCBiYXNpcyxcblx0XHRcdC8vIGFzIHRvZ2dsZSBjYW4gYmUgZWl0aGVyIHNob3cgb3IgaGlkZSBkZXBlbmRpbmcgb24gZWxlbWVudCBzdGF0ZVxuXHRcdFx0YXJncy5tb2RlID0gbW9kZXMuc2hpZnQoKTtcblxuXHRcdFx0aWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgJiYgIWRlZmF1bHRNb2RlICkge1xuXHRcdFx0XHRpZiAoIGVsZW0uaXMoIFwiOmhpZGRlblwiICkgPyBtb2RlID09PSBcImhpZGVcIiA6IG1vZGUgPT09IFwic2hvd1wiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbCB0aGUgY29yZSBtZXRob2QgdG8gdHJhY2sgXCJvbGRkaXNwbGF5XCIgcHJvcGVybHlcblx0XHRcdFx0XHRlbGVtWyBtb2RlIF0oKTtcblx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWZmZWN0TWV0aG9kLmNhbGwoIGVsZW1bIDAgXSwgYXJncywgZG9uZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGFyZ3MubW9kZSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYWxsIHRoZSBjb3JlIG1ldGhvZCB0byB0cmFjayBcIm9sZGRpc3BsYXlcIiBwcm9wZXJseVxuXHRcdFx0XHRcdGVsZW1bIG1vZGUgXSgpO1xuXHRcdFx0XHRcdGRvbmUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlZmZlY3RNZXRob2QuY2FsbCggZWxlbVsgMCBdLCBhcmdzLCBjbGVhbnVwICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSdW4gcHJlZmlsdGVyIG9uIGFsbCBlbGVtZW50cyBmaXJzdCB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIGFueSBzaG93aW5nIG9yIGhpZGluZyBoYXBwZW5zIGJlZm9yZSBwbGFjZWhvbGRlciBjcmVhdGlvbixcblx0XHQvLyB3aGljaCBlbnN1cmVzIHRoYXQgYW55IGxheW91dCBjaGFuZ2VzIGFyZSBjb3JyZWN0bHkgY2FwdHVyZWQuXG5cdFx0cmV0dXJuIHF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIHByZWZpbHRlciApLmVhY2goIHJ1biApIDpcblx0XHRcdHRoaXMucXVldWUoIHF1ZXVlTmFtZSwgcHJlZmlsdGVyICkucXVldWUoIHF1ZXVlTmFtZSwgcnVuICk7XG5cdH0sXG5cblx0c2hvdzogKCBmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIG9wdGlvbiApIHtcblx0XHRcdGlmICggc3RhbmRhcmRBbmltYXRpb25PcHRpb24oIG9wdGlvbiApICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYXJncyA9IF9ub3JtYWxpemVBcmd1bWVudHMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRhcmdzLm1vZGUgPSBcInNob3dcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4uc2hvdyApLFxuXG5cdGhpZGU6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJoaWRlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLmhpZGUgKSxcblxuXHR0b2dnbGU6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSB8fCB0eXBlb2Ygb3B0aW9uID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJ0b2dnbGVcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4udG9nZ2xlICksXG5cblx0Y3NzVW5pdDogZnVuY3Rpb24oIGtleSApIHtcblx0XHR2YXIgc3R5bGUgPSB0aGlzLmNzcygga2V5ICksXG5cdFx0XHR2YWwgPSBbXTtcblxuXHRcdCQuZWFjaCggWyBcImVtXCIsIFwicHhcIiwgXCIlXCIsIFwicHRcIiBdLCBmdW5jdGlvbiggaSwgdW5pdCApIHtcblx0XHRcdGlmICggc3R5bGUuaW5kZXhPZiggdW5pdCApID4gMCApIHtcblx0XHRcdFx0dmFsID0gWyBwYXJzZUZsb2F0KCBzdHlsZSApLCB1bml0IF07XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB2YWw7XG5cdH0sXG5cblx0Y3NzQ2xpcDogZnVuY3Rpb24oIGNsaXBPYmogKSB7XG5cdFx0aWYgKCBjbGlwT2JqICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3NzKCBcImNsaXBcIiwgXCJyZWN0KFwiICsgY2xpcE9iai50b3AgKyBcInB4IFwiICsgY2xpcE9iai5yaWdodCArIFwicHggXCIgK1xuXHRcdFx0XHRjbGlwT2JqLmJvdHRvbSArIFwicHggXCIgKyBjbGlwT2JqLmxlZnQgKyBcInB4KVwiICk7XG5cdFx0fVxuXHRcdHJldHVybiBwYXJzZUNsaXAoIHRoaXMuY3NzKCBcImNsaXBcIiApLCB0aGlzICk7XG5cdH0sXG5cblx0dHJhbnNmZXI6IGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdFx0dGFyZ2V0ID0gJCggb3B0aW9ucy50byApLFxuXHRcdFx0dGFyZ2V0Rml4ZWQgPSB0YXJnZXQuY3NzKCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiLFxuXHRcdFx0Ym9keSA9ICQoIFwiYm9keVwiICksXG5cdFx0XHRmaXhUb3AgPSB0YXJnZXRGaXhlZCA/IGJvZHkuc2Nyb2xsVG9wKCkgOiAwLFxuXHRcdFx0Zml4TGVmdCA9IHRhcmdldEZpeGVkID8gYm9keS5zY3JvbGxMZWZ0KCkgOiAwLFxuXHRcdFx0ZW5kUG9zaXRpb24gPSB0YXJnZXQub2Zmc2V0KCksXG5cdFx0XHRhbmltYXRpb24gPSB7XG5cdFx0XHRcdHRvcDogZW5kUG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0XHRsZWZ0OiBlbmRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdFx0aGVpZ2h0OiB0YXJnZXQuaW5uZXJIZWlnaHQoKSxcblx0XHRcdFx0d2lkdGg6IHRhcmdldC5pbm5lcldpZHRoKClcblx0XHRcdH0sXG5cdFx0XHRzdGFydFBvc2l0aW9uID0gZWxlbWVudC5vZmZzZXQoKSxcblx0XHRcdHRyYW5zZmVyID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1lZmZlY3RzLXRyYW5zZmVyJz48L2Rpdj5cIiApXG5cdFx0XHRcdC5hcHBlbmRUbyggXCJib2R5XCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIG9wdGlvbnMuY2xhc3NOYW1lIClcblx0XHRcdFx0LmNzcygge1xuXHRcdFx0XHRcdHRvcDogc3RhcnRQb3NpdGlvbi50b3AgLSBmaXhUb3AsXG5cdFx0XHRcdFx0bGVmdDogc3RhcnRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQuaW5uZXJIZWlnaHQoKSxcblx0XHRcdFx0XHR3aWR0aDogZWxlbWVudC5pbm5lcldpZHRoKCksXG5cdFx0XHRcdFx0cG9zaXRpb246IHRhcmdldEZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiXG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dHJhbnNmZXIucmVtb3ZlKCk7XG5cdFx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGRvbmUgKSApIHtcblx0XHRcdFx0XHRcdGRvbmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBwYXJzZUNsaXAoIHN0ciwgZWxlbWVudCApIHtcblx0XHR2YXIgb3V0ZXJXaWR0aCA9IGVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0b3V0ZXJIZWlnaHQgPSBlbGVtZW50Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRjbGlwUmVnZXggPSAvXnJlY3RcXCgoLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pLD9cXHMqKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKSw/XFxzKigtP1xcZCpcXC4/XFxkKnB4fC0/XFxkKyV8YXV0byksP1xccyooLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pXFwpJC8sXG5cdFx0XHR2YWx1ZXMgPSBjbGlwUmVnZXguZXhlYyggc3RyICkgfHwgWyBcIlwiLCAwLCBvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgMCBdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcGFyc2VGbG9hdCggdmFsdWVzWyAxIF0gKSB8fCAwLFxuXHRcdFx0cmlnaHQ6IHZhbHVlc1sgMiBdID09PSBcImF1dG9cIiA/IG91dGVyV2lkdGggOiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDIgXSApLFxuXHRcdFx0Ym90dG9tOiB2YWx1ZXNbIDMgXSA9PT0gXCJhdXRvXCIgPyBvdXRlckhlaWdodCA6IHBhcnNlRmxvYXQoIHZhbHVlc1sgMyBdICksXG5cdFx0XHRsZWZ0OiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDQgXSApIHx8IDBcblx0XHR9O1xufVxuXG4kLmZ4LnN0ZXAuY2xpcCA9IGZ1bmN0aW9uKCBmeCApIHtcblx0aWYgKCAhZnguY2xpcEluaXQgKSB7XG5cdFx0Znguc3RhcnQgPSAkKCBmeC5lbGVtICkuY3NzQ2xpcCgpO1xuXHRcdGlmICggdHlwZW9mIGZ4LmVuZCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ4LmVuZCA9IHBhcnNlQ2xpcCggZnguZW5kLCBmeC5lbGVtICk7XG5cdFx0fVxuXHRcdGZ4LmNsaXBJbml0ID0gdHJ1ZTtcblx0fVxuXG5cdCQoIGZ4LmVsZW0gKS5jc3NDbGlwKCB7XG5cdFx0dG9wOiBmeC5wb3MgKiAoIGZ4LmVuZC50b3AgLSBmeC5zdGFydC50b3AgKSArIGZ4LnN0YXJ0LnRvcCxcblx0XHRyaWdodDogZngucG9zICogKCBmeC5lbmQucmlnaHQgLSBmeC5zdGFydC5yaWdodCApICsgZnguc3RhcnQucmlnaHQsXG5cdFx0Ym90dG9tOiBmeC5wb3MgKiAoIGZ4LmVuZC5ib3R0b20gLSBmeC5zdGFydC5ib3R0b20gKSArIGZ4LnN0YXJ0LmJvdHRvbSxcblx0XHRsZWZ0OiBmeC5wb3MgKiAoIGZ4LmVuZC5sZWZ0IC0gZnguc3RhcnQubGVmdCApICsgZnguc3RhcnQubGVmdFxuXHR9ICk7XG59O1xuXG59ICkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFQVNJTkcgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4oIGZ1bmN0aW9uKCkge1xuXG4vLyBCYXNlZCBvbiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxudmFyIGJhc2VFYXNpbmdzID0ge307XG5cbiQuZWFjaCggWyBcIlF1YWRcIiwgXCJDdWJpY1wiLCBcIlF1YXJ0XCIsIFwiUXVpbnRcIiwgXCJFeHBvXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGJhc2VFYXNpbmdzWyBuYW1lIF0gPSBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gTWF0aC5wb3coIHAsIGkgKyAyICk7XG5cdH07XG59ICk7XG5cbiQuZXh0ZW5kKCBiYXNlRWFzaW5ncywge1xuXHRTaW5lOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMSAtIE1hdGguY29zKCBwICogTWF0aC5QSSAvIDIgKTtcblx0fSxcblx0Q2lyYzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLnNxcnQoIDEgLSBwICogcCApO1xuXHR9LFxuXHRFbGFzdGljOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcCA9PT0gMCB8fCBwID09PSAxID8gcCA6XG5cdFx0XHQtTWF0aC5wb3coIDIsIDggKiAoIHAgLSAxICkgKSAqIE1hdGguc2luKCAoICggcCAtIDEgKSAqIDgwIC0gNy41ICkgKiBNYXRoLlBJIC8gMTUgKTtcblx0fSxcblx0QmFjazogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgKiBwICogKCAzICogcCAtIDIgKTtcblx0fSxcblx0Qm91bmNlOiBmdW5jdGlvbiggcCApIHtcblx0XHR2YXIgcG93Mixcblx0XHRcdGJvdW5jZSA9IDQ7XG5cblx0XHR3aGlsZSAoIHAgPCAoICggcG93MiA9IE1hdGgucG93KCAyLCAtLWJvdW5jZSApICkgLSAxICkgLyAxMSApIHt9XG5cdFx0cmV0dXJuIDEgLyBNYXRoLnBvdyggNCwgMyAtIGJvdW5jZSApIC0gNy41NjI1ICogTWF0aC5wb3coICggcG93MiAqIDMgLSAyICkgLyAyMiAtIHAsIDIgKTtcblx0fVxufSApO1xuXG4kLmVhY2goIGJhc2VFYXNpbmdzLCBmdW5jdGlvbiggbmFtZSwgZWFzZUluICkge1xuXHQkLmVhc2luZ1sgXCJlYXNlSW5cIiArIG5hbWUgXSA9IGVhc2VJbjtcblx0JC5lYXNpbmdbIFwiZWFzZU91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBlYXNlSW4oIDEgLSBwICk7XG5cdH07XG5cdCQuZWFzaW5nWyBcImVhc2VJbk91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPCAwLjUgP1xuXHRcdFx0ZWFzZUluKCBwICogMiApIC8gMiA6XG5cdFx0XHQxIC0gZWFzZUluKCBwICogLTIgKyAyICkgLyAyO1xuXHR9O1xufSApO1xuXG59ICkoKTtcblxucmV0dXJuICQuZWZmZWN0cztcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEJsaW5kIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBCbGluZCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBCbGluZHMgdGhlIGVsZW1lbnQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYmxpbmQtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImJsaW5kXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIG1hcCA9IHtcblx0XHRcdHVwOiBbIFwiYm90dG9tXCIsIFwidG9wXCIgXSxcblx0XHRcdHZlcnRpY2FsOiBbIFwiYm90dG9tXCIsIFwidG9wXCIgXSxcblx0XHRcdGRvd246IFsgXCJ0b3BcIiwgXCJib3R0b21cIiBdLFxuXHRcdFx0bGVmdDogWyBcInJpZ2h0XCIsIFwibGVmdFwiIF0sXG5cdFx0XHRob3Jpem9udGFsOiBbIFwicmlnaHRcIiwgXCJsZWZ0XCIgXSxcblx0XHRcdHJpZ2h0OiBbIFwibGVmdFwiLCBcInJpZ2h0XCIgXVxuXHRcdH0sXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcInVwXCIsXG5cdFx0c3RhcnQgPSBlbGVtZW50LmNzc0NsaXAoKSxcblx0XHRhbmltYXRlID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblx0XHRwbGFjZWhvbGRlciA9ICQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGFuaW1hdGUuY2xpcFsgbWFwWyBkaXJlY3Rpb24gXVsgMCBdIF0gPSBhbmltYXRlLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDEgXSBdO1xuXG5cdGlmICggb3B0aW9ucy5tb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbGVtZW50LmNzc0NsaXAoIGFuaW1hdGUuY2xpcCApO1xuXHRcdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRwbGFjZWhvbGRlci5jc3MoICQuZWZmZWN0cy5jbGlwVG9Cb3goIGFuaW1hdGUgKSApO1xuXHRcdH1cblxuXHRcdGFuaW1hdGUuY2xpcCA9IHN0YXJ0O1xuXHR9XG5cblx0aWYgKCBwbGFjZWhvbGRlciApIHtcblx0XHRwbGFjZWhvbGRlci5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRlICksIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdH1cblxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGUsIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCb3VuY2UgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEJvdW5jZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBCb3VuY2VzIGFuIGVsZW1lbnQgaG9yaXpvbnRhbGx5IG9yIHZlcnRpY2FsbHkgbiB0aW1lcy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9ib3VuY2UtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImJvdW5jZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHVwQW5pbSwgZG93bkFuaW0sIHJlZlZhbHVlLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cblx0XHQvLyBEZWZhdWx0czpcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ1cFwiLFxuXHRcdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSxcblx0XHR0aW1lcyA9IG9wdGlvbnMudGltZXMgfHwgNSxcblxuXHRcdC8vIE51bWJlciBvZiBpbnRlcm5hbCBhbmltYXRpb25zXG5cdFx0YW5pbXMgPSB0aW1lcyAqIDIgKyAoIHNob3cgfHwgaGlkZSA/IDEgOiAwICksXG5cdFx0c3BlZWQgPSBvcHRpb25zLmR1cmF0aW9uIC8gYW5pbXMsXG5cdFx0ZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcsXG5cblx0XHQvLyBVdGlsaXR5OlxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApLFxuXHRcdGkgPSAwLFxuXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdHJlZlZhbHVlID0gZWxlbWVudC5jc3MoIHJlZiApO1xuXG5cdC8vIERlZmF1bHQgZGlzdGFuY2UgZm9yIHRoZSBCSUdHRVNUIGJvdW5jZSBpcyB0aGUgb3V0ZXIgRGlzdGFuY2UgLyAzXG5cdGlmICggIWRpc3RhbmNlICkge1xuXHRcdGRpc3RhbmNlID0gZWxlbWVudFsgcmVmID09PSBcInRvcFwiID8gXCJvdXRlckhlaWdodFwiIDogXCJvdXRlcldpZHRoXCIgXSgpIC8gMztcblx0fVxuXG5cdGlmICggc2hvdyApIHtcblx0XHRkb3duQW5pbSA9IHsgb3BhY2l0eTogMSB9O1xuXHRcdGRvd25BbmltWyByZWYgXSA9IHJlZlZhbHVlO1xuXG5cdFx0Ly8gSWYgd2UgYXJlIHNob3dpbmcsIGZvcmNlIG9wYWNpdHkgMCBhbmQgc2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdFx0Ly8gdGhlbiBkbyB0aGUgXCJmaXJzdFwiIGFuaW1hdGlvblxuXHRcdGVsZW1lbnRcblx0XHRcdC5jc3MoIFwib3BhY2l0eVwiLCAwIClcblx0XHRcdC5jc3MoIHJlZiwgbW90aW9uID8gLWRpc3RhbmNlICogMiA6IGRpc3RhbmNlICogMiApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblx0fVxuXG5cdC8vIFN0YXJ0IGF0IHRoZSBzbWFsbGVzdCBkaXN0YW5jZSBpZiB3ZSBhcmUgaGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHRkaXN0YW5jZSA9IGRpc3RhbmNlIC8gTWF0aC5wb3coIDIsIHRpbWVzIC0gMSApO1xuXHR9XG5cblx0ZG93bkFuaW0gPSB7fTtcblx0ZG93bkFuaW1bIHJlZiBdID0gcmVmVmFsdWU7XG5cblx0Ly8gQm91bmNlcyB1cC9kb3duL2xlZnQvcmlnaHQgdGhlbiBiYWNrIHRvIDAgLS0gdGltZXMgKiAyIGFuaW1hdGlvbnMgaGFwcGVuIGhlcmVcblx0Zm9yICggOyBpIDwgdGltZXM7IGkrKyApIHtcblx0XHR1cEFuaW0gPSB7fTtcblx0XHR1cEFuaW1bIHJlZiBdID0gKCBtb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXG5cdFx0ZWxlbWVudFxuXHRcdFx0LmFuaW1hdGUoIHVwQW5pbSwgc3BlZWQsIGVhc2luZyApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblxuXHRcdGRpc3RhbmNlID0gaGlkZSA/IGRpc3RhbmNlICogMiA6IGRpc3RhbmNlIC8gMjtcblx0fVxuXG5cdC8vIExhc3QgQm91bmNlIHdoZW4gSGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHR1cEFuaW0gPSB7IG9wYWNpdHk6IDAgfTtcblx0XHR1cEFuaW1bIHJlZiBdID0gKCBtb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXG5cdFx0ZWxlbWVudC5hbmltYXRlKCB1cEFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblx0fVxuXG5cdGVsZW1lbnQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIGFuaW1zICsgMSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgQ2xpcCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQ2xpcCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBDbGlwcyB0aGUgZWxlbWVudCBvbiBhbmQgb2ZmIGxpa2UgYW4gb2xkIFRWLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NsaXAtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImNsaXBcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgc3RhcnQsXG5cdFx0YW5pbWF0ZSA9IHt9LFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ2ZXJ0aWNhbFwiLFxuXHRcdGJvdGggPSBkaXJlY3Rpb24gPT09IFwiYm90aFwiLFxuXHRcdGhvcml6b250YWwgPSBib3RoIHx8IGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIsXG5cdFx0dmVydGljYWwgPSBib3RoIHx8IGRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiO1xuXG5cdHN0YXJ0ID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdGFuaW1hdGUuY2xpcCA9IHtcblx0XHR0b3A6IHZlcnRpY2FsID8gKCBzdGFydC5ib3R0b20gLSBzdGFydC50b3AgKSAvIDIgOiBzdGFydC50b3AsXG5cdFx0cmlnaHQ6IGhvcml6b250YWwgPyAoIHN0YXJ0LnJpZ2h0IC0gc3RhcnQubGVmdCApIC8gMiA6IHN0YXJ0LnJpZ2h0LFxuXHRcdGJvdHRvbTogdmVydGljYWwgPyAoIHN0YXJ0LmJvdHRvbSAtIHN0YXJ0LnRvcCApIC8gMiA6IHN0YXJ0LmJvdHRvbSxcblx0XHRsZWZ0OiBob3Jpem9udGFsID8gKCBzdGFydC5yaWdodCAtIHN0YXJ0LmxlZnQgKSAvIDIgOiBzdGFydC5sZWZ0XG5cdH07XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0aWYgKCBvcHRpb25zLm1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdGVsZW1lbnQuY3NzQ2xpcCggYW5pbWF0ZS5jbGlwICk7XG5cdFx0YW5pbWF0ZS5jbGlwID0gc3RhcnQ7XG5cdH1cblxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGUsIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9ICk7XG5cbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIERyb3AgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IERyb3AgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogTW92ZXMgYW4gZWxlbWVudCBpbiBvbmUgZGlyZWN0aW9uIGFuZCBoaWRlcyBpdCBhdCB0aGUgc2FtZSB0aW1lLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3AtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImRyb3BcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdHZhciBkaXN0YW5jZSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdG9wcG9zaXRlTW90aW9uID0gKCBtb3Rpb24gPT09IFwiKz1cIiApID8gXCItPVwiIDogXCIrPVwiLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdG9wYWNpdHk6IDBcblx0XHR9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSB8fFxuXHRcdGVsZW1lbnRbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKSAvIDI7XG5cblx0YW5pbWF0aW9uWyByZWYgXSA9IG1vdGlvbiArIGRpc3RhbmNlO1xuXG5cdGlmICggc2hvdyApIHtcblx0XHRlbGVtZW50LmNzcyggYW5pbWF0aW9uICk7XG5cblx0XHRhbmltYXRpb25bIHJlZiBdID0gb3Bwb3NpdGVNb3Rpb24gKyBkaXN0YW5jZTtcblx0XHRhbmltYXRpb24ub3BhY2l0eSA9IDE7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRXhwbG9kZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRXhwbG9kZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IEV4cGxvZGVzIGFuIGVsZW1lbnQgaW4gYWxsIGRpcmVjdGlvbnMgaW50byBuIHBpZWNlcy4gSW1wbG9kZXMgYW4gZWxlbWVudCB0byBpdHMgb3JpZ2luYWwgd2hvbGVuZXNzLlxuLy8ganNjczplbmFibGUgbWF4aW11bUxpbmVMZW5ndGhcbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9leHBsb2RlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJleHBsb2RlXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHR2YXIgaSwgaiwgbGVmdCwgdG9wLCBteCwgbXksXG5cdFx0cm93cyA9IG9wdGlvbnMucGllY2VzID8gTWF0aC5yb3VuZCggTWF0aC5zcXJ0KCBvcHRpb25zLnBpZWNlcyApICkgOiAzLFxuXHRcdGNlbGxzID0gcm93cyxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXG5cdFx0Ly8gU2hvdyBhbmQgdGhlbiB2aXNpYmlsaXR5OmhpZGRlbiB0aGUgZWxlbWVudCBiZWZvcmUgY2FsY3VsYXRpbmcgb2Zmc2V0XG5cdFx0b2Zmc2V0ID0gZWxlbWVudC5zaG93KCkuY3NzKCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIiApLm9mZnNldCgpLFxuXG5cdFx0Ly8gV2lkdGggYW5kIGhlaWdodCBvZiBhIHBpZWNlXG5cdFx0d2lkdGggPSBNYXRoLmNlaWwoIGVsZW1lbnQub3V0ZXJXaWR0aCgpIC8gY2VsbHMgKSxcblx0XHRoZWlnaHQgPSBNYXRoLmNlaWwoIGVsZW1lbnQub3V0ZXJIZWlnaHQoKSAvIHJvd3MgKSxcblx0XHRwaWVjZXMgPSBbXTtcblxuXHQvLyBDaGlsZHJlbiBhbmltYXRlIGNvbXBsZXRlOlxuXHRmdW5jdGlvbiBjaGlsZENvbXBsZXRlKCkge1xuXHRcdHBpZWNlcy5wdXNoKCB0aGlzICk7XG5cdFx0aWYgKCBwaWVjZXMubGVuZ3RoID09PSByb3dzICogY2VsbHMgKSB7XG5cdFx0XHRhbmltQ29tcGxldGUoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbG9uZSB0aGUgZWxlbWVudCBmb3IgZWFjaCByb3cgYW5kIGNlbGwuXG5cdGZvciAoIGkgPSAwOyBpIDwgcm93czsgaSsrICkgeyAvLyA9PT0+XG5cdFx0dG9wID0gb2Zmc2V0LnRvcCArIGkgKiBoZWlnaHQ7XG5cdFx0bXkgPSBpIC0gKCByb3dzIC0gMSApIC8gMjtcblxuXHRcdGZvciAoIGogPSAwOyBqIDwgY2VsbHM7IGorKyApIHsgLy8gfHx8XG5cdFx0XHRsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBqICogd2lkdGg7XG5cdFx0XHRteCA9IGogLSAoIGNlbGxzIC0gMSApIC8gMjtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG5vdyBoaWRkZW4gbWFpbiBlbGVtZW50IHRoYXQgd2lsbCBiZSBhYnNvbHV0ZSBwb3NpdGlvbmVkXG5cdFx0XHQvLyB3aXRoaW4gYSB3cmFwcGVyIGRpdiBvZmYgdGhlIC1sZWZ0IGFuZCAtdG9wIGVxdWFsIHRvIHNpemUgb2Ygb3VyIHBpZWNlc1xuXHRcdFx0ZWxlbWVudFxuXHRcdFx0XHQuY2xvbmUoKVxuXHRcdFx0XHQuYXBwZW5kVG8oIFwiYm9keVwiIClcblx0XHRcdFx0LndyYXAoIFwiPGRpdj48L2Rpdj5cIiApXG5cdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdHZpc2liaWxpdHk6IFwidmlzaWJsZVwiLFxuXHRcdFx0XHRcdGxlZnQ6IC1qICogd2lkdGgsXG5cdFx0XHRcdFx0dG9wOiAtaSAqIGhlaWdodFxuXHRcdFx0XHR9IClcblxuXHRcdFx0XHQvLyBTZWxlY3QgdGhlIHdyYXBwZXIgLSBtYWtlIGl0IG92ZXJmbG93OiBoaWRkZW4gYW5kIGFic29sdXRlIHBvc2l0aW9uZWQgYmFzZWQgb25cblx0XHRcdFx0Ly8gd2hlcmUgdGhlIG9yaWdpbmFsIHdhcyBsb2NhdGVkICtsZWZ0IGFuZCArdG9wIGVxdWFsIHRvIHRoZSBzaXplIG9mIHBpZWNlc1xuXHRcdFx0XHQucGFyZW50KClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy1leHBsb2RlXCIgKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcblx0XHRcdFx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0XHRcdFx0bGVmdDogbGVmdCArICggc2hvdyA/IG14ICogd2lkdGggOiAwICksXG5cdFx0XHRcdFx0XHR0b3A6IHRvcCArICggc2hvdyA/IG15ICogaGVpZ2h0IDogMCApLFxuXHRcdFx0XHRcdFx0b3BhY2l0eTogc2hvdyA/IDAgOiAxXG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdFx0LmFuaW1hdGUoIHtcblx0XHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAoIHNob3cgPyAwIDogbXggKiB3aWR0aCApLFxuXHRcdFx0XHRcdFx0dG9wOiB0b3AgKyAoIHNob3cgPyAwIDogbXkgKiBoZWlnaHQgKSxcblx0XHRcdFx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdFx0XHRcdH0sIG9wdGlvbnMuZHVyYXRpb24gfHwgNTAwLCBvcHRpb25zLmVhc2luZywgY2hpbGRDb21wbGV0ZSApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFuaW1Db21wbGV0ZSgpIHtcblx0XHRlbGVtZW50LmNzcygge1xuXHRcdFx0dmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcblx0XHR9ICk7XG5cdFx0JCggcGllY2VzICkucmVtb3ZlKCk7XG5cdFx0ZG9uZSgpO1xuXHR9XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGYWRlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBGYWRlIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEZhZGVzIHRoZSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZhZGUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImZhZGVcIiwgXCJ0b2dnbGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBzaG93ID0gb3B0aW9ucy5tb2RlID09PSBcInNob3dcIjtcblxuXHQkKCB0aGlzIClcblx0XHQuY3NzKCBcIm9wYWNpdHlcIiwgc2hvdyA/IDAgOiAxIClcblx0XHQuYW5pbWF0ZSgge1xuXHRcdFx0b3BhY2l0eTogc2hvdyA/IDEgOiAwXG5cdFx0fSwge1xuXHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdFx0Y29tcGxldGU6IGRvbmVcblx0XHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGb2xkIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBGb2xkIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEZvbGRzIGFuIGVsZW1lbnQgZmlyc3QgaG9yaXpvbnRhbGx5IGFuZCB0aGVuIHZlcnRpY2FsbHkuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9sZC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwiZm9sZFwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNpemUgPSBvcHRpb25zLnNpemUgfHwgMTUsXG5cdFx0cGVyY2VudCA9IC8oWzAtOV0rKSUvLmV4ZWMoIHNpemUgKSxcblx0XHRob3JpekZpcnN0ID0gISFvcHRpb25zLmhvcml6Rmlyc3QsXG5cdFx0cmVmID0gaG9yaXpGaXJzdCA/IFsgXCJyaWdodFwiLCBcImJvdHRvbVwiIF0gOiBbIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLFxuXHRcdGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIDIsXG5cblx0XHRwbGFjZWhvbGRlciA9ICQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApLFxuXG5cdFx0c3RhcnQgPSBlbGVtZW50LmNzc0NsaXAoKSxcblx0XHRhbmltYXRpb24xID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblx0XHRhbmltYXRpb24yID0geyBjbGlwOiAkLmV4dGVuZCgge30sIHN0YXJ0ICkgfSxcblxuXHRcdGRpc3RhbmNlID0gWyBzdGFydFsgcmVmWyAwIF0gXSwgc3RhcnRbIHJlZlsgMSBdIF0gXSxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHRpZiAoIHBlcmNlbnQgKSB7XG5cdFx0c2l6ZSA9IHBhcnNlSW50KCBwZXJjZW50WyAxIF0sIDEwICkgLyAxMDAgKiBkaXN0YW5jZVsgaGlkZSA/IDAgOiAxIF07XG5cdH1cblx0YW5pbWF0aW9uMS5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDAgXSBdID0gc2l6ZTtcblx0YW5pbWF0aW9uMi5jbGlwWyByZWZbIDEgXSBdID0gMDtcblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRpb24yLmNsaXAgKTtcblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIuY3NzKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24yICkgKTtcblx0XHR9XG5cblx0XHRhbmltYXRpb24yLmNsaXAgPSBzdGFydDtcblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWxlbWVudFxuXHRcdC5xdWV1ZSggZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0XHRwbGFjZWhvbGRlclxuXHRcdFx0XHRcdC5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24xICksIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApXG5cdFx0XHRcdFx0LmFuaW1hdGUoICQuZWZmZWN0cy5jbGlwVG9Cb3goIGFuaW1hdGlvbjIgKSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdFx0XHR9XG5cblx0XHRcdG5leHQoKTtcblx0XHR9IClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMiwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nIClcblx0XHQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIDQgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEhpZ2hsaWdodCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogSGlnaGxpZ2h0IEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IEhpZ2hsaWdodHMgdGhlIGJhY2tncm91bmQgb2YgYW4gZWxlbWVudCBpbiBhIGRlZmluZWQgY29sb3IgZm9yIGEgY3VzdG9tIGR1cmF0aW9uLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2hpZ2hsaWdodC1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwiaGlnaGxpZ2h0XCIsIFwic2hvd1wiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0YW5pbWF0aW9uID0ge1xuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBlbGVtZW50LmNzcyggXCJiYWNrZ3JvdW5kQ29sb3JcIiApXG5cdFx0fTtcblxuXHRpZiAoIG9wdGlvbnMubW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0YW5pbWF0aW9uLm9wYWNpdHkgPSAwO1xuXHR9XG5cblx0JC5lZmZlY3RzLnNhdmVTdHlsZSggZWxlbWVudCApO1xuXG5cdGVsZW1lbnRcblx0XHQuY3NzKCB7XG5cdFx0XHRiYWNrZ3JvdW5kSW1hZ2U6IFwibm9uZVwiLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmNvbG9yIHx8IFwiI2ZmZmY5OVwiXG5cdFx0fSApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdFx0Y29tcGxldGU6IGRvbmVcblx0XHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBQdWZmIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBQdWZmIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IENyZWF0ZXMgYSBwdWZmIGVmZmVjdCBieSBzY2FsaW5nIHRoZSBlbGVtZW50IHVwIGFuZCBoaWRpbmcgaXQgYXQgdGhlIHNhbWUgdGltZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWZmLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiLFxuXHRcdFx0XCIuL2VmZmVjdC1zY2FsZVwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJwdWZmXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIG5ld09wdGlvbnMgPSAkLmV4dGVuZCggdHJ1ZSwge30sIG9wdGlvbnMsIHtcblx0XHRmYWRlOiB0cnVlLFxuXHRcdHBlcmNlbnQ6IHBhcnNlSW50KCBvcHRpb25zLnBlcmNlbnQsIDEwICkgfHwgMTUwXG5cdH0gKTtcblxuXHQkLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwoIHRoaXMsIG5ld09wdGlvbnMsIGRvbmUgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFB1bHNhdGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFB1bHNhdGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogUHVsc2F0ZXMgYW4gZWxlbWVudCBuIHRpbWVzIGJ5IGNoYW5naW5nIHRoZSBvcGFjaXR5IHRvIHplcm8gYW5kIGJhY2suXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHVsc2F0ZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwicHVsc2F0ZVwiLCBcInNob3dcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaG93aGlkZSA9IHNob3cgfHwgaGlkZSxcblxuXHRcdC8vIFNob3dpbmcgb3IgaGlkaW5nIGxlYXZlcyBvZmYgdGhlIFwibGFzdFwiIGFuaW1hdGlvblxuXHRcdGFuaW1zID0gKCAoIG9wdGlvbnMudGltZXMgfHwgNSApICogMiApICsgKCBzaG93aGlkZSA/IDEgOiAwICksXG5cdFx0ZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIC8gYW5pbXMsXG5cdFx0YW5pbWF0ZVRvID0gMCxcblx0XHRpID0gMSxcblx0XHRxdWV1ZWxlbiA9IGVsZW1lbnQucXVldWUoKS5sZW5ndGg7XG5cblx0aWYgKCBzaG93IHx8ICFlbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRlbGVtZW50LmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KCk7XG5cdFx0YW5pbWF0ZVRvID0gMTtcblx0fVxuXG5cdC8vIEFuaW1zIC0gMSBvcGFjaXR5IFwidG9nZ2xlc1wiXG5cdGZvciAoIDsgaSA8IGFuaW1zOyBpKysgKSB7XG5cdFx0ZWxlbWVudC5hbmltYXRlKCB7IG9wYWNpdHk6IGFuaW1hdGVUbyB9LCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcgKTtcblx0XHRhbmltYXRlVG8gPSAxIC0gYW5pbWF0ZVRvO1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCB7IG9wYWNpdHk6IGFuaW1hdGVUbyB9LCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcgKTtcblxuXHRlbGVtZW50LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCBhbmltcyArIDEgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNjYWxlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTY2FsZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBHcm93cyBvciBzaHJpbmtzIGFuIGVsZW1lbnQgYW5kIGl0cyBjb250ZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NjYWxlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiLFxuXHRcdFx0XCIuL2VmZmVjdC1zaXplXCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNjYWxlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHBlcmNlbnQgPSBwYXJzZUludCggb3B0aW9ucy5wZXJjZW50LCAxMCApIHx8XG5cdFx0XHQoIHBhcnNlSW50KCBvcHRpb25zLnBlcmNlbnQsIDEwICkgPT09IDAgPyAwIDogKCBtb2RlICE9PSBcImVmZmVjdFwiID8gMCA6IDEwMCApICksXG5cblx0XHRuZXdPcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHtcblx0XHRcdGZyb206ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbCApLFxuXHRcdFx0dG86ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbCwgcGVyY2VudCwgb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJib3RoXCIgKSxcblx0XHRcdG9yaWdpbjogb3B0aW9ucy5vcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF1cblx0XHR9LCBvcHRpb25zICk7XG5cblx0Ly8gRmFkZSBvcHRpb24gdG8gc3VwcG9ydCBwdWZmXG5cdGlmICggb3B0aW9ucy5mYWRlICkge1xuXHRcdG5ld09wdGlvbnMuZnJvbS5vcGFjaXR5ID0gMTtcblx0XHRuZXdPcHRpb25zLnRvLm9wYWNpdHkgPSAwO1xuXHR9XG5cblx0JC5lZmZlY3RzLmVmZmVjdC5zaXplLmNhbGwoIHRoaXMsIG5ld09wdGlvbnMsIGRvbmUgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNoYWtlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTaGFrZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBTaGFrZXMgYW4gZWxlbWVudCBob3Jpem9udGFsbHkgb3IgdmVydGljYWxseSBuIHRpbWVzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NoYWtlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJzaGFrZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHR2YXIgaSA9IDEsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UgfHwgMjAsXG5cdFx0dGltZXMgPSBvcHRpb25zLnRpbWVzIHx8IDMsXG5cdFx0YW5pbXMgPSB0aW1lcyAqIDIgKyAxLFxuXHRcdHNwZWVkID0gTWF0aC5yb3VuZCggb3B0aW9ucy5kdXJhdGlvbiAvIGFuaW1zICksXG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0cG9zaXRpdmVNb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSxcblx0XHRhbmltYXRpb24gPSB7fSxcblx0XHRhbmltYXRpb24xID0ge30sXG5cdFx0YW5pbWF0aW9uMiA9IHt9LFxuXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdC8vIEFuaW1hdGlvblxuXHRhbmltYXRpb25bIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cdGFuaW1hdGlvbjFbIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiKz1cIiA6IFwiLT1cIiApICsgZGlzdGFuY2UgKiAyO1xuXHRhbmltYXRpb24yWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlICogMjtcblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggYW5pbWF0aW9uLCBzcGVlZCwgb3B0aW9ucy5lYXNpbmcgKTtcblxuXHQvLyBTaGFrZXNcblx0Zm9yICggOyBpIDwgdGltZXM7IGkrKyApIHtcblx0XHRlbGVtZW50XG5cdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nIClcblx0XHRcdC5hbmltYXRlKCBhbmltYXRpb24yLCBzcGVlZCwgb3B0aW9ucy5lYXNpbmcgKTtcblx0fVxuXG5cdGVsZW1lbnRcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMSwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nIClcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCBzcGVlZCAvIDIsIG9wdGlvbnMuZWFzaW5nIClcblx0XHQucXVldWUoIGRvbmUgKTtcblxuXHQkLmVmZmVjdHMudW5zaGlmdCggZWxlbWVudCwgcXVldWVsZW4sIGFuaW1zICsgMSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgU2l6ZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2l6ZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBSZXNpemUgYW4gZWxlbWVudCB0byBhIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NpemUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNpemVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGJhc2VsaW5lLCBmYWN0b3IsIHRlbXAsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblxuXHRcdC8vIENvcHkgZm9yIGNoaWxkcmVuXG5cdFx0Y1Byb3BzID0gWyBcImZvbnRTaXplXCIgXSxcblx0XHR2UHJvcHMgPSBbIFwiYm9yZGVyVG9wV2lkdGhcIiwgXCJib3JkZXJCb3R0b21XaWR0aFwiLCBcInBhZGRpbmdUb3BcIiwgXCJwYWRkaW5nQm90dG9tXCIgXSxcblx0XHRoUHJvcHMgPSBbIFwiYm9yZGVyTGVmdFdpZHRoXCIsIFwiYm9yZGVyUmlnaHRXaWR0aFwiLCBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1JpZ2h0XCIgXSxcblxuXHRcdC8vIFNldCBvcHRpb25zXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRyZXN0b3JlID0gbW9kZSAhPT0gXCJlZmZlY3RcIixcblx0XHRzY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgXCJib3RoXCIsXG5cdFx0b3JpZ2luID0gb3B0aW9ucy5vcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF0sXG5cdFx0cG9zaXRpb24gPSBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0cG9zID0gZWxlbWVudC5wb3NpdGlvbigpLFxuXHRcdG9yaWdpbmFsID0gJC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoIGVsZW1lbnQgKSxcblx0XHRmcm9tID0gb3B0aW9ucy5mcm9tIHx8IG9yaWdpbmFsLFxuXHRcdHRvID0gb3B0aW9ucy50byB8fCAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWxlbWVudCwgMCApO1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGlmICggbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0dGVtcCA9IGZyb207XG5cdFx0ZnJvbSA9IHRvO1xuXHRcdHRvID0gdGVtcDtcblx0fVxuXG5cdC8vIFNldCBzY2FsaW5nIGZhY3RvclxuXHRmYWN0b3IgPSB7XG5cdFx0ZnJvbToge1xuXHRcdFx0eTogZnJvbS5oZWlnaHQgLyBvcmlnaW5hbC5oZWlnaHQsXG5cdFx0XHR4OiBmcm9tLndpZHRoIC8gb3JpZ2luYWwud2lkdGhcblx0XHR9LFxuXHRcdHRvOiB7XG5cdFx0XHR5OiB0by5oZWlnaHQgLyBvcmlnaW5hbC5oZWlnaHQsXG5cdFx0XHR4OiB0by53aWR0aCAvIG9yaWdpbmFsLndpZHRoXG5cdFx0fVxuXHR9O1xuXG5cdC8vIFNjYWxlIHRoZSBjc3MgYm94XG5cdGlmICggc2NhbGUgPT09IFwiYm94XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRmcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgZnJvbSApO1xuXHRcdFx0dG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgdlByb3BzLCBmYWN0b3IudG8ueSwgdG8gKTtcblx0XHR9XG5cblx0XHQvLyBIb3Jpem9udGFsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0ZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCBoUHJvcHMsIGZhY3Rvci5mcm9tLngsIGZyb20gKTtcblx0XHRcdHRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGhQcm9wcywgZmFjdG9yLnRvLngsIHRvICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2NhbGUgdGhlIGNvbnRlbnRcblx0aWYgKCBzY2FsZSA9PT0gXCJjb250ZW50XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRmcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGNQcm9wcywgZmFjdG9yLmZyb20ueSwgZnJvbSApO1xuXHRcdFx0dG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgY1Byb3BzLCBmYWN0b3IudG8ueSwgdG8gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBBZGp1c3QgdGhlIHBvc2l0aW9uIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG9yaWdpbiBwb2ludHNcblx0aWYgKCBvcmlnaW4gKSB7XG5cdFx0YmFzZWxpbmUgPSAkLmVmZmVjdHMuZ2V0QmFzZWxpbmUoIG9yaWdpbiwgb3JpZ2luYWwgKTtcblx0XHRmcm9tLnRvcCA9ICggb3JpZ2luYWwub3V0ZXJIZWlnaHQgLSBmcm9tLm91dGVySGVpZ2h0ICkgKiBiYXNlbGluZS55ICsgcG9zLnRvcDtcblx0XHRmcm9tLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSBmcm9tLm91dGVyV2lkdGggKSAqIGJhc2VsaW5lLnggKyBwb3MubGVmdDtcblx0XHR0by50b3AgPSAoIG9yaWdpbmFsLm91dGVySGVpZ2h0IC0gdG8ub3V0ZXJIZWlnaHQgKSAqIGJhc2VsaW5lLnkgKyBwb3MudG9wO1xuXHRcdHRvLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSB0by5vdXRlcldpZHRoICkgKiBiYXNlbGluZS54ICsgcG9zLmxlZnQ7XG5cdH1cblx0ZWxlbWVudC5jc3MoIGZyb20gKTtcblxuXHQvLyBBbmltYXRlIHRoZSBjaGlsZHJlbiBpZiBkZXNpcmVkXG5cdGlmICggc2NhbGUgPT09IFwiY29udGVudFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHtcblxuXHRcdHZQcm9wcyA9IHZQcm9wcy5jb25jYXQoIFsgXCJtYXJnaW5Ub3BcIiwgXCJtYXJnaW5Cb3R0b21cIiBdICkuY29uY2F0KCBjUHJvcHMgKTtcblx0XHRoUHJvcHMgPSBoUHJvcHMuY29uY2F0KCBbIFwibWFyZ2luTGVmdFwiLCBcIm1hcmdpblJpZ2h0XCIgXSApO1xuXG5cdFx0Ly8gT25seSBhbmltYXRlIGNoaWxkcmVuIHdpdGggd2lkdGggYXR0cmlidXRlcyBzcGVjaWZpZWRcblx0XHQvLyBUT0RPOiBpcyB0aGlzIHJpZ2h0PyBzaG91bGQgd2UgaW5jbHVkZSBhbnl0aGluZyB3aXRoIGNzcyB3aWR0aCBzcGVjaWZpZWQgYXMgd2VsbFxuXHRcdGVsZW1lbnQuZmluZCggXCIqW3dpZHRoXVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2hpbGQgPSAkKCB0aGlzICksXG5cdFx0XHRcdGNoaWxkT3JpZ2luYWwgPSAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggY2hpbGQgKSxcblx0XHRcdFx0Y2hpbGRGcm9tID0ge1xuXHRcdFx0XHRcdGhlaWdodDogY2hpbGRPcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IuZnJvbS55LFxuXHRcdFx0XHRcdHdpZHRoOiBjaGlsZE9yaWdpbmFsLndpZHRoICogZmFjdG9yLmZyb20ueCxcblx0XHRcdFx0XHRvdXRlckhlaWdodDogY2hpbGRPcmlnaW5hbC5vdXRlckhlaWdodCAqIGZhY3Rvci5mcm9tLnksXG5cdFx0XHRcdFx0b3V0ZXJXaWR0aDogY2hpbGRPcmlnaW5hbC5vdXRlcldpZHRoICogZmFjdG9yLmZyb20ueFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjaGlsZFRvID0ge1xuXHRcdFx0XHRcdGhlaWdodDogY2hpbGRPcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IudG8ueSxcblx0XHRcdFx0XHR3aWR0aDogY2hpbGRPcmlnaW5hbC53aWR0aCAqIGZhY3Rvci50by54LFxuXHRcdFx0XHRcdG91dGVySGVpZ2h0OiBjaGlsZE9yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci50by55LFxuXHRcdFx0XHRcdG91dGVyV2lkdGg6IGNoaWxkT3JpZ2luYWwud2lkdGggKiBmYWN0b3IudG8ueFxuXHRcdFx0XHR9O1xuXG5cdFx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0XHRpZiAoIGZhY3Rvci5mcm9tLnkgIT09IGZhY3Rvci50by55ICkge1xuXHRcdFx0XHRjaGlsZEZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgY2hpbGRGcm9tICk7XG5cdFx0XHRcdGNoaWxkVG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIHZQcm9wcywgZmFjdG9yLnRvLnksIGNoaWxkVG8gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9yaXpvbnRhbCBwcm9wcyBzY2FsaW5nXG5cdFx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0XHRjaGlsZEZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLmZyb20ueCwgY2hpbGRGcm9tICk7XG5cdFx0XHRcdGNoaWxkVG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLnRvLngsIGNoaWxkVG8gKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCByZXN0b3JlICkge1xuXHRcdFx0XHQkLmVmZmVjdHMuc2F2ZVN0eWxlKCBjaGlsZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBbmltYXRlIGNoaWxkcmVuXG5cdFx0XHRjaGlsZC5jc3MoIGNoaWxkRnJvbSApO1xuXHRcdFx0Y2hpbGQuYW5pbWF0ZSggY2hpbGRUbywgb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgY2hpbGRyZW5cblx0XHRcdFx0aWYgKCByZXN0b3JlICkge1xuXHRcdFx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlU3R5bGUoIGNoaWxkICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnQuYW5pbWF0ZSggdG8sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBvZmZzZXQgPSBlbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0XHRpZiAoIHRvLm9wYWNpdHkgPT09IDAgKSB7XG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcIm9wYWNpdHlcIiwgZnJvbS5vcGFjaXR5ICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXJlc3RvcmUgKSB7XG5cdFx0XHRcdGVsZW1lbnRcblx0XHRcdFx0XHQuY3NzKCBcInBvc2l0aW9uXCIsIHBvc2l0aW9uID09PSBcInN0YXRpY1wiID8gXCJyZWxhdGl2ZVwiIDogcG9zaXRpb24gKVxuXHRcdFx0XHRcdC5vZmZzZXQoIG9mZnNldCApO1xuXG5cdFx0XHRcdC8vIE5lZWQgdG8gc2F2ZSBzdHlsZSBoZXJlIHNvIHRoYXQgYXV0b21hdGljIHN0eWxlIHJlc3RvcmF0aW9uXG5cdFx0XHRcdC8vIGRvZXNuJ3QgcmVzdG9yZSB0byB0aGUgb3JpZ2luYWwgc3R5bGVzIGZyb20gYmVmb3JlIHRoZSBhbmltYXRpb24uXG5cdFx0XHRcdCQuZWZmZWN0cy5zYXZlU3R5bGUoIGVsZW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZG9uZSgpO1xuXHRcdH1cblx0fSApO1xuXG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTbGlkZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2xpZGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogU2xpZGVzIGFuIGVsZW1lbnQgaW4gYW5kIG91dCBvZiB0aGUgdmlld3BvcnQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInNsaWRlXCIsIFwic2hvd1wiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHN0YXJ0Q2xpcCwgc3RhcnRSZWYsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtYXAgPSB7XG5cdFx0XHR1cDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHRkb3duOiBbIFwidG9wXCIsIFwiYm90dG9tXCIgXSxcblx0XHRcdGxlZnQ6IFsgXCJyaWdodFwiLCBcImxlZnRcIiBdLFxuXHRcdFx0cmlnaHQ6IFsgXCJsZWZ0XCIsIFwicmlnaHRcIiBdXG5cdFx0fSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0ZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlIHx8XG5cdFx0XHRlbGVtZW50WyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCB0cnVlICksXG5cdFx0YW5pbWF0aW9uID0ge307XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKCBlbGVtZW50ICk7XG5cblx0c3RhcnRDbGlwID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdHN0YXJ0UmVmID0gZWxlbWVudC5wb3NpdGlvbigpWyByZWYgXTtcblxuXHQvLyBEZWZpbmUgaGlkZSBhbmltYXRpb25cblx0YW5pbWF0aW9uWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyAtMSA6IDEgKSAqIGRpc3RhbmNlICsgc3RhcnRSZWY7XG5cdGFuaW1hdGlvbi5jbGlwID0gZWxlbWVudC5jc3NDbGlwKCk7XG5cdGFuaW1hdGlvbi5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAxIF0gXSA9IGFuaW1hdGlvbi5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAwIF0gXTtcblxuXHQvLyBSZXZlcnNlIHRoZSBhbmltYXRpb24gaWYgd2UncmUgc2hvd2luZ1xuXHRpZiAoIG1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdGVsZW1lbnQuY3NzQ2xpcCggYW5pbWF0aW9uLmNsaXAgKTtcblx0XHRlbGVtZW50LmNzcyggcmVmLCBhbmltYXRpb25bIHJlZiBdICk7XG5cdFx0YW5pbWF0aW9uLmNsaXAgPSBzdGFydENsaXA7XG5cdFx0YW5pbWF0aW9uWyByZWYgXSA9IHN0YXJ0UmVmO1xuXHR9XG5cblx0Ly8gQWN0dWFsbHkgYW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBkb25lXG5cdH0gKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFRyYW5zZmVyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBUcmFuc2ZlciBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBhIHRyYW5zZmVyIGVmZmVjdCBmcm9tIG9uZSBlbGVtZW50IHRvIGFub3RoZXIuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdHJhbnNmZXItZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciBlZmZlY3Q7XG5pZiAoICQudWlCYWNrQ29tcGF0ICE9PSBmYWxzZSApIHtcblx0ZWZmZWN0ID0gJC5lZmZlY3RzLmRlZmluZSggXCJ0cmFuc2ZlclwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0XHQkKCB0aGlzICkudHJhbnNmZXIoIG9wdGlvbnMsIGRvbmUgKTtcblx0fSApO1xufVxucmV0dXJuIGVmZmVjdDtcblxufSApICk7XG4iLCIoIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5cbi8vIFRoaXMgZmlsZSBpcyBkZXByZWNhdGVkXG5yZXR1cm4gJC51aS5pZSA9ICEhL21zaWUgW1xcdy5dKy8uZXhlYyggbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpICk7XG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEtleWNvZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEtleWNvZGVcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBQcm92aWRlIGtleWNvZGVzIGFzIGtleW5hbWVzXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20valF1ZXJ5LnVpLmtleUNvZGUvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0gKCBmdW5jdGlvbiggJCApIHtcbnJldHVybiAkLnVpLmtleUNvZGUgPSB7XG5cdEJBQ0tTUEFDRTogOCxcblx0Q09NTUE6IDE4OCxcblx0REVMRVRFOiA0Nixcblx0RE9XTjogNDAsXG5cdEVORDogMzUsXG5cdEVOVEVSOiAxMyxcblx0RVNDQVBFOiAyNyxcblx0SE9NRTogMzYsXG5cdExFRlQ6IDM3LFxuXHRQQUdFX0RPV046IDM0LFxuXHRQQUdFX1VQOiAzMyxcblx0UEVSSU9EOiAxOTAsXG5cdFJJR0hUOiAzOSxcblx0U1BBQ0U6IDMyLFxuXHRUQUI6IDksXG5cdFVQOiAzOFxufTtcblxufSApICk7XG4iLCIoIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5cbiQudWkgPSAkLnVpIHx8IHt9O1xuXG5yZXR1cm4gJC51aS52ZXJzaW9uID0gXCIxLjEyLjFcIjtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBXaWRnZXQgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFdpZGdldFxuLy8+Pmdyb3VwOiBDb3JlXG4vLz4+ZGVzY3JpcHRpb246IFByb3ZpZGVzIGEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgc3RhdGVmdWwgd2lkZ2V0cyB3aXRoIGEgY29tbW9uIEFQSS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3dpZGdldC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciB3aWRnZXRVdWlkID0gMDtcbnZhciB3aWRnZXRTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBldmVudHMsIGVsZW0sIGk7XG5cdFx0Zm9yICggaSA9IDA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHR0cnkge1xuXG5cdFx0XHRcdC8vIE9ubHkgdHJpZ2dlciByZW1vdmUgd2hlbiBuZWNlc3NhcnkgdG8gc2F2ZSB0aW1lXG5cdFx0XHRcdGV2ZW50cyA9ICQuX2RhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcblx0XHRcdFx0aWYgKCBldmVudHMgJiYgZXZlbnRzLnJlbW92ZSApIHtcblx0XHRcdFx0XHQkKCBlbGVtICkudHJpZ2dlckhhbmRsZXIoIFwicmVtb3ZlXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIdHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MjM1XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0fVxuXHRcdG9yaWcoIGVsZW1zICk7XG5cdH07XG59ICkoICQuY2xlYW5EYXRhICk7XG5cbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblx0dmFyIGV4aXN0aW5nQ29uc3RydWN0b3IsIGNvbnN0cnVjdG9yLCBiYXNlUHJvdG90eXBlO1xuXG5cdC8vIFByb3hpZWRQcm90b3R5cGUgYWxsb3dzIHRoZSBwcm92aWRlZCBwcm90b3R5cGUgdG8gcmVtYWluIHVubW9kaWZpZWRcblx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3Nilcblx0dmFyIHByb3hpZWRQcm90b3R5cGUgPSB7fTtcblxuXHR2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMCBdO1xuXHRuYW1lID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMSBdO1xuXHR2YXIgZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyBcIi1cIiArIG5hbWU7XG5cblx0aWYgKCAhcHJvdG90eXBlICkge1xuXHRcdHByb3RvdHlwZSA9IGJhc2U7XG5cdFx0YmFzZSA9ICQuV2lkZ2V0O1xuXHR9XG5cblx0aWYgKCAkLmlzQXJyYXkoIHByb3RvdHlwZSApICkge1xuXHRcdHByb3RvdHlwZSA9ICQuZXh0ZW5kLmFwcGx5KCBudWxsLCBbIHt9IF0uY29uY2F0KCBwcm90b3R5cGUgKSApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW5cblx0JC5leHByWyBcIjpcIiBdWyBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpIF0gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGZ1bGxOYW1lICk7XG5cdH07XG5cblx0JFsgbmFtZXNwYWNlIF0gPSAkWyBuYW1lc3BhY2UgXSB8fCB7fTtcblx0ZXhpc3RpbmdDb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF07XG5cdGNvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IFwibmV3XCIga2V5d29yZFxuXHRcdGlmICggIXRoaXMuX2NyZWF0ZVdpZGdldCApIHtcblx0XHRcdHJldHVybiBuZXcgY29uc3RydWN0b3IoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgaW5pdGlhbGl6aW5nIGZvciBzaW1wbGUgaW5oZXJpdGFuY2Vcblx0XHQvLyBtdXN0IHVzZSBcIm5ld1wiIGtleXdvcmQgKHRoZSBjb2RlIGFib3ZlIGFsd2F5cyBwYXNzZXMgYXJncylcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9jcmVhdGVXaWRnZXQoIG9wdGlvbnMsIGVsZW1lbnQgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gRXh0ZW5kIHdpdGggdGhlIGV4aXN0aW5nIGNvbnN0cnVjdG9yIHRvIGNhcnJ5IG92ZXIgYW55IHN0YXRpYyBwcm9wZXJ0aWVzXG5cdCQuZXh0ZW5kKCBjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxuXG5cdFx0Ly8gQ29weSB0aGUgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBwcm90b3R5cGUgaW4gY2FzZSB3ZSBuZWVkIHRvXG5cdFx0Ly8gcmVkZWZpbmUgdGhlIHdpZGdldCBsYXRlclxuXHRcdF9wcm90bzogJC5leHRlbmQoIHt9LCBwcm90b3R5cGUgKSxcblxuXHRcdC8vIFRyYWNrIHdpZGdldHMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyB3aWRnZXQgaW4gY2FzZSB0aGlzIHdpZGdldCBpc1xuXHRcdC8vIHJlZGVmaW5lZCBhZnRlciBhIHdpZGdldCBpbmhlcml0cyBmcm9tIGl0XG5cdFx0X2NoaWxkQ29uc3RydWN0b3JzOiBbXVxuXHR9ICk7XG5cblx0YmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7XG5cblx0Ly8gV2UgbmVlZCB0byBtYWtlIHRoZSBvcHRpb25zIGhhc2ggYSBwcm9wZXJ0eSBkaXJlY3RseSBvbiB0aGUgbmV3IGluc3RhbmNlXG5cdC8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmVcblx0Ly8gaW5oZXJpdGluZyBmcm9tXG5cdGJhc2VQcm90b3R5cGUub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sIGJhc2VQcm90b3R5cGUub3B0aW9ucyApO1xuXHQkLmVhY2goIHByb3RvdHlwZSwgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdGlmICggISQuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZnVuY3Rpb24gX3N1cGVyKCkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIF9zdXBlckFwcGx5KCBhcmdzICkge1xuXHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBfX3N1cGVyID0gdGhpcy5fc3VwZXI7XG5cdFx0XHRcdHZhciBfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5O1xuXHRcdFx0XHR2YXIgcmV0dXJuVmFsdWU7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9fc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fTtcblx0XHR9ICkoKTtcblx0fSApO1xuXHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLndpZGdldC5leHRlbmQoIGJhc2VQcm90b3R5cGUsIHtcblxuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/ICggYmFzZVByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lICkgOiBuYW1lXG5cdH0sIHByb3hpZWRQcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsXG5cdFx0d2lkZ2V0TmFtZTogbmFtZSxcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcblx0fSApO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gUmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLFxuXHRcdFx0XHRjaGlsZC5fcHJvdG8gKTtcblx0XHR9ICk7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldFNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHR2YXIgaW5wdXRJbmRleCA9IDA7XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGtleTtcblx0dmFyIHZhbHVlO1xuXG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCBpbnB1dFsgaW5wdXRJbmRleCBdLmhhc093blByb3BlcnR5KCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIENsb25lIG9iamVjdHNcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9ICQuaXNQbGFpbk9iamVjdCggdGFyZ2V0WyBrZXkgXSApID9cblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHRhcmdldFsga2V5IF0sIHZhbHVlICkgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBleHRlbmQgc3RyaW5ncywgYXJyYXlzLCBldGMuIHdpdGggb2JqZWN0c1xuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiO1xuXHRcdHZhciBhcmdzID0gd2lkZ2V0U2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICk7XG5cdFx0dmFyIHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGVtcHR5IGNvbGxlY3Rpb24sIHdlIG5lZWQgdG8gaGF2ZSB0aGUgaW5zdGFuY2UgbWV0aG9kXG5cdFx0XHQvLyByZXR1cm4gdW5kZWZpbmVkIGluc3RlYWQgb2YgdGhlIGpRdWVyeSBpbnN0YW5jZVxuXHRcdFx0aWYgKCAhdGhpcy5sZW5ndGggJiYgb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblxuXHRcdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICtcblx0XHRcdFx0XHRcdFx0XCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFx0XCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJ1wiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCBpbnN0YW5jZVsgb3B0aW9ucyBdICkgfHwgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gXCJfXCIgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgK1xuXHRcdFx0XHRcdFx0XHRcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggbWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlICYmIG1ldGhvZFZhbHVlLmpxdWVyeSA/XG5cdFx0XHRcdFx0XHRcdHJldHVyblZhbHVlLnB1c2hTdGFjayggbWV0aG9kVmFsdWUuZ2V0KCkgKSA6XG5cdFx0XHRcdFx0XHRcdG1ldGhvZFZhbHVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdFxuXHRcdFx0aWYgKCBhcmdzLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZC5hcHBseSggbnVsbCwgWyBvcHRpb25zIF0uY29uY2F0KCBhcmdzICkgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xuXHRcdFx0XHRpZiAoIGluc3RhbmNlICkge1xuXHRcdFx0XHRcdGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyB8fCB7fSApO1xuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UuX2luaXQgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5faW5pdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0KCBvcHRpb25zLCB0aGlzICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fTtcbn07XG5cbiQuV2lkZ2V0ID0gZnVuY3Rpb24oIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4kLldpZGdldC5wcm90b3R5cGUgPSB7XG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcIlwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8ZGl2PlwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRjbGFzc2VzOiB7fSxcblx0XHRkaXNhYmxlZDogZmFsc2UsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRjcmVhdGU6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblx0XHRlbGVtZW50ID0gJCggZWxlbWVudCB8fCB0aGlzLmRlZmF1bHRFbGVtZW50IHx8IHRoaXMgKVsgMCBdO1xuXHRcdHRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLnV1aWQgPSB3aWRnZXRVdWlkKys7XG5cdFx0dGhpcy5ldmVudE5hbWVzcGFjZSA9IFwiLlwiICsgdGhpcy53aWRnZXROYW1lICsgdGhpcy51dWlkO1xuXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoKTtcblx0XHR0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwID0ge307XG5cblx0XHRpZiAoIGVsZW1lbnQgIT09IHRoaXMgKSB7XG5cdFx0XHQkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUsIHRoaXMgKTtcblx0XHRcdHRoaXMuX29uKCB0cnVlLCB0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHRoaXMuZG9jdW1lbnQgPSAkKCBlbGVtZW50LnN0eWxlID9cblxuXHRcdFx0XHQvLyBFbGVtZW50IHdpdGhpbiB0aGUgZG9jdW1lbnRcblx0XHRcdFx0ZWxlbWVudC5vd25lckRvY3VtZW50IDpcblxuXHRcdFx0XHQvLyBFbGVtZW50IGlzIHdpbmRvdyBvciBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQgKTtcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFsgMCBdLmRlZmF1bHRWaWV3IHx8IHRoaXMuZG9jdW1lbnRbIDAgXS5wYXJlbnRXaW5kb3cgKTtcblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LFxuXHRcdFx0dGhpcy5vcHRpb25zLFxuXHRcdFx0dGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLFxuXHRcdFx0b3B0aW9ucyApO1xuXG5cdFx0dGhpcy5fY3JlYXRlKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR9XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImNyZWF0ZVwiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSApO1xuXHRcdHRoaXMuX2luaXQoKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVFdmVudERhdGE6ICQubm9vcCxcblxuXHRfY3JlYXRlOiAkLm5vb3AsXG5cblx0X2luaXQ6ICQubm9vcCxcblxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLl9kZXN0cm95KCk7XG5cdFx0JC5lYWNoKCB0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdHRoYXQuX3JlbW92ZUNsYXNzKCB2YWx1ZSwga2V5ICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gV2UgY2FuIHByb2JhYmx5IHJlbW92ZSB0aGUgdW5iaW5kIGNhbGxzIGluIDIuMFxuXHRcdC8vIGFsbCBldmVudCBiaW5kaW5ncyBzaG91bGQgZ28gdGhyb3VnaCB0aGlzLl9vbigpXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVEYXRhKCB0aGlzLndpZGdldEZ1bGxOYW1lICk7XG5cdFx0dGhpcy53aWRnZXQoKVxuXHRcdFx0Lm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKTtcblxuXHRcdC8vIENsZWFuIHVwIGV2ZW50cyBhbmQgc3RhdGVzXG5cdFx0dGhpcy5iaW5kaW5ncy5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblx0fSxcblxuXHRfZGVzdHJveTogJC5ub29wLFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcblx0fSxcblxuXHRvcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBvcHRpb25zID0ga2V5O1xuXHRcdHZhciBwYXJ0cztcblx0XHR2YXIgY3VyT3B0aW9uO1xuXHRcdHZhciBpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXG5cdFx0XHQvLyBEb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2hcblx0XHRcdHJldHVybiAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vIEhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0XHRwYXJ0cyA9IGtleS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y3VyT3B0aW9uID0gb3B0aW9uc1sga2V5IF0gPSAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnNbIGtleSBdICk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XG5cdFx0XHRcdFx0Y3VyT3B0aW9uID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VyT3B0aW9uWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvblsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyT3B0aW9uWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yICgga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb24oIGtleSwgb3B0aW9uc1sga2V5IF0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJjbGFzc2VzXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25DbGFzc2VzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uQ2xhc3NlczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc0tleSwgZWxlbWVudHMsIGN1cnJlbnRFbGVtZW50cztcblxuXHRcdGZvciAoIGNsYXNzS2V5IGluIHZhbHVlICkge1xuXHRcdFx0Y3VycmVudEVsZW1lbnRzID0gdGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cFsgY2xhc3NLZXkgXTtcblx0XHRcdGlmICggdmFsdWVbIGNsYXNzS2V5IF0gPT09IHRoaXMub3B0aW9ucy5jbGFzc2VzWyBjbGFzc0tleSBdIHx8XG5cdFx0XHRcdFx0IWN1cnJlbnRFbGVtZW50cyB8fFxuXHRcdFx0XHRcdCFjdXJyZW50RWxlbWVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UgYXJlIGRvaW5nIHRoaXMgdG8gY3JlYXRlIGEgbmV3IGpRdWVyeSBvYmplY3QgYmVjYXVzZSB0aGUgX3JlbW92ZUNsYXNzKCkgY2FsbFxuXHRcdFx0Ly8gb24gdGhlIG5leHQgbGluZSBpcyBnb2luZyB0byBkZXN0cm95IHRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgZWxlbWVudHMgYmVpbmdcblx0XHRcdC8vIHRyYWNrZWQuIFdlIG5lZWQgdG8gc2F2ZSBhIGNvcHkgb2YgdGhpcyBjb2xsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIGFkZCB0aGUgbmV3IGNsYXNzZXNcblx0XHRcdC8vIGJlbG93LlxuXHRcdFx0ZWxlbWVudHMgPSAkKCBjdXJyZW50RWxlbWVudHMuZ2V0KCkgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBjdXJyZW50RWxlbWVudHMsIGNsYXNzS2V5ICk7XG5cblx0XHRcdC8vIFdlIGRvbid0IHVzZSBfYWRkQ2xhc3MoKSBoZXJlLCBiZWNhdXNlIHRoYXQgdXNlcyB0aGlzLm9wdGlvbnMuY2xhc3Nlc1xuXHRcdFx0Ly8gZm9yIGdlbmVyYXRpbmcgdGhlIHN0cmluZyBvZiBjbGFzc2VzLiBXZSB3YW50IHRvIHVzZSB0aGUgdmFsdWUgcGFzc2VkIGluIGZyb21cblx0XHRcdC8vIF9zZXRPcHRpb24oKSwgdGhpcyBpcyB0aGUgbmV3IHZhbHVlIG9mIHRoZSBjbGFzc2VzIG9wdGlvbiB3aGljaCB3YXMgcGFzc2VkIHRvXG5cdFx0XHQvLyBfc2V0T3B0aW9uKCkuIFdlIHBhc3MgdGhpcyB2YWx1ZSBkaXJlY3RseSB0byBfY2xhc3NlcygpLlxuXHRcdFx0ZWxlbWVudHMuYWRkQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIHtcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudHMsXG5cdFx0XHRcdGtleXM6IGNsYXNzS2V5LFxuXHRcdFx0XHRjbGFzc2VzOiB2YWx1ZSxcblx0XHRcdFx0YWRkOiB0cnVlXG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIHRoaXMud2lkZ2V0KCksIHRoaXMud2lkZ2V0RnVsbE5hbWUgKyBcIi1kaXNhYmxlZFwiLCBudWxsLCAhIXZhbHVlICk7XG5cblx0XHQvLyBJZiB0aGUgd2lkZ2V0IGlzIGJlY29taW5nIGRpc2FibGVkLCB0aGVuIG5vdGhpbmcgaXMgaW50ZXJhY3RpdmVcblx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaG92ZXJhYmxlLCBudWxsLCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmZvY3VzYWJsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGVuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoIHsgZGlzYWJsZWQ6IGZhbHNlIH0gKTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyggeyBkaXNhYmxlZDogdHJ1ZSB9ICk7XG5cdH0sXG5cblx0X2NsYXNzZXM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBmdWxsID0gW107XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRjbGFzc2VzOiB0aGlzLm9wdGlvbnMuY2xhc3NlcyB8fCB7fVxuXHRcdH0sIG9wdGlvbnMgKTtcblxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NDbGFzc1N0cmluZyggY2xhc3NlcywgY2hlY2tPcHRpb24gKSB7XG5cdFx0XHR2YXIgY3VycmVudCwgaTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0Y3VycmVudCA9IHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdIHx8ICQoKTtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmFkZCApIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gJCggJC51bmlxdWUoIGN1cnJlbnQuZ2V0KCkuY29uY2F0KCBvcHRpb25zLmVsZW1lbnQuZ2V0KCkgKSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudCA9ICQoIGN1cnJlbnQubm90KCBvcHRpb25zLmVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzZXNbIGkgXSBdID0gY3VycmVudDtcblx0XHRcdFx0ZnVsbC5wdXNoKCBjbGFzc2VzWyBpIF0gKTtcblx0XHRcdFx0aWYgKCBjaGVja09wdGlvbiAmJiBvcHRpb25zLmNsYXNzZXNbIGNsYXNzZXNbIGkgXSBdICkge1xuXHRcdFx0XHRcdGZ1bGwucHVzaCggb3B0aW9ucy5jbGFzc2VzWyBjbGFzc2VzWyBpIF0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fb24oIG9wdGlvbnMuZWxlbWVudCwge1xuXHRcdFx0XCJyZW1vdmVcIjogXCJfdW50cmFja0NsYXNzZXNFbGVtZW50XCJcblx0XHR9ICk7XG5cblx0XHRpZiAoIG9wdGlvbnMua2V5cyApIHtcblx0XHRcdHByb2Nlc3NDbGFzc1N0cmluZyggb3B0aW9ucy5rZXlzLm1hdGNoKCAvXFxTKy9nICkgfHwgW10sIHRydWUgKTtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmV4dHJhICkge1xuXHRcdFx0cHJvY2Vzc0NsYXNzU3RyaW5nKCBvcHRpb25zLmV4dHJhLm1hdGNoKCAvXFxTKy9nICkgfHwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZnVsbC5qb2luKCBcIiBcIiApO1xuXHR9LFxuXG5cdF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0JC5lYWNoKCB0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdGlmICggJC5pbkFycmF5KCBldmVudC50YXJnZXQsIHZhbHVlICkgIT09IC0xICkge1xuXHRcdFx0XHR0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBrZXkgXSA9ICQoIHZhbHVlLm5vdCggZXZlbnQudGFyZ2V0ICkuZ2V0KCkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X3JlbW92ZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgZmFsc2UgKTtcblx0fSxcblxuXHRfYWRkQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBrZXlzLCBleHRyYSApIHtcblx0XHRyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3MoIGVsZW1lbnQsIGtleXMsIGV4dHJhLCB0cnVlICk7XG5cdH0sXG5cblx0X3RvZ2dsZUNsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEsIGFkZCApIHtcblx0XHRhZGQgPSAoIHR5cGVvZiBhZGQgPT09IFwiYm9vbGVhblwiICkgPyBhZGQgOiBleHRyYTtcblx0XHR2YXIgc2hpZnQgPSAoIHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiIHx8IGVsZW1lbnQgPT09IG51bGwgKSxcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdGV4dHJhOiBzaGlmdCA/IGtleXMgOiBleHRyYSxcblx0XHRcdFx0a2V5czogc2hpZnQgPyBlbGVtZW50IDoga2V5cyxcblx0XHRcdFx0ZWxlbWVudDogc2hpZnQgPyB0aGlzLmVsZW1lbnQgOiBlbGVtZW50LFxuXHRcdFx0XHRhZGQ6IGFkZFxuXHRcdFx0fTtcblx0XHRvcHRpb25zLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIHRoaXMuX2NsYXNzZXMoIG9wdGlvbnMgKSwgYWRkICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X29uOiBmdW5jdGlvbiggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCBlbGVtZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgZGVsZWdhdGVFbGVtZW50O1xuXHRcdHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cblx0XHQvLyBObyBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgZmxhZywgc2h1ZmZsZSBhcmd1bWVudHNcblx0XHRpZiAoIHR5cGVvZiBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgIT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHN1cHByZXNzRGlzYWJsZWRDaGVjaztcblx0XHRcdHN1cHByZXNzRGlzYWJsZWRDaGVjayA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIE5vIGVsZW1lbnQgYXJndW1lbnQsIHNodWZmbGUgYW5kIHVzZSB0aGlzLmVsZW1lbnRcblx0XHRpZiAoICFoYW5kbGVycyApIHtcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHRkZWxlZ2F0ZUVsZW1lbnQgPSB0aGlzLndpZGdldCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50ID0gZGVsZWdhdGVFbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdFx0dGhpcy5iaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MuYWRkKCBlbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0JC5lYWNoKCBoYW5kbGVycywgZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVyICkge1xuXHRcdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXG5cdFx0XHRcdC8vIEFsbG93IHdpZGdldHMgdG8gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGNsYXNzIGFzIG1ldGhvZCBmb3IgZGlzYWJsaW5nIGluZGl2aWR1YWwgcGFydHNcblx0XHRcdFx0aWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdFx0LmFwcGx5KCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvcHkgdGhlIGd1aWQgc28gZGlyZWN0IHVuYmluZGluZyB3b3Jrc1xuXHRcdFx0aWYgKCB0eXBlb2YgaGFuZGxlciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0aGFuZGxlclByb3h5Lmd1aWQgPSBoYW5kbGVyLmd1aWQgPVxuXHRcdFx0XHRcdGhhbmRsZXIuZ3VpZCB8fCBoYW5kbGVyUHJveHkuZ3VpZCB8fCAkLmd1aWQrKztcblx0XHRcdH1cblxuXHRcdFx0dmFyIG1hdGNoID0gZXZlbnQubWF0Y2goIC9eKFtcXHc6LV0qKVxccyooLiopJC8gKTtcblx0XHRcdHZhciBldmVudE5hbWUgPSBtYXRjaFsgMSBdICsgaW5zdGFuY2UuZXZlbnROYW1lc3BhY2U7XG5cdFx0XHR2YXIgc2VsZWN0b3IgPSBtYXRjaFsgMiBdO1xuXG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRkZWxlZ2F0ZUVsZW1lbnQub24oIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudC5vbiggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0X29mZjogZnVuY3Rpb24oIGVsZW1lbnQsIGV2ZW50TmFtZSApIHtcblx0XHRldmVudE5hbWUgPSAoIGV2ZW50TmFtZSB8fCBcIlwiICkuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgK1xuXHRcdFx0dGhpcy5ldmVudE5hbWVzcGFjZTtcblx0XHRlbGVtZW50Lm9mZiggZXZlbnROYW1lICkub2ZmKCBldmVudE5hbWUgKTtcblxuXHRcdC8vIENsZWFyIHRoZSBzdGFjayB0byBhdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHR0aGlzLmJpbmRpbmdzID0gJCggdGhpcy5iaW5kaW5ncy5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCggdGhpcy5mb2N1c2FibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoIHRoaXMuaG92ZXJhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdH0sXG5cblx0X2RlbGF5OiBmdW5jdGlvbiggaGFuZGxlciwgZGVsYXkgKSB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KCBoYW5kbGVyUHJveHksIGRlbGF5IHx8IDAgKTtcblx0fSxcblxuXHRfaG92ZXJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9mb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7XG5cdFx0dmFyIHByb3AsIG9yaWc7XG5cdFx0dmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07XG5cblx0XHRkYXRhID0gZGF0YSB8fCB7fTtcblx0XHRldmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XG5cdFx0ZXZlbnQudHlwZSA9ICggdHlwZSA9PT0gdGhpcy53aWRnZXRFdmVudFByZWZpeCA/XG5cdFx0XHR0eXBlIDpcblx0XHRcdHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIFRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIENvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXG5cdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcy5lbGVtZW50WyAwIF0sIFsgZXZlbnQgXS5jb25jYXQoIGRhdGEgKSApID09PSBmYWxzZSB8fFxuXHRcdFx0ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTtcblx0fVxufTtcblxuJC5lYWNoKCB7IHNob3c6IFwiZmFkZUluXCIsIGhpZGU6IFwiZmFkZU91dFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIGRlZmF1bHRFZmZlY3QgKSB7XG5cdCQuV2lkZ2V0LnByb3RvdHlwZVsgXCJfXCIgKyBtZXRob2QgXSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZWZmZWN0OiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0dmFyIGhhc09wdGlvbnM7XG5cdFx0dmFyIGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XG5cdFx0XHRtZXRob2QgOlxuXHRcdFx0b3B0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxuXHRcdFx0XHRvcHRpb25zLmVmZmVjdCB8fCBkZWZhdWx0RWZmZWN0O1xuXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG5cdFx0fVxuXG5cdFx0aGFzT3B0aW9ucyA9ICEkLmlzRW1wdHlPYmplY3QoIG9wdGlvbnMgKTtcblx0XHRvcHRpb25zLmNvbXBsZXRlID0gY2FsbGJhY2s7XG5cblx0XHRpZiAoIG9wdGlvbnMuZGVsYXkgKSB7XG5cdFx0XHRlbGVtZW50LmRlbGF5KCBvcHRpb25zLmRlbGF5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBoYXNPcHRpb25zICYmICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xuXHRcdH0gZWxzZSBpZiAoIGVmZmVjdE5hbWUgIT09IG1ldGhvZCAmJiBlbGVtZW50WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBlZmZlY3ROYW1lIF0oIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50LnF1ZXVlKCBmdW5jdGlvbiggbmV4dCApIHtcblx0XHRcdFx0JCggdGhpcyApWyBtZXRob2QgXSgpO1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGVsZW1lbnRbIDAgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbnJldHVybiAkLndpZGdldDtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBNb3VzZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogTW91c2Vcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBBYnN0cmFjdHMgbW91c2UtYmFzZWQgaW50ZXJhY3Rpb25zIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBjZXJ0YWluIHdpZGdldHMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbW91c2UvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi9pZVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG52YXIgbW91c2VIYW5kbGVkID0gZmFsc2U7XG4kKCBkb2N1bWVudCApLm9uKCBcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG5cdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkubW91c2VcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y2FuY2VsOiBcImlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QsIG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0Lm9uKCBcIm1vdXNlZG93bi5cIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VEb3duKCBldmVudCApO1xuXHRcdFx0fSApXG5cdFx0XHQub24oIFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICk7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5vZmYoIFwiLlwiICsgdGhpcy53aWRnZXROYW1lICk7XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApIHtcblx0XHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdFx0Lm9mZiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gZG9uJ3QgbGV0IG1vcmUgdGhhbiBvbmUgd2lkZ2V0IGhhbmRsZSBtb3VzZVN0YXJ0XG5cdFx0aWYgKCBtb3VzZUhhbmRsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VNb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gV2UgbWF5IGhhdmUgbWlzc2VkIG1vdXNldXAgKG91dCBvZiB3aW5kb3cpXG5cdFx0KCB0aGlzLl9tb3VzZVN0YXJ0ZWQgJiYgdGhpcy5fbW91c2VVcCggZXZlbnQgKSApO1xuXG5cdFx0dGhpcy5fbW91c2VEb3duRXZlbnQgPSBldmVudDtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGJ0bklzTGVmdCA9ICggZXZlbnQud2hpY2ggPT09IDEgKSxcblxuXHRcdFx0Ly8gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBJRSA4IHdpdGhcblx0XHRcdC8vIGRpc2FibGVkIGlucHV0cyAoIzc2MjApXG5cdFx0XHRlbElzQ2FuY2VsID0gKCB0eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgP1xuXHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCB0aGlzLm9wdGlvbnMuY2FuY2VsICkubGVuZ3RoIDogZmFsc2UgKTtcblx0XHRpZiAoICFidG5Jc0xlZnQgfHwgZWxJc0NhbmNlbCB8fCAhdGhpcy5fbW91c2VDYXB0dXJlKCBldmVudCApICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb3VzZURlbGF5TWV0ID0gIXRoaXMub3B0aW9ucy5kZWxheTtcblx0XHRpZiAoICF0aGlzLm1vdXNlRGVsYXlNZXQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5tb3VzZURlbGF5TWV0ID0gdHJ1ZTtcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEaXN0YW5jZU1ldCggZXZlbnQgKSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KCBldmVudCApICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gKCB0aGlzLl9tb3VzZVN0YXJ0KCBldmVudCApICE9PSBmYWxzZSApO1xuXHRcdFx0aWYgKCAhdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDbGljayBldmVudCBtYXkgbmV2ZXIgaGF2ZSBmaXJlZCAoR2Vja28gJiBPcGVyYSlcblx0XHRpZiAoIHRydWUgPT09ICQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiICkgKSB7XG5cdFx0XHQkLnJlbW92ZURhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFRoZXNlIGRlbGVnYXRlcyBhcmUgcmVxdWlyZWQgdG8ga2VlcCBjb250ZXh0XG5cdFx0dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VNb3ZlKCBldmVudCApO1xuXHRcdH07XG5cdFx0dGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vbiggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC5vbiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRtb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZU1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIE9ubHkgY2hlY2sgZm9yIG1vdXNldXBzIG91dHNpZGUgdGhlIGRvY3VtZW50IGlmIHlvdSd2ZSBtb3ZlZCBpbnNpZGUgdGhlIGRvY3VtZW50XG5cdFx0Ly8gYXQgbGVhc3Qgb25jZS4gVGhpcyBwcmV2ZW50cyB0aGUgZmlyaW5nIG9mIG1vdXNldXAgaW4gdGhlIGNhc2Ugb2YgSUU8OSwgd2hpY2ggd2lsbFxuXHRcdC8vIGZpcmUgYSBtb3VzZW1vdmUgZXZlbnQgaWYgY29udGVudCBpcyBwbGFjZWQgdW5kZXIgdGhlIGN1cnNvci4gU2VlICM3Nzc4XG5cdFx0Ly8gU3VwcG9ydDogSUUgPDlcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZWQgKSB7XG5cblx0XHRcdC8vIElFIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIGhhcHBlbmVkIHdoZW4gbW91c2Ugd2FzIG91dCBvZiB3aW5kb3dcblx0XHRcdGlmICggJC51aS5pZSAmJiAoICFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSApICYmXG5cdFx0XHRcdFx0IWV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cblx0XHRcdC8vIElmcmFtZSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBvY2N1cnJlZCBpbiBhbm90aGVyIGRvY3VtZW50XG5cdFx0XHR9IGVsc2UgaWYgKCAhZXZlbnQud2hpY2ggKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9OCAtIDlcblx0XHRcdFx0Ly8gU2FmYXJpIHNldHMgd2hpY2ggdG8gMCBpZiB5b3UgcHJlc3MgYW55IG9mIHRoZSBmb2xsb3dpbmcga2V5c1xuXHRcdFx0XHQvLyBkdXJpbmcgYSBkcmFnICgjMTQ0NjEpXG5cdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5jdHJsS2V5IHx8XG5cdFx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5zaGlmdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcCggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0dGhpcy5fbW91c2VNb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoIGV2ZW50ICkgJiYgdGhpcy5fbW91c2VEZWxheU1ldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9XG5cdFx0XHRcdCggdGhpcy5fbW91c2VTdGFydCggdGhpcy5fbW91c2VEb3duRXZlbnQsIGV2ZW50ICkgIT09IGZhbHNlICk7XG5cdFx0XHQoIHRoaXMuX21vdXNlU3RhcnRlZCA/IHRoaXMuX21vdXNlRHJhZyggZXZlbnQgKSA6IHRoaXMuX21vdXNlVXAoIGV2ZW50ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gIXRoaXMuX21vdXNlU3RhcnRlZDtcblx0fSxcblxuXHRfbW91c2VVcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5vZmYoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQub2ZmKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZVN0YXJ0ZWQgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IHRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCApIHtcblx0XHRcdFx0JC5kYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbW91c2VTdG9wKCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VEZWxheVRpbWVyICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLl9tb3VzZURlbGF5VGltZXIgKTtcblx0XHRcdGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXI7XG5cdFx0fVxuXG5cdFx0dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggPSBmYWxzZTtcblx0XHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9LFxuXG5cdF9tb3VzZURpc3RhbmNlTWV0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0cmV0dXJuICggTWF0aC5tYXgoXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWCAtIGV2ZW50LnBhZ2VYICksXG5cdFx0XHRcdE1hdGguYWJzKCB0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWSAtIGV2ZW50LnBhZ2VZIClcblx0XHRcdCkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlXG5cdFx0KTtcblx0fSxcblxuXHRfbW91c2VEZWxheU1ldDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlRGVsYXlNZXQ7XG5cdH0sXG5cblx0Ly8gVGhlc2UgYXJlIHBsYWNlaG9sZGVyIG1ldGhvZHMsIHRvIGJlIG92ZXJyaWRlbiBieSBleHRlbmRpbmcgcGx1Z2luXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7IHJldHVybiB0cnVlOyB9XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgU2xpZGVyIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBTbGlkZXJcbi8vPj5ncm91cDogV2lkZ2V0c1xuLy8+PmRlc2NyaXB0aW9uOiBEaXNwbGF5cyBhIGZsZXhpYmxlIHNsaWRlciB3aXRoIHJhbmdlcyBhbmQgYWNjZXNzaWJpbGl0eSB2aWEga2V5Ym9hcmQuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGVyL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL3NsaWRlci9cbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9jb3JlLmNzc1xuLy8+PmNzcy5zdHJ1Y3R1cmU6IC4uLy4uL3RoZW1lcy9iYXNlL3NsaWRlci5jc3Ncbi8vPj5jc3MudGhlbWU6IC4uLy4uL3RoZW1lcy9iYXNlL3RoZW1lLmNzc1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi9tb3VzZVwiLFxuXHRcdFx0XCIuLi9rZXljb2RlXCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vd2lkZ2V0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLndpZGdldCggXCJ1aS5zbGlkZXJcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzbGlkZVwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRhbmltYXRlOiBmYWxzZSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcInVpLXNsaWRlclwiOiBcInVpLWNvcm5lci1hbGxcIixcblx0XHRcdFwidWktc2xpZGVyLWhhbmRsZVwiOiBcInVpLWNvcm5lci1hbGxcIixcblxuXHRcdFx0Ly8gTm90ZTogdWktd2lkZ2V0LWhlYWRlciBpc24ndCB0aGUgbW9zdCBmaXR0aW5nbHkgc2VtYW50aWMgZnJhbWV3b3JrIGNsYXNzIGZvciB0aGlzXG5cdFx0XHQvLyBlbGVtZW50LCBidXQgd29ya2VkIGJlc3QgdmlzdWFsbHkgd2l0aCBhIHZhcmlldHkgb2YgdGhlbWVzXG5cdFx0XHRcInVpLXNsaWRlci1yYW5nZVwiOiBcInVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LWhlYWRlclwiXG5cdFx0fSxcblx0XHRkaXN0YW5jZTogMCxcblx0XHRtYXg6IDEwMCxcblx0XHRtaW46IDAsXG5cdFx0b3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuXHRcdHJhbmdlOiBmYWxzZSxcblx0XHRzdGVwOiAxLFxuXHRcdHZhbHVlOiAwLFxuXHRcdHZhbHVlczogbnVsbCxcblxuXHRcdC8vIENhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRzbGlkZTogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0Ly8gTnVtYmVyIG9mIHBhZ2VzIGluIGEgc2xpZGVyXG5cdC8vIChob3cgbWFueSB0aW1lcyBjYW4geW91IHBhZ2UgdXAvZG93biB0byBnbyB0aHJvdWdoIHRoZSB3aG9sZSByYW5nZSlcblx0bnVtUGFnZXM6IDUsXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fa2V5U2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gbnVsbDtcblx0XHR0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO1xuXHRcdHRoaXMuX21vdXNlSW5pdCgpO1xuXHRcdHRoaXMuX2NhbGN1bGF0ZU5ld01heCgpO1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIFwidWktc2xpZGVyIHVpLXNsaWRlci1cIiArIHRoaXMub3JpZW50YXRpb24sXG5cdFx0XHRcInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiICk7XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2NyZWF0ZVJhbmdlKCk7XG5cdFx0dGhpcy5fY3JlYXRlSGFuZGxlcygpO1xuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X2NyZWF0ZUhhbmRsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpLCBoYW5kbGVDb3VudCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRleGlzdGluZ0hhbmRsZXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktc2xpZGVyLWhhbmRsZVwiICksXG5cdFx0XHRoYW5kbGUgPSBcIjxzcGFuIHRhYmluZGV4PScwJz48L3NwYW4+XCIsXG5cdFx0XHRoYW5kbGVzID0gW107XG5cblx0XHRoYW5kbGVDb3VudCA9ICggb3B0aW9ucy52YWx1ZXMgJiYgb3B0aW9ucy52YWx1ZXMubGVuZ3RoICkgfHwgMTtcblxuXHRcdGlmICggZXhpc3RpbmdIYW5kbGVzLmxlbmd0aCA+IGhhbmRsZUNvdW50ICkge1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCBoYW5kbGVDb3VudCApLnJlbW92ZSgpO1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCAwLCBoYW5kbGVDb3VudCApO1xuXHRcdH1cblxuXHRcdGZvciAoIGkgPSBleGlzdGluZ0hhbmRsZXMubGVuZ3RoOyBpIDwgaGFuZGxlQ291bnQ7IGkrKyApIHtcblx0XHRcdGhhbmRsZXMucHVzaCggaGFuZGxlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLmFkZCggJCggaGFuZGxlcy5qb2luKCBcIlwiICkgKS5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICkgKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLmhhbmRsZXMsIFwidWktc2xpZGVyLWhhbmRsZVwiLCBcInVpLXN0YXRlLWRlZmF1bHRcIiApO1xuXG5cdFx0dGhpcy5oYW5kbGUgPSB0aGlzLmhhbmRsZXMuZXEoIDAgKTtcblxuXHRcdHRoaXMuaGFuZGxlcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdCQoIHRoaXMgKVxuXHRcdFx0XHQuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIsIGkgKVxuXHRcdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9jcmVhdGVSYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgKSB7XG5cdFx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdGlmICggIW9wdGlvbnMudmFsdWVzICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gWyB0aGlzLl92YWx1ZU1pbigpLCB0aGlzLl92YWx1ZU1pbigpIF07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMudmFsdWVzLmxlbmd0aCAmJiBvcHRpb25zLnZhbHVlcy5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBbIG9wdGlvbnMudmFsdWVzWyAwIF0sIG9wdGlvbnMudmFsdWVzWyAwIF0gXTtcblx0XHRcdFx0fSBlbHNlIGlmICggJC5pc0FycmF5KCBvcHRpb25zLnZhbHVlcyApICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXMuc2xpY2UoIDAgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICF0aGlzLnJhbmdlIHx8ICF0aGlzLnJhbmdlLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5yYW5nZSA9ICQoIFwiPGRpdj5cIiApXG5cdFx0XHRcdFx0LmFwcGVuZFRvKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5yYW5nZSwgXCJ1aS1zbGlkZXItcmFuZ2VcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMucmFuZ2UsIFwidWktc2xpZGVyLXJhbmdlLW1pbiB1aS1zbGlkZXItcmFuZ2UtbWF4XCIgKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgcmFuZ2Ugc3dpdGNoaW5nIGZyb20gdHJ1ZSB0byBtaW4vbWF4XG5cdFx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7XG5cdFx0XHRcdFx0XCJsZWZ0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XCJib3R0b21cIjogXCJcIlxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgPT09IFwibWluXCIgfHwgb3B0aW9ucy5yYW5nZSA9PT0gXCJtYXhcIiApIHtcblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMucmFuZ2UsIFwidWktc2xpZGVyLXJhbmdlLVwiICsgb3B0aW9ucy5yYW5nZSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIHRoaXMucmFuZ2UgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2UucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnJhbmdlID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9vZmYoIHRoaXMuaGFuZGxlcyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmhhbmRsZXMsIHRoaXMuX2hhbmRsZUV2ZW50cyApO1xuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy5oYW5kbGVzICk7XG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLmhhbmRsZXMgKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oYW5kbGVzLnJlbW92ZSgpO1xuXHRcdGlmICggdGhpcy5yYW5nZSApIHtcblx0XHRcdHRoaXMucmFuZ2UucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiwgbm9ybVZhbHVlLCBkaXN0YW5jZSwgY2xvc2VzdEhhbmRsZSwgaW5kZXgsIGFsbG93ZWQsIG9mZnNldCwgbW91c2VPdmVySGFuZGxlLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKCBvLmRpc2FibGVkICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudFNpemUgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHRcdHRoaXMuZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdHBvc2l0aW9uID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfTtcblx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cdFx0ZGlzdGFuY2UgPSB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSArIDE7XG5cdFx0dGhpcy5oYW5kbGVzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHRoaXNEaXN0YW5jZSA9IE1hdGguYWJzKCBub3JtVmFsdWUgLSB0aGF0LnZhbHVlcyggaSApICk7XG5cdFx0XHRpZiAoICggZGlzdGFuY2UgPiB0aGlzRGlzdGFuY2UgKSB8fFxuXHRcdFx0XHQoIGRpc3RhbmNlID09PSB0aGlzRGlzdGFuY2UgJiZcblx0XHRcdFx0XHQoIGkgPT09IHRoYXQuX2xhc3RDaGFuZ2VkVmFsdWUgfHwgdGhhdC52YWx1ZXMoIGkgKSA9PT0gby5taW4gKSApICkge1xuXHRcdFx0XHRkaXN0YW5jZSA9IHRoaXNEaXN0YW5jZTtcblx0XHRcdFx0Y2xvc2VzdEhhbmRsZSA9ICQoIHRoaXMgKTtcblx0XHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGFsbG93ZWQgPSB0aGlzLl9zdGFydCggZXZlbnQsIGluZGV4ICk7XG5cdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gdHJ1ZTtcblxuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gaW5kZXg7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggY2xvc2VzdEhhbmRsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdGNsb3Nlc3RIYW5kbGUudHJpZ2dlciggXCJmb2N1c1wiICk7XG5cblx0XHRvZmZzZXQgPSBjbG9zZXN0SGFuZGxlLm9mZnNldCgpO1xuXHRcdG1vdXNlT3ZlckhhbmRsZSA9ICEkKCBldmVudC50YXJnZXQgKS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCBcIi51aS1zbGlkZXItaGFuZGxlXCIgKTtcblx0XHR0aGlzLl9jbGlja09mZnNldCA9IG1vdXNlT3ZlckhhbmRsZSA/IHsgbGVmdDogMCwgdG9wOiAwIH0gOiB7XG5cdFx0XHRsZWZ0OiBldmVudC5wYWdlWCAtIG9mZnNldC5sZWZ0IC0gKCBjbG9zZXN0SGFuZGxlLndpZHRoKCkgLyAyICksXG5cdFx0XHR0b3A6IGV2ZW50LnBhZ2VZIC0gb2Zmc2V0LnRvcCAtXG5cdFx0XHRcdCggY2xvc2VzdEhhbmRsZS5oZWlnaHQoKSAvIDIgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGNsb3Nlc3RIYW5kbGUuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyggXCJib3JkZXJCb3R0b21XaWR0aFwiICksIDEwICkgfHwgMCApICtcblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoIFwibWFyZ2luVG9wXCIgKSwgMTAgKSB8fCAwIClcblx0XHR9O1xuXG5cdFx0aWYgKCAhdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKSApIHtcblx0XHRcdHRoaXMuX3NsaWRlKCBldmVudCwgaW5kZXgsIG5vcm1WYWx1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiA9IHsgeDogZXZlbnQucGFnZVgsIHk6IGV2ZW50LnBhZ2VZIH0sXG5cdFx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cblx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4LCBub3JtVmFsdWUgKTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIHRoaXMuaGFuZGxlcywgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5fc3RvcCggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4ICk7XG5cdFx0dGhpcy5fY2hhbmdlKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXggKTtcblxuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gbnVsbDtcblx0XHR0aGlzLl9jbGlja09mZnNldCA9IG51bGw7XG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9kZXRlY3RPcmllbnRhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5vcmllbnRhdGlvbiA9ICggdGhpcy5vcHRpb25zLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiO1xuXHR9LFxuXG5cdF9ub3JtVmFsdWVGcm9tTW91c2U6IGZ1bmN0aW9uKCBwb3NpdGlvbiApIHtcblx0XHR2YXIgcGl4ZWxUb3RhbCxcblx0XHRcdHBpeGVsTW91c2UsXG5cdFx0XHRwZXJjZW50TW91c2UsXG5cdFx0XHR2YWx1ZVRvdGFsLFxuXHRcdFx0dmFsdWVNb3VzZTtcblxuXHRcdGlmICggdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRwaXhlbFRvdGFsID0gdGhpcy5lbGVtZW50U2l6ZS53aWR0aDtcblx0XHRcdHBpeGVsTW91c2UgPSBwb3NpdGlvbi54IC0gdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQgLVxuXHRcdFx0XHQoIHRoaXMuX2NsaWNrT2Zmc2V0ID8gdGhpcy5fY2xpY2tPZmZzZXQubGVmdCA6IDAgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGl4ZWxUb3RhbCA9IHRoaXMuZWxlbWVudFNpemUuaGVpZ2h0O1xuXHRcdFx0cGl4ZWxNb3VzZSA9IHBvc2l0aW9uLnkgLSB0aGlzLmVsZW1lbnRPZmZzZXQudG9wIC1cblx0XHRcdFx0KCB0aGlzLl9jbGlja09mZnNldCA/IHRoaXMuX2NsaWNrT2Zmc2V0LnRvcCA6IDAgKTtcblx0XHR9XG5cblx0XHRwZXJjZW50TW91c2UgPSAoIHBpeGVsTW91c2UgLyBwaXhlbFRvdGFsICk7XG5cdFx0aWYgKCBwZXJjZW50TW91c2UgPiAxICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMTtcblx0XHR9XG5cdFx0aWYgKCBwZXJjZW50TW91c2UgPCAwICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMDtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAxIC0gcGVyY2VudE1vdXNlO1xuXHRcdH1cblxuXHRcdHZhbHVlVG90YWwgPSB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHR2YWx1ZU1vdXNlID0gdGhpcy5fdmFsdWVNaW4oKSArIHBlcmNlbnRNb3VzZSAqIHZhbHVlVG90YWw7XG5cblx0XHRyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbHVlTW91c2UgKTtcblx0fSxcblxuXHRfdWlIYXNoOiBmdW5jdGlvbiggaW5kZXgsIHZhbHVlLCB2YWx1ZXMgKSB7XG5cdFx0dmFyIHVpSGFzaCA9IHtcblx0XHRcdGhhbmRsZTogdGhpcy5oYW5kbGVzWyBpbmRleCBdLFxuXHRcdFx0aGFuZGxlSW5kZXg6IGluZGV4LFxuXHRcdFx0dmFsdWU6IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHRoaXMudmFsdWUoKVxuXHRcdH07XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHR1aUhhc2gudmFsdWUgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdHVpSGFzaC52YWx1ZXMgPSB2YWx1ZXMgfHwgdGhpcy52YWx1ZXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdWlIYXNoO1xuXHR9LFxuXG5cdF9oYXNNdWx0aXBsZVZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg7XG5cdH0sXG5cblx0X3N0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdHJldHVybiB0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIGluZGV4ICkgKTtcblx0fSxcblxuXHRfc2xpZGU6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXgsIG5ld1ZhbCApIHtcblx0XHR2YXIgYWxsb3dlZCwgb3RoZXJWYWwsXG5cdFx0XHRjdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlKCksXG5cdFx0XHRuZXdWYWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0b3RoZXJWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggPyAwIDogMSApO1xuXHRcdFx0Y3VycmVudFZhbHVlID0gdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggPT09IDIgJiYgdGhpcy5vcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0XHRuZXdWYWwgPSAgaW5kZXggPT09IDAgPyBNYXRoLm1pbiggb3RoZXJWYWwsIG5ld1ZhbCApIDogTWF0aC5tYXgoIG90aGVyVmFsLCBuZXdWYWwgKTtcblx0XHRcdH1cblxuXHRcdFx0bmV3VmFsdWVzWyBpbmRleCBdID0gbmV3VmFsO1xuXHRcdH1cblxuXHRcdGlmICggbmV3VmFsID09PSBjdXJyZW50VmFsdWUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0YWxsb3dlZCA9IHRoaXMuX3RyaWdnZXIoIFwic2xpZGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggaW5kZXgsIG5ld1ZhbCwgbmV3VmFsdWVzICkgKTtcblxuXHRcdC8vIEEgc2xpZGUgY2FuIGJlIGNhbmNlbGVkIGJ5IHJldHVybmluZyBmYWxzZSBmcm9tIHRoZSBzbGlkZSBjYWxsYmFja1xuXHRcdGlmICggYWxsb3dlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0dGhpcy52YWx1ZXMoIGluZGV4LCBuZXdWYWwgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy52YWx1ZSggbmV3VmFsICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zdG9wOiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RvcFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCApICk7XG5cdH0sXG5cblx0X2NoYW5nZTogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHRpZiAoICF0aGlzLl9rZXlTbGlkaW5nICYmICF0aGlzLl9tb3VzZVNsaWRpbmcgKSB7XG5cblx0XHRcdC8vc3RvcmUgdGhlIGxhc3QgY2hhbmdlZCB2YWx1ZSBpbmRleCBmb3IgcmVmZXJlbmNlIHdoZW4gaGFuZGxlcyBvdmVybGFwXG5cdFx0XHR0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlID0gaW5kZXg7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCApICk7XG5cdFx0fVxuXHR9LFxuXG5cdHZhbHVlOiBmdW5jdGlvbiggbmV3VmFsdWUgKSB7XG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIG5ld1ZhbHVlICk7XG5cdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgMCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl92YWx1ZSgpO1xuXHR9LFxuXG5cdHZhbHVlczogZnVuY3Rpb24oIGluZGV4LCBuZXdWYWx1ZSApIHtcblx0XHR2YXIgdmFscyxcblx0XHRcdG5ld1ZhbHVlcyxcblx0XHRcdGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAxICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlc1sgaW5kZXggXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGluZGV4ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGFyZ3VtZW50c1sgMCBdICkgKSB7XG5cdFx0XHRcdHZhbHMgPSB0aGlzLm9wdGlvbnMudmFsdWVzO1xuXHRcdFx0XHRuZXdWYWx1ZXMgPSBhcmd1bWVudHNbIDAgXTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHRcdHZhbHNbIGkgXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZXNbIGkgXSApO1xuXHRcdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl92YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLFxuXHRcdFx0dmFsc0xlbmd0aCA9IDA7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJyYW5nZVwiICYmIHRoaXMub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IFwibWluXCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3ZhbHVlcyggMCApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSBcIm1heFwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl92YWx1ZXMoIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoIC0gMSApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICQuaXNBcnJheSggdGhpcy5vcHRpb25zLnZhbHVlcyApICkge1xuXHRcdFx0dmFsc0xlbmd0aCA9IHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRzd2l0Y2ggKCBrZXkgKSB7XG5cdFx0XHRjYXNlIFwib3JpZW50YXRpb25cIjpcblx0XHRcdFx0dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlQ2xhc3MoIFwidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsXCIgKVxuXHRcdFx0XHRcdC5fYWRkQ2xhc3MoIFwidWktc2xpZGVyLVwiICsgdGhpcy5vcmllbnRhdGlvbiApO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMucmFuZ2UgKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVmcmVzaFJhbmdlKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzZXQgcG9zaXRpb25pbmcgZnJvbSBwcmV2aW91cyBvcmllbnRhdGlvblxuXHRcdFx0XHR0aGlzLmhhbmRsZXMuY3NzKCB2YWx1ZSA9PT0gXCJob3Jpem9udGFsXCIgPyBcImJvdHRvbVwiIDogXCJsZWZ0XCIsIFwiXCIgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwidmFsdWVcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIDAgKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ2YWx1ZXNcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXG5cdFx0XHRcdC8vIFN0YXJ0IGZyb20gdGhlIGxhc3QgaGFuZGxlIHRvIHByZXZlbnQgdW5yZWFjaGFibGUgaGFuZGxlcyAoIzkwNDYpXG5cdFx0XHRcdGZvciAoIGkgPSB2YWxzTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJzdGVwXCI6XG5cdFx0XHRjYXNlIFwibWluXCI6XG5cdFx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicmFuZ2VcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2goKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbkRpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIHZhbHVlICk7XG5cblx0XHR0aGlzLl90b2dnbGVDbGFzcyggbnVsbCwgXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdH0sXG5cblx0Ly9pbnRlcm5hbCB2YWx1ZSBnZXR0ZXJcblx0Ly8gX3ZhbHVlKCkgcmV0dXJucyB2YWx1ZSB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0X3ZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdmFsID0gdGhpcy5vcHRpb25zLnZhbHVlO1xuXHRcdHZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWwgKTtcblxuXHRcdHJldHVybiB2YWw7XG5cdH0sXG5cblx0Ly9pbnRlcm5hbCB2YWx1ZXMgZ2V0dGVyXG5cdC8vIF92YWx1ZXMoKSByZXR1cm5zIGFycmF5IG9mIHZhbHVlcyB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0Ly8gX3ZhbHVlcyggaW5kZXggKSByZXR1cm5zIHNpbmdsZSB2YWx1ZSB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4LCBhbGlnbmVkIGJ5IHN0ZXBcblx0X3ZhbHVlczogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdHZhciB2YWwsXG5cdFx0XHR2YWxzLFxuXHRcdFx0aTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHZhbCA9IHRoaXMub3B0aW9ucy52YWx1ZXNbIGluZGV4IF07XG5cdFx0XHR2YWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsICk7XG5cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblxuXHRcdFx0Ly8gLnNsaWNlKCkgY3JlYXRlcyBhIGNvcHkgb2YgdGhlIGFycmF5XG5cdFx0XHQvLyB0aGlzIGNvcHkgZ2V0cyB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4IGFuZCB0aGVuIHJldHVybmVkXG5cdFx0XHR2YWxzID0gdGhpcy5vcHRpb25zLnZhbHVlcy5zbGljZSgpO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHR2YWxzWyBpIF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsc1sgaSBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWxzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9LFxuXG5cdC8vIFJldHVybnMgdGhlIHN0ZXAtYWxpZ25lZCB2YWx1ZSB0aGF0IHZhbCBpcyBjbG9zZXN0IHRvLCBiZXR3ZWVuIChpbmNsdXNpdmUpIG1pbiBhbmQgbWF4XG5cdF90cmltQWxpZ25WYWx1ZTogZnVuY3Rpb24oIHZhbCApIHtcblx0XHRpZiAoIHZhbCA8PSB0aGlzLl92YWx1ZU1pbigpICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0fVxuXHRcdGlmICggdmFsID49IHRoaXMuX3ZhbHVlTWF4KCkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHR9XG5cdFx0dmFyIHN0ZXAgPSAoIHRoaXMub3B0aW9ucy5zdGVwID4gMCApID8gdGhpcy5vcHRpb25zLnN0ZXAgOiAxLFxuXHRcdFx0dmFsTW9kU3RlcCA9ICggdmFsIC0gdGhpcy5fdmFsdWVNaW4oKSApICUgc3RlcCxcblx0XHRcdGFsaWduVmFsdWUgPSB2YWwgLSB2YWxNb2RTdGVwO1xuXG5cdFx0aWYgKCBNYXRoLmFicyggdmFsTW9kU3RlcCApICogMiA+PSBzdGVwICkge1xuXHRcdFx0YWxpZ25WYWx1ZSArPSAoIHZhbE1vZFN0ZXAgPiAwICkgPyBzdGVwIDogKCAtc3RlcCApO1xuXHRcdH1cblxuXHRcdC8vIFNpbmNlIEphdmFTY3JpcHQgaGFzIHByb2JsZW1zIHdpdGggbGFyZ2UgZmxvYXRzLCByb3VuZFxuXHRcdC8vIHRoZSBmaW5hbCB2YWx1ZSB0byA1IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCAoc2VlICM0MTI0KVxuXHRcdHJldHVybiBwYXJzZUZsb2F0KCBhbGlnblZhbHVlLnRvRml4ZWQoIDUgKSApO1xuXHR9LFxuXG5cdF9jYWxjdWxhdGVOZXdNYXg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtYXggPSB0aGlzLm9wdGlvbnMubWF4LFxuXHRcdFx0bWluID0gdGhpcy5fdmFsdWVNaW4oKSxcblx0XHRcdHN0ZXAgPSB0aGlzLm9wdGlvbnMuc3RlcCxcblx0XHRcdGFib3ZlTWluID0gTWF0aC5yb3VuZCggKCBtYXggLSBtaW4gKSAvIHN0ZXAgKSAqIHN0ZXA7XG5cdFx0bWF4ID0gYWJvdmVNaW4gKyBtaW47XG5cdFx0aWYgKCBtYXggPiB0aGlzLm9wdGlvbnMubWF4ICkge1xuXG5cdFx0XHQvL0lmIG1heCBpcyBub3QgZGl2aXNpYmxlIGJ5IHN0ZXAsIHJvdW5kaW5nIG9mZiBtYXkgaW5jcmVhc2UgaXRzIHZhbHVlXG5cdFx0XHRtYXggLT0gc3RlcDtcblx0XHR9XG5cdFx0dGhpcy5tYXggPSBwYXJzZUZsb2F0KCBtYXgudG9GaXhlZCggdGhpcy5fcHJlY2lzaW9uKCkgKSApO1xuXHR9LFxuXG5cdF9wcmVjaXNpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVjaXNpb24gPSB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLnN0ZXAgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5taW4gIT09IG51bGwgKSB7XG5cdFx0XHRwcmVjaXNpb24gPSBNYXRoLm1heCggcHJlY2lzaW9uLCB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLm1pbiApICk7XG5cdFx0fVxuXHRcdHJldHVybiBwcmVjaXNpb247XG5cdH0sXG5cblx0X3ByZWNpc2lvbk9mOiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHZhciBzdHIgPSBudW0udG9TdHJpbmcoKSxcblx0XHRcdGRlY2ltYWwgPSBzdHIuaW5kZXhPZiggXCIuXCIgKTtcblx0XHRyZXR1cm4gZGVjaW1hbCA9PT0gLTEgPyAwIDogc3RyLmxlbmd0aCAtIGRlY2ltYWwgLSAxO1xuXHR9LFxuXG5cdF92YWx1ZU1pbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5taW47XG5cdH0sXG5cblx0X3ZhbHVlTWF4OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXg7XG5cdH0sXG5cblx0X3JlZnJlc2hSYW5nZTogZnVuY3Rpb24oIG9yaWVudGF0aW9uICkge1xuXHRcdGlmICggb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7IFwid2lkdGhcIjogXCJcIiwgXCJsZWZ0XCI6IFwiXCIgfSApO1xuXHRcdH1cblx0XHRpZiAoIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdHRoaXMucmFuZ2UuY3NzKCB7IFwiaGVpZ2h0XCI6IFwiXCIsIFwiYm90dG9tXCI6IFwiXCIgfSApO1xuXHRcdH1cblx0fSxcblxuXHRfcmVmcmVzaFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGFzdFZhbFBlcmNlbnQsIHZhbFBlcmNlbnQsIHZhbHVlLCB2YWx1ZU1pbiwgdmFsdWVNYXgsXG5cdFx0XHRvUmFuZ2UgPSB0aGlzLm9wdGlvbnMucmFuZ2UsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRhbmltYXRlID0gKCAhdGhpcy5fYW5pbWF0ZU9mZiApID8gby5hbmltYXRlIDogZmFsc2UsXG5cdFx0XHRfc2V0ID0ge307XG5cblx0XHRpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cdFx0XHR0aGlzLmhhbmRsZXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHZhbFBlcmNlbnQgPSAoIHRoYXQudmFsdWVzKCBpICkgLSB0aGF0Ll92YWx1ZU1pbigpICkgLyAoIHRoYXQuX3ZhbHVlTWF4KCkgLVxuXHRcdFx0XHRcdHRoYXQuX3ZhbHVlTWluKCkgKSAqIDEwMDtcblx0XHRcdFx0X3NldFsgdGhhdC5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBcImxlZnRcIiA6IFwiYm90dG9tXCIgXSA9IHZhbFBlcmNlbnQgKyBcIiVcIjtcblx0XHRcdFx0JCggdGhpcyApLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCBfc2V0LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0aWYgKCB0aGF0Lm9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGF0Lm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdGxlZnQ6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0XHRcdFx0d2lkdGg6ICggdmFsUGVyY2VudCAtIGxhc3RWYWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiBvLmFuaW1hdGVcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRcdFx0XHRib3R0b206ICggdmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2VbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdGhlaWdodDogKCB2YWxQZXJjZW50IC0gbGFzdFZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0ZHVyYXRpb246IG8uYW5pbWF0ZVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxhc3RWYWxQZXJjZW50ID0gdmFsUGVyY2VudDtcblx0XHRcdH0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWUgPSB0aGlzLnZhbHVlKCk7XG5cdFx0XHR2YWx1ZU1pbiA9IHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0XHR2YWx1ZU1heCA9IHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0XHR2YWxQZXJjZW50ID0gKCB2YWx1ZU1heCAhPT0gdmFsdWVNaW4gKSA/XG5cdFx0XHRcdFx0KCB2YWx1ZSAtIHZhbHVlTWluICkgLyAoIHZhbHVlTWF4IC0gdmFsdWVNaW4gKSAqIDEwMCA6XG5cdFx0XHRcdFx0MDtcblx0XHRcdF9zZXRbIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJsZWZ0XCIgOiBcImJvdHRvbVwiIF0gPSB2YWxQZXJjZW50ICsgXCIlXCI7XG5cdFx0XHR0aGlzLmhhbmRsZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggX3NldCwgby5hbmltYXRlICk7XG5cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1pblwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0d2lkdGg6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0d2lkdGg6ICggMTAwIC0gdmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtaW5cIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRoZWlnaHQ6IHZhbFBlcmNlbnQgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdGhlaWdodDogKCAxMDAgLSB2YWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHR9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2hhbmRsZUV2ZW50czoge1xuXHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBhbGxvd2VkLCBjdXJWYWwsIG5ld1ZhbCwgc3RlcCxcblx0XHRcdFx0aW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0aWYgKCAhdGhpcy5fa2V5U2xpZGluZyApIHtcblx0XHRcdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoICQoIGV2ZW50LnRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0XHRhbGxvd2VkID0gdGhpcy5fc3RhcnQoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHRcdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0c3RlcCA9IHRoaXMub3B0aW9ucy5zdGVwO1xuXHRcdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0XHRjdXJWYWwgPSBuZXdWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1clZhbCA9IG5ld1ZhbCA9IHRoaXMudmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZShcblx0XHRcdFx0XHRcdGN1clZhbCArICggKCB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSApIC8gdGhpcy5udW1QYWdlcyApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKFxuXHRcdFx0XHRcdFx0Y3VyVmFsIC0gKCAoIHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICkgLyB0aGlzLm51bVBhZ2VzICkgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1heCgpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsICsgc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1pbigpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsIC0gc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIGluZGV4LCBuZXdWYWwgKTtcblx0XHR9LFxuXHRcdGtleXVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRpZiAoIHRoaXMuX2tleVNsaWRpbmcgKSB7XG5cdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5fc3RvcCggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCAkKCBldmVudC50YXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG59ICkgKTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uQm9keSwgTWFuaWZlc3RSZXNvdXJjZSwgUmVzb3VyY2UgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgQW5ub3RhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBbm5vdGF0aW9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQW5ub3RhdGlvbihqc29ubGQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQW5ub3RhdGlvbi5wcm90b3R5cGUuZ2V0Qm9keSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYm9kaWVzID0gW107XHJcbiAgICAgICAgdmFyIGJvZHkgPSB0aGlzLmdldFByb3BlcnR5KFwiYm9keVwiKTtcclxuICAgICAgICAvLyB0b2RvOiBtYWtlIHRoaXMgYSBnZW5lcmljIFwicHJvcGVydHkgdGhhdCBjYW4gYmUgYW4gb2JqZWN0IG9yIGFycmF5IGVudW1lcmF0b3JcIiB1dGlsXHJcbiAgICAgICAgaWYgKGJvZHkpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYm9keSkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gYm9keVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYi5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBiLml0ZW1zLmxlbmd0aDsgaV8xKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG86IGRvbid0IGlnbm9yZSB0aGF0IGl0J3MgYSBjaG9pY2UuIG1heWJlIGFkZCBpc0Nob2ljZSgpIHRvIElBbm5vdGF0aW9uQm9keT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gYi5pdGVtc1tpXzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9kaWVzLnB1c2gobmV3IEFubm90YXRpb25Cb2R5KGMsIHRoaXMub3B0aW9ucykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2RpZXMucHVzaChuZXcgQW5ub3RhdGlvbkJvZHkoYiwgdGhpcy5vcHRpb25zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJvZHkuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9keS5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gYm9keS5pdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBib2RpZXMucHVzaChuZXcgQW5ub3RhdGlvbkJvZHkoYiwgdGhpcy5vcHRpb25zKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib2RpZXMucHVzaChuZXcgQW5ub3RhdGlvbkJvZHkoYm9keSwgdGhpcy5vcHRpb25zKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJvZGllcztcclxuICAgIH07XHJcbiAgICBBbm5vdGF0aW9uLnByb3RvdHlwZS5nZXRNb3RpdmF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtb3RpdmF0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdGl2YXRpb25cIik7XHJcbiAgICAgICAgaWYgKG1vdGl2YXRpb24pIHtcclxuICAgICAgICAgICAgLy9jb25zdCBrZXk6IHN0cmluZyB8IHVuZGVmaW5lZCA9IE9iamVjdC5rZXlzKEFubm90YXRpb25Nb3RpdmF0aW9uRW51bSkuZmluZChrID0+IEFubm90YXRpb25Nb3RpdmF0aW9uRW51bVtrXSA9PT0gbW90aXZhdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBtb3RpdmF0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyBvcGVuIGFubm90YXRpb25cclxuICAgIEFubm90YXRpb24ucHJvdG90eXBlLmdldE9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwib25cIik7XHJcbiAgICB9O1xyXG4gICAgQW5ub3RhdGlvbi5wcm90b3R5cGUuZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0XCIpO1xyXG4gICAgfTtcclxuICAgIEFubm90YXRpb24ucHJvdG90eXBlLmdldFJlc291cmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2UodGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlXCIpLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbm5vdGF0aW9uO1xyXG59KE1hbmlmZXN0UmVzb3VyY2UpKTtcclxuZXhwb3J0IHsgQW5ub3RhdGlvbiB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm5vdGF0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBNYW5pZmVzdFJlc291cmNlLCBVdGlscyB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBBbm5vdGF0aW9uQm9keSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBbm5vdGF0aW9uQm9keSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFubm90YXRpb25Cb2R5KGpzb25sZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBqc29ubGQsIG9wdGlvbnMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBBbm5vdGF0aW9uQm9keS5wcm90b3R5cGUuZ2V0Rm9ybWF0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO1xyXG4gICAgICAgIGlmIChmb3JtYXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmdldE1lZGlhVHlwZShmb3JtYXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBBbm5vdGF0aW9uQm9keS5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpO1xyXG4gICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBBbm5vdGF0aW9uQm9keS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKTtcclxuICAgIH07XHJcbiAgICBBbm5vdGF0aW9uQm9keS5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbm5vdGF0aW9uQm9keTtcclxufShNYW5pZmVzdFJlc291cmNlKSk7XHJcbmV4cG9ydCB7IEFubm90YXRpb25Cb2R5IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFubm90YXRpb25Cb2R5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBBbm5vdGF0aW9uLCBKU09OTERSZXNvdXJjZSwgVXRpbHMgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgQW5ub3RhdGlvbkxpc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQW5ub3RhdGlvbkxpc3QsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBbm5vdGF0aW9uTGlzdChsYWJlbCwganNvbmxkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywganNvbmxkKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQW5ub3RhdGlvbkxpc3QucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpO1xyXG4gICAgfTtcclxuICAgIEFubm90YXRpb25MaXN0LnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbDtcclxuICAgIH07XHJcbiAgICBBbm5vdGF0aW9uTGlzdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZXNcIik7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKHJlc291cmNlKSB7IHJldHVybiBuZXcgQW5ub3RhdGlvbihyZXNvdXJjZSwgX3RoaXMub3B0aW9ucyk7IH0pO1xyXG4gICAgfTtcclxuICAgIEFubm90YXRpb25MaXN0LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9IF90aGlzLl9fanNvbmxkLmlkO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkID0gX3RoaXMuX19qc29ubGRbXCJAaWRcIl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBVdGlscy5sb2FkTWFuaWZlc3QoaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fX2pzb25sZCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmdldFByb3BlcnR5KFwiY29udGV4dFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pZCA9IF90aGlzLmdldFByb3BlcnR5KFwiaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBbm5vdGF0aW9uTGlzdDtcclxufShKU09OTERSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBBbm5vdGF0aW9uTGlzdCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm5vdGF0aW9uTGlzdC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IHsgTWFuaWZlc3RSZXNvdXJjZSB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBBbm5vdGF0aW9uUGFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBbm5vdGF0aW9uUGFnZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFubm90YXRpb25QYWdlKGpzb25sZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBqc29ubGQsIG9wdGlvbnMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBBbm5vdGF0aW9uUGFnZS5wcm90b3R5cGUuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpdGVtc1wiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQW5ub3RhdGlvblBhZ2U7XHJcbn0oTWFuaWZlc3RSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBBbm5vdGF0aW9uUGFnZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm5vdGF0aW9uUGFnZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IHsgQW5ub3RhdGlvbiwgQW5ub3RhdGlvbkxpc3QsIEFubm90YXRpb25QYWdlLCBSZXNvdXJjZSwgU2l6ZSwgVXRpbHMgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgQ2FudmFzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKENhbnZhcywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENhbnZhcyhqc29ubGQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgLy8gaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIuMS8jY2Fub25pY2FsLXVyaS1zeW50YXhcclxuICAgIENhbnZhcy5wcm90b3R5cGUuZ2V0Q2Fub25pY2FsSW1hZ2VVcmkgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgIHZhciBpZCA9IG51bGw7XHJcbiAgICAgICAgdmFyIHJlZ2lvbiA9IFwiZnVsbFwiO1xyXG4gICAgICAgIHZhciByb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgdmFyIHF1YWxpdHkgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICB2YXIgd2lkdGggPSB3O1xyXG4gICAgICAgIHZhciBzaXplO1xyXG4gICAgICAgIC8vIGlmIGFuIGluZm8uanNvbiBoYXMgYmVlbiBsb2FkZWRcclxuICAgICAgICBpZiAodGhpcy5leHRlcm5hbFJlc291cmNlICYmXHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhICYmXHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdKSB7XHJcbiAgICAgICAgICAgIGlkID0gdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl07XHJcbiAgICAgICAgICAgIGlmICghd2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4wL2NvbnRleHQuanNvblwiKSA+XHJcbiAgICAgICAgICAgICAgICAgICAgLTEgfHxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4xL2NvbnRleHQuanNvblwiKSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEvY29udGV4dC5qc29uXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5ID0gXCJuYXRpdmVcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaW5mby5qc29uIGhhc24ndCBiZWVuIGxvYWRlZCB5ZXRcclxuICAgICAgICAgICAgdmFyIGltYWdlcyA9IHRoaXMuZ2V0SW1hZ2VzKCk7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZXMgJiYgaW1hZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0SW1hZ2UgPSBpbWFnZXNbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBmaXJzdEltYWdlLmdldFJlc291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZXMgPSByZXNvdXJjZS5nZXRTZXJ2aWNlcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF3aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gcmVzb3VyY2UuZ2V0V2lkdGgoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IHNlcnZpY2VzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkID0gc2VydmljZS5pZDtcclxuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5ID0gVXRpbHMuZ2V0SW1hZ2VRdWFsaXR5KHNlcnZpY2UuZ2V0UHJvZmlsZSgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoID09PSByZXNvdXJjZS5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhc3NlZCB3aWR0aCBpcyB0aGUgc2FtZSBhcyB0aGUgcmVzb3VyY2Ugd2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAvLyBpLmUuIG5vdCBsb29raW5nIGZvciBhIHRodW1ibmFpbFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgZnVsbCBzaXplIGltYWdlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRvd25sb2FkIG9wdGlvbnMgd2hlbiBsb2FkaW5nIHN0YXRpYyBpbWFnZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLmlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRvZG86IHNob3VsZCB0aGlzIGJlIG1vdmVkIHRvIGdldFRodW1iVXJpP1xyXG4gICAgICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsID0gdGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aHVtYm5haWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRodW1ibmFpbCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGh1bWJuYWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRodW1ibmFpbFtcIkBpZFwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRodW1ibmFpbFtcIkBpZFwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aHVtYm5haWwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGh1bWJuYWlsWzBdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNpemUgPSB3aWR0aCArIFwiLFwiO1xyXG4gICAgICAgIC8vIHRyaW0gb2ZmIHRyYWlsaW5nICcvJ1xyXG4gICAgICAgIGlmIChpZCAmJiBpZC5lbmRzV2l0aChcIi9cIikpIHtcclxuICAgICAgICAgICAgaWQgPSBpZC5zdWJzdHIoMCwgaWQubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1cmkgPSBbaWQsIHJlZ2lvbiwgc2l6ZSwgcm90YXRpb24sIHF1YWxpdHkgKyBcIi5qcGdcIl0uam9pbihcIi9cIik7XHJcbiAgICAgICAgcmV0dXJuIHVyaTtcclxuICAgIH07XHJcbiAgICBDYW52YXMucHJvdG90eXBlLmdldE1heERpbWVuc2lvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1heERpbWVuc2lvbnMgPSBudWxsO1xyXG4gICAgICAgIHZhciBwcm9maWxlO1xyXG4gICAgICAgIGlmICh0aGlzLmV4dGVybmFsUmVzb3VyY2UgJiZcclxuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEgJiZcclxuICAgICAgICAgICAgdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZSkge1xyXG4gICAgICAgICAgICBwcm9maWxlID0gdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZTtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGUgPSBwcm9maWxlLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcFtcIm1heFdpZHRoXCIgfHwgXCJtYXh3aWR0aFwiXTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heERpbWVuc2lvbnMgPSBuZXcgU2l6ZShwcm9maWxlLm1heFdpZHRoLCBwcm9maWxlLm1heEhlaWdodCA/IHByb2ZpbGUubWF4SGVpZ2h0IDogcHJvZmlsZS5tYXhXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1heERpbWVuc2lvbnM7XHJcbiAgICB9O1xyXG4gICAgLy8gUHJlc2VudGF0aW9uIEFQSSAzLjBcclxuICAgIENhbnZhcy5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IFtdO1xyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuX19qc29ubGQuaXRlbXMgfHwgdGhpcy5fX2pzb25sZC5jb250ZW50O1xyXG4gICAgICAgIGlmICghaXRlbXMpXHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgIC8vIHNob3VsZCBiZSBjb250YWluZWQgaW4gYW4gQW5ub3RhdGlvblBhZ2VcclxuICAgICAgICB2YXIgYW5ub3RhdGlvblBhZ2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYW5ub3RhdGlvblBhZ2UgPSBuZXcgQW5ub3RhdGlvblBhZ2UoaXRlbXNbMF0sIHRoaXMub3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYW5ub3RhdGlvblBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25QYWdlLmdldEl0ZW1zKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbm5vdGF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYSA9IGFubm90YXRpb25zW2ldO1xyXG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IG5ldyBBbm5vdGF0aW9uKGEsIHRoaXMub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaChhbm5vdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9O1xyXG4gICAgQ2FudmFzLnByb3RvdHlwZS5nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImR1cmF0aW9uXCIpO1xyXG4gICAgfTtcclxuICAgIENhbnZhcy5wcm90b3R5cGUuZ2V0SW1hZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbWFnZXMgPSBbXTtcclxuICAgICAgICBpZiAoIXRoaXMuX19qc29ubGQuaW1hZ2VzKVxyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fX2pzb25sZC5pbWFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGEgPSB0aGlzLl9fanNvbmxkLmltYWdlc1tpXTtcclxuICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBuZXcgQW5ub3RhdGlvbihhLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbWFnZXMucHVzaChhbm5vdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGltYWdlcztcclxuICAgIH07XHJcbiAgICBDYW52YXMucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaW5kZXhcIik7XHJcbiAgICB9O1xyXG4gICAgQ2FudmFzLnByb3RvdHlwZS5nZXRPdGhlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgb3RoZXJDb250ZW50ID0gQXJyYXkuaXNBcnJheSh0aGlzLmdldFByb3BlcnR5KFwib3RoZXJDb250ZW50XCIpKVxyXG4gICAgICAgICAgICA/IHRoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIilcclxuICAgICAgICAgICAgOiBbdGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKV07XHJcbiAgICAgICAgdmFyIGNhbm9uaWNhbENvbXBhcmlzb24gPSBmdW5jdGlvbiAodHlwZUEsIHR5cGVCKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZUEgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHR5cGVCICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVBLnRvTG93ZXJDYXNlKCkgPT09IHR5cGVBLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgb3RoZXJQcm9taXNlcyA9IG90aGVyQ29udGVudFxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChvdGhlckNvbnRlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG90aGVyQ29udGVudCAmJlxyXG4gICAgICAgICAgICAgICAgY2Fub25pY2FsQ29tcGFyaXNvbihvdGhlckNvbnRlbnRbXCJAdHlwZVwiXSwgXCJzYzpBbm5vdGF0aW9uTGlzdFwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChhbm5vdGF0aW9uTGlzdCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFubm90YXRpb25MaXN0KGFubm90YXRpb25MaXN0W1wibGFiZWxcIl0gfHwgXCJBbm5vdGF0aW9uIGxpc3QgXCIgKyBpLCBhbm5vdGF0aW9uTGlzdCwgX3RoaXMub3B0aW9ucyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYW5ub3RhdGlvbkxpc3QpIHsgcmV0dXJuIGFubm90YXRpb25MaXN0LmxvYWQoKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG90aGVyUHJvbWlzZXMpO1xyXG4gICAgfTtcclxuICAgIC8vIFByZWZlciB0aHVtYm5haWwgc2VydmljZSB0byBpbWFnZSBzZXJ2aWNlIGlmIHN1cHBsaWVkIGFuZCBpZlxyXG4gICAgLy8gdGhlIHRodW1ibmFpbCBzZXJ2aWNlIGNhbiBwcm92aWRlIGEgc2F0aXNmYWN0b3J5IHNpemUgKy8tIHggcGl4ZWxzLlxyXG4gICAgLy8gdGhpcyBpcyB1c2VkIHRvIGdldCB0aHVtYiBVUklzICpiZWZvcmUqIHRoZSBpbmZvLmpzb24gaGFzIGJlZW4gcmVxdWVzdGVkXHJcbiAgICAvLyBhbmQgcG9wdWxhdGUgdGh1bWJuYWlscyBpbiBhIHZpZXdlci5cclxuICAgIC8vIHRoZSBwdWJsaXNoZXIgbWF5IGFsc28gcHJvdmlkZSBwcmUtY29tcHV0ZWQgZml4ZWQtc2l6ZSB0aHVtYnMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cclxuICAgIC8vZ2V0VGh1bWJVcmkod2lkdGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgdmFyIHVyaTtcclxuICAgIC8vICAgIHZhciBpbWFnZXM6IElBbm5vdGF0aW9uW10gPSB0aGlzLmdldEltYWdlcygpO1xyXG4gICAgLy9cclxuICAgIC8vICAgIGlmIChpbWFnZXMgJiYgaW1hZ2VzLmxlbmd0aCkge1xyXG4gICAgLy8gICAgICAgIHZhciBmaXJzdEltYWdlID0gaW1hZ2VzWzBdO1xyXG4gICAgLy8gICAgICAgIHZhciByZXNvdXJjZTogSVJlc291cmNlID0gZmlyc3RJbWFnZS5nZXRSZXNvdXJjZSgpO1xyXG4gICAgLy8gICAgICAgIHZhciBzZXJ2aWNlczogSVNlcnZpY2VbXSA9IHJlc291cmNlLmdldFNlcnZpY2VzKCk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VydmljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgICAgdmFyIHNlcnZpY2U6IElTZXJ2aWNlID0gc2VydmljZXNbaV07XHJcbiAgICAvLyAgICAgICAgICAgIHZhciBpZCA9IHNlcnZpY2UuaWQ7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICBpZiAoIV9lbmRzV2l0aChpZCwgJy8nKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgaWQgKz0gJy8nO1xyXG4gICAgLy8gICAgICAgICAgICB9XHJcbiAgICAvL1xyXG4gICAgLy8gICAgICAgICAgICB1cmkgPSBpZCArICdmdWxsLycgKyB3aWR0aCArICcsLzAvJyArIFV0aWxzLmdldEltYWdlUXVhbGl0eShzZXJ2aWNlLmdldFByb2ZpbGUoKSkgKyAnLmpwZyc7XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgfVxyXG4gICAgLy9cclxuICAgIC8vICAgIHJldHVybiB1cmk7XHJcbiAgICAvL31cclxuICAgIC8vZ2V0VHlwZSgpOiBDYW52YXNUeXBlIHtcclxuICAgIC8vICAgIHJldHVybiBuZXcgQ2FudmFzVHlwZSh0aGlzLmdldFByb3BlcnR5KCdAdHlwZScpLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgLy99XHJcbiAgICBDYW52YXMucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIik7XHJcbiAgICB9O1xyXG4gICAgQ2FudmFzLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhbnZhcztcclxufShSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBDYW52YXMgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnkvZGlzdC1jb21tb25qc1wiO1xyXG5pbXBvcnQgeyBJSUlGUmVzb3VyY2UsIExhbmd1YWdlTWFwLCBUcmVlTm9kZVR5cGUsIFV0aWxzIH0gZnJvbSBcIi4vaW50ZXJuYWxcIjtcclxudmFyIENvbGxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29sbGVjdGlvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24oanNvbmxkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgX3RoaXMuX2NvbGxlY3Rpb25zID0gbnVsbDtcclxuICAgICAgICBfdGhpcy5fbWFuaWZlc3RzID0gbnVsbDtcclxuICAgICAgICBqc29ubGQuX19jb2xsZWN0aW9uID0gX3RoaXM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9ucztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9jb2xsZWN0aW9ucyA9ICh0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5pc0NvbGxlY3Rpb24oKTsgfSkpKTtcclxuICAgIH07XHJcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYW5pZmVzdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21hbmlmZXN0cykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuaWZlc3RzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMuX21hbmlmZXN0cyA9ICh0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5pc01hbmlmZXN0KCk7IH0pKSk7XHJcbiAgICB9O1xyXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbkJ5SW5kZXggPSBmdW5jdGlvbiAoY29sbGVjdGlvbkluZGV4KSB7XHJcbiAgICAgICAgdmFyIGNvbGxlY3Rpb25zID0gdGhpcy5nZXRDb2xsZWN0aW9ucygpO1xyXG4gICAgICAgIHZhciBjb2xsZWN0aW9uO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBjb2xsZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgaWYgKGMuaW5kZXggPT09IGNvbGxlY3Rpb25JbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbi5vcHRpb25zLmluZGV4ID0gY29sbGVjdGlvbkluZGV4O1xyXG4gICAgICAgICAgICAvLyBpZCBmb3IgY29sbGVjdGlvbiBNVVNUIGJlIGRlcmVmZXJlbmNlYWJsZVxyXG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5sb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUluZGV4ID0gZnVuY3Rpb24gKG1hbmlmZXN0SW5kZXgpIHtcclxuICAgICAgICB2YXIgbWFuaWZlc3RzID0gdGhpcy5nZXRNYW5pZmVzdHMoKTtcclxuICAgICAgICB2YXIgbWFuaWZlc3Q7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5pZmVzdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG0gPSBtYW5pZmVzdHNbaV07XHJcbiAgICAgICAgICAgIGlmIChtLmluZGV4ID09PSBtYW5pZmVzdEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBtYW5pZmVzdCA9IG07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0Lm9wdGlvbnMuaW5kZXggPSBtYW5pZmVzdEluZGV4O1xyXG4gICAgICAgICAgICByZXR1cm4gbWFuaWZlc3QubG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgaW5kZXggbm90IGZvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRUb3RhbENvbGxlY3Rpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbGxlY3Rpb25zKCkubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldFRvdGFsTWFuaWZlc3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1hbmlmZXN0cygpLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRUb3RhbEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBWaWV3aW5nRGlyZWN0aW9uLkxFRlRfVE9fUklHSFQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSB0cmVlIG9mIHN1YiBjb2xsZWN0aW9ucyBhbmQgbWFuaWZlc3RzLCB1c2luZyBlYWNoIGNoaWxkIG1hbmlmZXN0J3MgZmlyc3QgJ3RvcCcgcmFuZ2UuXHJcbiAgICAgKi9cclxuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmdldERlZmF1bHRUcmVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZ2V0IGRlZmF1bHQgdHJlZSBmb3IgXCIsIHRoaXMuaWQpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFRyZWUuZGF0YS50eXBlID0gVXRpbHMubm9ybWFsaXNlVHlwZShUcmVlTm9kZVR5cGUuQ09MTEVDVElPTik7XHJcbiAgICAgICAgdGhpcy5fcGFyc2VNYW5pZmVzdHModGhpcyk7XHJcbiAgICAgICAgdGhpcy5fcGFyc2VDb2xsZWN0aW9ucyh0aGlzKTtcclxuICAgICAgICBVdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRUcmVlO1xyXG4gICAgfTtcclxuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9wYXJzZU1hbmlmZXN0cyA9IGZ1bmN0aW9uIChwYXJlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBhcmVudENvbGxlY3Rpb24uZ2V0TWFuaWZlc3RzKCkgJiZcclxuICAgICAgICAgICAgcGFyZW50Q29sbGVjdGlvbi5nZXRNYW5pZmVzdHMoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRDb2xsZWN0aW9uLmdldE1hbmlmZXN0cygpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFuaWZlc3QgPSBwYXJlbnRDb2xsZWN0aW9uLmdldE1hbmlmZXN0cygpW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyZWUgPSBtYW5pZmVzdC5nZXREZWZhdWx0VHJlZSgpO1xyXG4gICAgICAgICAgICAgICAgdHJlZS5sYWJlbCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3QucGFyZW50TGFiZWwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobWFuaWZlc3QuZ2V0TGFiZWwoKSwgdGhpcy5vcHRpb25zLmxvY2FsZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYW5pZmVzdCBcIiArIChpICsgMSk7XHJcbiAgICAgICAgICAgICAgICB0cmVlLm5hdkRhdGUgPSBtYW5pZmVzdC5nZXROYXZEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmVlLmRhdGEuaWQgPSBtYW5pZmVzdC5pZDtcclxuICAgICAgICAgICAgICAgIHRyZWUuZGF0YS50eXBlID0gVXRpbHMubm9ybWFsaXNlVHlwZShUcmVlTm9kZVR5cGUuTUFOSUZFU1QpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50Q29sbGVjdGlvbi5kZWZhdWx0VHJlZS5hZGROb2RlKHRyZWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9wYXJzZUNvbGxlY3Rpb25zID0gZnVuY3Rpb24gKHBhcmVudENvbGxlY3Rpb24pIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwicGFyc2UgY29sbGVjdGlvbnMgZm9yIFwiLCBwYXJlbnRDb2xsZWN0aW9uLmlkKTtcclxuICAgICAgICBpZiAocGFyZW50Q29sbGVjdGlvbi5nZXRDb2xsZWN0aW9ucygpICYmXHJcbiAgICAgICAgICAgIHBhcmVudENvbGxlY3Rpb24uZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRDb2xsZWN0aW9uLmdldENvbGxlY3Rpb25zKCkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gcGFyZW50Q29sbGVjdGlvbi5nZXRDb2xsZWN0aW9ucygpW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyZWUgPSBjb2xsZWN0aW9uLmdldERlZmF1bHRUcmVlKCk7XHJcbiAgICAgICAgICAgICAgICB0cmVlLmxhYmVsID1cclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnBhcmVudExhYmVsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExhbmd1YWdlTWFwLmdldFZhbHVlKGNvbGxlY3Rpb24uZ2V0TGFiZWwoKSwgdGhpcy5vcHRpb25zLmxvY2FsZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xsZWN0aW9uIFwiICsgKGkgKyAxKTtcclxuICAgICAgICAgICAgICAgIHRyZWUubmF2RGF0ZSA9IGNvbGxlY3Rpb24uZ2V0TmF2RGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdHJlZS5kYXRhLmlkID0gY29sbGVjdGlvbi5pZDtcclxuICAgICAgICAgICAgICAgIHRyZWUuZGF0YS50eXBlID0gVXRpbHMubm9ybWFsaXNlVHlwZShUcmVlTm9kZVR5cGUuQ09MTEVDVElPTik7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRDb2xsZWN0aW9uLmRlZmF1bHRUcmVlLmFkZE5vZGUodHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbGxlY3Rpb247XHJcbn0oSUlJRlJlc291cmNlKSk7XHJcbmV4cG9ydCB7IENvbGxlY3Rpb24gfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbi5qcy5tYXAiLCJ2YXIgRHVyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEdXJhdGlvbihzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgfVxyXG4gICAgRHVyYXRpb24ucHJvdG90eXBlLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbmQgLSB0aGlzLnN0YXJ0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEdXJhdGlvbjtcclxufSgpKTtcclxuZXhwb3J0IHsgRHVyYXRpb24gfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHVyYXRpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IE1hbmlmZXN0UmVzb3VyY2UsIFV0aWxzLCBMYW5ndWFnZU1hcCwgRGVzZXJpYWxpc2VyLCBMYWJlbFZhbHVlUGFpciwgVHJlZU5vZGUgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG5pbXBvcnQgeyBJSUlGUmVzb3VyY2VUeXBlLCBTZXJ2aWNlUHJvZmlsZSB9IGZyb20gXCJAaWlpZi92b2NhYnVsYXJ5L2Rpc3QtY29tbW9uanNcIjtcclxudmFyIElJSUZSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJSUlGUmVzb3VyY2UsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJSUlGUmVzb3VyY2UoanNvbmxkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmluZGV4ID0gLTE7XHJcbiAgICAgICAgX3RoaXMuaXNMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGRlZmF1bHRMYWJlbDogXCItXCIsXHJcbiAgICAgICAgICAgIGxvY2FsZTogXCJlbi1HQlwiLFxyXG4gICAgICAgICAgICByZXNvdXJjZTogX3RoaXMsXHJcbiAgICAgICAgICAgIHBlc3NpbWlzdGljQWNjZXNzQ29udHJvbDogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBJSUlGUmVzb3VyY2UucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vY29uc29sZS53YXJuKCdnZXRBdHRyaWJ1dGlvbiB3aWxsIGJlIGRlcHJlY2F0ZWQsIHVzZSBnZXRSZXF1aXJlZFN0YXRlbWVudCBpbnN0ZWFkLicpO1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGlvbiA9IHRoaXMuZ2V0UHJvcGVydHkoXCJhdHRyaWJ1dGlvblwiKTtcclxuICAgICAgICBpZiAoYXR0cmlidXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIExhbmd1YWdlTWFwLnBhcnNlKGF0dHJpYnV0aW9uLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfTtcclxuICAgIElJSUZSZXNvdXJjZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpO1xyXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VNYXAucGFyc2UoZGVzY3JpcHRpb24sIHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKTtcclxuICAgIH07XHJcbiAgICBJSUlGUmVzb3VyY2UucHJvdG90eXBlLmdldExvZ28gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxvZ28gPSB0aGlzLmdldFByb3BlcnR5KFwibG9nb1wiKTtcclxuICAgICAgICBpZiAoIWxvZ28pXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbG9nbyA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgcmV0dXJuIGxvZ287XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobG9nbykgJiYgbG9nby5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbG9nbyA9IGxvZ29bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2dvW1wiQGlkXCJdIHx8IGxvZ28uaWQ7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5nZXRMaWNlbnNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGljZW5zZVwiKSwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5nZXROYXZEYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmdldFByb3BlcnR5KFwibmF2RGF0ZVwiKSk7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5nZXRSZWxhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVsYXRlZFwiKTtcclxuICAgIH07XHJcbiAgICBJSUlGUmVzb3VyY2UucHJvdG90eXBlLmdldFNlZUFsc28gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzZWVBbHNvXCIpO1xyXG4gICAgfTtcclxuICAgIElJSUZSZXNvdXJjZS5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VydmljZSA9ICh0aGlzLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuVFJBQ0tJTkdfRVhURU5TSU9OUykpO1xyXG4gICAgICAgIGlmIChzZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmdldFByb3BlcnR5KFwidHJhY2tpbmdMYWJlbFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRUcmVlID0gbmV3IFRyZWVOb2RlKFwicm9vdFwiKTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRUcmVlLmRhdGEgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRUcmVlO1xyXG4gICAgfTtcclxuICAgIElJSUZSZXNvdXJjZS5wcm90b3R5cGUuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlcXVpcmVkU3RhdGVtZW50ID0gbnVsbDtcclxuICAgICAgICB2YXIgX3JlcXVpcmVkU3RhdGVtZW50ID0gdGhpcy5nZXRQcm9wZXJ0eShcInJlcXVpcmVkU3RhdGVtZW50XCIpO1xyXG4gICAgICAgIGlmIChfcmVxdWlyZWRTdGF0ZW1lbnQpIHtcclxuICAgICAgICAgICAgcmVxdWlyZWRTdGF0ZW1lbnQgPSBuZXcgTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICAgICAgICAgIHJlcXVpcmVkU3RhdGVtZW50LnBhcnNlKF9yZXF1aXJlZFN0YXRlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gYXR0cmlidXRpb24gKGlmIGl0IGV4aXN0cylcclxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0aW9uID0gdGhpcy5nZXRBdHRyaWJ1dGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkU3RhdGVtZW50ID0gbmV3IExhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRTdGF0ZW1lbnQudmFsdWUgPSBhdHRyaWJ1dGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVxdWlyZWRTdGF0ZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT04pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBJSUlGUmVzb3VyY2UucHJvdG90eXBlLmlzTWFuaWZlc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSUlJRlJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc18xID0gdGhhdC5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc18xLm5hdkRhdGUgPSB0aGF0LmdldE5hdkRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoYXQuX19qc29ubGQuaWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGF0Ll9fanNvbmxkW1wiQGlkXCJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgVXRpbHMubG9hZE1hbmlmZXN0KGlkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wYXJlbnRMYWJlbCA9IChMYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGF0LmdldExhYmVsKCksIG9wdGlvbnNfMS5sb2NhbGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gRGVzZXJpYWxpc2VyLnBhcnNlKGRhdGEsIG9wdGlvbnNfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdCA9IE9iamVjdC5hc3NpZ24odGhhdCwgcGFyc2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoYXQucGFyZW50Q29sbGVjdGlvbiA9IG9wdGlvbnMucmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmluZGV4ID0gb3B0aW9uc18xLmluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJSUlGUmVzb3VyY2U7XHJcbn0oTWFuaWZlc3RSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBJSUlGUmVzb3VyY2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUlJRlJlc291cmNlLmpzLm1hcCIsInZhciBKU09OTERSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEpTT05MRFJlc291cmNlKGpzb25sZCkge1xyXG4gICAgICAgIHRoaXMuX19qc29ubGQgPSBqc29ubGQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5nZXRQcm9wZXJ0eShcImNvbnRleHRcIik7XHJcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJpZFwiKTtcclxuICAgIH1cclxuICAgIEpTT05MRFJlc291cmNlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHByb3AgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLl9fanNvbmxkKSB7XHJcbiAgICAgICAgICAgIHByb3AgPSB0aGlzLl9fanNvbmxkW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoIXByb3ApIHtcclxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IG1heSBoYXZlIGEgcHJlcGVuZGVkICdAJ1xyXG4gICAgICAgICAgICAgICAgcHJvcCA9IHRoaXMuX19qc29ubGRbXCJAXCIgKyBuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvcDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSlNPTkxEUmVzb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEpTT05MRFJlc291cmNlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpTT05MRFJlc291cmNlLmpzLm1hcCIsImltcG9ydCB7IExhbmd1YWdlTWFwLCBVdGlscyB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBMYWJlbFZhbHVlUGFpciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIExhYmVsVmFsdWVQYWlyKGRlZmF1bHRMb2NhbGUpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBkZWZhdWx0TG9jYWxlO1xyXG4gICAgfVxyXG4gICAgTGFiZWxWYWx1ZVBhaXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBMYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLmxhYmVsLCB0aGlzLmRlZmF1bHRMb2NhbGUpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBMYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLnZhbHVlLCB0aGlzLmRlZmF1bHRMb2NhbGUpO1xyXG4gICAgfTtcclxuICAgIC8vIHNob3J0Y3V0cyB0byBnZXQvc2V0IHZhbHVlcyBiYXNlZCBvbiBkZWZhdWx0IGxvY2FsZVxyXG4gICAgTGFiZWxWYWx1ZVBhaXIucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmxhYmVsLCB0aGlzLmRlZmF1bHRMb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBMYWJlbFZhbHVlUGFpci5wcm90b3R5cGUuc2V0TGFiZWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsICYmIHRoaXMubGFiZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5sYWJlbC5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB4LmxvY2FsZSA9PT0gX3RoaXMuZGVmYXVsdExvY2FsZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHgubG9jYWxlID09PSBVdGlscy5nZXRJbmV4YWN0TG9jYWxlKF90aGlzLmRlZmF1bHRMb2NhbGUpO1xyXG4gICAgICAgICAgICB9KVswXTtcclxuICAgICAgICAgICAgaWYgKHQpXHJcbiAgICAgICAgICAgICAgICB0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIExhYmVsVmFsdWVQYWlyLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5kZWZhdWx0TG9jYWxlO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgbGFiZWwgaGFzIGEgbG9jYWxlLCBwcmVmZXIgdGhhdCB0byB0aGUgZGVmYXVsdCBsb2NhbGVcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwgJiYgdGhpcy5sYWJlbC5sZW5ndGggJiYgdGhpcy5sYWJlbFswXS5sb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMubGFiZWxbMF0ubG9jYWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLnZhbHVlLCBsb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBMYWJlbFZhbHVlUGFpci5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB4LmxvY2FsZSA9PT0gX3RoaXMuZGVmYXVsdExvY2FsZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHgubG9jYWxlID09PSBVdGlscy5nZXRJbmV4YWN0TG9jYWxlKF90aGlzLmRlZmF1bHRMb2NhbGUpO1xyXG4gICAgICAgICAgICB9KVswXTtcclxuICAgICAgICAgICAgaWYgKHQpXHJcbiAgICAgICAgICAgICAgICB0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBMYWJlbFZhbHVlUGFpcjtcclxufSgpKTtcclxuZXhwb3J0IHsgTGFiZWxWYWx1ZVBhaXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFiZWxWYWx1ZVBhaXIuanMubWFwIiwidmFyIExhbmd1YWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTGFuZ3VhZ2UodmFsdWUsIGxvY2FsZSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWVbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25jYXRlbmF0ZSBhbGwgb2YgdGhlIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLmpvaW4oXCI8YnIvPlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuICAgIH1cclxuICAgIHJldHVybiBMYW5ndWFnZTtcclxufSgpKTtcclxuZXhwb3J0IHsgTGFuZ3VhZ2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFuZ3VhZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IExhbmd1YWdlLCBVdGlscyB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBMYW5ndWFnZU1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMYW5ndWFnZU1hcCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExhbmd1YWdlTWFwKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIExhbmd1YWdlTWFwLnBhcnNlID0gZnVuY3Rpb24gKGxhbmd1YWdlLCBkZWZhdWx0TG9jYWxlKSB7XHJcbiAgICAgICAgdmFyIHRjID0gW107XHJcbiAgICAgICAgdmFyIHQ7XHJcbiAgICAgICAgaWYgKCFsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobGFuZ3VhZ2UpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFuZ3VhZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhbmd1YWdlW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgPSBuZXcgTGFuZ3VhZ2UodmFsdWUsIGRlZmF1bHRMb2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCA9IG5ldyBMYW5ndWFnZSh2YWx1ZVtcIkB2YWx1ZVwiXSwgdmFsdWVbXCJAbGFuZ3VhZ2VcIl0gfHwgZGVmYXVsdExvY2FsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0Yy5wdXNoKHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAvLyBpZiBpdCdzIGp1c3QgYSBzaW5nbGUgc3RyaW5nIHZhbHVlLCBjcmVhdGUgb25lIGxhbmd1YWdlIGluIHRoZSBjb25maWd1cmVkIGxvY2FsZVxyXG4gICAgICAgICAgICB0ID0gbmV3IExhbmd1YWdlKGxhbmd1YWdlLCBkZWZhdWx0TG9jYWxlKTtcclxuICAgICAgICAgICAgdGMucHVzaCh0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaXQncyBhbiBvYmplY3RcclxuICAgICAgICAgICAgaWYgKGxhbmd1YWdlW1wiQHZhbHVlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW50YXRpb24gMlxyXG4gICAgICAgICAgICAgICAgdCA9IG5ldyBMYW5ndWFnZShsYW5ndWFnZVtcIkB2YWx1ZVwiXSwgbGFuZ3VhZ2VbXCJAbGFuZ3VhZ2VcIl0gfHwgZGVmYXVsdExvY2FsZSk7XHJcbiAgICAgICAgICAgICAgICB0Yy5wdXNoKHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VudGF0aW9uIDNcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhbmd1YWdlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvOiBzdXBwb3J0IG11bHRpcGxlIHZhbHVlcyBpbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZVtrZXldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gbmV3IExhbmd1YWdlKGxhbmd1YWdlW2tleV0sIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRjLnB1c2godCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsYW5ndWFnZSBtdXN0IGhhdmUgYSB2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGM7XHJcbiAgICB9O1xyXG4gICAgTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUgPSBmdW5jdGlvbiAobGFuZ3VhZ2VDb2xsZWN0aW9uLCBsb2NhbGUpIHtcclxuICAgICAgICBpZiAobGFuZ3VhZ2VDb2xsZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFuZ3VhZ2UgPSBsYW5ndWFnZUNvbGxlY3Rpb24uZmlsdGVyKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQubG9jYWxlID09PSBsb2NhbGUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0LmxvY2FsZSkgPT09IFV0aWxzLmdldEluZXhhY3RMb2NhbGUobG9jYWxlKTtcclxuICAgICAgICAgICAgICAgIH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgZmlyc3QgdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlQ29sbGVjdGlvblswXS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIExhbmd1YWdlTWFwO1xyXG59KEFycmF5KSk7XHJcbmV4cG9ydCB7IExhbmd1YWdlTWFwIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxhbmd1YWdlTWFwLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBWaWV3aW5nSGludCwgQmVoYXZpb3IsIFNlcnZpY2VQcm9maWxlIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnkvZGlzdC1jb21tb25qc1wiO1xyXG5pbXBvcnQgeyBDYW52YXMsIElJSUZSZXNvdXJjZSwgTWFuaWZlc3RUeXBlLCBSYW5nZSwgU2VxdWVuY2UsIFRyZWVOb2RlVHlwZSwgVXRpbHMgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgTWFuaWZlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTWFuaWZlc3QsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBNYW5pZmVzdChqc29ubGQsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBqc29ubGQsIG9wdGlvbnMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xyXG4gICAgICAgIF90aGlzLl9hbGxSYW5nZXMgPSBudWxsO1xyXG4gICAgICAgIF90aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgX3RoaXMuX3RvcFJhbmdlcyA9IFtdO1xyXG4gICAgICAgIGlmIChfdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzICYmIF90aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3BSYW5nZXMgPSBfdGhpcy5fZ2V0VG9wUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9wUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0b3BSYW5nZXNbaV07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGFyc2VSYW5nZXMocmFuZ2UsIFN0cmluZyhpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFBvc3RlckNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcG9zdGVyQ2FudmFzID0gdGhpcy5nZXRQcm9wZXJ0eShcInBvc3RlckNhbnZhc1wiKTtcclxuICAgICAgICBpZiAocG9zdGVyQ2FudmFzKSB7XHJcbiAgICAgICAgICAgIHBvc3RlckNhbnZhcyA9IG5ldyBDYW52YXMocG9zdGVyQ2FudmFzLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zdGVyQ2FudmFzO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRCZWhhdmlvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYmVoYXZpb3IgPSB0aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYmVoYXZpb3IpKSB7XHJcbiAgICAgICAgICAgIGJlaGF2aW9yID0gYmVoYXZpb3JbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChiZWhhdmlvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gYmVoYXZpb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGUgPSBVdGlscy5ub3JtYWxpc2VUeXBlKFRyZWVOb2RlVHlwZS5NQU5JRkVTVCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRUcmVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG9wUmFuZ2VzID0gdGhpcy5nZXRUb3BSYW5nZXMoKTtcclxuICAgICAgICAvLyBpZiB0aGVyZSBhcmUgYW55IHJhbmdlcyBpbiB0aGUgbWFuaWZlc3QsIGRlZmF1bHQgdG8gdGhlIGZpcnN0ICd0b3AnIHJhbmdlIG9yIGdlbmVyYXRlZCBwbGFjZWhvbGRlclxyXG4gICAgICAgIGlmICh0b3BSYW5nZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRvcFJhbmdlc1swXS5nZXRUcmVlKHRoaXMuZGVmYXVsdFRyZWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBVdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRUcmVlO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0LnByb3RvdHlwZS5fZ2V0VG9wUmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0b3BSYW5nZXMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzICYmIHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBqc29uID0gdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb24udmlld2luZ0hpbnQgPT09IFZpZXdpbmdIaW50LlRPUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcFJhbmdlcy5wdXNoKGpzb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIHZpZXdpbmdIaW50PVwidG9wXCIgcmFuZ2Ugd2FzIGZvdW5kLCBjcmVhdGUgYSBkZWZhdWx0IG9uZVxyXG4gICAgICAgICAgICBpZiAoIXRvcFJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UucmFuZ2VzID0gdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzO1xyXG4gICAgICAgICAgICAgICAgdG9wUmFuZ2VzLnB1c2gocmFuZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3BSYW5nZXM7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFRvcFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9wUmFuZ2VzO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0LnByb3RvdHlwZS5fZ2V0UmFuZ2VCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyAmJiB0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHRoaXMuX19qc29ubGQuc3RydWN0dXJlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChyW1wiQGlkXCJdID09PSBpZCB8fCByLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vcHJpdmF0ZSBfcGFyc2VSYW5nZUNhbnZhcyhqc29uOiBhbnksIHJhbmdlOiBSYW5nZSk6IHZvaWQge1xyXG4gICAgLy8gdG9kbzogY3VycmVudGx5IHRoaXMgaXNuJ3QgbmVlZGVkXHJcbiAgICAvL3ZhciBjYW52YXM6IElKU09OTERSZXNvdXJjZSA9IG5ldyBKU09OTERSZXNvdXJjZShqc29uKTtcclxuICAgIC8vcmFuZ2UuaXRlbXMucHVzaCg8SU1hbmlmZXN0UmVzb3VyY2U+Y2FudmFzKTtcclxuICAgIC8vfVxyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLl9wYXJzZVJhbmdlcyA9IGZ1bmN0aW9uIChyLCBwYXRoLCBwYXJlbnRSYW5nZSkge1xyXG4gICAgICAgIHZhciByYW5nZTtcclxuICAgICAgICB2YXIgaWQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgciA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZCA9IHI7XHJcbiAgICAgICAgICAgIHIgPSB0aGlzLl9nZXRSYW5nZUJ5SWQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUmFuZ2U6XCIsIGlkLCBcImRvZXMgbm90IGV4aXN0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKHIsIHRoaXMub3B0aW9ucyk7XHJcbiAgICAgICAgcmFuZ2UucGFyZW50UmFuZ2UgPSBwYXJlbnRSYW5nZTtcclxuICAgICAgICByYW5nZS5wYXRoID0gcGF0aDtcclxuICAgICAgICBpZiAoIXBhcmVudFJhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvcFJhbmdlcy5wdXNoKHJhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmVudFJhbmdlLml0ZW1zLnB1c2gocmFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaXRlbXMgPSByLml0ZW1zIHx8IHIubWVtYmVycztcclxuICAgICAgICBpZiAoaXRlbXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIHRvZG86IHVzZSBhbiBJdGVtVHlwZSBjb25zdGFudD9cclxuICAgICAgICAgICAgICAgIGlmICgoaXRlbVtcIkB0eXBlXCJdICYmIGl0ZW1bXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpID09PSBcInNjOnJhbmdlXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKGl0ZW1bXCJ0eXBlXCJdICYmIGl0ZW1bXCJ0eXBlXCJdLnRvTG93ZXJDYXNlKCkgPT09IFwicmFuZ2VcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVJhbmdlcyhpdGVtLCBwYXRoICsgXCIvXCIgKyBpLCByYW5nZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoaXRlbVtcIkB0eXBlXCJdICYmIGl0ZW1bXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpID09PSBcInNjOmNhbnZhc1wiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChpdGVtW1widHlwZVwiXSAmJiBpdGVtW1widHlwZVwiXS50b0xvd2VyQ2FzZSgpID09PSBcImNhbnZhc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBpZHMgb24gdGhlIF9fanNvbmxkIG9iamVjdCB0byBiZSB1c2VkIGJ5IFJhbmdlLmdldENhbnZhc0lkcygpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyYW5nZS5jYW52YXNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jYW52YXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWRfMSA9IGl0ZW0uaWQgfHwgaXRlbVtcIkBpZFwiXTtcclxuICAgICAgICAgICAgICAgICAgICByYW5nZS5jYW52YXNlcy5wdXNoKGlkXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHIucmFuZ2VzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgci5yYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlUmFuZ2VzKHIucmFuZ2VzW2ldLCBwYXRoICsgXCIvXCIgKyBpLCByYW5nZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldEFsbFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYWxsUmFuZ2VzICE9IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGxSYW5nZXM7XHJcbiAgICAgICAgdGhpcy5fYWxsUmFuZ2VzID0gW107XHJcbiAgICAgICAgdmFyIHRvcFJhbmdlcyA9IHRoaXMuZ2V0VG9wUmFuZ2VzKCk7XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICB2YXIgdG9wUmFuZ2UgPSB0b3BSYW5nZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh0b3BSYW5nZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpc18xLl9hbGxSYW5nZXMucHVzaCh0b3BSYW5nZSk7IC8vIGl0IG1pZ2h0IGJlIGEgcGxhY2Vob2xkZXIgcm9vdCByYW5nZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gKGFjYywgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgYWNjLmFkZChuZXh0KTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0UmFuZ2VzID0gbmV4dC5nZXRSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0UmFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0UmFuZ2VzLnJlZHVjZShyZWR1Y2VyLCBhY2MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHN1YlJhbmdlcyA9IEFycmF5LmZyb20odG9wUmFuZ2UuZ2V0UmFuZ2VzKCkucmVkdWNlKHJlZHVjZXIsIG5ldyBTZXQoKSkpO1xyXG4gICAgICAgICAgICB0aGlzXzEuX2FsbFJhbmdlcyA9IHRoaXNfMS5fYWxsUmFuZ2VzLmNvbmNhdChzdWJSYW5nZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3BSYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgX2xvb3BfMShpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbFJhbmdlcztcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZ2V0QWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5nZXRBbGxSYW5nZXMoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5wYXRoID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFNlcXVlbmNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEl4SUYgbWVkaWFTZXF1ZW5jZXMgb3ZlcnJvZGUgc2VxdWVuY2VzLCBzbyBuZWVkIHRvIGJlIGNoZWNrZWQgZmlyc3QuXHJcbiAgICAgICAgLy8gZGVwcmVjYXRlIHRoaXMgd2hlbiBwcmVzZW50YXRpb24gMyBzaGlwc1xyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuX19qc29ubGQubWVkaWFTZXF1ZW5jZXMgfHwgdGhpcy5fX2pzb25sZC5zZXF1ZW5jZXM7XHJcbiAgICAgICAgaWYgKGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxdWVuY2UgPSBuZXcgU2VxdWVuY2UocywgdGhpcy5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChzZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fX2pzb25sZC5pdGVtcykge1xyXG4gICAgICAgICAgICB2YXIgc2VxdWVuY2UgPSBuZXcgU2VxdWVuY2UodGhpcy5fX2pzb25sZC5pdGVtcywgdGhpcy5vcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHNlcXVlbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFNlcXVlbmNlQnlJbmRleCA9IGZ1bmN0aW9uIChzZXF1ZW5jZUluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKClbc2VxdWVuY2VJbmRleF07XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFRvdGFsU2VxdWVuY2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcXVlbmNlcygpLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlID0gKHRoaXMuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5VSV9FWFRFTlNJT05TKSk7XHJcbiAgICAgICAgaWYgKHNlcnZpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0UHJvcGVydHkoXCJtYW5pZmVzdFR5cGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYW5pZmVzdFR5cGUuRU1QVFk7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmlzTXVsdGlTZXF1ZW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb3RhbFNlcXVlbmNlcygpID4gMTtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdC5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nSGludCA9IHRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtcclxuICAgICAgICBpZiAodmlld2luZ0hpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdIaW50ID09PSBWaWV3aW5nSGludC5QQUdFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJlaGF2aW9yID0gdGhpcy5nZXRCZWhhdmlvcigpO1xyXG4gICAgICAgIGlmIChiZWhhdmlvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gYmVoYXZpb3IgPT09IEJlaGF2aW9yLlBBR0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3QucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRWaWV3aW5nSGludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNYW5pZmVzdDtcclxufShJSUlGUmVzb3VyY2UpKTtcclxuZXhwb3J0IHsgTWFuaWZlc3QgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFuaWZlc3QuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IEpTT05MRFJlc291cmNlLCBUaHVtYm5haWwsIFV0aWxzLCBSZW5kZXJpbmcsIExhYmVsVmFsdWVQYWlyLCBMYW5ndWFnZU1hcCB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbmltcG9ydCB7IElJSUZSZXNvdXJjZVR5cGUgfSBmcm9tIFwiQGlpaWYvdm9jYWJ1bGFyeS9kaXN0LWNvbW1vbmpzXCI7XHJcbnZhciBNYW5pZmVzdFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKE1hbmlmZXN0UmVzb3VyY2UsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBNYW5pZmVzdFJlc291cmNlKGpzb25sZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGpzb25sZCkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKTtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIik7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5wYXJzZShsYWJlbCwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5nZXREZWZhdWx0TGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIExhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMuZ2V0TGFiZWwoKSk7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3RSZXNvdXJjZS5wcm90b3R5cGUuZ2V0TWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9tZXRhZGF0YSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJtZXRhZGF0YVwiKTtcclxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBbXTtcclxuICAgICAgICBpZiAoIV9tZXRhZGF0YSlcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX21ldGFkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gX21ldGFkYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFJdGVtID0gbmV3IExhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0ucGFyc2UoaXRlbSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhLnB1c2gobWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0UmVzb3VyY2UucHJvdG90eXBlLmdldFJlbmRlcmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcclxuICAgICAgICB2YXIgcmVuZGVyaW5ncyA9IHRoaXMuZ2V0UmVuZGVyaW5ncygpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVuZGVyaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcmVuZGVyaW5nID0gcmVuZGVyaW5nc1tpXTtcclxuICAgICAgICAgICAgaWYgKHJlbmRlcmluZy5nZXRGb3JtYXQoKSA9PT0gZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0UmVzb3VyY2UucHJvdG90eXBlLmdldFJlbmRlcmluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlbmRlcmluZztcclxuICAgICAgICAvLyBpZiBwYXNzaW5nIGEgbWFuaWZlc3RvLXBhcnNlZCBvYmplY3QsIHVzZSB0aGUgX19qc29ubGQucmVuZGVyaW5nIHByb3BlcnR5LFxyXG4gICAgICAgIC8vIG90aGVyd2lzZSBsb29rIGZvciBhIHJlbmRlcmluZyBwcm9wZXJ0eVxyXG4gICAgICAgIGlmICh0aGlzLl9fanNvbmxkKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZyA9IHRoaXMuX19qc29ubGQucmVuZGVyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nID0gdGhpcy5yZW5kZXJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZW5kZXJpbmdzID0gW107XHJcbiAgICAgICAgaWYgKCFyZW5kZXJpbmcpXHJcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJpbmdzO1xyXG4gICAgICAgIC8vIGNvZXJjZSB0byBhcnJheVxyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZW5kZXJpbmcpKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZyA9IFtyZW5kZXJpbmddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbmRlcmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IHJlbmRlcmluZ1tpXTtcclxuICAgICAgICAgICAgcmVuZGVyaW5ncy5wdXNoKG5ldyBSZW5kZXJpbmcociwgdGhpcy5vcHRpb25zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdzO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0UmVzb3VyY2UucHJvdG90eXBlLmdldFNlcnZpY2UgPSBmdW5jdGlvbiAocHJvZmlsZSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRTZXJ2aWNlKHRoaXMsIHByb2ZpbGUpO1xyXG4gICAgfTtcclxuICAgIE1hbmlmZXN0UmVzb3VyY2UucHJvdG90eXBlLmdldFNlcnZpY2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRTZXJ2aWNlcyh0aGlzKTtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5nZXRUaHVtYm5haWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGh1bWJuYWlsKSkge1xyXG4gICAgICAgICAgICB0aHVtYm5haWwgPSB0aHVtYm5haWxbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aHVtYm5haWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaHVtYm5haWwodGh1bWJuYWlsLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5pc0Fubm90YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLkFOTk9UQVRJT047XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3RSZXNvdXJjZS5wcm90b3R5cGUuaXNDYW52YXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLkNBTlZBUztcclxuICAgIH07XHJcbiAgICBNYW5pZmVzdFJlc291cmNlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpID09PSBJSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT047XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3RSZXNvdXJjZS5wcm90b3R5cGUuaXNNYW5pZmVzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCkgPT09IElJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1Q7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3RSZXNvdXJjZS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCkgPT09IElJSUZSZXNvdXJjZVR5cGUuUkFOR0U7XHJcbiAgICB9O1xyXG4gICAgTWFuaWZlc3RSZXNvdXJjZS5wcm90b3R5cGUuaXNTZXF1ZW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCkgPT09IElJSUZSZXNvdXJjZVR5cGUuU0VRVUVOQ0U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1hbmlmZXN0UmVzb3VyY2U7XHJcbn0oSlNPTkxEUmVzb3VyY2UpKTtcclxuZXhwb3J0IHsgTWFuaWZlc3RSZXNvdXJjZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYW5pZmVzdFJlc291cmNlLmpzLm1hcCIsImV4cG9ydCB2YXIgTWFuaWZlc3RUeXBlO1xyXG4oZnVuY3Rpb24gKE1hbmlmZXN0VHlwZSkge1xyXG4gICAgTWFuaWZlc3RUeXBlW1wiRU1QVFlcIl0gPSBcIlwiO1xyXG4gICAgTWFuaWZlc3RUeXBlW1wiTUFOVVNDUklQVFwiXSA9IFwibWFudXNjcmlwdFwiO1xyXG4gICAgTWFuaWZlc3RUeXBlW1wiTU9OT0dSQVBIXCJdID0gXCJtb25vZ3JhcGhcIjtcclxufSkoTWFuaWZlc3RUeXBlIHx8IChNYW5pZmVzdFR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYW5pZmVzdFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IER1cmF0aW9uLCBMYW5ndWFnZU1hcCwgTWFuaWZlc3RSZXNvdXJjZSwgVHJlZU5vZGUsIFRyZWVOb2RlVHlwZSwgVXRpbHMgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG5pbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gXCJAaWlpZi92b2NhYnVsYXJ5L2Rpc3QtY29tbW9uanNcIjtcclxudmFyIFJhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJhbmdlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmFuZ2UoanNvbmxkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLl9yYW5nZXMgPSBudWxsO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc2VzID0gbnVsbDtcclxuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJhbmdlLnByb3RvdHlwZS5nZXRDYW52YXNJZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX19qc29ubGQuY2FudmFzZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19qc29ubGQuY2FudmFzZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2FudmFzZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH07XHJcbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0O1xyXG4gICAgICAgIHZhciBlbmQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzZXMgJiYgdGhpcy5jYW52YXNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhbnZhc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXNlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wb3JhbCA9IFV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KGNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcG9yYWwgJiYgdGVtcG9yYWwubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gTnVtYmVyKHRlbXBvcmFsWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHRoaXMuY2FudmFzZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBOdW1iZXIodGVtcG9yYWxbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ2V0IGNoaWxkIHJhbmdlcyBhbmQgY2FsY3VsYXRlIHRoZSBzdGFydCBhbmQgZW5kIGJhc2VkIG9uIHRoZW1cclxuICAgICAgICAgICAgdmFyIGNoaWxkUmFuZ2VzID0gdGhpcy5nZXRSYW5nZXMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZFJhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkUmFuZ2UgPSBjaGlsZFJhbmdlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IGNoaWxkUmFuZ2UuZ2V0RHVyYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZHVyYXRpb24uc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBjaGlsZFJhbmdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGR1cmF0aW9uLmVuZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXJ0ICE9PSB1bmRlZmluZWQgJiYgZW5kICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEdXJhdGlvbihzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICAvLyBnZXRDYW52YXNlcygpOiBJQ2FudmFzW10ge1xyXG4gICAgLy8gICAgIGlmICh0aGlzLl9jYW52YXNlcykge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzZXM7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLl9jYW52YXNlcyA9IDxJQ2FudmFzW10+dGhpcy5pdGVtcy5lbigpLndoZXJlKG0gPT4gbS5pc0NhbnZhcygpKS50b0FycmF5KCk7XHJcbiAgICAvLyB9XHJcbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0UmFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9yYW5nZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9yYW5nZXMgPSB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5pc1JhbmdlKCk7IH0pKTtcclxuICAgIH07XHJcbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0QmVoYXZpb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJlaGF2aW9yID0gdGhpcy5nZXRQcm9wZXJ0eShcImJlaGF2aW9yXCIpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJlaGF2aW9yKSkge1xyXG4gICAgICAgICAgICBiZWhhdmlvciA9IGJlaGF2aW9yWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmVoYXZpb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJlaGF2aW9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik7XHJcbiAgICB9O1xyXG4gICAgUmFuZ2UucHJvdG90eXBlLmdldFZpZXdpbmdIaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0hpbnRcIik7XHJcbiAgICB9O1xyXG4gICAgUmFuZ2UucHJvdG90eXBlLmdldFRyZWUgPSBmdW5jdGlvbiAodHJlZVJvb3QpIHtcclxuICAgICAgICB0cmVlUm9vdC5kYXRhID0gdGhpcztcclxuICAgICAgICB0aGlzLnRyZWVOb2RlID0gdHJlZVJvb3Q7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZ2V0UmFuZ2VzKCk7XHJcbiAgICAgICAgaWYgKHJhbmdlcyAmJiByYW5nZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgdHJlZVJvb3QuYWRkTm9kZShub2RlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlVHJlZU5vZGUobm9kZSwgcmFuZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModHJlZVJvb3QpO1xyXG4gICAgICAgIHJldHVybiB0cmVlUm9vdDtcclxuICAgIH07XHJcbiAgICBSYW5nZS5wcm90b3R5cGUuc3BhbnNUaW1lID0gZnVuY3Rpb24gKHRpbWUpIHtcclxuICAgICAgICB2YXIgZHVyYXRpb24gPSB0aGlzLmdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgaWYgKGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh0aW1lID49IGR1cmF0aW9uLnN0YXJ0ICYmIHRpbWUgPD0gZHVyYXRpb24uZW5kKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgUmFuZ2UucHJvdG90eXBlLl9wYXJzZVRyZWVOb2RlID0gZnVuY3Rpb24gKG5vZGUsIHJhbmdlKSB7XHJcbiAgICAgICAgbm9kZS5sYWJlbCA9IChMYW5ndWFnZU1hcC5nZXRWYWx1ZShyYW5nZS5nZXRMYWJlbCgpLCB0aGlzLm9wdGlvbnMubG9jYWxlKSk7XHJcbiAgICAgICAgbm9kZS5kYXRhID0gcmFuZ2U7XHJcbiAgICAgICAgbm9kZS5kYXRhLnR5cGUgPSBVdGlscy5ub3JtYWxpc2VUeXBlKFRyZWVOb2RlVHlwZS5SQU5HRSk7XHJcbiAgICAgICAgcmFuZ2UudHJlZU5vZGUgPSBub2RlO1xyXG4gICAgICAgIHZhciByYW5nZXMgPSByYW5nZS5nZXRSYW5nZXMoKTtcclxuICAgICAgICBpZiAocmFuZ2VzICYmIHJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFJhbmdlID0gcmFuZ2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlaGF2aW9yID0gY2hpbGRSYW5nZS5nZXRCZWhhdmlvcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJlaGF2aW9yID09PSBCZWhhdmlvci5OT19OQVYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE5vZGUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmFkZE5vZGUoY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVRyZWVOb2RlKGNoaWxkTm9kZSwgY2hpbGRSYW5nZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJhbmdlO1xyXG59KE1hbmlmZXN0UmVzb3VyY2UpKTtcclxuZXhwb3J0IHsgUmFuZ2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmFuZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IE1hbmlmZXN0UmVzb3VyY2UgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgUmVuZGVyaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlbmRlcmluZywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJlbmRlcmluZyhqc29ubGQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgUmVuZGVyaW5nLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlbmRlcmluZztcclxufShNYW5pZmVzdFJlc291cmNlKSk7XHJcbmV4cG9ydCB7IFJlbmRlcmluZyB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJpbmcuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbmltcG9ydCB7IEFubm90YXRpb24sIE1hbmlmZXN0UmVzb3VyY2UsIFV0aWxzIH0gZnJvbSBcIi4vaW50ZXJuYWxcIjtcclxudmFyIFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlc291cmNlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UoanNvbmxkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGpzb25sZCwgb3B0aW9ucykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFJlc291cmNlLnByb3RvdHlwZS5nZXRGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7XHJcbiAgICAgICAgaWYgKGZvcm1hdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFJlc291cmNlLnByb3RvdHlwZS5nZXRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIGlmICghdGhpcy5fX2pzb25sZC5yZXNvdXJjZXMpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9fanNvbmxkLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuX19qc29ubGQucmVzb3VyY2VzW2ldO1xyXG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IG5ldyBBbm5vdGF0aW9uKGEsIHRoaXMub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc291cmNlcy5wdXNoKGFubm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xyXG4gICAgfTtcclxuICAgIFJlc291cmNlLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik7XHJcbiAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLm5vcm1hbGlzZVR5cGUodHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFJlc291cmNlLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpO1xyXG4gICAgfTtcclxuICAgIFJlc291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIik7XHJcbiAgICB9O1xyXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmdldE1heFdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4V2lkdGhcIik7XHJcbiAgICB9O1xyXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmdldE1heEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEhlaWdodFwiKTtcclxuICAgICAgICAvLyBpZiBhIG1heEhlaWdodCBoYXNuJ3QgYmVlbiBzcGVjaWZpZWQsIGRlZmF1bHQgdG8gbWF4V2lkdGguXHJcbiAgICAgICAgLy8gbWF4V2lkdGggaW4gZXNzZW5jZSBiZWNvbWVzIG1heEVkZ2VcclxuICAgICAgICBpZiAoIW1heEhlaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXhXaWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVzb3VyY2U7XHJcbn0oTWFuaWZlc3RSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBSZXNvdXJjZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvdXJjZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiwgVmlld2luZ0hpbnQgfSBmcm9tIFwiQGlpaWYvdm9jYWJ1bGFyeS9kaXN0LWNvbW1vbmpzXCI7XHJcbmltcG9ydCB7IENhbnZhcywgTGFuZ3VhZ2VNYXAsIE1hbmlmZXN0UmVzb3VyY2UsIFRodW1iLCBVdGlscyB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBTZXF1ZW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXF1ZW5jZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlcXVlbmNlKGpzb25sZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGpzb25sZCwgb3B0aW9ucykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIF90aGlzLl90aHVtYm5haWxzID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9fanNvbmxkLmNhbnZhc2VzIHx8IHRoaXMuX19qc29ubGQuZWxlbWVudHM7XHJcbiAgICAgICAgaWYgKGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gbmV3IENhbnZhcyhjLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChjYW52YXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX19qc29ubGQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9fanNvbmxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuX19qc29ubGRbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gbmV3IENhbnZhcyhjLCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChjYW52YXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhc0J5SW5kZXgoaSk7XHJcbiAgICAgICAgICAgIC8vIG5vcm1hbGlzZSBjYW52YXMgaWRcclxuICAgICAgICAgICAgdmFyIGNhbnZhc0lkID0gVXRpbHMubm9ybWFsaXNlVXJsKGNhbnZhcy5pZCk7XHJcbiAgICAgICAgICAgIGlmIChVdGlscy5ub3JtYWxpc2VVcmwoaWQpID09PSBjYW52YXNJZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleCA9IGZ1bmN0aW9uIChjYW52YXNJbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENhbnZhc2VzKClbY2FudmFzSW5kZXhdO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0VG90YWxDYW52YXNlcygpOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzQnlJbmRleChpKTtcclxuICAgICAgICAgICAgaWYgKGNhbnZhcy5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5TGFiZWwgPSBmdW5jdGlvbiAobGFiZWwsIGZvbGlhdGVkKSB7XHJcbiAgICAgICAgbGFiZWwgPSBsYWJlbC50cmltKCk7XHJcbiAgICAgICAgaWYgKCFpc05hTihsYWJlbCkpIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIGxhYmVsIGlzIG51bWVyaWNcclxuICAgICAgICAgICAgbGFiZWwgPSBwYXJzZUludChsYWJlbCwgMTApLnRvU3RyaW5nKCk7IC8vIHRyaW0gYW55IHByZWNlZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgaWYgKGZvbGlhdGVkKVxyXG4gICAgICAgICAgICAgICAgbGFiZWwgKz0gXCJyXCI7IC8vIGRlZmF1bHQgdG8gcmVjdG9cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRvdWJsZVBhZ2VSZWdFeHAgPSAvKFxcZCopXFxEKyhcXGQqKS87XHJcbiAgICAgICAgdmFyIG1hdGNoLCByZWdFeHAsIHJlZ1N0ciwgbGFiZWxQYXJ0MSwgbGFiZWxQYXJ0MjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0VG90YWxDYW52YXNlcygpOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzQnlJbmRleChpKTtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUncyBhIGxpdGVyYWwgbWF0Y2hcclxuICAgICAgICAgICAgaWYgKExhbmd1YWdlTWFwLmdldFZhbHVlKGNhbnZhcy5nZXRMYWJlbCgpLCB0aGlzLm9wdGlvbnMubG9jYWxlKSA9PT0gbGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlJ3MgYSBtYXRjaCBmb3IgZG91YmxlLXBhZ2Ugc3ByZWFkcyBlLmcuIDEwMC0xMDEsIDEwMF8xMDEsIDEwMCAxMDFcclxuICAgICAgICAgICAgbWF0Y2ggPSBkb3VibGVQYWdlUmVnRXhwLmV4ZWMobGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGxhYmVsUGFydDEgPSBtYXRjaFsxXTtcclxuICAgICAgICAgICAgbGFiZWxQYXJ0MiA9IG1hdGNoWzJdO1xyXG4gICAgICAgICAgICBpZiAoIWxhYmVsUGFydDIpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgcmVnU3RyID0gXCJeXCIgKyBsYWJlbFBhcnQxICsgXCJcXFxcRCtcIiArIGxhYmVsUGFydDIgKyBcIiRcIjtcclxuICAgICAgICAgICAgcmVnRXhwID0gbmV3IFJlZ0V4cChyZWdTdHIpO1xyXG4gICAgICAgICAgICBpZiAocmVnRXhwLnRlc3QoY2FudmFzLmdldExhYmVsKCkudG9TdHJpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH07XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0TGFzdENhbnZhc0xhYmVsID0gZnVuY3Rpb24gKGFscGhhbnVtZXJpYykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhc0J5SW5kZXgoaSk7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IChMYW5ndWFnZU1hcC5nZXRWYWx1ZShjYW52YXMuZ2V0TGFiZWwoKSwgdGhpcy5vcHRpb25zLmxvY2FsZSkpO1xyXG4gICAgICAgICAgICBpZiAoYWxwaGFudW1lcmljKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnRXhwID0gL15bYS16QS1aMC05XSokLztcclxuICAgICAgICAgICAgICAgIGlmIChyZWdFeHAudGVzdChsYWJlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmRlZmF1bHRMYWJlbDtcclxuICAgIH07XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCkgLSAxO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXROZXh0UGFnZUluZGV4ID0gZnVuY3Rpb24gKGNhbnZhc0luZGV4LCBwYWdpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGluZGV4O1xyXG4gICAgICAgIGlmIChwYWdpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZXRQYWdlZEluZGljZXMoY2FudmFzSW5kZXgpO1xyXG4gICAgICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGljZXNbMF0gKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRpY2VzW2luZGljZXMubGVuZ3RoIC0gMV0gKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbmRleCA9IGNhbnZhc0luZGV4ICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5nZXRMYXN0UGFnZUluZGV4KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9O1xyXG4gICAgU2VxdWVuY2UucHJvdG90eXBlLmdldFBhZ2VkSW5kaWNlcyA9IGZ1bmN0aW9uIChjYW52YXNJbmRleCwgcGFnaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XHJcbiAgICAgICAgaWYgKCFwYWdpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGluZGljZXMucHVzaChjYW52YXNJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpcnN0Q2FudmFzKGNhbnZhc0luZGV4KSB8fCB0aGlzLmlzTGFzdENhbnZhcyhjYW52YXNJbmRleCkpIHtcclxuICAgICAgICAgICAgICAgIGluZGljZXMgPSBbY2FudmFzSW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNhbnZhc0luZGV4ICUgMikge1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IFtjYW52YXNJbmRleCwgY2FudmFzSW5kZXggKyAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluZGljZXMgPSBbY2FudmFzSW5kZXggLSAxLCBjYW52YXNJbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICAgICAgaWYgKHZpZXdpbmdEaXJlY3Rpb24gJiZcclxuICAgICAgICAgICAgICAgIHZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVCkge1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlcyA9IGluZGljZXMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRpY2VzO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRQcmV2UGFnZUluZGV4ID0gZnVuY3Rpb24gKGNhbnZhc0luZGV4LCBwYWdpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGluZGV4O1xyXG4gICAgICAgIGlmIChwYWdpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZXRQYWdlZEluZGljZXMoY2FudmFzSW5kZXgpO1xyXG4gICAgICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXSAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGljZXNbMF0gLSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbmRleCA9IGNhbnZhc0luZGV4IC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzdGFydENhbnZhcyA9IHRoaXMuZ2V0U3RhcnRDYW52YXMoKTtcclxuICAgICAgICBpZiAoc3RhcnRDYW52YXMpIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIHN0YXJ0Q2FudmFzIGF0dHJpYnV0ZSwgbG9vcCB0aHJvdWdoIHRoZSBjYW52YXNlcyBhbmQgcmV0dXJuIHRoZSBtYXRjaGluZyBpbmRleC5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXNCeUluZGV4KGkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhcy5pZCA9PT0gc3RhcnRDYW52YXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGVmYXVsdCB0byBmaXJzdCBjYW52YXMuXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9O1xyXG4gICAgLy8gdG9kbzogZGVwcmVjYXRlXHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0VGh1bWJzID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICAvL2NvbnNvbGUud2FybignZ2V0VGh1bWJzIHdpbGwgYmUgZGVwcmVjYXRlZCwgdXNlIGdldFRodW1ibmFpbHMgaW5zdGVhZCcpO1xyXG4gICAgICAgIHZhciB0aHVtYnMgPSBbXTtcclxuICAgICAgICB2YXIgdG90YWxDYW52YXNlcyA9IHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxDYW52YXNlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhc0J5SW5kZXgoaSk7XHJcbiAgICAgICAgICAgIHZhciB0aHVtYiA9IG5ldyBUaHVtYih3aWR0aCwgY2FudmFzKTtcclxuICAgICAgICAgICAgdGh1bWJzLnB1c2godGh1bWIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGh1bWJzO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRUaHVtYm5haWxzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90aHVtYm5haWxzICE9IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aHVtYm5haWxzO1xyXG4gICAgICAgIHRoaXMuX3RodW1ibmFpbHMgPSBbXTtcclxuICAgICAgICB2YXIgY2FudmFzZXMgPSB0aGlzLmdldENhbnZhc2VzKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW52YXNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsID0gY2FudmFzZXNbaV0uZ2V0VGh1bWJuYWlsKCk7XHJcbiAgICAgICAgICAgIGlmICh0aHVtYm5haWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RodW1ibmFpbHMucHVzaCh0aHVtYm5haWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl90aHVtYm5haWxzO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRTdGFydENhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInN0YXJ0Q2FudmFzXCIpO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRUb3RhbENhbnZhc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENhbnZhc2VzKCkubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmVzb3VyY2UuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKTtcclxuICAgIH07XHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuaXNDYW52YXNJbmRleE91dE9mUmFuZ2UgPSBmdW5jdGlvbiAoY2FudmFzSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzSW5kZXggPiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSAtIDE7XHJcbiAgICB9O1xyXG4gICAgU2VxdWVuY2UucHJvdG90eXBlLmlzRmlyc3RDYW52YXMgPSBmdW5jdGlvbiAoY2FudmFzSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzSW5kZXggPT09IDA7XHJcbiAgICB9O1xyXG4gICAgU2VxdWVuY2UucHJvdG90eXBlLmlzTGFzdENhbnZhcyA9IGZ1bmN0aW9uIChjYW52YXNJbmRleCkge1xyXG4gICAgICAgIHJldHVybiBjYW52YXNJbmRleCA9PT0gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCkgLSAxO1xyXG4gICAgfTtcclxuICAgIFNlcXVlbmNlLnByb3RvdHlwZS5pc011bHRpQ2FudmFzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSA+IDE7XHJcbiAgICB9O1xyXG4gICAgU2VxdWVuY2UucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0hpbnQgPSB0aGlzLmdldFZpZXdpbmdIaW50KCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdIaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nSGludCA9PT0gVmlld2luZ0hpbnQuUEFHRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvLyBjaGVja3MgaWYgdGhlIG51bWJlciBvZiBjYW52YXNlcyBpcyBldmVuIC0gdGhlcmVmb3JlIGhhcyBhIGZyb250IGFuZCBiYWNrIGNvdmVyXHJcbiAgICBTZXF1ZW5jZS5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCkgJSAyID09PSAwO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTZXF1ZW5jZTtcclxufShNYW5pZmVzdFJlc291cmNlKSk7XHJcbmV4cG9ydCB7IFNlcXVlbmNlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcXVlbmNlLmpzLm1hcCIsImltcG9ydCB7IENvbGxlY3Rpb24sIE1hbmlmZXN0IH0gZnJvbSBcIi4vaW50ZXJuYWxcIjtcclxudmFyIERlc2VyaWFsaXNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlc2VyaWFsaXNlcigpIHtcclxuICAgIH1cclxuICAgIERlc2VyaWFsaXNlci5wYXJzZSA9IGZ1bmN0aW9uIChtYW5pZmVzdCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbWFuaWZlc3QgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgbWFuaWZlc3QgPSBKU09OLnBhcnNlKG1hbmlmZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VKc29uKG1hbmlmZXN0LCBvcHRpb25zKTtcclxuICAgIH07XHJcbiAgICBEZXNlcmlhbGlzZXIucGFyc2VKc29uID0gZnVuY3Rpb24gKGpzb24sIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgcmVzb3VyY2U7XHJcbiAgICAgICAgLy8gaGF2ZSBvcHRpb25zIGJlZW4gcGFzc2VkIGZvciB0aGUgbWFuaWZlc3QgdG8gaW5oZXJpdD9cclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5uYXZEYXRlICYmICFpc05hTihvcHRpb25zLm5hdkRhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgICAgICAganNvbi5uYXZEYXRlID0gb3B0aW9ucy5uYXZEYXRlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGpzb25bXCJAdHlwZVwiXSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGpzb25bXCJAdHlwZVwiXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjOkNvbGxlY3Rpb25cIjpcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHRoaXMucGFyc2VDb2xsZWN0aW9uKGpzb24sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjOk1hbmlmZXN0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSB0aGlzLnBhcnNlTWFuaWZlc3QoanNvbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBwcmVzZW50YXRpb24gM1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGpzb25bXCJ0eXBlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ29sbGVjdGlvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gdGhpcy5wYXJzZUNvbGxlY3Rpb24oanNvbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTWFuaWZlc3RcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHRoaXMucGFyc2VNYW5pZmVzdChqc29uLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVG9wLWxldmVsIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbSBhIFVSSSwgc28gZmxhZyBpdCB0byBwcmV2ZW50XHJcbiAgICAgICAgLy8gdW5uZWNlc3NhcnkgcmVsb2FkOlxyXG4gICAgICAgIHJlc291cmNlLmlzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2U7XHJcbiAgICB9O1xyXG4gICAgRGVzZXJpYWxpc2VyLnBhcnNlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChqc29uLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihqc29uLCBvcHRpb25zKTtcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uLmluZGV4ID0gb3B0aW9ucy5pbmRleCB8fCAwO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wYXJlbnRDb2xsZWN0aW9uID0gb3B0aW9ucy5yZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uLmluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJzZUNvbGxlY3Rpb25zKGNvbGxlY3Rpb24sIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMucGFyc2VNYW5pZmVzdHMoY29sbGVjdGlvbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5wYXJzZUl0ZW1zKGNvbGxlY3Rpb24sIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xyXG4gICAgfTtcclxuICAgIERlc2VyaWFsaXNlci5wYXJzZUNvbGxlY3Rpb25zID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgaXRlbXM7XHJcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uX19qc29ubGQuY29sbGVjdGlvbnMpIHtcclxuICAgICAgICAgICAgaXRlbXMgPSBjb2xsZWN0aW9uLl9fanNvbmxkLmNvbGxlY3Rpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb2xsZWN0aW9uLl9fanNvbmxkLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gY29sbGVjdGlvbi5fX2pzb25sZC5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0udHlwZS50b0xvd2VyQ2FzZSgpID09PSBcImNvbGxlY3Rpb25cIjsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnBhcnNlQ29sbGVjdGlvbihpdGVtc1tpXSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Q29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGVzZXJpYWxpc2VyLnBhcnNlTWFuaWZlc3QgPSBmdW5jdGlvbiAoanNvbiwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBtYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChqc29uLCBvcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gbWFuaWZlc3Q7XHJcbiAgICB9O1xyXG4gICAgRGVzZXJpYWxpc2VyLnBhcnNlTWFuaWZlc3RzID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgaXRlbXM7XHJcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uX19qc29ubGQubWFuaWZlc3RzKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gY29sbGVjdGlvbi5fX2pzb25sZC5tYW5pZmVzdHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbGxlY3Rpb24uX19qc29ubGQuaXRlbXMpIHtcclxuICAgICAgICAgICAgaXRlbXMgPSBjb2xsZWN0aW9uLl9fanNvbmxkLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS50eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwibWFuaWZlc3RcIjsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucGFyc2VNYW5pZmVzdChpdGVtc1tpXSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Q29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGVzZXJpYWxpc2VyLnBhcnNlSXRlbSA9IGZ1bmN0aW9uIChqc29uLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGpzb25bXCJAdHlwZVwiXSkge1xyXG4gICAgICAgICAgICBpZiAoanNvbltcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCkgPT09IFwic2M6bWFuaWZlc3RcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdChqc29uLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChqc29uW1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKSA9PT0gXCJzYzpjb2xsZWN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbihqc29uLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChqc29uLnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKGpzb24udHlwZS50b0xvd2VyQ2FzZSgpID09PSBcIm1hbmlmZXN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QoanNvbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoanNvbi50eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiY29sbGVjdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24oanNvbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgRGVzZXJpYWxpc2VyLnBhcnNlSXRlbXMgPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IGNvbGxlY3Rpb24uX19qc29ubGQubWVtYmVycyB8fCBjb2xsZWN0aW9uLl9fanNvbmxkLml0ZW1zO1xyXG4gICAgICAgIGlmIChpdGVtcykge1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzXzEucGFyc2VJdGVtKGl0ZW1zW2ldLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGFkZCB0byBpdGVtcyBpZiBub3QgYWxyZWFkeSBwYXJzZWQgZnJvbSBiYWNrd2FyZHMtY29tcGF0aWJsZSBjb2xsZWN0aW9ucy9tYW5pZmVzdHMgYXJyYXlzXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0uaWQgPT09IGl0ZW0uaWQ7IH0pWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGl0ZW0uaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnRDb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMShpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVfMSA9PT0gXCJvYmplY3RcIilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVfMS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGVzZXJpYWxpc2VyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBEZXNlcmlhbGlzZXIgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VyaWFsaXNhdGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IHsgTWFuaWZlc3RSZXNvdXJjZSwgVXRpbHMgfSBmcm9tIFwiLi9pbnRlcm5hbFwiO1xyXG52YXIgU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXJ2aWNlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2VydmljZShqc29ubGQsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywganNvbmxkLCBvcHRpb25zKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgU2VydmljZS5wcm90b3R5cGUuZ2V0UHJvZmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJvZmlsZSA9IHRoaXMuZ2V0UHJvcGVydHkoXCJwcm9maWxlXCIpO1xyXG4gICAgICAgIGlmICghcHJvZmlsZSkge1xyXG4gICAgICAgICAgICBwcm9maWxlID0gdGhpcy5nZXRQcm9wZXJ0eShcImRjdGVybXM6Y29uZm9ybXNUb1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2ZpbGVbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9maWxlO1xyXG4gICAgfTtcclxuICAgIFNlcnZpY2UucHJvdG90eXBlLmdldENvbmZpcm1MYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImNvbmZpcm1MYWJlbFwiKSwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmljZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmljZS5wcm90b3R5cGUuZ2V0RmFpbHVyZURlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZURlc2NyaXB0aW9uXCIpLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgIH07XHJcbiAgICBTZXJ2aWNlLnByb3RvdHlwZS5nZXRGYWlsdXJlSGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZUhlYWRlclwiKSwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmljZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiaGVhZGVyXCIpLCB0aGlzLm9wdGlvbnMubG9jYWxlKTtcclxuICAgIH07XHJcbiAgICBTZXJ2aWNlLnByb3RvdHlwZS5nZXRTZXJ2aWNlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKSwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICB9O1xyXG4gICAgU2VydmljZS5wcm90b3R5cGUuZ2V0SW5mb1VyaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaW5mb1VyaSA9IHRoaXMuaWQ7XHJcbiAgICAgICAgaWYgKCFpbmZvVXJpLmVuZHNXaXRoKFwiL1wiKSkge1xyXG4gICAgICAgICAgICBpbmZvVXJpICs9IFwiL1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZvVXJpICs9IFwiaW5mby5qc29uXCI7XHJcbiAgICAgICAgcmV0dXJuIGluZm9Vcmk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlcnZpY2U7XHJcbn0oTWFuaWZlc3RSZXNvdXJjZSkpO1xyXG5leHBvcnQgeyBTZXJ2aWNlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlcnZpY2UuanMubWFwIiwidmFyIFNpemUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU2l6ZTtcclxufSgpKTtcclxuZXhwb3J0IHsgU2l6ZSB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaXplLmpzLm1hcCIsImV4cG9ydCB2YXIgU3RhdHVzQ29kZTtcclxuKGZ1bmN0aW9uIChTdGF0dXNDb2RlKSB7XHJcbiAgICBTdGF0dXNDb2RlW1N0YXR1c0NvZGVbXCJBVVRIT1JJWkFUSU9OX0ZBSUxFRFwiXSA9IDFdID0gXCJBVVRIT1JJWkFUSU9OX0ZBSUxFRFwiO1xyXG4gICAgU3RhdHVzQ29kZVtTdGF0dXNDb2RlW1wiRk9SQklEREVOXCJdID0gMl0gPSBcIkZPUkJJRERFTlwiO1xyXG4gICAgU3RhdHVzQ29kZVtTdGF0dXNDb2RlW1wiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCJdID0gM10gPSBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiO1xyXG4gICAgU3RhdHVzQ29kZVtTdGF0dXNDb2RlW1wiUkVTVFJJQ1RFRFwiXSA9IDRdID0gXCJSRVNUUklDVEVEXCI7XHJcbn0pKFN0YXR1c0NvZGUgfHwgKFN0YXR1c0NvZGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0dXNDb2RlLmpzLm1hcCIsImltcG9ydCB7IExhbmd1YWdlTWFwIH0gZnJvbSBcIi4vaW50ZXJuYWxcIjtcclxuLy8gdG9kbzogZGVwcmVjYXRlXHJcbi8vIHRoaXMgaXMgdXNlZCBieSBTZXF1ZW5jZS5nZXRUaHVtYnNcclxudmFyIFRodW1iID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGh1bWIod2lkdGgsIGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmluZGV4ID0gY2FudmFzLmluZGV4O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB2YXIgaGVpZ2h0UmF0aW8gPSBjYW52YXMuZ2V0SGVpZ2h0KCkgLyBjYW52YXMuZ2V0V2lkdGgoKTtcclxuICAgICAgICBpZiAoaGVpZ2h0UmF0aW8pIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMud2lkdGggKiBoZWlnaHRSYXRpbyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVyaSA9IGNhbnZhcy5nZXRDYW5vbmljYWxJbWFnZVVyaSh3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IExhbmd1YWdlTWFwLmdldFZhbHVlKGNhbnZhcy5nZXRMYWJlbCgpKTsgLy8gdG9kbzogcGFzcyBsb2NhbGU/XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVGh1bWI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFRodW1iIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRodW1iLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBUaHVtYm5haWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVGh1bWJuYWlsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVGh1bWJuYWlsKGpzb25sZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBqc29ubGQsIG9wdGlvbnMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVGh1bWJuYWlsO1xyXG59KFJlc291cmNlKSk7XHJcbmV4cG9ydCB7IFRodW1ibmFpbCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaHVtYm5haWwuanMubWFwIiwiaW1wb3J0IHsgVHJlZU5vZGVUeXBlLCBVdGlscyB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbnZhciBUcmVlTm9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRyZWVOb2RlKGxhYmVsLCBkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgVHJlZU5vZGUucHJvdG90eXBlLmFkZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHRoaXMubm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICBub2RlLnBhcmVudE5vZGUgPSB0aGlzO1xyXG4gICAgfTtcclxuICAgIFRyZWVOb2RlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSBVdGlscy5ub3JtYWxpc2VUeXBlKFRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKTtcclxuICAgIH07XHJcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUuaXNNYW5pZmVzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09IFV0aWxzLm5vcm1hbGlzZVR5cGUoVHJlZU5vZGVUeXBlLk1BTklGRVNUKTtcclxuICAgIH07XHJcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09IFV0aWxzLm5vcm1hbGlzZVR5cGUoVHJlZU5vZGVUeXBlLlJBTkdFKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVHJlZU5vZGU7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFRyZWVOb2RlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyZWVOb2RlLmpzLm1hcCIsImV4cG9ydCB2YXIgVHJlZU5vZGVUeXBlO1xyXG4oZnVuY3Rpb24gKFRyZWVOb2RlVHlwZSkge1xyXG4gICAgVHJlZU5vZGVUeXBlW1wiQ09MTEVDVElPTlwiXSA9IFwiY29sbGVjdGlvblwiO1xyXG4gICAgVHJlZU5vZGVUeXBlW1wiTUFOSUZFU1RcIl0gPSBcIm1hbmlmZXN0XCI7XHJcbiAgICBUcmVlTm9kZVR5cGVbXCJSQU5HRVwiXSA9IFwicmFuZ2VcIjtcclxufSkoVHJlZU5vZGVUeXBlIHx8IChUcmVlTm9kZVR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmVlTm9kZVR5cGUuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbmltcG9ydCB7IERlc2VyaWFsaXNlciwgU2VydmljZSwgU3RhdHVzQ29kZSB9IGZyb20gXCIuL2ludGVybmFsXCI7XHJcbmltcG9ydCB7IFNlcnZpY2VQcm9maWxlIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnkvZGlzdC1jb21tb25qc1wiO1xyXG5pbXBvcnQgeyBPSywgTU9WRURfVEVNUE9SQVJJTFksIFVOQVVUSE9SSVpFRCB9IGZyb20gXCJAZWRzaWx2L2h0dHAtc3RhdHVzLWNvZGVzL2Rpc3QtY29tbW9uanNcIjtcclxuaW1wb3J0IFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XHJcbnZhciBVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFV0aWxzKCkge1xyXG4gICAgfVxyXG4gICAgVXRpbHMuZ2V0TWVkaWFUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLnNwbGl0KFwiO1wiKVswXTtcclxuICAgICAgICByZXR1cm4gdHlwZS50cmltKCk7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZ2V0SW1hZ2VRdWFsaXR5ID0gZnVuY3Rpb24gKHByb2ZpbGUpIHtcclxuICAgICAgICBpZiAocHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzEgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xIHx8XHJcbiAgICAgICAgICAgIHByb2ZpbGUgPT09IFNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMiB8fFxyXG4gICAgICAgICAgICBwcm9maWxlID09PSBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yIHx8XHJcbiAgICAgICAgICAgIHByb2ZpbGUgPT09IFNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSB8fFxyXG4gICAgICAgICAgICBwcm9maWxlID09PSBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSB8fFxyXG4gICAgICAgICAgICBwcm9maWxlID09PSBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIgfHxcclxuICAgICAgICAgICAgcHJvZmlsZSA9PT0gU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwibmF0aXZlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcImRlZmF1bHRcIjtcclxuICAgIH07XHJcbiAgICBVdGlscy5nZXRJbmV4YWN0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xyXG4gICAgICAgIGlmIChsb2NhbGUuaW5kZXhPZihcIi1cIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGUuc3Vic3RyKDAsIGxvY2FsZS5pbmRleE9mKFwiLVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2NhbGU7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGxvY2FsZSkge1xyXG4gICAgICAgIC8vIGlmIHRoZSByZXNvdXJjZSBpcyBub3QgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb25zLCByZXR1cm4gdGhlIHN0cmluZy5cclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGVzdCBmb3IgZXhhY3QgbWF0Y2hcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZV8xID0gcmVzb3VyY2VbaV07XHJcbiAgICAgICAgICAgIHZhciBsYW5ndWFnZV8xID0gdmFsdWVfMVtcIkBsYW5ndWFnZVwiXTtcclxuICAgICAgICAgICAgaWYgKGxvY2FsZSA9PT0gbGFuZ3VhZ2VfMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXzFbXCJAdmFsdWVcIl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGVzdCBmb3IgaW5leGFjdCBtYXRjaFxyXG4gICAgICAgIHZhciBtYXRjaCA9IGxvY2FsZS5zdWJzdHIoMCwgbG9jYWxlLmluZGV4T2YoXCItXCIpKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc291cmNlW2ldO1xyXG4gICAgICAgICAgICB2YXIgbGFuZ3VhZ2UgPSB2YWx1ZVtcIkBsYW5ndWFnZVwiXTtcclxuICAgICAgICAgICAgaWYgKGxhbmd1YWdlID09PSBtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW1wiQHZhbHVlXCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHMgPSBmdW5jdGlvbiAodHJlZU5vZGUsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XHJcbiAgICAgICAgdmFyIGlkO1xyXG4gICAgICAgIGlmICghdHJlZU5vZGUucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICBpZCA9IFwiMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWQgPSB0cmVlTm9kZS5wYXJlbnROb2RlLmlkICsgXCItXCIgKyBpbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJlZU5vZGUuaWQgPSBpZDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWVOb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gdHJlZU5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIFV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHMobiwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFV0aWxzLm5vcm1hbGlzZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHR5cGUuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHZhciBzcGxpdCA9IHR5cGUuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3BsaXRbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLm5vcm1hbGlzZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB1cmwgPSB1cmwuc3Vic3RyKHVybC5pbmRleE9mKFwiOi8vXCIpKTtcclxuICAgICAgICBpZiAodXJsLmluZGV4T2YoXCIjXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3BsaXQoXCIjXCIpWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2ggPSBmdW5jdGlvbiAodXJsMSwgdXJsMikge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5ub3JtYWxpc2VVcmwodXJsMSkgPT09IFV0aWxzLm5vcm1hbGlzZVVybCh1cmwyKTtcclxuICAgIH07XHJcbiAgICBVdGlscy5pc0ltYWdlUHJvZmlsZSA9IGZ1bmN0aW9uIChwcm9maWxlKSB7XHJcbiAgICAgICAgaWYgKFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBVdGlscy5pc0xldmVsMEltYWdlUHJvZmlsZSA9IGZ1bmN0aW9uIChwcm9maWxlKSB7XHJcbiAgICAgICAgaWYgKFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMCkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8wKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmlzTGV2ZWwxSW1hZ2VQcm9maWxlID0gZnVuY3Rpb24gKHByb2ZpbGUpIHtcclxuICAgICAgICBpZiAoVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMSkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSkgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuaXNMZXZlbDJJbWFnZVByb2ZpbGUgPSBmdW5jdGlvbiAocHJvZmlsZSkge1xyXG4gICAgICAgIGlmIChVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpIHx8XHJcbiAgICAgICAgICAgIFV0aWxzLm5vcm1hbGlzZWRVcmxzTWF0Y2gocHJvZmlsZSwgU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKSB8fFxyXG4gICAgICAgICAgICBVdGlscy5ub3JtYWxpc2VkVXJsc01hdGNoKHByb2ZpbGUsIFNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMikgfHxcclxuICAgICAgICAgICAgVXRpbHMubm9ybWFsaXNlZFVybHNNYXRjaChwcm9maWxlLCBTZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBVdGlscy5wYXJzZU1hbmlmZXN0ID0gZnVuY3Rpb24gKG1hbmlmZXN0LCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIERlc2VyaWFsaXNlci5wYXJzZShtYW5pZmVzdCwgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuY2hlY2tTdGF0dXMgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBVdGlscy5sb2FkTWFuaWZlc3QgPSBmdW5jdGlvbiAodXJpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIGZldGNoKHVyaSlcclxuICAgICAgICAgICAgICAgIC50aGVuKFV0aWxzLmNoZWNrU3RhdHVzKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuanNvbigpOyB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgxID0gZnVuY3Rpb24gKHJlc291cmNlcywgb3BlbkNvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBvcGVuVG9rZW5TZXJ2aWNlLCBnZXRTdG9yZWRBY2Nlc3NUb2tlbiwgdXNlckludGVyYWN0ZWRXaXRoQ29udGVudFByb3ZpZGVyLCBnZXRDb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbiwgaGFuZGxlTW92ZWRUZW1wb3JhcmlseSwgc2hvd091dE9mT3B0aW9uc01lc3NhZ2VzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAocmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBVdGlscy5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxKHJlc291cmNlLCBvcGVuQ29udGVudFByb3ZpZGVySW50ZXJhY3Rpb24sIG9wZW5Ub2tlblNlcnZpY2UsIGdldFN0b3JlZEFjY2Vzc1Rva2VuLCB1c2VySW50ZXJhY3RlZFdpdGhDb250ZW50UHJvdmlkZXIsIGdldENvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBoYW5kbGVNb3ZlZFRlbXBvcmFyaWx5LCBzaG93T3V0T2ZPcHRpb25zTWVzc2FnZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc291cmNlcyk7XHJcbiAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBVdGlscy5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxID0gZnVuY3Rpb24gKHJlc291cmNlLCBvcGVuQ29udGVudFByb3ZpZGVySW50ZXJhY3Rpb24sIG9wZW5Ub2tlblNlcnZpY2UsIGdldFN0b3JlZEFjY2Vzc1Rva2VuLCB1c2VySW50ZXJhY3RlZFdpdGhDb250ZW50UHJvdmlkZXIsIGdldENvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBoYW5kbGVNb3ZlZFRlbXBvcmFyaWx5LCBzaG93T3V0T2ZPcHRpb25zTWVzc2FnZXMpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9yZWRBY2Nlc3NUb2tlbjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0U3RvcmVkQWNjZXNzVG9rZW4ocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZEFjY2Vzc1Rva2VuID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlZEFjY2Vzc1Rva2VuKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzb3VyY2UuZ2V0RGF0YShzdG9yZWRBY2Nlc3NUb2tlbildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNvdXJjZS5zdGF0dXMgPT09IE9LKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiBcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3RvcmVkIHRva2VuIGlzIG5vIGdvb2QgZm9yIHRoaXMgcmVzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBVdGlscy5kb0F1dGhDaGFpbihyZXNvdXJjZSwgb3BlbkNvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBvcGVuVG9rZW5TZXJ2aWNlLCB1c2VySW50ZXJhY3RlZFdpdGhDb250ZW50UHJvdmlkZXIsIGdldENvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBoYW5kbGVNb3ZlZFRlbXBvcmFyaWx5LCBzaG93T3V0T2ZPcHRpb25zTWVzc2FnZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdG9yZWQgdG9rZW4gaXMgbm8gZ29vZCBmb3IgdGhpcyByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZS5zdGF0dXMgPT09IE9LIHx8IHJlc291cmNlLnN0YXR1cyA9PT0gTU9WRURfVEVNUE9SQVJJTFkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVXRpbHMuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNvdXJjZS5nZXREYXRhKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNvdXJjZS5zdGF0dXMgPT09IE1PVkVEX1RFTVBPUkFSSUxZIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5zdGF0dXMgPT09IFVOQVVUSE9SSVpFRCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBVdGlscy5kb0F1dGhDaGFpbihyZXNvdXJjZSwgb3BlbkNvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBvcGVuVG9rZW5TZXJ2aWNlLCB1c2VySW50ZXJhY3RlZFdpdGhDb250ZW50UHJvdmlkZXIsIGdldENvbnRlbnRQcm92aWRlckludGVyYWN0aW9uLCBoYW5kbGVNb3ZlZFRlbXBvcmFyaWx5LCBzaG93T3V0T2ZPcHRpb25zTWVzc2FnZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLnN0YXR1cyA9PT0gT0sgfHwgcmVzb3VyY2Uuc3RhdHVzID09PSBNT1ZFRF9URU1QT1JBUklMWSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBVdGlscy5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZG9BdXRoQ2hhaW4gPSBmdW5jdGlvbiAocmVzb3VyY2UsIG9wZW5Db250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbiwgb3BlblRva2VuU2VydmljZSwgdXNlckludGVyYWN0ZWRXaXRoQ29udGVudFByb3ZpZGVyLCBnZXRDb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbiwgaGFuZGxlTW92ZWRUZW1wb3JhcmlseSwgc2hvd091dE9mT3B0aW9uc01lc3NhZ2VzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZXh0ZXJuYWxTZXJ2aWNlLCBraW9za1NlcnZpY2UsIGNsaWNrVGhyb3VnaFNlcnZpY2UsIGxvZ2luU2VydmljZSwgc2VydmljZVRvVHJ5LCBsYXN0QXR0ZW1wdGVkLCBraW9za0ludGVyYWN0aW9uLCBjb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbiwgY29udGVudFByb3ZpZGVySW50ZXJhY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gZW50ZXJzIHRoZSBmbG93Y2hhcnQgYXQgdGhlIDwgRXh0ZXJuYWw/ID4ganVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS4wLyN3b3JrZmxvdy1mcm9tLXRoZS1icm93c2VyLWNsaWVudC1wZXJzcGVjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc291cmNlLmlzQWNjZXNzQ29udHJvbGxlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzb3VyY2VdOyAvLyBubyBzZXJ2aWNlcyBmb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVybmFsU2VydmljZSA9IHJlc291cmNlLmV4dGVybmFsU2VydmljZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxTZXJ2aWNlLm9wdGlvbnMgPSByZXNvdXJjZS5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpb3NrU2VydmljZSA9IHJlc291cmNlLmtpb3NrU2VydmljZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtpb3NrU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2lvc2tTZXJ2aWNlLm9wdGlvbnMgPSByZXNvdXJjZS5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrVGhyb3VnaFNlcnZpY2UgPSByZXNvdXJjZS5jbGlja1Rocm91Z2hTZXJ2aWNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tUaHJvdWdoU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tUaHJvdWdoU2VydmljZS5vcHRpb25zID0gcmVzb3VyY2Uub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dpblNlcnZpY2UgPSByZXNvdXJjZS5sb2dpblNlcnZpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2dpblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luU2VydmljZS5vcHRpb25zID0gcmVzb3VyY2Uub3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghcmVzb3VyY2UuaXNSZXNwb25zZUhhbmRsZWQgJiYgcmVzb3VyY2Uuc3RhdHVzID09PSBNT1ZFRF9URU1QT1JBUklMWSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBoYW5kbGVNb3ZlZFRlbXBvcmFyaWx5KHJlc291cmNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVG9UcnkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0QXR0ZW1wdGVkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwZXRpdGlvbiBvZiBsb2dpYyBpcyBsZWZ0IGluIHRoZXNlIHN0ZXBzIGZvciBjbGFyaXR5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb29raW5nIGZvciBleHRlcm5hbCBwYXR0ZXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VUb1RyeSA9IGV4dGVybmFsU2VydmljZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlVG9UcnkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0QXR0ZW1wdGVkID0gc2VydmljZVRvVHJ5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBVdGlscy5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4ocmVzb3VyY2UsIG9wZW5Ub2tlblNlcnZpY2UsIHNlcnZpY2VUb1RyeSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9va2luZyBmb3Iga2lvc2sgcGF0dGVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVG9UcnkgPSBraW9za1NlcnZpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZVRvVHJ5KSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEF0dGVtcHRlZCA9IHNlcnZpY2VUb1RyeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2lvc2tJbnRlcmFjdGlvbiA9IG9wZW5Db250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbihzZXJ2aWNlVG9UcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWtpb3NrSW50ZXJhY3Rpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB1c2VySW50ZXJhY3RlZFdpdGhDb250ZW50UHJvdmlkZXIoa2lvc2tJbnRlcmFjdGlvbildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBVdGlscy5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4ocmVzb3VyY2UsIG9wZW5Ub2tlblNlcnZpY2UsIHNlcnZpY2VUb1RyeSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvZGUgZm9yIHRoZSBuZXh0IHR3byBwYXR0ZXJucyBpcyBpZGVudGljYWwgKG90aGVyIHRoYW4gdGhlIHByb2ZpbGUgbmFtZSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGlzIGluIHRoZSBleHBlY3RlZCBiZWhhdmlvdXIgb2ZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgYXdhaXQgdXNlckludGVyYWN0ZWRXaXRoQ29udGVudFByb3ZpZGVyKGNvbnRlbnRQcm92aWRlckludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGNsaWNrdGhyb3VnaCB0aGUgb3BlbmVkIHdpbmRvdyBzaG91bGQgY2xvc2UgaW1tZWRpYXRlbHkgaGF2aW5nIGVzdGFibGlzaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgc2Vzc2lvbiwgd2hlcmVhcyBmb3IgbG9naW4gdGhlIHVzZXIgbWlnaHQgc3BlbmQgc29tZSB0aW1lIGVudGVyaW5nIGNyZWRlbnRpYWxzIGV0Yy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9va2luZyBmb3IgY2xpY2t0aHJvdWdoIHBhdHRlcm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZVRvVHJ5ID0gY2xpY2tUaHJvdWdoU2VydmljZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlVG9UcnkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEF0dGVtcHRlZCA9IHNlcnZpY2VUb1RyeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0Q29udGVudFByb3ZpZGVySW50ZXJhY3Rpb24ocmVzb3VyY2UsIHNlcnZpY2VUb1RyeSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFByb3ZpZGVySW50ZXJhY3Rpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudFByb3ZpZGVySW50ZXJhY3Rpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGNsb3NlIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHVzZXJJbnRlcmFjdGVkV2l0aENvbnRlbnRQcm92aWRlcihjb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGNsb3NlIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgVXRpbHMuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHJlc291cmNlLCBvcGVuVG9rZW5TZXJ2aWNlLCBzZXJ2aWNlVG9UcnkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9va2luZyBmb3IgbG9naW4gcGF0dGVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVG9UcnkgPSBsb2dpblNlcnZpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VydmljZVRvVHJ5KSByZXR1cm4gWzMgLypicmVhayovLCAxNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RBdHRlbXB0ZWQgPSBzZXJ2aWNlVG9Ucnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldENvbnRlbnRQcm92aWRlckludGVyYWN0aW9uKHJlc291cmNlLCBzZXJ2aWNlVG9UcnkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMTVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBleHBlY3QgdGhlIHVzZXIgdG8gc3BlbmQgc29tZSB0aW1lIGludGVyYWN0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHVzZXJJbnRlcmFjdGVkV2l0aENvbnRlbnRQcm92aWRlcihjb250ZW50UHJvdmlkZXJJbnRlcmFjdGlvbildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGV4cGVjdCB0aGUgdXNlciB0byBzcGVuZCBzb21lIHRpbWUgaW50ZXJhY3RpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBVdGlscy5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4ocmVzb3VyY2UsIG9wZW5Ub2tlblNlcnZpY2UsIHNlcnZpY2VUb1RyeSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc291cmNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nIHdvcmtlZCEgVXNlIHRoZSBtb3N0IHJlY2VudGx5IHRyaWVkIHNlcnZpY2UgYXMgdGhlIHNvdXJjZSBvZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtZXNzYWdlcyB0byBzaG93IHRvIHRoZSB1c2VyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEF0dGVtcHRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd091dE9mT3B0aW9uc01lc3NhZ2VzKHJlc291cmNlLCBsYXN0QXR0ZW1wdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbiA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgb3BlblRva2VuU2VydmljZSwgYXV0aFNlcnZpY2UpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlblNlcnZpY2UsIHRva2VuTWVzc2FnZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5TZXJ2aWNlID0gYXV0aFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuU2VydmljZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9wZW5Ub2tlblNlcnZpY2UocmVzb3VyY2UsIHRva2VuU2VydmljZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5NZXNzYWdlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0b2tlbk1lc3NhZ2UgJiYgdG9rZW5NZXNzYWdlLmFjY2Vzc1Rva2VuKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc291cmNlLmdldERhdGEodG9rZW5NZXNzYWdlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgwOSA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHRva2VuU3RvcmFnZVN0cmF0ZWd5LCBjbGlja1Rocm91Z2gsIHJlc3RyaWN0ZWQsIGxvZ2luLCBnZXRBY2Nlc3NUb2tlbiwgc3RvcmVBY2Nlc3NUb2tlbiwgZ2V0U3RvcmVkQWNjZXNzVG9rZW4sIGhhbmRsZVJlc291cmNlUmVzcG9uc2UsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5KHJlc291cmNlLCB0b2tlblN0b3JhZ2VTdHJhdGVneSwgY2xpY2tUaHJvdWdoLCByZXN0cmljdGVkLCBsb2dpbiwgZ2V0QWNjZXNzVG9rZW4sIHN0b3JlQWNjZXNzVG9rZW4sIGdldFN0b3JlZEFjY2Vzc1Rva2VuLCBoYW5kbGVSZXNvdXJjZVJlc3BvbnNlLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvdXJjZXMpO1xyXG4gICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLy8gSUlJRiBhdXRoIGFwaSBwcmUgdjEuMFxyXG4gICAgLy8gS2VlcGluZyB0aGlzIGFyb3VuZCBmb3Igbm93IHVudGlsIHRoZSBhdXRoIDEuMCBpbXBsZW1lbnRhdGlvbiBpcyBzdGFibGVcclxuICAgIFV0aWxzLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5ID0gZnVuY3Rpb24gKHJlc291cmNlLCB0b2tlblN0b3JhZ2VTdHJhdGVneSwgY2xpY2tUaHJvdWdoLCByZXN0cmljdGVkLCBsb2dpbiwgZ2V0QWNjZXNzVG9rZW4sIHN0b3JlQWNjZXNzVG9rZW4sIGdldFN0b3JlZEFjY2Vzc1Rva2VuLCBoYW5kbGVSZXNvdXJjZVJlc3BvbnNlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIC8vIHBlc3NpbWlzdGljOiBhY2Nlc3MgY29udHJvbCBjb29raWVzIG1heSBoYXZlIGJlZW4gZGVsZXRlZC5cclxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyByZXF1ZXN0IHRoZSBhY2Nlc3MgdG9rZW4gZm9yIGV2ZXJ5IGFjY2VzcyBjb250cm9sbGVkIGluZm8uanNvbiByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm5lZCBhY2Nlc3MgdG9rZW5zIGFyZSBub3Qgc3RvcmVkLCB0aGVyZWZvcmUgdGhlIGxvZ2luIHdpbmRvdyBmbGFzaGVzIGZvciBldmVyeSByZXF1ZXN0LlxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICAuZ2V0RGF0YSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0FjY2Vzc0NvbnRyb2xsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVzb3VyY2UgaGFzIGEgY2xpY2sgdGhyb3VnaCBzZXJ2aWNlLCB1c2UgdGhhdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLmNsaWNrVGhyb3VnaFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY2xpY2tUaHJvdWdoKHJlc291cmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL30gZWxzZSBpZihyZXNvdXJjZS5yZXN0cmljdGVkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN0cmljdGVkKHJlc291cmNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbihyZXNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QWNjZXNzVG9rZW4ocmVzb3VyY2UsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEodG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZVJlc291cmNlUmVzcG9uc2UocmVzb3VyY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChVdGlscy5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoVXRpbHMuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpbmZvLmpzb24gaXNuJ3QgYWNjZXNzIGNvbnRyb2xsZWQsIHRoZXJlZm9yZSBubyBuZWVkIHRvIHJlcXVlc3QgYW4gYWNjZXNzIHRva2VuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvcHRpbWlzdGljOiBhY2Nlc3MgY29udHJvbCBjb29raWVzIG1heSBub3QgaGF2ZSBiZWVuIGRlbGV0ZWQuXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBhY2Nlc3MgdG9rZW5zIHRvIGF2b2lkIGxvZ2luIHdpbmRvdyBmbGFzaGVzLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgY29va2llcyBhcmUgZGVsZXRlZCBhIHBhZ2UgcmVmcmVzaCBpcyByZXF1aXJlZC5cclxuICAgICAgICAgICAgICAgIC8vIHRyeSBsb2FkaW5nIHRoZSByZXNvdXJjZSB1c2luZyBhbiBhY2Nlc3MgdG9rZW4gdGhhdCBtYXRjaGVzIHRoZSBpbmZvLmpzb24gZG9tYWluLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgYW4gYWNjZXNzIHRva2VuIGlzIGZvdW5kLCByZXF1ZXN0IHRoZSByZXNvdXJjZSB1c2luZyBpdCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgaXQgaXMgYWNjZXNzIGNvbnRyb2xsZWQuXHJcbiAgICAgICAgICAgICAgICBnZXRTdG9yZWRBY2Nlc3NUb2tlbihyZXNvdXJjZSwgdG9rZW5TdG9yYWdlU3RyYXRlZ3kpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHN0b3JlZEFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlZEFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB1c2luZyB0aGUgc3RvcmVkIGFjY2VzcyB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEoc3RvcmVkQWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgaW5mby5qc29uIGxvYWRlZCB1c2luZyB0aGUgc3RvcmVkIGFjY2VzcyB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLnN0YXR1cyA9PT0gT0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZVJlc291cmNlUmVzcG9uc2UocmVzb3VyY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgbG9hZCB0aGUgcmVzb3VyY2UgZGF0YSB0byBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgYWNjZXNzIGNvbnRyb2wgc2VydmljZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWNjZXNzIGNvbnRyb2xsZWQsIGRvIGxvZ2luLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmF1dGhvcml6ZShyZXNvdXJjZSwgdG9rZW5TdG9yYWdlU3RyYXRlZ3ksIGNsaWNrVGhyb3VnaCwgcmVzdHJpY3RlZCwgbG9naW4sIGdldEFjY2Vzc1Rva2VuLCBzdG9yZUFjY2Vzc1Rva2VuLCBnZXRTdG9yZWRBY2Nlc3NUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhhbmRsZVJlc291cmNlUmVzcG9uc2UocmVzb3VyY2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVzb3VyY2UucmVzdHJpY3RlZFNlcnZpY2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZVJlc3RyaWN0ZWRFcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoVXRpbHMuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLmF1dGhvcml6ZShyZXNvdXJjZSwgdG9rZW5TdG9yYWdlU3RyYXRlZ3ksIGNsaWNrVGhyb3VnaCwgcmVzdHJpY3RlZCwgbG9naW4sIGdldEFjY2Vzc1Rva2VuLCBzdG9yZUFjY2Vzc1Rva2VuLCBnZXRTdG9yZWRBY2Nlc3NUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGFuZGxlUmVzb3VyY2VSZXNwb25zZShyZXNvdXJjZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoVXRpbHMuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBVdGlscy5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChuYW1lLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCk7XHJcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3IubmFtZSA9IFN0cmluZyhuYW1lKTtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5jcmVhdGVFcnJvcihTdGF0dXNDb2RlLkFVVEhPUklaQVRJT05fRkFJTEVELCBcIkF1dGhvcml6YXRpb24gZmFpbGVkXCIpO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLmNyZWF0ZVJlc3RyaWN0ZWRFcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuY3JlYXRlRXJyb3IoU3RhdHVzQ29kZS5SRVNUUklDVEVELCBcIlJlc3RyaWN0ZWRcIik7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmNyZWF0ZUVycm9yKFN0YXR1c0NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLCBtZXNzYWdlKTtcclxuICAgIH07XHJcbiAgICBVdGlscy5hdXRob3JpemUgPSBmdW5jdGlvbiAocmVzb3VyY2UsIHRva2VuU3RvcmFnZVN0cmF0ZWd5LCBjbGlja1Rocm91Z2gsIHJlc3RyaWN0ZWQsIGxvZ2luLCBnZXRBY2Nlc3NUb2tlbiwgc3RvcmVBY2Nlc3NUb2tlbiwgZ2V0U3RvcmVkQWNjZXNzVG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICByZXNvdXJjZS5nZXREYXRhKCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UuaXNBY2Nlc3NDb250cm9sbGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRTdG9yZWRBY2Nlc3NUb2tlbihyZXNvdXJjZSwgdG9rZW5TdG9yYWdlU3RyYXRlZ3kpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChzdG9yZWRBY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVkQWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB1c2luZyB0aGUgc3RvcmVkIGFjY2VzcyB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0RGF0YShzdG9yZWRBY2Nlc3NUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLnN0YXR1cyA9PT0gT0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvdXJjZSk7IC8vIGhhcHB5IHBhdGggZW5kZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdG9yZWQgdG9rZW4gaXMgbm8gZ29vZCBmb3IgdGhpcyByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5zaG93QXV0aEludGVyYWN0aW9uKHJlc291cmNlLCB0b2tlblN0b3JhZ2VTdHJhdGVneSwgY2xpY2tUaHJvdWdoLCByZXN0cmljdGVkLCBsb2dpbiwgZ2V0QWNjZXNzVG9rZW4sIHN0b3JlQWNjZXNzVG9rZW4sIHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChVdGlscy5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgd2FzIG5vIHN0b3JlZCB0b2tlbiwgYnV0IHRoZSB1c2VyIG1pZ2h0IGhhdmUgYSBjb29raWUgdGhhdCB3aWxsIGdyYW50IGEgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEFjY2Vzc1Rva2VuKHJlc291cmNlLCBmYWxzZSkudGhlbihmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVBY2Nlc3NUb2tlbihyZXNvdXJjZSwgYWNjZXNzVG9rZW4sIHRva2VuU3RvcmFnZVN0cmF0ZWd5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHVzaW5nIHRoZSBmcmVzaCBhY2Nlc3MgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEoYWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZS5zdGF0dXMgPT09IE9LKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgYSB0b2tlbiwgYnV0IGl0J3Mgbm90IGdvb2QgZW5vdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLnNob3dBdXRoSW50ZXJhY3Rpb24ocmVzb3VyY2UsIHRva2VuU3RvcmFnZVN0cmF0ZWd5LCBjbGlja1Rocm91Z2gsIHJlc3RyaWN0ZWQsIGxvZ2luLCBnZXRBY2Nlc3NUb2tlbiwgc3RvcmVBY2Nlc3NUb2tlbiwgcmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBhYmxlIHRvIHN0b3JlIGFjY2VzcyB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGRpZCBub3QgaGF2ZSBhIGNvb2tpZSB0aGF0IGdyYW50ZWQgYSB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5zaG93QXV0aEludGVyYWN0aW9uKHJlc291cmNlLCB0b2tlblN0b3JhZ2VTdHJhdGVneSwgY2xpY2tUaHJvdWdoLCByZXN0cmljdGVkLCBsb2dpbiwgZ2V0QWNjZXNzVG9rZW4sIHN0b3JlQWNjZXNzVG9rZW4sIHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChVdGlscy5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaW5mby5qc29uIGlzbid0IGFjY2VzcyBjb250cm9sbGVkLCB0aGVyZWZvcmUgdGhlcmUncyBubyBuZWVkIHRvIHJlcXVlc3QgYW4gYWNjZXNzIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFV0aWxzLnNob3dBdXRoSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAocmVzb3VyY2UsIHRva2VuU3RvcmFnZVN0cmF0ZWd5LCBjbGlja1Rocm91Z2gsIHJlc3RyaWN0ZWQsIGxvZ2luLCBnZXRBY2Nlc3NUb2tlbiwgc3RvcmVBY2Nlc3NUb2tlbiwgcmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgaWYgKHJlc291cmNlLnN0YXR1cyA9PT0gTU9WRURfVEVNUE9SQVJJTFkgJiYgIXJlc291cmNlLmlzUmVzcG9uc2VIYW5kbGVkKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSByZXNvdXJjZSB3YXMgcmVkaXJlY3RlZCB0byBhIGRlZ3JhZGVkIHZlcnNpb25cclxuICAgICAgICAgICAgLy8gYW5kIHRoZSByZXNwb25zZSBoYXNuJ3QgYmVlbiBoYW5kbGVkIHlldC5cclxuICAgICAgICAgICAgLy8gaWYgdGhlIGNsaWVudCB3aXNoZXMgdG8gdHJpZ2dlciBhIGxvZ2luLCBzZXQgcmVzb3VyY2UuaXNSZXNwb25zZUhhbmRsZWQgdG8gdHJ1ZVxyXG4gICAgICAgICAgICAvLyBhbmQgY2FsbCBsb2FkRXh0ZXJuYWxSZXNvdXJjZXMoKSBhZ2FpbiBwYXNzaW5nIHRoZSByZXNvdXJjZS5cclxuICAgICAgICAgICAgcmVzb2x2ZShyZXNvdXJjZSk7XHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAocmVzb3VyY2UucmVzdHJpY3RlZFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJlc29sdmUocmVzdHJpY3RlZChyZXNvdXJjZSkpO1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gVE9ETzogbW92ZSB0byBuZXh0IGV0Y1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXNvdXJjZS5jbGlja1Rocm91Z2hTZXJ2aWNlICYmICFyZXNvdXJjZS5pc1Jlc3BvbnNlSGFuZGxlZCkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVzb3VyY2UgaGFzIGEgY2xpY2sgdGhyb3VnaCBzZXJ2aWNlLCB1c2UgdGhhdC5cclxuICAgICAgICAgICAgY2xpY2tUaHJvdWdoKHJlc291cmNlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGdldEFjY2Vzc1Rva2VuKHJlc291cmNlLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlQWNjZXNzVG9rZW4ocmVzb3VyY2UsIGFjY2Vzc1Rva2VuLCB0b2tlblN0b3JhZ2VTdHJhdGVneSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEoYWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChVdGlscy5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoVXRpbHMuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnZXQgYW4gYWNjZXNzIHRva2VuXHJcbiAgICAgICAgICAgIGxvZ2luKHJlc291cmNlKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGdldEFjY2Vzc1Rva2VuKHJlc291cmNlLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlQWNjZXNzVG9rZW4ocmVzb3VyY2UsIGFjY2Vzc1Rva2VuLCB0b2tlblN0b3JhZ2VTdHJhdGVneSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldERhdGEoYWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc291cmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFV0aWxzLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChVdGlscy5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoVXRpbHMuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFV0aWxzLmdldFNlcnZpY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIHByb2ZpbGUpIHtcclxuICAgICAgICB2YXIgc2VydmljZXMgPSB0aGlzLmdldFNlcnZpY2VzKHJlc291cmNlKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gc2VydmljZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlLmdldFByb2ZpbGUoKSA9PT0gcHJvZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZ2V0UmVzb3VyY2VCeUlkID0gZnVuY3Rpb24gKHBhcmVudFJlc291cmNlLCBpZCkge1xyXG4gICAgICAgIHJldHVybiAoVXRpbHMudHJhdmVyc2VBbmRGaW5kKHBhcmVudFJlc291cmNlLl9fanNvbmxkLCBcIkBpZFwiLCBpZCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRG9lcyBhIGRlcHRoIGZpcnN0IHRyYXZlcnNhbCBvZiBhbiBPYmplY3QsIHJldHVybmluZyBhbiBPYmplY3QgdGhhdFxyXG4gICAgICogbWF0Y2hlcyBwcm92aWRlZCBrIGFuZCB2IGFyZ3VtZW50c1xyXG4gICAgICogQGV4YW1wbGUgVXRpbHMudHJhdmVyc2VBbmRGaW5kKHtmb286ICdiYXInfSwgJ2ZvbycsICdiYXInKVxyXG4gICAgICovXHJcbiAgICBVdGlscy50cmF2ZXJzZUFuZEZpbmQgPSBmdW5jdGlvbiAob2JqZWN0LCBrLCB2KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrKSAmJiBvYmplY3Rba10gPT09IHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W09iamVjdC5rZXlzKG9iamVjdClbaV1dID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbyA9IFV0aWxzLnRyYXZlcnNlQW5kRmluZChvYmplY3RbT2JqZWN0LmtleXMob2JqZWN0KVtpXV0sIGssIHYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG8gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZ2V0U2VydmljZXMgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcclxuICAgICAgICB2YXIgc2VydmljZTtcclxuICAgICAgICAvLyBpZiBwYXNzaW5nIGEgbWFuaWZlc3RvLXBhcnNlZCBvYmplY3QsIHVzZSB0aGUgX19qc29ubGQuc2VydmljZSBwcm9wZXJ0eSxcclxuICAgICAgICAvLyBvdGhlcndpc2UgbG9vayBmb3IgYSBzZXJ2aWNlIHByb3BlcnR5IChpbmZvLmpzb24gc2VydmljZXMpXHJcbiAgICAgICAgaWYgKHJlc291cmNlLl9fanNvbmxkKSB7XHJcbiAgICAgICAgICAgIHNlcnZpY2UgPSByZXNvdXJjZS5fX2pzb25sZC5zZXJ2aWNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2VydmljZSA9IHJlc291cmNlLnNlcnZpY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZXJ2aWNlcyA9IFtdO1xyXG4gICAgICAgIGlmICghc2VydmljZSlcclxuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VzO1xyXG4gICAgICAgIC8vIGNvZXJjZSB0byBhcnJheVxyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzZXJ2aWNlKSkge1xyXG4gICAgICAgICAgICBzZXJ2aWNlID0gW3NlcnZpY2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcnZpY2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHMgPSBzZXJ2aWNlW2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRSZXNvdXJjZUJ5SWQocmVzb3VyY2Uub3B0aW9ucy5yZXNvdXJjZSwgcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLnB1c2gobmV3IFNlcnZpY2Uoci5fX2pzb25sZCB8fCByLCByZXNvdXJjZS5vcHRpb25zKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKG5ldyBTZXJ2aWNlKHMsIHJlc291cmNlLm9wdGlvbnMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VydmljZXM7XHJcbiAgICB9O1xyXG4gICAgVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHRlbXBvcmFsID0gL3Q9KFteJl0rKS9nLmV4ZWModGFyZ2V0KTtcclxuICAgICAgICB2YXIgdCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRlbXBvcmFsICYmIHRlbXBvcmFsWzFdKSB7XHJcbiAgICAgICAgICAgIHQgPSB0ZW1wb3JhbFsxXS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVdGlscztcclxufSgpKTtcclxuZXhwb3J0IHsgVXRpbHMgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbHMuanMubWFwIiwiZXhwb3J0ICogZnJvbSBcIi4vaW50ZXJuYWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5leHBvcnQgdmFyIGxvYWRNYW5pZmVzdCA9IGZ1bmN0aW9uICh1cmkpIHtcclxuICAgIHJldHVybiBVdGlscy5sb2FkTWFuaWZlc3QodXJpKTtcclxufTtcclxuZXhwb3J0IHZhciBwYXJzZU1hbmlmZXN0ID0gZnVuY3Rpb24gKG1hbmlmZXN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gVXRpbHMucGFyc2VNYW5pZmVzdChtYW5pZmVzdCwgb3B0aW9ucyk7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCAqIGZyb20gXCIuL0pTT05MRFJlc291cmNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL01hbmlmZXN0UmVzb3VyY2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vUmVzb3VyY2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vSUlJRlJlc291cmNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0Fubm90YXRpb25cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQW5ub3RhdGlvbkJvZHlcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQW5ub3RhdGlvbkxpc3RcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQW5ub3RhdGlvblBhZ2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vQ2FudmFzXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL0NvbGxlY3Rpb25cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vRHVyYXRpb25cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTGFiZWxWYWx1ZVBhaXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTGFuZ3VhZ2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTGFuZ3VhZ2VNYXBcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTWFuaWZlc3RcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTWFuaWZlc3RUeXBlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1JhbmdlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1JlbmRlcmluZ1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9TZXF1ZW5jZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9TZXJpYWxpc2F0aW9uXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1NlcnZpY2VcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vU2l6ZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9TdGF0dXNDb2RlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1RodW1iXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1RodW1ibmFpbFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9UcmVlTm9kZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9UcmVlTm9kZVR5cGVcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vVXRpbHNcIjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwuanMubWFwIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj1ufHx7fSxuZXcgUHJvbWlzZShmdW5jdGlvbih0LHIpe3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdCxvPVtdLHU9W10saT17fSxhPWZ1bmN0aW9uKCl7cmV0dXJue29rOjI9PShzLnN0YXR1cy8xMDB8MCksc3RhdHVzVGV4dDpzLnN0YXR1c1RleHQsc3RhdHVzOnMuc3RhdHVzLHVybDpzLnJlc3BvbnNlVVJMLHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbcy5yZXNwb25zZV0pKX0sY2xvbmU6YSxoZWFkZXJzOntrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBpW2UudG9Mb3dlckNhc2UoKV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpaW4gaX19fX07Zm9yKHZhciBsIGluIHMub3BlbihuLm1ldGhvZHx8XCJnZXRcIixlLCEwKSxzLm9ubG9hZD1mdW5jdGlvbigpe3MuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLGZ1bmN0aW9uKGUsbix0KXtvLnB1c2gobj1uLnRvTG93ZXJDYXNlKCkpLHUucHVzaChbbix0XSksaVtuXT1pW25dP2lbbl0rXCIsXCIrdDp0fSksdChhKCkpfSxzLm9uZXJyb3I9cixzLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09bi5jcmVkZW50aWFscyxuLmhlYWRlcnMpcy5zZXRSZXF1ZXN0SGVhZGVyKGwsbi5oZWFkZXJzW2xdKTtzLnNlbmQobi5ib2R5fHxudWxsKX0pfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5mZXRjaC5tanMubWFwXG4iLCJyZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0Jyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1ibGluZCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtYm91bmNlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1jbGlwJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1kcm9wJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1leHBsb2RlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1mYWRlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1mb2xkJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXB1ZmYnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXB1bHNhdGUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNjYWxlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zaGFrZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2l6ZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2xpZGUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXRyYW5zZmVyJyk7IiwicmVxdWlyZSgnanF1ZXJ5LXVpL3VpL3dpZGdldCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkva2V5Y29kZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9tb3VzZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvd2lkZ2V0cy9zbGlkZXInKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3RoZW1lcy9iYXNlL2NvcmUuY3NzJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS90aGVtZXMvYmFzZS9zbGlkZXIuY3NzJyk7IiwiZXhwb3J0IGRlZmF1bHQge1xuICBsb2NhbGVzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ9CR0YrQu9Cz0LDRgNGB0LrQuCcsXG4gICAgICBjb2RlOiAnYmcnLFxuICAgICAgaXNvOiAnYmctQkcnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnxIxlxaF0aW5hJyxcbiAgICAgIGNvZGU6ICdjcycsXG4gICAgICBpc286ICdjcy1DWidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdEYW5zaycsXG4gICAgICBjb2RlOiAnZGEnLFxuICAgICAgaXNvOiAnZGEtREsnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRGV1dHNjaCcsXG4gICAgICBjb2RlOiAnZGUnLFxuICAgICAgaXNvOiAnZGUtREUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnzpXOu867zrfOvc65zrrOrCcsXG4gICAgICBjb2RlOiAnZWwnLFxuICAgICAgaXNvOiAnZWwtR1InXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRW5nbGlzaCcsXG4gICAgICBjb2RlOiAnZW4nLFxuICAgICAgaXNvOiAnZW4tR0InXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRXNwYcOxb2wnLFxuICAgICAgY29kZTogJ2VzJyxcbiAgICAgIGlzbzogJ2VzLUVTJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0Vlc3RpJyxcbiAgICAgIGNvZGU6ICdldCcsXG4gICAgICBpc286ICdldC1FRSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdFdXNrYXJhJyxcbiAgICAgIGNvZGU6ICdldScsXG4gICAgICBpc286ICdldS1FUydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdW9taScsXG4gICAgICBjb2RlOiAnZmknLFxuICAgICAgaXNvOiAnZmktRkknXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRnJhbsOnYWlzJyxcbiAgICAgIGNvZGU6ICdmcicsXG4gICAgICBpc286ICdmci1GUidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdHYWVpbGdlJyxcbiAgICAgIGNvZGU6ICdnYScsXG4gICAgICBpc286ICdnYS1JRSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdIcnZhdHNraScsXG4gICAgICBjb2RlOiAnaHInLFxuICAgICAgaXNvOiAnaHItSFInXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTWFneWFyJyxcbiAgICAgIGNvZGU6ICdodScsXG4gICAgICBpc286ICdodS1IVSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJdGFsaWFubycsXG4gICAgICBjb2RlOiAnaXQnLFxuICAgICAgaXNvOiAnaXQtSVQnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTGlldHV2acWzJyxcbiAgICAgIGNvZGU6ICdsdCcsXG4gICAgICBpc286ICdsdC1MVCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdMYXR2aWXFoXUnLFxuICAgICAgY29kZTogJ2x2JyxcbiAgICAgIGlzbzogJ2x2LUxWJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ01hbHRpJyxcbiAgICAgIGNvZGU6ICdtdCcsXG4gICAgICBpc286ICdtdC1NVCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdOZWRlcmxhbmRzJyxcbiAgICAgIGNvZGU6ICdubCcsXG4gICAgICBpc286ICdubC1OTCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdQb2xza2knLFxuICAgICAgY29kZTogJ3BsJyxcbiAgICAgIGlzbzogJ3BsLVBMJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1BvcnR1Z3XDqnMnLFxuICAgICAgY29kZTogJ3B0JyxcbiAgICAgIGlzbzogJ3B0LVBUJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1JvbcOibsSDJyxcbiAgICAgIGNvZGU6ICdybycsXG4gICAgICBpc286ICdyby1STydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTbG92ZW7EjWluYScsXG4gICAgICBjb2RlOiAnc2snLFxuICAgICAgaXNvOiAnc2stU0snXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2xvdmVuxaHEjWluYScsXG4gICAgICBjb2RlOiAnc2wnLFxuICAgICAgaXNvOiAnc2wtU0knXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU3ZlbnNrYScsXG4gICAgICBjb2RlOiAnc3YnLFxuICAgICAgaXNvOiAnc3YtU0UnXG4gICAgfVxuICBdXG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLyogZ2xvYmFsICQgaW5pdENhbnZhc05hdmlnYXRpb24gKi9cblxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbnJlcXVpcmUoJ0BpaWlmL2lpaWYtdHJlZS1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ0BpaWlmL2Jhc2UtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdtYW5pZmVzdG8uanMnKTtcbmNvbnN0IE1hbmlmb2xkID0gcmVxdWlyZSgnQGlpaWYvbWFuaWZvbGQnKTtcbmNvbnN0IElJSUZBVkNvbXBvbmVudCA9IHJlcXVpcmUoJ0BpaWlmL2lpaWYtYXYtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdkYXNoanMnKTtcblxucmVxdWlyZSgnd2VicGFjay1qcXVlcnktdWkvc2xpZGVyJyk7XG5yZXF1aXJlKCd3ZWJwYWNrLWpxdWVyeS11aS9lZmZlY3RzJyk7XG5cbmltcG9ydCBCYW5hbmEgZnJvbSAnYmFuYW5hLWkxOG4nO1xuXG5jb25zdCB7IHBsYXlFdmVudEhhbmRsZXIsIHBhdXNlRXZlbnRIYW5kbGVyLCB2b2x1bWVDaGFuZ2VkRXZlbnRIYW5kbGVyLCBrZXlFdmVudEhhbmRsZXIsIHBsYXlQYXVzZUV2ZW50SGFuZGxlciwgZnVsbFNjcmVlbkV2ZW50SGFuZGxlciwgZWRpdG9yQnV0dG9uRXZlbnRIYW5kbGVyLCB0b2dnbGVTdWJ0aXRsZXNFdmVudEhhbmRsZXIsIHN1YnRpdGxlTWVudUV2ZW50SGFuZGxlciwgb3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIsIG1lZGlhRXJyb3JIYW5kbGVyIH0gPSByZXF1aXJlKCcuL3BsYXllckV2ZW50SGFuZGxlcnMnKTtcblxuY29uc3QgbGFuZ3VhZ2VzID0gcmVxdWlyZSgnLi4vbGFuZ3VhZ2VzL2xhbmcuanMnKS5kZWZhdWx0LmxvY2FsZXM7XG5jb25zdCBpMThuID0gcmVxdWlyZSgnLi9pMThuL2xhbmd1YWdlcy5qc29uJyk7XG5cbmxldCBoZWxwZXI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yKGVsZW0pIHtcbiAgICBpZiAoIWVsZW0pIHJldHVybjtcbiAgICB0aGlzLmVsZW0gPSBlbGVtO1xuXG4gICAgdGhpcy52aWRlb0lkID0gJyc7XG4gICAgdGhpcy5hdmNvbXBvbmVudDtcbiAgICB0aGlzLnRpbWV1cGRhdGU7XG4gICAgdGhpcy5tYW5pZmVzdDtcbiAgICB0aGlzLm1hbmlmZXN0dXJsO1xuICAgIHRoaXMuZWRpdG9ydXJsO1xuICAgIHRoaXMuYmFuYW5hO1xuICB9XG5cbiAgaW5pdCh2aWRlb09iaiwgZWRpdG9ydXJsLCBsYW5ndWFnZSkge1xuICAgIHRoaXMuY3JlYXRlQVZDb21wb25lbnQoKTtcbiAgICB0aGlzLmNyZWF0ZU1hbmlmZXN0KHZpZGVvT2JqKTtcbiAgICB0aGlzLmVkaXRvcnVybCA9IGVkaXRvcnVybDtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsaW1pdFRvUmFuZ2U6IGZhbHNlLFxuICAgICAgYXV0b1NlbGVjdFJhbmdlOiB0cnVlLFxuICAgICAgY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6IHRydWUsXG4gICAgICB2aXJ0dWFsQ2FudmFzRW5hYmxlZDogdHJ1ZVxuICAgIH07XG5cbiAgICAvL0NoZWNrIGlmIHRoZSBsYW5ndWFnZSBpcyBzZXQsIGFuZCBpZiB3ZSBoYXZlIHRoaXMgcHJlc2VudCwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gRW5nbGlzaFxuICAgIGlmIChsYW5ndWFnZS5sZW5ndGggPT09IDAgfHwgbGFuZ3VhZ2VzLmZpbmQobGFuZyA9PiBsYW5nLmNvZGUgPT09IGxhbmd1YWdlKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsYW5ndWFnZSA9ICdlbic7XG4gICAgfVxuXG4gICAgY29uc3QgYmFuYW5hID0gbmV3IEJhbmFuYShsYW5ndWFnZSk7XG4gICAgYmFuYW5hLmxvYWQoaTE4bltsYW5ndWFnZV0sIGxhbmd1YWdlKTtcbiAgICB0aGlzLmJhbmFuYSA9IGJhbmFuYTtcbiAgfVxuXG4gIGNyZWF0ZUFWQ29tcG9uZW50KCkge1xuICAgIHRoaXMuJGF2Y29tcG9uZW50ID0gJCgnPGRpdiBjbGFzcz1cImlpaWYtYXYtY29tcG9uZW50XCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+Jyk7XG4gICAgJCh0aGlzLmVsZW0pLmFwcGVuZCh0aGlzLiRhdmNvbXBvbmVudCk7XG5cbiAgICBsZXQgcGxheWVyID0gdGhpcztcblxuICAgIHRoaXMuYXZjb21wb25lbnQgPSBuZXcgSUlJRkFWQ29tcG9uZW50LkFWQ29tcG9uZW50KHsgdGFyZ2V0OiB0aGlzLiRhdmNvbXBvbmVudFswXSB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ21lZGlhZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgIG1lZGlhRXJyb3JIYW5kbGVyKHBsYXllciwgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdmNvbXBvbmVudC5vbignbG9nJywgKG1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdmNvbXBvbmVudC5vbigncGxheScsICgpID0+IHtcbiAgICAgIHBsYXlFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ3BhdXNlJywgKCkgPT4ge1xuICAgICAgcGF1c2VFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ21lZGlhcmVhZHknLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZU1lZGlhUmVhZHkocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ2Z1bGxzY3JlZW4nLCAoKSA9PiB7XG4gICAgICBmdWxsU2NyZWVuRXZlbnRIYW5kbGVyKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCd2b2x1bWVjaGFuZ2VkJywgKHZhbHVlKSA9PiB7XG4gICAgICB2b2x1bWVDaGFuZ2VkRXZlbnRIYW5kbGVyKHBsYXllciwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kYXZjb21wb25lbnQub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAga2V5RXZlbnRIYW5kbGVyKHBsYXllciwgZSk7XG4gICAgfSk7XG4gIH1cblxuICBpdGVtU2VsZWN0TGlzdGVuZXIoZGF0YSkge1xuICAgIGlmICh0aGlzLmhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oYW5kbGVyID0gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmhhbmRsZXIudmlkZW9JZCA9IGRhdGE7XG5cbiAgICBsZXQgcGxheWVyID0gdGhpcztcblxuICAgIHRoaXMuaGFuZGxlci5sZE1hbmlmZXN0KGRhdGEsIChoZWxwZXIpID0+IHtcbiAgICAgIHBsYXllci5tYW5pZmVzdCA9IGhlbHBlci5tYW5pZmVzdDtcblxuICAgICAgbGV0IGNhbnZhc2VzID0gaGVscGVyLmdldENhbnZhc2VzKCk7XG4gICAgICBpZiAoY2FudmFzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBpbml0Q2FudmFzTmF2aWdhdGlvbihjYW52YXNlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuY2FudmFzTmF2aWdhdGlvbkNvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SOiBDb3VsZCBub3QgbG9hZCBtYW5pZmVzdCBkYXRhLicsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxkTWFuaWZlc3QobWFuaWZlc3QsIHN1Y2Nlc3NjYiwgZXJyb3JjYikge1xuICAgIGxldCBwbGF5ZXIgPSB0aGlzO1xuXG4gICAgTWFuaWZvbGQubG9hZE1hbmlmZXN0KHtcbiAgICAgIG1hbmlmZXN0VXJpOiBtYW5pZmVzdCxcbiAgICAgIGNvbGxlY3Rpb25JbmRleDogMCxcbiAgICAgIG1hbmlmZXN0SW5kZXg6IDAsXG4gICAgICBzZXF1ZW5jZUluZGV4OiAwLFxuICAgICAgY2FudmFzSW5kZXg6IDBcbiAgICB9KS50aGVuKChoKSA9PiB7XG4gICAgICBoZWxwZXIgPSBoO1xuXG4gICAgICBwbGF5ZXIuYXZjb21wb25lbnQuc2V0KHtcbiAgICAgICAgaGVscGVyLFxuICAgICAgICBsaW1pdFRvUmFuZ2U6IHBsYXllci5zdGF0ZS5saW1pdFRvUmFuZ2UsXG4gICAgICAgIGF1dG9TZWxlY3RSYW5nZTogcGxheWVyLnN0YXRlLmF1dG9TZWxlY3RSYW5nZSxcbiAgICAgICAgY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6IHBsYXllci5zdGF0ZS5jb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZSxcbiAgICAgICAgdmlydHVhbENhbnZhc0VuYWJsZWQ6IHBsYXllci5zdGF0ZS52aXJ0dWFsQ2FudmFzRW5hYmxlZFxuICAgICAgfSk7XG4gICAgICBzdWNjZXNzY2IoaGVscGVyKTtcbiAgICAgIHBsYXllci5yZXNpemUoKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgZXJyb3JjYihlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBsZXQgJHBsYXllckNvbnRhaW5lciA9ICQoJyMnK3RoaXMuZWxlbS5pZCsnIC5wbGF5ZXJDb250YWluZXInKTtcbiAgICAkcGxheWVyQ29udGFpbmVyLmhlaWdodCgkcGxheWVyQ29udGFpbmVyLndpZHRoKCkgKiAwLjc1KTtcbiAgICB0aGlzLmF2Y29tcG9uZW50LnJlc2l6ZSgpO1xuICB9XG5cbiAgY3JlYXRlTWFuaWZlc3Qodk9iaikge1xuICAgIGxldCBtYW5pZmVzdDtcblxuICAgIGlmICh2T2JqLm1hbmlmZXN0KSB7XG4gICAgICBtYW5pZmVzdCA9IHZPYmoubWFuaWZlc3Q7XG4gICAgfSBlbHNlIGlmICh2T2JqLnNvdXJjZS5zdGFydHNXaXRoKCdFVVNfJykpIHtcbiAgICAgIG1hbmlmZXN0ID0gJ2h0dHBzOi8vdmlkZW9lZGl0b3Iubm90ZXJpay5jb20vbWFuaWZlc3QvZXVzY3JlZW5tYW5pZmVzdC5waHA/aWQ9Jyt2T2JqLnNvdXJjZTtcbiAgICB9XG5cbiAgICB0aGlzLm1hbmlmZXN0dXJsID0gbWFuaWZlc3Q7XG4gICAgdGhpcy5pdGVtU2VsZWN0TGlzdGVuZXIobWFuaWZlc3QpO1xuICB9XG5cbiAgaW5pdExhbmd1YWdlcygpIHtcbiAgICBsZXQgdGV4dFRyYWNrcyA9ICQoJyMnK3RoaXMuZWxlbS5pZCsnIHZpZGVvJylbMF0udGV4dFRyYWNrcztcblxuICAgIC8vY2hlY2sgaWYgd2UgaGF2ZSBhbnkgdGV4dHRyYWNrc1xuICAgIGlmICh0ZXh0VHJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vc2hvdyBidXR0b24gb25seSBpZiB3ZSBoYXZlIGF0IGxlYXN0IG9uZSBsYW5ndWFnZSBzZXRcbiAgICAkKCcuYnRuW2RhdGEtbmFtZT1TdWJ0aXRsZXNdJykuc2hvdygpO1xuXG4gICAgbGV0IG1lbnUgPSAnPGRpdiBjbGFzcz1cXCdhbm5vIHN1YnRpdGxlbWVudVxcJz4nO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVudSArPSAnPGRpdiBjbGFzcz1cXCdzdWJ0aXRsZW1lbnUtb3B0aW9uXFwnIGRhdGEtbGFuZ3VhZ2U9XFwnJyt0ZXh0VHJhY2tzW2ldLmxhbmd1YWdlKydcXCc+JytsYW5ndWFnZXMuZmluZChsYW5nID0+IGxhbmcuaXNvID09PSB0ZXh0VHJhY2tzW2ldLmxhbmd1YWdlKS5uYW1lKyc8L2Rpdj4nO1xuICAgIH1cbiAgICBtZW51ICs9ICc8L2Rpdj4nO1xuXG4gICAgJCgnIycrdGhpcy5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hcHBlbmQobWVudSk7XG5cbiAgICAkKCdidXR0b25bZGF0YS1uYW1lPVwiU3VidGl0bGVzXCJdJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgdG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyKHRoaXMsIGUpO1xuICAgIH0pO1xuXG4gICAgbGV0IHBsYXllciA9IHRoaXM7XG5cbiAgICAkKCcuc3VidGl0bGVtZW51LW9wdGlvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIocGxheWVyLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vdG9kbzogYWRkcmVzcyBhdWRpbyBhcyB3ZWxsXG4gIGhhc0VuZGVkKCkge1xuICAgIGlmICgkKCcjJyt0aGlzLmVsZW0uaWQrJyB2aWRlbycpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICQoJyMnK3RoaXMuZWxlbS5pZCsnIHZpZGVvJylbMF0uZW5kZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNZWRpYVJlYWR5KHBsYXllcikge1xuICAgIGlmIChwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLl9jYW52YXNXaWR0aCA8IDQwMCkge1xuICAgICAgdGhpcy5vcHRpbWl6ZUZvclNtYWxsZXJTY3JlZW5zKCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVBVkNvbXBvbmVudExhbmd1YWdlKHBsYXllcik7XG5cbiAgICBsZXQgc3VidGl0bGVzID0gdGhpcy5jcmVhdGVCdXR0b24oJ1N1YnRpdGxlcycsIHRoaXMuYmFuYW5hLmkxOG4oJ3BsYXllci1zdWJ0aXRsZXMnKSwgJ2F2LWljb24tc3VidGl0bGVzJyk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY29udHJvbHMtY29udGFpbmVyJykuYXBwZW5kKHN1YnRpdGxlcyk7XG5cbiAgICBpZiAocGxheWVyLmVkaXRvcnVybCAmJiBwbGF5ZXIuZWRpdG9ydXJsLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBzaG93TWVudSA9IHBsYXllci5uZWVkVG9TaG93TWVudShwbGF5ZXIpO1xuXG4gICAgICBpZiAoc2hvd01lbnUpIHtcbiAgICAgICAgdGhpcy5hZGRFZGl0b3JPcHRpb24ocGxheWVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVxcJ2Fubm8gcGxheXdyYXBwZXJcXCc+PHNwYW4gY2xhc3M9XFwncGxheWNpcmNsZVxcJz48L3NwYW4+PC9kaXY+Jyk7XG5cbiAgICB0aGlzLmhhbmRsZU1lZGlhVHlwZShwbGF5ZXIpO1xuXG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIHBsYXlQYXVzZUV2ZW50SGFuZGxlcihwbGF5ZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgb3B0aW1pemVGb3JTbWFsbGVyU2NyZWVucygpIHtcbiAgICAkKCcuaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lJykuY3NzKHsgJ3dpZHRoJzogODAgfSk7XG4gICAgJCgnLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLXNsaWRlcicpLmNzcyh7ICd3aWR0aCc6IDQyIH0pO1xuICB9XG5cbiAgYWRkRWRpdG9yT3B0aW9uKHBsYXllcikge1xuICAgIGxldCBtb3JlID0gdGhpcy5jcmVhdGVCdXR0b24oJ01vcmUnLCB0aGlzLmJhbmFuYS5pMThuKCdwbGF5ZXItbW9yZScpLCAnYXYtaWNvbi1tb3JlJyk7XG4gICAgbW9yZVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIocGxheWVyLCBlKTtcbiAgICB9KTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jb250cm9scy1jb250YWluZXInKS5hcHBlbmQobW9yZSk7XG5cbiAgICB0aGlzLmhhbmRsZU1lbnVPcHRpb25zKHBsYXllcik7XG4gIH1cblxuICB1cGRhdGVBVkNvbXBvbmVudExhbmd1YWdlKHBsYXllcikge1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnZvbHVtZS1tdXRlJykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1tdXRlJykpO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ1dHRvbi1mdWxsc2NyZWVuJykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1mdWxsc2NyZWVuJykpO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ1dHRvbi1wbGF5JykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1wbGF5JykpO1xuICB9XG5cbiAgY3JlYXRlQnV0dG9uKG5hbWUsIHRleHQsIGNsYXNzbmFtZSkge1xuICAgIGxldCBidXR0b24gPSAkKCc8YnV0dG9uIGNsYXNzPVwiYnRuXCIgZGF0YS1uYW1lPVwiJytuYW1lKydcIiB0aXRsZT1cIicrdGV4dCsnXCI+PGkgY2xhc3M9XCJhdi1pY29uICcrY2xhc3NuYW1lKydcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0ZXh0Kyc8L2J1dHRvbj4nKTtcbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgaGFuZGxlTWVudU9wdGlvbnMocGxheWVyKSB7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cXCdhbm5vIG1vcmVtZW51XFwnPjwvZGl2PicpO1xuXG4gICAgbGV0IG9wdGlvbnMgPSB7IGVtYmVkOiB0cnVlLCBhbm5vdGF0aW9uOiBmYWxzZSwgcGxheWxpc3Q6IGZhbHNlLCBzdWJ0aXRsZXM6IGZhbHNlIH07XG4gICAgb3B0aW9ucyA9IHBsYXllci5kZXRlcm1pbmVPcHRpb25EaXNwbGF5KHBsYXllciwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3B0aW9ucykpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5tb3JlbWVudScpLmFwcGVuZCgnPGRpdiBpZD1cXCdjcmVhdGUtJytrZXkrJy1saW5rXFwnIGNsYXNzPVxcJ21vcmVtZW51LW9wdGlvblxcJz4nK3RoaXMuYmFuYW5hLmkxOG4oJ3BsYXllci1jcmVhdGUtJytrZXkpKyc8L2Rpdj4nKTtcblxuICAgICAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnICNjcmVhdGUtJytrZXkrJy1saW5rJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICBvcGVuRWRpdG9yVHlwZUV2ZW50SGFuZGxlcihwbGF5ZXIsIGUsIGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG5lZWRUb1Nob3dNZW51KHBsYXllcikge1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQucmlnaHRzKSkge1xuICAgICAgaWYgKHZhbHVlID09PSAnYWxsb3dlZCcgJiYgKGtleSA9PT0gJ2VtYmVkJyB8fCBrZXkgPT09ICdhbm5vdGF0aW9uJyB8fCBrZXkgPT09ICdwbGF5bGlzdCcgfHwga2V5ID09PSAnc3VidGl0bGVzJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRldGVybWluZU9wdGlvbkRpc3BsYXkocGxheWVyLCBvcHRpb25zKSB7XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC5yaWdodHMpKSB7XG4gICAgICBpZiAodmFsdWUgPT09ICdhbGxvd2VkJykge1xuICAgICAgICBvcHRpb25zW2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIGhhbmRsZU1lZGlhVHlwZShwbGF5ZXIpIHtcbiAgICBsZXQgdywgaDtcbiAgICB3ID0gaCA9IDQwMDtcbiAgICBzd2l0Y2ggKHRoaXMuZ2V0TWVkaWFUeXBlKHBsYXllcikpIHtcbiAgICAgIGNhc2UgJ0F1ZGlvJzpcbiAgICAgICAgdGhpcy5zZXRJbWFnZShwbGF5ZXIsIHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC50aHVtYm5haWxbMF0uaWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1ZpZGVvJzpcbiAgICAgICAgdyA9IHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0uX2NhbnZhc1dpZHRoO1xuICAgICAgICBoID0gcGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5fY2FudmFzSGVpZ2h0O1xuICAgIH1cbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCkuY3NzKHsgd2lkdGggOiB3LCBoZWlnaHQgOiBoIH0pO1xuICB9XG5cbiAgZ2V0TWVkaWFUeXBlKHBsYXllcikge1xuICAgIHJldHVybiBwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF0uaXRlbXNbMF0uaXRlbXNbMF0uYm9keS50eXBlO1xuICB9XG5cbiAgc2V0SW1hZ2UocGxheWVyLCBpbWFnZSkge1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5jc3MoeyAnYmFja2dyb3VuZC1pbWFnZScgOiAndXJsKCcgKyBpbWFnZSArJyknIH0pO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hZGRDbGFzcygnYXVkaW8tYmFja2dyb3VuZCcpO1xuICB9XG59XG4iLCIvKiBnbG9iYWwgJCAqL1xuXG5mdW5jdGlvbiBwbGF5RXZlbnRIYW5kbGVyKHBsYXllcikge1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5d3JhcHBlcicpLmhpZGUoKTtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnV0dG9uLXBsYXknKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLXBhdXNlJykpO1xufVxuXG5mdW5jdGlvbiBwYXVzZUV2ZW50SGFuZGxlcihwbGF5ZXIpIHtcbiAgY2xlYXJJbnRlcnZhbChwbGF5ZXIudGltZXVwZGF0ZSk7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ1dHRvbi1wbGF5JykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1wbGF5JykpO1xufVxuXG5mdW5jdGlvbiB2b2x1bWVDaGFuZ2VkRXZlbnRIYW5kbGVyKHBsYXllciwgdmFsdWUpIHtcbiAgbGV0IG11dGVUeXBlID0gdmFsdWUgIT09IDAgPyAncGxheWVyLW11dGUnIDogJ3BsYXllci11bm11dGUnO1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC52b2x1bWUtbXV0ZScpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKG11dGVUeXBlKSk7XG59XG5cbmZ1bmN0aW9uIGtleUV2ZW50SGFuZGxlcihwbGF5ZXIsIGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PT0gMzIgfHwgZS5rZXlDb2RlID09PSA3NSkgeyAgLy9zcGFjZSBiYXIsIGsgYnV0dG9uXG4gICAgcGxheVBhdXNlRXZlbnRIYW5kbGVyKHBsYXllcik7XG4gIH1cbiAgaWYgKGUua2V5Q29kZSA9PT0gNzApIHsgLy9mIGJ1dHRvblxuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ1dHRvbi1mdWxsc2NyZWVuJykuY2xpY2soKTtcbiAgfVxuICBpZiAoZS5rZXlDb2RlID09PSAzOCkgeyAvL3ZvbHVtZSB1cCBieSAxMCVcbiAgICBoYW5kbGVWb2x1bWVDaGFuZ2UocGxheWVyLCAwLjEpO1xuICB9XG4gIGlmIChlLmtleUNvZGUgPT09IDQwKSB7IC8vdm9sdW1lIGRvd24gYnkgMTAlXG4gICAgaGFuZGxlVm9sdW1lQ2hhbmdlKHBsYXllciwgLTAuMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGxheVBhdXNlRXZlbnRIYW5kbGVyKHBsYXllcikge1xuICBpZiAocGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5faXNQbGF5aW5nKSB7XG4gICAgcGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5wYXVzZSgpO1xuICB9IGVsc2Uge1xuICAgIC8vaGlkZSBwbGF5Y2lyY2xlIGlmIHNob3dpbmdcbiAgICBpZiAoJCgnIycrcGxheWVyLmVsZW0uaWQrJyAucGxheXdyYXBwZXInKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAucGxheXdyYXBwZXInKS5oaWRlKCk7XG4gICAgfVxuICAgIHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0ucGxheSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZ1bGxTY3JlZW5FdmVudEhhbmRsZXIocGxheWVyKSB7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLm1vcmVtZW51JykuaGlkZSgpO1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5zdWJ0aXRsZW1lbnUnKS5oaWRlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZvbHVtZUNoYW5nZShwbGF5ZXIsIHJhdGUpIHtcbiAgbGV0IHZhbCA9ICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnZvbHVtZS1zbGlkZXInKS5zbGlkZXIoJ29wdGlvbicsICd2YWx1ZScpO1xuICB2YWwgPSBkZXRlcm1pbmVOZXdWb2x1bWUodmFsLCByYXRlKTtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAudm9sdW1lLXNsaWRlcicpLnNsaWRlcigndmFsdWUnLCB2YWwpO1xufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVOZXdWb2x1bWUodmFsLCByYXRlKSB7XG4gIGlmIChyYXRlIDwgMCkge1xuICAgIHJldHVybiBkZWNyZWFzZVZvbHVtZSh2YWwsIHJhdGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbmNyZWFzZVZvbHVtZSh2YWwsIHJhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlY3JlYXNlVm9sdW1lKHZhbCwgcmF0ZSkge1xuICByZXR1cm4gdmFsIDwgcmF0ZSA/IDAgOiB2YWwgKyByYXRlO1xufVxuXG5mdW5jdGlvbiBpbmNyZWFzZVZvbHVtZSh2YWwsIHJhdGUpIHtcbiAgcmV0dXJuIHZhbCA+IHJhdGUgKyB2YWwgPiAxID8gMSA6IHZhbCArIHJhdGU7XG59XG5cbmZ1bmN0aW9uIGVkaXRvckJ1dHRvbkV2ZW50SGFuZGxlcihwbGF5ZXIsIGUpIHtcbiAgdG9nZ2xlTWVudU9wdGlvbihwbGF5ZXIsIGUsICdtb3JlbWVudScsICdNb3JlJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVN1YnRpdGxlc0V2ZW50SGFuZGxlcihwbGF5ZXIsIGUpIHtcbiAgdG9nZ2xlTWVudU9wdGlvbihwbGF5ZXIsIGUsICdzdWJ0aXRsZW1lbnUnLCAnU3VidGl0bGVzJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lbnVPcHRpb24ocGxheWVyLCBlLCBjbHMsIG5hbWUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGlmICgkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC4nK2NscykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC4nK2NscykuaGlkZSgpO1xuICB9IGVsc2Uge1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLicrY2xzKS5jc3MoeyBib3R0b206ICQoJyMnK3BsYXllci5lbGVtLmlkKycgLm9wdGlvbnMtY29udGFpbmVyJykuaGVpZ2h0KCksIGxlZnQ6ICgoJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuYnRuW2RhdGEtbmFtZT1cIicrbmFtZSsnXCJdJykub2Zmc2V0KCkubGVmdCAtICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnBsYXllcicpLm9mZnNldCgpLmxlZnQpIC0gKCQoJyMnK3BsYXllci5lbGVtLmlkKycgLicrY2xzKS53aWR0aCgpIC8gMikpIH0pO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLicrY2xzKS5zaG93KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3VidGl0bGVNZW51RXZlbnRIYW5kbGVyKHBsYXllciwgZSkge1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5zdWJ0aXRsZW1lbnUnKS5oaWRlKCk7XG4gIGxldCB0ZXh0VHJhY2tzID0gJCgnIycrcGxheWVyLmVsZW0uaWQrJyB2aWRlbycpWzBdLnRleHRUcmFja3M7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCQodGhpcykuZGF0YSgnbGFuZ3VhZ2UnKSA9PT0gdGV4dFRyYWNrc1tpXS5sYW5ndWFnZSkge1xuICAgICAgdGV4dFRyYWNrc1tpXS5tb2RlID0gJ3Nob3dpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0VHJhY2tzW2ldLm1vZGUgPSAnaGlkZGVuJztcbiAgICB9XG4gIH1cbiAgLy9wcmV2ZW50IHRoZSBwbGF5L3BhdXNlIGhhbmRsZXIgdG8gcmVhY3RcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuZnVuY3Rpb24gb3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIocGxheWVyLCBlLCB0eXBlKSB7XG4gIC8vcHJldmVudCB0aGUgcGxheS9wYXVzZSBoYW5kbGVyIHRvIHJlYWN0XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgd2luZG93Lm9wZW4ocGxheWVyLmVkaXRvcnVybCsnP21hbmlmZXN0PScrZW5jb2RlVVJJQ29tcG9uZW50KHBsYXllci5tYW5pZmVzdHVybCkrJyMnK3R5cGUsICdfYmxhbmsnKTtcbn1cblxuZnVuY3Rpb24gbWVkaWFFcnJvckhhbmRsZXIocGxheWVyLCBlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCdtZWRpYSBlcnJvcicsIGVycm9yKTtcblxuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5ZXInKS5yZW1vdmVDbGFzcygncGxheWVyLS1sb2FkaW5nJyk7XG4gIGxldCBlcnJvcm1lc3NhZ2UgPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvcicpKyc6ICc7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgMTpcbiAgICAgIGVycm9ybWVzc2FnZSArPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvci1sb2FkaW5nJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlcnJvcm1lc3NhZ2UgKz0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3ItbmV0d29yaycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLWRlY29kaW5nJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBlcnJvcm1lc3NhZ2UgKz0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3ItZm9ybWF0Jyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLXVua25vd24nKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cXCdhbm5vIGVycm9ybWVzc2FnZVxcJz4nK2Vycm9ybWVzc2FnZSsnPC9kaXY+Jyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwbGF5RXZlbnRIYW5kbGVyLCBwYXVzZUV2ZW50SGFuZGxlciwgdm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlciwga2V5RXZlbnRIYW5kbGVyLCBwbGF5UGF1c2VFdmVudEhhbmRsZXIsIGZ1bGxTY3JlZW5FdmVudEhhbmRsZXIsIGVkaXRvckJ1dHRvbkV2ZW50SGFuZGxlciwgdG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyLCBzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIsIG9wZW5FZGl0b3JUeXBlRXZlbnRIYW5kbGVyLCBtZWRpYUVycm9ySGFuZGxlclxufTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIGdsb2JhbCAkICovXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IFBsYXllciBmcm9tICcuL2NvbXBvbmVudHMvcGxheWVyJztcblxubGV0IGVkaXRvcnVybCA9ICcnO1xubGV0IHBsYXllcjtcbmxldCBsYW5ndWFnZSA9ICcnO1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IChjb250YWluZXIsIHZpZGVvT2JqLCBvcHRpb25zKSA9PiB7XG4gIC8vQ3JlYXRlIHVuaXF1ZSBwbGF5ZXIgaWRcbiAgbGV0IHBsYXllcklkID0gdXVpZHY0KCk7XG5cbiAgLy9BcHBlbmQgcGxheWVyIHRvIGNvbnRhaW5lciB3aXRoIHRoZSB1bmlxdWUgaWRcbiAgJChjb250YWluZXIpLmFwcGVuZCgnPGRpdiBpZD1cImV1cHMtcGxheWVyLScrcGxheWVySWQrJ1wiIGNsYXNzPVwiZXVwcy1wbGF5ZXJcIj48L2Rpdj4nKTtcblxuICAvL1NldCBvcHRpb25zXG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ21hbmlmZXN0JykpIHtcbiAgICB2aWRlb09iai5tYW5pZmVzdCA9IG9wdGlvbnMubWFuaWZlc3Q7XG4gIH1cbiAgdmlkZW9PYmouc291cmNlID0gb3B0aW9ucy5zb3VyY2UgfHwgdmlkZW9PYmouc291cmNlO1xuICBlZGl0b3J1cmwgPSBvcHRpb25zLmVkaXRvciB8fCBlZGl0b3J1cmw7XG4gIGxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZSB8fCBsYW5ndWFnZTtcblxuICAvL0NyZWF0ZSBwbGF5ZXJcbiAgcGxheWVyID0gbmV3IFBsYXllcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXVwcy1wbGF5ZXItJytwbGF5ZXJJZCkpO1xuXG4gIC8vSW5pdGlhbGl6ZSBwbGF5ZXJcbiAgcGxheWVyLmluaXQodmlkZW9PYmosIGVkaXRvcnVybCwgbGFuZ3VhZ2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpID0+IHtcbiAgcmV0dXJuIChbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZywgYyA9PlxuICAgIChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdXJvcGVhbmFNZWRpYVBsYXllciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgdmlkZW9PYmosIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBvcHRpb25zIDoge307XG4gICAgaW5pdChjb250YWluZXIsIHZpZGVvT2JqLCBvcHRpb25zKTtcbiAgfVxuXG4gIGdldCBwbGF5ZXIoKSB7XG4gICAgcmV0dXJuIHBsYXllcjtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2Rhc2hqc19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qcXVlcnlfXzsiXSwic291cmNlUm9vdCI6IiJ9