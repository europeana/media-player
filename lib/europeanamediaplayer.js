(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("jquery"), require("dashjs"));
	else if(typeof define === 'function' && define.amd)
		define("europeanamediaplayer", ["jquery", "dashjs"], factory);
	else if(typeof exports === 'object')
		exports["europeanamediaplayer"] = factory(require("jquery"), require("dashjs"));
	else
		root["europeanamediaplayer"] = factory(root["jquery"], root["dashjs"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_jquery__, __WEBPACK_EXTERNAL_MODULE_dashjs__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdateeuropeanamediaplayer"];
/******/ 	window["webpackHotUpdateeuropeanamediaplayer"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "b66c6d432a5fa38d341c";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(E,e){ true?module.exports=e():undefined}(window,(function(){return function(E){var e={};function T(t){if(e[t])return e[t].exports;var O=e[t]={i:t,l:!1,exports:{}};return E[t].call(O.exports,O,O.exports,T),O.l=!0,O.exports}return T.m=E,T.c=e,T.d=function(E,e,t){T.o(E,e)||Object.defineProperty(E,e,{enumerable:!0,get:t})},T.r=function(E){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},T.t=function(E,e){if(1&e&&(E=T(E)),8&e)return E;if(4&e&&"object"==typeof E&&E&&E.__esModule)return E;var t=Object.create(null);if(T.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:E}),2&e&&"string"!=typeof E)for(var O in E)T.d(t,O,function(e){return E[e]}.bind(null,O));return t},T.n=function(E){var e=E&&E.__esModule?function(){return E.default}:function(){return E};return T.d(e,"a",e),e},T.o=function(E,e){return Object.prototype.hasOwnProperty.call(E,e)},T.p="",T(T.s=0)}([function(E,e,T){E.exports=T(1)},function(E,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])}));
//# sourceMappingURL=httpstatuscodes.js.map

/***/ }),

/***/ "./node_modules/@iiif/base-component/dist-esmodule/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/base-component/dist-esmodule/index.js ***!
  \******************************************************************/
/*! exports provided: BaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
var BaseComponent = /** @class */ (function () {
    function BaseComponent(options) {
        this.options = options;
        this.options.data = Object.assign({}, this.data(), options.data);
    }
    BaseComponent.prototype._init = function () {
        this.el = this.options.target;
        if (!this.el) {
            console.warn('element not found');
            return false;
        }
        this.el.innerHTML = '';
        return true;
    };
    BaseComponent.prototype.data = function () {
        return {};
    };
    BaseComponent.prototype.on = function (name, callback, ctx) {
        var e = this._e || (this._e = {});
        (e[name] || (e[name] = [])).push({
            fn: callback,
            ctx: ctx
        });
    };
    BaseComponent.prototype.fire = function (name) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var data = [].slice.call(arguments, 1);
        var evtArr = ((this._e || (this._e = {}))[name] || []).slice();
        var i = 0;
        var len = evtArr.length;
        for (i; i < len; i++) {
            evtArr[i].fn.apply(evtArr[i].ctx, data);
        }
    };
    BaseComponent.prototype._resize = function () {
    };
    BaseComponent.prototype.set = function (_data) {
    };
    return BaseComponent;
}());

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($, jQuery) {!function(t,e){ true?module.exports=e():undefined}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(e.AnnotationMotivation||(e.AnnotationMotivation={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(e.Behavior||(e.Behavior={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DOCUMENT="document",t.IMAGE="image",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(e.ExternalResourceType||(e.ExternalResourceType={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(e.IIIFResourceType||(e.IIIFResourceType={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(e.MediaType||(e.MediaType={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(e.RenderingFormat||(e.RenderingFormat={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(e.ServiceProfile||(e.ServiceProfile={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(e.ViewingDirection||(e.ViewingDirection={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(e.ViewingHint||(e.ViewingHint={}))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{l(i.next(t))}catch(t){a(t)}}function s(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=n(33);n(34);var l=function(){function t(){}return t.getMediaType=function(t){return(t=(t=t.toLowerCase()).split(";")[0]).trim()},t.getImageQuality=function(t){return t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||t===o.ServiceProfile.IMAGE_1_LEVEL_1||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||t===o.ServiceProfile.IMAGE_1_LEVEL_2||t===o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},t.getInexactLocale=function(t){return-1!==t.indexOf("-")?t.substr(0,t.indexOf("-")):t},t.getLocalisedValue=function(t,e){if(!Array.isArray(t))return t;for(var n=0;n<t.length;n++){var i=t[n];if(e===i["@language"])return i["@value"]}var r=e.substr(0,e.indexOf("-"));for(n=0;n<t.length;n++){var a=t[n];if(a["@language"]===r)return a["@value"]}return null},t.generateTreeNodeIds=function(e,n){var i;void 0===n&&(n=0),i=e.parentNode?e.parentNode.id+"-"+n:"0",e.id=i;for(var r=0;r<e.nodes.length;r++){var a=e.nodes[r];t.generateTreeNodeIds(a,r)}},t.normaliseType=function(t){return-1!==(t=t.toLowerCase()).indexOf(":")?t.split(":")[1]:t},t.normaliseUrl=function(t){return-1!==(t=t.substr(t.indexOf("://"))).indexOf("#")&&(t=t.split("#")[0]),t},t.normalisedUrlsMatch=function(e,n){return t.normaliseUrl(e)===t.normaliseUrl(n)},t.isImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.isLevel0ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_0)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},t.isLevel1ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_1)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},t.isLevel2ImageProfile=function(e){return!!(t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_LEVEL_2)||t.normalisedUrlsMatch(e,o.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},t.parseManifest=function(t,e){return a.Deserialiser.parse(t,e)},t.checkStatus=function(t){if(t.ok)return t;var e=new Error(t.statusText);return e.response=t,Promise.reject(e)},t.loadManifest=function(e){return new Promise((function(n){fetch(e).then(t.checkStatus).then((function(t){return t.json()})).then((function(t){n(t)}))}))},t.loadExternalResourcesAuth1=function(e,n,i,r,a,o,s,l){return new Promise((function(c,u){var h=e.map((function(e){return t.loadExternalResourceAuth1(e,n,i,r,a,o,s,l)}));Promise.all(h).then((function(){c(e)})).catch((function(t){u(t)}))}))},t.loadExternalResourceAuth1=function(e,n,a,o,l,c,u,h){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return(i=r.sent())?[4,e.getData(i)]:[3,6];case 2:return r.sent(),e.status!==s.OK?[3,3]:[2,e];case 3:return[4,t.doAuthChain(e,n,a,l,c,u,h)];case 4:r.sent(),r.label=5;case 5:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return r.sent(),e.status!==s.MOVED_TEMPORARILY&&e.status!==s.UNAUTHORIZED?[3,9]:[4,t.doAuthChain(e,n,a,l,c,u,h)];case 8:r.sent(),r.label=9;case 9:if(e.status===s.OK||e.status===s.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError()}}))}))},t.doAuthChain=function(e,n,a,o,l,c,u){return i(this,void 0,void 0,(function(){var i,h,p,f,_,d,v,g;return r(this,(function(r){switch(r.label){case 0:return e.isAccessControlled()?((i=e.externalService)&&(i.options=e.options),(h=e.kioskService)&&(h.options=e.options),(p=e.clickThroughService)&&(p.options=e.options),(f=e.loginService)&&(f.options=e.options),e.isResponseHandled||e.status!==s.MOVED_TEMPORARILY?[3,2]:[4,c(e)]):[2,e];case 1:return r.sent(),[2,e];case 2:return _=null,d=null,(_=i)?(d=_,[4,t.attemptResourceWithToken(e,a,_)]):[3,4];case 3:return r.sent(),[2,e];case 4:return(_=h)?(d=_,(v=n(_))?[4,o(v)]:[3,7]):[3,7];case 5:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 6:return r.sent(),[2,e];case 7:return(_=p)?(d=_,[4,l(e,_)]):[3,11];case 8:return(g=r.sent())?[4,o(g)]:[3,11];case 9:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 10:return r.sent(),[2,e];case 11:return(_=f)?(d=_,[4,l(e,_)]):[3,15];case 12:return(g=r.sent())?[4,o(g)]:[3,15];case 13:return r.sent(),[4,t.attemptResourceWithToken(e,a,_)];case 14:return r.sent(),[2,e];case 15:return d&&u(e,d),[2]}}))}))},t.attemptResourceWithToken=function(t,e,n){return i(this,void 0,void 0,(function(){var i,a;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(o.ServiceProfile.AUTH_1_TOKEN))?[4,e(t,i)]:[3,3];case 1:return(a=r.sent())&&a.accessToken?[4,t.getData(a)]:[3,3];case 2:return r.sent(),[2,t];case 3:return[2]}}))}))},t.loadExternalResourcesAuth09=function(e,n,i,r,a,o,s,l,c,u){return new Promise((function(h,p){var f=e.map((function(e){return t.loadExternalResourceAuth09(e,n,i,r,a,o,s,l,c,u)}));Promise.all(f).then((function(){h(e)})).catch((function(t){p(t)}))}))},t.loadExternalResourceAuth09=function(e,n,i,r,a,o,l,c,u,h){return new Promise((function(p,f){h&&h.pessimisticAccessControl?e.getData().then((function(){e.isAccessControlled()?e.clickThroughService?(p(i(e)),p(r(e))):a(e).then((function(){o(e,!0).then((function(n){e.getData(n).then((function(){p(u(e))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))}))})).catch((function(e){f(t.createInternalServerError(e))})):p(e)})).catch((function(e){f(t.createInternalServerError(e))})):c(e,n).then((function(h){h?e.getData(h).then((function(){e.status===s.OK?p(u(e)):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())})):t.authorize(e,n,i,r,a,o,l,c).then((function(){p(u(e))})).catch((function(e){f(t.createAuthorizationFailedError())}))})).catch((function(e){f(t.createAuthorizationFailedError())}))}))},t.createError=function(t,e){var n=new Error;return n.message=e,n.name=String(t),n},t.createAuthorizationFailedError=function(){return t.createError(a.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},t.createRestrictedError=function(){return t.createError(a.StatusCode.RESTRICTED,"Restricted")},t.createInternalServerError=function(e){return t.createError(a.StatusCode.INTERNAL_SERVER_ERROR,e)},t.authorize=function(e,n,i,r,a,o,l,c){return new Promise((function(u,h){e.getData().then((function(){e.isAccessControlled()?c(e,n).then((function(c){c?e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))})):o(e,!1).then((function(c){c?l(e,c,n).then((function(){e.getData(c).then((function(){e.status===s.OK?u(e):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)})).catch((function(e){h(t.createInternalServerError(e))}))})).catch((function(e){h(t.createInternalServerError(e))})):t.showAuthInteraction(e,n,i,r,a,o,l,u,h)}))})).catch((function(e){h(t.createInternalServerError(e))})):u(e)}))}))},t.showAuthInteraction=function(e,n,i,r,a,o,l,c,u){e.status!==s.MOVED_TEMPORARILY||e.isResponseHandled?e.clickThroughService&&!e.isResponseHandled?i(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):a(e).then((function(){o(e,!0).then((function(i){l(e,i,n).then((function(){e.getData(i).then((function(){c(e)})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})).catch((function(e){u(t.createInternalServerError(e))}))})):c(e)},t.getService=function(t,e){for(var n=this.getServices(t),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===e)return r}return null},t.getResourceById=function(e,n){return t.traverseAndFind(e.__jsonld,"@id",n)},t.traverseAndFind=function(e,n,i){if(e.hasOwnProperty(n)&&e[n]===i)return e;for(var r=0;r<Object.keys(e).length;r++)if("object"==typeof e[Object.keys(e)[r]]){var a=t.traverseAndFind(e[Object.keys(e)[r]],n,i);if(null!=a)return a}},t.getServices=function(t){var e,n=[];if(!(e=t.__jsonld?t.__jsonld.service:t.service))return n;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if("string"==typeof r){var o=this.getResourceById(t.options.resource,r);o&&n.push(new a.Service(o.__jsonld||o,t.options))}else n.push(new a.Service(r,t.options))}return n},t.getTemporalComponent=function(t){var e=/t=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t}();e.Utils=l},function(t,e,n){"use strict";n.r(e),e.default=function(t,e){return e=e||{},new Promise((function(n,i){var r=new XMLHttpRequest,a=[],o=[],s={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return o},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var c in r.open(e.method||"get",t,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){a.push(e=e.toLowerCase()),o.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(l())},r.onerror=i,r.withCredentials="include"==e.credentials,e.headers)r.setRequestHeader(c,e.headers[c]);r.send(e.body||null)}))}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(0));var i=n(2);e.loadManifest=function(t){return i.Utils.loadManifest(t)},e.parseManifest=function(t,e){return i.Utils.parseManifest(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.__jsonld=t,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return t.prototype.getProperty=function(t){var e=null;return this.__jsonld&&((e=this.__jsonld[t])||(e=this.__jsonld["@"+t])),e},t}();e.JSONLDResource=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.options=n,i}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){var t=this.getProperty("label");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDefaultLabel=function(){return a.LanguageMap.getValue(this.getLabel())},e.prototype.getMetadata=function(){var t=this.getProperty("metadata"),e=[];if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n],r=new a.LabelValuePair(this.options.locale);r.parse(i),e.push(r)}return e},e.prototype.getRendering=function(t){for(var e=this.getRenderings(),n=0;n<e.length;n++){var i=e[n];if(i.getFormat()===t)return i}return null},e.prototype.getRenderings=function(){var t,e=[];if(!(t=this.__jsonld?this.__jsonld.rendering:this.rendering))return e;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];e.push(new a.Rendering(i,this.options))}return e},e.prototype.getService=function(t){return a.Utils.getService(this,t)},e.prototype.getServices=function(){return a.Utils.getServices(this)},e.prototype.getThumbnail=function(){var t=this.getProperty("thumbnail");return Array.isArray(t)&&(t=t[0]),t?new a.Thumbnail(t,this.options):null},e.prototype.isAnnotation=function(){return this.getIIIFResourceType()===o.IIIFResourceType.ANNOTATION},e.prototype.isCanvas=function(){return this.getIIIFResourceType()===o.IIIFResourceType.CANVAS},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.isRange=function(){return this.getIIIFResourceType()===o.IIIFResourceType.RANGE},e.prototype.isSequence=function(){return this.getIIIFResourceType()===o.IIIFResourceType.SEQUENCE},e}(a.JSONLDResource);e.ManifestResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?t.toLowerCase():null},e.prototype.getResources=function(){var t=[];if(!this.__jsonld.resources)return t;for(var e=0;e<this.__jsonld.resources.length;e++){var n=this.__jsonld.resources[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getType=function(){var t=this.getProperty("type");return t?a.Utils.normaliseType(t):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},e.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},e}(a.ManifestResource);e.Resource=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(e,t),e.prototype.getAttribution=function(){var t=this.getProperty("attribution");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getDescription=function(){var t=this.getProperty("description");return t?a.LanguageMap.parse(t,this.options.locale):[]},e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLogo=function(){var t=this.getProperty("logo");return t?"string"==typeof t?t:(Array.isArray(t)&&t.length&&(t=t[0]),t["@id"]||t.id):null},e.prototype.getLicense=function(){return a.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},e.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},e.prototype.getRelated=function(){return this.getProperty("related")},e.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},e.prototype.getTrackingLabel=function(){var t=this.getService(o.ServiceProfile.TRACKING_EXTENSIONS);return t?t.getProperty("trackingLabel"):""},e.prototype.getDefaultTree=function(){return this.defaultTree=new a.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},e.prototype.getRequiredStatement=function(){var t=null,e=this.getProperty("requiredStatement");if(e)(t=new a.LabelValuePair(this.options.locale)).parse(e);else{var n=this.getAttribution();n&&((t=new a.LabelValuePair(this.options.locale)).value=n)}return t},e.prototype.isCollection=function(){return this.getIIIFResourceType()===o.IIIFResourceType.COLLECTION},e.prototype.isManifest=function(){return this.getIIIFResourceType()===o.IIIFResourceType.MANIFEST},e.prototype.load=function(){var t=this;return new Promise((function(e){if(t.isLoaded)e(t);else{var n=t.options;n.navDate=t.getNavDate();var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(i){t.parentLabel=a.LanguageMap.getValue(t.getLabel(),n.locale);var r=a.Deserialiser.parse(i,n);(t=Object.assign(t,r)).index=n.index,e(t)}))}}))},e}(a.ManifestResource);e.IIIFResource=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getBody=function(){var t=[],e=this.getProperty("body");if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)if((o=e[n]).items)for(var i=0;i<o.items.length;i++){var r=o.items[i];t.push(new a.AnnotationBody(r,this.options))}else t.push(new a.AnnotationBody(o,this.options));else if(e.items)for(n=0;n<e.items.length;n++){var o=e.items[n];t.push(new a.AnnotationBody(o,this.options))}else t.push(new a.AnnotationBody(e,this.options));return t},e.prototype.getMotivation=function(){return this.getProperty("motivation")||null},e.prototype.getOn=function(){return this.getProperty("on")},e.prototype.getTarget=function(){return this.getProperty("target")},e.prototype.getResource=function(){return new a.Resource(this.getProperty("resource"),this.options)},e}(a.ManifestResource);e.Annotation=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){var t=this.getProperty("format");return t?a.Utils.getMediaType(t):null},e.prototype.getType=function(){return this.getProperty("type")?a.Utils.normaliseType(this.getProperty("type")):null},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.ManifestResource);e.AnnotationBody=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.label=e,r.options=i,r}return r(e,t),e.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},e.prototype.getLabel=function(){return this.label},e.prototype.getResources=function(){var t=this;return this.getProperty("resources").map((function(e){return new a.Annotation(e,t.options)}))},e.prototype.load=function(){var t=this;return new Promise((function(e,n){if(t.isLoaded)e(t);else{var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),a.Utils.loadManifest(i).then((function(n){t.__jsonld=n,t.context=t.getProperty("context"),t.id=t.getProperty("id"),t.isLoaded=!0,e(t)})).catch(n)}}))},e}(a.JSONLDResource);e.AnnotationList=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getItems=function(){return this.getProperty("items")},e}(n(0).ManifestResource);e.AnnotationPage=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getCanonicalImageUri=function(t){var e,n=null,i="default",r=t;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var o=this.getImages();if(o&&o.length){var s=o[0].getResource(),l=s.getServices();if(r||(r=s.getWidth()),l.length){var c=l[0];n=c.id,i=a.Utils.getImageQuality(c.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var u=this.getProperty("thumbnail");if(u){if("string"==typeof u)return u;if(u["@id"])return u["@id"];if(u.length)return u[0].id}}}return e=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",e,0,i+".jpg"].join("/")},e.prototype.getMaxDimensions=function(){var t,e=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(t=this.externalResource.data.profile,Array.isArray(t)&&(t=t.filter((function(t){return t.maxWidth}))[0])&&(e=new a.Size(t.maxWidth,t.maxHeight?t.maxHeight:t.maxWidth))),e},e.prototype.getContent=function(){var t=[],e=this.__jsonld.items||this.__jsonld.content;if(!e)return t;var n=null;if(e.length&&(n=new a.AnnotationPage(e[0],this.options)),!n)return t;for(var i=n.getItems(),r=0;r<i.length;r++){var o=i[r],s=new a.Annotation(o,this.options);t.push(s)}return t},e.prototype.getDuration=function(){return this.getProperty("duration")},e.prototype.getImages=function(){var t=[];if(!this.__jsonld.images)return t;for(var e=0;e<this.__jsonld.images.length;e++){var n=this.__jsonld.images[e],i=new a.Annotation(n,this.options);t.push(i)}return t},e.prototype.getIndex=function(){return this.getProperty("index")},e.prototype.getOtherContent=function(){var t=this,e=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(t){return t&&"string"==typeof(e=t["@type"])&&e.toLowerCase()==e.toLowerCase();var e})).map((function(e,n){return new a.AnnotationList(e.label||"Annotation list "+n,e,t.options)})).map((function(t){return t.load()}));return Promise.all(e)},e.prototype.getWidth=function(){return this.getProperty("width")},e.prototype.getHeight=function(){return this.getProperty("height")},e}(a.Resource);e.Canvas=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._collections=null,i._manifests=null,e.__collection=i,i}return r(e,t),e.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(t){return t.isCollection()}))},e.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(t){return t.isManifest()}))},e.prototype.getCollectionByIndex=function(t){for(var e,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Collection index not found")},e.prototype.getManifestByIndex=function(t){for(var e,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===t&&(e=r)}if(e)return e.options.index=t,e.load();throw new Error("Manifest index not found")},e.prototype.getTotalCollections=function(){return this.getCollections().length},e.prototype.getTotalManifests=function(){return this.getManifests().length},e.prototype.getTotalItems=function(){return this.items.length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):a.ViewingDirection.LEFT_TO_RIGHT},e.prototype.getDefaultTree=function(){return t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._parseManifests=function(t){if(t.getManifests()&&t.getManifests().length)for(var e=0;e<t.getManifests().length;e++){var n=t.getManifests()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),t.defaultTree.addNode(i)}},e.prototype._parseCollections=function(t){if(t.getCollections()&&t.getCollections().length)for(var e=0;e<t.getCollections().length;e++){var n=t.getCollections()[e],i=n.getDefaultTree();i.label=n.parentLabel||o.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(e+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=o.Utils.normaliseType(o.TreeNodeType.COLLECTION),t.defaultTree.addNode(i)}},e}(o.IIIFResource);e.Collection=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getLength=function(){return this.end-this.start},t}();e.Duration=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t){this.defaultLocale=t}return t.prototype.parse=function(t){this.resource=t,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},t.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},t.prototype.setLabel=function(t){var e=this;if(this.label&&this.label.length){var n=this.label.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t.prototype.getValue=function(){if(this.value){var t=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(t=this.label[0].locale),i.LanguageMap.getValue(this.value,t)}return null},t.prototype.setValue=function(t){var e=this;if(this.value&&this.value.length){var n=this.value.filter((function(t){return t.locale===e.defaultLocale||t.locale===i.Utils.getInexactLocale(e.defaultLocale)}))[0];n&&(n.value=t)}},t}();e.LabelValuePair=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Language=function(t,e){Array.isArray(t)?1===t.length?this.value=t[0]:this.value=t.join("<br/>"):this.value=t,this.locale=e}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.parse=function(t,e){var n,i=[];if(!t)return i;if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=t[r];n="string"==typeof o?new a.Language(o,e):new a.Language(o["@value"],o["@language"]||e),i.push(n)}else{if("string"==typeof t)return n=new a.Language(t,e),i.push(n),i;t["@value"]?(n=new a.Language(t["@value"],t["@language"]||e),i.push(n)):Object.keys(t).forEach((function(e){if(!t[e].length)throw new Error("language must have a value");n=new a.Language(t[e],e),i.push(n)}))}return i},e.getValue=function(t,e){if(t.length){if(e){var n=t.filter((function(t){return t.locale===e||a.Utils.getInexactLocale(t.locale)===a.Utils.getInexactLocale(e)}))[0];if(n)return n.value}return t[0].value}return null},e}(Array);e.LanguageMap=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),a=0;a<r.length;a++){var o=r[a];i._parseRanges(o,String(a))}return i}return r(e,t),e.prototype.getPosterCanvas=function(){var t=this.getProperty("posterCanvas");return t&&(t=new o.Canvas(t,this.options)),t},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getDefaultTree=function(){if(t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=o.Utils.normaliseType(o.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var e=this.getTopRanges();return e.length&&e[0].getTree(this.defaultTree),o.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},e.prototype._getTopRanges=function(){var t=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];n.viewingHint===a.ViewingHint.TOP&&t.push(n)}if(!t.length){var i={};i.ranges=this.__jsonld.structures,t.push(i)}}return t},e.prototype.getTopRanges=function(){return this._topRanges},e.prototype._getRangeById=function(t){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var e=0;e<this.__jsonld.structures.length;e++){var n=this.__jsonld.structures[e];if(n["@id"]===t||n.id===t)return n}return null},e.prototype._parseRanges=function(t,e,n){var i,r=null;if("string"==typeof t&&(r=t,t=this._getRangeById(r)),t){(i=new o.Range(t,this.options)).parentRange=n,i.path=e,n?n.items.push(i):this._topRanges.push(i);var a=t.items||t.members;if(a)for(var s=0;s<a.length;s++){var l=a[s];if(l["@type"]&&"sc:range"===l["@type"].toLowerCase()||l.type&&"range"===l.type.toLowerCase())this._parseRanges(l,e+"/"+s,i);else if(l["@type"]&&"sc:canvas"===l["@type"].toLowerCase()||l.type&&"canvas"===l.type.toLowerCase()){i.canvases||(i.canvases=[]);var c=l.id||l["@id"];i.canvases.push(c)}}else if(t.ranges)for(s=0;s<t.ranges.length;s++)this._parseRanges(t.ranges[s],e+"/"+s,i)}else console.warn("Range:",r,"does not exist")},e.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var t=this.getTopRanges(),e=function(e){var i=t[e];i.id&&n._allRanges.push(i);var r=function(t,e){t.add(e);var n=e.getRanges();return n.length?n.reduce(r,t):t},a=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(a)},n=this,i=0;i<t.length;i++)e(i);return this._allRanges},e.prototype.getRangeById=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}return null},e.prototype.getRangeByPath=function(t){for(var e=this.getAllRanges(),n=0;n<e.length;n++){var i=e[n];if(i.path===t)return i}return null},e.prototype.getSequences=function(){if(this.items.length)return this.items;var t=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(t)for(var e=0;e<t.length;e++){var n=t[e],i=new o.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new o.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},e.prototype.getSequenceByIndex=function(t){return this.getSequences()[t]},e.prototype.getTotalSequences=function(){return this.getSequences().length},e.prototype.getManifestType=function(){var t=this.getService(a.ServiceProfile.UI_EXTENSIONS);return t?t.getProperty("manifestType"):o.ManifestType.EMPTY},e.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();if(t)return t===a.ViewingHint.PAGED;var e=this.getBehavior();return!!e&&e===a.Behavior.PAGED},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e}(o.IIIFResource);e.Manifest=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.EMPTY="",t.MANUSCRIPT="manuscript",t.MONOGRAPH="monograph"}(e.ManifestType||(e.ManifestType={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=n(1),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(e,t),e.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},e.prototype.getDuration=function(){var t,e;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=a.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(t=Number(r[0])),n===this.canvases.length-1&&(e=Number(r[1])))}else{var o=this.getRanges();for(n=0;n<o.length;n++){var s=o[n].getDuration();s&&(0===n&&(t=s.start),n===o.length-1&&(e=s.end))}}if(void 0!==t&&void 0!==e)return new a.Duration(t,e)},e.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(t){return t.isRange()}))},e.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t||null},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.getTree=function(t){t.data=this,this.treeNode=t;var e=this.getRanges();if(e&&e.length)for(var n=0;n<e.length;n++){var i=e[n],r=new a.TreeNode;t.addNode(r),this._parseTreeNode(r,i)}return a.Utils.generateTreeNodeIds(t),t},e.prototype.spansTime=function(t){var e=this.getDuration();return!!(e&&t>=e.start&&t<=e.end)},e.prototype._parseTreeNode=function(t,e){t.label=a.LanguageMap.getValue(e.getLabel(),this.options.locale),t.data=e,t.data.type=a.Utils.normaliseType(a.TreeNodeType.RANGE),e.treeNode=t;var n=e.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==o.Behavior.NO_NAV){var s=new a.TreeNode;t.addNode(s),this._parseTreeNode(s,r)}}},e}(a.ManifestResource);e.Range=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getFormat=function(){return this.getProperty("format")},e}(n(0).ManifestResource);e.Rendering=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.items=[],i._thumbnails=null,i}return r(e,t),e.prototype.getCanvases=function(){if(this.items.length)return this.items;var t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var e=0;e<t.length;e++){var n=t[e];(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}else if(this.__jsonld)for(e=0;e<this.__jsonld.length;e++){var i;n=this.__jsonld[e],(i=new o.Canvas(n,this.options)).index=e,this.items.push(i)}return this.items},e.prototype.getCanvasById=function(t){for(var e=0;e<this.getTotalCanvases();e++){var n=this.getCanvasByIndex(e),i=o.Utils.normaliseUrl(n.id);if(o.Utils.normaliseUrl(t)===i)return n}return null},e.prototype.getCanvasByIndex=function(t){return this.getCanvases()[t]},e.prototype.getCanvasIndexById=function(t){for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return null},e.prototype.getCanvasIndexByLabel=function(t,e){t=t.trim(),isNaN(t)||(t=parseInt(t,10).toString(),e&&(t+="r"));for(var n,i,r,a=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var l=this.getCanvasByIndex(s);if(o.LanguageMap.getValue(l.getLabel(),this.options.locale)===t)return s;if((n=a.exec(t))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(l.getLabel().toString())))return s}return-1},e.prototype.getLastCanvasLabel=function(t){for(var e=this.getTotalCanvases()-1;e>=0;e--){var n=this.getCanvasByIndex(e),i=o.LanguageMap.getValue(n.getLabel(),this.options.locale);if(t){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getNextPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=t+1;return n>this.getLastPageIndex()?-1:n},e.prototype.getPagedIndices=function(t,e){var n=[];if(e){n=this.isFirstCanvas(t)||this.isLastCanvas(t)?[t]:t%2?[t,t+1]:[t-1,t];var i=this.getViewingDirection();i&&i===a.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(t);return n},e.prototype.getPrevPageIndex=function(t,e){var n;if(e){var i=this.getPagedIndices(t),r=this.getViewingDirection();n=r&&r===a.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=t-1;return n},e.prototype.getStartCanvasIndex=function(){var t=this.getStartCanvas();if(t)for(var e=0;e<this.getTotalCanvases();e++)if(this.getCanvasByIndex(e).id===t)return e;return 0},e.prototype.getThumbs=function(t,e){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var a=this.getCanvasByIndex(r),s=new o.Thumb(t,a);n.push(s)}return n},e.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var t=this.getCanvases(),e=0;e<t.length;e++){var n=t[e].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},e.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},e.prototype.getTotalCanvases=function(){return this.getCanvases().length},e.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},e.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},e.prototype.isCanvasIndexOutOfRange=function(t){return t>this.getTotalCanvases()-1},e.prototype.isFirstCanvas=function(t){return 0===t},e.prototype.isLastCanvas=function(t){return t===this.getTotalCanvases()-1},e.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},e.prototype.isPagingEnabled=function(){var t=this.getViewingHint();return!!t&&t===a.ViewingHint.PAGED},e.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},e}(o.ManifestResource);e.Sequence=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t.parse=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),this.parseJson(t,e)},t.parseJson=function(t,e){var n;if(e&&e.navDate&&!isNaN(e.navDate.getTime())&&(t.navDate=e.navDate.toString()),t["@type"])switch(t["@type"]){case"sc:Collection":n=this.parseCollection(t,e);break;case"sc:Manifest":n=this.parseManifest(t,e);break;default:return null}else switch(t.type){case"Collection":n=this.parseCollection(t,e);break;case"Manifest":n=this.parseManifest(t,e);break;default:return null}return n.isLoaded=!0,n},t.parseCollection=function(t,e){var n=new i.Collection(t,e);return e?(n.index=e.index||0,e.resource&&(n.parentCollection=e.resource.parentCollection)):n.index=0,this.parseCollections(n,e),this.parseManifests(n,e),this.parseItems(n,e),n},t.parseCollections=function(t,e){var n;if(t.__jsonld.collections?n=t.__jsonld.collections:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"collection"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){e&&(e.index=i);var r=this.parseCollection(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseManifest=function(t,e){return new i.Manifest(t,e)},t.parseManifests=function(t,e){var n;if(t.__jsonld.manifests?n=t.__jsonld.manifests:t.__jsonld.items&&(n=t.__jsonld.items.filter((function(t){return"manifest"===t.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],e);r.index=i,r.parentCollection=t,t.items.push(r)}},t.parseItem=function(t,e){if(t["@type"]){if("sc:manifest"===t["@type"].toLowerCase())return this.parseManifest(t,e);if("sc:collection"===t["@type"].toLowerCase())return this.parseCollection(t,e)}else if(t.type){if("manifest"===t.type.toLowerCase())return this.parseManifest(t,e);if("collection"===t.type.toLowerCase())return this.parseCollection(t,e)}return null},t.parseItems=function(t,e){var n=t.__jsonld.members||t.__jsonld.items;if(n)for(var i=function(i){e&&(e.index=i);var a=r.parseItem(n[i],e);return a?t.items.filter((function(t){return t.id===a.id}))[0]?"continue":(a.index=i,a.parentCollection=t,void t.items.push(a)):{value:void 0}},r=this,a=0;a<n.length;a++){var o=i(a);if("object"==typeof o)return o.value}},t}();e.Deserialiser=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getProfile=function(){var t=this.getProperty("profile");return t||(t=this.getProperty("dcterms:conformsTo")),Array.isArray(t)?t[0]:t},e.prototype.getConfirmLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},e.prototype.getDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},e.prototype.getFailureDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},e.prototype.getFailureHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},e.prototype.getHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},e.prototype.getServiceLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},e.prototype.getInfoUri=function(){var t=this.id;return t.endsWith("/")||(t+="/"),t+"info.json"},e}(a.ManifestResource);e.Service=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=function(t,e){this.width=t,this.height=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",t[t.FORBIDDEN=2]="FORBIDDEN",t[t.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",t[t.RESTRICTED=4]="RESTRICTED"}(e.StatusCode||(e.StatusCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.Thumb=function(t,e){this.data=e,this.index=e.index,this.width=t;var n=e.getHeight()/e.getWidth();this.height=n?Math.floor(this.width*n):t,this.uri=e.getCanonicalImageUri(t),this.label=i.LanguageMap.getValue(e.getLabel())}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(n(0).Resource);e.Thumbnail=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.label=t,this.data=e||{},this.nodes=[]}return t.prototype.addNode=function(t){this.nodes.push(t),t.parentNode=this},t.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},t.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},t.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},t}();e.TreeNode=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range"}(e.TreeNodeType||(e.TreeNodeType={}))},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(t,e,n){t.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseComponent",(function(){return i}));var i=function(){function t(t){this.options=t,this.options.data=Object.assign({},this.data(),t.data)}return t.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},t.prototype.data=function(){return{}},t.prototype.on=function(t,e,n){var i=this._e||(this._e={});(i[t]||(i[t]=[])).push({fn:e,ctx:n})},t.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[t]||[]).slice(),a=0,o=r.length;a<o;a++)r[a].fn.apply(r[a].ctx,i)},t.prototype._resize=function(){},t.prototype.set=function(t){},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(){}return t._compare=function(t,e){var n=[];return Object.keys(t).forEach((function(i){Object.is(e[i],t[i])||n.push(i)})),n},t.diff=function(e,n){return Array.from(new Set(t._compare(e,n).concat(t._compare(n,e))))},t.getSpatialComponent=function(t){var e=/xywh=([^&]+)/g.exec(t),n=null;return e&&e[1]&&(n=e[1].split(",")),n},t.getFirstTargetedCanvasId=function(e){var n;if(e.canvases&&e.canvases.length)n=e.canvases[0];else{var r=e.getRanges();if(r.length)return t.getFirstTargetedCanvasId(r[0])}if(void 0!==n)return i.Utils.normaliseUrl(n)},t.getTimestamp=function(){return String((new Date).valueOf())},t.retargetTemporalComponent=function(t,e){var n=i.Utils.getTemporalComponent(e);if(n){for(var r=0,a=e.substr(0,e.indexOf("#")),o=0;o<t.length;o++){var s=t[o];if(s.id.includes(a))break;var l=s.getDuration();l&&(r+=l)}return n[0]=Number(n[0])+r,n[1]=Number(n[1])+r,a+"#t="+n[0]+","+n[1]}},t.formatTime=function(t){var e,n,i;return i=Math.ceil(t),((e=(e=Math.floor(i/3600))>=10?e:"0"+e)>=1?e+":":"")+(n=(n=Math.floor(i%3600/60))>=10?n:"0"+n)+":"+(i=(i=Math.floor(i%3600%60))>=10?i:"0"+i)},t.isIE=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},t.isSafari=function(){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return console.log("isSafari",t),t},t.debounce=function(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){t.debouncing=!1}),e),t.lastReturnVal}},t.normalise=function(t,e,n){return(t-e)/(n-e)},t.isHLSFormat=function(t){return this.hlsMimeTypes.includes(t.toString())},t.isMpegDashFormat=function(t){return"application/dash+xml"===t.toString()},t.canPlayHls=function(){var t="object"==typeof document&&document,e=t&&t.createElement("video");return Boolean(e&&e.canPlayType)&&this.hlsMimeTypes.some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))},t.hlsMimeTypes=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t}();e.AVComponentUtils=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),o=n(0),s=n(1),l=n(8),c=n(2),u=n(5),h=n(6),p=function(t){function e(e){var n=t.call(this,e)||this;return n.canvasInstances=[],n._data=n.data(),n._readyMedia=0,n._readyWaveforms=0,n._posterCanvasWidth=0,n._posterCanvasHeight=0,n._posterImageExpanded=!1,n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){return t.prototype._init.call(this),this._$element=$(this.el),!0},e.prototype.data=function(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute",fullscreen:"Fullscreen"}}},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=c.AVComponentUtils.diff(n,this._data);if(i.includes("helper")&&this._reset(),this._data.helper){if(i.includes("limitToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({limitToRange:e._data.limitToRange})})),i.includes("constrainNavigationToRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({constrainNavigationToRange:e._data.constrainNavigationToRange})})),i.includes("autoSelectRange")&&this._data.canvasId&&this.canvasInstances.forEach((function(t,n){t.set({autoSelectRange:e._data.autoSelectRange})})),i.includes("canvasId")&&this._data.canvasId){var r=this._getCanvasInstanceById(this._data.canvasId);r&&this.canvasInstances.forEach((function(t){t.getCanvasId()!==r.getCanvasId()?t.set({visible:!1}):i.includes("range")?t.set({visible:!0,range:e._data.range?jQuery.extend(!0,{},e._data.range):void 0}):t.set({visible:!0})}))}if(i.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach((function(t){t.isVirtual()&&e.set({canvasId:t.getCanvasId(),range:void 0})}))),i.includes("range")&&this._data.range){var a=this._data.helper.getRangeById(this._data.range.id);if(a){var s=c.AVComponentUtils.getFirstTargetedCanvasId(a);if(s){var l=this._getCanvasInstanceById(s);if(l){if(l.isVirtual()&&this._data.virtualCanvasEnabled&&l.includesVirtualSubCanvas(s)){s=l.getCanvasId();for(var u=0;u<l.ranges.length;u++){var h=l.ranges[u];if(h.id===a.id){a=h;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?o.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==s?this.set({canvasId:s,range:jQuery.extend(!0,{},a)}):l.set({range:jQuery.extend(!0,{},a)})}}}else console.warn("range not found")}this._render(),this._resize()}else console.warn("must pass a helper object")},e.prototype._render=function(){},e.prototype.reset=function(){this._reset()},e.prototype._reset=function(){var t=this;if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach((function(t){t.destroy()})),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){var e=this._data.helper.manifest.getBehavior(),n=this._getCanvases();if(e&&e.toString()===a.Behavior.AUTO_ADVANCE){var i=new u.VirtualCanvas;n.forEach((function(t){i.addCanvas(t)})),this._initCanvas(i)}n.forEach((function(e){t._initCanvas(e)})),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=$('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=$('<div class="poster-image"></div>'),this._$posterExpandButton=$('\n                <button class="btn" title="'+(this._data&&this._data.content?this._data.content.expand:"")+'">\n                    <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span>'+(this._data&&this._data.content?this._data.content.expand:"")+"</span>\n                </button>\n            "),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",(function(e){e.preventDefault();var n=t._getPosterImageCss(!t._posterImageExpanded);if(t._$posterImage.animate(n),t._posterImageExpanded=!t._posterImageExpanded,t._data.content)if(t._posterImageExpanded){var i=t._data.content.collapse;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("expand","collapse")}else{i=t._data.content.expand;t._$posterExpandButton.prop("title",i),t._$posterExpandButton.find("i").switchClass("collapse","expand")}}));var r=this._data.helper.getPosterCanvas();if(r){this._posterCanvasWidth=r.getWidth(),this._posterCanvasHeight=r.getHeight();var o=this._data.helper.getPosterImage();if(o){this._$posterContainer.append(this._$posterImage);var s=this._getPosterImageCss(this._posterImageExpanded);s=Object.assign({},s,{"background-image":"url("+o+")"}),this._$posterImage.css(s)}}}},e.prototype._checkAllMediaReady=function(){console.log("loading media"),this._readyMedia===this.canvasInstances.length&&(console.log("all media ready"),clearInterval(this._checkAllMediaReadyInterval),this.fire(f.MEDIA_READY),this.resize())},e.prototype._checkAllWaveformsReady=function(){console.log("loading waveforms"),this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(console.log("waveforms ready"),clearInterval(this._checkAllWaveformsReadyInterval),this.fire(f.WAVEFORMS_READY),this.resize())},e.prototype._getCanvasInstancesWithWaveforms=function(){return this.canvasInstances.filter((function(t){return t.waveforms.length>0}))},e.prototype._getCanvases=function(){return this._data.helper?this._data.helper.getCanvases():[]},e.prototype._initCanvas=function(t){var e=this,n=new l.CanvasInstance({target:document.createElement("div"),data:Object.assign({},{canvas:t},this._data)});n.logMessage=this._logMessage.bind(this),n.isOnlyCanvasInstance=1===this._getCanvases().length,this._$element.append(n.$playerElement),n.init(),this.canvasInstances.push(n),n.on(f.MEDIA_READY,(function(){e._readyMedia++}),!1),n.on(f.WAVEFORM_READY,(function(){e._readyWaveforms++}),!1),n.on(l.CanvasInstanceEvents.PREVIOUS_RANGE,(function(){e._prevRange()}),!1),n.on(l.CanvasInstanceEvents.NEXT_RANGE,(function(){e._nextRange()}),!1),n.on(f.RANGE_CHANGED,(function(t){e.fire(f.RANGE_CHANGED,t)}),!1),n.on(h.VolumeEvents.VOLUME_CHANGED,(function(t){e._setCanvasInstanceVolumes(t),e.fire(h.VolumeEvents.VOLUME_CHANGED,t)}),!1),n.on(l.CanvasInstanceEvents.PLAYCANVAS,(function(){e.fire(l.CanvasInstanceEvents.PLAYCANVAS)}),!1),n.on(l.CanvasInstanceEvents.PAUSECANVAS,(function(){e.fire(l.CanvasInstanceEvents.PAUSECANVAS)}),!1),n.on(f.MEDIA_ERROR,(function(t){clearInterval(e._checkAllMediaReadyInterval),e.fire(f.MEDIA_ERROR,t)}),!1),n.on(f.FULLSCREEN,(function(t){e.fire(f.FULLSCREEN,t)}),!1)},e.prototype._prevRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getPreviousRange();t?this.playRange(t.id):this._rewind()}},e.prototype._nextRange=function(){if(this._data&&this._data.helper){var t=this._data.helper.getNextRange();t&&this.playRange(t.id)}},e.prototype._setCanvasInstanceVolumes=function(t){this.canvasInstances.forEach((function(e){e.set({volume:t})}))},e.prototype._getNormaliseCanvasId=function(t){return t.includes("://")?o.Utils.normaliseUrl(t):t},e.prototype._getCanvasInstanceById=function(t){if(t=this._getNormaliseCanvasId(t),this._data.virtualCanvasEnabled)for(var e=0;e<this.canvasInstances.length;e++){var n=(i=this.canvasInstances[e]).getCanvasId();if(n&&(n=this._getNormaliseCanvasId(n),(i.isVirtual()||1===this.canvasInstances.length)&&n===t||i.includesVirtualSubCanvas(t)))return i}else for(e=0;e<this.canvasInstances.length;e++){var i,r=(i=this.canvasInstances[e]).getCanvasId();if(r)if(o.Utils.normaliseUrl(r)===t)return i}},e.prototype._getCurrentCanvas=function(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)},e.prototype._rewind=function(){if(!this._data.limitToRange){var t=this._getCurrentCanvas();t&&t.set({range:void 0})}},e.prototype.play=function(){var t=this._getCurrentCanvas();t&&t.play()},e.prototype.pause=function(){var t=this._getCurrentCanvas();t&&t.pause()},e.prototype.playRange=function(t){if(this._data.helper){var e=this._data.helper.getRangeById(t);e&&this.set({range:jQuery.extend(!0,{},e)})}},e.prototype.showCanvas=function(t){var e=this._getCurrentCanvas();e&&e.getCanvasId()===t&&!e.isVisible()?e.set({visible:!0}):this.set({canvasId:t})},e.prototype._logMessage=function(t){this.fire(f.LOG,t)},e.prototype._getPosterImageCss=function(t){var e=this._getCurrentCanvas();if(e){var n=e.$playerElement.find(".options-container"),i=e.$playerElement.parent().width(),r=e.$playerElement.parent().height()-n.height();if(t)return{top:0,left:0,width:i,height:r};var a=void 0,o=void 0,s=void 0;return this._posterCanvasWidth>this._posterCanvasHeight?(a=this._posterCanvasHeight/this._posterCanvasWidth,s=(o=i*this._data.posterImageRatio)*a):(a=this._posterCanvasWidth/this._posterCanvasHeight,o=(s=r*this._data.posterImageRatio)*a),{top:0,left:i-o,width:o,height:s}}return null},e.prototype.resize=function(){this.canvasInstances.forEach((function(t){t.resize()})),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))},e}(s.BaseComponent);e.AVComponent=p;var f=function(){function t(){}return t.MEDIA_READY="mediaready",t.MEDIA_ERROR="mediaerror",t.LOG="log",t.RANGE_CHANGED="rangechanged",t.WAVEFORM_READY="waveformready",t.WAVEFORMS_READY="waveformsready",t.FULLSCREEN="fullscreen",t}();e.Events=f},function(t,e,n){"use strict";var i,r,a,o,s,l,c,u,h;n.r(e),n.d(e,"AnnotationMotivation",(function(){return i})),n.d(e,"Behavior",(function(){return r})),n.d(e,"ExternalResourceType",(function(){return a})),n.d(e,"IIIFResourceType",(function(){return o})),n.d(e,"MediaType",(function(){return s})),n.d(e,"RenderingFormat",(function(){return l})),n.d(e,"ServiceProfile",(function(){return c})),n.d(e,"ViewingDirection",(function(){return u})),n.d(e,"ViewingHint",(function(){return h})),function(t){t.BOOKMARKING="oa:bookmarking",t.CLASSIFYING="oa:classifying",t.COMMENTING="oa:commenting",t.DESCRIBING="oa:describing",t.EDITING="oa:editing",t.HIGHLIGHTING="oa:highlighting",t.IDENTIFYING="oa:identifying",t.LINKING="oa:linking",t.MODERATING="oa:moderating",t.PAINTING="sc:painting",t.QUESTIONING="oa:questioning",t.REPLYING="oa:replying",t.TAGGING="oa:tagging",t.TRANSCRIBING="oad:transcribing"}(i||(i={})),function(t){t.AUTO_ADVANCE="auto-advance",t.CONTINUOUS="continuous",t.FACING_PAGES="facing-pages",t.HIDDEN="hidden",t.INDIVIDUALS="individuals",t.MULTI_PART="multi-part",t.NO_NAV="no-nav",t.NON_PAGED="non-paged",t.PAGED="paged",t.REPEAT="repeat",t.SEQUENCE="sequence",t.THUMBNAIL_NAV="thumbnail-nav",t.TOGETHER="together",t.UNORDERED="unordered"}(r||(r={})),function(t){t.CANVAS="canvas",t.CHOICE="choice",t.CONTENT_AS_TEXT="contentastext",t.DATASET="dataset",t.DOCUMENT="document",t.IMAGE="image",t.MODEL="model",t.MOVING_IMAGE="movingimage",t.PDF="pdf",t.PHYSICAL_OBJECT="physicalobject",t.SOUND="sound",t.TEXT="text",t.TEXTUALBODY="textualbody",t.VIDEO="video"}(a||(a={})),function(t){t.ANNOTATION="annotation",t.CANVAS="canvas",t.COLLECTION="collection",t.MANIFEST="manifest",t.RANGE="range",t.SEQUENCE="sequence"}(o||(o={})),function(t){t.AUDIO_MP4="audio/mp4",t.CORTO="application/corto",t.DRACO="application/draco",t.EPUB="application/epub+zip",t.GLTF="model/gltf+json",t.JPG="image/jpeg",t.M3U8="application/vnd.apple.mpegurl",t.MP3="audio/mp3",t.MPEG_DASH="application/dash+xml",t.OBJ="text/plain",t.OPF="application/oebps-package+xml",t.PDF="application/pdf",t.PLY="application/ply",t.THREEJS="application/vnd.threejs+json",t.VIDEO_MP4="video/mp4",t.WEBM="video/webm"}(s||(s={})),function(t){t.DOC="application/msword",t.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.PDF="application/pdf"}(l||(l={})),function(t){t.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",t.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",t.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",t.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",t.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",t.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",t.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",t.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",t.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",t.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",t.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",t.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",t.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",t.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",t.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",t.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",t.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",t.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",t.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",t.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",t.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",t.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",t.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",t.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",t.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",t.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",t.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",t.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",t.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",t.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",t.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",t.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",t.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",t.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",t.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",t.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",t.SEARCH_0="http://iiif.io/api/search/0/search",t.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",t.SEARCH_1="http://iiif.io/api/search/1/search",t.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",t.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",t.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",t.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",t.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",t.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",t.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(t){t.BOTTOM_TO_TOP="bottom-to-top",t.LEFT_TO_RIGHT="left-to-right",t.RIGHT_TO_LEFT="right-to-left",t.TOP_TO_BOTTOM="top-to-bottom"}(u||(u={})),function(t){t.CONTINUOUS="continuous",t.INDIVIDUALS="individuals",t.NON_PAGED="non-paged",t.PAGED="paged",t.TOP="top"}(h||(h={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(2),a=function(){function t(){this.canvases=[],this.id=r.AVComponentUtils.getTimestamp()}return t.prototype.addCanvas=function(t){this.canvases.push(jQuery.extend(!0,{},t))},t.prototype.getContent=function(){var t=this,e=[];return this.canvases.forEach((function(n){var a=n.getContent();a.forEach((function(t){var e=t.getTarget();e&&(i.Utils.getTemporalComponent(e)||(t.__jsonld.target+="#t=0,"+n.getDuration()))})),a.forEach((function(e){var n=e.getTarget();n&&(e.__jsonld.target=r.AVComponentUtils.retargetTemporalComponent(t.canvases,n))})),e.push.apply(e,a)})),e},t.prototype.getDuration=function(){var t=0;return this.canvases.forEach((function(e){var n=e.getDuration();n&&(t+=n)})),t},t.prototype.getWidth=function(){return this.canvases.length?this.canvases[0].getWidth():0},t.prototype.getHeight=function(){return this.canvases.length?this.canvases[0].getHeight():0},t}();e.VirtualCanvas=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n._lastVolume=1,n._data={volume:1},n._init(),n._resize(),n}return r(e,t),e.prototype._init=function(){var e=this;t.prototype._init.call(this),this._$element=$(this.el),this._$volumeMute=$('\n                            <button class="btn volume-mute" title="'+this.options.data.content.mute+'">\n                                <i class="av-icon av-icon-mute on" aria-hidden="true"></i>'+this.options.data.content.mute+"\n                            </button>"),this._$volumeSlider=$('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);var n=this;return this._$volumeMute.on("touchstart click",(function(t){t.preventDefault(),0!==e._data.volume?(e._lastVolume=e._data.volume,e._data.volume=0):e._data.volume=e._lastVolume,e.fire(o.VOLUME_CHANGED,e._data.volume)})),this._$volumeSlider.slider({value:n._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(t,e){},slide:function(t,e){n._data.volume=e.value,0===n._data.volume&&(n._lastVolume=0),n.fire(o.VOLUME_CHANGED,n._data.volume)},stop:function(t,e){}}),!0},e.prototype.set=function(t){this._data=Object.assign(this._data,t),this._render()},e.prototype._render=function(){if(void 0!==this._data.volume)if(this._$volumeSlider.slider({value:this._data.volume}),0===this._data.volume){var t=this.options.data.content.unmute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("on","off")}else{t=this.options.data.content.mute;this._$volumeMute.prop("title",t),this._$volumeMute.find("i").switchClass("off","on")}},e.prototype._resize=function(){},e}(n(1).BaseComponent);e.AVVolumeControl=a;var o=function(){function t(){}return t.VOLUME_CHANGED="volumechanged",t}();e.VolumeEvents=o},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=n(0),s=n(3),l=n(5),c=n(9),u=n(6),h=n(2),p=n(4),f=function(t){function e(e){var n=t.call(this,e)||this;return n._canvasClockFrequency=25,n._canvasClockStartDate=0,n._canvasClockTime=0,n._canvasHeight=0,n._canvasWidth=0,n._data=n.data(),n._highPriorityFrequency=25,n._isPlaying=!1,n._isStalled=!1,n._lowPriorityFrequency=250,n._mediaSyncMarginSecs=1,n._rangeSpanPadding=.25,n._readyMediaCount=0,n._stallRequestedBy=[],n._wasPlaying=!1,n.ranges=[],n.waveforms=[],n.isOnlyCanvasInstance=!1,n._scaleY=function(t,e){return Math.max(n._data.waveformBarWidth,t*e/256)},n._data=n.options.data,n.$playerElement=$('<div class="player"></div>'),n}return r(e,t),e.prototype.init=function(){var t=this;if(this._data&&this._data.content&&this._data.canvas){this._$hoverPreviewTemplate=$('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=$('<div class="canvas-container"></div>'),this._$optionsContainer=$('<div class="options-container"></div>'),this._$rangeTimelineContainer=$('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=$('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=$('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=$('<div class="hover-highlight"></div>'),this._$durationHighlight=$('<div class="duration-highlight"></div>'),this._$timelineItemContainer=$('<div class="timeline-item-container"></div>'),this._$controlsContainer=$('<div class="controls-container"></div>'),this._$prevButton=$('\n                            <button class="btn" title="'+this._data.content.previous+'">\n                                <i class="av-icon av-icon-previous" aria-hidden="true"></i>'+this._data.content.previous+"\n                            </button>"),this._$playButton=$('\n                            <button class="btn button-play" title="'+this._data.content.play+'">\n                                <i class="av-icon av-icon-play play" aria-hidden="true"></i>'+this._data.content.play+"\n                            </button>"),this._$nextButton=$('\n                            <button class="btn" title="'+this._data.content.next+'">\n                                <i class="av-icon av-icon-next" aria-hidden="true"></i>'+this._data.content.next+"\n                            </button>"),this._$timeDisplay=$('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this._$canvasLoadingProgress=$('<div class="loading-progress"></div>'),this._$fullscreenButton=$('\n                                <button class="btn button-fullscreen" title="'+this._data.content.fullscreen+'">\n                                    <i class="av-icon av-icon-fullscreen" aria-hidden="true"></i>'+this._data.content.fullscreen+"\n                                </button>"),this.isVirtual()&&this.$playerElement.addClass("virtual");var e=$('<div class="volume"></div>');if(this._volume=new u.AVVolumeControl({target:e[0],data:Object.assign({},this._data)}),this._volume.on(u.VolumeEvents.VOLUME_CHANGED,(function(e){t.fire(u.VolumeEvents.VOLUME_CHANGED,e)}),!1),this._$controlsContainer.append(this._$prevButton,this._$playButton,this._$nextButton,this._$timeDisplay,this._$fullscreenButton,e),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight,this._$canvasLoadingProgress),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$timelineItemContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide(),this._data&&this._data.helper&&this._data.canvas){var n=[];this.isVirtual()?this._data.canvas.canvases.forEach((function(e){if(t._data&&t._data.helper){var i=t._data.helper.getCanvasRanges(e),r=[];i.forEach((function(e){var n=jQuery.extend(!0,{},e);if(r.push(n),n.canvases&&n.canvases.length)for(var i=0;i<n.canvases.length;i++)n.canvases[i]=h.AVComponentUtils.retargetTemporalComponent(t._data.canvas.canvases,n.__jsonld.items[i].id)})),n.push.apply(n,r)}})):n=n.concat(this._data.helper.getCanvasRanges(this._data.canvas)),n.forEach((function(e){t.ranges.push(e)}))}var i=this._data.canvas.getWidth(),r=this._data.canvas.getHeight();this._canvasWidth=i||this.$playerElement.parent().width(),this._canvasHeight=r||this._canvasWidth*this._data.defaultAspectRatio;var a=this,l=0,c=0;this._$prevButton.on("touchstart click",(function(e){e.preventDefault(),1===++l?(t._previous(!1),c=setTimeout((function(){l=0,c=0}),t._data.doubleClickMS)):(t._previous(!0),clearTimeout(c),l=0,c=0)})),this._$playButton.on("touchstart click",(function(e){e.preventDefault(),t._isPlaying?t.pause():t.play()})),this._$nextButton.on("touchstart click",(function(e){e.preventDefault(),t._next()})),this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:a._getDuration(),animate:!1,create:function(t,e){},slide:function(t,e){a._setCurrentTime(e.value)},stop:function(t,e){}}),this._$canvasTimelineContainer.mouseout((function(){a._$canvasHoverHighlight.width(0),a._$canvasHoverPreview.hide()})),this._$rangeTimelineContainer.mouseout((function(){a._$rangeHoverHighlight.width(0),a._$rangeHoverPreview.hide()})),this._$canvasTimelineContainer.on("mousemove",(function(e){t._updateHoverPreview(e,t._$canvasTimelineContainer,t._getDuration())})),this._$rangeTimelineContainer.on("mousemove",(function(e){if(t._data.range){var n=t._data.range.getDuration();t._updateHoverPreview(e,t._$rangeTimelineContainer,n?n.getLength():0)}})),this._$fullscreenButton[0].addEventListener("click",(function(e){e.preventDefault();var n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)t.fire(s.Events.FULLSCREEN,"off"),n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen();else{var i=t.$playerElement.get(0);t.fire(s.Events.FULLSCREEN,"on"),i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}}),!1),this._contentAnnotations=[];var p=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(var f=0;f<p.length;f++){var _=p[f],d=void 0,v=_.getBody();if(!v.length)return void console.warn("item has no body");var g=this._getBody(v);if(g){var E=g.getType(),m=g.getFormat();E&&"textualbody"===E.toString()||(d=g.id.split("#")[0]);var y=_.getTarget();if(!y)return void console.warn("item has no target");var I=h.AVComponentUtils.getSpatialComponent(y),C=o.Utils.getTemporalComponent(y);I||(I=[0,0,this._canvasWidth,this._canvasHeight]),C||(C=[0,this._getDuration()]);var T=parseInt(String(I[0])),A=parseInt(String(I[1])),O=parseInt(String(I[2])),M=parseInt(String(I[3])),L=parseInt(String(C[0])),P=parseInt(String(C[1])),R=this._convertToPercentage(A,this._canvasHeight),N=this._convertToPercentage(T,this._canvasWidth),S=this._convertToPercentage(O,this._canvasWidth),b=this._convertToPercentage(M,this._canvasHeight),w=/[\?|&]t=([^&]+)/g.exec(g.id),D=void 0,x=(D=w&&w[1]?w[1].split(","):[null,null])[0]?parseInt(D[0]):D[0],U={active:!1,end:P,endOffset:D[1]?parseInt(D[1]):D[1],format:m,height:b,left:N,source:d,start:L,startOffset:x,top:R,type:E,width:S};this._renderMediaElement(U);var V=_.getProperty("seeAlso");if(V&&V.length){var G=V[0].id;this.waveforms.push(G)}}else console.warn("unable to find suitable format for",_.id)}this._renderWaveform()}else console.warn("unable to initialise, missing canvas or content")},e.prototype._getBody=function(t){for(var e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isHLSFormat(i)&&h.AVComponentUtils.canPlayHls())return n}for(e=0;e<t.length;e++){if((i=(n=t[e]).getFormat())&&h.AVComponentUtils.isMpegDashFormat(i)&&!h.AVComponentUtils.isSafari())return n}for(e=0;e<t.length;e++){var n,i;if((i=(n=t[e]).getFormat())&&!h.AVComponentUtils.isHLSFormat(i)&&!h.AVComponentUtils.isMpegDashFormat(i))return n}return null},e.prototype._getDuration=function(){return this._data&&this._data.canvas?this._data.canvas.getDuration():0},e.prototype.data=function(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}},e.prototype.isVirtual=function(){return this._data.canvas instanceof l.VirtualCanvas},e.prototype.isVisible=function(){return!!this._data.visible},e.prototype.includesVirtualSubCanvas=function(t){if(this.isVirtual()&&this._data.canvas&&this._data.canvas.canvases)for(var e=0;e<this._data.canvas.canvases.length;e++){var n=this._data.canvas.canvases[e];if(o.Utils.normaliseUrl(n.id)===t)return!0}return!1},e.prototype.set=function(t){var e=this,n=Object.assign({},this._data);this._data=Object.assign(this._data,t);var i=h.AVComponentUtils.diff(n,this._data);if(i.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),i.includes("range")&&this._data.helper)if(this._data.range){var r=this._data.range.getDuration();r&&(this._data.range.autoChanged||this._setCurrentTime(r.start),this._data.autoPlay&&this.play(),this.fire(s.Events.RANGE_CHANGED,this._data.range.id))}else this.fire(s.Events.RANGE_CHANGED,null);i.includes("volume")?this._contentAnnotations.forEach((function(t){var n=void 0!==e._data.volume?e._data.volume:1;$(t.element).prop("volume",n),e._volume.set({volume:e._data.volume})})):this._render(),i.includes("limitToRange")&&this._render()},e.prototype._hasRangeChanged=function(){var t=this._getRangeForCurrentTime();t&&!this._data.limitToRange&&(!this._data.range||this._data.range&&t.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},t)})},e.prototype._getRangeForCurrentTime=function(t){var e;e=t?t.getRanges():this.ranges;for(var n=0;n<e.length;n++){var i=e[n];if(this._rangeSpansCurrentTime(i)){if(this._rangeNavigable(i))return i;for(var r=i.getRanges(),a=0;a<r.length;a++){var o=r[a];if(this._rangeSpansCurrentTime(o))return this._getRangeForCurrentTime(o)}return i.parentRange}}},e.prototype._rangeSpansCurrentTime=function(t){return!!t.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)},e.prototype._rangeNavigable=function(t){var e=t.getBehavior();return!e||e.toString()!==p.Behavior.NO_NAV},e.prototype._render=function(){if(this._data.range){var t=this._data.range.getDuration();if(t){var e=this._getDuration(),n=this._$canvasTimelineContainer.width()/e,i=t.start*n,r=t.end*n;(r>e||r<i)&&(r=e);var a=r-i;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:i,width:a})):this._$durationHighlight.hide();var o=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:t.start,step:.01,orientation:"horizontal",range:"min",min:t.start,max:t.end,animate:!1,create:function(t,e){},slide:function(t,e){o._setCurrentTime(e.value)},stop:function(t,e){}})}}else this._$durationHighlight.hide();this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this._drawWaveform()},e.prototype.getCanvasId=function(){if(this._data&&this._data.canvas)return this._data.canvas.id},e.prototype._updateHoverPreview=function(t,e,n){var i=e.offset(),r=t.pageX-i.left,a=e.find(".arrow"),o=e.find(".hover-highlight"),s=e.find(".hover-preview");o.width(r);var l=e.width(),c=r/l,u=Math.min(n*c);s.find(".label").text(h.AVComponentUtils.formatTime(u));var p=s.outerWidth(),f=s.outerHeight(),_=r-.5*p,d=.5*p-6;_<0&&(_=0,d=r-6),_+p>l&&(_=l-p,d=p-(l-r)-6),s.css({left:_,top:-1*f+"px"}).show(),a.css({left:d})},e.prototype._previous=function(t){this._data.limitToRange?t?this._isNavigationConstrainedToRange()?this._rewind():this.fire(_.PREVIOUS_RANGE):this._rewind():this._data.range?t?(this.set({range:void 0}),this._rewind()):this.fire(_.PREVIOUS_RANGE):this._rewind()},e.prototype._next=function(){this._data.limitToRange&&this._isNavigationConstrainedToRange()?this._fastforward():this.fire(_.NEXT_RANGE)},e.prototype.destroy=function(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)},e.prototype._convertToPercentage=function(t,e){return t/e*100},e.prototype._renderMediaElement=function(t){var e,n=this;switch(t.type.toString().toLowerCase()){case"video":e=$('<video class="anno" />');break;case"sound":case"audio":e=$('<audio class="anno" />');break;default:return}var i=e[0];if(t.format&&"application/dash+xml"===t.format.toString()){e.attr("data-dashjs-player","");var r=dashjs.MediaPlayer().create();r.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&r.setXHRWithCredentialsForType("MPD",!0),r.initialize(i,t.source)}else if(t.format&&"application/vnd.apple.mpegurl"===t.format.toString())if(Hls.isSupported()){var a=new Hls;a=this._data.adaptiveAuthEnabled?new Hls({xhrSetup:function(t){t.withCredentials=!0}}):new Hls,this._data.adaptiveAuthEnabled,a.loadSource(t.source),a.attachMedia(i)}else i.canPlayType("application/vnd.apple.mpegurl")&&(i.src=t.source);else e.attr("src",t.source);e.css({top:t.top+"%",left:t.left+"%",width:t.width+"%",height:t.height+"%"}).hide(),t.element=e,t.timeout=null;var o=this;t.checkForStall=function(){var t=this;this.active?(o._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?o._playbackStalled(!1,t):(o._playbackStalled(!0,t),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.checkForStall()}),1e3))):o._playbackStalled(!1,t)},this._contentAnnotations.push(t),this.$playerElement&&this._$canvasContainer.append(e),e.on("loadstart",(function(){})),e.on("waiting",(function(){})),e.on("seeking",(function(){})),e.on("loadedmetadata",(function(){n._readyMediaCount++,n._readyMediaCount===n._contentAnnotations.length&&(n._setCurrentTime(0),n._data.autoPlay&&n.play(),n._updateDurationDisplay(),n.fire(s.Events.MEDIA_READY))})),e.on("progress",(function(){if(i.buffered.length>0){var t=i.duration,e=i.buffered.end(i.buffered.length-1);t>0&&n._$optionsContainer.find(".loading-progress").width(e/t*100+"%")}})),e.attr("preload","auto"),e.get(0).load(),this._renderSyncIndicator(t)},e.prototype._getWaveformData=function(t){return new Promise((function(e,n){$.ajax({url:t,type:"GET",dataType:"binary",responseType:"arraybuffer",processData:!1}).done((function(t){e(WaveformData.create(t))})).fail((function(t){n(new Error("Network Error"))}))}))},e.prototype._renderWaveform=function(){var t=this;if(this.waveforms.length){var e=this.waveforms.map((function(e){return t._getWaveformData(e)}));Promise.all(e).then((function(e){t._waveformCanvas=document.createElement("canvas"),t._waveformCanvas.classList.add("waveform"),t._$canvasContainer.append(t._waveformCanvas),t._waveformCtx=t._waveformCanvas.getContext("2d"),t._waveformCtx&&(t._waveformCtx.fillStyle=t._data.waveformColor,t._compositeWaveform=new c.CompositeWaveform(e),t.fire(s.Events.WAVEFORM_READY))}))}},e.prototype._drawWaveform=function(){if(this._waveformCtx){var t,e=0,n=this._compositeWaveform.duration;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&(e=t.start,n=t.end);var i=e*this._compositeWaveform.pixelsPerSecond,r=n*this._compositeWaveform.pixelsPerSecond,a=this._waveformCtx.canvas.width,o=this._waveformCtx.canvas.height,s=this._data.waveformBarSpacing,l=this._data.waveformBarWidth,c=Math.floor((r-i)/a*s),u=a/s;this._waveformCtx.clearRect(0,0,a,o),this._waveformCtx.fillStyle=this._data.waveformColor;for(var p=i;p<r;p+=c){var f=this._getWaveformMaxAndMin(this._compositeWaveform,p,u),_=this._scaleY(f.max-f.min,o),d=(o-_)/2,v=a*h.AVComponentUtils.normalise(p,i,r);this._waveformCtx.fillRect(v,d,l,_)}}},e.prototype._getWaveformMaxAndMin=function(t,e,n){for(var i=-127,r=128,a=e;a<e+n;a++)t.max(a)>i&&(i=t.max(a)),t.min(a)<r&&(r=t.min(a));return{max:i,min:r}},e.prototype._updateCurrentTimeDisplay=function(){var t;if(this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t){var e=this._canvasClockTime-t.start;this._$canvasTime.text(h.AVComponentUtils.formatTime(e))}else this._$canvasTime.text(h.AVComponentUtils.formatTime(this._canvasClockTime))},e.prototype._updateDurationDisplay=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._$canvasDuration.text(h.AVComponentUtils.formatTime(t.getLength())):this._$canvasDuration.text(h.AVComponentUtils.formatTime(this._getDuration()))},e.prototype._renderSyncIndicator=function(t){var e=this._convertToPercentage(t.start,this._getDuration()),n=this._convertToPercentage(t.end-t.start,this._getDuration()),i=$('<div class="timeline-item" title="'+t.source+'" data-start="'+t.start+'" data-end="'+t.end+'"></div>');i.css({left:e+"%",width:n+"%"});var r=$('<div class="line-wrapper"></div>');i.appendTo(r),t.timelineElement=i,this.$playerElement&&this._$timelineItemContainer.append(r)},e.prototype._setCurrentTime=function(t){this._canvasClockTime=t,this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()},e.prototype._rewind=function(t){var e;this.pause(),this._data.range&&(e=this._data.range.getDuration()),this._data.limitToRange&&e?this._canvasClockTime=e.start:this._canvasClockTime=0,this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})},e.prototype._fastforward=function(){var t;this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t?this._canvasClockTime=t.end:this._canvasClockTime=this._getDuration(),this.pause()},e.prototype.play=function(t){var e=this;if(!this._isPlaying){var n;this._data.range&&(n=this._data.range.getDuration()),this._data.limitToRange&&n&&this._canvasClockTime>=n.end&&(this._canvasClockTime=n.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0),this._canvasClockStartDate=Date.now()-1e3*this._canvasClockTime,this._highPriorityInterval=window.setInterval((function(){e._highPriorityUpdater()}),this._highPriorityFrequency),this._lowPriorityInterval=window.setInterval((function(){e._lowPriorityUpdater()}),this._lowPriorityFrequency),this._canvasClockInterval=window.setInterval((function(){e._canvasClockUpdater()}),this._canvasClockFrequency),this._isPlaying=!0,t||this._synchronizeMedia();var i=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",i),this._$playButton.find("i").switchClass("play","pause"),this.fire(_.PLAYCANVAS),this.logMessage("PLAY canvas")}},e.prototype.pause=function(t){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,t||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia());var e=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",e),this._$playButton.find("i").switchClass("pause","play"),this.fire(_.PAUSECANVAS),this.logMessage("PAUSE canvas")},e.prototype._isNavigationConstrainedToRange=function(){return this._data.constrainNavigationToRange},e.prototype._canvasClockUpdater=function(){var t;this._canvasClockTime=(Date.now()-this._canvasClockStartDate)/1e3,this._data.range&&(t=this._data.range.getDuration()),this._data.limitToRange&&t&&this._canvasClockTime>=t.end&&this.pause(),this._canvasClockTime>=this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())},e.prototype._highPriorityUpdater=function(){this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime}),this._updateCurrentTimeDisplay(),this._updateDurationDisplay()},e.prototype._lowPriorityUpdater=function(){this._updateMediaActiveStates(),this._isPlaying&&this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()},e.prototype._updateMediaActiveStates=function(){for(var t,e=0;e<this._contentAnnotations.length;e++)(t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime?(this._checkMediaSynchronization(),t.active||(this._synchronizeMedia(),t.active=!0,t.element.show(),t.timelineElement.addClass("active")),t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])):t.active&&(t.active=!1,t.element.hide(),t.timelineElement.removeClass("active"),this._pauseMedia(t.element[0]))},e.prototype._pauseMedia=function(t){t.pause()},e.prototype._setMediaCurrentTime=function(t,e){isNaN(t.duration)||(t.currentTime=e)},e.prototype._synchronizeMedia=function(){for(var t,e=0;e<this._contentAnnotations.length;e++){if(t=this._contentAnnotations[e],this._setMediaCurrentTime(t.element[0],this._canvasClockTime-t.start+t.startOffset),t.start<=this._canvasClockTime&&t.end>=this._canvasClockTime)if(this._isPlaying){if(t.element[0].paused){var n=t.element[0].play();n&&n.catch((function(){}))}}else this._pauseMedia(t.element[0]);else this._pauseMedia(t.element[0]);t.element[0].currentTime>t.element[0].duration-t.endOffset&&this._pauseMedia(t.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")},e.prototype._checkMediaSynchronization=function(){for(var t,e=0,n=this._contentAnnotations.length;e<n;e++)if((t=this._contentAnnotations[e]).start<=this._canvasClockTime&&t.end>=this._canvasClockTime){var i=this._canvasClockTime-t.start+t.startOffset,r=t.element[0].currentTime;if(Math.abs(r-i)>this._mediaSyncMarginSecs){t.outOfSync=!0;var a=Math.abs(r-i);this.logMessage("DETECTED synchronization lag: "+Math.abs(a)),this._setMediaCurrentTime(t.element[0],i)}else t.outOfSync=!1}},e.prototype._playbackStalled=function(t,e){if(t)this._stallRequestedBy.indexOf(e)<0&&this._stallRequestedBy.push(e),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=t);else{var n=this._stallRequestedBy.indexOf(e);n>=0&&this._stallRequestedBy.splice(n,1),0===this._stallRequestedBy.length&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=t)}},e.prototype.resize=function(){if(this.$playerElement){var t=this._$canvasContainer.width();if(t){this._$canvasTimelineContainer.width(t);var e=this.$playerElement.find(".options-container");void 0!==this._data.halveAtWidth&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-e.height())}if(this._waveformCanvas){var n=this._$canvasContainer.width(),i=this._$canvasContainer.height();this._waveformCanvas.width=n,this._waveformCanvas.height=i}this._render()}},e}(a.BaseComponent);e.CanvasInstance=f;var _=function(){function t(){}return t.NEXT_RANGE="nextrange",t.PAUSECANVAS="pause",t.PLAYCANVAS="play",t.PREVIOUS_RANGE="previousrange",t}();e.CanvasInstanceEvents=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.length=0,this.duration=0,this.pixelsPerSecond=Number.MAX_VALUE,this.secondsPerPixel=Number.MAX_VALUE,this._waveforms=[],t.forEach((function(t){e._waveforms.push({start:e.length,end:e.length+t.adapter.length,waveform:t}),e.length+=t.adapter.length,e.duration+=t.duration,e.pixelsPerSecond=Math.min(e.pixelsPerSecond,t.pixels_per_second),e.secondsPerPixel=Math.min(e.secondsPerPixel,t.seconds_per_pixel)}))}return t.prototype.min=function(t){var e=this._find(t);return e?e.waveform.min_sample(t-e.start):0},t.prototype.max=function(t){var e=this._find(t);return e?e.waveform.max_sample(t-e.start):0},t.prototype._find=function(t){var e=this._waveforms.filter((function(e){return t>=e.start&&t<e.end}));return e.length>0?e[0]:null},t}();e.CompositeWaveform=i}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_LEVEL_1||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_LEVEL_2||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var i=e[n];if(t===i["@language"])return i["@value"]}var r=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===r)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var i;void 0===n&&(n=0),i=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=i;for(var r=0;r<t.nodes.length;r++){var o=t.nodes[r];e.generateTreeNodeIds(o,r)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,i,r,o,a,s,u){return new Promise((function(l,c){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,i,r,o,a,s,u)}));Promise.all(p).then((function(){l(t)})).catch((function(e){c(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,a,u,l,c,p){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:return(i=r.sent())?[4,t.getData(i)]:[3,6];case 2:return r.sent(),t.status!==s.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,l,c,p)];case 4:r.sent(),r.label=5;case 5:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return r.sent(),t.status!==s.MOVED_TEMPORARILY&&t.status!==s.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,l,c,p)];case 8:r.sent(),r.label=9;case 9:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,a,u,l,c){return i(this,void 0,void 0,(function(){var i,p,f,h,d,g,_,v;return r(this,(function(r){switch(r.label){case 0:return t.isAccessControlled()?((i=t.externalService)&&(i.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==s.MOVED_TEMPORARILY?[3,2]:[4,l(t)]):[2,t];case 1:return r.sent(),[2,t];case 2:return d=null,g=null,(d=i)?(g=d,[4,e.attemptResourceWithToken(t,o,d)]):[3,4];case 3:return r.sent(),[2,t];case 4:return(d=p)?(g=d,(_=n(d))?[4,a(_)]:[3,7]):[3,7];case 5:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 6:return r.sent(),[2,t];case 7:return(d=f)?(g=d,[4,u(t,d)]):[3,11];case 8:return(v=r.sent())?[4,a(v)]:[3,11];case 9:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 10:return r.sent(),[2,t];case 11:return(d=h)?(g=d,[4,u(t,d)]):[3,15];case 12:return(v=r.sent())?[4,a(v)]:[3,15];case 13:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 14:return r.sent(),[2,t];case 15:return g&&c(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,i)]:[3,3];case 1:return(o=r.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return r.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,i,r,o,a,s,u,l,c){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,i,r,o,a,s,u,l,c)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,i,r,o,a,u,l,c,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(i(t)),f(r(t))):o(t).then((function(){a(t,!0).then((function(n){t.getData(n).then((function(){f(c(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):l(t,n).then((function(p){p?t.getData(p).then((function(){t.status===s.OK?f(c(t)):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,i,r,o,a,u,l){return new Promise((function(c,p){t.getData().then((function(){t.isAccessControlled()?l(t,n).then((function(l){l?t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))})):a(t,!1).then((function(l){l?u(t,l,n).then((function(){t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):c(t)}))}))},e.showAuthInteraction=function(t,n,i,r,o,a,u,l,c){t.status!==s.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):o(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):l(t)},e.getService=function(e,t){for(var n=this.getServices(e),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===t)return r}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var r=0;r<Object.keys(t).length;r++)if("object"==typeof t[Object.keys(t)[r]]){var o=e.traverseAndFind(t[Object.keys(t)[r]],n,i);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if("string"==typeof r){var a=this.getResourceById(e.options.resource,r);a&&n.push(new o.Service(a.__jsonld||a,e.options))}else n.push(new o.Service(r,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var i=n(2);t.loadManifest=function(e){return i.Utils.loadManifest(e)},t.parseManifest=function(e,t){return i.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.options=n,i}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n],r=new o.LabelValuePair(this.options.locale);r.parse(i),t.push(r)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var i=t[n];if(i.getFormat()===e)return i}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];t.push(new o.Rendering(i,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(i){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var r=o.Deserialiser.parse(i,n);(e=Object.assign(e,r)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)if((a=t[n]).items)for(var i=0;i<a.items.length;i++){var r=a.items[i];e.push(new o.AnnotationBody(r,this.options))}else e.push(new o.AnnotationBody(a,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var a=t.items[n];e.push(new o.AnnotationBody(a,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.label=t,r.options=i,r}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),o.Utils.loadManifest(i).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,i="default",r=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],r||(r=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),u=s.getServices();if(r||(r=s.getWidth()),u.length){var l=u[0];n=l.id,i=o.Utils.getImageQuality(l.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var c=this.getProperty("thumbnail");if(c){if("string"==typeof c)return c;if(c["@id"])return c["@id"];if(c.length)return c[0].id}}}return t=r+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,i+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var i=n.getItems(),r=0;r<i.length;r++){var a=i[r],s=new o.Annotation(a,this.options);e.push(s)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter((function(e){return e&&"string"==typeof(t=e["@type"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,n){return new o.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.Resource);t.Canvas=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return r(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),e.defaultTree.addNode(i)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),e.defaultTree.addNode(i)}},t}(a.IIIFResource);t.Collection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),i.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Language=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.parse=function(e,t){var n,i=[];if(!e)return i;if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];n="string"==typeof a?new o.Language(a,t):new o.Language(a["@value"],a["@language"]||t),i.push(n)}else{if("string"==typeof e)return n=new o.Language(e,t),i.push(n),i;e["@value"]?(n=new o.Language(e["@value"],e["@language"]||t),i.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");n=new o.Language(e[t],t),i.push(n)}))}return i},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),o=0;o<r.length;o++){var a=r[o];i._parseRanges(a,String(o))}return i}return r(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var i={};i.ranges=this.__jsonld.structures,e.push(i)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var i,r=null;if("string"==typeof e&&(r=e,e=this._getRangeById(r)),e){(i=new a.Range(e,this.options)).parentRange=n,i.path=t,n?n.items.push(i):this._topRanges.push(i);var o=e.items||e.members;if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+s,i);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){i.canvases||(i.canvases=[]);var l=u.id||u["@id"];i.canvases.push(l)}}else if(e.ranges)for(s=0;s<e.ranges.length;s++)this._parseRanges(e.ranges[s],t+"/"+s,i)}else console.warn("Range:",r,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var i=e[t];i.id&&n._allRanges.push(i);var r=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(r,e):e},o=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(o)},n=this,i=0;i<e.length;i++)t(i);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.path===e)return i}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],i=new a.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new a.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):a.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(a.IIIFResource);t.Manifest=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=o.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(e=Number(r[0])),n===this.canvases.length-1&&(t=Number(r[1])))}else{var a=this.getRanges();for(n=0;n<a.length;n++){var s=a[n].getDuration();s&&(0===n&&(e=s.start),n===a.length-1&&(t=s.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],r=new o.TreeNode;e.addNode(r),this._parseTreeNode(r,i)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==a.Behavior.NO_NAV){var s=new o.TreeNode;e.addNode(s),this._parseTreeNode(s,r)}}},t}(o.ManifestResource);t.Range=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return r(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var i;n=this.__jsonld[t],(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),i=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(e)===i)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,i,r,o=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var u=this.getCanvasByIndex(s);if(a.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return s;if((n=o.exec(e))&&(i=n[1],(r=n[2])&&new RegExp("^"+i+"\\D+"+r+"$").test(u.getLabel().toString())))return s}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),i=a.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var i=this.getViewingDirection();i&&i===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var o=this.getCanvasByIndex(r),s=new a.Thumb(e,o);n.push(s)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(a.ManifestResource);t.Sequence=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new i.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){t&&(t.index=i);var r=this.parseCollection(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseManifest=function(e,t){return new i.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var i=function(i){t&&(t.index=i);var o=r.parseItem(n[i],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=i,o.parentCollection=e,void e.items.push(o)):{value:void 0}},r=this,o=0;o<n.length;o++){var a=i(o);if("object"==typeof a)return a.value}},e}();t.Deserialiser=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+"info.json"},t}(o.ManifestResource);t.Service=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=i.LanguageMap.getValue(t.getLabel())}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},e}();t.TreeNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(5),s=function(e){function t(t){var n=e.call(this,t)||this;return n._data=n.data(),n._data=n.options.data,n._init(),n._resize(),n}return r(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._$element=$(this.el);var t=this;return this._$tree=$('<ul class="tree"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:"{^{for nodes}}\t\t\t\t\t{^{tree/}}\t\t\t\t{{/for}}",treeTemplate:'<li>\t\t\t\t\t\t{^{if nodes && nodes.length}}\t\t\t\t\t\t\t<div class="toggle" data-link="class{merge:expanded toggle=\'expanded\'}"></div>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t<div class="spacer"></div>\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if multiSelectEnabled}}\t\t\t\t\t\t\t<input id="tree-checkbox-{{>id}}" type="checkbox" data-link="checked{:multiSelected ? \'checked\' : \'\'}" class="multiSelect" />\t\t\t\t\t\t{{/if}}\t\t\t\t\t\t{^{if selected}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}" class="selected">{{>label}}</a>\t\t\t\t\t\t{{else}}\t\t\t\t\t\t\t<a id="tree-link-{{>id}}" href="#" title="{{>label}}">{{>label}}</a>\t\t\t\t\t\t{{/if}}\t\t\t\t</li>\t\t\t\t{^{if expanded}}\t\t\t\t\t<li>\t\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t\t\t{^{for nodes}}\t\t\t\t\t\t\t\t\t\t{^{tree/}}\t\t\t\t\t\t\t\t\t{{/for}}\t\t\t\t\t\t\t</ul>\t\t\t\t\t</li>\t\t\t\t{{/if}}'}),$.views.tags({tree:{toggleExpanded:function(){var e=this.data;t._setNodeExpanded(e,!e.expanded)},toggleMultiSelect:function(){var e=this.data;if(t._setNodeMultiSelected(e,!e.multiSelected),e.isRange()){var n=t._getMultiSelectState();n&&n.selectRange(e.data,e.multiSelected)}t.fire(u.TREE_NODE_MULTISELECTED,e)},init:function(e,t,n){this.data=e.view.data},onAfterLink:function(){var e=this;e.contents("li").first().on("click",".toggle",(function(){e.toggleExpanded()})).on("click","a",(function(n){n.preventDefault();var i=e.data;i.nodes.length&&t._data.branchNodesExpandOnClick&&e.toggleExpanded(),i.multiSelectEnabled?e.toggleMultiSelect():i.nodes.length?t._data.branchNodesSelectable&&(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i)):(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i))})).on("click","input.multiSelect",(function(t){e.toggleMultiSelect()}))},template:$.templates.treeTemplate}}),!0},t.prototype.set=function(e){var t=this;if(this._data=Object.assign(this._data,e),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var n=this._getMultiSelectState();if(n)for(var i=function(e){var t=n.ranges[e],i=r._getMultiSelectableNodes().filter((function(e){return e.data.id===t.id}))[0];i&&(r._setNodeMultiSelectEnabled(i,t.multiSelectEnabled),r._setNodeMultiSelected(i,t.multiSelected))},r=this,o=0;o<n.ranges.length;o++)i(o);if(this._data.autoExpand)this.getAllNodes().forEach((function(e,n){t._setNodeExpanded(e,!0)}))}},t.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},t.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:a.TreeSortType.NONE}},t.prototype.allNodesSelected=function(){var e=this._getMultiSelectableNodes(),t=this.getMultiSelectedNodes();return e.length===t.length},t.prototype._getMultiSelectableNodes=function(){var e=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var t=this.getAllNodes();return t?this._multiSelectableNodes=t.filter((function(t){return e._nodeIsMultiSelectable(t)})):[]},t.prototype._nodeIsMultiSelectable=function(e){return!!(e.data.type===o.TreeNodeType.MANIFEST&&e.nodes&&e.nodes.length>0||e.data.type===o.TreeNodeType.RANGE)},t.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},t.prototype.getMultiSelectedNodes=function(){var e=this;return this.getAllNodes().filter((function(t){return e._nodeIsMultiSelectable(t)&&t.multiSelected}))},t.prototype.getNodeById=function(e){return this.getAllNodes().filter((function(t){return t.id===e}))[0]},t.prototype.expandParents=function(e,t){e&&e.parentNode&&(this._setNodeExpanded(e.parentNode,t),this.expandParents(e.parentNode,t))},t.prototype._setNodeSelected=function(e,t){$.observable(e).setProperty("selected",t)},t.prototype._setNodeExpanded=function(e,t){$.observable(e).setProperty("expanded",t)},t.prototype._setNodeMultiSelected=function(e,t){$.observable(e).setProperty("multiSelected",t)},t.prototype._setNodeMultiSelectEnabled=function(e,t){$.observable(e).setProperty("multiSelectEnabled",t)},t.prototype.selectPath=function(e){if(this._rootNode){var t=e.split("/");t.length>=1&&t.shift();var n=this.getNodeByPath(this._rootNode,t);this.selectNode(n)}},t.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},t.prototype.selectNode=function(e){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=e,this._setNodeSelected(this.selectedNode,!0))},t.prototype.expandNode=function(e,t){this._rootNode&&this._setNodeExpanded(e,t)},t.prototype.getNodeByPath=function(e,t){if(0===t.length)return e;var n=Number(t.shift()),i=e.nodes[n];return this.getNodeByPath(i,t)},t.prototype.show=function(){this._$element.show()},t.prototype.hide=function(){this._$element.hide()},t.prototype._resize=function(){},t}(n(4).BaseComponent);t.TreeComponent=s;var u=function(){function e(){}return e.TREE_NODE_MULTISELECTED="treeNodeMultiSelected",e.TREE_NODE_SELECTED="treeNodeSelected",e}();t.Events=u},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",(function(){return i}));var i=function(){function e(e){this.options=e,this.options.data=Object.assign({},this.data(),e.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML="",!0):(console.warn("element not found"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(e,t,n){var i=this._e||(this._e={});(i[e]||(i[e]=[])).push({fn:t,ctx:n})},e.prototype.fire=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[e]||[]).slice(),o=0,a=r.length;o<a;o++)r[o].fn.apply(r[o].ctx,i)},e.prototype._resize=function(){},e.prototype.set=function(e){},e}()},function(e,t,n){"use strict";n.r(t);var i,r,o,a,s,u,l,c,p,f,h=function(e){this.isVisible=!0;var t=e.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);this.x=Number(t[1]),this.y=Number(t[2]),this.width=Number(t[3]),this.height=Number(t[4]),this.chars=e.resource.chars},d=function(){function e(e,t){this.rects=[],this.canvasIndex=t,this.addRect(e)}return e.prototype.addRect=function(e){var t=new h(e);t.canvasIndex=this.canvasIndex,t.index=this.rects.length,this.rects.push(t),this.rects.sort((function(e,t){return e.index-t.index}))},e}(),g=n(0),_=function(){function e(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return e.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},e.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},e.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},e.prototype.getAll=function(){return this.canvases.concat(this.ranges)},e.prototype.getAllSelectedCanvases=function(){return this.canvases.filter((function(e){return e.multiSelected}))},e.prototype.getAllSelectedRanges=function(){return this.ranges.filter((function(e){return e.multiSelected}))},e.prototype.getCanvasById=function(e){return this.canvases.filter((function(t){return g.Utils.normaliseUrl(t.id)===g.Utils.normaliseUrl(e)}))[0]},e.prototype.getCanvasesByIds=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(this.getCanvasById(i))}return t},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesByIds(t)},e.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},e.prototype.selectCanvas=function(e,t){this.canvases.filter((function(t){return t.id===e.id}))[0].multiSelected=t},e.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},e.prototype.selectCanvases=function(e,t){for(var n=0;n<e.length;n++){e[n].multiSelected=t}},e.prototype.selectRange=function(e,t){var n=this.ranges.filter((function(t){return t.id===e.id}))[0];n.multiSelected=t;var i=this.getRangeCanvases(n);this.selectCanvases(i,t)},e.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},e.prototype.selectRanges=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.multiSelected=t;var r=this.getCanvasesByIds(i.getCanvasIds());this.selectCanvases(r,t)}},e.prototype.setEnabled=function(e){this.isEnabled=e;for(var t=this.getAll(),n=0;n<t.length;n++){var i=t[n];i.multiSelectEnabled=this.isEnabled,e||(i.multiSelected=!1)}},e}(),v=function(){function e(e,t){this.items=[],this.resource=e,this.label=t}return e.prototype.addItem=function(e){this.items.push(e)},e.prototype.addMetadata=function(e,t){void 0===t&&(t=!1);for(var n=0;n<e.length;n++){var i=e[n];i.isRootLevel=t,this.addItem(i)}},e}();!function(e){e.DATE="date",e.NONE="none"}(i||(i={})),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(r||(r={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(o||(o={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DATASET="dataset",e.DOCUMENT="document",e.IMAGE="image",e.MODEL="model",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXT="text",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(a||(a={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(s||(s={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.EPUB="application/epub+zip",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.OPF="application/oebps-package+xml",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(u||(u={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(l||(l={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(c||(c={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(p||(p={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(f||(f={}));var E=function(){function e(){}return e.manifestNotLoaded="Manifest has not loaded yet",e}(),y=function(){function e(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return e.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),t=null;return e&&((t=e.getService(c.SEARCH_0_AUTO_COMPLETE))||(t=e.getService(c.SEARCH_1_AUTO_COMPLETE))),t},e.prototype.getAttribution=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getAttribution();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},e.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},e.prototype.getCanvasesById=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getCanvasById(i);r&&t.push(r)}return t},e.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},e.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},e.prototype.getCanvasIndexByLabel=function(e){var t=this.getManifestType()===g.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,t)},e.prototype.getCanvasRange=function(e,t){var n=this.getCanvasRanges(e);if(t){for(var i=0;i<n.length;i++){var r=n[i];if(r.path===t)return r}return null}return n[0]},e.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return e.ranges?e.ranges:(e.ranges=this.manifest.getAllRanges().filter((function(t){return t.getCanvasIds().some((function(t){return g.Utils.normaliseUrl(t)===g.Utils.normaliseUrl(e.id)}))})),e.ranges)},e.prototype.getCollectionIndex=function(e){if(!e.parentCollection||e.parentCollection.parentCollection)return e.parentCollection?e.parentCollection.index:void 0},e.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},e.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},e.prototype.getDescription=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getDescription();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getLabel();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},e.prototype.getFirstPageIndex=function(){return 0},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getLicense=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLicense()},e.prototype.getLogo=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLogo()},e.prototype.getManifestType=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getManifestType();return e===g.ManifestType.EMPTY&&(e=g.ManifestType.MONOGRAPH),e},e.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=[],n=this.manifest.getMetadata(),i=new v(this.manifest),r=this.options.locale;(n&&n.length&&i.addMetadata(n,!0),this.manifest.getDescription().length)&&((s=new g.LabelValuePair(r)).label=[new g.Language("description",r)],s.value=this.manifest.getDescription(),s.isRootLevel=!0,i.addItem(s));this.manifest.getAttribution().length&&((s=new g.LabelValuePair(r)).label=[new g.Language("attribution",r)],s.value=this.manifest.getAttribution(),s.isRootLevel=!0,i.addItem(s));var o=this.manifest.getLicense();if(o){var a={label:"license",value:e&&e.licenseFormatter?e.licenseFormatter.format(o):o};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}if(this.manifest.getLogo()){var s;a={label:"logo",value:'<img src="'+this.manifest.getLogo()+'"/>'};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}return t.push(i),e?this._parseMetadataOptions(e,t):t},e.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.getLabel(),value:e.getValue()}:null},e.prototype._parseMetadataOptions=function(e,t){var n=this.getCurrentSequence(),i=n.getMetadata();if(i&&i.length){var r=new v(n);r.addMetadata(i),t.push(r)}if(e.range){var o=this._getRangeMetadata([],e.range);o=o.reverse(),t=t.concat(o)}if(e.canvases&&e.canvases.length)for(var a=0;a<e.canvases.length;a++){var s=e.canvases[a],u=s.getMetadata();if(u&&u.length){var l=new v(s);l.addMetadata(s.getMetadata()),t.push(l)}for(var c=s.getImages(),p=0;p<c.length;p++){var f=c[p],h=f.getMetadata();if(h&&h.length){var d=new v(f);d.addMetadata(h),t.push(d)}}}return t},e.prototype._getRangeMetadata=function(e,t){var n=t.getMetadata();if(n&&n.length){var i=new v(t);i.addMetadata(n),e.push(i)}else if(t.parentRange)return this._getRangeMetadata(e,t.parentRange);return e},e.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new _,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},e.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},e.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getPosterCanvas()},e.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var t=e.getContent();if(t&&t.length)return t[0].getBody()[0].id}return null},e.prototype.getPreviousRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i>0;){return n[--i].data}break}}}return null},e.prototype.getNextRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i<n.length-1;){var o=n[++i];if(o.data.canvases&&o.data.canvases.length)return o.data}break}}}return null},e.prototype.getFlattenedTree=function(e){var t=null;return(t=e||this.getTree())?this._flattenTree(t,"nodes"):null},e.prototype._flattenTree=function(e,t){var n=this,i=[e];return e[t]&&e[t].length>0?i.concat(e[t].map((function(e){return n._flattenTree(e,t)})).reduce((function(e,t){return e.concat(t)}),[])):i},e.prototype.getRanges=function(){return this.manifest.getAllRanges()},e.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeByPath(e)},e.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeById(e)},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesById(t)},e.prototype.getRelated=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRelated()},e.prototype.getSearchService=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getService(c.SEARCH_0);return e||(e=this.manifest.getService(c.SEARCH_1)),e},e.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSeeAlso()},e.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},e.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=null,t=this.manifest.getService(c.SHARE_EXTENSIONS);return t&&(t.length&&(t=t[0]),e=t.__jsonld.shareUrl),e},e.prototype._getSortedTreeNodesByDate=function(e,t){var n=this.getFlattenedTree(t);if(n){var i=n.filter((function(e){return e.data.type===g.TreeNodeType.MANIFEST}));this.createDecadeNodes(e,n),this.sortDecadeNodes(e),this.createYearNodes(e,n),this.sortYearNodes(e),this.createMonthNodes(e,i),this.sortMonthNodes(e),this.createDateNodes(e,i),this.pruneDecadeNodes(e)}},e.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},e.prototype.getThumbs=function(e,t){return this.getCurrentSequence().getThumbs(e,t)},e.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTopRanges()},e.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},e.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTrackingLabel()},e.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},e.prototype.getTree=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=i.NONE),!this.iiifResource)return null;var n;if(this.iiifResource.isCollection())n=this.iiifResource.getDefaultTree();else{var r=this._getTopRanges(),o=new g.TreeNode;if(o.label="root",o.data=this.iiifResource,!r.length)return o;n=r[e].getTree(o)}var a=new g.TreeNode;switch(t.toString()){case i.DATE.toString():if(this.treeHasNavDates(n)){this._getSortedTreeNodesByDate(a,n);break}default:a=n}return a},e.prototype.treeHasNavDates=function(e){var t=this.getFlattenedTree(e);return!!t&&t.some((function(e){return!isNaN(e.navDate)}))},e.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},e.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},e.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return!!this.manifest.parentCollection},e.prototype.hasRelatedPage=function(){var e=this.getRelated();return!!e&&(e.length&&(e=e[0]),"text/html"===e.format)},e.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},e.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return!!e&&e===p.BOTTOM_TO_TOP},e.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},e.prototype.isContinuous=function(){var e=this.getViewingHint();return!!e&&e===f.CONTINUOUS},e.prototype.isFirstCanvas=function(e){return void 0!==e?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},e.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},e.prototype.isLastCanvas=function(e){return void 0!==e?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},e.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return!!e&&e===p.LEFT_TO_RIGHT},e.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},e.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isMultiSequence()},e.prototype.isPaged=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getViewingHint();return e?e===f.PAGED:this.manifest.isPagingEnabled()},e.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},e.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},e.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return!!e&&e===p.RIGHT_TO_LEFT},e.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return!!e&&e===p.TOP_TO_BOTTOM},e.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},e.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=this.manifest.getService(c.UI_EXTENSIONS);if(t){var n=t.getProperty("disableUI");if(n&&(-1!==n.indexOf(e)||-1!==n.indexOf(e.toLowerCase())))return!1}return!0},e.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},e.prototype.createDateNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=this.getNodeYear(i),o=this.getNodeMonth(i),a=new g.TreeNode;a.id=i.id,a.label=this.getNodeDisplayDate(i),a.data=i.data,a.data.type=g.TreeNodeType.MANIFEST,a.data.year=r,a.data.month=o;var s=this.getDecadeNode(e,r);if(s){var u=this.getYearNode(s,r);if(u){var l=this.getMonthNode(u,o);l&&l.addNode(a)}}}},e.prototype.createDecadeNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=Number(r.toString().substr(0,3)+"9");if(!this.getDecadeNode(e,r)){var a=new g.TreeNode;a.label=r+" - "+o,a.navDate=i.navDate,a.data.startYear=r,a.data.endYear=o,e.addNode(a)}}}},e.prototype.createMonthNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getNodeMonth(i),a=this.getDecadeNode(e,r),s=null;if(a&&(s=this.getYearNode(a,r)),a&&s&&!this.getMonthNode(s,o)){var u=new g.TreeNode;u.label=this.getNodeDisplayMonth(i),u.navDate=i.navDate,u.data.year=r,u.data.month=o,s.addNode(u)}}}},e.prototype.createYearNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getDecadeNode(e,r);if(o&&!this.getYearNode(o,r)){var a=new g.TreeNode;a.label=r.toString(),a.navDate=i.navDate,a.data.year=r,o.addNode(a)}}}},e.prototype.getDecadeNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t>=i.data.startYear&&t<=i.data.endYear)return i}return null},e.prototype.getMonthNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeMonth(i))return i}return null},e.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},e.prototype.getNodeDisplayMonth=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.navDate.getMonth()]},e.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},e.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},e.prototype.getYearNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeYear(i))return i}return null},e.prototype.pruneDecadeNodes=function(e){for(var t=[],n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes.length||t.push(i)}for(var r=0;r<t.length;r++){var o=t[r],a=e.nodes.indexOf(o);a>-1&&e.nodes.splice(a,1)}},e.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort((function(e,t){return e.data.startYear-t.data.startYear}))},e.prototype.sortMonthNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++)for(var i=e.nodes[n],r=0;r<i.nodes.length;r++){var o=i.nodes[r];o.nodes=o.nodes.sort((function(e,n){return t.getNodeMonth(e)-t.getNodeMonth(n)}))}},e.prototype.sortYearNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes=i.nodes.sort((function(e,n){return t.getNodeYear(e)-t.getNodeYear(n)}))}},e}(),T=function(){function e(e){this._options=e,this._options.locale=this._options.locale||"en-GB"}return e.prototype.bootstrap=function(e,t){var n=this;return new Promise((function(i,r){e&&t&&(i=e,r=t),g.Utils.loadManifest(n._options.manifestUri).then((function(e){n._loaded(n,e,i,r)}))}))},e.prototype._loaded=function(e,t,n,i){var r=g.Utils.parseManifest(t,{locale:e._options.locale});if(r){e._options.iiifResource||(e._options.iiifResource=r);var o=e._options.collectionIndex,a=e._options.manifestIndex;if(r.getIIIFResourceType()===s.COLLECTION){var u=r.getManifests(),l=r.getCollections();u.length||void 0!==o||(o=0),void 0!==o&&l&&l.length?r.getCollectionByIndex(o).then((function(t){t||i("Collection index not found"),0===t.getTotalManifests()&&0===a&&t.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=t.id,e.bootstrap(n,i)):void 0!==a&&t.getManifestByIndex(a).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))})):r.getManifestByIndex(e._options.manifestIndex).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))}else{e._options.manifest=r;var c=new y(e._options);n(c)}}else console.error("Unable to load IIIF resource")},e}(),I=n(1),O=function(){function e(e,t){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=t.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return e.prototype._getImageServiceDescriptor=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.id;r.endsWith("/")||(r+="/"),g.Utils.isImageProfile(i.getProfile())&&(t=r+"info.json")}return t},e.prototype._getDataUri=function(e){var t=e.getContent(),n=e.getImages(),i=null;if(t&&t.length){var r=t[0].getBody();return r.length?(o=r[0].getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:r[0].id:null}if(n&&n.length){var o,a=n[0].getResource();return(o=a.getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:a.id}var s=e.getService(c.IXIF);return s?s.getInfoUri():e.id},e.prototype._parseAuthServices=function(e){if(.9===this.authAPIVersion)this.clickThroughService=g.Utils.getService(e,c.AUTH_0_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_0_LOGIN),this.restrictedService=g.Utils.getService(e,c.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(c.AUTH_0_TOKEN));else{if(void 0!==e.isCanvas&&e.isCanvas()){var t=e.getContent();if(t&&t.length){var n=t[0].getBody();if(n&&n.length)e=n[0]}}this.clickThroughService=g.Utils.getService(e,c.AUTH_1_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_1_LOGIN),this.externalService=g.Utils.getService(e,c.AUTH_1_EXTERNAL),this.kioskService=g.Utils.getService(e,c.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(c.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_1_TOKEN),this.probeService=this.loginService.getService(c.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(c.AUTH_1_TOKEN),this.probeService=this.externalService.getService(c.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(c.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(c.AUTH_1_PROBE))}},e.prototype._parseCanvasDimensions=function(e){var t=e.getImages();if(t&&t.length){var n=t[0].getResource();this.width=n.getWidth(),this.height=n.getHeight()}else if((t=e.getContent()).length){var i=t[0].getBody();i.length&&(this.width=i[0].getWidth(),this.height=i[0].getHeight())}},e.prototype._parseDescriptorDimensions=function(e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},e.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},e.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith("info.json")},e.prototype.getData=function(e){var t=this;return t.data={},new Promise((function(n,i){if(t.dataUri)if(t.probeService){t.isProbed=!0;var r=new XMLHttpRequest;r.open("GET",t.probeService.id,!0),r.withCredentials=!0,r.onload=function(){var e=JSON.parse(r.responseText);unescape(e.contentLocation)!==t.dataUri?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)},r.onerror=function(){t.status=r.status,n(t)},r.send()}else{var o="GET";if(!t.hasServiceDescriptor()){if(!t.isAccessControlled())return t.status=I.OK,void n(t);o="HEAD"}var a=new XMLHttpRequest;a.open(o,t.dataUri,!0),e&&a.setRequestHeader("Authorization","Bearer "+e.accessToken),a.onload=function(){var e=JSON.parse(a.responseText);if(e){var i=unescape(e["@id"]);t.data=e,t._parseAuthServices(t.data),t._parseDescriptorDimensions(t.data),i.endsWith("/info.json")&&(i=i.substr(0,i.lastIndexOf("/")));var r=t.dataUri;r&&r.endsWith("/info.json")&&(r=r.substr(0,r.lastIndexOf("/"))),i!==r&&t.loginService?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)}else t.status=I.OK,n(t)},a.onerror=function(){t.status=a.status,a.responseText&&t._parseAuthServices(JSON.parse(a.responseText)),n(t)},a.send()}else i("There is no dataUri to fetch")}))},e}(),N=function(){},m=function(){},L=function(e,t){this.value=e,this.locale=t},A=function(){function e(e){this.labels=e}return e.prototype.format=function(e){return-1!=e.indexOf("<a")?e:'<a href="'+e+'">'+(this.labels[e]?this.labels[e]:e)+"</a>"},e}();n.d(t,"loadManifest",(function(){return S})),n.d(t,"AnnotationGroup",(function(){return d})),n.d(t,"AnnotationRect",(function(){return h})),n.d(t,"Bootstrapper",(function(){return T})),n.d(t,"ExternalResource",(function(){return O})),n.d(t,"Helper",(function(){return y})),n.d(t,"ILabelValuePair",(function(){return N})),n.d(t,"MetadataGroup",(function(){return v})),n.d(t,"MetadataOptions",(function(){return m})),n.d(t,"MultiSelectState",(function(){return _})),n.d(t,"Translation",(function(){return L})),n.d(t,"TreeSortType",(function(){return i})),n.d(t,"UriLabeller",(function(){return A}));var S=function(e){return new T(e).bootstrap()}}])}));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js ***!
  \**********************************************************************/
/*! exports provided: AnnotationGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return AnnotationGroup; });
/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");

var AnnotationGroup = /** @class */ (function () {
    function AnnotationGroup(resource, canvasIndex) {
        this.rects = [];
        this.canvasIndex = canvasIndex;
        this.addRect(resource);
    }
    AnnotationGroup.prototype.addRect = function (resource) {
        var rect = new _AnnotationRect__WEBPACK_IMPORTED_MODULE_0__["AnnotationRect"](resource);
        rect.canvasIndex = this.canvasIndex;
        rect.index = this.rects.length;
        this.rects.push(rect);
        // sort ascending
        this.rects.sort(function (a, b) {
            return a.index - b.index;
        });
    };
    return AnnotationGroup;
}());

//# sourceMappingURL=AnnotationGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js ***!
  \*********************************************************************/
/*! exports provided: AnnotationRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return AnnotationRect; });
var AnnotationRect = /** @class */ (function () {
    function AnnotationRect(result) {
        this.isVisible = true;
        var xywh = result.on.match(/.*xywh=(\d*),(\d*),(\d*),(\d*)/);
        this.x = Number(xywh[1]);
        this.y = Number(xywh[2]);
        this.width = Number(xywh[3]);
        this.height = Number(xywh[4]);
        this.chars = result.resource.chars;
    }
    return AnnotationRect;
}());

//# sourceMappingURL=AnnotationRect.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js ***!
  \*******************************************************************/
/*! exports provided: Bootstrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return Bootstrapper; });
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_2__);



var Bootstrapper = /** @class */ (function () {
    function Bootstrapper(options) {
        this._options = options;
        this._options.locale = this._options.locale || 'en-GB'; // default locale
    }
    Bootstrapper.prototype.bootstrap = function (res, rej) {
        var that = this;
        return new Promise(function (resolve, reject) {
            // if this is a recursive bootstrap we will have existing resolve & reject methods.
            if (res && rej) {
                resolve = res;
                reject = rej;
            }
            manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].loadManifest(that._options.manifestUri).then(function (json) {
                that._loaded(that, json, resolve, reject);
            });
        });
    };
    Bootstrapper.prototype._loaded = function (bootstrapper, json, resolve, reject) {
        var iiifResource = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].parseManifest(json, {
            locale: bootstrapper._options.locale
        });
        if (iiifResource) {
            // only set the root IIIFResource on the first load
            if (!bootstrapper._options.iiifResource) {
                bootstrapper._options.iiifResource = iiifResource;
            }
            var collectionIndex = bootstrapper._options.collectionIndex; // this is either undefined, 0, or a positive number (defaults to undefined)
            var manifestIndex_1 = bootstrapper._options.manifestIndex; // this is either 0 or a positive number (defaults to 0)
            if (iiifResource.getIIIFResourceType() === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_1__["IIIFResourceType"].COLLECTION) {
                // it's a collection
                var manifests = iiifResource.getManifests();
                var collections = iiifResource.getCollections();
                // if there are only collections available, set the collectionIndex to 0 if undefined.
                if (!manifests.length && collectionIndex === undefined) {
                    collectionIndex = 0;
                }
                if (collectionIndex !== undefined && collections && collections.length) {
                    // a collectionIndex has been passed and we have sub collections
                    iiifResource.getCollectionByIndex(collectionIndex).then(function (collection) {
                        if (!collection) {
                            reject('Collection index not found');
                        }
                        // Special case: we're trying to load the first manifest of the
                        // specified collection, but the collection has no manifests but does have
                        // subcollections. Thus, we should dive in until we find something
                        // we can display!
                        if (collection.getTotalManifests() === 0 && manifestIndex_1 === 0 && collection.getTotalCollections() > 0) {
                            bootstrapper._options.collectionIndex = 0;
                            bootstrapper._options.manifestUri = collection.id;
                            bootstrapper.bootstrap(resolve, reject);
                        }
                        else if (manifestIndex_1 !== undefined) {
                            collection.getManifestByIndex(manifestIndex_1).then(function (manifest) {
                                bootstrapper._options.manifest = manifest;
                                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                                resolve(helper);
                            });
                        }
                    });
                }
                else {
                    iiifResource.getManifestByIndex(bootstrapper._options.manifestIndex).then(function (manifest) {
                        bootstrapper._options.manifest = manifest;
                        var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                        resolve(helper);
                    });
                }
            }
            else {
                bootstrapper._options.manifest = iiifResource;
                var helper = new _Helper__WEBPACK_IMPORTED_MODULE_0__["Helper"](bootstrapper._options);
                resolve(helper);
            }
        }
        else {
            console.error('Unable to load IIIF resource');
        }
    };
    return Bootstrapper;
}());

//# sourceMappingURL=Bootstrapper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Errors.js ***!
  \*************************************************************/
/*! exports provided: Errors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Errors", function() { return Errors; });
var Errors = /** @class */ (function () {
    function Errors() {
    }
    Errors.manifestNotLoaded = "Manifest has not loaded yet";
    return Errors;
}());

//# sourceMappingURL=Errors.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js ***!
  \***********************************************************************/
/*! exports provided: ExternalResource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return ExternalResource; });
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @edsilv/http-status-codes */ "./node_modules/@edsilv/http-status-codes/dist-umd/httpstatuscodes.js");
/* harmony import */ var _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_2__);



var ExternalResource = /** @class */ (function () {
    function ExternalResource(canvas, options) {
        this.authHoldingPage = null;
        this.clickThroughService = null;
        this.externalService = null;
        this.isProbed = false;
        this.isResponseHandled = false;
        this.kioskService = null;
        this.loginService = null;
        this.logoutService = null;
        this.probeService = null;
        this.restrictedService = null;
        this.tokenService = null;
        canvas.externalResource = this;
        this.dataUri = this._getDataUri(canvas);
        this.index = canvas.index;
        this.authAPIVersion = options.authApiVersion;
        this._parseAuthServices(canvas);
        // get the height and width of the image resource if available
        this._parseCanvasDimensions(canvas);
    }
    ExternalResource.prototype._getImageServiceDescriptor = function (services) {
        var infoUri = null;
        for (var i = 0; i < services.length; i++) {
            var service = services[i];
            var id = service.id;
            if (!id.endsWith('/')) {
                id += '/';
            }
            if (manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].isImageProfile(service.getProfile())) {
                infoUri = id + 'info.json';
            }
        }
        return infoUri;
    };
    ExternalResource.prototype._getDataUri = function (canvas) {
        var content = canvas.getContent();
        var images = canvas.getImages();
        var infoUri = null;
        // presentation 3
        if (content && content.length) {
            var annotation = content[0];
            var annotationBody = annotation.getBody();
            if (annotationBody.length) {
                var body = annotationBody[0];
                var services = body.getServices();
                if (services.length) {
                    infoUri = this._getImageServiceDescriptor(services);
                    if (infoUri) {
                        return infoUri;
                    }
                }
                // no image services. return the image id
                return annotationBody[0].id;
            }
            return null;
        }
        else if (images && images.length) { // presentation 2
            var firstImage = images[0];
            var resource = firstImage.getResource();
            var services = resource.getServices();
            if (services.length) {
                infoUri = this._getImageServiceDescriptor(services);
                if (infoUri) {
                    return infoUri;
                }
            }
            // no image services. return the image id
            return resource.id;
        }
        else {
            // Legacy IxIF
            var service = canvas.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].IXIF);
            if (service) { // todo: deprecate
                return service.getInfoUri();
            }
            // return the canvas id.
            return canvas.id;
        }
    };
    ExternalResource.prototype._parseAuthServices = function (resource) {
        if (this.authAPIVersion === 0.9) {
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGIN);
            this.restrictedService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_RESTRICTED);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
            else if (this.restrictedService) {
                this.logoutService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_LOGOUT);
                this.tokenService = this.restrictedService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_0_TOKEN);
            }
        }
        else { // auth 1
            // if the resource is a canvas, not an info.json, look for auth services on its content.
            if (resource.isCanvas !== undefined && resource.isCanvas()) {
                var content = resource.getContent();
                if (content && content.length) {
                    var body = content[0].getBody();
                    if (body && body.length) {
                        var annotation = body[0];
                        resource = annotation;
                    }
                }
            }
            this.clickThroughService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_CLICK_THROUGH);
            this.loginService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGIN);
            this.externalService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_EXTERNAL);
            this.kioskService = manifesto_js__WEBPACK_IMPORTED_MODULE_2__["Utils"].getService(resource, _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_KIOSK);
            if (this.clickThroughService) {
                this.logoutService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.clickThroughService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.loginService) {
                this.logoutService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.loginService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.externalService) {
                this.logoutService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.externalService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
            else if (this.kioskService) {
                this.logoutService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_LOGOUT);
                this.tokenService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_TOKEN);
                this.probeService = this.kioskService.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_0__["ServiceProfile"].AUTH_1_PROBE);
            }
        }
    };
    ExternalResource.prototype._parseCanvasDimensions = function (canvas) {
        var images = canvas.getImages();
        if (images && images.length) {
            var firstImage = images[0];
            var resource = firstImage.getResource();
            this.width = resource.getWidth();
            this.height = resource.getHeight();
        }
        else {
            // presentation 3
            images = canvas.getContent();
            if (images.length) {
                var annotation = images[0];
                var body = annotation.getBody();
                if (body.length) {
                    this.width = body[0].getWidth();
                    this.height = body[0].getHeight();
                }
            }
        }
    };
    ExternalResource.prototype._parseDescriptorDimensions = function (descriptor) {
        if (descriptor.width !== undefined) {
            this.width = descriptor.width;
        }
        if (descriptor.height !== undefined) {
            this.height = descriptor.height;
        }
    };
    ExternalResource.prototype.isAccessControlled = function () {
        if (this.clickThroughService || this.loginService || this.externalService || this.kioskService || this.probeService) {
            return true;
        }
        return false;
    };
    ExternalResource.prototype.hasServiceDescriptor = function () {
        if (this.dataUri) {
            return this.dataUri.endsWith('info.json');
        }
        return false;
    };
    ExternalResource.prototype.getData = function (accessToken) {
        var that = this;
        that.data = {};
        return new Promise(function (resolve, reject) {
            if (!that.dataUri) {
                reject('There is no dataUri to fetch');
                return;
            }
            // if the resource has a probe service, use that to get http status code
            if (that.probeService) {
                that.isProbed = true;
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.probeService.id,
                //     type: 'GET',
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     let contentLocation: string = unescape(data.contentLocation);
                //     if (contentLocation !== that.dataUri) {
                //         that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //     } else {
                //         that.status = HTTPStatusCode.OK;
                //     }
                //     resolve(that);
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_1 = new XMLHttpRequest();
                xhr_1.open('GET', that.probeService.id, true);
                xhr_1.withCredentials = true;
                xhr_1.onload = function () {
                    var data = JSON.parse(xhr_1.responseText);
                    var contentLocation = unescape(data.contentLocation);
                    if (contentLocation !== that.dataUri) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                    }
                    else {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                    }
                    resolve(that);
                };
                xhr_1.onerror = function () {
                    that.status = xhr_1.status;
                    resolve(that);
                };
                xhr_1.send();
            }
            else {
                // check if dataUri ends with info.json
                // if not issue a HEAD request.
                var type = 'GET';
                if (!that.hasServiceDescriptor()) {
                    // If access control is unnecessary, short circuit the process.
                    // Note that isAccessControlled check for short-circuiting only
                    // works in the "binary resource" context, since in that case,
                    // we know about access control from the manifest. For image
                    // resources, we need to check info.json for details and can't
                    // short-circuit like this.
                    if (!that.isAccessControlled()) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                        return;
                    }
                    type = 'HEAD';
                }
                // leaving this in for reference until the XHR version is fully tested
                // $.ajax(<JQueryAjaxSettings>{
                //     url: that.dataUri,
                //     type: type,
                //     dataType: 'json',
                //     beforeSend: (xhr) => {
                //         if (accessToken) {
                //             xhr.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                //         }
                //     }
                // }).done((data: any) => {
                //     // if it's a resource without an info.json
                //     // todo: if resource doesn't have a @profile
                //     if (!data) {
                //         that.status = HTTPStatusCode.OK;
                //         resolve(that);
                //     } else {
                //         let uri: string = unescape(data['@id']);
                //         that.data = data;
                //         that._parseAuthServices(that.data);
                //         // remove trailing /info.json
                //         if (uri.endsWith('/info.json')){
                //             uri = uri.substr(0, uri.lastIndexOf('/'));
                //         }
                //         let dataUri: string | null = that.dataUri;
                //         if (dataUri && dataUri.endsWith('/info.json')){
                //             dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                //         }
                //         // if the request was redirected to a degraded version and there's a login service to get the full quality version
                //         if (uri !== dataUri && that.loginService) {
                //             that.status = HTTPStatusCode.MOVED_TEMPORARILY;
                //         } else {
                //             that.status = HTTPStatusCode.OK;
                //         }
                //         resolve(that);
                //     }
                // }).fail((error) => {
                //     that.status = error.status;
                //     that.error = error;
                //     if (error.responseJSON){
                //         that._parseAuthServices(error.responseJSON);
                //     }
                //     resolve(that);
                // });
                // xhr implementation
                var xhr_2 = new XMLHttpRequest();
                xhr_2.open(type, that.dataUri, true);
                //xhr.withCredentials = true;
                if (accessToken) {
                    xhr_2.setRequestHeader("Authorization", "Bearer " + accessToken.accessToken);
                }
                xhr_2.onload = function () {
                    var data = JSON.parse(xhr_2.responseText);
                    // if it's a resource without an info.json
                    // todo: if resource doesn't have a @profile
                    if (!data) {
                        that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        resolve(that);
                    }
                    else {
                        var uri = unescape(data['@id']);
                        that.data = data;
                        that._parseAuthServices(that.data);
                        that._parseDescriptorDimensions(that.data);
                        // remove trailing /info.json
                        if (uri.endsWith('/info.json')) {
                            uri = uri.substr(0, uri.lastIndexOf('/'));
                        }
                        var dataUri = that.dataUri;
                        if (dataUri && dataUri.endsWith('/info.json')) {
                            dataUri = dataUri.substr(0, dataUri.lastIndexOf('/'));
                        }
                        // if the request was redirected to a degraded version and there's a login service to get the full quality version
                        if (uri !== dataUri && that.loginService) {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["MOVED_TEMPORARILY"];
                        }
                        else {
                            that.status = _edsilv_http_status_codes__WEBPACK_IMPORTED_MODULE_1__["OK"];
                        }
                        resolve(that);
                    }
                };
                xhr_2.onerror = function () {
                    that.status = xhr_2.status;
                    if (xhr_2.responseText) {
                        that._parseAuthServices(JSON.parse(xhr_2.responseText));
                    }
                    resolve(that);
                };
                xhr_2.send();
            }
        });
    };
    return ExternalResource;
}());

//# sourceMappingURL=ExternalResource.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js":
/*!*************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Helper.js ***!
  \*************************************************************/
/*! exports provided: Helper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return Helper; });
/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony import */ var _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @iiif/vocabulary */ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js");
/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Errors */ "./node_modules/@iiif/manifold/dist-esmodule/Errors.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_5__);






var Helper = /** @class */ (function () {
    function Helper(options) {
        this.options = options;
        this.iiifResource = this.options.iiifResource;
        this.manifestUri = this.options.manifestUri;
        this.manifest = this.options.manifest;
        this.collectionIndex = this.options.collectionIndex || 0;
        this.manifestIndex = this.options.manifestIndex || 0;
        this.sequenceIndex = this.options.sequenceIndex || 0;
        this.canvasIndex = this.options.canvasIndex || 0;
    }
    // getters //
    Helper.prototype.getAutoCompleteService = function () {
        var service = this.getSearchService();
        var autoCompleteService = null;
        if (service) {
            autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0_AUTO_COMPLETE);
            if (!autoCompleteService) {
                autoCompleteService = service.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1_AUTO_COMPLETE);
            }
        }
        return autoCompleteService;
    };
    Helper.prototype.getAttribution = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var attribution = this.manifest.getAttribution();
        if (attribution) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(attribution, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getCanvases = function () {
        return this.getCurrentSequence().getCanvases();
    };
    Helper.prototype.getCanvasById = function (id) {
        return this.getCurrentSequence().getCanvasById(id);
    };
    Helper.prototype.getCanvasesById = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            var canvas = this.getCanvasById(id);
            if (canvas) {
                canvases.push(canvas);
            }
        }
        return canvases;
    };
    Helper.prototype.getCanvasByIndex = function (index) {
        return this.getCurrentSequence().getCanvasByIndex(index);
    };
    Helper.prototype.getCanvasIndexById = function (id) {
        return this.getCurrentSequence().getCanvasIndexById(id);
    };
    Helper.prototype.getCanvasIndexByLabel = function (label) {
        var foliated = this.getManifestType() === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MANUSCRIPT;
        return this.getCurrentSequence().getCanvasIndexByLabel(label, foliated);
    };
    Helper.prototype.getCanvasRange = function (canvas, path) {
        var ranges = this.getCanvasRanges(canvas);
        if (path) {
            for (var i = 0; i < ranges.length; i++) {
                var range = ranges[i];
                if (range.path === path) {
                    return range;
                }
            }
            return null;
        }
        else {
            return ranges[0]; // else return the first range
        }
    };
    Helper.prototype.getCanvasRanges = function (canvas) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        if (canvas.ranges) {
            return canvas.ranges; // cache
        }
        else {
            // todo: write test
            canvas.ranges = this.manifest.getAllRanges().filter(function (range) { return (range.getCanvasIds().some(function (cid) { return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(cid) === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Utils"].normaliseUrl(canvas.id); })); });
        }
        return canvas.ranges;
    };
    Helper.prototype.getCollectionIndex = function (iiifResource) {
        // todo: this only works for collections nested one level deep
        if (iiifResource.parentCollection && !iiifResource.parentCollection.parentCollection) {
            // manifest must be in the root
            return undefined;
        }
        else if (iiifResource.parentCollection) {
            return iiifResource.parentCollection.index;
        }
        return undefined;
    };
    Helper.prototype.getCurrentCanvas = function () {
        return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex);
    };
    Helper.prototype.getCurrentSequence = function () {
        return this.getSequenceByIndex(this.sequenceIndex);
    };
    Helper.prototype.getDescription = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var description = this.manifest.getDescription();
        if (description) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(description, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var label = this.manifest.getLabel();
        if (label) {
            return manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LanguageMap"].getValue(label, this.options.locale);
        }
        return null;
    };
    Helper.prototype.getLastCanvasLabel = function (alphanumeric) {
        return this.getCurrentSequence().getLastCanvasLabel(alphanumeric);
    };
    Helper.prototype.getFirstPageIndex = function () {
        return 0; // why is this needed?
    };
    Helper.prototype.getLastPageIndex = function () {
        return this.getTotalCanvases() - 1;
    };
    Helper.prototype.getLicense = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLicense();
    };
    Helper.prototype.getLogo = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getLogo();
    };
    Helper.prototype.getManifestType = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var manifestType = this.manifest.getManifestType();
        // default to monograph
        if (manifestType === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].EMPTY) {
            manifestType = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["ManifestType"].MONOGRAPH;
        }
        return manifestType;
    };
    Helper.prototype.getMetadata = function (options) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var metadataGroups = [];
        var manifestMetadata = this.manifest.getMetadata();
        var manifestGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](this.manifest);
        var locale = this.options.locale; // this will always default to en-GB
        if (manifestMetadata && manifestMetadata.length) {
            manifestGroup.addMetadata(manifestMetadata, true);
        }
        if (this.manifest.getDescription().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("description", locale)];
            metadataItem.value = this.manifest.getDescription();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getAttribution().length) {
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.label = [new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["Language"]("attribution", locale)];
            metadataItem.value = this.manifest.getAttribution();
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        var license = this.manifest.getLicense();
        if (license) {
            var item = {
                label: "license",
                value: (options && options.licenseFormatter) ? options.licenseFormatter.format(license) : license
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        if (this.manifest.getLogo()) {
            var item = {
                label: "logo",
                value: '<img src="' + this.manifest.getLogo() + '"/>'
            };
            var metadataItem = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["LabelValuePair"](locale);
            metadataItem.parse(item);
            metadataItem.isRootLevel = true;
            manifestGroup.addItem(metadataItem);
        }
        metadataGroups.push(manifestGroup);
        if (options) {
            return this._parseMetadataOptions(options, metadataGroups);
        }
        else {
            return metadataGroups;
        }
    };
    Helper.prototype.getRequiredStatement = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var requiredStatement = this.manifest.getRequiredStatement();
        if (requiredStatement) {
            return {
                label: requiredStatement.getLabel(),
                value: requiredStatement.getValue()
            };
        }
        return null;
    };
    Helper.prototype._parseMetadataOptions = function (options, metadataGroups) {
        // get sequence metadata
        var sequence = this.getCurrentSequence();
        var sequenceMetadata = sequence.getMetadata();
        if (sequenceMetadata && sequenceMetadata.length) {
            var sequenceGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](sequence);
            sequenceGroup.addMetadata(sequenceMetadata);
            metadataGroups.push(sequenceGroup);
        }
        // get range metadata
        if (options.range) {
            var rangeGroups = this._getRangeMetadata([], options.range);
            rangeGroups = rangeGroups.reverse();
            metadataGroups = metadataGroups.concat(rangeGroups);
        }
        // get canvas metadata
        if (options.canvases && options.canvases.length) {
            for (var i = 0; i < options.canvases.length; i++) {
                var canvas = options.canvases[i];
                var canvasMetadata = canvas.getMetadata();
                if (canvasMetadata && canvasMetadata.length) {
                    var canvasGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](canvas);
                    canvasGroup.addMetadata(canvas.getMetadata());
                    metadataGroups.push(canvasGroup);
                }
                // add image metadata
                var images = canvas.getImages();
                for (var j = 0; j < images.length; j++) {
                    var image = images[j];
                    var imageMetadata = image.getMetadata();
                    if (imageMetadata && imageMetadata.length) {
                        var imageGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](image);
                        imageGroup.addMetadata(imageMetadata);
                        metadataGroups.push(imageGroup);
                    }
                }
            }
        }
        return metadataGroups;
    };
    Helper.prototype._getRangeMetadata = function (metadataGroups, range) {
        var rangeMetadata = range.getMetadata();
        if (rangeMetadata && rangeMetadata.length) {
            var rangeGroup = new _MetadataGroup__WEBPACK_IMPORTED_MODULE_1__["MetadataGroup"](range);
            rangeGroup.addMetadata(rangeMetadata);
            metadataGroups.push(rangeGroup);
        }
        else if (range.parentRange) {
            return this._getRangeMetadata(metadataGroups, range.parentRange);
        }
        return metadataGroups;
    };
    Helper.prototype.getMultiSelectState = function () {
        if (!this._multiSelectState) {
            this._multiSelectState = new _MultiSelectState__WEBPACK_IMPORTED_MODULE_0__["MultiSelectState"]();
            this._multiSelectState.ranges = this.getRanges().slice(0);
            this._multiSelectState.canvases = this.getCurrentSequence().getCanvases().slice(0);
        }
        return this._multiSelectState;
    };
    Helper.prototype.getCurrentRange = function () {
        if (this.rangeId) {
            return this.getRangeById(this.rangeId);
        }
        return null;
    };
    Helper.prototype.getPosterCanvas = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getPosterCanvas();
    };
    Helper.prototype.getPosterImage = function () {
        var posterCanvas = this.getPosterCanvas();
        if (posterCanvas) {
            var content = posterCanvas.getContent();
            if (content && content.length) {
                var anno = content[0];
                var body = anno.getBody();
                return body[0].id;
            }
        }
        return null;
    };
    Helper.prototype.getPreviousRange = function (range) {
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node before it that has canvases
                        while (i > 0) {
                            i--;
                            var prevNode = flatTree[i];
                            return prevNode.data;
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getNextRange = function (range) {
        // if a range is passed, use that. otherwise get the current range.
        var currentRange = null;
        if (range) {
            currentRange = range;
        }
        else {
            currentRange = this.getCurrentRange();
        }
        if (currentRange) {
            var flatTree = this.getFlattenedTree();
            if (flatTree) {
                for (var i = 0; i < flatTree.length; i++) {
                    var node = flatTree[i];
                    // find current range in flattened tree
                    if (node && node.data.id === currentRange.id) {
                        // find the first node after it that has canvases
                        while (i < flatTree.length - 1) {
                            i++;
                            var nextNode = flatTree[i];
                            if (nextNode.data.canvases && nextNode.data.canvases.length) {
                                return nextNode.data;
                            }
                        }
                        break;
                    }
                }
            }
        }
        return null;
    };
    Helper.prototype.getFlattenedTree = function (treeNode) {
        var t = null;
        if (!treeNode) {
            t = this.getTree();
        }
        else {
            t = treeNode;
        }
        if (t) {
            return this._flattenTree(t, 'nodes');
        }
        return null;
    };
    // use object.assign to return a set of new nodes
    // right now the UV needs the nodes to retain properties for databinding like expanded
    // as we're not redrawing the tree every time as per react.
    // maybe make this optional.
    // not sure why deleting the nodes key from each node is necessary
    Helper.prototype._flattenTree = function (root, key) {
        var _this = this;
        var flatten = [root]; //[Object.assign({}, root)];
        //delete flatten[0][key];
        if (root[key] && root[key].length > 0) {
            return flatten.concat(root[key]
                .map(function (child) { return _this._flattenTree(child, key); })
                .reduce(function (a, b) { return a.concat(b); }, []));
        }
        return flatten;
    };
    Helper.prototype.getRanges = function () {
        return this.manifest.getAllRanges();
    };
    Helper.prototype.getRangeByPath = function (path) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeByPath(path);
    };
    Helper.prototype.getRangeById = function (id) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRangeById(id);
    };
    Helper.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesById(ids);
    };
    Helper.prototype.getRelated = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getRelated();
    };
    Helper.prototype.getSearchService = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_0);
        if (!service) {
            service = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SEARCH_1);
        }
        return service;
    };
    Helper.prototype.getSeeAlso = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSeeAlso();
    };
    Helper.prototype.getSequenceByIndex = function (index) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getSequenceByIndex(index);
    };
    Helper.prototype.getShareServiceUrl = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var url = null;
        var shareService = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].SHARE_EXTENSIONS);
        if (shareService) {
            if (shareService.length) {
                shareService = shareService[0];
            }
            url = shareService.__jsonld.shareUrl;
        }
        return url;
    };
    Helper.prototype._getSortedTreeNodesByDate = function (sortedTree, tree) {
        // const all: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(node => node.nodes)
        //     .where((n) => n.data.type === TreeNodeType.COLLECTION ||
        //                 n.data.type === TreeNodeType.MANIFEST).toArray();
        var flattenedTree = this.getFlattenedTree(tree);
        // const manifests: TreeNode[] = <TreeNode[]>tree.nodes.en().traverseUnique(n => n.nodes)
        //     .where((n) => n.data.type === TreeNodeType.MANIFEST).toArray();
        if (flattenedTree) {
            var manifests = flattenedTree.filter(function (n) { return n.data.type === manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST; });
            this.createDecadeNodes(sortedTree, flattenedTree);
            this.sortDecadeNodes(sortedTree);
            this.createYearNodes(sortedTree, flattenedTree);
            this.sortYearNodes(sortedTree);
            this.createMonthNodes(sortedTree, manifests);
            this.sortMonthNodes(sortedTree);
            this.createDateNodes(sortedTree, manifests);
            this.pruneDecadeNodes(sortedTree);
        }
    };
    Helper.prototype.getStartCanvasIndex = function () {
        return this.getCurrentSequence().getStartCanvasIndex();
    };
    Helper.prototype.getThumbs = function (width, height) {
        return this.getCurrentSequence().getThumbs(width, height);
    };
    Helper.prototype.getTopRanges = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTopRanges();
    };
    Helper.prototype.getTotalCanvases = function () {
        return this.getCurrentSequence().getTotalCanvases();
    };
    Helper.prototype.getTrackingLabel = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.getTrackingLabel();
    };
    Helper.prototype._getTopRanges = function () {
        return this.iiifResource.getTopRanges();
    };
    Helper.prototype.getTree = function (topRangeIndex, sortType) {
        // if it's a collection, use IIIFResource.getDefaultTree()
        // otherwise, get the top range by index and use Range.getTree()
        if (topRangeIndex === void 0) { topRangeIndex = 0; }
        if (sortType === void 0) { sortType = _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].NONE; }
        if (!this.iiifResource) {
            return null;
        }
        var tree;
        if (this.iiifResource.isCollection()) {
            tree = this.iiifResource.getDefaultTree();
        }
        else {
            var topRanges = this._getTopRanges();
            var root = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            root.label = 'root';
            root.data = this.iiifResource;
            if (topRanges.length) {
                var range = topRanges[topRangeIndex];
                tree = range.getTree(root);
            }
            else {
                return root;
            }
        }
        var sortedTree = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
        switch (sortType.toString()) {
            case _TreeSortType__WEBPACK_IMPORTED_MODULE_2__["TreeSortType"].DATE.toString():
                // returns a list of treenodes for each decade.
                // expanding a decade generates a list of years
                // expanding a year gives a list of months containing issues
                // expanding a month gives a list of issues.
                if (this.treeHasNavDates(tree)) {
                    this._getSortedTreeNodesByDate(sortedTree, tree);
                    break;
                }
            default:
                sortedTree = tree;
        }
        return sortedTree;
    };
    Helper.prototype.treeHasNavDates = function (tree) {
        //const node: TreeNode = tree.nodes.en().traverseUnique(node => node.nodes).where((n) => !isNaN(<any>n.navDate)).first();
        // todo: write test
        var flattenedTree = this.getFlattenedTree(tree);
        return (flattenedTree) ? flattenedTree.some(function (n) { return !isNaN(n.navDate); }) : false;
    };
    Helper.prototype.getViewingDirection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingDirection = this.getCurrentSequence().getViewingDirection();
        if (!viewingDirection) {
            viewingDirection = this.manifest.getViewingDirection();
        }
        return viewingDirection;
    };
    Helper.prototype.getViewingHint = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var viewingHint = this.getCurrentSequence().getViewingHint();
        if (!viewingHint) {
            viewingHint = this.manifest.getViewingHint();
        }
        return viewingHint;
    };
    // inquiries //
    Helper.prototype.hasParentCollection = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return !!this.manifest.parentCollection;
    };
    Helper.prototype.hasRelatedPage = function () {
        var related = this.getRelated();
        if (!related)
            return false;
        if (related.length) {
            related = related[0];
        }
        return related['format'] === 'text/html';
    };
    Helper.prototype.hasResources = function () {
        var canvas = this.getCurrentCanvas();
        return canvas.getResources().length > 0;
    };
    Helper.prototype.isBottomToTop = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].BOTTOM_TO_TOP;
        }
        return false;
    };
    Helper.prototype.isCanvasIndexOutOfRange = function (index) {
        return this.getCurrentSequence().isCanvasIndexOutOfRange(index);
    };
    Helper.prototype.isContinuous = function () {
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].CONTINUOUS;
        }
        return false;
    };
    Helper.prototype.isFirstCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isFirstCanvas(index);
        }
        return this.getCurrentSequence().isFirstCanvas(this.canvasIndex);
    };
    Helper.prototype.isHorizontallyAligned = function () {
        return this.isLeftToRight() || this.isRightToLeft();
    };
    Helper.prototype.isLastCanvas = function (index) {
        if (typeof index !== 'undefined') {
            return this.getCurrentSequence().isLastCanvas(index);
        }
        return this.getCurrentSequence().isLastCanvas(this.canvasIndex);
    };
    Helper.prototype.isLeftToRight = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].LEFT_TO_RIGHT;
        }
        return false;
    };
    Helper.prototype.isMultiCanvas = function () {
        return this.getCurrentSequence().isMultiCanvas();
    };
    Helper.prototype.isMultiSequence = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return this.manifest.isMultiSequence();
    };
    Helper.prototype.isPaged = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        // check the sequence for a viewingHint (deprecated)
        var viewingHint = this.getViewingHint();
        if (viewingHint) {
            return viewingHint === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingHint"].PAGED;
        }
        // check the manifest for a viewingHint (deprecated) or paged behavior
        return this.manifest.isPagingEnabled();
    };
    Helper.prototype.isPagingAvailable = function () {
        // paged mode is useless unless you have at least 3 pages...
        return this.isPagingEnabled() && this.getTotalCanvases() > 2;
    };
    Helper.prototype.isPagingEnabled = function () {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        return (this.manifest.isPagingEnabled() || this.getCurrentSequence().isPagingEnabled());
    };
    Helper.prototype.isRightToLeft = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].RIGHT_TO_LEFT;
        }
        return false;
    };
    Helper.prototype.isTopToBottom = function () {
        var viewingDirection = this.getViewingDirection();
        if (viewingDirection) {
            return viewingDirection === _iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ViewingDirection"].TOP_TO_BOTTOM;
        }
        return false;
    };
    Helper.prototype.isTotalCanvasesEven = function () {
        return this.getCurrentSequence().isTotalCanvasesEven();
    };
    Helper.prototype.isUIEnabled = function (name) {
        if (!this.manifest) {
            throw new Error(_Errors__WEBPACK_IMPORTED_MODULE_4__["Errors"].manifestNotLoaded);
        }
        var uiExtensions = this.manifest.getService(_iiif_vocabulary__WEBPACK_IMPORTED_MODULE_3__["ServiceProfile"].UI_EXTENSIONS);
        if (uiExtensions) {
            var disableUI = uiExtensions.getProperty('disableUI');
            if (disableUI) {
                if (disableUI.indexOf(name) !== -1 || disableUI.indexOf(name.toLowerCase()) !== -1) {
                    return false;
                }
            }
        }
        return true;
    };
    Helper.prototype.isVerticallyAligned = function () {
        return this.isTopToBottom() || this.isBottomToTop();
    };
    // dates //     
    Helper.prototype.createDateNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var dateNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
            dateNode.id = node.id;
            dateNode.label = this.getNodeDisplayDate(node);
            dateNode.data = node.data;
            dateNode.data.type = manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNodeType"].MANIFEST;
            dateNode.data.year = year;
            dateNode.data.month = month;
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode) {
                var yearNode = this.getYearNode(decadeNode, year);
                if (yearNode) {
                    var monthNode = this.getMonthNode(yearNode, month);
                    if (monthNode) {
                        monthNode.addNode(dateNode);
                    }
                }
            }
        }
    };
    Helper.prototype.createDecadeNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var endYear = Number(year.toString().substr(0, 3) + "9");
            if (!this.getDecadeNode(rootNode, year)) {
                var decadeNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                decadeNode.label = year + " - " + endYear;
                decadeNode.navDate = node.navDate;
                decadeNode.data.startYear = year;
                decadeNode.data.endYear = endYear;
                rootNode.addNode(decadeNode);
            }
        }
    };
    Helper.prototype.createMonthNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var month = this.getNodeMonth(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            var yearNode = null;
            if (decadeNode) {
                yearNode = this.getYearNode(decadeNode, year);
            }
            if (decadeNode && yearNode && !this.getMonthNode(yearNode, month)) {
                var monthNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                monthNode.label = this.getNodeDisplayMonth(node);
                monthNode.navDate = node.navDate;
                monthNode.data.year = year;
                monthNode.data.month = month;
                yearNode.addNode(monthNode);
            }
        }
    };
    Helper.prototype.createYearNodes = function (rootNode, nodes) {
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (!node.navDate) {
                continue;
            }
            var year = this.getNodeYear(node);
            var decadeNode = this.getDecadeNode(rootNode, year);
            if (decadeNode && !this.getYearNode(decadeNode, year)) {
                var yearNode = new manifesto_js__WEBPACK_IMPORTED_MODULE_5__["TreeNode"]();
                yearNode.label = year.toString();
                yearNode.navDate = node.navDate;
                yearNode.data.year = year;
                decadeNode.addNode(yearNode);
            }
        }
    };
    Helper.prototype.getDecadeNode = function (rootNode, year) {
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (year >= n.data.startYear && year <= n.data.endYear)
                return n;
        }
        return null;
    };
    Helper.prototype.getMonthNode = function (yearNode, month) {
        for (var i = 0; i < yearNode.nodes.length; i++) {
            var n = yearNode.nodes[i];
            if (month === this.getNodeMonth(n))
                return n;
        }
        return null;
    };
    Helper.prototype.getNodeDisplayDate = function (node) {
        return node.navDate.toDateString();
    };
    Helper.prototype.getNodeDisplayMonth = function (node) {
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return months[node.navDate.getMonth()];
    };
    Helper.prototype.getNodeMonth = function (node) {
        return node.navDate.getMonth();
    };
    Helper.prototype.getNodeYear = function (node) {
        return node.navDate.getFullYear();
    };
    Helper.prototype.getYearNode = function (decadeNode, year) {
        for (var i = 0; i < decadeNode.nodes.length; i++) {
            var n = decadeNode.nodes[i];
            if (year === this.getNodeYear(n))
                return n;
        }
        return null;
    };
    // delete any empty decades
    Helper.prototype.pruneDecadeNodes = function (rootNode) {
        var pruned = [];
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var n = rootNode.nodes[i];
            if (!n.nodes.length) {
                pruned.push(n);
            }
        }
        for (var j = 0; j < pruned.length; j++) {
            var p = pruned[j];
            var index = rootNode.nodes.indexOf(p);
            if (index > -1) {
                rootNode.nodes.splice(index, 1);
            }
        }
    };
    Helper.prototype.sortDecadeNodes = function (rootNode) {
        rootNode.nodes = rootNode.nodes.sort(function (a, b) {
            return a.data.startYear - b.data.startYear;
        });
    };
    Helper.prototype.sortMonthNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            for (var j = 0; j < decadeNode.nodes.length; j++) {
                var monthNode = decadeNode.nodes[j];
                monthNode.nodes = monthNode.nodes.sort(function (a, b) {
                    return _this.getNodeMonth(a) - _this.getNodeMonth(b);
                });
            }
        }
    };
    Helper.prototype.sortYearNodes = function (rootNode) {
        var _this = this;
        for (var i = 0; i < rootNode.nodes.length; i++) {
            var decadeNode = rootNode.nodes[i];
            decadeNode.nodes = decadeNode.nodes.sort(function (a, b) {
                return (_this.getNodeYear(a) - _this.getNodeYear(b));
            });
        }
    };
    return Helper;
}());

//# sourceMappingURL=Helper.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js ***!
  \**********************************************************************/
/*! exports provided: ILabelValuePair */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return ILabelValuePair; });
var ILabelValuePair = /** @class */ (function () {
    function ILabelValuePair() {
    }
    return ILabelValuePair;
}());

//# sourceMappingURL=ILabelValuePair.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js":
/*!********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js ***!
  \********************************************************************/
/*! exports provided: MetadataGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return MetadataGroup; });
var MetadataGroup = /** @class */ (function () {
    function MetadataGroup(resource, label) {
        this.items = [];
        this.resource = resource;
        this.label = label;
    }
    MetadataGroup.prototype.addItem = function (item) {
        this.items.push(item);
    };
    MetadataGroup.prototype.addMetadata = function (metadata, isRootLevel) {
        if (isRootLevel === void 0) { isRootLevel = false; }
        for (var i = 0; i < metadata.length; i++) {
            var item = metadata[i];
            item.isRootLevel = isRootLevel;
            this.addItem(item);
        }
    };
    return MetadataGroup;
}());

//# sourceMappingURL=MetadataGroup.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js ***!
  \**********************************************************************/
/*! exports provided: MetadataOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return MetadataOptions; });
var MetadataOptions = /** @class */ (function () {
    function MetadataOptions() {
    }
    return MetadataOptions;
}());

//# sourceMappingURL=MetadataOptions.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js ***!
  \***********************************************************************/
/*! exports provided: MultiSelectState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return MultiSelectState; });
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
/* harmony import */ var manifesto_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(manifesto_js__WEBPACK_IMPORTED_MODULE_0__);

var MultiSelectState = /** @class */ (function () {
    function MultiSelectState() {
        this.isEnabled = false;
        this.ranges = [];
        this.canvases = [];
    }
    MultiSelectState.prototype.allCanvasesSelected = function () {
        return this.canvases.length > 0 && this.getAllSelectedCanvases().length === this.canvases.length;
    };
    MultiSelectState.prototype.allRangesSelected = function () {
        return this.ranges.length > 0 && this.getAllSelectedRanges().length === this.ranges.length;
    };
    MultiSelectState.prototype.allSelected = function () {
        return this.allRangesSelected() && this.allCanvasesSelected();
    };
    MultiSelectState.prototype.getAll = function () {
        return this.canvases.concat(this.ranges);
    };
    MultiSelectState.prototype.getAllSelectedCanvases = function () {
        return this.canvases.filter(function (c) { return c.multiSelected; });
    };
    MultiSelectState.prototype.getAllSelectedRanges = function () {
        return this.ranges.filter(function (r) { return r.multiSelected; });
    };
    MultiSelectState.prototype.getCanvasById = function (id) {
        return this.canvases.filter(function (c) { return manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(c.id) === manifesto_js__WEBPACK_IMPORTED_MODULE_0__["Utils"].normaliseUrl(id); })[0];
    };
    MultiSelectState.prototype.getCanvasesByIds = function (ids) {
        var canvases = [];
        for (var i = 0; i < ids.length; i++) {
            var id = ids[i];
            canvases.push(this.getCanvasById(id));
        }
        return canvases;
    };
    MultiSelectState.prototype.getRangeCanvases = function (range) {
        var ids = range.getCanvasIds();
        return this.getCanvasesByIds(ids);
    };
    MultiSelectState.prototype.selectAll = function (selected) {
        this.selectRanges(this.ranges, selected);
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvas = function (canvas, selected) {
        var c = this.canvases.filter(function (c) { return c.id === canvas.id; })[0];
        c.multiSelected = selected;
    };
    MultiSelectState.prototype.selectAllCanvases = function (selected) {
        this.selectCanvases(this.canvases, selected);
    };
    MultiSelectState.prototype.selectCanvases = function (canvases, selected) {
        for (var j = 0; j < canvases.length; j++) {
            var canvas = canvases[j];
            canvas.multiSelected = selected;
        }
    };
    MultiSelectState.prototype.selectRange = function (range, selected) {
        var r = this.ranges.filter(function (r) { return r.id === range.id; })[0];
        r.multiSelected = selected;
        var canvases = this.getRangeCanvases(r);
        this.selectCanvases(canvases, selected);
    };
    MultiSelectState.prototype.selectAllRanges = function (selected) {
        this.selectRanges(this.ranges, selected);
    };
    MultiSelectState.prototype.selectRanges = function (ranges, selected) {
        for (var i = 0; i < ranges.length; i++) {
            var range = ranges[i];
            range.multiSelected = selected;
            var canvases = this.getCanvasesByIds(range.getCanvasIds());
            this.selectCanvases(canvases, selected);
        }
    };
    MultiSelectState.prototype.setEnabled = function (enabled) {
        this.isEnabled = enabled;
        var items = this.getAll();
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.multiSelectEnabled = this.isEnabled;
            if (!enabled) {
                item.multiSelected = false;
            }
        }
    };
    return MultiSelectState;
}());

//# sourceMappingURL=MultiSelectState.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/Translation.js ***!
  \******************************************************************/
/*! exports provided: Translation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return Translation; });
var Translation = /** @class */ (function () {
    function Translation(value, locale) {
        this.value = value;
        this.locale = locale;
    }
    return Translation;
}());

//# sourceMappingURL=Translation.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js ***!
  \*******************************************************************/
/*! exports provided: TreeSortType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return TreeSortType; });
var TreeSortType;
(function (TreeSortType) {
    TreeSortType["DATE"] = "date";
    TreeSortType["NONE"] = "none";
})(TreeSortType || (TreeSortType = {}));
//# sourceMappingURL=TreeSortType.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js":
/*!******************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js ***!
  \******************************************************************/
/*! exports provided: UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return UriLabeller; });
// This class formats URIs into HTML <a> links, applying labels when available
var UriLabeller = /** @class */ (function () {
    function UriLabeller(labels) {
        this.labels = labels;
    }
    UriLabeller.prototype.format = function (url) {
        // if already a link, do nothing.
        if (url.indexOf('<a') != -1)
            return url;
        var label = (this.labels[url]) ? this.labels[url] : url;
        return '<a href="' + url + '">' + label + '</a>';
    };
    return UriLabeller;
}());

//# sourceMappingURL=UriLabeller.js.map

/***/ }),

/***/ "./node_modules/@iiif/manifold/dist-esmodule/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@iiif/manifold/dist-esmodule/index.js ***!
  \************************************************************/
/*! exports provided: loadManifest, AnnotationGroup, AnnotationRect, Bootstrapper, ExternalResource, Helper, ILabelValuePair, MetadataGroup, MetadataOptions, MultiSelectState, Translation, TreeSortType, UriLabeller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadManifest", function() { return loadManifest; });
/* harmony import */ var _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnnotationGroup */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationGroup", function() { return _AnnotationGroup__WEBPACK_IMPORTED_MODULE_0__["AnnotationGroup"]; });

/* harmony import */ var _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnnotationRect */ "./node_modules/@iiif/manifold/dist-esmodule/AnnotationRect.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AnnotationRect", function() { return _AnnotationRect__WEBPACK_IMPORTED_MODULE_1__["AnnotationRect"]; });

/* harmony import */ var _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Bootstrapper */ "./node_modules/@iiif/manifold/dist-esmodule/Bootstrapper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Bootstrapper", function() { return _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"]; });

/* harmony import */ var _ExternalResource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ExternalResource */ "./node_modules/@iiif/manifold/dist-esmodule/ExternalResource.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExternalResource", function() { return _ExternalResource__WEBPACK_IMPORTED_MODULE_3__["ExternalResource"]; });

/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Helper */ "./node_modules/@iiif/manifold/dist-esmodule/Helper.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Helper", function() { return _Helper__WEBPACK_IMPORTED_MODULE_4__["Helper"]; });

/* harmony import */ var _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ILabelValuePair */ "./node_modules/@iiif/manifold/dist-esmodule/ILabelValuePair.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabelValuePair", function() { return _ILabelValuePair__WEBPACK_IMPORTED_MODULE_5__["ILabelValuePair"]; });

/* harmony import */ var _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MetadataGroup */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataGroup", function() { return _MetadataGroup__WEBPACK_IMPORTED_MODULE_6__["MetadataGroup"]; });

/* harmony import */ var _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MetadataOptions */ "./node_modules/@iiif/manifold/dist-esmodule/MetadataOptions.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataOptions", function() { return _MetadataOptions__WEBPACK_IMPORTED_MODULE_7__["MetadataOptions"]; });

/* harmony import */ var _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MultiSelectState */ "./node_modules/@iiif/manifold/dist-esmodule/MultiSelectState.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MultiSelectState", function() { return _MultiSelectState__WEBPACK_IMPORTED_MODULE_8__["MultiSelectState"]; });

/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Translation */ "./node_modules/@iiif/manifold/dist-esmodule/Translation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Translation", function() { return _Translation__WEBPACK_IMPORTED_MODULE_9__["Translation"]; });

/* harmony import */ var _TreeSortType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TreeSortType */ "./node_modules/@iiif/manifold/dist-esmodule/TreeSortType.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TreeSortType", function() { return _TreeSortType__WEBPACK_IMPORTED_MODULE_10__["TreeSortType"]; });

/* harmony import */ var _UriLabeller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UriLabeller */ "./node_modules/@iiif/manifold/dist-esmodule/UriLabeller.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UriLabeller", function() { return _UriLabeller__WEBPACK_IMPORTED_MODULE_11__["UriLabeller"]; });














var loadManifest = function (options) {
    return new _Bootstrapper__WEBPACK_IMPORTED_MODULE_2__["Bootstrapper"](options).bootstrap();
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@iiif/vocabulary/dist-esmodule/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@iiif/vocabulary/dist-esmodule/index.js ***!
  \**************************************************************/
/*! exports provided: AnnotationMotivation, Behavior, ExternalResourceType, IIIFResourceType, MediaType, RenderingFormat, ServiceProfile, ViewingDirection, ViewingHint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationMotivation", function() { return AnnotationMotivation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Behavior", function() { return Behavior; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalResourceType", function() { return ExternalResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IIIFResourceType", function() { return IIIFResourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaType", function() { return MediaType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderingFormat", function() { return RenderingFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiceProfile", function() { return ServiceProfile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingDirection", function() { return ViewingDirection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewingHint", function() { return ViewingHint; });
var AnnotationMotivation;
(function (AnnotationMotivation) {
    AnnotationMotivation["BOOKMARKING"] = "oa:bookmarking";
    AnnotationMotivation["CLASSIFYING"] = "oa:classifying";
    AnnotationMotivation["COMMENTING"] = "oa:commenting";
    AnnotationMotivation["DESCRIBING"] = "oa:describing";
    AnnotationMotivation["EDITING"] = "oa:editing";
    AnnotationMotivation["HIGHLIGHTING"] = "oa:highlighting";
    AnnotationMotivation["IDENTIFYING"] = "oa:identifying";
    AnnotationMotivation["LINKING"] = "oa:linking";
    AnnotationMotivation["MODERATING"] = "oa:moderating";
    AnnotationMotivation["PAINTING"] = "sc:painting";
    AnnotationMotivation["QUESTIONING"] = "oa:questioning";
    AnnotationMotivation["REPLYING"] = "oa:replying";
    AnnotationMotivation["TAGGING"] = "oa:tagging";
    AnnotationMotivation["TRANSCRIBING"] = "oad:transcribing";
})(AnnotationMotivation || (AnnotationMotivation = {}));
var Behavior;
(function (Behavior) {
    Behavior["AUTO_ADVANCE"] = "auto-advance";
    Behavior["CONTINUOUS"] = "continuous";
    Behavior["FACING_PAGES"] = "facing-pages";
    Behavior["HIDDEN"] = "hidden";
    Behavior["INDIVIDUALS"] = "individuals";
    Behavior["MULTI_PART"] = "multi-part";
    Behavior["NO_NAV"] = "no-nav";
    Behavior["NON_PAGED"] = "non-paged";
    Behavior["PAGED"] = "paged";
    Behavior["REPEAT"] = "repeat";
    Behavior["SEQUENCE"] = "sequence";
    Behavior["THUMBNAIL_NAV"] = "thumbnail-nav";
    Behavior["TOGETHER"] = "together";
    Behavior["UNORDERED"] = "unordered";
})(Behavior || (Behavior = {}));
var ExternalResourceType;
(function (ExternalResourceType) {
    ExternalResourceType["CANVAS"] = "canvas";
    ExternalResourceType["CHOICE"] = "choice";
    ExternalResourceType["CONTENT_AS_TEXT"] = "contentastext";
    ExternalResourceType["DATASET"] = "dataset";
    ExternalResourceType["DOCUMENT"] = "document";
    ExternalResourceType["IMAGE"] = "image";
    ExternalResourceType["MODEL"] = "model";
    ExternalResourceType["MOVING_IMAGE"] = "movingimage";
    ExternalResourceType["PDF"] = "pdf";
    ExternalResourceType["PHYSICAL_OBJECT"] = "physicalobject";
    ExternalResourceType["SOUND"] = "sound";
    ExternalResourceType["TEXT"] = "text";
    ExternalResourceType["TEXTUALBODY"] = "textualbody";
    ExternalResourceType["VIDEO"] = "video";
})(ExternalResourceType || (ExternalResourceType = {}));
var IIIFResourceType;
(function (IIIFResourceType) {
    IIIFResourceType["ANNOTATION"] = "annotation";
    IIIFResourceType["CANVAS"] = "canvas";
    IIIFResourceType["COLLECTION"] = "collection";
    IIIFResourceType["MANIFEST"] = "manifest";
    IIIFResourceType["RANGE"] = "range";
    IIIFResourceType["SEQUENCE"] = "sequence";
})(IIIFResourceType || (IIIFResourceType = {}));
var MediaType;
(function (MediaType) {
    MediaType["AUDIO_MP4"] = "audio/mp4";
    MediaType["CORTO"] = "application/corto";
    MediaType["DRACO"] = "application/draco";
    MediaType["EPUB"] = "application/epub+zip";
    MediaType["GLTF"] = "model/gltf+json";
    MediaType["JPG"] = "image/jpeg";
    MediaType["M3U8"] = "application/vnd.apple.mpegurl";
    MediaType["MP3"] = "audio/mp3";
    MediaType["MPEG_DASH"] = "application/dash+xml";
    MediaType["OBJ"] = "text/plain";
    MediaType["OPF"] = "application/oebps-package+xml";
    MediaType["PDF"] = "application/pdf";
    MediaType["PLY"] = "application/ply";
    MediaType["THREEJS"] = "application/vnd.threejs+json";
    MediaType["VIDEO_MP4"] = "video/mp4";
    MediaType["WEBM"] = "video/webm";
})(MediaType || (MediaType = {}));
var RenderingFormat;
(function (RenderingFormat) {
    RenderingFormat["DOC"] = "application/msword";
    RenderingFormat["DOCX"] = "application/vnd.openxmlformats-officedocument.wordprocessingml.document";
    RenderingFormat["PDF"] = "application/pdf";
})(RenderingFormat || (RenderingFormat = {}));
var ServiceProfile;
(function (ServiceProfile) {
    // image api
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level0";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level1";
    ServiceProfile["IMAGE_0_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/compliance.html#level2";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level0";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level1";
    ServiceProfile["IMAGE_0_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/conformance.html#level2";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1";
    ServiceProfile["IMAGE_1_COMPLIANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_0"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_1"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1";
    ServiceProfile["IMAGE_1_CONFORMANCE_LEVEL_2"] = "http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2";
    ServiceProfile["IMAGE_1_LEVEL_0"] = "http://iiif.io/api/image/1/level0.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/1/profiles/level0.json";
    ServiceProfile["IMAGE_1_LEVEL_1"] = "http://iiif.io/api/image/1/level1.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/1/profiles/level1.json";
    ServiceProfile["IMAGE_1_LEVEL_2"] = "http://iiif.io/api/image/1/level2.json";
    ServiceProfile["IMAGE_1_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/1/profiles/level2.json";
    ServiceProfile["IMAGE_2_LEVEL_0"] = "http://iiif.io/api/image/2/level0.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_0"] = "http://iiif.io/api/image/2/profiles/level0.json";
    ServiceProfile["IMAGE_2_LEVEL_1"] = "http://iiif.io/api/image/2/level1.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_1"] = "http://iiif.io/api/image/2/profiles/level1.json";
    ServiceProfile["IMAGE_2_LEVEL_2"] = "http://iiif.io/api/image/2/level2.json";
    ServiceProfile["IMAGE_2_PROFILE_LEVEL_2"] = "http://iiif.io/api/image/2/profiles/level2.json";
    // auth api
    ServiceProfile["AUTH_0_CLICK_THROUGH"] = "http://iiif.io/api/auth/0/login/clickthrough";
    ServiceProfile["AUTH_0_LOGIN"] = "http://iiif.io/api/auth/0/login";
    ServiceProfile["AUTH_0_LOGOUT"] = "http://iiif.io/api/auth/0/logout";
    ServiceProfile["AUTH_0_RESTRICTED"] = "http://iiif.io/api/auth/0/login/restricted";
    ServiceProfile["AUTH_0_TOKEN"] = "http://iiif.io/api/auth/0/token";
    ServiceProfile["AUTH_1_CLICK_THROUGH"] = "http://iiif.io/api/auth/1/clickthrough";
    ServiceProfile["AUTH_1_EXTERNAL"] = "http://iiif.io/api/auth/1/external";
    ServiceProfile["AUTH_1_KIOSK"] = "http://iiif.io/api/auth/1/kiosk";
    ServiceProfile["AUTH_1_LOGIN"] = "http://iiif.io/api/auth/1/login";
    ServiceProfile["AUTH_1_LOGOUT"] = "http://iiif.io/api/auth/1/logout";
    ServiceProfile["AUTH_1_PROBE"] = "http://iiif.io/api/auth/1/probe";
    ServiceProfile["AUTH_1_TOKEN"] = "http://iiif.io/api/auth/1/token";
    // search api
    ServiceProfile["SEARCH_0"] = "http://iiif.io/api/search/0/search";
    ServiceProfile["SEARCH_0_AUTO_COMPLETE"] = "http://iiif.io/api/search/0/autocomplete";
    ServiceProfile["SEARCH_1"] = "http://iiif.io/api/search/1/search";
    ServiceProfile["SEARCH_1_AUTO_COMPLETE"] = "http://iiif.io/api/search/1/autocomplete";
    // extensions
    ServiceProfile["TRACKING_EXTENSIONS"] = "http://universalviewer.io/tracking-extensions-profile";
    ServiceProfile["UI_EXTENSIONS"] = "http://universalviewer.io/ui-extensions-profile";
    ServiceProfile["PRINT_EXTENSIONS"] = "http://universalviewer.io/print-extensions-profile";
    ServiceProfile["SHARE_EXTENSIONS"] = "http://universalviewer.io/share-extensions-profile";
    // other
    ServiceProfile["OTHER_MANIFESTATIONS"] = "http://iiif.io/api/otherManifestations.json";
    ServiceProfile["IXIF"] = "http://wellcomelibrary.org/ld/ixif/0/alpha.json";
})(ServiceProfile || (ServiceProfile = {}));
var ViewingDirection;
(function (ViewingDirection) {
    ViewingDirection["BOTTOM_TO_TOP"] = "bottom-to-top";
    ViewingDirection["LEFT_TO_RIGHT"] = "left-to-right";
    ViewingDirection["RIGHT_TO_LEFT"] = "right-to-left";
    ViewingDirection["TOP_TO_BOTTOM"] = "top-to-bottom";
})(ViewingDirection || (ViewingDirection = {}));
var ViewingHint;
(function (ViewingHint) {
    ViewingHint["CONTINUOUS"] = "continuous";
    ViewingHint["INDIVIDUALS"] = "individuals";
    ViewingHint["NON_PAGED"] = "non-paged";
    ViewingHint["PAGED"] = "paged";
    ViewingHint["TOP"] = "top";
})(ViewingHint || (ViewingHint = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/banana-i18n/dist/banana-i18n.js":
/*!******************************************************!*\
  !*** ./node_modules/banana-i18n/dist/banana-i18n.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(u,e){ true?module.exports=e():undefined}(this,(function(){return function(u){var e={};function d(r){if(e[r])return e[r].exports;var t=e[r]={i:r,l:!1,exports:{}};return u[r].call(t.exports,t,t.exports,d),t.l=!0,t.exports}return d.m=u,d.c=e,d.d=function(u,e,r){d.o(u,e)||Object.defineProperty(u,e,{enumerable:!0,get:r})},d.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},d.t=function(u,e){if(1&e&&(u=d(u)),8&e)return u;if(4&e&&"object"==typeof u&&u&&u.__esModule)return u;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:u}),2&e&&"string"!=typeof u)for(var t in u)d.d(r,t,function(e){return u[e]}.bind(null,t));return r},d.n=function(u){var e=u&&u.__esModule?function(){return u.default}:function(){return u};return d.d(e,"a",e),e},d.o=function(u,e){return Object.prototype.hasOwnProperty.call(u,e)},d.p="",d(d.s=2)}([function(u){u.exports=JSON.parse('{"ar":"٠١٢٣٤٥٦٧٨٩","fa":"۰۱۲۳۴۵۶۷۸۹","ml":"൦൧൨൩൪൫൬൭൮൯","kn":"೦೧೨೩೪೫೬೭೮೯","lo":"໐໑໒໓໔໕໖໗໘໙","or":"୦୧୨୩୪୫୬୭୮୯","kh":"០១២៣៤៥៦៧៨៩","nqo":"߀߁߂߃߄߅߆߇߈߉","pa":"੦੧੨੩੪੫੬੭੮੯","gu":"૦૧૨૩૪૫૬૭૮૯","hi":"०१२३४५६७८९","my":"၀၁၂၃၄၅၆၇၈၉","ta":"௦௧௨௩௪௫௬௭௮௯","te":"౦౧౨౩౪౫౬౭౮౯","th":"๐๑๒๓๔๕๖๗๘๙","bo":"༠༡༢༣༤༥༦༧༨༩"}')},function(u){u.exports=JSON.parse('{"ab":["ru"],"ace":["id"],"aln":["sq"],"als":["gsw","de"],"an":["es"],"anp":["hi"],"arn":["es"],"arz":["ar"],"av":["ru"],"ay":["es"],"ba":["ru"],"bar":["de"],"bat-smg":["sgs","lt"],"bcc":["fa"],"be-x-old":["be-tarask"],"bh":["bho"],"bjn":["id"],"bm":["fr"],"bpy":["bn"],"bqi":["fa"],"bug":["id"],"cbk-zam":["es"],"ce":["ru"],"crh":["crh-latn"],"crh-cyrl":["ru"],"csb":["pl"],"cv":["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],"dsb":["de"],"dtp":["ms"],"egl":["it"],"eml":["it"],"ff":["fr"],"fit":["fi"],"fiu-vro":["vro","et"],"frc":["fr"],"frp":["fr"],"frr":["de"],"fur":["it"],"gag":["tr"],"gan":["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],"gl":["pt"],"glk":["fa"],"gn":["es"],"gsw":["de"],"hif":["hif-latn"],"hsb":["de"],"ht":["fr"],"ii":["zh-cn","zh-hans"],"inh":["ru"],"iu":["ike-cans"],"jut":["da"],"jv":["id"],"kaa":["kk-latn","kk-cyrl"],"kbd":["kbd-cyrl"],"khw":["ur"],"kiu":["tr"],"kk":["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],"kl":["da"],"ko-kp":["ko"],"koi":["ru"],"krc":["ru"],"ks":["ks-arab"],"ksh":["de"],"ku":["ku-latn"],"ku-arab":["ckb"],"kv":["ru"],"lad":["es"],"lb":["de"],"lbe":["ru"],"lez":["ru"],"li":["nl"],"lij":["it"],"liv":["et"],"lmo":["it"],"ln":["fr"],"ltg":["lv"],"lzz":["tr"],"mai":["hi"],"map-bms":["jv","id"],"mg":["fr"],"mhr":["ru"],"min":["id"],"mo":["ro"],"mrj":["ru"],"mwl":["pt"],"myv":["ru"],"mzn":["fa"],"nah":["es"],"nap":["it"],"nds":["de"],"nds-nl":["nl"],"nl-informal":["nl"],"no":["nb"],"os":["ru"],"pcd":["fr"],"pdc":["de"],"pdt":["de"],"pfl":["de"],"pms":["it"],"pt":["pt-br"],"pt-br":["pt"],"qu":["es"],"qug":["qu","es"],"rgn":["it"],"rmy":["ro"],"roa-rup":["rup"],"rue":["uk","ru"],"ruq":["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],"sa":["hi"],"sah":["ru"],"scn":["it"],"sg":["fr"],"sgs":["lt"],"sli":["de"],"sr":["sr-ec"],"srn":["nl"],"stq":["de"],"su":["id"],"szl":["pl"],"tcy":["kn"],"tg":["tg-cyrl"],"tt":["tt-cyrl","ru"],"tt-cyrl":["ru"],"ty":["fr"],"udm":["ru"],"ug":["ug-arab"],"uk":["ru"],"vec":["it"],"vep":["et"],"vls":["nl"],"vmf":["de"],"vot":["fi"],"vro":["et"],"wa":["fr"],"wo":["fr"],"wuu":["zh-hans"],"xal":["ru"],"xmf":["ka"],"yi":["he"],"za":["zh-hans"],"zea":["nl"],"zh":["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]}')},function(u,e,d){"use strict";d.r(e);var r=d(0);class t{constructor(u){this.locale=u}convertPlural(u,e){var d=new RegExp("\\d+=","i");if(!e||0===e.length)return"";for(let r=0;r<e.length;r++){let t=e[r];if(d.test(t)){if(parseInt(t.slice(0,t.indexOf("=")),10)===u)return t.slice(t.indexOf("=")+1);e[r]=void 0}}e=e.filter(u=>!!u);let r=this.getPluralForm(u,this.locale);return r=Math.min(r,e.length-1),e[r]}getPluralForm(u,e){const d=new Intl.PluralRules(e),r=d.resolvedOptions().pluralCategories,t=d.select(u);return["zero","one","two","few","many","other"].filter(u=>r.includes(u)).indexOf(t)}convertNumber(u,e){let d=this.digitTransformTable(this.locale),r=String(u),t="";if(!d)return u;if(e){if(parseFloat(u,10)===u)return u;let e=[];for(let u in d)e[d[u]]=u;d=e}for(let u=0;u<r.length;u++)d[r[u]]?t+=d[r[u]]:t+=r[u];return e?parseFloat(t,10):t}convertGrammar(u,e){return u}gender(u,e){if(!e||0===e.length)return"";for(;e.length<2;)e.push(e[e.length-1]);return"male"===u?e[0]:"female"===u?e[1]:3===e.length?e[2]:e[0]}digitTransformTable(u){return!!r[u]&&r[u].split("")}}var a={bs:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="s "+u;break;case"lokativ":u="o "+u}return u}},default:t,dsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},fi:class extends t{convertGrammar(u,e){let d=u.match(/[aou][^äöy]*$/i),r=u;switch(u.match(/wiki$/i)&&(d=!1),u.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(u+="i"),e){case"genitive":u+="n";break;case"elative":u+=d?"sta":"stä";break;case"partitive":u+=d?"a":"ä";break;case"illative":u+=u.slice(-1)+"n";break;case"inessive":u+=d?"ssa":"ssä";break;default:u=r}return u}},ga:class extends t{convertGrammar(u,e){if("ainmlae"===e)switch(u){case"an Domhnach":u="Dé Domhnaigh";break;case"an Luan":u="Dé Luain";break;case"an Mháirt":u="Dé Mháirt";break;case"an Chéadaoin":u="Dé Chéadaoin";break;case"an Déardaoin":u="Déardaoin";break;case"an Aoine":u="Dé hAoine";break;case"an Satharn":u="Dé Sathairn"}return u}},he:class extends t{convertGrammar(u,e){switch(e){case"prefixed":case"תחילית":"ו"===u.slice(0,1)&&"וו"!==u.slice(0,2)&&(u="ו"+u),"ה"===u.slice(0,1)&&(u=u.slice(1)),(u.slice(0,1)<"א"||u.slice(0,1)>"ת")&&(u="־"+u)}return u}},hsb:class extends t{convertGrammar(u,e){switch(e){case"instrumental":u="z "+u;break;case"lokatiw":u="wo "+u}return u}},hu:class extends t{convertGrammar(u,e){switch(e){case"rol":u+="ról";break;case"ba":u+="ba";break;case"k":u+="k"}return u}},hy:class extends t{convertGrammar(u,e){return"genitive"===e&&("ա"===u.slice(-1)?u=u.slice(0,-1)+"այի":"ո"===u.slice(-1)?u=u.slice(0,-1)+"ոյի":"գիրք"===u.slice(-4)?u=u.slice(0,-4)+"գրքի":u+="ի"),u}},la:class extends t{convertGrammar(u,e){switch(e){case"genitive":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"i")).replace(/ommunia$/i,"ommunium")).replace(/a$/i,"ae")).replace(/libri$/i,"librorum")).replace(/nuntii$/i,"nuntiorum")).replace(/tio$/i,"tionis")).replace(/ns$/i,"ntis")).replace(/as$/i,"atis")).replace(/es$/i,"ei");break;case"accusative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"um")).replace(/ommunia$/i,"am")).replace(/a$/i,"ommunia")).replace(/libri$/i,"libros")).replace(/nuntii$/i,"nuntios")).replace(/tio$/i,"tionem")).replace(/ns$/i,"ntem")).replace(/as$/i,"atem")).replace(/es$/i,"em");break;case"ablative":u=(u=(u=(u=(u=(u=(u=(u=(u=u.replace(/u[ms]$/i,"o")).replace(/ommunia$/i,"ommunibus")).replace(/a$/i,"a")).replace(/libri$/i,"libris")).replace(/nuntii$/i,"nuntiis")).replace(/tio$/i,"tione")).replace(/ns$/i,"nte")).replace(/as$/i,"ate")).replace(/es$/i,"e")}return u}},os:class extends t{convertGrammar(u,e){var d,r,t,a;switch(d="мæ",r="",t="",a="",u.match(/тæ$/i)?(u=u.slice(0,-1),d="æм"):u.match(/[аæеёиоыэюя]$/i)?r="й":u.match(/у$/i)?u.slice(-2,-1).match(/[аæеёиоыэюя]$/i)||(r="й"):u.match(/[бвгджзйклмнопрстфхцчшщьъ]$/i)||(t="-"),e){case"genitive":a=t+r+"ы";break;case"dative":a=t+r+"æн";break;case"allative":a=t+d;break;case"ablative":a="й"===r?t+r+"æ":t+r+"æй";break;case"superessive":a=t+r+"ыл";break;case"equative":a=t+r+"ау";break;case"comitative":a=t+"имæ"}return u+a}},ru:class extends t{convertGrammar(u,e){return"genitive"===e&&("ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ия"===u.slice(-2)?u=u.slice(0,-2)+"ии":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника")),u}},sl:class extends t{convertGrammar(u,e){switch(e){case"mestnik":u="o "+u;break;case"orodnik":u="z "+u}return u}},uk:class extends t{convertGrammar(u,e){switch(e){case"genitive":"ь"===u.slice(-1)?u=u.slice(0,-1)+"я":"ія"===u.slice(-2)?u=u.slice(0,-2)+"ії":"ка"===u.slice(-2)?u=u.slice(0,-2)+"ки":"ти"===u.slice(-2)?u=u.slice(0,-2)+"тей":"ды"===u.slice(-2)?u=u.slice(0,-2)+"дов":"ник"===u.slice(-3)&&(u=u.slice(0,-3)+"ника");break;case"accusative":"ія"===u.slice(-2)&&(u=u.slice(0,-2)+"ію")}return u}}};const n=new RegExp("(?:([A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁːˑˠ-ˤˮͰ-ͳͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-҂Ҋ-ԯԱ-Ֆՙ-՟ա-և։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ঀংঃঅ-ঌএঐও-নপ-রলশ-হঽ-ীেৈোৌৎৗড়ঢ়য়-ৡ০-ৱ৴-৺ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ીૉોૌૐૠૡ૦-૰ૹଂଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽାୀେୈୋୌୗଡ଼ଢ଼ୟ-ୡ୦-୷ஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹாிுூெ-ைொ-ௌௐௗ௦-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౚౠౡ౦-౯౿ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊೋೕೖೞೠೡ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ീെ-ൈൊ-ൌൎൗൟ-ൡ൦-൵൹-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-෴ก-ะาำเ-ๆ๏-๛ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆ໐-໙ໜ-ໟༀ-༗༚-༴༶༸༾-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿚က-ာေးျြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃႄႇ-ႌႎ-ႜ႞-ჅჇჍა-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፼ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙿᚁ-ᚚᚠ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះៈ។-៚ៜ០-៩᠐-᠙ᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸ᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧚ᨀ-ᨖᨙᨚ᨞-ᩕᩗᩡᩣᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-ᭋ᭐-᭪᭴-᭼ᮂ-ᮡᮦᮧ᮪ᮮ-ᯥᯧᯪ-ᯬᯮ᯲᯳᯼-ᰫᰴᰵ᰻-᱉ᱍ-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〮〯〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎ㆐-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿕ꀀ-ꒌꓐ-ꘌꘐ-ꘫꙀ-ꙮꚀ-ꚝꚠ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꣽ꤀-ꤥ꤮-ꥆꥒ꥓꥟-ꥼꦃ-ꦲꦴꦵꦺꦻꦽ-꧍ꧏ-꧙꧞-ꧤꧦ-ꧾꨀ-ꨨꨯꨰꨳꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-ꩻꩽ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫫꫮ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭥꭰ-ꯤꯦꯧꯩ-꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]|\ud800[\udc00-\udc0b]|\ud800[\udc0d-\udc26]|\ud800[\udc28-\udc3a]|𐀼|𐀽|\ud800[\udc3f-\udc4d]|\ud800[\udc50-\udc5d]|\ud800[\udc80-\udcfa]|𐄀|𐄂|\ud800[\udd07-\udd33]|\ud800[\udd37-\udd3f]|\ud800[\uddd0-\uddfc]|\ud800[\ude80-\ude9c]|\ud800[\udea0-\uded0]|\ud800[\udf00-\udf23]|\ud800[\udf30-\udf4a]|\ud800[\udf50-\udf75]|\ud800[\udf80-\udf9d]|\ud800[\udf9f-\udfc3]|\ud800[\udfc8-\udfd5]|\ud801[\udc00-\udc9d]|\ud801[\udca0-\udca9]|\ud801[\udd00-\udd27]|\ud801[\udd30-\udd63]|𐕯|\ud801[\ude00-\udf36]|\ud801[\udf40-\udf55]|\ud801[\udf60-\udf67]|𑀀|\ud804[\udc02-\udc37]|\ud804[\udc47-\udc4d]|\ud804[\udc66-\udc6f]|\ud804[\udc82-\udcb2]|𑂷|𑂸|\ud804[\udcbb-\udcc1]|\ud804[\udcd0-\udce8]|\ud804[\udcf0-\udcf9]|\ud804[\udd03-\udd26]|𑄬|\ud804[\udd36-\udd43]|\ud804[\udd50-\udd72]|\ud804[\udd74-\udd76]|\ud804[\udd82-\uddb5]|\ud804[\uddbf-\uddc9]|𑇍|\ud804[\uddd0-\udddf]|\ud804[\udde1-\uddf4]|\ud804[\ude00-\ude11]|\ud804[\ude13-\ude2e]|𑈲|𑈳|𑈵|\ud804[\ude38-\ude3d]|\ud804[\ude80-\ude86]|𑊈|\ud804[\ude8a-\ude8d]|\ud804[\ude8f-\ude9d]|\ud804[\ude9f-\udea9]|\ud804[\udeb0-\udede]|\ud804[\udee0-\udee2]|\ud804[\udef0-\udef9]|𑌂|𑌃|\ud804[\udf05-\udf0c]|𑌏|𑌐|\ud804[\udf13-\udf28]|\ud804[\udf2a-\udf30]|𑌲|𑌳|\ud804[\udf35-\udf39]|\ud804[\udf3d-\udf3f]|\ud804[\udf41-\udf44]|𑍇|𑍈|\ud804[\udf4b-\udf4d]|𑍐|𑍗|\ud804[\udf5d-\udf63]|\ud805[\udc80-\udcb2]|𑒹|\ud805[\udcbb-\udcbe]|𑓁|\ud805[\udcc4-\udcc7]|\ud805[\udcd0-\udcd9]|\ud805[\udd80-\uddb1]|\ud805[\uddb8-\uddbb]|𑖾|\ud805[\uddc1-\udddb]|\ud805[\ude00-\ude32]|𑘻|𑘼|𑘾|\ud805[\ude41-\ude44]|\ud805[\ude50-\ude59]|\ud805[\ude80-\udeaa]|𑚬|𑚮|𑚯|𑚶|\ud805[\udec0-\udec9]|\ud805[\udf00-\udf19]|𑜠|𑜡|𑜦|\ud805[\udf30-\udf3f]|\ud806[\udca0-\udcf2]|𑣿|\ud806[\udec0-\udef8]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e]|\ud809[\udc70-\udc74]|\ud809[\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38]|\ud81a[\ude40-\ude5e]|\ud81a[\ude60-\ude69]|𖩮|𖩯|\ud81a[\uded0-\udeed]|𖫵|\ud81a[\udf00-\udf2f]|\ud81a[\udf37-\udf45]|\ud81a[\udf50-\udf59]|\ud81a[\udf5b-\udf61]|\ud81a[\udf63-\udf77]|\ud81a[\udf7d-\udf8f]|\ud81b[\udf00-\udf44]|\ud81b[\udf50-\udf7e]|\ud81b[\udf93-\udf9f]|𛀀|𛀁|\ud82f[\udc00-\udc6a]|\ud82f[\udc70-\udc7c]|\ud82f[\udc80-\udc88]|\ud82f[\udc90-\udc99]|𛲜|𛲟|\ud834[\udc00-\udcf5]|\ud834[\udd00-\udd26]|\ud834[\udd29-\udd66]|\ud834[\udd6a-\udd72]|𝆃|𝆄|\ud834[\udd8c-\udda9]|\ud834[\uddae-\udde8]|\ud834[\udf60-\udf71]|\ud835[\udc00-\udc54]|\ud835[\udc56-\udc9c]|𝒞|𝒟|𝒢|𝒥|𝒦|\ud835[\udca9-\udcac]|\ud835[\udcae-\udcb9]|𝒻|\ud835[\udcbd-\udcc3]|\ud835[\udcc5-\udd05]|\ud835[\udd07-\udd0a]|\ud835[\udd0d-\udd14]|\ud835[\udd16-\udd1c]|\ud835[\udd1e-\udd39]|\ud835[\udd3b-\udd3e]|\ud835[\udd40-\udd44]|𝕆|\ud835[\udd4a-\udd50]|\ud835[\udd52-\udea5]|\ud835[\udea8-\udeda]|\ud835[\udedc-\udf14]|\ud835[\udf16-\udf4e]|\ud835[\udf50-\udf88]|\ud835[\udf8a-\udfc2]|\ud835[\udfc4-\udfcb]|\ud836[\udc00-\uddff]|\ud836[\ude37-\ude3a]|\ud836[\ude6d-\ude74]|\ud836[\ude76-\ude83]|\ud836[\ude85-\ude8b]|\ud83c[\udd10-\udd2e]|\ud83c[\udd30-\udd69]|\ud83c[\udd70-\udd9a]|\ud83c[\udde6-\ude02]|\ud83c[\ude10-\ude3a]|\ud83c[\ude40-\ude48]|🉐|🉑|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6]|\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34]|\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]|[\udb80-\udbbe][\udc00-\udfff]|\udbbf[\udc00-\udffd]|[\udbc0-\udbfe][\udc00-\udfff]|\udbff[\udc00-\udffd])|([֐־׀׃׆׈-׿߀-ߪߴߵߺ-ࠕࠚࠤࠨ࠮-ࡘ࡜-࢟‏יִײַ-ﬨשׁ-ﭏ؈؋؍؛-ي٭-ٯٱ-ەۥۦۮۯۺ-ܐܒ-ܯ݋-ޥޱ-޿ࢠ-࣢ﭐ-ﴽ﵀-﷏ﷰ-﷼﷾﷿ﹰ-﻾]|\ud802[\udc00-\udd1e]|\ud802[\udd20-\ude00]|𐨄|\ud802[\ude07-\ude0b]|\ud802[\ude10-\ude37]|\ud802[\ude3b-\ude3e]|\ud802[\ude40-\udee4]|\ud802[\udee7-\udf38]|\ud802[\udf40-\udfff]|\ud803[\udc00-\ude5f]|\ud803[\ude7f-\udfff]|\ud83a[\udc00-\udccf]|\ud83a[\udcd7-\udfff]|\ud83b[\udc00-\uddff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\udf00-\udfff]|\ud83b[\ude00-\udeef]|\ud83b[\udef2-\udeff]))");var c=class{constructor(u){this.locale=u,this.language=new(a[u]||a.default)(u)}emit(u,e){let d,r,t;switch(typeof u){case"string":case"number":d=u;break;case"object":if(r=u.slice(1).map(u=>this.emit(u,e)),t=u[0].toLowerCase(),"function"!=typeof this[t])throw new Error('unknown operation "'+t+'"');d=this[t](r,e);break;case"undefined":d="";break;default:throw new Error("unexpected type in AST: "+typeof u)}return d}concat(u){let e="";return u.forEach(u=>{e+=u}),e}replace(u,e){let d=parseInt(u[0],10);return d<e.length?e[d]:"$"+(d+1)}plural(u){let e=parseFloat(this.language.convertNumber(u[0],10)),d=u.slice(1);return d.length?this.language.convertPlural(e,d):""}gender(u){let e=u[0],d=u.slice(1);return this.language.gender(e,d)}grammar(u){let e=u[0],d=u[1];return d&&e&&this.language.convertGrammar(d,e)}bidi(u){var e=function(u){var e=u.match(n);if(!e)return null;if(void 0===e[2])return"ltr";return"rtl"}(u[0]);return"ltr"===e?"‪"+u[0]+"‬":"rtl"===e?"‫"+u[0]+"‬":u[0]}};function l(u){let e,d,r,t,a,n,c,l,s,i,f,o,h,b,m,p,k,g,v=0;function z(u){return()=>{for(let e=0;e<u.length;e++){let d=u[e]();if(null!==d)return d}return null}}function w(u){let e=v,d=[];for(let r=0;r<u.length;r++){let t=u[r]();if(null===t)return v=e,null;d.push(t)}return d}function y(u,e){return()=>{let d=v,r=[],t=e();for(;null!==t;)r.push(t),t=e();return r.length<u?(v=d,null):r}}function $(e){let d=e.length;return()=>{let r=null;return u.slice(v,v+d)===e&&(r=e,v+=d),r}}function x(e){return()=>{let d=u.slice(v).match(e);return null===d?null:(v+=d[0].length,d[0])}}function j(){let u=w([r,t]);return null===u?null:u[1]}function M(){let u=w([a,n]);return null===u?null:["REPLACE",parseInt(u[1],10)-1]}var O,S;function G(){let u=w([e,y(0,k)]);if(null===u)return null;let d=u[1];return d.length>1?["CONCAT"].concat(d):d[0]}function P(){let u=w([h,d,M]);return null===u?null:[u[0],u[2]]}function q(){let u=w([h,d,k]);return null===u?null:[u[0],u[2]]}function F(){let u=w([b,o,m]);return null===u?null:u[1]}if(e=$("|"),d=$(":"),r=$("\\"),t=x(/^./),a=$("$"),n=x(/^\d+/),c=x(/^[^{}[\]$\\]/),l=x(/^[^{}[\]$\\|]/),s=x(/^[^{}[\]$\s]/),z([j,s]),i=z([j,l]),f=z([j,c]),O=x(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),S=function(u){return u.toString()},h=()=>{let u=O();return null===u?null:S(u)},o=z([function(){let u=w([z([P,q]),y(0,G)]);return null===u?null:u[0].concat(u[1])},function(){let u=w([h,y(0,G)]);return null===u?null:[u[0]].concat(u[1])}]),b=$("{{"),m=$("}}"),p=z([F,M,function(){let u=y(1,f)();return null===u?null:u.join("")}]),k=z([F,M,function(){let u=y(1,i)();return null===u?null:u.join("")}]),g=function(){let u=y(0,p)();return null===u?null:["CONCAT"].concat(u)}(),null===g||v!==u.length)throw new Error("Parse error at position "+v.toString()+" in input: "+u);return g}class s{constructor(u){this.locale=u,this.emitter=new c(this.locale)}parse(u,e){if(u.includes("{{")){let d=new l(u);return this.emitter.emit(d,e)}return this.simpleParse(u,e)}simpleParse(u,e){return u.replace(/\$(\d+)/g,(u,d)=>{let r=parseInt(d,10)-1;return void 0!==e[r]?e[r]:"$"+d})}}class i{constructor(u){this.sourceMap=new Map}load(u,e){if("object"!=typeof u)throw Error("Invalid message source. Must be an object");if(e){if(!/^[a-zA-Z0-9-]+$/.test(e))throw Error(`Invalid locale ${e}`);for(let d in u)if(0!==d.indexOf("@")){if("object"==typeof u[d])return this.load(u);if("string"!=typeof u[d])throw Error(`Invalid message for message ${d} in ${e} locale.`);break}this.sourceMap.has(e)?this.sourceMap.set(e,Object.assign(this.sourceMap.get(e),u)):this.sourceMap.set(e,u)}else for(e in u)this.load(u[e],e)}getMessage(u,e){let d=this.sourceMap.get(e);return d?d[u]:null}hasLocale(u){return this.sourceMap.has(u)}}var f=d(1);d.d(e,"default",(function(){return o}));class o{constructor(u,e){e=e||{},this.locale=u,this.parser=new s(this.locale),this.messageStore=new i,e.messages&&this.load(e.messages,this.locale),this.finalFallback=e.finalFallback||"en"}load(u,e){return this.messageStore.load(u,e||this.locale)}i18n(u,...e){return this.parser.parse(this.getMessage(u),e)}setLocale(u){this.locale=u,this.parser=new s(this.locale)}getFallbackLocales(){return[...f[this.locale]||[],this.finalFallback]}getMessage(u){let e=this.locale,d=0;const r=this.getFallbackLocales(this.locale);for(;e;){let t=e.split("-"),a=t.length;do{let e=t.slice(0,a).join("-"),d=this.messageStore.getMessage(u,e);if(d)return d;a--}while(a);e=r[d],d++}return u}}}]).default}));
//# sourceMappingURL=banana-i18n.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css":
/*!*********************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css":
/*!*******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".iiif-av-component {\n  position: relative;\n  overflow: hidden;\n  background: #000;\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  font-family: \"Open Sans\";\n  outline: none;\n}\n\n.iiif-av-component .player {\n  width: 100%;\n  height: 100%;\n}\n\n.iiif-av-component .player--loading {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-image: url(data:image/gif;base64,R0lGODlhFAAUAMQSAGxsbFpaWnh4eEZGRhwcHD8/PzU1NVJSUisrKwgICH5+fkxMTGNjYyUlJXJycnt7exISEoCAgAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1OTFjMzhjNS0xZmQyLTg5NGUtYjMyZi1kYTNkZWQ5NmQ5YjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzc0OEE1NDA5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzc0OEE1M0Y5OTMzMTFFNUFBRjI5MkI3NTFFODJFRTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTkxYzM4YzUtMWZkMi04OTRlLWIzMmYtZGEzZGVkOTZkOWIzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU5MWMzOGM1LTFmZDItODk0ZS1iMzJmLWRhM2RlZDk2ZDliMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkAABIALAAAAAAUABQAAAVAoCSOZGmeaKqmSeu+LRpEdG0Hsq1H+DnvtZ7pB+TlikYfMjlcCktE4JMU3U1HVd1VlL2hCIiweExYmc/otHoUAgAh+QQJAAASACwAAAAAFAAUAAAFWqAkjmRpnmgqEgyhnkykHNA7GlEePUXyJg6dzoFQDYTI1gnyQCIVC1PA6YySGlSkwEcCZIWGEu6bA5gSCwW5gWJlAy+EV6io/QrN3MA2ShwUW3wkBGyChocSIQAh+QQFAAASACwAAAAAFAAUAAAFXKAkjmRpnmhaJsuimoYQKcQrNkCkR8wLBbsgApUYKIJBR8LUcCCfBRPh+Aw+IKZDFXkwQR7bHc1UCO96q1yYUTMhtg6DioFUDJaq6S6AtUkWEQANfiMJcoSIiSUhADs=);\n}\n\n.iiif-av-component .poster-container {\n  position: absolute;\n  width: 100%;\n  top: 0;\n}\n\n.iiif-av-component .poster-container .poster-image {\n  position: absolute;\n  background-color: #000;\n  background-size: contain;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  cursor: pointer;\n}\n\n.iiif-av-component .poster-container .poster-image .btn {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n\n.iiif-av-component .canvas-container {\n  position: relative;\n  width: 100%;\n  height: 100% !important;\n}\n\n.iiif-av-component .canvas-container video {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.iiif-av-component .canvas-container .working-indicator {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 10000;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  text-align: center;\n  padding-top: 30%;\n  box-sizing: border-box;\n  font-size: 20px;\n}\n\n.iiif-av-component .canvas-container .anno {\n  position: absolute;\n  background: transparent;\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n}\n\n.iiif-av-component .range-timeline-container {\n  background: #14a4c3;\n  height: 4px;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  background: rgba(255,255,255,0.4);\n  height: 5px;\n  width: 0px;\n  border: none;\n  cursor: pointer;\n}\n\n.iiif-av-component .hover-preview {\n  position: absolute;\n  z-index: 1;\n  padding-bottom: 7px;\n}\n\n.iiif-av-component .hover-preview .label {\n  background: rgba(66, 66, 66, 0.85);\n  height: 18px;\n  padding: 5px;\n  color: #fff;\n  line-height: 8px;\n}\n\n.iiif-av-component .hover-preview .pointer {\n  height: 6px;\n  position: relative;\n}\n\n.iiif-av-component .hover-preview .pointer .arrow {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  border-top: 6px solid rgba(66, 66, 66, 0.85);\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n}\n\n.iiif-av-component .hover-highlight {\n  position: absolute;\n  background: #e2e2e2;\n  height: 4px;\n}\n\n.iiif-av-component .canvas-timeline-container {\n  border-radius: 0;\n}\n\n.iiif-av-component .canvas-timeline-container .duration-highlight {\n  position: absolute;\n  background: #14a4c3;\n  height: 4px;\n}\n\n.iiif-av-component .timeline-item-container {\n  position: relative;\n  width: 100%;\n  min-height: 6px;\n  background: #cfcfcf;\n  top: 0px;\n  padding-bottom: 3px;\n}\n\n.iiif-av-component .timeline-item-container .line-wrapper {\n  margin-top: 2px;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item {\n  position: relative;\n  height: 6px;\n  box-sizing: border-box;\n  border-right: 1px solid #efefef;\n  border-left: 1px solid #efefef;\n  background: #777;\n}\n\n.iiif-av-component .timeline-item-container .timeline-item.active {\n  background: #333;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\n.iiif-av-component .canvas-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle {\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: 0;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 2;\n  cursor: pointer;\n}\n\nbutton:focus {\n  outline:0;\n}\n\n.iiif-av-component .range-timeline-container .ui-slider-handle:focus {\n  outline-width: 0;\n}\n\n.iiif-av-component .controls-container {\n  overflow: hidden;\n  margin-top: 5px;\n  height: 36px;\n}\n\n.iiif-av-component .controls-container .btn {\n  float: left;\n}\n\n.iiif-av-component .controls-container .pause-button {\n  margin-right: 14px;\n}\n\n.iiif-av-component .controls-container .time-display {\n  float: left;\n  padding: 8px 0px 0 10px;\n  color: rgba(255, 255, 255, 0.5);\n  min-width: 150px;\n  font-size: 14px;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-time {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .time-display .canvas-duration {\n  color: #fff;\n}\n\n.iiif-av-component .controls-container .volume {\n  float: right;\n  overflow: hidden;\n  width: 140px;\n}\n\n.iiif-av-component .controls-container .volume .volume-mute {\n  float: left;\n  padding-left: 0px;\n  padding-right: 2px;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider {\n  float: left;\n  margin-top: 12px;\n  width: 84px;\n  height: 5px;\n  border: none;\n  border-radius: 0;\n  background-color: rgba(255,255,255,0.4);  \n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle {\n  top: 0px;\n  width: 14px;\n  height: 14px;\n  margin-left: -7px;\n  margin-top: -4px;\n  border: none;\n  border-radius: 7px;\n  background: #79B2E3;\n  z-index: 1;\n  cursor: pointer;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-handle:focus {\n  outline: none;\n}\n\n.iiif-av-component .controls-container .volume .volume-slider .ui-slider-range {\n  background: #79B2E3;\n  box-sizing: border-box;\n  border-radius: 0;\n  cursor: pointer;\n}\n\n.iiif-av-component .btn {\n  font-size: 0;\n  background: 0 0;\n  border: 0;\n  box-shadow: none;\n  padding: 0 5px 0 0;\n}\n\n.iiif-av-component .btn i {\n  background-repeat: no-repeat;\n  display: inline-block;\n  height: 30px;\n  vertical-align: middle;\n  width: 25px;\n  cursor: pointer;\n  font-size: 0;\n}\n\n.iiif-av-component .av-icon-mute.on {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.on:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='18px' viewBox='0 0 21 18' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Evolume icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-806.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M724.409666,36.0186916 C724.196024,36.0186916 723.982383,35.9286009 723.81937,35.7478023 C723.493344,35.3862052 723.493344,34.8006155 723.81937,34.4390184 C725.343235,32.7488915 726.182223,30.5021766 726.182223,28.1123038 C726.182223,25.722431 725.343235,23.4757161 723.81937,21.7855892 C723.493344,21.4239921 723.493344,20.8377853 723.81937,20.4768053 C724.145396,20.1152082 724.673936,20.1152082 724.999405,20.4768053 C726.838169,22.5161881 727.851297,25.2281661 727.851297,28.1123038 C727.851297,30.9964415 726.838726,33.7084195 724.999405,35.7478023 C724.836392,35.9286009 724.622751,36.0186916 724.409109,36.0186916 L724.409666,36.0186916 Z M721.369341,34.2610664 C721.167679,34.2610664 720.966017,34.1711506 720.812145,33.9907031 C720.504401,33.6298082 720.504401,33.0453555 720.812145,32.6844605 C722.962152,30.1631228 722.962152,26.0608683 720.812145,23.5395306 C720.504401,23.1786357 720.504401,22.5935671 720.812145,22.233288 C721.119889,21.8723931 721.618792,21.8723931 721.926011,22.233288 C723.26517,23.8037353 724.002495,25.8915063 724.002495,28.1123035 C724.002495,30.3331007 723.26517,32.4208717 721.926011,33.991319 C721.772139,34.1717664 721.570477,34.2616822 721.368815,34.2616822 L721.369341,34.2610664 Z M718.549414,32.5040591 C718.303329,32.5040591 718.057244,32.4144502 717.869476,32.2346187 C717.49394,31.8749556 717.49394,31.2924979 717.869476,30.9328348 C719.493381,29.3775682 719.493381,26.846424 717.869476,25.2911574 C717.49394,24.9314943 717.49394,24.3484228 717.869476,23.9893735 C718.245012,23.6297104 718.853175,23.6297104 719.228711,23.9893735 C721.602406,26.2627387 721.602406,29.9618673 719.228711,32.2352325 C719.040943,32.415064 718.794858,32.5046729 718.548773,32.5046729 L718.549414,32.5040591 Z M715.075595,19.6162444 C715.516558,19.1130715 715.877246,19.2837236 715.877246,19.9951926 L715.877246,36.2291065 C715.877246,36.9405754 715.516558,37.1112276 715.075595,36.6080547 L710.928785,31.8762217 L708.179641,31.8762217 L708.179641,24.34745 L710.928785,24.34745 L715.075595,19.615617 L715.075595,19.6162444 Z' id='volume-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-mute.off {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcKDQk0smvw8gAAAOlJREFUSMftlTFKBEEQRd+fXRdBENlATDTyCoJHEA29gxcyNzPXzFSMBTOvYKRgoCDMPgMblGWDYZwZA+dF1VDVv7qqqIaRkZGOyG8vUOfAO7AOkOSl96zVU/VC3SjnagjRY7+4ahNftRQ9Aa7L8a3NHdOGQgfADHgGDoHzVbFqktiZMHADzIHFiirZZ6mrhv7ptcdd8GfCTXt8D2wDr8AusNfXQlqe1ok6KfaO+uA3lz/8qk5LnaROUhf7CTgC7pZfmWQxxObaVB/V28EHRN1Xz9St0o7ZYL9TSWAKrAF1ko/x0x8Z+R98AhcTb2KBHKCUAAAAAElFTkSuQmCC\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-previous {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCgq14wdqwAAAJ9JREFUSMft1TsOQUEUgOETpUYpcmMFEtuwEyvR2oLeQpQ6m6AiEY/Gp0CDK5L7Epm/mzmT+c/JzJyJSCQSdYI1Tuh9WNPGpGzx0Y0sJ97BAmoTo4/VPb77ds9WwYRGEbGMiMFjqvKKMfbKtipx9z6eek/p4gMuGGImn9LFe5wx95n/qbixM278VmfP7xib2sVFOtfP9+pmfqdEIvHTXAHKs7eDn/hqpQAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-play.play {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.play:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-play.pause {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23D6D9DD'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 8px;\n}\n\n.iiif-av-component .av-icon-play.pause:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='15px' height='15px' viewBox='0 0 15 15' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Epause icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='annotation-type-dropdown-menu' transform='translate(-19.000000, -212.000000)' fill='%23FFFFFF'%3E%3Cg id='dropdown' transform='translate(5.000000, 0.000000)'%3E%3Cpath d='M18.5156143,226.968748 L15.5156214,226.968748 C14.6874984,226.968748 14.015625,226.296874 14.015625,225.468751 L14.015625,214.468777 C14.015625,213.640654 14.6874984,212.968781 15.5156214,212.968781 L18.5156143,212.968781 C19.3437373,212.968781 20.0156107,213.640654 20.0156107,214.468777 L20.0156107,225.468751 C20.0156107,226.296874 19.3437373,226.968748 18.5156143,226.968748 Z M28.0155916,225.468751 C28.0155916,226.296874 27.3437182,226.968748 26.5155952,226.968748 L23.5156024,226.968748 C22.6874793,226.968748 22.0156059,226.296874 22.0156059,225.468751 L22.0156059,214.468777 C22.0156059,213.640654 22.6874793,212.968781 23.5156024,212.968781 L26.5155952,212.968781 C27.3437182,212.968781 28.0155916,213.640654 28.0155916,214.468777 L28.0155916,225.468751 Z' id='pause-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-next {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gcJDCkVePEB1wAAAKJJREFUSMftlbENwjAQRb8iqqSgRFHEBEiswRw0TJI2K7ANJR1LQJU0gISUR+MKSJTCOhzpXuPirHu2zz5LjuNYAtRAPhIvgSdwjS0GOAHLgXgV5jxii7uQ+AKsY4izqe4wbiSdgZ1VjVu+OVgc9S8xQBPiK2sxwBHYAj1wn5pzEWFde0mFpJekPvkdz7LG5rf69vmOZ9W5ku/V//mdHMdJmjdBx46OkJJ4sAAAAABJRU5ErkJggg==\");\n}\n\n.iiif-av-component .av-icon-expand.expand {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-expand.collapse {\n  background-image: url(\"data:image/png;base64,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\");\n}\n\n.iiif-av-component .av-icon-more {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n  margin-top: 13px;\n}\n\n.iiif-av-component .av-icon-more:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='18px' height='5px' viewBox='0 0 18 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3EOptions icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-734.000000, -755.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M658.14521,50.953271 C656.964301,50.953271 656.006986,49.9699712 656.006986,48.7570093 C656.006986,47.5440475 656.964301,46.5607477 658.14521,46.5607477 C659.326118,46.5607477 660.283433,47.5440475 660.283433,48.7570093 C660.283433,49.9699712 659.326118,50.953271 658.14521,50.953271 Z M671.82984,50.953271 C670.648932,50.953271 669.691617,49.9699712 669.691617,48.7570093 C669.691617,47.5440475 670.648932,46.5607477 671.82984,46.5607477 C673.010749,46.5607477 673.968064,47.5440475 673.968064,48.7570093 C673.968064,49.9699712 673.010749,50.953271 671.82984,50.953271 Z M664.987525,50.953271 C663.806617,50.953271 662.849301,49.9699712 662.849301,48.7570093 C662.849301,47.5440475 663.806617,46.5607477 664.987525,46.5607477 C666.168433,46.5607477 667.125749,47.5440475 667.125749,48.7570093 C667.125749,49.9699712 666.168433,50.953271 664.987525,50.953271 Z' id='Options-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");  \n}\n\n.iiif-av-component .av-icon-fullscreen {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n  float: right;\n}\n\n.iiif-av-component .av-icon-fullscreen:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eexpand icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-894.000000, -748.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M806.689011,33.2668991 L803.170483,36.8085751 L805.971416,39.6095083 C806.064009,39.678953 806.110306,39.794694 806.110306,39.910435 C806.110306,40.1419171 805.92512,40.3271028 805.693638,40.3271028 L796.526947,40.3271028 C796.295465,40.3271028 796.110279,40.1419171 796.110279,39.910435 L796.110279,30.7437443 C796.110279,30.5817069 796.202872,30.4196694 796.36491,30.3502248 C796.526947,30.3039284 796.712133,30.3270766 796.827874,30.4428176 L799.628807,33.2668991 L803.170483,29.7483714 C803.332521,29.5863339 803.587151,29.5863339 803.749188,29.7483714 L806.689011,32.6881939 C806.781604,32.7576385 806.8279,32.8733796 806.8279,32.9891206 C806.8279,33.0817134 806.781604,33.1974545 806.689011,33.2668991 Z M816.110332,20.7437181 L816.110332,29.9104088 C816.110332,30.0724463 816.017739,30.2344837 815.855702,30.3039284 C815.809405,30.3270766 815.739961,30.3270766 815.693664,30.3270766 C815.577923,30.3270766 815.48533,30.2807802 815.392737,30.2113355 L812.591804,27.3872541 L809.050128,30.92893 C808.980684,30.9983746 808.864943,31.0446711 808.77235,31.0446711 C808.656609,31.0446711 808.540868,30.9983746 808.471423,30.92893 L805.508452,27.9659593 C805.346415,27.8039218 805.346415,27.5492915 805.508452,27.3872541 L809.050128,23.8455781 L806.226047,21.0446448 C806.110306,20.9289038 806.087157,20.7437181 806.133454,20.5816806 C806.202899,20.4196432 806.364936,20.3270504 806.526973,20.3270504 L815.693664,20.3270504 C815.925146,20.3270504 816.110332,20.512236 816.110332,20.7437181 Z' id='expand-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .av-icon-subtitles {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23D6D9DD' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  margin-top: 5px;\n}\n\n.iiif-av-component .av-icon-subtitles:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='22px' height='20px' viewBox='0 0 22 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Esubtitles icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-769.000000, -746.000000)' fill='%23FFFFFF' fill-rule='nonzero'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cpath d='M695.976577,39.5327103 C694.685967,39.5327103 693.639721,40.6185629 693.639721,41.9580299 L693.639721,52.9204747 C693.639721,54.2599418 694.685967,55.3457944 695.976577,55.3457944 L708.408653,55.3457944 C709.699263,55.3457944 710.745509,54.2599418 710.745509,52.9204747 L710.745509,41.9580299 C710.745509,40.6185629 709.699263,39.5327103 708.408653,39.5327103 L695.976577,39.5327103 Z M696.071351,37.7757009 L708.313879,37.7757009 C710.601558,37.7757009 712.456088,39.6938622 712.456088,42.0600341 L712.456088,52.8184706 C712.456088,55.1846425 710.601558,57.1028037 708.313879,57.1028037 L696.071351,57.1028037 C693.783672,57.1028037 691.929142,55.1846425 691.929142,52.8184706 L691.929142,42.0600341 C691.929142,39.6938622 693.783672,37.7757009 696.071351,37.7757009 Z M696.260182,48.317757 L702.993311,48.317757 C703.495825,48.317757 703.903194,47.9244371 703.903194,47.4392523 C703.903194,46.9540676 703.495825,46.5607477 702.993311,46.5607477 L696.260182,46.5607477 C695.757668,46.5607477 695.350299,46.9540676 695.350299,47.4392523 C695.350299,47.9244371 695.757668,48.317757 696.260182,48.317757 Z M707.296761,48.317757 L708.207231,48.317757 C708.664356,48.317757 709.03493,47.9244371 709.03493,47.4392523 C709.03493,46.9540676 708.664356,46.5607477 708.207231,46.5607477 L707.296761,46.5607477 C706.839636,46.5607477 706.469062,46.9540676 706.469062,47.4392523 C706.469062,47.9244371 706.839636,48.317757 707.296761,48.317757 Z M701.391918,51.8317757 L708.125048,51.8317757 C708.627562,51.8317757 709.03493,51.4384558 709.03493,50.953271 C709.03493,50.4680863 708.627562,50.0747664 708.125048,50.0747664 L701.391918,50.0747664 C700.889404,50.0747664 700.482036,50.4680863 700.482036,50.953271 C700.482036,51.4384558 700.889404,51.8317757 701.391918,51.8317757 Z M696.419411,51.8317757 L697.702345,51.8317757 C698.292799,51.8317757 698.771457,51.4384558 698.771457,50.953271 C698.771457,50.4680863 698.292799,50.0747664 697.702345,50.0747664 L696.419411,50.0747664 C695.828957,50.0747664 695.350299,50.4680863 695.350299,50.953271 C695.350299,51.4384558 695.828957,51.8317757 696.419411,51.8317757 Z' id='subtitles-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.errormessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playwrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\n.playcircle {\n  border-radius: 50%;\n  background-color: rgba(50,50,50,0.75);\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23D6D9DD'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  cursor: pointer;\n  width: 15vh;\n  height: 15vh;\n  background-size: 8vh 8vh;\n  background-position: 66% 50%;\n  background-repeat: no-repeat;\n}\n\n.playcircle:hover {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='21px' height='21px' viewBox='0 0 21 21' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 51.3 (57544) - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Eplay icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='Backend' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='EUMediaPlayer-Video-Editor-1400px' transform='translate(-105.000000, -747.000000)' fill='%23FFFFFF'%3E%3Cg id='Main-content' transform='translate(24.000000, 24.000000)'%3E%3Cg id='Main-card' transform='translate(1.000000, 86.000000)'%3E%3Cg id='Media-Card' transform='translate(53.000000, 141.000000)'%3E%3Cg id='Video' transform='translate(0.000000, 56.000000)'%3E%3Cg id='UI-bottom-section' transform='translate(0.000000, 401.476636)'%3E%3Cg id='UI' transform='translate(20.526946, 19.327103)'%3E%3Cpath d='M7.09481147,39.4485981 C7.02536685,39.4485981 6.93277401,39.4254499 6.86332938,39.3791535 C6.74758834,39.3097089 6.67814371,39.1708196 6.67814371,39.0319304 L6.67814371,19.8652134 C6.67814371,19.7263242 6.74758834,19.5874349 6.86332938,19.5179903 C7.00221864,19.4253975 7.14110789,19.4253975 7.27999714,19.4948421 L26.4467141,29.0782006 C26.5856033,29.1476452 26.6781962,29.2865344 26.6781962,29.4485719 C26.6781962,29.6106094 26.5856033,29.7494986 26.4467141,29.8189432 L7.27999714,39.4023017 C7.21055252,39.4254499 7.1642561,39.4485981 7.09481147,39.4485981 Z' id='play-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.iiif-av-component .options-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  padding: 0 2.5% 0 2.5%;\n  background: linear-gradient(0deg, rgba(50,50,50,0.75) 0%, rgba(29,29,29,0) 100%);\n}\n\n.iiif-av-component .canvas-timeline-container {\n  width: auto !important;\n}\n\n.iiif-av-component .loading-progress {\n  position: absolute;\n  height: 5px;\n  background-color: #CCCCCC;\n  box-shadow: inset 0 -1px 0 0 rgba(255,255,255,0.15), inset 0 1px 0 0 rgba(255,255,255,0.15);\n}\n\n.btn[title=Previous] {\n  display: none;\n}\n\n.btn[title=Next] {\n  display: none;\n}\n\n.btn.button-fullscreen {\n  float: right !important;\n}\n\n.btn[data-name=More] {\n  float: right !important;\n}\n\n.btn[data-name=Subtitles] {\n  display: none;\n  float: right !important;\n}\n\n.moremenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.moremenu-option {\n  cursor: pointer;\n}\n\n.subtitlemenu {\n  display: none;\n  font-size: 14px !important;\n  color: #EDEDED !important;\n  background-color: rgba(0,0,0,0.8) !important;\n  font-weight: 600 !important;\n  margin-bottom: 10px !important;\n  padding: 10px !important;\n  z-index: 100;\n  text-align: left;\n}\n\n.subtitlemenu-option {\n  cursor: pointer;\n}\n\n.iiif-av-component .audio-background {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/index.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/index.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "#eups-content-wrapper {\n    float: left;\n    max-height: inherit;\n    max-width: inherit;\n}\n\n.eups-player {\n    height: 100%;\n    width: 100% !important;\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.editor {\n    width: 60%;\n}\n\n.no-editor {\n    width: 100%;\n    float: left;\n}\n\n#eups-editor-wrapper {\n    float: left;\n}\n\n#eups-annotationeditor {\n    padding-left: 5%;\n}", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/core.css":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/core.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./core.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/core.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/themes/base/slider.css":
/*!*******************************************************!*\
  !*** ./node_modules/jquery-ui/themes/base/slider.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css", function() {
		var newContent = __webpack_require__(/*! !../../../css-loader/dist/cjs.js!./slider.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/jquery-ui/themes/base/slider.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./node_modules/jquery-ui/ui/effect.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/effect.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Effects Core
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Extends the internal jQuery effects. Includes morphing and easing. Required by all other effects.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/category/effects-core/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var dataSpace = "ui-effects-",
	dataSpaceStyle = "ui-effects-style",
	dataSpaceAnimated = "ui-effects-animated",

	// Create a local jQuery because jQuery Color relies on it and the
	// global may not exist with AMD and a custom build (#10199)
	jQuery = $;

$.effects = {
	effect: {}
};

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
( function( jQuery, undefined ) {

	var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor " +
		"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",

	// Plusequals test for += 100 -= 100
	rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,

	// A set of RE's that can match strings and generate color tuples.
	stringParsers = [ {
			re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ],
					execResult[ 3 ],
					execResult[ 4 ]
				];
			}
		}, {
			re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ] * 2.55,
					execResult[ 2 ] * 2.55,
					execResult[ 3 ] * 2.55,
					execResult[ 4 ]
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ], 16 )
				];
			}
		}, {

			// This regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ] + execResult[ 3 ], 16 )
				];
			}
		}, {
			re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			space: "hsla",
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ] / 100,
					execResult[ 3 ] / 100,
					execResult[ 4 ]
				];
			}
		} ],

	// JQuery.Color( )
	color = jQuery.Color = function( color, green, blue, alpha ) {
		return new jQuery.Color.fn.parse( color, green, blue, alpha );
	},
	spaces = {
		rgba: {
			props: {
				red: {
					idx: 0,
					type: "byte"
				},
				green: {
					idx: 1,
					type: "byte"
				},
				blue: {
					idx: 2,
					type: "byte"
				}
			}
		},

		hsla: {
			props: {
				hue: {
					idx: 0,
					type: "degrees"
				},
				saturation: {
					idx: 1,
					type: "percent"
				},
				lightness: {
					idx: 2,
					type: "percent"
				}
			}
		}
	},
	propTypes = {
		"byte": {
			floor: true,
			max: 255
		},
		"percent": {
			max: 1
		},
		"degrees": {
			mod: 360,
			floor: true
		}
	},
	support = color.support = {},

	// Element for support tests
	supportElem = jQuery( "<p>" )[ 0 ],

	// Colors = jQuery.Color.names
	colors,

	// Local aliases of functions called often
	each = jQuery.each;

// Determine rgba support immediately
supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
support.rgba = supportElem.style.backgroundColor.indexOf( "rgba" ) > -1;

// Define cache name and alpha properties
// for rgba and hsla spaces
each( spaces, function( spaceName, space ) {
	space.cache = "_" + spaceName;
	space.props.alpha = {
		idx: 3,
		type: "percent",
		def: 1
	};
} );

function clamp( value, prop, allowEmpty ) {
	var type = propTypes[ prop.type ] || {};

	if ( value == null ) {
		return ( allowEmpty || !prop.def ) ? null : prop.def;
	}

	// ~~ is an short way of doing floor for positive numbers
	value = type.floor ? ~~value : parseFloat( value );

	// IE will pass in empty strings as value for alpha,
	// which will hit this case
	if ( isNaN( value ) ) {
		return prop.def;
	}

	if ( type.mod ) {

		// We add mod before modding to make sure that negatives values
		// get converted properly: -10 -> 350
		return ( value + type.mod ) % type.mod;
	}

	// For now all property types without mod have min and max
	return 0 > value ? 0 : type.max < value ? type.max : value;
}

function stringParse( string ) {
	var inst = color(),
		rgba = inst._rgba = [];

	string = string.toLowerCase();

	each( stringParsers, function( i, parser ) {
		var parsed,
			match = parser.re.exec( string ),
			values = match && parser.parse( match ),
			spaceName = parser.space || "rgba";

		if ( values ) {
			parsed = inst[ spaceName ]( values );

			// If this was an rgba parse the assignment might happen twice
			// oh well....
			inst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];
			rgba = inst._rgba = parsed._rgba;

			// Exit each( stringParsers ) here because we matched
			return false;
		}
	} );

	// Found a stringParser that handled it
	if ( rgba.length ) {

		// If this came from a parsed string, force "transparent" when alpha is 0
		// chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
		if ( rgba.join() === "0,0,0,0" ) {
			jQuery.extend( rgba, colors.transparent );
		}
		return inst;
	}

	// Named colors
	return colors[ string ];
}

color.fn = jQuery.extend( color.prototype, {
	parse: function( red, green, blue, alpha ) {
		if ( red === undefined ) {
			this._rgba = [ null, null, null, null ];
			return this;
		}
		if ( red.jquery || red.nodeType ) {
			red = jQuery( red ).css( green );
			green = undefined;
		}

		var inst = this,
			type = jQuery.type( red ),
			rgba = this._rgba = [];

		// More than 1 argument specified - assume ( red, green, blue, alpha )
		if ( green !== undefined ) {
			red = [ red, green, blue, alpha ];
			type = "array";
		}

		if ( type === "string" ) {
			return this.parse( stringParse( red ) || colors._default );
		}

		if ( type === "array" ) {
			each( spaces.rgba.props, function( key, prop ) {
				rgba[ prop.idx ] = clamp( red[ prop.idx ], prop );
			} );
			return this;
		}

		if ( type === "object" ) {
			if ( red instanceof color ) {
				each( spaces, function( spaceName, space ) {
					if ( red[ space.cache ] ) {
						inst[ space.cache ] = red[ space.cache ].slice();
					}
				} );
			} else {
				each( spaces, function( spaceName, space ) {
					var cache = space.cache;
					each( space.props, function( key, prop ) {

						// If the cache doesn't exist, and we know how to convert
						if ( !inst[ cache ] && space.to ) {

							// If the value was null, we don't need to copy it
							// if the key was alpha, we don't need to copy it either
							if ( key === "alpha" || red[ key ] == null ) {
								return;
							}
							inst[ cache ] = space.to( inst._rgba );
						}

						// This is the only case where we allow nulls for ALL properties.
						// call clamp with alwaysAllowEmpty
						inst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );
					} );

					// Everything defined but alpha?
					if ( inst[ cache ] &&
							jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {

						// Use the default of 1
						inst[ cache ][ 3 ] = 1;
						if ( space.from ) {
							inst._rgba = space.from( inst[ cache ] );
						}
					}
				} );
			}
			return this;
		}
	},
	is: function( compare ) {
		var is = color( compare ),
			same = true,
			inst = this;

		each( spaces, function( _, space ) {
			var localCache,
				isCache = is[ space.cache ];
			if ( isCache ) {
				localCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];
				each( space.props, function( _, prop ) {
					if ( isCache[ prop.idx ] != null ) {
						same = ( isCache[ prop.idx ] === localCache[ prop.idx ] );
						return same;
					}
				} );
			}
			return same;
		} );
		return same;
	},
	_space: function() {
		var used = [],
			inst = this;
		each( spaces, function( spaceName, space ) {
			if ( inst[ space.cache ] ) {
				used.push( spaceName );
			}
		} );
		return used.pop();
	},
	transition: function( other, distance ) {
		var end = color( other ),
			spaceName = end._space(),
			space = spaces[ spaceName ],
			startColor = this.alpha() === 0 ? color( "transparent" ) : this,
			start = startColor[ space.cache ] || space.to( startColor._rgba ),
			result = start.slice();

		end = end[ space.cache ];
		each( space.props, function( key, prop ) {
			var index = prop.idx,
				startValue = start[ index ],
				endValue = end[ index ],
				type = propTypes[ prop.type ] || {};

			// If null, don't override start value
			if ( endValue === null ) {
				return;
			}

			// If null - use end
			if ( startValue === null ) {
				result[ index ] = endValue;
			} else {
				if ( type.mod ) {
					if ( endValue - startValue > type.mod / 2 ) {
						startValue += type.mod;
					} else if ( startValue - endValue > type.mod / 2 ) {
						startValue -= type.mod;
					}
				}
				result[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );
			}
		} );
		return this[ spaceName ]( result );
	},
	blend: function( opaque ) {

		// If we are already opaque - return ourself
		if ( this._rgba[ 3 ] === 1 ) {
			return this;
		}

		var rgb = this._rgba.slice(),
			a = rgb.pop(),
			blend = color( opaque )._rgba;

		return color( jQuery.map( rgb, function( v, i ) {
			return ( 1 - a ) * blend[ i ] + a * v;
		} ) );
	},
	toRgbaString: function() {
		var prefix = "rgba(",
			rgba = jQuery.map( this._rgba, function( v, i ) {
				return v == null ? ( i > 2 ? 1 : 0 ) : v;
			} );

		if ( rgba[ 3 ] === 1 ) {
			rgba.pop();
			prefix = "rgb(";
		}

		return prefix + rgba.join() + ")";
	},
	toHslaString: function() {
		var prefix = "hsla(",
			hsla = jQuery.map( this.hsla(), function( v, i ) {
				if ( v == null ) {
					v = i > 2 ? 1 : 0;
				}

				// Catch 1 and 2
				if ( i && i < 3 ) {
					v = Math.round( v * 100 ) + "%";
				}
				return v;
			} );

		if ( hsla[ 3 ] === 1 ) {
			hsla.pop();
			prefix = "hsl(";
		}
		return prefix + hsla.join() + ")";
	},
	toHexString: function( includeAlpha ) {
		var rgba = this._rgba.slice(),
			alpha = rgba.pop();

		if ( includeAlpha ) {
			rgba.push( ~~( alpha * 255 ) );
		}

		return "#" + jQuery.map( rgba, function( v ) {

			// Default to 0 when nulls exist
			v = ( v || 0 ).toString( 16 );
			return v.length === 1 ? "0" + v : v;
		} ).join( "" );
	},
	toString: function() {
		return this._rgba[ 3 ] === 0 ? "transparent" : this.toRgbaString();
	}
} );
color.fn.parse.prototype = color.fn;

// Hsla conversions adapted from:
// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021

function hue2rgb( p, q, h ) {
	h = ( h + 1 ) % 1;
	if ( h * 6 < 1 ) {
		return p + ( q - p ) * h * 6;
	}
	if ( h * 2 < 1 ) {
		return q;
	}
	if ( h * 3 < 2 ) {
		return p + ( q - p ) * ( ( 2 / 3 ) - h ) * 6;
	}
	return p;
}

spaces.hsla.to = function( rgba ) {
	if ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {
		return [ null, null, null, rgba[ 3 ] ];
	}
	var r = rgba[ 0 ] / 255,
		g = rgba[ 1 ] / 255,
		b = rgba[ 2 ] / 255,
		a = rgba[ 3 ],
		max = Math.max( r, g, b ),
		min = Math.min( r, g, b ),
		diff = max - min,
		add = max + min,
		l = add * 0.5,
		h, s;

	if ( min === max ) {
		h = 0;
	} else if ( r === max ) {
		h = ( 60 * ( g - b ) / diff ) + 360;
	} else if ( g === max ) {
		h = ( 60 * ( b - r ) / diff ) + 120;
	} else {
		h = ( 60 * ( r - g ) / diff ) + 240;
	}

	// Chroma (diff) == 0 means greyscale which, by definition, saturation = 0%
	// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)
	if ( diff === 0 ) {
		s = 0;
	} else if ( l <= 0.5 ) {
		s = diff / add;
	} else {
		s = diff / ( 2 - add );
	}
	return [ Math.round( h ) % 360, s, l, a == null ? 1 : a ];
};

spaces.hsla.from = function( hsla ) {
	if ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {
		return [ null, null, null, hsla[ 3 ] ];
	}
	var h = hsla[ 0 ] / 360,
		s = hsla[ 1 ],
		l = hsla[ 2 ],
		a = hsla[ 3 ],
		q = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,
		p = 2 * l - q;

	return [
		Math.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),
		Math.round( hue2rgb( p, q, h ) * 255 ),
		Math.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),
		a
	];
};

each( spaces, function( spaceName, space ) {
	var props = space.props,
		cache = space.cache,
		to = space.to,
		from = space.from;

	// Makes rgba() and hsla()
	color.fn[ spaceName ] = function( value ) {

		// Generate a cache for this space if it doesn't exist
		if ( to && !this[ cache ] ) {
			this[ cache ] = to( this._rgba );
		}
		if ( value === undefined ) {
			return this[ cache ].slice();
		}

		var ret,
			type = jQuery.type( value ),
			arr = ( type === "array" || type === "object" ) ? value : arguments,
			local = this[ cache ].slice();

		each( props, function( key, prop ) {
			var val = arr[ type === "object" ? key : prop.idx ];
			if ( val == null ) {
				val = local[ prop.idx ];
			}
			local[ prop.idx ] = clamp( val, prop );
		} );

		if ( from ) {
			ret = color( from( local ) );
			ret[ cache ] = local;
			return ret;
		} else {
			return color( local );
		}
	};

	// Makes red() green() blue() alpha() hue() saturation() lightness()
	each( props, function( key, prop ) {

		// Alpha is included in more than one space
		if ( color.fn[ key ] ) {
			return;
		}
		color.fn[ key ] = function( value ) {
			var vtype = jQuery.type( value ),
				fn = ( key === "alpha" ? ( this._hsla ? "hsla" : "rgba" ) : spaceName ),
				local = this[ fn ](),
				cur = local[ prop.idx ],
				match;

			if ( vtype === "undefined" ) {
				return cur;
			}

			if ( vtype === "function" ) {
				value = value.call( this, cur );
				vtype = jQuery.type( value );
			}
			if ( value == null && prop.empty ) {
				return this;
			}
			if ( vtype === "string" ) {
				match = rplusequals.exec( value );
				if ( match ) {
					value = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === "+" ? 1 : -1 );
				}
			}
			local[ prop.idx ] = value;
			return this[ fn ]( local );
		};
	} );
} );

// Add cssHook and .fx.step function for each named hook.
// accept a space separated string of properties
color.hook = function( hook ) {
	var hooks = hook.split( " " );
	each( hooks, function( i, hook ) {
		jQuery.cssHooks[ hook ] = {
			set: function( elem, value ) {
				var parsed, curElem,
					backgroundColor = "";

				if ( value !== "transparent" && ( jQuery.type( value ) !== "string" ||
						( parsed = stringParse( value ) ) ) ) {
					value = color( parsed || value );
					if ( !support.rgba && value._rgba[ 3 ] !== 1 ) {
						curElem = hook === "backgroundColor" ? elem.parentNode : elem;
						while (
							( backgroundColor === "" || backgroundColor === "transparent" ) &&
							curElem && curElem.style
						) {
							try {
								backgroundColor = jQuery.css( curElem, "backgroundColor" );
								curElem = curElem.parentNode;
							} catch ( e ) {
							}
						}

						value = value.blend( backgroundColor && backgroundColor !== "transparent" ?
							backgroundColor :
							"_default" );
					}

					value = value.toRgbaString();
				}
				try {
					elem.style[ hook ] = value;
				} catch ( e ) {

					// Wrapped to prevent IE from throwing errors on "invalid" values like
					// 'auto' or 'inherit'
				}
			}
		};
		jQuery.fx.step[ hook ] = function( fx ) {
			if ( !fx.colorInit ) {
				fx.start = color( fx.elem, hook );
				fx.end = color( fx.end );
				fx.colorInit = true;
			}
			jQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );
		};
	} );

};

color.hook( stepHooks );

jQuery.cssHooks.borderColor = {
	expand: function( value ) {
		var expanded = {};

		each( [ "Top", "Right", "Bottom", "Left" ], function( i, part ) {
			expanded[ "border" + part + "Color" ] = value;
		} );
		return expanded;
	}
};

// Basic color names only.
// Usage of any of the other color names requires adding yourself or including
// jquery.color.svg-names.js.
colors = jQuery.Color.names = {

	// 4.1. Basic color keywords
	aqua: "#00ffff",
	black: "#000000",
	blue: "#0000ff",
	fuchsia: "#ff00ff",
	gray: "#808080",
	green: "#008000",
	lime: "#00ff00",
	maroon: "#800000",
	navy: "#000080",
	olive: "#808000",
	purple: "#800080",
	red: "#ff0000",
	silver: "#c0c0c0",
	teal: "#008080",
	white: "#ffffff",
	yellow: "#ffff00",

	// 4.2.3. "transparent" color keyword
	transparent: [ null, null, null, 0 ],

	_default: "#ffffff"
};

} )( jQuery );

/******************************************************************************/
/****************************** CLASS ANIMATIONS ******************************/
/******************************************************************************/
( function() {

var classAnimationActions = [ "add", "remove", "toggle" ],
	shorthandStyles = {
		border: 1,
		borderBottom: 1,
		borderColor: 1,
		borderLeft: 1,
		borderRight: 1,
		borderTop: 1,
		borderWidth: 1,
		margin: 1,
		padding: 1
	};

$.each(
	[ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ],
	function( _, prop ) {
		$.fx.step[ prop ] = function( fx ) {
			if ( fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {
				jQuery.style( fx.elem, prop, fx.end );
				fx.setAttr = true;
			}
		};
	}
);

function getElementStyles( elem ) {
	var key, len,
		style = elem.ownerDocument.defaultView ?
			elem.ownerDocument.defaultView.getComputedStyle( elem, null ) :
			elem.currentStyle,
		styles = {};

	if ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {
		len = style.length;
		while ( len-- ) {
			key = style[ len ];
			if ( typeof style[ key ] === "string" ) {
				styles[ $.camelCase( key ) ] = style[ key ];
			}
		}

	// Support: Opera, IE <9
	} else {
		for ( key in style ) {
			if ( typeof style[ key ] === "string" ) {
				styles[ key ] = style[ key ];
			}
		}
	}

	return styles;
}

function styleDifference( oldStyle, newStyle ) {
	var diff = {},
		name, value;

	for ( name in newStyle ) {
		value = newStyle[ name ];
		if ( oldStyle[ name ] !== value ) {
			if ( !shorthandStyles[ name ] ) {
				if ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {
					diff[ name ] = value;
				}
			}
		}
	}

	return diff;
}

// Support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

$.effects.animateClass = function( value, duration, easing, callback ) {
	var o = $.speed( duration, easing, callback );

	return this.queue( function() {
		var animated = $( this ),
			baseClass = animated.attr( "class" ) || "",
			applyClassChange,
			allAnimations = o.children ? animated.find( "*" ).addBack() : animated;

		// Map the animated objects to store the original styles.
		allAnimations = allAnimations.map( function() {
			var el = $( this );
			return {
				el: el,
				start: getElementStyles( this )
			};
		} );

		// Apply class change
		applyClassChange = function() {
			$.each( classAnimationActions, function( i, action ) {
				if ( value[ action ] ) {
					animated[ action + "Class" ]( value[ action ] );
				}
			} );
		};
		applyClassChange();

		// Map all animated objects again - calculate new styles and diff
		allAnimations = allAnimations.map( function() {
			this.end = getElementStyles( this.el[ 0 ] );
			this.diff = styleDifference( this.start, this.end );
			return this;
		} );

		// Apply original class
		animated.attr( "class", baseClass );

		// Map all animated objects again - this time collecting a promise
		allAnimations = allAnimations.map( function() {
			var styleInfo = this,
				dfd = $.Deferred(),
				opts = $.extend( {}, o, {
					queue: false,
					complete: function() {
						dfd.resolve( styleInfo );
					}
				} );

			this.el.animate( this.diff, opts );
			return dfd.promise();
		} );

		// Once all animations have completed:
		$.when.apply( $, allAnimations.get() ).done( function() {

			// Set the final class
			applyClassChange();

			// For each animated element,
			// clear all css properties that were animated
			$.each( arguments, function() {
				var el = this.el;
				$.each( this.diff, function( key ) {
					el.css( key, "" );
				} );
			} );

			// This is guarnteed to be there if you use jQuery.speed()
			// it also handles dequeuing the next anim...
			o.complete.call( animated[ 0 ] );
		} );
	} );
};

$.fn.extend( {
	addClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return speed ?
				$.effects.animateClass.call( this,
					{ add: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.addClass ),

	removeClass: ( function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return arguments.length > 1 ?
				$.effects.animateClass.call( this,
					{ remove: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	} )( $.fn.removeClass ),

	toggleClass: ( function( orig ) {
		return function( classNames, force, speed, easing, callback ) {
			if ( typeof force === "boolean" || force === undefined ) {
				if ( !speed ) {

					// Without speed parameter
					return orig.apply( this, arguments );
				} else {
					return $.effects.animateClass.call( this,
						( force ? { add: classNames } : { remove: classNames } ),
						speed, easing, callback );
				}
			} else {

				// Without force parameter
				return $.effects.animateClass.call( this,
					{ toggle: classNames }, force, speed, easing );
			}
		};
	} )( $.fn.toggleClass ),

	switchClass: function( remove, add, speed, easing, callback ) {
		return $.effects.animateClass.call( this, {
			add: add,
			remove: remove
		}, speed, easing, callback );
	}
} );

} )();

/******************************************************************************/
/*********************************** EFFECTS **********************************/
/******************************************************************************/

( function() {

if ( $.expr && $.expr.filters && $.expr.filters.animated ) {
	$.expr.filters.animated = ( function( orig ) {
		return function( elem ) {
			return !!$( elem ).data( dataSpaceAnimated ) || orig( elem );
		};
	} )( $.expr.filters.animated );
}

if ( $.uiBackCompat !== false ) {
	$.extend( $.effects, {

		// Saves a set of properties in a data storage
		save: function( element, set ) {
			var i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					element.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );
				}
			}
		},

		// Restores a set of previously saved properties from a data storage
		restore: function( element, set ) {
			var val, i = 0, length = set.length;
			for ( ; i < length; i++ ) {
				if ( set[ i ] !== null ) {
					val = element.data( dataSpace + set[ i ] );
					element.css( set[ i ], val );
				}
			}
		},

		setMode: function( el, mode ) {
			if ( mode === "toggle" ) {
				mode = el.is( ":hidden" ) ? "show" : "hide";
			}
			return mode;
		},

		// Wraps the element around a wrapper that copies position properties
		createWrapper: function( element ) {

			// If the element is already wrapped, return it
			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				return element.parent();
			}

			// Wrap the element
			var props = {
					width: element.outerWidth( true ),
					height: element.outerHeight( true ),
					"float": element.css( "float" )
				},
				wrapper = $( "<div></div>" )
					.addClass( "ui-effects-wrapper" )
					.css( {
						fontSize: "100%",
						background: "transparent",
						border: "none",
						margin: 0,
						padding: 0
					} ),

				// Store the size in case width/height are defined in % - Fixes #5245
				size = {
					width: element.width(),
					height: element.height()
				},
				active = document.activeElement;

			// Support: Firefox
			// Firefox incorrectly exposes anonymous content
			// https://bugzilla.mozilla.org/show_bug.cgi?id=561664
			try {
				active.id;
			} catch ( e ) {
				active = document.body;
			}

			element.wrap( wrapper );

			// Fixes #7595 - Elements lose focus when wrapped.
			if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
				$( active ).trigger( "focus" );
			}

			// Hotfix for jQuery 1.4 since some change in wrap() seems to actually
			// lose the reference to the wrapped element
			wrapper = element.parent();

			// Transfer positioning properties to the wrapper
			if ( element.css( "position" ) === "static" ) {
				wrapper.css( { position: "relative" } );
				element.css( { position: "relative" } );
			} else {
				$.extend( props, {
					position: element.css( "position" ),
					zIndex: element.css( "z-index" )
				} );
				$.each( [ "top", "left", "bottom", "right" ], function( i, pos ) {
					props[ pos ] = element.css( pos );
					if ( isNaN( parseInt( props[ pos ], 10 ) ) ) {
						props[ pos ] = "auto";
					}
				} );
				element.css( {
					position: "relative",
					top: 0,
					left: 0,
					right: "auto",
					bottom: "auto"
				} );
			}
			element.css( size );

			return wrapper.css( props ).show();
		},

		removeWrapper: function( element ) {
			var active = document.activeElement;

			if ( element.parent().is( ".ui-effects-wrapper" ) ) {
				element.parent().replaceWith( element );

				// Fixes #7595 - Elements lose focus when wrapped.
				if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
					$( active ).trigger( "focus" );
				}
			}

			return element;
		}
	} );
}

$.extend( $.effects, {
	version: "1.12.1",

	define: function( name, mode, effect ) {
		if ( !effect ) {
			effect = mode;
			mode = "effect";
		}

		$.effects.effect[ name ] = effect;
		$.effects.effect[ name ].mode = mode;

		return effect;
	},

	scaledDimensions: function( element, percent, direction ) {
		if ( percent === 0 ) {
			return {
				height: 0,
				width: 0,
				outerHeight: 0,
				outerWidth: 0
			};
		}

		var x = direction !== "horizontal" ? ( ( percent || 100 ) / 100 ) : 1,
			y = direction !== "vertical" ? ( ( percent || 100 ) / 100 ) : 1;

		return {
			height: element.height() * y,
			width: element.width() * x,
			outerHeight: element.outerHeight() * y,
			outerWidth: element.outerWidth() * x
		};

	},

	clipToBox: function( animation ) {
		return {
			width: animation.clip.right - animation.clip.left,
			height: animation.clip.bottom - animation.clip.top,
			left: animation.clip.left,
			top: animation.clip.top
		};
	},

	// Injects recently queued functions to be first in line (after "inprogress")
	unshift: function( element, queueLength, count ) {
		var queue = element.queue();

		if ( queueLength > 1 ) {
			queue.splice.apply( queue,
				[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );
		}
		element.dequeue();
	},

	saveStyle: function( element ) {
		element.data( dataSpaceStyle, element[ 0 ].style.cssText );
	},

	restoreStyle: function( element ) {
		element[ 0 ].style.cssText = element.data( dataSpaceStyle ) || "";
		element.removeData( dataSpaceStyle );
	},

	mode: function( element, mode ) {
		var hidden = element.is( ":hidden" );

		if ( mode === "toggle" ) {
			mode = hidden ? "show" : "hide";
		}
		if ( hidden ? mode === "hide" : mode === "show" ) {
			mode = "none";
		}
		return mode;
	},

	// Translates a [top,left] array into a baseline value
	getBaseline: function( origin, original ) {
		var y, x;

		switch ( origin[ 0 ] ) {
		case "top":
			y = 0;
			break;
		case "middle":
			y = 0.5;
			break;
		case "bottom":
			y = 1;
			break;
		default:
			y = origin[ 0 ] / original.height;
		}

		switch ( origin[ 1 ] ) {
		case "left":
			x = 0;
			break;
		case "center":
			x = 0.5;
			break;
		case "right":
			x = 1;
			break;
		default:
			x = origin[ 1 ] / original.width;
		}

		return {
			x: x,
			y: y
		};
	},

	// Creates a placeholder element so that the original element can be made absolute
	createPlaceholder: function( element ) {
		var placeholder,
			cssPosition = element.css( "position" ),
			position = element.position();

		// Lock in margins first to account for form elements, which
		// will change margin if you explicitly set height
		// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380
		// Support: Safari
		element.css( {
			marginTop: element.css( "marginTop" ),
			marginBottom: element.css( "marginBottom" ),
			marginLeft: element.css( "marginLeft" ),
			marginRight: element.css( "marginRight" )
		} )
		.outerWidth( element.outerWidth() )
		.outerHeight( element.outerHeight() );

		if ( /^(static|relative)/.test( cssPosition ) ) {
			cssPosition = "absolute";

			placeholder = $( "<" + element[ 0 ].nodeName + ">" ).insertAfter( element ).css( {

				// Convert inline to inline block to account for inline elements
				// that turn to inline block based on content (like img)
				display: /^(inline|ruby)/.test( element.css( "display" ) ) ?
					"inline-block" :
					"block",
				visibility: "hidden",

				// Margins need to be set to account for margin collapse
				marginTop: element.css( "marginTop" ),
				marginBottom: element.css( "marginBottom" ),
				marginLeft: element.css( "marginLeft" ),
				marginRight: element.css( "marginRight" ),
				"float": element.css( "float" )
			} )
			.outerWidth( element.outerWidth() )
			.outerHeight( element.outerHeight() )
			.addClass( "ui-effects-placeholder" );

			element.data( dataSpace + "placeholder", placeholder );
		}

		element.css( {
			position: cssPosition,
			left: position.left,
			top: position.top
		} );

		return placeholder;
	},

	removePlaceholder: function( element ) {
		var dataKey = dataSpace + "placeholder",
				placeholder = element.data( dataKey );

		if ( placeholder ) {
			placeholder.remove();
			element.removeData( dataKey );
		}
	},

	// Removes a placeholder if it exists and restores
	// properties that were modified during placeholder creation
	cleanUp: function( element ) {
		$.effects.restoreStyle( element );
		$.effects.removePlaceholder( element );
	},

	setTransition: function( element, list, factor, value ) {
		value = value || {};
		$.each( list, function( i, x ) {
			var unit = element.cssUnit( x );
			if ( unit[ 0 ] > 0 ) {
				value[ x ] = unit[ 0 ] * factor + unit[ 1 ];
			}
		} );
		return value;
	}
} );

// Return an effect options object for the given parameters:
function _normalizeArguments( effect, options, speed, callback ) {

	// Allow passing all options as the first parameter
	if ( $.isPlainObject( effect ) ) {
		options = effect;
		effect = effect.effect;
	}

	// Convert to an object
	effect = { effect: effect };

	// Catch (effect, null, ...)
	if ( options == null ) {
		options = {};
	}

	// Catch (effect, callback)
	if ( $.isFunction( options ) ) {
		callback = options;
		speed = null;
		options = {};
	}

	// Catch (effect, speed, ?)
	if ( typeof options === "number" || $.fx.speeds[ options ] ) {
		callback = speed;
		speed = options;
		options = {};
	}

	// Catch (effect, options, callback)
	if ( $.isFunction( speed ) ) {
		callback = speed;
		speed = null;
	}

	// Add options to effect
	if ( options ) {
		$.extend( effect, options );
	}

	speed = speed || options.duration;
	effect.duration = $.fx.off ? 0 :
		typeof speed === "number" ? speed :
		speed in $.fx.speeds ? $.fx.speeds[ speed ] :
		$.fx.speeds._default;

	effect.complete = callback || options.complete;

	return effect;
}

function standardAnimationOption( option ) {

	// Valid standard speeds (nothing, number, named speed)
	if ( !option || typeof option === "number" || $.fx.speeds[ option ] ) {
		return true;
	}

	// Invalid strings - treat as "normal" speed
	if ( typeof option === "string" && !$.effects.effect[ option ] ) {
		return true;
	}

	// Complete callback
	if ( $.isFunction( option ) ) {
		return true;
	}

	// Options hash (but not naming an effect)
	if ( typeof option === "object" && !option.effect ) {
		return true;
	}

	// Didn't match any standard API
	return false;
}

$.fn.extend( {
	effect: function( /* effect, options, speed, callback */ ) {
		var args = _normalizeArguments.apply( this, arguments ),
			effectMethod = $.effects.effect[ args.effect ],
			defaultMode = effectMethod.mode,
			queue = args.queue,
			queueName = queue || "fx",
			complete = args.complete,
			mode = args.mode,
			modes = [],
			prefilter = function( next ) {
				var el = $( this ),
					normalizedMode = $.effects.mode( el, mode ) || defaultMode;

				// Sentinel for duck-punching the :animated psuedo-selector
				el.data( dataSpaceAnimated, true );

				// Save effect mode for later use,
				// we can't just call $.effects.mode again later,
				// as the .show() below destroys the initial state
				modes.push( normalizedMode );

				// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13
				if ( defaultMode && ( normalizedMode === "show" ||
						( normalizedMode === defaultMode && normalizedMode === "hide" ) ) ) {
					el.show();
				}

				if ( !defaultMode || normalizedMode !== "none" ) {
					$.effects.saveStyle( el );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			};

		if ( $.fx.off || !effectMethod ) {

			// Delegate to the original method (e.g., .show()) if possible
			if ( mode ) {
				return this[ mode ]( args.duration, complete );
			} else {
				return this.each( function() {
					if ( complete ) {
						complete.call( this );
					}
				} );
			}
		}

		function run( next ) {
			var elem = $( this );

			function cleanup() {
				elem.removeData( dataSpaceAnimated );

				$.effects.cleanUp( elem );

				if ( args.mode === "hide" ) {
					elem.hide();
				}

				done();
			}

			function done() {
				if ( $.isFunction( complete ) ) {
					complete.call( elem[ 0 ] );
				}

				if ( $.isFunction( next ) ) {
					next();
				}
			}

			// Override mode option on a per element basis,
			// as toggle can be either show or hide depending on element state
			args.mode = modes.shift();

			if ( $.uiBackCompat !== false && !defaultMode ) {
				if ( elem.is( ":hidden" ) ? mode === "hide" : mode === "show" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, done );
				}
			} else {
				if ( args.mode === "none" ) {

					// Call the core method to track "olddisplay" properly
					elem[ mode ]();
					done();
				} else {
					effectMethod.call( elem[ 0 ], args, cleanup );
				}
			}
		}

		// Run prefilter on all elements first to ensure that
		// any showing or hiding happens before placeholder creation,
		// which ensures that any layout changes are correctly captured.
		return queue === false ?
			this.each( prefilter ).each( run ) :
			this.queue( queueName, prefilter ).queue( queueName, run );
	},

	show: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "show";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.show ),

	hide: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "hide";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.hide ),

	toggle: ( function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) || typeof option === "boolean" ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "toggle";
				return this.effect.call( this, args );
			}
		};
	} )( $.fn.toggle ),

	cssUnit: function( key ) {
		var style = this.css( key ),
			val = [];

		$.each( [ "em", "px", "%", "pt" ], function( i, unit ) {
			if ( style.indexOf( unit ) > 0 ) {
				val = [ parseFloat( style ), unit ];
			}
		} );
		return val;
	},

	cssClip: function( clipObj ) {
		if ( clipObj ) {
			return this.css( "clip", "rect(" + clipObj.top + "px " + clipObj.right + "px " +
				clipObj.bottom + "px " + clipObj.left + "px)" );
		}
		return parseClip( this.css( "clip" ), this );
	},

	transfer: function( options, done ) {
		var element = $( this ),
			target = $( options.to ),
			targetFixed = target.css( "position" ) === "fixed",
			body = $( "body" ),
			fixTop = targetFixed ? body.scrollTop() : 0,
			fixLeft = targetFixed ? body.scrollLeft() : 0,
			endPosition = target.offset(),
			animation = {
				top: endPosition.top - fixTop,
				left: endPosition.left - fixLeft,
				height: target.innerHeight(),
				width: target.innerWidth()
			},
			startPosition = element.offset(),
			transfer = $( "<div class='ui-effects-transfer'></div>" )
				.appendTo( "body" )
				.addClass( options.className )
				.css( {
					top: startPosition.top - fixTop,
					left: startPosition.left - fixLeft,
					height: element.innerHeight(),
					width: element.innerWidth(),
					position: targetFixed ? "fixed" : "absolute"
				} )
				.animate( animation, options.duration, options.easing, function() {
					transfer.remove();
					if ( $.isFunction( done ) ) {
						done();
					}
				} );
	}
} );

function parseClip( str, element ) {
		var outerWidth = element.outerWidth(),
			outerHeight = element.outerHeight(),
			clipRegex = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
			values = clipRegex.exec( str ) || [ "", 0, outerWidth, outerHeight, 0 ];

		return {
			top: parseFloat( values[ 1 ] ) || 0,
			right: values[ 2 ] === "auto" ? outerWidth : parseFloat( values[ 2 ] ),
			bottom: values[ 3 ] === "auto" ? outerHeight : parseFloat( values[ 3 ] ),
			left: parseFloat( values[ 4 ] ) || 0
		};
}

$.fx.step.clip = function( fx ) {
	if ( !fx.clipInit ) {
		fx.start = $( fx.elem ).cssClip();
		if ( typeof fx.end === "string" ) {
			fx.end = parseClip( fx.end, fx.elem );
		}
		fx.clipInit = true;
	}

	$( fx.elem ).cssClip( {
		top: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,
		right: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,
		bottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,
		left: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left
	} );
};

} )();

/******************************************************************************/
/*********************************** EASING ***********************************/
/******************************************************************************/

( function() {

// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)

var baseEasings = {};

$.each( [ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function( i, name ) {
	baseEasings[ name ] = function( p ) {
		return Math.pow( p, i + 2 );
	};
} );

$.extend( baseEasings, {
	Sine: function( p ) {
		return 1 - Math.cos( p * Math.PI / 2 );
	},
	Circ: function( p ) {
		return 1 - Math.sqrt( 1 - p * p );
	},
	Elastic: function( p ) {
		return p === 0 || p === 1 ? p :
			-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );
	},
	Back: function( p ) {
		return p * p * ( 3 * p - 2 );
	},
	Bounce: function( p ) {
		var pow2,
			bounce = 4;

		while ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}
		return 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );
	}
} );

$.each( baseEasings, function( name, easeIn ) {
	$.easing[ "easeIn" + name ] = easeIn;
	$.easing[ "easeOut" + name ] = function( p ) {
		return 1 - easeIn( 1 - p );
	};
	$.easing[ "easeInOut" + name ] = function( p ) {
		return p < 0.5 ?
			easeIn( p * 2 ) / 2 :
			1 - easeIn( p * -2 + 2 ) / 2;
	};
} );

} )();

return $.effects;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-blind.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-blind.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Blind Effect
//>>group: Effects
//>>description: Blinds the element.
//>>docs: http://api.jqueryui.com/blind-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "blind", "hide", function( options, done ) {
	var map = {
			up: [ "bottom", "top" ],
			vertical: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			horizontal: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		element = $( this ),
		direction = options.direction || "up",
		start = element.cssClip(),
		animate = { clip: $.extend( {}, start ) },
		placeholder = $.effects.createPlaceholder( element );

	animate.clip[ map[ direction ][ 0 ] ] = animate.clip[ map[ direction ][ 1 ] ];

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animate ) );
		}

		animate.clip = start;
	}

	if ( placeholder ) {
		placeholder.animate( $.effects.clipToBox( animate ), options.duration, options.easing );
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-bounce.js":
/*!************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-bounce.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Bounce 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Bounce Effect
//>>group: Effects
//>>description: Bounces an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/bounce-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "bounce", function( options, done ) {
	var upAnim, downAnim, refValue,
		element = $( this ),

		// Defaults:
		mode = options.mode,
		hide = mode === "hide",
		show = mode === "show",
		direction = options.direction || "up",
		distance = options.distance,
		times = options.times || 5,

		// Number of internal animations
		anims = times * 2 + ( show || hide ? 1 : 0 ),
		speed = options.duration / anims,
		easing = options.easing,

		// Utility:
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ),
		i = 0,

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	refValue = element.css( ref );

	// Default distance for the BIGGEST bounce is the outer Distance / 3
	if ( !distance ) {
		distance = element[ ref === "top" ? "outerHeight" : "outerWidth" ]() / 3;
	}

	if ( show ) {
		downAnim = { opacity: 1 };
		downAnim[ ref ] = refValue;

		// If we are showing, force opacity 0 and set the initial position
		// then do the "first" animation
		element
			.css( "opacity", 0 )
			.css( ref, motion ? -distance * 2 : distance * 2 )
			.animate( downAnim, speed, easing );
	}

	// Start at the smallest distance if we are hiding
	if ( hide ) {
		distance = distance / Math.pow( 2, times - 1 );
	}

	downAnim = {};
	downAnim[ ref ] = refValue;

	// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here
	for ( ; i < times; i++ ) {
		upAnim = {};
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element
			.animate( upAnim, speed, easing )
			.animate( downAnim, speed, easing );

		distance = hide ? distance * 2 : distance / 2;
	}

	// Last Bounce when Hiding
	if ( hide ) {
		upAnim = { opacity: 0 };
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		element.animate( upAnim, speed, easing );
	}

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-clip.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-clip.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Clip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Clip Effect
//>>group: Effects
//>>description: Clips the element on and off like an old TV.
//>>docs: http://api.jqueryui.com/clip-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "clip", "hide", function( options, done ) {
	var start,
		animate = {},
		element = $( this ),
		direction = options.direction || "vertical",
		both = direction === "both",
		horizontal = both || direction === "horizontal",
		vertical = both || direction === "vertical";

	start = element.cssClip();
	animate.clip = {
		top: vertical ? ( start.bottom - start.top ) / 2 : start.top,
		right: horizontal ? ( start.right - start.left ) / 2 : start.right,
		bottom: vertical ? ( start.bottom - start.top ) / 2 : start.bottom,
		left: horizontal ? ( start.right - start.left ) / 2 : start.left
	};

	$.effects.createPlaceholder( element );

	if ( options.mode === "show" ) {
		element.cssClip( animate.clip );
		animate.clip = start;
	}

	element.animate( animate, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-drop.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-drop.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Drop 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Drop Effect
//>>group: Effects
//>>description: Moves an element in one direction and hides it at the same time.
//>>docs: http://api.jqueryui.com/drop-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "drop", "hide", function( options, done ) {

	var distance,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ) ? "-=" : "+=",
		oppositeMotion = ( motion === "+=" ) ? "-=" : "+=",
		animation = {
			opacity: 0
		};

	$.effects.createPlaceholder( element );

	distance = options.distance ||
		element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ) / 2;

	animation[ ref ] = motion + distance;

	if ( show ) {
		element.css( animation );

		animation[ ref ] = oppositeMotion + distance;
		animation.opacity = 1;
	}

	// Animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-explode.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-explode.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Explode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Explode Effect
//>>group: Effects
// jscs:disable maximumLineLength
//>>description: Explodes an element in all directions into n pieces. Implodes an element to its original wholeness.
// jscs:enable maximumLineLength
//>>docs: http://api.jqueryui.com/explode-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "explode", "hide", function( options, done ) {

	var i, j, left, top, mx, my,
		rows = options.pieces ? Math.round( Math.sqrt( options.pieces ) ) : 3,
		cells = rows,
		element = $( this ),
		mode = options.mode,
		show = mode === "show",

		// Show and then visibility:hidden the element before calculating offset
		offset = element.show().css( "visibility", "hidden" ).offset(),

		// Width and height of a piece
		width = Math.ceil( element.outerWidth() / cells ),
		height = Math.ceil( element.outerHeight() / rows ),
		pieces = [];

	// Children animate complete:
	function childComplete() {
		pieces.push( this );
		if ( pieces.length === rows * cells ) {
			animComplete();
		}
	}

	// Clone the element for each row and cell.
	for ( i = 0; i < rows; i++ ) { // ===>
		top = offset.top + i * height;
		my = i - ( rows - 1 ) / 2;

		for ( j = 0; j < cells; j++ ) { // |||
			left = offset.left + j * width;
			mx = j - ( cells - 1 ) / 2;

			// Create a clone of the now hidden main element that will be absolute positioned
			// within a wrapper div off the -left and -top equal to size of our pieces
			element
				.clone()
				.appendTo( "body" )
				.wrap( "<div></div>" )
				.css( {
					position: "absolute",
					visibility: "visible",
					left: -j * width,
					top: -i * height
				} )

				// Select the wrapper - make it overflow: hidden and absolute positioned based on
				// where the original was located +left and +top equal to the size of pieces
				.parent()
					.addClass( "ui-effects-explode" )
					.css( {
						position: "absolute",
						overflow: "hidden",
						width: width,
						height: height,
						left: left + ( show ? mx * width : 0 ),
						top: top + ( show ? my * height : 0 ),
						opacity: show ? 0 : 1
					} )
					.animate( {
						left: left + ( show ? 0 : mx * width ),
						top: top + ( show ? 0 : my * height ),
						opacity: show ? 1 : 0
					}, options.duration || 500, options.easing, childComplete );
		}
	}

	function animComplete() {
		element.css( {
			visibility: "visible"
		} );
		$( pieces ).remove();
		done();
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fade.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fade.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fade 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fade Effect
//>>group: Effects
//>>description: Fades the element.
//>>docs: http://api.jqueryui.com/fade-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fade", "toggle", function( options, done ) {
	var show = options.mode === "show";

	$( this )
		.css( "opacity", show ? 0 : 1 )
		.animate( {
			opacity: show ? 1 : 0
		}, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-fold.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-fold.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Fold 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Fold Effect
//>>group: Effects
//>>description: Folds an element first horizontally and then vertically.
//>>docs: http://api.jqueryui.com/fold-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "fold", "hide", function( options, done ) {

	// Create element
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		size = options.size || 15,
		percent = /([0-9]+)%/.exec( size ),
		horizFirst = !!options.horizFirst,
		ref = horizFirst ? [ "right", "bottom" ] : [ "bottom", "right" ],
		duration = options.duration / 2,

		placeholder = $.effects.createPlaceholder( element ),

		start = element.cssClip(),
		animation1 = { clip: $.extend( {}, start ) },
		animation2 = { clip: $.extend( {}, start ) },

		distance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ],

		queuelen = element.queue().length;

	if ( percent ) {
		size = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];
	}
	animation1.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 0 ] ] = size;
	animation2.clip[ ref[ 1 ] ] = 0;

	if ( show ) {
		element.cssClip( animation2.clip );
		if ( placeholder ) {
			placeholder.css( $.effects.clipToBox( animation2 ) );
		}

		animation2.clip = start;
	}

	// Animate
	element
		.queue( function( next ) {
			if ( placeholder ) {
				placeholder
					.animate( $.effects.clipToBox( animation1 ), duration, options.easing )
					.animate( $.effects.clipToBox( animation2 ), duration, options.easing );
			}

			next();
		} )
		.animate( animation1, duration, options.easing )
		.animate( animation2, duration, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, 4 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-highlight.js":
/*!***************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-highlight.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Highlight 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Highlight Effect
//>>group: Effects
//>>description: Highlights the background of an element in a defined color for a custom duration.
//>>docs: http://api.jqueryui.com/highlight-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "highlight", "show", function( options, done ) {
	var element = $( this ),
		animation = {
			backgroundColor: element.css( "backgroundColor" )
		};

	if ( options.mode === "hide" ) {
		animation.opacity = 0;
	}

	$.effects.saveStyle( element );

	element
		.css( {
			backgroundImage: "none",
			backgroundColor: options.color || "#ffff99"
		} )
		.animate( animation, {
			queue: false,
			duration: options.duration,
			easing: options.easing,
			complete: done
		} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-puff.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-puff.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Puff 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Puff Effect
//>>group: Effects
//>>description: Creates a puff effect by scaling the element up and hiding it at the same time.
//>>docs: http://api.jqueryui.com/puff-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "puff", "hide", function( options, done ) {
	var newOptions = $.extend( true, {}, options, {
		fade: true,
		percent: parseInt( options.percent, 10 ) || 150
	} );

	$.effects.effect.scale.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js":
/*!*************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-pulsate.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Pulsate 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Pulsate Effect
//>>group: Effects
//>>description: Pulsates an element n times by changing the opacity to zero and back.
//>>docs: http://api.jqueryui.com/pulsate-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "pulsate", "show", function( options, done ) {
	var element = $( this ),
		mode = options.mode,
		show = mode === "show",
		hide = mode === "hide",
		showhide = show || hide,

		// Showing or hiding leaves off the "last" animation
		anims = ( ( options.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),
		duration = options.duration / anims,
		animateTo = 0,
		i = 1,
		queuelen = element.queue().length;

	if ( show || !element.is( ":visible" ) ) {
		element.css( "opacity", 0 ).show();
		animateTo = 1;
	}

	// Anims - 1 opacity "toggles"
	for ( ; i < anims; i++ ) {
		element.animate( { opacity: animateTo }, duration, options.easing );
		animateTo = 1 - animateTo;
	}

	element.animate( { opacity: animateTo }, duration, options.easing );

	element.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-scale.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-scale.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Scale 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Scale Effect
//>>group: Effects
//>>description: Grows or shrinks an element and its content.
//>>docs: http://api.jqueryui.com/scale-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js"),
			__webpack_require__(/*! ./effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "scale", function( options, done ) {

	// Create element
	var el = $( this ),
		mode = options.mode,
		percent = parseInt( options.percent, 10 ) ||
			( parseInt( options.percent, 10 ) === 0 ? 0 : ( mode !== "effect" ? 0 : 100 ) ),

		newOptions = $.extend( true, {
			from: $.effects.scaledDimensions( el ),
			to: $.effects.scaledDimensions( el, percent, options.direction || "both" ),
			origin: options.origin || [ "middle", "center" ]
		}, options );

	// Fade option to support puff
	if ( options.fade ) {
		newOptions.from.opacity = 1;
		newOptions.to.opacity = 0;
	}

	$.effects.effect.size.call( this, newOptions, done );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-shake.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-shake.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Shake 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Shake Effect
//>>group: Effects
//>>description: Shakes an element horizontally or vertically n times.
//>>docs: http://api.jqueryui.com/shake-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "shake", function( options, done ) {

	var i = 1,
		element = $( this ),
		direction = options.direction || "left",
		distance = options.distance || 20,
		times = options.times || 3,
		anims = times * 2 + 1,
		speed = Math.round( options.duration / anims ),
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		animation = {},
		animation1 = {},
		animation2 = {},

		queuelen = element.queue().length;

	$.effects.createPlaceholder( element );

	// Animation
	animation[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance;
	animation1[ ref ] = ( positiveMotion ? "+=" : "-=" ) + distance * 2;
	animation2[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance * 2;

	// Animate
	element.animate( animation, speed, options.easing );

	// Shakes
	for ( ; i < times; i++ ) {
		element
			.animate( animation1, speed, options.easing )
			.animate( animation2, speed, options.easing );
	}

	element
		.animate( animation1, speed, options.easing )
		.animate( animation, speed / 2, options.easing )
		.queue( done );

	$.effects.unshift( element, queuelen, anims + 1 );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-size.js":
/*!**********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-size.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Size 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Size Effect
//>>group: Effects
//>>description: Resize an element to a specified width and height.
//>>docs: http://api.jqueryui.com/size-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "size", function( options, done ) {

	// Create element
	var baseline, factor, temp,
		element = $( this ),

		// Copy for children
		cProps = [ "fontSize" ],
		vProps = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ],
		hProps = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ],

		// Set options
		mode = options.mode,
		restore = mode !== "effect",
		scale = options.scale || "both",
		origin = options.origin || [ "middle", "center" ],
		position = element.css( "position" ),
		pos = element.position(),
		original = $.effects.scaledDimensions( element ),
		from = options.from || original,
		to = options.to || $.effects.scaledDimensions( element, 0 );

	$.effects.createPlaceholder( element );

	if ( mode === "show" ) {
		temp = from;
		from = to;
		to = temp;
	}

	// Set scaling factor
	factor = {
		from: {
			y: from.height / original.height,
			x: from.width / original.width
		},
		to: {
			y: to.height / original.height,
			x: to.width / original.width
		}
	};

	// Scale the css box
	if ( scale === "box" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, vProps, factor.from.y, from );
			to = $.effects.setTransition( element, vProps, factor.to.y, to );
		}

		// Horizontal props scaling
		if ( factor.from.x !== factor.to.x ) {
			from = $.effects.setTransition( element, hProps, factor.from.x, from );
			to = $.effects.setTransition( element, hProps, factor.to.x, to );
		}
	}

	// Scale the content
	if ( scale === "content" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			from = $.effects.setTransition( element, cProps, factor.from.y, from );
			to = $.effects.setTransition( element, cProps, factor.to.y, to );
		}
	}

	// Adjust the position properties based on the provided origin points
	if ( origin ) {
		baseline = $.effects.getBaseline( origin, original );
		from.top = ( original.outerHeight - from.outerHeight ) * baseline.y + pos.top;
		from.left = ( original.outerWidth - from.outerWidth ) * baseline.x + pos.left;
		to.top = ( original.outerHeight - to.outerHeight ) * baseline.y + pos.top;
		to.left = ( original.outerWidth - to.outerWidth ) * baseline.x + pos.left;
	}
	element.css( from );

	// Animate the children if desired
	if ( scale === "content" || scale === "both" ) {

		vProps = vProps.concat( [ "marginTop", "marginBottom" ] ).concat( cProps );
		hProps = hProps.concat( [ "marginLeft", "marginRight" ] );

		// Only animate children with width attributes specified
		// TODO: is this right? should we include anything with css width specified as well
		element.find( "*[width]" ).each( function() {
			var child = $( this ),
				childOriginal = $.effects.scaledDimensions( child ),
				childFrom = {
					height: childOriginal.height * factor.from.y,
					width: childOriginal.width * factor.from.x,
					outerHeight: childOriginal.outerHeight * factor.from.y,
					outerWidth: childOriginal.outerWidth * factor.from.x
				},
				childTo = {
					height: childOriginal.height * factor.to.y,
					width: childOriginal.width * factor.to.x,
					outerHeight: childOriginal.height * factor.to.y,
					outerWidth: childOriginal.width * factor.to.x
				};

			// Vertical props scaling
			if ( factor.from.y !== factor.to.y ) {
				childFrom = $.effects.setTransition( child, vProps, factor.from.y, childFrom );
				childTo = $.effects.setTransition( child, vProps, factor.to.y, childTo );
			}

			// Horizontal props scaling
			if ( factor.from.x !== factor.to.x ) {
				childFrom = $.effects.setTransition( child, hProps, factor.from.x, childFrom );
				childTo = $.effects.setTransition( child, hProps, factor.to.x, childTo );
			}

			if ( restore ) {
				$.effects.saveStyle( child );
			}

			// Animate children
			child.css( childFrom );
			child.animate( childTo, options.duration, options.easing, function() {

				// Restore children
				if ( restore ) {
					$.effects.restoreStyle( child );
				}
			} );
		} );
	}

	// Animate
	element.animate( to, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: function() {

			var offset = element.offset();

			if ( to.opacity === 0 ) {
				element.css( "opacity", from.opacity );
			}

			if ( !restore ) {
				element
					.css( "position", position === "static" ? "relative" : position )
					.offset( offset );

				// Need to save style here so that automatic style restoration
				// doesn't restore to the original styles from before the animation.
				$.effects.saveStyle( element );
			}

			done();
		}
	} );

} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-slide.js":
/*!***********************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-slide.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Slide 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slide Effect
//>>group: Effects
//>>description: Slides an element in and out of the viewport.
//>>docs: http://api.jqueryui.com/slide-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.effects.define( "slide", "show", function( options, done ) {
	var startClip, startRef,
		element = $( this ),
		map = {
			up: [ "bottom", "top" ],
			down: [ "top", "bottom" ],
			left: [ "right", "left" ],
			right: [ "left", "right" ]
		},
		mode = options.mode,
		direction = options.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		positiveMotion = ( direction === "up" || direction === "left" ),
		distance = options.distance ||
			element[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ),
		animation = {};

	$.effects.createPlaceholder( element );

	startClip = element.cssClip();
	startRef = element.position()[ ref ];

	// Define hide animation
	animation[ ref ] = ( positiveMotion ? -1 : 1 ) * distance + startRef;
	animation.clip = element.cssClip();
	animation.clip[ map[ direction ][ 1 ] ] = animation.clip[ map[ direction ][ 0 ] ];

	// Reverse the animation if we're showing
	if ( mode === "show" ) {
		element.cssClip( animation.clip );
		element.css( ref, animation[ ref ] );
		animation.clip = startClip;
		animation[ ref ] = startRef;
	}

	// Actually animate
	element.animate( animation, {
		queue: false,
		duration: options.duration,
		easing: options.easing,
		complete: done
	} );
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/effects/effect-transfer.js":
/*!**************************************************************!*\
  !*** ./node_modules/jquery-ui/ui/effects/effect-transfer.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Effects Transfer 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Transfer Effect
//>>group: Effects
//>>description: Displays a transfer effect from one element to another.
//>>docs: http://api.jqueryui.com/transfer-effect/
//>>demos: http://jqueryui.com/effect/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../effect */ "./node_modules/jquery-ui/ui/effect.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var effect;
if ( $.uiBackCompat !== false ) {
	effect = $.effects.define( "transfer", function( options, done ) {
		$( this ).transfer( options, done );
	} );
}
return effect;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/ie.js":
/*!*****************************************!*\
  !*** ./node_modules/jquery-ui/ui/ie.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

// This file is deprecated
return $.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );
} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/keycode.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/keycode.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Keycode
//>>group: Core
//>>description: Provide keycodes as keynames
//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {
return $.ui.keyCode = {
	BACKSPACE: 8,
	COMMA: 188,
	DELETE: 46,
	DOWN: 40,
	END: 35,
	ENTER: 13,
	ESCAPE: 27,
	HOME: 36,
	LEFT: 37,
	PAGE_DOWN: 34,
	PAGE_UP: 33,
	PERIOD: 190,
	RIGHT: 39,
	SPACE: 32,
	TAB: 9,
	UP: 38
};

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/version.js":
/*!**********************************************!*\
  !*** ./node_modules/jquery-ui/ui/version.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
} ( function( $ ) {

$.ui = $.ui || {};

return $.ui.version = "1.12.1";

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widget.js":
/*!*********************************************!*\
  !*** ./node_modules/jquery-ui/ui/widget.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Widget
//>>group: Core
//>>description: Provides a factory for creating stateful widgets with a common API.
//>>docs: http://api.jqueryui.com/jQuery.widget/
//>>demos: http://jqueryui.com/widget/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(/*! jquery */ "jquery"), __webpack_require__(/*! ./version */ "./node_modules/jquery-ui/ui/version.js") ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var widgetUuid = 0;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// Http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	// ProxiedPrototype allows the provided prototype to remain unmodified
	// so that it can be used as a mixin for multiple widgets (#8876)
	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( $.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	// Create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		// Allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// Allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	// Extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		// Copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),

		// Track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	} );

	basePrototype = new base();

	// We need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// Redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		// Remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {

				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );

				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			// If this is an empty collection, we need to have the instance method
			// return undefined instead of the jQuery instance
			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		// Callbacks
		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				// Element within the document
				element.ownerDocument :

				// Element is window or document
				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		// We can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		// Clean up events and states
		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			// Don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			// Handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			// We are doing this to create a new jQuery object because the _removeClass() call
			// on the next line is going to destroy the reference to the current elements being
			// tracked. We need to save a copy of this collection so that we can add the new classes
			// below.
			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			// We don't use _addClass() here, because that uses this.options.classes
			// for generating the string of classes. We want to use the value passed in from
			// _setOption(), this is the new value of the classes option which was passed to
			// _setOption(). We pass this value directly to _classes().
			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		// If the widget is becoming disabled, then nothing is interactive
		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					current = $( $.unique( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		this._on( options.element, {
			"remove": "_untrackClassesElement"
		} );

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		// No suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// No element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				// Allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// Copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName ).off( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		// The original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// Copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

return $.widget;

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/mouse.js":
/*!****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/mouse.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Mouse
//>>group: Widgets
//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.
//>>docs: http://api.jqueryui.com/mouse/

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ../ie */ "./node_modules/jquery-ui/ui/ie.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

var mouseHandled = false;
$( document ).on( "mouseup", function() {
	mouseHandled = false;
} );

return $.widget( "ui.mouse", {
	version: "1.12.1",
	options: {
		cancel: "input, textarea, button, select, option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.on( "mousedown." + this.widgetName, function( event ) {
				return that._mouseDown( event );
			} )
			.on( "click." + this.widgetName, function( event ) {
				if ( true === $.data( event.target, that.widgetName + ".preventClickEvent" ) ) {
					$.removeData( event.target, that.widgetName + ".preventClickEvent" );
					event.stopImmediatePropagation();
					return false;
				}
			} );

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.off( "." + this.widgetName );
		if ( this._mouseMoveDelegate ) {
			this.document
				.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
				.off( "mouseup." + this.widgetName, this._mouseUpDelegate );
		}
	},

	_mouseDown: function( event ) {

		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// We may have missed mouseup (out of window)
		( this._mouseStarted && this._mouseUp( event ) );

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = ( event.which === 1 ),

			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = ( typeof this.options.cancel === "string" && event.target.nodeName ?
				$( event.target ).closest( this.options.cancel ).length : false );
		if ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if ( !this.mouseDelayMet ) {
			this._mouseDelayTimer = setTimeout( function() {
				that.mouseDelayMet = true;
			}, this.options.delay );
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted = ( this._mouseStart( event ) !== false );
			if ( !this._mouseStarted ) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if ( true === $.data( event.target, this.widgetName + ".preventClickEvent" ) ) {
			$.removeData( event.target, this.widgetName + ".preventClickEvent" );
		}

		// These delegates are required to keep context
		this._mouseMoveDelegate = function( event ) {
			return that._mouseMove( event );
		};
		this._mouseUpDelegate = function( event ) {
			return that._mouseUp( event );
		};

		this.document
			.on( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.on( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function( event ) {

		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {

			// IE mouseup check - mouseup happened when mouse was out of window
			if ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&
					!event.button ) {
				return this._mouseUp( event );

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {

				// Support: Safari <=8 - 9
				// Safari sets which to 0 if you press any of the following keys
				// during a drag (#14461)
				if ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||
						event.originalEvent.metaKey || event.originalEvent.shiftKey ) {
					this.ignoreMissingWhich = true;
				} else if ( !this.ignoreMissingWhich ) {
					return this._mouseUp( event );
				}
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if ( this._mouseStarted ) {
			this._mouseDrag( event );
			return event.preventDefault();
		}

		if ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {
			this._mouseStarted =
				( this._mouseStart( this._mouseDownEvent, event ) !== false );
			( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );
		}

		return !this._mouseStarted;
	},

	_mouseUp: function( event ) {
		this.document
			.off( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.off( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if ( this._mouseStarted ) {
			this._mouseStarted = false;

			if ( event.target === this._mouseDownEvent.target ) {
				$.data( event.target, this.widgetName + ".preventClickEvent", true );
			}

			this._mouseStop( event );
		}

		if ( this._mouseDelayTimer ) {
			clearTimeout( this._mouseDelayTimer );
			delete this._mouseDelayTimer;
		}

		this.ignoreMissingWhich = false;
		mouseHandled = false;
		event.preventDefault();
	},

	_mouseDistanceMet: function( event ) {
		return ( Math.max(
				Math.abs( this._mouseDownEvent.pageX - event.pageX ),
				Math.abs( this._mouseDownEvent.pageY - event.pageY )
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function( /* event */ ) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function( /* event */ ) {},
	_mouseDrag: function( /* event */ ) {},
	_mouseStop: function( /* event */ ) {},
	_mouseCapture: function( /* event */ ) { return true; }
} );

} ) );


/***/ }),

/***/ "./node_modules/jquery-ui/ui/widgets/slider.js":
/*!*****************************************************!*\
  !*** ./node_modules/jquery-ui/ui/widgets/slider.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */

//>>label: Slider
//>>group: Widgets
//>>description: Displays a flexible slider with ranges and accessibility via keyboard.
//>>docs: http://api.jqueryui.com/slider/
//>>demos: http://jqueryui.com/slider/
//>>css.structure: ../../themes/base/core.css
//>>css.structure: ../../themes/base/slider.css
//>>css.theme: ../../themes/base/theme.css

( function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
			__webpack_require__(/*! jquery */ "jquery"),
			__webpack_require__(/*! ./mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js"),
			__webpack_require__(/*! ../keycode */ "./node_modules/jquery-ui/ui/keycode.js"),
			__webpack_require__(/*! ../version */ "./node_modules/jquery-ui/ui/version.js"),
			__webpack_require__(/*! ../widget */ "./node_modules/jquery-ui/ui/widget.js")
		], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}( function( $ ) {

return $.widget( "ui.slider", $.ui.mouse, {
	version: "1.12.1",
	widgetEventPrefix: "slide",

	options: {
		animate: false,
		classes: {
			"ui-slider": "ui-corner-all",
			"ui-slider-handle": "ui-corner-all",

			// Note: ui-widget-header isn't the most fittingly semantic framework class for this
			// element, but worked best visually with a variety of themes
			"ui-slider-range": "ui-corner-all ui-widget-header"
		},
		distance: 0,
		max: 100,
		min: 0,
		orientation: "horizontal",
		range: false,
		step: 1,
		value: 0,
		values: null,

		// Callbacks
		change: null,
		slide: null,
		start: null,
		stop: null
	},

	// Number of pages in a slider
	// (how many times can you page up/down to go through the whole range)
	numPages: 5,

	_create: function() {
		this._keySliding = false;
		this._mouseSliding = false;
		this._animateOff = true;
		this._handleIndex = null;
		this._detectOrientation();
		this._mouseInit();
		this._calculateNewMax();

		this._addClass( "ui-slider ui-slider-" + this.orientation,
			"ui-widget ui-widget-content" );

		this._refresh();

		this._animateOff = false;
	},

	_refresh: function() {
		this._createRange();
		this._createHandles();
		this._setupEvents();
		this._refreshValue();
	},

	_createHandles: function() {
		var i, handleCount,
			options = this.options,
			existingHandles = this.element.find( ".ui-slider-handle" ),
			handle = "<span tabindex='0'></span>",
			handles = [];

		handleCount = ( options.values && options.values.length ) || 1;

		if ( existingHandles.length > handleCount ) {
			existingHandles.slice( handleCount ).remove();
			existingHandles = existingHandles.slice( 0, handleCount );
		}

		for ( i = existingHandles.length; i < handleCount; i++ ) {
			handles.push( handle );
		}

		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );

		this._addClass( this.handles, "ui-slider-handle", "ui-state-default" );

		this.handle = this.handles.eq( 0 );

		this.handles.each( function( i ) {
			$( this )
				.data( "ui-slider-handle-index", i )
				.attr( "tabIndex", 0 );
		} );
	},

	_createRange: function() {
		var options = this.options;

		if ( options.range ) {
			if ( options.range === true ) {
				if ( !options.values ) {
					options.values = [ this._valueMin(), this._valueMin() ];
				} else if ( options.values.length && options.values.length !== 2 ) {
					options.values = [ options.values[ 0 ], options.values[ 0 ] ];
				} else if ( $.isArray( options.values ) ) {
					options.values = options.values.slice( 0 );
				}
			}

			if ( !this.range || !this.range.length ) {
				this.range = $( "<div>" )
					.appendTo( this.element );

				this._addClass( this.range, "ui-slider-range" );
			} else {
				this._removeClass( this.range, "ui-slider-range-min ui-slider-range-max" );

				// Handle range switching from true to min/max
				this.range.css( {
					"left": "",
					"bottom": ""
				} );
			}
			if ( options.range === "min" || options.range === "max" ) {
				this._addClass( this.range, "ui-slider-range-" + options.range );
			}
		} else {
			if ( this.range ) {
				this.range.remove();
			}
			this.range = null;
		}
	},

	_setupEvents: function() {
		this._off( this.handles );
		this._on( this.handles, this._handleEvents );
		this._hoverable( this.handles );
		this._focusable( this.handles );
	},

	_destroy: function() {
		this.handles.remove();
		if ( this.range ) {
			this.range.remove();
		}

		this._mouseDestroy();
	},

	_mouseCapture: function( event ) {
		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
			that = this,
			o = this.options;

		if ( o.disabled ) {
			return false;
		}

		this.elementSize = {
			width: this.element.outerWidth(),
			height: this.element.outerHeight()
		};
		this.elementOffset = this.element.offset();

		position = { x: event.pageX, y: event.pageY };
		normValue = this._normValueFromMouse( position );
		distance = this._valueMax() - this._valueMin() + 1;
		this.handles.each( function( i ) {
			var thisDistance = Math.abs( normValue - that.values( i ) );
			if ( ( distance > thisDistance ) ||
				( distance === thisDistance &&
					( i === that._lastChangedValue || that.values( i ) === o.min ) ) ) {
				distance = thisDistance;
				closestHandle = $( this );
				index = i;
			}
		} );

		allowed = this._start( event, index );
		if ( allowed === false ) {
			return false;
		}
		this._mouseSliding = true;

		this._handleIndex = index;

		this._addClass( closestHandle, null, "ui-state-active" );
		closestHandle.trigger( "focus" );

		offset = closestHandle.offset();
		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
			top: event.pageY - offset.top -
				( closestHandle.height() / 2 ) -
				( parseInt( closestHandle.css( "borderTopWidth" ), 10 ) || 0 ) -
				( parseInt( closestHandle.css( "borderBottomWidth" ), 10 ) || 0 ) +
				( parseInt( closestHandle.css( "marginTop" ), 10 ) || 0 )
		};

		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
			this._slide( event, index, normValue );
		}
		this._animateOff = true;
		return true;
	},

	_mouseStart: function() {
		return true;
	},

	_mouseDrag: function( event ) {
		var position = { x: event.pageX, y: event.pageY },
			normValue = this._normValueFromMouse( position );

		this._slide( event, this._handleIndex, normValue );

		return false;
	},

	_mouseStop: function( event ) {
		this._removeClass( this.handles, null, "ui-state-active" );
		this._mouseSliding = false;

		this._stop( event, this._handleIndex );
		this._change( event, this._handleIndex );

		this._handleIndex = null;
		this._clickOffset = null;
		this._animateOff = false;

		return false;
	},

	_detectOrientation: function() {
		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
	},

	_normValueFromMouse: function( position ) {
		var pixelTotal,
			pixelMouse,
			percentMouse,
			valueTotal,
			valueMouse;

		if ( this.orientation === "horizontal" ) {
			pixelTotal = this.elementSize.width;
			pixelMouse = position.x - this.elementOffset.left -
				( this._clickOffset ? this._clickOffset.left : 0 );
		} else {
			pixelTotal = this.elementSize.height;
			pixelMouse = position.y - this.elementOffset.top -
				( this._clickOffset ? this._clickOffset.top : 0 );
		}

		percentMouse = ( pixelMouse / pixelTotal );
		if ( percentMouse > 1 ) {
			percentMouse = 1;
		}
		if ( percentMouse < 0 ) {
			percentMouse = 0;
		}
		if ( this.orientation === "vertical" ) {
			percentMouse = 1 - percentMouse;
		}

		valueTotal = this._valueMax() - this._valueMin();
		valueMouse = this._valueMin() + percentMouse * valueTotal;

		return this._trimAlignValue( valueMouse );
	},

	_uiHash: function( index, value, values ) {
		var uiHash = {
			handle: this.handles[ index ],
			handleIndex: index,
			value: value !== undefined ? value : this.value()
		};

		if ( this._hasMultipleValues() ) {
			uiHash.value = value !== undefined ? value : this.values( index );
			uiHash.values = values || this.values();
		}

		return uiHash;
	},

	_hasMultipleValues: function() {
		return this.options.values && this.options.values.length;
	},

	_start: function( event, index ) {
		return this._trigger( "start", event, this._uiHash( index ) );
	},

	_slide: function( event, index, newVal ) {
		var allowed, otherVal,
			currentValue = this.value(),
			newValues = this.values();

		if ( this._hasMultipleValues() ) {
			otherVal = this.values( index ? 0 : 1 );
			currentValue = this.values( index );

			if ( this.options.values.length === 2 && this.options.range === true ) {
				newVal =  index === 0 ? Math.min( otherVal, newVal ) : Math.max( otherVal, newVal );
			}

			newValues[ index ] = newVal;
		}

		if ( newVal === currentValue ) {
			return;
		}

		allowed = this._trigger( "slide", event, this._uiHash( index, newVal, newValues ) );

		// A slide can be canceled by returning false from the slide callback
		if ( allowed === false ) {
			return;
		}

		if ( this._hasMultipleValues() ) {
			this.values( index, newVal );
		} else {
			this.value( newVal );
		}
	},

	_stop: function( event, index ) {
		this._trigger( "stop", event, this._uiHash( index ) );
	},

	_change: function( event, index ) {
		if ( !this._keySliding && !this._mouseSliding ) {

			//store the last changed value index for reference when handles overlap
			this._lastChangedValue = index;
			this._trigger( "change", event, this._uiHash( index ) );
		}
	},

	value: function( newValue ) {
		if ( arguments.length ) {
			this.options.value = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, 0 );
			return;
		}

		return this._value();
	},

	values: function( index, newValue ) {
		var vals,
			newValues,
			i;

		if ( arguments.length > 1 ) {
			this.options.values[ index ] = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, index );
			return;
		}

		if ( arguments.length ) {
			if ( $.isArray( arguments[ 0 ] ) ) {
				vals = this.options.values;
				newValues = arguments[ 0 ];
				for ( i = 0; i < vals.length; i += 1 ) {
					vals[ i ] = this._trimAlignValue( newValues[ i ] );
					this._change( null, i );
				}
				this._refreshValue();
			} else {
				if ( this._hasMultipleValues() ) {
					return this._values( index );
				} else {
					return this.value();
				}
			}
		} else {
			return this._values();
		}
	},

	_setOption: function( key, value ) {
		var i,
			valsLength = 0;

		if ( key === "range" && this.options.range === true ) {
			if ( value === "min" ) {
				this.options.value = this._values( 0 );
				this.options.values = null;
			} else if ( value === "max" ) {
				this.options.value = this._values( this.options.values.length - 1 );
				this.options.values = null;
			}
		}

		if ( $.isArray( this.options.values ) ) {
			valsLength = this.options.values.length;
		}

		this._super( key, value );

		switch ( key ) {
			case "orientation":
				this._detectOrientation();
				this._removeClass( "ui-slider-horizontal ui-slider-vertical" )
					._addClass( "ui-slider-" + this.orientation );
				this._refreshValue();
				if ( this.options.range ) {
					this._refreshRange( value );
				}

				// Reset positioning from previous orientation
				this.handles.css( value === "horizontal" ? "bottom" : "left", "" );
				break;
			case "value":
				this._animateOff = true;
				this._refreshValue();
				this._change( null, 0 );
				this._animateOff = false;
				break;
			case "values":
				this._animateOff = true;
				this._refreshValue();

				// Start from the last handle to prevent unreachable handles (#9046)
				for ( i = valsLength - 1; i >= 0; i-- ) {
					this._change( null, i );
				}
				this._animateOff = false;
				break;
			case "step":
			case "min":
			case "max":
				this._animateOff = true;
				this._calculateNewMax();
				this._refreshValue();
				this._animateOff = false;
				break;
			case "range":
				this._animateOff = true;
				this._refresh();
				this._animateOff = false;
				break;
		}
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this._toggleClass( null, "ui-state-disabled", !!value );
	},

	//internal value getter
	// _value() returns value trimmed by min and max, aligned by step
	_value: function() {
		var val = this.options.value;
		val = this._trimAlignValue( val );

		return val;
	},

	//internal values getter
	// _values() returns array of values trimmed by min and max, aligned by step
	// _values( index ) returns single value trimmed by min and max, aligned by step
	_values: function( index ) {
		var val,
			vals,
			i;

		if ( arguments.length ) {
			val = this.options.values[ index ];
			val = this._trimAlignValue( val );

			return val;
		} else if ( this._hasMultipleValues() ) {

			// .slice() creates a copy of the array
			// this copy gets trimmed by min and max and then returned
			vals = this.options.values.slice();
			for ( i = 0; i < vals.length; i += 1 ) {
				vals[ i ] = this._trimAlignValue( vals[ i ] );
			}

			return vals;
		} else {
			return [];
		}
	},

	// Returns the step-aligned value that val is closest to, between (inclusive) min and max
	_trimAlignValue: function( val ) {
		if ( val <= this._valueMin() ) {
			return this._valueMin();
		}
		if ( val >= this._valueMax() ) {
			return this._valueMax();
		}
		var step = ( this.options.step > 0 ) ? this.options.step : 1,
			valModStep = ( val - this._valueMin() ) % step,
			alignValue = val - valModStep;

		if ( Math.abs( valModStep ) * 2 >= step ) {
			alignValue += ( valModStep > 0 ) ? step : ( -step );
		}

		// Since JavaScript has problems with large floats, round
		// the final value to 5 digits after the decimal point (see #4124)
		return parseFloat( alignValue.toFixed( 5 ) );
	},

	_calculateNewMax: function() {
		var max = this.options.max,
			min = this._valueMin(),
			step = this.options.step,
			aboveMin = Math.round( ( max - min ) / step ) * step;
		max = aboveMin + min;
		if ( max > this.options.max ) {

			//If max is not divisible by step, rounding off may increase its value
			max -= step;
		}
		this.max = parseFloat( max.toFixed( this._precision() ) );
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_valueMin: function() {
		return this.options.min;
	},

	_valueMax: function() {
		return this.max;
	},

	_refreshRange: function( orientation ) {
		if ( orientation === "vertical" ) {
			this.range.css( { "width": "", "left": "" } );
		}
		if ( orientation === "horizontal" ) {
			this.range.css( { "height": "", "bottom": "" } );
		}
	},

	_refreshValue: function() {
		var lastValPercent, valPercent, value, valueMin, valueMax,
			oRange = this.options.range,
			o = this.options,
			that = this,
			animate = ( !this._animateOff ) ? o.animate : false,
			_set = {};

		if ( this._hasMultipleValues() ) {
			this.handles.each( function( i ) {
				valPercent = ( that.values( i ) - that._valueMin() ) / ( that._valueMax() -
					that._valueMin() ) * 100;
				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
				if ( that.options.range === true ) {
					if ( that.orientation === "horizontal" ) {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								left: valPercent + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								width: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					} else {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
								bottom: ( valPercent ) + "%"
							}, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( {
								height: ( valPercent - lastValPercent ) + "%"
							}, {
								queue: false,
								duration: o.animate
							} );
						}
					}
				}
				lastValPercent = valPercent;
			} );
		} else {
			value = this.value();
			valueMin = this._valueMin();
			valueMax = this._valueMax();
			valPercent = ( valueMax !== valueMin ) ?
					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
					0;
			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );

			if ( oRange === "min" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					width: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
			if ( oRange === "min" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: valPercent + "%"
				}, o.animate );
			}
			if ( oRange === "max" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( {
					height: ( 100 - valPercent ) + "%"
				}, o.animate );
			}
		}
	},

	_handleEvents: {
		keydown: function( event ) {
			var allowed, curVal, newVal, step,
				index = $( event.target ).data( "ui-slider-handle-index" );

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_UP:
				case $.ui.keyCode.PAGE_DOWN:
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					event.preventDefault();
					if ( !this._keySliding ) {
						this._keySliding = true;
						this._addClass( $( event.target ), null, "ui-state-active" );
						allowed = this._start( event, index );
						if ( allowed === false ) {
							return;
						}
					}
					break;
			}

			step = this.options.step;
			if ( this._hasMultipleValues() ) {
				curVal = newVal = this.values( index );
			} else {
				curVal = newVal = this.value();
			}

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
					newVal = this._valueMin();
					break;
				case $.ui.keyCode.END:
					newVal = this._valueMax();
					break;
				case $.ui.keyCode.PAGE_UP:
					newVal = this._trimAlignValue(
						curVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )
					);
					break;
				case $.ui.keyCode.PAGE_DOWN:
					newVal = this._trimAlignValue(
						curVal - ( ( this._valueMax() - this._valueMin() ) / this.numPages ) );
					break;
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
					if ( curVal === this._valueMax() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal + step );
					break;
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					if ( curVal === this._valueMin() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal - step );
					break;
			}

			this._slide( event, index, newVal );
		},
		keyup: function( event ) {
			var index = $( event.target ).data( "ui-slider-handle-index" );

			if ( this._keySliding ) {
				this._keySliding = false;
				this._stop( event, index );
				this._change( event, index );
				this._removeClass( $( event.target ), null, "ui-state-active" );
			}
		}
	}
} );

} ) );


/***/ }),

/***/ "./node_modules/manifesto.js/dist-umd/manifesto.js":
/*!*********************************************************!*\
  !*** ./node_modules/manifesto.js/dist-umd/manifesto.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13)),r(n(14)),r(n(15)),r(n(16)),r(n(17)),r(n(18)),r(n(19)),r(n(20)),r(n(21)),r(n(22)),r(n(23)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(32)),r(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BOOKMARKING="oa:bookmarking",e.CLASSIFYING="oa:classifying",e.COMMENTING="oa:commenting",e.DESCRIBING="oa:describing",e.EDITING="oa:editing",e.HIGHLIGHTING="oa:highlighting",e.IDENTIFYING="oa:identifying",e.LINKING="oa:linking",e.MODERATING="oa:moderating",e.PAINTING="sc:painting",e.QUESTIONING="oa:questioning",e.REPLYING="oa:replying",e.TAGGING="oa:tagging",e.TRANSCRIBING="oad:transcribing"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE="auto-advance",e.CONTINUOUS="continuous",e.FACING_PAGES="facing-pages",e.HIDDEN="hidden",e.INDIVIDUALS="individuals",e.MULTI_PART="multi-part",e.NO_NAV="no-nav",e.NON_PAGED="non-paged",e.PAGED="paged",e.REPEAT="repeat",e.SEQUENCE="sequence",e.THUMBNAIL_NAV="thumbnail-nav",e.TOGETHER="together",e.UNORDERED="unordered"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS="canvas",e.CHOICE="choice",e.CONTENT_AS_TEXT="contentastext",e.DOCUMENT="document",e.IMAGE="image",e.MOVING_IMAGE="movingimage",e.PDF="pdf",e.PHYSICAL_OBJECT="physicalobject",e.SOUND="sound",e.TEXTUALBODY="textualbody",e.VIDEO="video"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION="annotation",e.CANVAS="canvas",e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range",e.SEQUENCE="sequence"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4="audio/mp4",e.CORTO="application/corto",e.DRACO="application/draco",e.GLTF="model/gltf+json",e.JPG="image/jpeg",e.M3U8="application/vnd.apple.mpegurl",e.MP3="audio/mp3",e.MPEG_DASH="application/dash+xml",e.OBJ="text/plain",e.PDF="application/pdf",e.PLY="application/ply",e.THREEJS="application/vnd.threejs+json",e.VIDEO_MP4="video/mp4",e.WEBM="video/webm"}(t.MediaType||(t.MediaType={})),function(e){e.DOC="application/msword",e.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.PDF="application/pdf"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",e.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",e.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",e.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",e.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",e.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",e.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",e.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",e.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",e.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",e.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",e.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",e.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",e.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",e.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",e.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",e.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",e.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",e.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",e.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",e.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",e.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",e.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",e.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",e.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",e.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",e.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",e.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",e.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",e.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",e.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",e.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",e.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",e.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",e.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",e.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",e.SEARCH_0="http://iiif.io/api/search/0/search",e.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",e.SEARCH_1="http://iiif.io/api/search/1/search",e.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",e.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",e.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",e.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",e.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",e.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",e.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP="bottom-to-top",e.LEFT_TO_RIGHT="left-to-right",e.RIGHT_TO_LEFT="right-to-left",e.TOP_TO_BOTTOM="top-to-bottom"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS="continuous",e.INDIVIDUALS="individuals",e.NON_PAGED="non-paged",e.PAGED="paged",e.TOP="top"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_LEVEL_1||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_LEVEL_2||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var r=e[n];if(t===r["@language"])return r["@value"]}var i=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===i)return o["@value"]}return null},e.generateTreeNodeIds=function(t,n){var r;void 0===n&&(n=0),r=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=r;for(var i=0;i<t.nodes.length;i++){var o=t.nodes[i];e.generateTreeNodeIds(o,i)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,r,i,o,s,a,u){return new Promise((function(c,l){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,r,i,o,s,a,u)}));Promise.all(p).then((function(){c(t)})).catch((function(e){l(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,s,u,c,l,p){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,s(t)];case 1:return(r=i.sent())?[4,t.getData(r)]:[3,6];case 2:return i.sent(),t.status!==a.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,c,l,p)];case 4:i.sent(),i.label=5;case 5:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return i.sent(),t.status!==a.MOVED_TEMPORARILY&&t.status!==a.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,c,l,p)];case 8:i.sent(),i.label=9;case 9:if(t.status===a.OK||t.status===a.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,s,u,c,l){return r(this,void 0,void 0,(function(){var r,p,f,h,_,g,d,E;return i(this,(function(i){switch(i.label){case 0:return t.isAccessControlled()?((r=t.externalService)&&(r.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==a.MOVED_TEMPORARILY?[3,2]:[4,c(t)]):[2,t];case 1:return i.sent(),[2,t];case 2:return _=null,g=null,(_=r)?(g=_,[4,e.attemptResourceWithToken(t,o,_)]):[3,4];case 3:return i.sent(),[2,t];case 4:return(_=p)?(g=_,(d=n(_))?[4,s(d)]:[3,7]):[3,7];case 5:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 6:return i.sent(),[2,t];case 7:return(_=f)?(g=_,[4,u(t,_)]):[3,11];case 8:return(E=i.sent())?[4,s(E)]:[3,11];case 9:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 10:return i.sent(),[2,t];case 11:return(_=h)?(g=_,[4,u(t,_)]):[3,15];case 12:return(E=i.sent())?[4,s(E)]:[3,15];case 13:return i.sent(),[4,e.attemptResourceWithToken(t,o,_)];case 14:return i.sent(),[2,t];case 15:return g&&l(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=n.getService(s.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,r)]:[3,3];case 1:return(o=i.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return i.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,r,i,o,s,a,u,c,l){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,r,i,o,s,a,u,c,l)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,r,i,o,s,u,c,l,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(r(t)),f(i(t))):o(t).then((function(){s(t,!0).then((function(n){t.getData(n).then((function(){f(l(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):c(t,n).then((function(p){p?t.getData(p).then((function(){t.status===a.OK?f(l(t)):e.authorize(t,n,r,i,o,s,u,c).then((function(){f(l(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,r,i,o,s,u,c).then((function(){f(l(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,r,i,o,s,u,c){return new Promise((function(l,p){t.getData().then((function(){t.isAccessControlled()?c(t,n).then((function(c){c?t.getData(c).then((function(){t.status===a.OK?l(t):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)})).catch((function(t){p(e.createInternalServerError(t))})):s(t,!1).then((function(c){c?u(t,c,n).then((function(){t.getData(c).then((function(){t.status===a.OK?l(t):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,r,i,o,s,u,l,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):l(t)}))}))},e.showAuthInteraction=function(t,n,r,i,o,s,u,c,l){t.status!==a.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?r(t).then((function(){s(t,!0).then((function(r){u(t,r,n).then((function(){t.getData(r).then((function(){c(t)})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})):o(t).then((function(){s(t,!0).then((function(r){u(t,r,n).then((function(){t.getData(r).then((function(){c(t)})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})).catch((function(t){l(e.createInternalServerError(t))}))})):c(t)},e.getService=function(e,t){for(var n=this.getServices(e),r=0;r<n.length;r++){var i=n[r];if(i.getProfile()===t)return i}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,r){if(t.hasOwnProperty(n)&&t[n]===r)return t;for(var i=0;i<Object.keys(t).length;i++)if("object"==typeof t[Object.keys(t)[i]]){var o=e.traverseAndFind(t[Object.keys(t)[i]],n,r);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if("string"==typeof i){var s=this.getResourceById(e.options.resource,i);s&&n.push(new o.Service(s.__jsonld||s,e.options))}else n.push(new o.Service(i,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var r=n(2);t.loadManifest=function(e){return r.Utils.loadManifest(e)},t.parseManifest=function(e,t){return r.Utils.parseManifest(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.options=n,r}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n],i=new o.LabelValuePair(this.options.locale);i.parse(r),t.push(i)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var r=t[n];if(r.getFormat()===e)return r}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];t.push(new o.Rendering(r,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===s.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===s.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===s.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===s.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],r=new o.Annotation(n,this.options);e.push(r)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.index=-1,r.isLoaded=!1;var i={defaultLabel:"-",locale:"en-GB",resource:r,pessimisticAccessControl:!1};return r.options=Object.assign(i,n),r}return i(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(s.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(r){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var i=o.Deserialiser.parse(r,n);(e=Object.assign(e,i)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++){if((s=t[n]).items)for(var r=0;r<s.items.length;r++){var i=s.items[r];e.push(new o.AnnotationBody(i,this.options))}else e.push(new o.AnnotationBody(s,this.options))}else if(t.items)for(n=0;n<t.items.length;n++){var s=t.items[n];e.push(new o.AnnotationBody(s,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){var e=this.getProperty("motivation");return e||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new o.Resource(this.getProperty("resource"),this.options)},t}(o.ManifestResource);t.Annotation=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?o.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.ManifestResource);t.AnnotationBody=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.label=t,i.options=r,i}return i(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var r=e.__jsonld.id;r||(r=e.__jsonld["@id"]),o.Utils.loadManifest(r).then((function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,r="default",i=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],i||(i=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(r="native");else{var s=this.getImages();if(s&&s.length){var a=s[0].getResource(),u=a.getServices();if(i||(i=a.getWidth()),u.length){var c=u[0];n=c.id,r=o.Utils.getImageQuality(c.getProfile())}else if(i===a.getWidth())return a.id}if(!n){var l=this.getProperty("thumbnail");if(l){if("string"==typeof l)return l;if(l["@id"])return l["@id"];if(l.length)return l[0].id}}}return t=i+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,r+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var r=n.getItems(),i=0;i<r.length;i++){var s=r[i],a=new o.Annotation(s,this.options);e.push(a)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],r=new o.Annotation(n,this.options);e.push(r)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this,t=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],n=t.filter((function(e){return e&&(t=e["@type"],n="sc:AnnotationList","string"==typeof t&&"string"==typeof n&&t.toLowerCase()==t.toLowerCase());var t,n})).map((function(t,n){return new o.AnnotationList(t.label||"Annotation list "+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(n)},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(o.Resource);t.Canvas=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._collections=null,r._manifests=null,t.__collection=r,r}return i(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),r=0;r<n.length;r++){var i=n[r];i.index===e&&(t=i)}if(t)return t.options.index=e,t.load();throw new Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],r=n.getDefaultTree();r.label=n.parentLabel||s.LanguageMap.getValue(n.getLabel(),this.options.locale)||"manifest "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),e.defaultTree.addNode(r)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],r=n.getDefaultTree();r.label=n.parentLabel||s.LanguageMap.getValue(n.getLabel(),this.options.locale)||"collection "+(t+1),r.navDate=n.getNavDate(),r.data.id=n.id,r.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),e.defaultTree.addNode(r)}},t}(s.IIIFResource);t.Collection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=r.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=r.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?r.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===r.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),r.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===r.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t};t.Language=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.parse=function(e,t){var n,r=[];if(!e)return r;if(Array.isArray(e))for(var i=0;i<e.length;i++){var s=e[i];n="string"==typeof s?new o.Language(s,t):new o.Language(s["@value"],s["@language"]||t),r.push(n)}else{if("string"==typeof e)return n=new o.Language(e,t),r.push(n),r;e["@value"]?(n=new o.Language(e["@value"],e["@language"]||t),r.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error("language must have a value");n=new o.Language(e[t],t),r.push(n)}))}return r},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.index=0,r._allRanges=null,r.items=[],r._topRanges=[],r.__jsonld.structures&&r.__jsonld.structures.length)for(var i=r._getTopRanges(),o=0;o<i.length;o++){var s=i[o];r._parseRanges(s,String(o))}return r}return i(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new s.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var r={};r.ranges=this.__jsonld.structures,e.push(r)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var r,i=null;if("string"==typeof e&&(i=e,e=this._getRangeById(i)),e){(r=new s.Range(e,this.options)).parentRange=n,r.path=t,n?n.items.push(r):this._topRanges.push(r);var o=e.items||e.members;if(o)for(var a=0;a<o.length;a++){var u=o[a];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+a,r);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){r.canvases||(r.canvases=[]);var c=u.id||u["@id"];r.canvases.push(c)}}else if(e.ranges)for(a=0;a<e.ranges.length;a++)this._parseRanges(e.ranges[a],t+"/"+a,r)}else console.warn("Range:",i,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var r=e[t];r.id&&n._allRanges.push(r);var i=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(i,e):e},o=Array.from(r.getRanges().reduce(i,new Set));n._allRanges=n._allRanges.concat(o)},n=this,r=0;r<e.length;r++)t(r);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.path===e)return r}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=new s.Sequence(n,this.options);this.items.push(r)}else if(this.__jsonld.items){r=new s.Sequence(this.__jsonld.items,this.options);this.items.push(r)}return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):s.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(s.IIIFResource);t.Manifest=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMPTY="",e.MANUSCRIPT="manuscript",e.MONOGRAPH="monograph"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ranges=null,r.canvases=null,r.items=[],r}return i(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var r=this.canvases[n],i=o.Utils.getTemporalComponent(r);i&&i.length>1&&(0===n&&(e=Number(i[0])),n===this.canvases.length-1&&(t=Number(i[1])))}else{var s=this.getRanges();for(n=0;n<s.length;n++){var a=s[n].getDuration();a&&(0===n&&(e=a.start),n===s.length-1&&(t=a.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=new o.TreeNode;e.addNode(i),this._parseTreeNode(i,r)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r];if(i.getBehavior()!==s.Behavior.NO_NAV){var a=new o.TreeNode;e.addNode(a),this._parseTreeNode(a,i)}}},t}(o.ManifestResource);t.Range=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.items=[],r._thumbnails=null,r}return i(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(r=new s.Canvas(n,this.options)).index=t,this.items.push(r)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var r;n=this.__jsonld[t];(r=new s.Canvas(n,this.options)).index=t,this.items.push(r)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),r=s.Utils.normaliseUrl(n.id);if(s.Utils.normaliseUrl(e)===r)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,r,i,o=/(\d*)\D+(\d*)/,a=0;a<this.getTotalCanvases();a++){var u=this.getCanvasByIndex(a);if(s.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return a;if((n=o.exec(e))&&(r=n[1],(i=n[2])&&new RegExp("^"+r+"\\D+"+i+"$").test(u.getLabel().toString())))return a}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),r=s.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(r))return r}else if(r)return r}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[0]+1:r[r.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var r=this.getViewingDirection();r&&r===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var r=this.getPagedIndices(e),i=this.getViewingDirection();n=i&&i===o.ViewingDirection.RIGHT_TO_LEFT?r[r.length-1]-1:r[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return 0},t.prototype.getThumbs=function(e,t){for(var n=[],r=this.getTotalCanvases(),i=0;i<r;i++){var o=this.getCanvasByIndex(i),a=new s.Thumb(e,o);n.push(a)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(s.ManifestResource);t.Sequence=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new r.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"collection"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){t&&(t.index=r);var i=this.parseCollection(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseManifest=function(e,t){return new r.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return"manifest"===e.type.toLowerCase()}))),n)for(var r=0;r<n.length;r++){var i=this.parseManifest(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var r=function(r){t&&(t.index=r);var o=i.parseItem(n[r],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?"continue":(o.index=r,o.parentCollection=e,void e.items.push(o)):{value:void 0}},i=this,o=0;o<n.length;o++){var s=r(o);if("object"==typeof s)return s.value}},e}();t.Deserialiser=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+="info.json"},t}(o.ManifestResource);t.Service=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.width=e,this.height=t};t.Size=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",e[e.FORBIDDEN=2]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.RESTRICTED=4]="RESTRICTED"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=r.LanguageMap.getValue(t.getLabel())};t.Thumb=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===r.Utils.normaliseType(r.TreeNodeType.RANGE)},e}();t.TreeNode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLLECTION="collection",e.MANIFEST="manifest",e.RANGE="range"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])}));

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/webpack-jquery-ui/effects.js":
/*!**************************************!*\
  !*** (webpack)-jquery-ui/effects.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/effect */ "./node_modules/jquery-ui/ui/effect.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-blind */ "./node_modules/jquery-ui/ui/effects/effect-blind.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-bounce */ "./node_modules/jquery-ui/ui/effects/effect-bounce.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-clip */ "./node_modules/jquery-ui/ui/effects/effect-clip.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-drop */ "./node_modules/jquery-ui/ui/effects/effect-drop.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-explode */ "./node_modules/jquery-ui/ui/effects/effect-explode.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fade */ "./node_modules/jquery-ui/ui/effects/effect-fade.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-fold */ "./node_modules/jquery-ui/ui/effects/effect-fold.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-highlight */ "./node_modules/jquery-ui/ui/effects/effect-highlight.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-puff */ "./node_modules/jquery-ui/ui/effects/effect-puff.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-pulsate */ "./node_modules/jquery-ui/ui/effects/effect-pulsate.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-scale */ "./node_modules/jquery-ui/ui/effects/effect-scale.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-shake */ "./node_modules/jquery-ui/ui/effects/effect-shake.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-size */ "./node_modules/jquery-ui/ui/effects/effect-size.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-slide */ "./node_modules/jquery-ui/ui/effects/effect-slide.js");
__webpack_require__(/*! jquery-ui/ui/effects/effect-transfer */ "./node_modules/jquery-ui/ui/effects/effect-transfer.js");

/***/ }),

/***/ "./node_modules/webpack-jquery-ui/slider.js":
/*!*************************************!*\
  !*** (webpack)-jquery-ui/slider.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! jquery-ui/ui/widget */ "./node_modules/jquery-ui/ui/widget.js");
__webpack_require__(/*! jquery-ui/ui/keycode */ "./node_modules/jquery-ui/ui/keycode.js");
__webpack_require__(/*! jquery-ui/ui/widgets/mouse */ "./node_modules/jquery-ui/ui/widgets/mouse.js");
__webpack_require__(/*! jquery-ui/ui/widgets/slider */ "./node_modules/jquery-ui/ui/widgets/slider.js");
__webpack_require__(/*! jquery-ui/themes/base/core.css */ "./node_modules/jquery-ui/themes/base/core.css");
__webpack_require__(/*! jquery-ui/themes/base/slider.css */ "./node_modules/jquery-ui/themes/base/slider.css");

/***/ }),

/***/ "./src/components/languages/lang.js":
/*!******************************************!*\
  !*** ./src/components/languages/lang.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  locales: [{
    name: 'Български',
    code: 'bg',
    iso: 'bg-BG'
  }, {
    name: 'Čeština',
    code: 'cs',
    iso: 'cs-CZ'
  }, {
    name: 'Dansk',
    code: 'da',
    iso: 'da-DK'
  }, {
    name: 'Deutsch',
    code: 'de',
    iso: 'de-DE'
  }, {
    name: 'Ελληνικά',
    code: 'el',
    iso: 'el-GR'
  }, {
    name: 'English',
    code: 'en',
    iso: 'en-GB'
  }, {
    name: 'Español',
    code: 'es',
    iso: 'es-ES'
  }, {
    name: 'Eesti',
    code: 'et',
    iso: 'et-EE'
  }, {
    name: 'Euskara',
    code: 'eu',
    iso: 'eu-ES'
  }, {
    name: 'Suomi',
    code: 'fi',
    iso: 'fi-FI'
  }, {
    name: 'Français',
    code: 'fr',
    iso: 'fr-FR'
  }, {
    name: 'Gaeilge',
    code: 'ga',
    iso: 'ga-IE'
  }, {
    name: 'Hrvatski',
    code: 'hr',
    iso: 'hr-HR'
  }, {
    name: 'Magyar',
    code: 'hu',
    iso: 'hu-HU'
  }, {
    name: 'Italiano',
    code: 'it',
    iso: 'it-IT'
  }, {
    name: 'Lietuvių',
    code: 'lt',
    iso: 'lt-LT'
  }, {
    name: 'Latviešu',
    code: 'lv',
    iso: 'lv-LV'
  }, {
    name: 'Malti',
    code: 'mt',
    iso: 'mt-MT'
  }, {
    name: 'Nederlands',
    code: 'nl',
    iso: 'nl-NL'
  }, {
    name: 'Polski',
    code: 'pl',
    iso: 'pl-PL'
  }, {
    name: 'Português',
    code: 'pt',
    iso: 'pt-PT'
  }, {
    name: 'Română',
    code: 'ro',
    iso: 'ro-RO'
  }, {
    name: 'Slovenčina',
    code: 'sk',
    iso: 'sk-SK'
  }, {
    name: 'Slovenščina',
    code: 'sl',
    iso: 'sl-SI'
  }, {
    name: 'Svenska',
    code: 'sv',
    iso: 'sv-SE'
  }]
};

/***/ }),

/***/ "./src/components/player/EUscreen.js":
/*!*******************************************!*\
  !*** ./src/components/player/EUscreen.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

/* global $ */

var idPart = '?id=';

function handleEUscreenItem(player, helper) {
  return new Promise(function (resolve, reject) {
    var canvas = helper.manifest.__jsonld.items[0];
    var EUscreenitempage = canvas.items[0].items[0].body.id;
    var EUscreenId = EUscreenitempage.substring(EUscreenitempage.indexOf(idPart) + idPart.length);

    $.get('https://euscreen.embd.eu/' + EUscreenId, function (response) {
      canvas.id = helper.manifest.__jsonld.id.substring(0, helper.manifest.__jsonld.id.lastIndexOf('/')) + '/canvas/p1';
      canvas.type = 'Canvas';
      canvas.height = response.height;
      canvas.width = response.width;
      canvas.duration = response.duration;

      canvas.items[0].items[0].body.id = response.location;
      canvas.items[0].items[0].body.format = response.format;
      canvas.items[0].items[0].body.type = response.type;

      resolve(helper);
    }).fail(function () {
      console.error('Could not receive required iem information for ' + EUscreenId);
      reject(helper);
    });
  });
}

module.exports = {
  handleEUscreenItem: handleEUscreenItem
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/i18n/languages.json":
/*!***************************************************!*\
  !*** ./src/components/player/i18n/languages.json ***!
  \***************************************************/
/*! exports provided: en, nl, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"en\":{\"player-play\":\"Play\",\"player-pause\":\"Pause\",\"player-fullscreen\":\"Fullscreen\",\"player-mute\":\"Mute\",\"player-unmute\":\"Unmute\",\"player-subtitles\":\"Subtitles\",\"player-more\":\"More\",\"player-create-annotations\":\"Create annotations\",\"player-create-embed\":\"Create embed\",\"player-create-playlist\":\"Create playlist\",\"player-create-subtitles\":\"Create subtitles\",\"player-error\":\"Error\",\"player-error-loading\":\"loading aborted\",\"player-error-network\":\"network error\",\"player-error-decoding\":\"decoding of media failed\",\"player-error-format\":\"media format not suppported by this browser\",\"player-error-unknown\":\"unknown\"},\"nl\":{\"player-play\":\"Afspelen\",\"player-pause\":\"Pauzeren\",\"player-fullscreen\":\"Volledig scherm\",\"player-mute\":\"Dempen\",\"player-unmute\":\"Dempen opheffen\",\"player-subtitles\":\"Ondertitels\",\"player-more\":\"Meer\",\"player-create-annotation\":\"Maak annotaties\",\"player-create-embed\":\"Maak een embed\",\"player-create-playlist\":\"Maak een playlist\",\"player-create-subtitles\":\"Maak ondertitels\",\"player-error\":\"Error\",\"player-error-loading\":\"laden geannuleerd\",\"player-error-network\":\"netwerk error\",\"player-error-decoding\":\"media decoderen mislukt\",\"player-error-format\":\"media formaat wordt niet ondersteund door deze browser\",\"player-error-unknown\":\"onbekend\"}}");

/***/ }),

/***/ "./src/components/player/index.css":
/*!*****************************************!*\
  !*** ./src/components/player/index.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css", function() {
		var newContent = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/player/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/components/player/index.js":
/*!****************************************!*\
  !*** ./src/components/player/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ initCanvasNavigation */

__webpack_require__(/*! ./index.css */ "./src/components/player/index.css");

var _bananaI18n = __webpack_require__(/*! banana-i18n */ "./node_modules/banana-i18n/dist/banana-i18n.js");

var _bananaI18n2 = _interopRequireDefault(_bananaI18n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

__webpack_require__(/*! @iiif/iiif-tree-component */ "./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js");
__webpack_require__(/*! @iiif/base-component */ "./node_modules/@iiif/base-component/dist-esmodule/index.js");
__webpack_require__(/*! manifesto.js */ "./node_modules/manifesto.js/dist-umd/manifesto.js");
var Manifold = __webpack_require__(/*! @iiif/manifold */ "./node_modules/@iiif/manifold/dist-esmodule/index.js");
var IIIFAVComponent = __webpack_require__(/*! @iiif/iiif-av-component */ "./node_modules/@iiif/iiif-av-component/dist-umd/IIIFAVComponent.js");
__webpack_require__(/*! dashjs */ "dashjs");

__webpack_require__(/*! webpack-jquery-ui/slider */ "./node_modules/webpack-jquery-ui/slider.js");
__webpack_require__(/*! webpack-jquery-ui/effects */ "./node_modules/webpack-jquery-ui/effects.js");

var _require = __webpack_require__(/*! ./playerEventHandlers */ "./src/components/player/playerEventHandlers.js"),
    playEventHandler = _require.playEventHandler,
    pauseEventHandler = _require.pauseEventHandler,
    volumeChangedEventHandler = _require.volumeChangedEventHandler,
    keyEventHandler = _require.keyEventHandler,
    playPauseEventHandler = _require.playPauseEventHandler,
    fullScreenEventHandler = _require.fullScreenEventHandler,
    editorButtonEventHandler = _require.editorButtonEventHandler,
    toggleSubtitlesEventHandler = _require.toggleSubtitlesEventHandler,
    subtitleMenuEventHandler = _require.subtitleMenuEventHandler,
    openEditorTypeEventHandler = _require.openEditorTypeEventHandler,
    mediaErrorHandler = _require.mediaErrorHandler;

var _require2 = __webpack_require__(/*! ./EUscreen */ "./src/components/player/EUscreen.js"),
    handleEUscreenItem = _require2.handleEUscreenItem;

var _require3 = __webpack_require__(/*! ./transcriptionAnnotations */ "./src/components/player/transcriptionAnnotations.js"),
    handleTranscriptionAnnotations = _require3.handleTranscriptionAnnotations;

var languages = __webpack_require__(/*! ../languages/lang.js */ "./src/components/languages/lang.js").default.locales;
var i18n = __webpack_require__(/*! ./i18n/languages.json */ "./src/components/player/i18n/languages.json");

var helper = void 0;

var Player = function () {
  function Player(elem) {
    _classCallCheck(this, Player);

    if (!elem) return;
    this.elem = elem;

    this.videoId = '';
    this.avcomponent;
    this.timeupdate;
    this.manifest;
    this.manifesturl;
    this.editorurl;
    this.banana;
  }

  _createClass(Player, [{
    key: 'init',
    value: function init(videoObj, editorurl, language) {
      this.createAVComponent();
      this.createManifest(videoObj);
      this.editorurl = editorurl;

      this.state = {
        limitToRange: false,
        autoSelectRange: true,
        constrainNavigationToRange: true,
        virtualCanvasEnabled: true
      };

      //Check if the language is set, and if we have this present, otherwise default to English
      if (language.length === 0 || languages.find(function (lang) {
        return lang.code === language;
      }) === undefined) {
        language = 'en';
      }

      var banana = new _bananaI18n2.default(language);
      banana.load(i18n[language], language);
      this.banana = banana;
    }
  }, {
    key: 'createAVComponent',
    value: function createAVComponent() {
      var _this = this;

      this.$avcomponent = $('<div class="iiif-av-component" tabindex="0"></div>');
      $(this.elem).append(this.$avcomponent);

      var player = this;

      this.avcomponent = new IIIFAVComponent.AVComponent({ target: this.$avcomponent[0] });

      this.avcomponent.on('mediaerror', function (error) {
        mediaErrorHandler(player, error);
      });

      this.avcomponent.on('log', function (message) {
        console.log(message);
      });

      this.avcomponent.on('play', function () {
        playEventHandler(player);
      });

      this.avcomponent.on('pause', function () {
        pauseEventHandler(player);
      });

      this.avcomponent.on('mediaready', function () {
        _this.handleMediaReady(player);
      });

      this.avcomponent.on('fullscreen', function () {
        fullScreenEventHandler(player);
      });

      this.avcomponent.on('volumechanged', function (value) {
        volumeChangedEventHandler(player, value);
      });

      this.$avcomponent.on('keydown', function (e) {
        keyEventHandler(player, e);
      });
    }
  }, {
    key: 'itemSelectListener',
    value: function itemSelectListener(data) {
      if (this.handler === undefined) {
        this.handler = this;
      }

      this.handler.videoId = data;

      var player = this;

      this.handler.ldManifest(data, function (helper) {
        player.manifest = helper.manifest;

        var canvases = helper.getCanvases();
        if (canvases.length > 1) {
          initCanvasNavigation(canvases);
        } else {
          $('.canvasNavigationContainer').hide();
        }
      }, function (error) {
        console.error('ERROR: Could not load manifest data.', error);
      });
    }
  }, {
    key: 'ldManifest',
    value: function ldManifest(manifest, successcb, errorcb) {
      var player = this;

      Manifold.loadManifest({
        manifestUri: manifest,
        collectionIndex: 0,
        manifestIndex: 0,
        sequenceIndex: 0,
        canvasIndex: 0
      }).then(function (h) {
        helper = h;

        if (helper.manifest.__jsonld.items[0].items[0].items[0].body.id.indexOf('http://www.euscreen.eu/item.html?id=') > -1) {
          handleEUscreenItem(player, helper).then(function (h) {
            helper = h;
            player.setAvComponent(player, successcb);
          });
        } else {
          player.setAvComponent(player, successcb);
        }
      }).catch(function (e) {
        errorcb(e);
      });
    }
  }, {
    key: 'setAvComponent',
    value: function setAvComponent(player, successcb) {
      player.avcomponent.set({
        helper: helper,
        limitToRange: player.state.limitToRange,
        autoSelectRange: player.state.autoSelectRange,
        constrainNavigationToRange: player.state.constrainNavigationToRange,
        virtualCanvasEnabled: player.state.virtualCanvasEnabled
      });
      successcb(helper);
      player.resize();
    }
  }, {
    key: 'resize',
    value: function resize() {
      var $playerContainer = $('#' + this.elem.id + ' .playerContainer');
      $playerContainer.height($playerContainer.width() * 0.75);
      this.avcomponent.resize();
    }
  }, {
    key: 'createManifest',
    value: function createManifest(vObj) {
      if (!vObj.manifest && vObj.source.startsWith('EUS_')) {
        vObj.manifest = 'https://videoeditor.noterik.com/manifest/euscreenmanifest.php?id=' + vObj.source;
      }

      this.manifesturl = vObj.manifest;
      this.itemSelectListener(vObj.manifest);
    }
  }, {
    key: 'initLanguages',
    value: function initLanguages() {
      var _this2 = this;

      var textTracks = $('#' + this.elem.id + ' video')[0].textTracks;

      //check if we have any texttracks
      if (textTracks.length === 0) {
        return;
      }

      //show button only if we have at least one language set
      $('.btn[data-name=Subtitles]').show();

      var menu = '<div class=\'anno subtitlemenu\'>';

      var _loop = function _loop(i) {
        menu += '<div class=\'subtitlemenu-option\' data-language=\'' + textTracks[i].language + '\'>' + languages.find(function (lang) {
          return lang.iso === textTracks[i].language;
        }).name + '</div>';
      };

      for (var i = 0; i < textTracks.length; i++) {
        _loop(i);
      }
      menu += '</div>';

      $('#' + this.elem.id + ' .canvas-container').append(menu);

      $('button[data-name="Subtitles"]')[0].addEventListener('click', function (e) {
        toggleSubtitlesEventHandler(_this2, e);
      });

      var player = this;

      $('.subtitlemenu-option').on('click', function (e) {
        subtitleMenuEventHandler(player, e);
      });
      this.avcomponent.fire('languagesinitialized');
    }

    //todo: address audio as well

  }, {
    key: 'hasEnded',
    value: function hasEnded() {
      if ($('#' + this.elem.id + ' video').length) {
        return $('#' + this.elem.id + ' video')[0].ended;
      } else {
        return false;
      }
    }
  }, {
    key: 'handleMediaReady',
    value: function handleMediaReady(player) {
      if (player.avcomponent.canvasInstances[0]._canvasWidth < 400) {
        this.optimizeForSmallerScreens();
      }

      this.updateAVComponentLanguage(player);

      var subtitles = this.createButton('Subtitles', this.banana.i18n('player-subtitles'), 'av-icon-subtitles');
      $('#' + player.elem.id + ' .controls-container').append(subtitles);

      if (player.editorurl && player.editorurl.length > 0) {
        var showMenu = player.needToShowMenu(player);

        if (showMenu) {
          this.addEditorOption(player);
        }
      }

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno playwrapper\'><span class=\'playcircle\'></span></div>');

      this.handleMediaType(player);
      handleTranscriptionAnnotations(player);

      $('#' + player.elem.id + ' .canvas-container').on('click', function () {
        playPauseEventHandler(player);
      });
    }
  }, {
    key: 'optimizeForSmallerScreens',
    value: function optimizeForSmallerScreens() {
      $('.iiif-av-component .controls-container .volume').css({ 'width': 80 });
      $('.iiif-av-component .controls-container .volume .volume-slider').css({ 'width': 42 });
    }
  }, {
    key: 'addEditorOption',
    value: function addEditorOption(player) {
      var more = this.createButton('More', this.banana.i18n('player-more'), 'av-icon-more');
      more[0].addEventListener('click', function (e) {
        editorButtonEventHandler(player, e);
      });
      $('#' + player.elem.id + ' .controls-container').append(more);

      this.handleMenuOptions(player);
    }
  }, {
    key: 'updateAVComponentLanguage',
    value: function updateAVComponentLanguage(player) {
      $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n('player-mute'));
      $('#' + player.elem.id + ' .button-fullscreen').attr('title', player.banana.i18n('player-fullscreen'));
      $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
    }
  }, {
    key: 'createButton',
    value: function createButton(name, text, classname) {
      var button = $('<button class="btn" data-name="' + name + '" title="' + text + '"><i class="av-icon ' + classname + '" aria-hidden="true"></i>' + text + '</button>');
      return button;
    }
  }, {
    key: 'handleMenuOptions',
    value: function handleMenuOptions(player) {
      var _this3 = this;

      $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno moremenu\'></div>');

      var options = { embed: true, annotation: false, playlist: false, subtitles: false };
      options = player.determineOptionDisplay(player, options);

      var _loop2 = function _loop2(key, value) {
        if (value) {
          $('#' + player.elem.id + ' .moremenu').append('<div id=\'create-' + key + '-link\' class=\'moremenu-option\'>' + _this3.banana.i18n('player-create-' + key) + '</div>');

          $('#' + player.elem.id + ' #create-' + key + '-link').on('click', function (e) {
            openEditorTypeEventHandler(player, e, key);
          });
        }
      };

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = Object.entries(options)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _ref = _step.value;

          var _ref2 = _slicedToArray(_ref, 2);

          var key = _ref2[0];
          var value = _ref2[1];

          _loop2(key, value);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'needToShowMenu',
    value: function needToShowMenu(player) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var _ref3 = _step2.value;

          var _ref4 = _slicedToArray(_ref3, 2);

          var key = _ref4[0];
          var value = _ref4[1];

          if (value === 'allowed' && (key === 'embed' || key === 'annotation' || key === 'playlist' || key === 'subtitles')) {
            return true;
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return false;
    }
  }, {
    key: 'determineOptionDisplay',
    value: function determineOptionDisplay(player, options) {
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = Object.entries(player.manifest.__jsonld.rights)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var _ref5 = _step3.value;

          var _ref6 = _slicedToArray(_ref5, 2);

          var key = _ref6[0];
          var value = _ref6[1];

          if (value === 'allowed') {
            options[key] = true;
          }
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      return options;
    }
  }, {
    key: 'handleMediaType',
    value: function handleMediaType(player) {
      var w = void 0,
          h = void 0;
      w = h = 400;
      switch (this.getMediaType(player)) {
        case 'Audio':
          this.setImage(player, player.manifest.__jsonld.thumbnail[0].id);
          break;
        case 'Video':
          w = player.avcomponent.canvasInstances[0]._canvasWidth;
          h = player.avcomponent.canvasInstances[0]._canvasHeight;
      }
      $('#' + player.elem.id).css({ width: w, height: h });
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(player) {
      return player.manifest.__jsonld.items[0].items[0].items[0].body.type;
    }
  }, {
    key: 'setImage',
    value: function setImage(player, image) {
      $('#' + player.elem.id + ' .canvas-container').css({ 'background-image': 'url(' + image + ')' });
      $('#' + player.elem.id + ' .canvas-container').addClass('audio-background');
    }
  }]);

  return Player;
}();

exports.default = Player;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/playerEventHandlers.js":
/*!******************************************************!*\
  !*** ./src/components/player/playerEventHandlers.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

/* global $ */

function playEventHandler(player) {
  $('#' + player.elem.id + ' .playwrapper').hide();
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-pause'));
}

function pauseEventHandler(player) {
  clearInterval(player.timeupdate);
  $('#' + player.elem.id + ' .button-play').attr('title', player.banana.i18n('player-play'));
}

function volumeChangedEventHandler(player, value) {
  var muteType = value !== 0 ? 'player-mute' : 'player-unmute';
  $('#' + player.elem.id + ' .volume-mute').attr('title', player.banana.i18n(muteType));
}

function keyEventHandler(player, e) {
  if (e.keyCode === 32 || e.keyCode === 75) {
    //space bar, k button
    playPauseEventHandler(player);
  }
  if (e.keyCode === 70) {
    //f button
    $('#' + player.elem.id + ' .button-fullscreen').click();
  }
  if (e.keyCode === 38) {
    //volume up by 10%
    handleVolumeChange(player, 0.1);
  }
  if (e.keyCode === 40) {
    //volume down by 10%
    handleVolumeChange(player, -0.1);
  }
}

function playPauseEventHandler(player) {
  if (player.avcomponent.canvasInstances[0]._isPlaying) {
    player.avcomponent.canvasInstances[0].pause();
  } else {
    //hide playcircle if showing
    if ($('#' + player.elem.id + ' .playwrapper').is(':visible')) {
      $('#' + player.elem.id + ' .playwrapper').hide();
    }
    player.avcomponent.canvasInstances[0].play();
  }
}

function fullScreenEventHandler(player) {
  $('#' + player.elem.id + ' .moremenu').hide();
  $('#' + player.elem.id + ' .subtitlemenu').hide();
}

function handleVolumeChange(player, rate) {
  var val = $('#' + player.elem.id + ' .volume-slider').slider('option', 'value');
  val = determineNewVolume(val, rate);
  $('#' + player.elem.id + ' .volume-slider').slider('value', val);
}

function determineNewVolume(val, rate) {
  if (rate < 0) {
    return decreaseVolume(val, rate);
  } else {
    return increaseVolume(val, rate);
  }
}

function decreaseVolume(val, rate) {
  return val < rate ? 0 : val + rate;
}

function increaseVolume(val, rate) {
  return val > rate + val > 1 ? 1 : val + rate;
}

function editorButtonEventHandler(player, e) {
  toggleMenuOption(player, e, 'moremenu', 'More');
}

function toggleSubtitlesEventHandler(player, e) {
  toggleMenuOption(player, e, 'subtitlemenu', 'Subtitles');
}

function toggleMenuOption(player, e, cls, name) {
  e.preventDefault();

  if ($('#' + player.elem.id + ' .' + cls).is(':visible')) {
    $('#' + player.elem.id + ' .' + cls).hide();
  } else {
    $('#' + player.elem.id + ' .' + cls).css({ bottom: $('#' + player.elem.id + ' .options-container').height(), left: $('#' + player.elem.id + ' .btn[data-name="' + name + '"]').offset().left - $('#' + player.elem.id + ' .player').offset().left - $('#' + player.elem.id + ' .' + cls).width() / 2 });
    $('#' + player.elem.id + ' .' + cls).show();
  }
}

function subtitleMenuEventHandler(player, e) {
  $('#' + player.elem.id + ' .subtitlemenu').hide();
  var textTracks = $('#' + player.elem.id + ' video')[0].textTracks;

  for (var i = 0; i < textTracks.length; i++) {
    if ($(e.target).data('language') === textTracks[i].language) {
      textTracks[i].mode = 'showing';
    } else {
      textTracks[i].mode = 'hidden';
    }
  }
  //prevent the play/pause handler to react
  e.stopPropagation();
}

function openEditorTypeEventHandler(player, e, type) {
  //prevent the play/pause handler to react
  e.stopPropagation();

  window.open(player.editorurl + '?manifest=' + encodeURIComponent(player.manifesturl) + '#' + type, '_blank');
}

function mediaErrorHandler(player, error) {
  console.error('media error', error);

  $('#' + player.elem.id + ' .player').removeClass('player--loading');
  var errormessage = player.banana.i18n('player-error') + ': ';
  switch (error.code) {
    case 1:
      errormessage += player.banana.i18n('player-error-loading');
      break;
    case 2:
      errormessage += player.banana.i18n('player-error-network');
      break;
    case 3:
      errormessage += player.banana.i18n('player-error-decoding');
      break;
    case 4:
      errormessage += player.banana.i18n('player-error-format');
      break;
    default:
      errormessage += player.banana.i18n('player-error-unknown');
      break;
  }

  $('#' + player.elem.id + ' .canvas-container').append('<div class=\'anno errormessage\'>' + errormessage + '</div>');
}

module.exports = {
  playEventHandler: playEventHandler, pauseEventHandler: pauseEventHandler, volumeChangedEventHandler: volumeChangedEventHandler, keyEventHandler: keyEventHandler, playPauseEventHandler: playPauseEventHandler, fullScreenEventHandler: fullScreenEventHandler, editorButtonEventHandler: editorButtonEventHandler, toggleSubtitlesEventHandler: toggleSubtitlesEventHandler, subtitleMenuEventHandler: subtitleMenuEventHandler, openEditorTypeEventHandler: openEditorTypeEventHandler, mediaErrorHandler: mediaErrorHandler
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/components/player/transcriptionAnnotations.js":
/*!***********************************************************!*\
  !*** ./src/components/player/transcriptionAnnotations.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

/* global $ */

var languages = __webpack_require__(/*! ../languages/lang.js */ "./src/components/languages/lang.js").default.locales;

function handleTranscriptionAnnotations(player) {
  if (player.manifest.__jsonld.items[0].annotations && player.manifest.__jsonld.items[0].annotations[0]) {
    fetchAnnotations(player);
  }
}

function fetchAnnotations(player) {
  $.get(player.manifest.__jsonld.items[0].annotations[0].id, function (response) {
    var textResource = response.resources.find(function (resource) {
      return resource.dcType === 'Media';
    });

    fetchTextResource(player, response, textResource);
  });
}

function fetchTextResource(player, annotationResource, textResource) {
  //determine text, fetch, then loop over all entries and add them to a text track
  $.ajax({
    type: 'GET',
    url: textResource.resource['@id'],
    contentType: 'application/x-www-form-urlencoded;charset=utf-8',
    dataType: 'json',
    success: function success(fullText) {
      var track = $('#' + player.elem.id + ' video')[0].addTextTrack('subtitles', 'subitles', languages.find(function (lang) {
        return lang.code === fullText.language;
      }).iso);

      annotationResource.resources.forEach(function (element) {
        if (element.dcType === 'Caption') {
          track.addCue(handleCaption(element, fullText));
        }
      });
      player.initLanguages();
    }
  });
}

function handleCaption(element, fullText) {
  var characterRange = element.resource['@id'].substring(element.resource['@id'].lastIndexOf('=') + 1);
  var charRange = characterRange.split(',');
  var subtitleString = fullText.value.substring(charRange[0], charRange[1]);
  var timeRange = element.on[0].substring(element.on[0].lastIndexOf('=') + 1);
  var tRange = timeRange.split(',');

  var cue = new VTTCue(timeToSeconds(tRange[0]), timeToSeconds(tRange[1]), subtitleString);
  cue.id = element.resource['@id'];
  cue.line = -4;
  cue.size = 90;

  return cue;
}

function timeToSeconds(time) {
  var _time$split = time.split(':'),
      _time$split2 = _slicedToArray(_time$split, 3),
      hours = _time$split2[0],
      minutes = _time$split2[1],
      seconds = _time$split2[2];

  hours = parseInt(hours);
  minutes = parseInt(minutes);
  var milliseconds = void 0;

  var parts = seconds.lastIndexOf('.') > -1 ? seconds.split('.') : [seconds, 0];
  seconds = parseInt(parts[0]);

  milliseconds = parts[1].length === 2 ? parseInt(parts[1]) * 10 : parseInt(parts[1]);

  return hours * 3600 + minutes * 60 + seconds + '.' + milliseconds;
}

module.exports = {
  handleTranscriptionAnnotations: handleTranscriptionAnnotations
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css", function() {
		var newContent = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/index.css");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.uuidv4 = exports.init = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global $ */


__webpack_require__(/*! ./index.css */ "./src/index.css");

var _player = __webpack_require__(/*! ./components/player */ "./src/components/player/index.js");

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editorurl = '';
var player = void 0;
var language = '';

var init = exports.init = function init(container, videoObj, options) {
  //Create unique player id
  var playerId = uuidv4();

  //Append player to container with the unique id
  $(container).append('<div id="eups-player-' + playerId + '" class="eups-player"></div>');

  //Set options
  editorurl = options.editor || editorurl;
  language = options.language || language;

  //Create player
  player = new _player2.default(document.getElementById('eups-player-' + playerId));

  //Initialize player
  player.init(videoObj, editorurl, language);
};

var uuidv4 = exports.uuidv4 = function uuidv4() {
  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
  });
};

var EuropeanaMediaPlayer = function () {
  function EuropeanaMediaPlayer(container, videoObj, options) {
    _classCallCheck(this, EuropeanaMediaPlayer);

    options = arguments.length > 2 ? options : {};
    init(container, videoObj, options);
  }

  _createClass(EuropeanaMediaPlayer, [{
    key: 'player',
    get: function get() {
      return player;
    }
  }]);

  return EuropeanaMediaPlayer;
}();

exports.default = EuropeanaMediaPlayer;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");


/***/ }),

/***/ "dashjs":
/*!*************************!*\
  !*** external "dashjs" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_dashjs__;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jquery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGVkc2lsdi9odHRwLXN0YXR1cy1jb2Rlcy9kaXN0LXVtZC9odHRwc3RhdHVzY29kZXMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvYmFzZS1jb21wb25lbnQvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9paWlmLWF2LWNvbXBvbmVudC9kaXN0LXVtZC9JSUlGQVZDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvaWlpZi10cmVlLWNvbXBvbmVudC9kaXN0LXVtZC9JSUlGVHJlZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Fubm90YXRpb25Hcm91cC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0Fubm90YXRpb25SZWN0LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvQm9vdHN0cmFwcGVyLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvRXJyb3JzLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvRXh0ZXJuYWxSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0hlbHBlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL0lMYWJlbFZhbHVlUGFpci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL01ldGFkYXRhR3JvdXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9NZXRhZGF0YU9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9NdWx0aVNlbGVjdFN0YXRlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL21hbmlmb2xkL2Rpc3QtZXNtb2R1bGUvVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9UcmVlU29ydFR5cGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvQGlpaWYvbWFuaWZvbGQvZGlzdC1lc21vZHVsZS9VcmlMYWJlbGxlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9AaWlpZi9tYW5pZm9sZC9kaXN0LWVzbW9kdWxlL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL0BpaWlmL3ZvY2FidWxhcnkvZGlzdC1lc21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9iYW5hbmEtaTE4bi9kaXN0L2JhbmFuYS1pMThuLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS90aGVtZXMvYmFzZS9jb3JlLmNzcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9jb21wb25lbnRzL3BsYXllci9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvaW5kZXguY3NzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2UvY29yZS5jc3M/MGVhYSIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzcz80NWFhIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3QuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWJsaW5kLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1ib3VuY2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWNsaXAuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWRyb3AuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWV4cGxvZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWZhZGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWZvbGQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWhpZ2hsaWdodC5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtcHVmZi5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtcHVsc2F0ZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2NhbGUuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNoYWtlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zaXplLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zbGlkZS5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL25vZGVfbW9kdWxlcy9qcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtdHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL2llLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS9rZXljb2RlLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS92ZXJzaW9uLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS11aS91aS93aWRnZXQuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvbW91c2UuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvc2xpZGVyLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vbm9kZV9tb2R1bGVzL21hbmlmZXN0by5qcy9kaXN0LXVtZC9tYW5pZmVzdG8uanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLyh3ZWJwYWNrKS1qcXVlcnktdWkvZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8od2VicGFjayktanF1ZXJ5LXVpL3NsaWRlci5qcyIsIndlYnBhY2s6Ly9ldXJvcGVhbmFtZWRpYXBsYXllci8uL3NyYy9jb21wb25lbnRzL2xhbmd1YWdlcy9sYW5nLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL0VVc2NyZWVuLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmNzcz81ZDYxIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2NvbXBvbmVudHMvcGxheWVyL3BsYXllckV2ZW50SGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvLi9zcmMvY29tcG9uZW50cy9wbGF5ZXIvdHJhbnNjcmlwdGlvbkFubm90YXRpb25zLmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2luZGV4LmNzcz83ZDFmIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2V1cm9wZWFuYW1lZGlhcGxheWVyL2V4dGVybmFsIFwiZGFzaGpzXCIiLCJ3ZWJwYWNrOi8vZXVyb3BlYW5hbWVkaWFwbGF5ZXIvZXh0ZXJuYWwgXCJqcXVlcnlcIiJdLCJuYW1lcyI6WyJsb2NhbGVzIiwibmFtZSIsImNvZGUiLCJpc28iLCJpZFBhcnQiLCJoYW5kbGVFVXNjcmVlbkl0ZW0iLCJwbGF5ZXIiLCJoZWxwZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhbnZhcyIsIm1hbmlmZXN0IiwiX19qc29ubGQiLCJpdGVtcyIsIkVVc2NyZWVuaXRlbXBhZ2UiLCJib2R5IiwiaWQiLCJFVXNjcmVlbklkIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImxlbmd0aCIsIiQiLCJnZXQiLCJyZXNwb25zZSIsImxhc3RJbmRleE9mIiwidHlwZSIsImhlaWdodCIsIndpZHRoIiwiZHVyYXRpb24iLCJsb2NhdGlvbiIsImZvcm1hdCIsImZhaWwiLCJjb25zb2xlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsIk1hbmlmb2xkIiwiSUlJRkFWQ29tcG9uZW50IiwicGxheUV2ZW50SGFuZGxlciIsInBhdXNlRXZlbnRIYW5kbGVyIiwidm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlciIsImtleUV2ZW50SGFuZGxlciIsInBsYXlQYXVzZUV2ZW50SGFuZGxlciIsImZ1bGxTY3JlZW5FdmVudEhhbmRsZXIiLCJlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIiLCJ0b2dnbGVTdWJ0aXRsZXNFdmVudEhhbmRsZXIiLCJzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIiLCJvcGVuRWRpdG9yVHlwZUV2ZW50SGFuZGxlciIsIm1lZGlhRXJyb3JIYW5kbGVyIiwiaGFuZGxlVHJhbnNjcmlwdGlvbkFubm90YXRpb25zIiwibGFuZ3VhZ2VzIiwiZGVmYXVsdCIsImkxOG4iLCJQbGF5ZXIiLCJlbGVtIiwidmlkZW9JZCIsImF2Y29tcG9uZW50IiwidGltZXVwZGF0ZSIsIm1hbmlmZXN0dXJsIiwiZWRpdG9ydXJsIiwiYmFuYW5hIiwidmlkZW9PYmoiLCJsYW5ndWFnZSIsImNyZWF0ZUFWQ29tcG9uZW50IiwiY3JlYXRlTWFuaWZlc3QiLCJzdGF0ZSIsImxpbWl0VG9SYW5nZSIsImF1dG9TZWxlY3RSYW5nZSIsImNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlIiwidmlydHVhbENhbnZhc0VuYWJsZWQiLCJmaW5kIiwibGFuZyIsInVuZGVmaW5lZCIsIkJhbmFuYSIsImxvYWQiLCIkYXZjb21wb25lbnQiLCJhcHBlbmQiLCJBVkNvbXBvbmVudCIsInRhcmdldCIsIm9uIiwibWVzc2FnZSIsImxvZyIsImhhbmRsZU1lZGlhUmVhZHkiLCJ2YWx1ZSIsImUiLCJkYXRhIiwiaGFuZGxlciIsImxkTWFuaWZlc3QiLCJjYW52YXNlcyIsImdldENhbnZhc2VzIiwiaW5pdENhbnZhc05hdmlnYXRpb24iLCJoaWRlIiwic3VjY2Vzc2NiIiwiZXJyb3JjYiIsImxvYWRNYW5pZmVzdCIsIm1hbmlmZXN0VXJpIiwiY29sbGVjdGlvbkluZGV4IiwibWFuaWZlc3RJbmRleCIsInNlcXVlbmNlSW5kZXgiLCJjYW52YXNJbmRleCIsInRoZW4iLCJoIiwic2V0QXZDb21wb25lbnQiLCJjYXRjaCIsInNldCIsInJlc2l6ZSIsIiRwbGF5ZXJDb250YWluZXIiLCJ2T2JqIiwic291cmNlIiwic3RhcnRzV2l0aCIsIml0ZW1TZWxlY3RMaXN0ZW5lciIsInRleHRUcmFja3MiLCJzaG93IiwibWVudSIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlyZSIsImVuZGVkIiwiY2FudmFzSW5zdGFuY2VzIiwiX2NhbnZhc1dpZHRoIiwib3B0aW1pemVGb3JTbWFsbGVyU2NyZWVucyIsInVwZGF0ZUFWQ29tcG9uZW50TGFuZ3VhZ2UiLCJzdWJ0aXRsZXMiLCJjcmVhdGVCdXR0b24iLCJzaG93TWVudSIsIm5lZWRUb1Nob3dNZW51IiwiYWRkRWRpdG9yT3B0aW9uIiwiaGFuZGxlTWVkaWFUeXBlIiwiY3NzIiwibW9yZSIsImhhbmRsZU1lbnVPcHRpb25zIiwiYXR0ciIsInRleHQiLCJjbGFzc25hbWUiLCJidXR0b24iLCJvcHRpb25zIiwiZW1iZWQiLCJhbm5vdGF0aW9uIiwicGxheWxpc3QiLCJkZXRlcm1pbmVPcHRpb25EaXNwbGF5Iiwia2V5IiwiT2JqZWN0IiwiZW50cmllcyIsInJpZ2h0cyIsInciLCJnZXRNZWRpYVR5cGUiLCJzZXRJbWFnZSIsInRodW1ibmFpbCIsIl9jYW52YXNIZWlnaHQiLCJpbWFnZSIsImFkZENsYXNzIiwiY2xlYXJJbnRlcnZhbCIsIm11dGVUeXBlIiwia2V5Q29kZSIsImNsaWNrIiwiaGFuZGxlVm9sdW1lQ2hhbmdlIiwiX2lzUGxheWluZyIsInBhdXNlIiwiaXMiLCJwbGF5IiwicmF0ZSIsInZhbCIsInNsaWRlciIsImRldGVybWluZU5ld1ZvbHVtZSIsImRlY3JlYXNlVm9sdW1lIiwiaW5jcmVhc2VWb2x1bWUiLCJ0b2dnbGVNZW51T3B0aW9uIiwiY2xzIiwicHJldmVudERlZmF1bHQiLCJib3R0b20iLCJsZWZ0Iiwib2Zmc2V0IiwibW9kZSIsInN0b3BQcm9wYWdhdGlvbiIsIndpbmRvdyIsIm9wZW4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmVDbGFzcyIsImVycm9ybWVzc2FnZSIsImFubm90YXRpb25zIiwiZmV0Y2hBbm5vdGF0aW9ucyIsInRleHRSZXNvdXJjZSIsInJlc291cmNlcyIsInJlc291cmNlIiwiZGNUeXBlIiwiZmV0Y2hUZXh0UmVzb3VyY2UiLCJhbm5vdGF0aW9uUmVzb3VyY2UiLCJhamF4IiwidXJsIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJmdWxsVGV4dCIsInRyYWNrIiwiYWRkVGV4dFRyYWNrIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJhZGRDdWUiLCJoYW5kbGVDYXB0aW9uIiwiaW5pdExhbmd1YWdlcyIsImNoYXJhY3RlclJhbmdlIiwiY2hhclJhbmdlIiwic3BsaXQiLCJzdWJ0aXRsZVN0cmluZyIsInRpbWVSYW5nZSIsInRSYW5nZSIsImN1ZSIsIlZUVEN1ZSIsInRpbWVUb1NlY29uZHMiLCJsaW5lIiwic2l6ZSIsInRpbWUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwicGFyc2VJbnQiLCJtaWxsaXNlY29uZHMiLCJwYXJ0cyIsImluaXQiLCJjb250YWluZXIiLCJwbGF5ZXJJZCIsInV1aWR2NCIsImVkaXRvciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXBsYWNlIiwiYyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIlVpbnQ4QXJyYXkiLCJ0b1N0cmluZyIsIkV1cm9wZWFuYU1lZGlhUGxheWVyIiwiYXJndW1lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztRQ1ZBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxHQUFHOztRQUVIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQSxPQUFPO1FBQ1A7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFD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QUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0RBQW9EO0FBQzlDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDdEI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0Q0FBNEM7QUFDdEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDeEI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQ3BDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QztBQUNsQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUN0QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRiw2QkFBNkI7O0FBRTdCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUJBQXFCO0FBQzNCO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIsa0JBQWtCLElBQUkscUJBQXFCO0FBQzVEO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxNQUFNLHFCQUFxQjtBQUMzQjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDLGtCQUFrQix1QkFBdUI7QUFDekMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUFBO0FBQUEsb0dBQUU7QUFDZCxFQUFFLE1BQU0sRUFJTjtBQUNGLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsa0JBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0Esa0JBQWtCLGlDQUFpQztBQUNuRDs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdC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RUMsU0FBSztBQUhQLEdBMUJPLEVBK0JQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBL0JPLEVBb0NQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBcENPLEVBeUNQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBekNPLEVBOENQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBOUNPLEVBbURQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBbkRPLEVBd0RQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBeERPLEVBNkRQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBN0RPLEVBa0VQO0FBQ0VGLFVBQU0sUUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBbEVPLEVBdUVQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBdkVPLEVBNEVQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBNUVPLEVBaUZQO0FBQ0VGLFVBQU0sVUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBakZPLEVBc0ZQO0FBQ0VGLFVBQU0sT0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBdEZPLEVBMkZQO0FBQ0VGLFVBQU0sWUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBM0ZPLEVBZ0dQO0FBQ0VGLFVBQU0sUUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBaEdPLEVBcUdQO0FBQ0VGLFVBQU0sV0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBckdPLEVBMEdQO0FBQ0VGLFVBQU0sUUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBMUdPLEVBK0dQO0FBQ0VGLFVBQU0sWUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBL0dPLEVBb0hQO0FBQ0VGLFVBQU0sYUFEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBcEhPLEVBeUhQO0FBQ0VGLFVBQU0sU0FEUjtBQUVFQyxVQUFNLElBRlI7QUFHRUMsU0FBSztBQUhQLEdBekhPO0FBREksQzs7Ozs7Ozs7Ozs7Ozs7QUNBZjs7QUFFQSxJQUFNQyxTQUFTLE1BQWY7O0FBRUEsU0FBU0Msa0JBQVQsQ0FBNEJDLE1BQTVCLEVBQW9DQyxNQUFwQyxFQUE0QztBQUMxQyxTQUFPLElBQUlDLE9BQUosQ0FBYSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdkMsUUFBSUMsU0FBU0osT0FBT0ssUUFBUCxDQUFnQkMsUUFBaEIsQ0FBeUJDLEtBQXpCLENBQStCLENBQS9CLENBQWI7QUFDQSxRQUFJQyxtQkFBb0JKLE9BQU9HLEtBQVAsQ0FBYSxDQUFiLEVBQWdCQSxLQUFoQixDQUFzQixDQUF0QixFQUF5QkUsSUFBekIsQ0FBOEJDLEVBQXREO0FBQ0EsUUFBSUMsYUFBYUgsaUJBQWlCSSxTQUFqQixDQUEyQkosaUJBQWlCSyxPQUFqQixDQUF5QmhCLE1BQXpCLElBQWlDQSxPQUFPaUIsTUFBbkUsQ0FBakI7O0FBRUFDLE1BQUVDLEdBQUYsQ0FBTSw4QkFBNEJMLFVBQWxDLEVBQThDLFVBQUNNLFFBQUQsRUFBYztBQUMxRGIsYUFBT00sRUFBUCxHQUFZVixPQUFPSyxRQUFQLENBQWdCQyxRQUFoQixDQUF5QkksRUFBekIsQ0FBNEJFLFNBQTVCLENBQXNDLENBQXRDLEVBQXlDWixPQUFPSyxRQUFQLENBQWdCQyxRQUFoQixDQUF5QkksRUFBekIsQ0FBNEJRLFdBQTVCLENBQXdDLEdBQXhDLENBQXpDLElBQXVGLFlBQW5HO0FBQ0FkLGFBQU9lLElBQVAsR0FBYyxRQUFkO0FBQ0FmLGFBQU9nQixNQUFQLEdBQWdCSCxTQUFTRyxNQUF6QjtBQUNBaEIsYUFBT2lCLEtBQVAsR0FBZUosU0FBU0ksS0FBeEI7QUFDQWpCLGFBQU9rQixRQUFQLEdBQWtCTCxTQUFTSyxRQUEzQjs7QUFFQWxCLGFBQU9HLEtBQVAsQ0FBYSxDQUFiLEVBQWdCQSxLQUFoQixDQUFzQixDQUF0QixFQUF5QkUsSUFBekIsQ0FBOEJDLEVBQTlCLEdBQW1DTyxTQUFTTSxRQUE1QztBQUNBbkIsYUFBT0csS0FBUCxDQUFhLENBQWIsRUFBZ0JBLEtBQWhCLENBQXNCLENBQXRCLEVBQXlCRSxJQUF6QixDQUE4QmUsTUFBOUIsR0FBdUNQLFNBQVNPLE1BQWhEO0FBQ0FwQixhQUFPRyxLQUFQLENBQWEsQ0FBYixFQUFnQkEsS0FBaEIsQ0FBc0IsQ0FBdEIsRUFBeUJFLElBQXpCLENBQThCVSxJQUE5QixHQUFxQ0YsU0FBU0UsSUFBOUM7O0FBRUFqQixjQUFRRixNQUFSO0FBQ0QsS0FaRCxFQWFHeUIsSUFiSCxDQWFRLFlBQU07QUFDVkMsY0FBUUMsS0FBUixDQUFjLG9EQUFrRGhCLFVBQWhFO0FBQ0FSLGFBQU9ILE1BQVA7QUFDRCxLQWhCSDtBQWlCRCxHQXRCTSxDQUFQO0FBdUJEOztBQUVENEIsT0FBT0MsT0FBUCxHQUFpQjtBQUNmL0I7QUFEZSxDQUFqQixDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QkEsY0FBYyxtQkFBTyxDQUFDLDBJQUE0RDs7QUFFbEYsNENBQTRDLFFBQVM7O0FBRXJEO0FBQ0E7Ozs7QUFJQSxlQUFlOztBQUVmO0FBQ0E7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLHlHQUFzRDs7QUFFM0U7O0FBRUEsR0FBRyxJQUFVO0FBQ2IsbUJBQW1CLDBJQUE0RDtBQUMvRSxtQkFBbUIsbUJBQU8sQ0FBQywwSUFBNEQ7O0FBRXZGLG9EQUFvRCxRQUFTOztBQUU3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLEVBQUU7O0FBRUYsZ0NBQWdDLFVBQVUsRUFBRTtBQUM1QyxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxakJDNUNBOztBQUVBOztBQVlBOzs7Ozs7OztBQVZBZ0MsbUJBQU9BLENBQUMseUdBQVI7QUFDQUEsbUJBQU9BLENBQUMsd0ZBQVI7QUFDQUEsbUJBQU9BLENBQUMsdUVBQVI7QUFDQSxJQUFNQyxXQUFXRCxtQkFBT0EsQ0FBQyw0RUFBUixDQUFqQjtBQUNBLElBQU1FLGtCQUFrQkYsbUJBQU9BLENBQUMsbUdBQVIsQ0FBeEI7QUFDQUEsbUJBQU9BLENBQUMsc0JBQVI7O0FBRUFBLG1CQUFPQSxDQUFDLDRFQUFSO0FBQ0FBLG1CQUFPQSxDQUFDLDhFQUFSOztlQUkyUUEsbUJBQU9BLENBQUMsNkVBQVIsQztJQUFuUUcsZ0IsWUFBQUEsZ0I7SUFBa0JDLGlCLFlBQUFBLGlCO0lBQW1CQyx5QixZQUFBQSx5QjtJQUEyQkMsZSxZQUFBQSxlO0lBQWlCQyxxQixZQUFBQSxxQjtJQUF1QkMsc0IsWUFBQUEsc0I7SUFBd0JDLHdCLFlBQUFBLHdCO0lBQTBCQywyQixZQUFBQSwyQjtJQUE2QkMsd0IsWUFBQUEsd0I7SUFBMEJDLDBCLFlBQUFBLDBCO0lBQTRCQyxpQixZQUFBQSxpQjs7Z0JBRXROYixtQkFBT0EsQ0FBQyx1REFBUixDO0lBQXZCaEMsa0IsYUFBQUEsa0I7O2dCQUVtQ2dDLG1CQUFPQSxDQUFDLHVGQUFSLEM7SUFBbkNjLDhCLGFBQUFBLDhCOztBQUVSLElBQU1DLFlBQVlmLG1CQUFPQSxDQUFDLGdFQUFSLEVBQWdDZ0IsT0FBaEMsQ0FBd0NyRCxPQUExRDtBQUNBLElBQU1zRCxPQUFPakIsbUJBQU9BLENBQUMsMEVBQVIsQ0FBYjs7QUFFQSxJQUFJOUIsZUFBSjs7SUFFcUJnRCxNO0FBQ25CLGtCQUFZQyxJQUFaLEVBQWtCO0FBQUE7O0FBQ2hCLFFBQUksQ0FBQ0EsSUFBTCxFQUFXO0FBQ1gsU0FBS0EsSUFBTCxHQUFZQSxJQUFaOztBQUVBLFNBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBS0MsV0FBTDtBQUNBLFNBQUtDLFVBQUw7QUFDQSxTQUFLL0MsUUFBTDtBQUNBLFNBQUtnRCxXQUFMO0FBQ0EsU0FBS0MsU0FBTDtBQUNBLFNBQUtDLE1BQUw7QUFDRDs7Ozt5QkFFSUMsUSxFQUFVRixTLEVBQVdHLFEsRUFBVTtBQUNsQyxXQUFLQyxpQkFBTDtBQUNBLFdBQUtDLGNBQUwsQ0FBb0JILFFBQXBCO0FBQ0EsV0FBS0YsU0FBTCxHQUFpQkEsU0FBakI7O0FBRUEsV0FBS00sS0FBTCxHQUFhO0FBQ1hDLHNCQUFjLEtBREg7QUFFWEMseUJBQWlCLElBRk47QUFHWEMsb0NBQTRCLElBSGpCO0FBSVhDLDhCQUFzQjtBQUpYLE9BQWI7O0FBT0E7QUFDQSxVQUFJUCxTQUFTM0MsTUFBVCxLQUFvQixDQUFwQixJQUF5QitCLFVBQVVvQixJQUFWLENBQWU7QUFBQSxlQUFRQyxLQUFLdkUsSUFBTCxLQUFjOEQsUUFBdEI7QUFBQSxPQUFmLE1BQW1EVSxTQUFoRixFQUEyRjtBQUN6RlYsbUJBQVcsSUFBWDtBQUNEOztBQUVELFVBQU1GLFNBQVMsSUFBSWEsb0JBQUosQ0FBV1gsUUFBWCxDQUFmO0FBQ0FGLGFBQU9jLElBQVAsQ0FBWXRCLEtBQUtVLFFBQUwsQ0FBWixFQUE0QkEsUUFBNUI7QUFDQSxXQUFLRixNQUFMLEdBQWNBLE1BQWQ7QUFDRDs7O3dDQUVtQjtBQUFBOztBQUNsQixXQUFLZSxZQUFMLEdBQW9CdkQsRUFBRSxvREFBRixDQUFwQjtBQUNBQSxRQUFFLEtBQUtrQyxJQUFQLEVBQWFzQixNQUFiLENBQW9CLEtBQUtELFlBQXpCOztBQUVBLFVBQUl2RSxTQUFTLElBQWI7O0FBRUEsV0FBS29ELFdBQUwsR0FBbUIsSUFBSW5CLGdCQUFnQndDLFdBQXBCLENBQWdDLEVBQUVDLFFBQVEsS0FBS0gsWUFBTCxDQUFrQixDQUFsQixDQUFWLEVBQWhDLENBQW5COztBQUVBLFdBQUtuQixXQUFMLENBQWlCdUIsRUFBakIsQ0FBb0IsWUFBcEIsRUFBa0MsVUFBQy9DLEtBQUQsRUFBVztBQUMzQ2dCLDBCQUFrQjVDLE1BQWxCLEVBQTBCNEIsS0FBMUI7QUFDRCxPQUZEOztBQUlBLFdBQUt3QixXQUFMLENBQWlCdUIsRUFBakIsQ0FBb0IsS0FBcEIsRUFBMkIsVUFBQ0MsT0FBRCxFQUFhO0FBQ3RDakQsZ0JBQVFrRCxHQUFSLENBQVlELE9BQVo7QUFDRCxPQUZEOztBQUlBLFdBQUt4QixXQUFMLENBQWlCdUIsRUFBakIsQ0FBb0IsTUFBcEIsRUFBNEIsWUFBTTtBQUNoQ3pDLHlCQUFpQmxDLE1BQWpCO0FBQ0QsT0FGRDs7QUFJQSxXQUFLb0QsV0FBTCxDQUFpQnVCLEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCLFlBQU07QUFDakN4QywwQkFBa0JuQyxNQUFsQjtBQUNELE9BRkQ7O0FBSUEsV0FBS29ELFdBQUwsQ0FBaUJ1QixFQUFqQixDQUFvQixZQUFwQixFQUFrQyxZQUFNO0FBQ3RDLGNBQUtHLGdCQUFMLENBQXNCOUUsTUFBdEI7QUFDRCxPQUZEOztBQUlBLFdBQUtvRCxXQUFMLENBQWlCdUIsRUFBakIsQ0FBb0IsWUFBcEIsRUFBa0MsWUFBTTtBQUN0Q3BDLCtCQUF1QnZDLE1BQXZCO0FBQ0QsT0FGRDs7QUFJQSxXQUFLb0QsV0FBTCxDQUFpQnVCLEVBQWpCLENBQW9CLGVBQXBCLEVBQXFDLFVBQUNJLEtBQUQsRUFBVztBQUM5QzNDLGtDQUEwQnBDLE1BQTFCLEVBQWtDK0UsS0FBbEM7QUFDRCxPQUZEOztBQUlBLFdBQUtSLFlBQUwsQ0FBa0JJLEVBQWxCLENBQXFCLFNBQXJCLEVBQWdDLFVBQUNLLENBQUQsRUFBTztBQUNyQzNDLHdCQUFnQnJDLE1BQWhCLEVBQXdCZ0YsQ0FBeEI7QUFDRCxPQUZEO0FBR0Q7Ozt1Q0FFa0JDLEksRUFBTTtBQUN2QixVQUFJLEtBQUtDLE9BQUwsS0FBaUJkLFNBQXJCLEVBQWdDO0FBQzlCLGFBQUtjLE9BQUwsR0FBZSxJQUFmO0FBQ0Q7O0FBRUQsV0FBS0EsT0FBTCxDQUFhL0IsT0FBYixHQUF1QjhCLElBQXZCOztBQUVBLFVBQUlqRixTQUFTLElBQWI7O0FBRUEsV0FBS2tGLE9BQUwsQ0FBYUMsVUFBYixDQUF3QkYsSUFBeEIsRUFBOEIsVUFBQ2hGLE1BQUQsRUFBWTtBQUN4Q0QsZUFBT00sUUFBUCxHQUFrQkwsT0FBT0ssUUFBekI7O0FBRUEsWUFBSThFLFdBQVduRixPQUFPb0YsV0FBUCxFQUFmO0FBQ0EsWUFBSUQsU0FBU3JFLE1BQVQsR0FBa0IsQ0FBdEIsRUFBeUI7QUFDdkJ1RSwrQkFBcUJGLFFBQXJCO0FBQ0QsU0FGRCxNQUVPO0FBQ0xwRSxZQUFFLDRCQUFGLEVBQWdDdUUsSUFBaEM7QUFDRDtBQUNGLE9BVEQsRUFTRyxVQUFDM0QsS0FBRCxFQUFXO0FBQ1pELGdCQUFRQyxLQUFSLENBQWMsc0NBQWQsRUFBc0RBLEtBQXREO0FBQ0QsT0FYRDtBQVlEOzs7K0JBRVV0QixRLEVBQVVrRixTLEVBQVdDLE8sRUFBUztBQUN2QyxVQUFJekYsU0FBUyxJQUFiOztBQUVBZ0MsZUFBUzBELFlBQVQsQ0FBc0I7QUFDcEJDLHFCQUFhckYsUUFETztBQUVwQnNGLHlCQUFpQixDQUZHO0FBR3BCQyx1QkFBZSxDQUhLO0FBSXBCQyx1QkFBZSxDQUpLO0FBS3BCQyxxQkFBYTtBQUxPLE9BQXRCLEVBTUdDLElBTkgsQ0FNUSxVQUFDQyxDQUFELEVBQU87QUFDYmhHLGlCQUFTZ0csQ0FBVDs7QUFFQSxZQUFJaEcsT0FBT0ssUUFBUCxDQUFnQkMsUUFBaEIsQ0FBeUJDLEtBQXpCLENBQStCLENBQS9CLEVBQWtDQSxLQUFsQyxDQUF3QyxDQUF4QyxFQUEyQ0EsS0FBM0MsQ0FBaUQsQ0FBakQsRUFBb0RFLElBQXBELENBQXlEQyxFQUF6RCxDQUE0REcsT0FBNUQsQ0FBb0Usc0NBQXBFLElBQThHLENBQUMsQ0FBbkgsRUFBc0g7QUFDcEhmLDZCQUFtQkMsTUFBbkIsRUFBMkJDLE1BQTNCLEVBQ0crRixJQURILENBQ1EsVUFBQ0MsQ0FBRCxFQUFPO0FBQ1hoRyxxQkFBU2dHLENBQVQ7QUFDQWpHLG1CQUFPa0csY0FBUCxDQUFzQmxHLE1BQXRCLEVBQThCd0YsU0FBOUI7QUFDRCxXQUpIO0FBS0QsU0FORCxNQU1PO0FBQ0x4RixpQkFBT2tHLGNBQVAsQ0FBc0JsRyxNQUF0QixFQUE4QndGLFNBQTlCO0FBQ0Q7QUFDRixPQWxCRCxFQWtCR1csS0FsQkgsQ0FrQlMsVUFBQ25CLENBQUQsRUFBTztBQUNkUyxnQkFBUVQsQ0FBUjtBQUNELE9BcEJEO0FBcUJEOzs7bUNBRWNoRixNLEVBQVF3RixTLEVBQVc7QUFDaEN4RixhQUFPb0QsV0FBUCxDQUFtQmdELEdBQW5CLENBQXVCO0FBQ3JCbkcsc0JBRHFCO0FBRXJCNkQsc0JBQWM5RCxPQUFPNkQsS0FBUCxDQUFhQyxZQUZOO0FBR3JCQyx5QkFBaUIvRCxPQUFPNkQsS0FBUCxDQUFhRSxlQUhUO0FBSXJCQyxvQ0FBNEJoRSxPQUFPNkQsS0FBUCxDQUFhRywwQkFKcEI7QUFLckJDLDhCQUFzQmpFLE9BQU82RCxLQUFQLENBQWFJO0FBTGQsT0FBdkI7QUFPQXVCLGdCQUFVdkYsTUFBVjtBQUNBRCxhQUFPcUcsTUFBUDtBQUNEOzs7NkJBRVE7QUFDUCxVQUFJQyxtQkFBbUJ0RixFQUFFLE1BQUksS0FBS2tDLElBQUwsQ0FBVXZDLEVBQWQsR0FBaUIsbUJBQW5CLENBQXZCO0FBQ0EyRix1QkFBaUJqRixNQUFqQixDQUF3QmlGLGlCQUFpQmhGLEtBQWpCLEtBQTJCLElBQW5EO0FBQ0EsV0FBSzhCLFdBQUwsQ0FBaUJpRCxNQUFqQjtBQUNEOzs7bUNBRWNFLEksRUFBTTtBQUNuQixVQUFJLENBQUNBLEtBQUtqRyxRQUFOLElBQWtCaUcsS0FBS0MsTUFBTCxDQUFZQyxVQUFaLENBQXVCLE1BQXZCLENBQXRCLEVBQXNEO0FBQ3BERixhQUFLakcsUUFBTCxHQUFnQixzRUFBb0VpRyxLQUFLQyxNQUF6RjtBQUNEOztBQUVELFdBQUtsRCxXQUFMLEdBQW1CaUQsS0FBS2pHLFFBQXhCO0FBQ0EsV0FBS29HLGtCQUFMLENBQXdCSCxLQUFLakcsUUFBN0I7QUFDRDs7O29DQUVlO0FBQUE7O0FBQ2QsVUFBSXFHLGFBQWEzRixFQUFFLE1BQUksS0FBS2tDLElBQUwsQ0FBVXZDLEVBQWQsR0FBaUIsUUFBbkIsRUFBNkIsQ0FBN0IsRUFBZ0NnRyxVQUFqRDs7QUFFQTtBQUNBLFVBQUlBLFdBQVc1RixNQUFYLEtBQXNCLENBQTFCLEVBQTZCO0FBQzNCO0FBQ0Q7O0FBRUQ7QUFDQUMsUUFBRSwyQkFBRixFQUErQjRGLElBQS9COztBQUVBLFVBQUlDLE9BQU8sbUNBQVg7O0FBWGMsaUNBWUxDLENBWks7QUFhWkQsZ0JBQVEsd0RBQXNERixXQUFXRyxDQUFYLEVBQWNwRCxRQUFwRSxHQUE2RSxLQUE3RSxHQUFtRlosVUFBVW9CLElBQVYsQ0FBZTtBQUFBLGlCQUFRQyxLQUFLdEUsR0FBTCxLQUFhOEcsV0FBV0csQ0FBWCxFQUFjcEQsUUFBbkM7QUFBQSxTQUFmLEVBQTREL0QsSUFBL0ksR0FBb0osUUFBNUo7QUFiWTs7QUFZZCxXQUFLLElBQUltSCxJQUFJLENBQWIsRUFBZ0JBLElBQUlILFdBQVc1RixNQUEvQixFQUF1QytGLEdBQXZDLEVBQTRDO0FBQUEsY0FBbkNBLENBQW1DO0FBRTNDO0FBQ0RELGNBQVEsUUFBUjs7QUFFQTdGLFFBQUUsTUFBSSxLQUFLa0MsSUFBTCxDQUFVdkMsRUFBZCxHQUFpQixvQkFBbkIsRUFBeUM2RCxNQUF6QyxDQUFnRHFDLElBQWhEOztBQUVBN0YsUUFBRSwrQkFBRixFQUFtQyxDQUFuQyxFQUFzQytGLGdCQUF0QyxDQUF1RCxPQUF2RCxFQUFnRSxVQUFDL0IsQ0FBRCxFQUFPO0FBQ3JFdkMsb0NBQTRCLE1BQTVCLEVBQWtDdUMsQ0FBbEM7QUFDRCxPQUZEOztBQUlBLFVBQUloRixTQUFTLElBQWI7O0FBRUFnQixRQUFFLHNCQUFGLEVBQTBCMkQsRUFBMUIsQ0FBNkIsT0FBN0IsRUFBc0MsVUFBQ0ssQ0FBRCxFQUFPO0FBQzNDdEMsaUNBQXlCMUMsTUFBekIsRUFBaUNnRixDQUFqQztBQUNELE9BRkQ7QUFHQSxXQUFLNUIsV0FBTCxDQUFpQjRELElBQWpCLENBQXNCLHNCQUF0QjtBQUNEOztBQUVEOzs7OytCQUNXO0FBQ1QsVUFBSWhHLEVBQUUsTUFBSSxLQUFLa0MsSUFBTCxDQUFVdkMsRUFBZCxHQUFpQixRQUFuQixFQUE2QkksTUFBakMsRUFBeUM7QUFDdkMsZUFBT0MsRUFBRSxNQUFJLEtBQUtrQyxJQUFMLENBQVV2QyxFQUFkLEdBQWlCLFFBQW5CLEVBQTZCLENBQTdCLEVBQWdDc0csS0FBdkM7QUFDRCxPQUZELE1BRU87QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGOzs7cUNBRWdCakgsTSxFQUFRO0FBQ3ZCLFVBQUlBLE9BQU9vRCxXQUFQLENBQW1COEQsZUFBbkIsQ0FBbUMsQ0FBbkMsRUFBc0NDLFlBQXRDLEdBQXFELEdBQXpELEVBQThEO0FBQzVELGFBQUtDLHlCQUFMO0FBQ0Q7O0FBRUQsV0FBS0MseUJBQUwsQ0FBK0JySCxNQUEvQjs7QUFFQSxVQUFJc0gsWUFBWSxLQUFLQyxZQUFMLENBQWtCLFdBQWxCLEVBQStCLEtBQUsvRCxNQUFMLENBQVlSLElBQVosQ0FBaUIsa0JBQWpCLENBQS9CLEVBQXFFLG1CQUFyRSxDQUFoQjtBQUNBaEMsUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLHNCQUFyQixFQUE2QzZELE1BQTdDLENBQW9EOEMsU0FBcEQ7O0FBRUEsVUFBSXRILE9BQU91RCxTQUFQLElBQW9CdkQsT0FBT3VELFNBQVAsQ0FBaUJ4QyxNQUFqQixHQUEwQixDQUFsRCxFQUFxRDtBQUNuRCxZQUFJeUcsV0FBV3hILE9BQU95SCxjQUFQLENBQXNCekgsTUFBdEIsQ0FBZjs7QUFFQSxZQUFJd0gsUUFBSixFQUFjO0FBQ1osZUFBS0UsZUFBTCxDQUFxQjFILE1BQXJCO0FBQ0Q7QUFDRjs7QUFFRGdCLFFBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixvQkFBckIsRUFBMkM2RCxNQUEzQyxDQUFrRCwwRUFBbEQ7O0FBRUEsV0FBS21ELGVBQUwsQ0FBcUIzSCxNQUFyQjtBQUNBNkMscUNBQStCN0MsTUFBL0I7O0FBRUFnQixRQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsb0JBQXJCLEVBQTJDZ0UsRUFBM0MsQ0FBOEMsT0FBOUMsRUFBdUQsWUFBTTtBQUMzRHJDLDhCQUFzQnRDLE1BQXRCO0FBQ0QsT0FGRDtBQUdEOzs7Z0RBRTJCO0FBQzFCZ0IsUUFBRSxnREFBRixFQUFvRDRHLEdBQXBELENBQXdELEVBQUUsU0FBUyxFQUFYLEVBQXhEO0FBQ0E1RyxRQUFFLCtEQUFGLEVBQW1FNEcsR0FBbkUsQ0FBdUUsRUFBRSxTQUFTLEVBQVgsRUFBdkU7QUFDRDs7O29DQUVlNUgsTSxFQUFRO0FBQ3RCLFVBQUk2SCxPQUFPLEtBQUtOLFlBQUwsQ0FBa0IsTUFBbEIsRUFBMEIsS0FBSy9ELE1BQUwsQ0FBWVIsSUFBWixDQUFpQixhQUFqQixDQUExQixFQUEyRCxjQUEzRCxDQUFYO0FBQ0E2RSxXQUFLLENBQUwsRUFBUWQsZ0JBQVIsQ0FBeUIsT0FBekIsRUFBa0MsVUFBQy9CLENBQUQsRUFBTztBQUN2Q3hDLGlDQUF5QnhDLE1BQXpCLEVBQWlDZ0YsQ0FBakM7QUFDRCxPQUZEO0FBR0FoRSxRQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsc0JBQXJCLEVBQTZDNkQsTUFBN0MsQ0FBb0RxRCxJQUFwRDs7QUFFQSxXQUFLQyxpQkFBTCxDQUF1QjlILE1BQXZCO0FBQ0Q7Ozs4Q0FFeUJBLE0sRUFBUTtBQUNoQ2dCLFFBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixlQUFyQixFQUFzQ29ILElBQXRDLENBQTJDLE9BQTNDLEVBQW9EL0gsT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixhQUFuQixDQUFwRDtBQUNBaEMsUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLHFCQUFyQixFQUE0Q29ILElBQTVDLENBQWlELE9BQWpELEVBQTBEL0gsT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixtQkFBbkIsQ0FBMUQ7QUFDQWhDLFFBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixlQUFyQixFQUFzQ29ILElBQXRDLENBQTJDLE9BQTNDLEVBQW9EL0gsT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixhQUFuQixDQUFwRDtBQUNEOzs7aUNBRVlyRCxJLEVBQU1xSSxJLEVBQU1DLFMsRUFBVztBQUNsQyxVQUFJQyxTQUFTbEgsRUFBRSxvQ0FBa0NyQixJQUFsQyxHQUF1QyxXQUF2QyxHQUFtRHFJLElBQW5ELEdBQXdELHNCQUF4RCxHQUErRUMsU0FBL0UsR0FBeUYsMkJBQXpGLEdBQXFIRCxJQUFySCxHQUEwSCxXQUE1SCxDQUFiO0FBQ0EsYUFBT0UsTUFBUDtBQUNEOzs7c0NBRWlCbEksTSxFQUFRO0FBQUE7O0FBQ3hCZ0IsUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLG9CQUFyQixFQUEyQzZELE1BQTNDLENBQWtELHFDQUFsRDs7QUFFQSxVQUFJMkQsVUFBVSxFQUFFQyxPQUFPLElBQVQsRUFBZUMsWUFBWSxLQUEzQixFQUFrQ0MsVUFBVSxLQUE1QyxFQUFtRGhCLFdBQVcsS0FBOUQsRUFBZDtBQUNBYSxnQkFBVW5JLE9BQU91SSxzQkFBUCxDQUE4QnZJLE1BQTlCLEVBQXNDbUksT0FBdEMsQ0FBVjs7QUFKd0IsbUNBTWRLLEdBTmMsRUFNVHpELEtBTlM7QUFPdEIsWUFBSUEsS0FBSixFQUFXO0FBQ1QvRCxZQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsWUFBckIsRUFBbUM2RCxNQUFuQyxDQUEwQyxzQkFBb0JnRSxHQUFwQixHQUF3QixvQ0FBeEIsR0FBNkQsT0FBS2hGLE1BQUwsQ0FBWVIsSUFBWixDQUFpQixtQkFBaUJ3RixHQUFsQyxDQUE3RCxHQUFvRyxRQUE5STs7QUFFQXhILFlBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixXQUFuQixHQUErQjZILEdBQS9CLEdBQW1DLE9BQXJDLEVBQThDN0QsRUFBOUMsQ0FBaUQsT0FBakQsRUFBMEQsVUFBQ0ssQ0FBRCxFQUFPO0FBQy9EckMsdUNBQTJCM0MsTUFBM0IsRUFBbUNnRixDQUFuQyxFQUFzQ3dELEdBQXRDO0FBQ0QsV0FGRDtBQUdEO0FBYnFCOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU14Qiw2QkFBeUJDLE9BQU9DLE9BQVAsQ0FBZVAsT0FBZixDQUF6Qiw4SEFBa0Q7QUFBQTs7QUFBQTs7QUFBQSxjQUF4Q0ssR0FBd0M7QUFBQSxjQUFuQ3pELEtBQW1DOztBQUFBLGlCQUF4Q3lELEdBQXdDLEVBQW5DekQsS0FBbUM7QUFRakQ7QUFkdUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWV6Qjs7O21DQUVjL0UsTSxFQUFRO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQ3JCLDhCQUF5QnlJLE9BQU9DLE9BQVAsQ0FBZTFJLE9BQU9NLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCb0ksTUFBeEMsQ0FBekIsbUlBQTBFO0FBQUE7O0FBQUE7O0FBQUEsY0FBaEVILEdBQWdFO0FBQUEsY0FBM0R6RCxLQUEyRDs7QUFDeEUsY0FBSUEsVUFBVSxTQUFWLEtBQXdCeUQsUUFBUSxPQUFSLElBQW1CQSxRQUFRLFlBQTNCLElBQTJDQSxRQUFRLFVBQW5ELElBQWlFQSxRQUFRLFdBQWpHLENBQUosRUFBbUg7QUFDakgsbUJBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFMb0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNckIsYUFBTyxLQUFQO0FBQ0Q7OzsyQ0FFc0J4SSxNLEVBQVFtSSxPLEVBQVM7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFDdEMsOEJBQXlCTSxPQUFPQyxPQUFQLENBQWUxSSxPQUFPTSxRQUFQLENBQWdCQyxRQUFoQixDQUF5Qm9JLE1BQXhDLENBQXpCLG1JQUEwRTtBQUFBOztBQUFBOztBQUFBLGNBQWhFSCxHQUFnRTtBQUFBLGNBQTNEekQsS0FBMkQ7O0FBQ3hFLGNBQUlBLFVBQVUsU0FBZCxFQUF5QjtBQUN2Qm9ELG9CQUFRSyxHQUFSLElBQWUsSUFBZjtBQUNEO0FBQ0Y7QUFMcUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNdEMsYUFBT0wsT0FBUDtBQUNEOzs7b0NBRWVuSSxNLEVBQVE7QUFDdEIsVUFBSTRJLFVBQUo7QUFBQSxVQUFPM0MsVUFBUDtBQUNBMkMsVUFBSTNDLElBQUksR0FBUjtBQUNBLGNBQVEsS0FBSzRDLFlBQUwsQ0FBa0I3SSxNQUFsQixDQUFSO0FBQ0UsYUFBSyxPQUFMO0FBQ0UsZUFBSzhJLFFBQUwsQ0FBYzlJLE1BQWQsRUFBc0JBLE9BQU9NLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCd0ksU0FBekIsQ0FBbUMsQ0FBbkMsRUFBc0NwSSxFQUE1RDtBQUNBO0FBQ0YsYUFBSyxPQUFMO0FBQ0VpSSxjQUFJNUksT0FBT29ELFdBQVAsQ0FBbUI4RCxlQUFuQixDQUFtQyxDQUFuQyxFQUFzQ0MsWUFBMUM7QUFDQWxCLGNBQUlqRyxPQUFPb0QsV0FBUCxDQUFtQjhELGVBQW5CLENBQW1DLENBQW5DLEVBQXNDOEIsYUFBMUM7QUFOSjtBQVFBaEksUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWxCLEVBQXNCaUgsR0FBdEIsQ0FBMEIsRUFBRXRHLE9BQVFzSCxDQUFWLEVBQWF2SCxRQUFTNEUsQ0FBdEIsRUFBMUI7QUFDRDs7O2lDQUVZakcsTSxFQUFRO0FBQ25CLGFBQU9BLE9BQU9NLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCQyxLQUF6QixDQUErQixDQUEvQixFQUFrQ0EsS0FBbEMsQ0FBd0MsQ0FBeEMsRUFBMkNBLEtBQTNDLENBQWlELENBQWpELEVBQW9ERSxJQUFwRCxDQUF5RFUsSUFBaEU7QUFDRDs7OzZCQUVRcEIsTSxFQUFRaUosSyxFQUFPO0FBQ3RCakksUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLG9CQUFyQixFQUEyQ2lILEdBQTNDLENBQStDLEVBQUUsb0JBQXFCLFNBQVNxQixLQUFULEdBQWdCLEdBQXZDLEVBQS9DO0FBQ0FqSSxRQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsb0JBQXJCLEVBQTJDdUksUUFBM0MsQ0FBb0Qsa0JBQXBEO0FBQ0Q7Ozs7OztrQkEvU2tCakcsTTs7Ozs7Ozs7Ozs7Ozs7O0FDM0JyQjs7QUFFQSxTQUFTZixnQkFBVCxDQUEwQmxDLE1BQTFCLEVBQWtDO0FBQ2hDZ0IsSUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLGVBQXJCLEVBQXNDNEUsSUFBdEM7QUFDQXZFLElBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixlQUFyQixFQUFzQ29ILElBQXRDLENBQTJDLE9BQTNDLEVBQW9EL0gsT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixjQUFuQixDQUFwRDtBQUNEOztBQUVELFNBQVNiLGlCQUFULENBQTJCbkMsTUFBM0IsRUFBbUM7QUFDakNtSixnQkFBY25KLE9BQU9xRCxVQUFyQjtBQUNBckMsSUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLGVBQXJCLEVBQXNDb0gsSUFBdEMsQ0FBMkMsT0FBM0MsRUFBb0QvSCxPQUFPd0QsTUFBUCxDQUFjUixJQUFkLENBQW1CLGFBQW5CLENBQXBEO0FBQ0Q7O0FBRUQsU0FBU1oseUJBQVQsQ0FBbUNwQyxNQUFuQyxFQUEyQytFLEtBQTNDLEVBQWtEO0FBQ2hELE1BQUlxRSxXQUFXckUsVUFBVSxDQUFWLEdBQWMsYUFBZCxHQUE4QixlQUE3QztBQUNBL0QsSUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLGVBQXJCLEVBQXNDb0gsSUFBdEMsQ0FBMkMsT0FBM0MsRUFBb0QvSCxPQUFPd0QsTUFBUCxDQUFjUixJQUFkLENBQW1Cb0csUUFBbkIsQ0FBcEQ7QUFDRDs7QUFFRCxTQUFTL0csZUFBVCxDQUF5QnJDLE1BQXpCLEVBQWlDZ0YsQ0FBakMsRUFBb0M7QUFDbEMsTUFBSUEsRUFBRXFFLE9BQUYsS0FBYyxFQUFkLElBQW9CckUsRUFBRXFFLE9BQUYsS0FBYyxFQUF0QyxFQUEwQztBQUFHO0FBQzNDL0csMEJBQXNCdEMsTUFBdEI7QUFDRDtBQUNELE1BQUlnRixFQUFFcUUsT0FBRixLQUFjLEVBQWxCLEVBQXNCO0FBQUU7QUFDdEJySSxNQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIscUJBQXJCLEVBQTRDMkksS0FBNUM7QUFDRDtBQUNELE1BQUl0RSxFQUFFcUUsT0FBRixLQUFjLEVBQWxCLEVBQXNCO0FBQUU7QUFDdEJFLHVCQUFtQnZKLE1BQW5CLEVBQTJCLEdBQTNCO0FBQ0Q7QUFDRCxNQUFJZ0YsRUFBRXFFLE9BQUYsS0FBYyxFQUFsQixFQUFzQjtBQUFFO0FBQ3RCRSx1QkFBbUJ2SixNQUFuQixFQUEyQixDQUFDLEdBQTVCO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTc0MscUJBQVQsQ0FBK0J0QyxNQUEvQixFQUF1QztBQUNyQyxNQUFJQSxPQUFPb0QsV0FBUCxDQUFtQjhELGVBQW5CLENBQW1DLENBQW5DLEVBQXNDc0MsVUFBMUMsRUFBc0Q7QUFDcER4SixXQUFPb0QsV0FBUCxDQUFtQjhELGVBQW5CLENBQW1DLENBQW5DLEVBQXNDdUMsS0FBdEM7QUFDRCxHQUZELE1BRU87QUFDTDtBQUNBLFFBQUl6SSxFQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsZUFBckIsRUFBc0MrSSxFQUF0QyxDQUF5QyxVQUF6QyxDQUFKLEVBQTBEO0FBQ3hEMUksUUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLGVBQXJCLEVBQXNDNEUsSUFBdEM7QUFDRDtBQUNEdkYsV0FBT29ELFdBQVAsQ0FBbUI4RCxlQUFuQixDQUFtQyxDQUFuQyxFQUFzQ3lDLElBQXRDO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTcEgsc0JBQVQsQ0FBZ0N2QyxNQUFoQyxFQUF3QztBQUN0Q2dCLElBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixZQUFyQixFQUFtQzRFLElBQW5DO0FBQ0F2RSxJQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsZ0JBQXJCLEVBQXVDNEUsSUFBdkM7QUFDRDs7QUFFRCxTQUFTZ0Usa0JBQVQsQ0FBNEJ2SixNQUE1QixFQUFvQzRKLElBQXBDLEVBQTBDO0FBQ3hDLE1BQUlDLE1BQU03SSxFQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsaUJBQXJCLEVBQXdDbUosTUFBeEMsQ0FBK0MsUUFBL0MsRUFBeUQsT0FBekQsQ0FBVjtBQUNBRCxRQUFNRSxtQkFBbUJGLEdBQW5CLEVBQXdCRCxJQUF4QixDQUFOO0FBQ0E1SSxJQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsaUJBQXJCLEVBQXdDbUosTUFBeEMsQ0FBK0MsT0FBL0MsRUFBd0RELEdBQXhEO0FBQ0Q7O0FBRUQsU0FBU0Usa0JBQVQsQ0FBNEJGLEdBQTVCLEVBQWlDRCxJQUFqQyxFQUF1QztBQUNyQyxNQUFJQSxPQUFPLENBQVgsRUFBYztBQUNaLFdBQU9JLGVBQWVILEdBQWYsRUFBb0JELElBQXBCLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPSyxlQUFlSixHQUFmLEVBQW9CRCxJQUFwQixDQUFQO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTSSxjQUFULENBQXdCSCxHQUF4QixFQUE2QkQsSUFBN0IsRUFBbUM7QUFDakMsU0FBT0MsTUFBTUQsSUFBTixHQUFhLENBQWIsR0FBaUJDLE1BQU1ELElBQTlCO0FBQ0Q7O0FBRUQsU0FBU0ssY0FBVCxDQUF3QkosR0FBeEIsRUFBNkJELElBQTdCLEVBQW1DO0FBQ2pDLFNBQU9DLE1BQU1ELE9BQU9DLEdBQWIsR0FBbUIsQ0FBbkIsR0FBdUIsQ0FBdkIsR0FBMkJBLE1BQU1ELElBQXhDO0FBQ0Q7O0FBRUQsU0FBU3BILHdCQUFULENBQWtDeEMsTUFBbEMsRUFBMENnRixDQUExQyxFQUE2QztBQUMzQ2tGLG1CQUFpQmxLLE1BQWpCLEVBQXlCZ0YsQ0FBekIsRUFBNEIsVUFBNUIsRUFBd0MsTUFBeEM7QUFDRDs7QUFFRCxTQUFTdkMsMkJBQVQsQ0FBcUN6QyxNQUFyQyxFQUE2Q2dGLENBQTdDLEVBQWdEO0FBQzlDa0YsbUJBQWlCbEssTUFBakIsRUFBeUJnRixDQUF6QixFQUE0QixjQUE1QixFQUE0QyxXQUE1QztBQUNEOztBQUVELFNBQVNrRixnQkFBVCxDQUEwQmxLLE1BQTFCLEVBQWtDZ0YsQ0FBbEMsRUFBcUNtRixHQUFyQyxFQUEwQ3hLLElBQTFDLEVBQWdEO0FBQzlDcUYsSUFBRW9GLGNBQUY7O0FBRUEsTUFBSXBKLEVBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixJQUFuQixHQUF3QndKLEdBQTFCLEVBQStCVCxFQUEvQixDQUFrQyxVQUFsQyxDQUFKLEVBQW1EO0FBQ2pEMUksTUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLElBQW5CLEdBQXdCd0osR0FBMUIsRUFBK0I1RSxJQUEvQjtBQUNELEdBRkQsTUFFTztBQUNMdkUsTUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLElBQW5CLEdBQXdCd0osR0FBMUIsRUFBK0J2QyxHQUEvQixDQUFtQyxFQUFFeUMsUUFBUXJKLEVBQUUsTUFBSWhCLE9BQU9rRCxJQUFQLENBQVl2QyxFQUFoQixHQUFtQixxQkFBckIsRUFBNENVLE1BQTVDLEVBQVYsRUFBZ0VpSixNQUFRdEosRUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLG1CQUFuQixHQUF1Q2hCLElBQXZDLEdBQTRDLElBQTlDLEVBQW9ENEssTUFBcEQsR0FBNkRELElBQTdELEdBQW9FdEosRUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLFVBQXJCLEVBQWlDNEosTUFBakMsR0FBMENELElBQS9HLEdBQXdIdEosRUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLElBQW5CLEdBQXdCd0osR0FBMUIsRUFBK0I3SSxLQUEvQixLQUF5QyxDQUF4TyxFQUFuQztBQUNBTixNQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsSUFBbkIsR0FBd0J3SixHQUExQixFQUErQnZELElBQS9CO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTbEUsd0JBQVQsQ0FBa0MxQyxNQUFsQyxFQUEyQ2dGLENBQTNDLEVBQThDO0FBQzVDaEUsSUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLGdCQUFyQixFQUF1QzRFLElBQXZDO0FBQ0EsTUFBSW9CLGFBQWEzRixFQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsUUFBckIsRUFBK0IsQ0FBL0IsRUFBa0NnRyxVQUFuRDs7QUFFQSxPQUFLLElBQUlHLElBQUksQ0FBYixFQUFnQkEsSUFBSUgsV0FBVzVGLE1BQS9CLEVBQXVDK0YsR0FBdkMsRUFBNEM7QUFDMUMsUUFBSTlGLEVBQUVnRSxFQUFFTixNQUFKLEVBQVlPLElBQVosQ0FBaUIsVUFBakIsTUFBaUMwQixXQUFXRyxDQUFYLEVBQWNwRCxRQUFuRCxFQUE2RDtBQUMzRGlELGlCQUFXRyxDQUFYLEVBQWMwRCxJQUFkLEdBQXFCLFNBQXJCO0FBQ0QsS0FGRCxNQUVPO0FBQ0w3RCxpQkFBV0csQ0FBWCxFQUFjMEQsSUFBZCxHQUFxQixRQUFyQjtBQUNEO0FBQ0Y7QUFDRDtBQUNBeEYsSUFBRXlGLGVBQUY7QUFDRDs7QUFFRCxTQUFTOUgsMEJBQVQsQ0FBb0MzQyxNQUFwQyxFQUE0Q2dGLENBQTVDLEVBQStDNUQsSUFBL0MsRUFBcUQ7QUFDbkQ7QUFDQTRELElBQUV5RixlQUFGOztBQUVBQyxTQUFPQyxJQUFQLENBQVkzSyxPQUFPdUQsU0FBUCxHQUFpQixZQUFqQixHQUE4QnFILG1CQUFtQjVLLE9BQU9zRCxXQUExQixDQUE5QixHQUFxRSxHQUFyRSxHQUF5RWxDLElBQXJGLEVBQTJGLFFBQTNGO0FBQ0Q7O0FBRUQsU0FBU3dCLGlCQUFULENBQTJCNUMsTUFBM0IsRUFBbUM0QixLQUFuQyxFQUEwQztBQUN4Q0QsVUFBUUMsS0FBUixDQUFjLGFBQWQsRUFBNkJBLEtBQTdCOztBQUVBWixJQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsVUFBckIsRUFBaUNrSyxXQUFqQyxDQUE2QyxpQkFBN0M7QUFDQSxNQUFJQyxlQUFlOUssT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixjQUFuQixJQUFtQyxJQUF0RDtBQUNBLFVBQVFwQixNQUFNaEMsSUFBZDtBQUNFLFNBQUssQ0FBTDtBQUNFa0wsc0JBQWdCOUssT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixzQkFBbkIsQ0FBaEI7QUFDQTtBQUNGLFNBQUssQ0FBTDtBQUNFOEgsc0JBQWdCOUssT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixzQkFBbkIsQ0FBaEI7QUFDQTtBQUNGLFNBQUssQ0FBTDtBQUNFOEgsc0JBQWdCOUssT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQix1QkFBbkIsQ0FBaEI7QUFDQTtBQUNGLFNBQUssQ0FBTDtBQUNFOEgsc0JBQWdCOUssT0FBT3dELE1BQVAsQ0FBY1IsSUFBZCxDQUFtQixxQkFBbkIsQ0FBaEI7QUFDQTtBQUNGO0FBQ0U4SCxzQkFBZ0I5SyxPQUFPd0QsTUFBUCxDQUFjUixJQUFkLENBQW1CLHNCQUFuQixDQUFoQjtBQUNBO0FBZko7O0FBa0JBaEMsSUFBRSxNQUFJaEIsT0FBT2tELElBQVAsQ0FBWXZDLEVBQWhCLEdBQW1CLG9CQUFyQixFQUEyQzZELE1BQTNDLENBQWtELHNDQUFvQ3NHLFlBQXBDLEdBQWlELFFBQW5HO0FBQ0Q7O0FBRURqSixPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZJLG9DQURlLEVBQ0dDLG9DQURILEVBQ3NCQyxvREFEdEIsRUFDaURDLGdDQURqRCxFQUNrRUMsNENBRGxFLEVBQ3lGQyw4Q0FEekYsRUFDaUhDLGtEQURqSCxFQUMySUMsd0RBRDNJLEVBQ3dLQyxrREFEeEssRUFDa01DLHNEQURsTSxFQUM4TkM7QUFEOU4sQ0FBakIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxSUE7O0FBRUEsSUFBTUUsWUFBWWYsbUJBQU9BLENBQUMsZ0VBQVIsRUFBZ0NnQixPQUFoQyxDQUF3Q3JELE9BQTFEOztBQUVBLFNBQVNtRCw4QkFBVCxDQUF3QzdDLE1BQXhDLEVBQWdEO0FBQzlDLE1BQUlBLE9BQU9NLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCQyxLQUF6QixDQUErQixDQUEvQixFQUFrQ3VLLFdBQWxDLElBQWlEL0ssT0FBT00sUUFBUCxDQUFnQkMsUUFBaEIsQ0FBeUJDLEtBQXpCLENBQStCLENBQS9CLEVBQWtDdUssV0FBbEMsQ0FBOEMsQ0FBOUMsQ0FBckQsRUFBdUc7QUFDckdDLHFCQUFpQmhMLE1BQWpCO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTZ0wsZ0JBQVQsQ0FBMEJoTCxNQUExQixFQUFrQztBQUNoQ2dCLElBQUVDLEdBQUYsQ0FBTWpCLE9BQU9NLFFBQVAsQ0FBZ0JDLFFBQWhCLENBQXlCQyxLQUF6QixDQUErQixDQUEvQixFQUFrQ3VLLFdBQWxDLENBQThDLENBQTlDLEVBQWlEcEssRUFBdkQsRUFBMkQsVUFBQ08sUUFBRCxFQUFjO0FBQ3ZFLFFBQUkrSixlQUFlL0osU0FBU2dLLFNBQVQsQ0FBbUJoSCxJQUFuQixDQUF3QixVQUFDaUgsUUFBRCxFQUFjO0FBQ3ZELGFBQU9BLFNBQVNDLE1BQVQsS0FBb0IsT0FBM0I7QUFDRCxLQUZrQixDQUFuQjs7QUFJQUMsc0JBQWtCckwsTUFBbEIsRUFBMEJrQixRQUExQixFQUFvQytKLFlBQXBDO0FBQ0QsR0FORDtBQU9EOztBQUVELFNBQVNJLGlCQUFULENBQTJCckwsTUFBM0IsRUFBbUNzTCxrQkFBbkMsRUFBdURMLFlBQXZELEVBQXFFO0FBQ25FO0FBQ0FqSyxJQUFFdUssSUFBRixDQUFPO0FBQ0xuSyxVQUFNLEtBREQ7QUFFTG9LLFNBQUtQLGFBQWFFLFFBQWIsQ0FBc0IsS0FBdEIsQ0FGQTtBQUdMTSxpQkFBYSxpREFIUjtBQUlMQyxjQUFVLE1BSkw7QUFLTEMsYUFBVSxpQkFBQ0MsUUFBRCxFQUFjO0FBQ3RCLFVBQUlDLFFBQVE3SyxFQUFFLE1BQUloQixPQUFPa0QsSUFBUCxDQUFZdkMsRUFBaEIsR0FBbUIsUUFBckIsRUFBK0IsQ0FBL0IsRUFBa0NtTCxZQUFsQyxDQUErQyxXQUEvQyxFQUE0RCxVQUE1RCxFQUF3RWhKLFVBQVVvQixJQUFWLENBQWU7QUFBQSxlQUFRQyxLQUFLdkUsSUFBTCxLQUFjZ00sU0FBU2xJLFFBQS9CO0FBQUEsT0FBZixFQUF3RDdELEdBQWhJLENBQVo7O0FBRUF5TCx5QkFBbUJKLFNBQW5CLENBQTZCYSxPQUE3QixDQUFxQyxtQkFBVztBQUM5QyxZQUFJQyxRQUFRWixNQUFSLEtBQW1CLFNBQXZCLEVBQWtDO0FBQ2hDUyxnQkFBTUksTUFBTixDQUFhQyxjQUFjRixPQUFkLEVBQXVCSixRQUF2QixDQUFiO0FBQ0Q7QUFDRixPQUpEO0FBS0E1TCxhQUFPbU0sYUFBUDtBQUNEO0FBZEksR0FBUDtBQWdCRDs7QUFFRCxTQUFTRCxhQUFULENBQXVCRixPQUF2QixFQUFnQ0osUUFBaEMsRUFBMEM7QUFDeEMsTUFBSVEsaUJBQWlCSixRQUFRYixRQUFSLENBQWlCLEtBQWpCLEVBQXdCdEssU0FBeEIsQ0FBa0NtTCxRQUFRYixRQUFSLENBQWlCLEtBQWpCLEVBQXdCaEssV0FBeEIsQ0FBb0MsR0FBcEMsSUFBeUMsQ0FBM0UsQ0FBckI7QUFDQSxNQUFJa0wsWUFBWUQsZUFBZUUsS0FBZixDQUFxQixHQUFyQixDQUFoQjtBQUNBLE1BQUlDLGlCQUFpQlgsU0FBUzdHLEtBQVQsQ0FBZWxFLFNBQWYsQ0FBeUJ3TCxVQUFVLENBQVYsQ0FBekIsRUFBdUNBLFVBQVUsQ0FBVixDQUF2QyxDQUFyQjtBQUNBLE1BQUlHLFlBQVlSLFFBQVFySCxFQUFSLENBQVcsQ0FBWCxFQUFjOUQsU0FBZCxDQUF3Qm1MLFFBQVFySCxFQUFSLENBQVcsQ0FBWCxFQUFjeEQsV0FBZCxDQUEwQixHQUExQixJQUErQixDQUF2RCxDQUFoQjtBQUNBLE1BQUlzTCxTQUFTRCxVQUFVRixLQUFWLENBQWdCLEdBQWhCLENBQWI7O0FBRUEsTUFBSUksTUFBTSxJQUFJQyxNQUFKLENBQVdDLGNBQWNILE9BQU8sQ0FBUCxDQUFkLENBQVgsRUFBcUNHLGNBQWNILE9BQU8sQ0FBUCxDQUFkLENBQXJDLEVBQStERixjQUEvRCxDQUFWO0FBQ0FHLE1BQUkvTCxFQUFKLEdBQVNxTCxRQUFRYixRQUFSLENBQWlCLEtBQWpCLENBQVQ7QUFDQXVCLE1BQUlHLElBQUosR0FBVyxDQUFDLENBQVo7QUFDQUgsTUFBSUksSUFBSixHQUFXLEVBQVg7O0FBRUEsU0FBT0osR0FBUDtBQUNEOztBQUVELFNBQVNFLGFBQVQsQ0FBdUJHLElBQXZCLEVBQTZCO0FBQUEsb0JBQ0tBLEtBQUtULEtBQUwsQ0FBVyxHQUFYLENBREw7QUFBQTtBQUFBLE1BQ3RCVSxLQURzQjtBQUFBLE1BQ2ZDLE9BRGU7QUFBQSxNQUNOQyxPQURNOztBQUUzQkYsVUFBUUcsU0FBU0gsS0FBVCxDQUFSO0FBQ0FDLFlBQVVFLFNBQVNGLE9BQVQsQ0FBVjtBQUNBLE1BQUlHLHFCQUFKOztBQUVBLE1BQUlDLFFBQVFILFFBQVEvTCxXQUFSLENBQW9CLEdBQXBCLElBQTJCLENBQUMsQ0FBNUIsR0FBZ0MrTCxRQUFRWixLQUFSLENBQWMsR0FBZCxDQUFoQyxHQUFxRCxDQUFDWSxPQUFELEVBQVUsQ0FBVixDQUFqRTtBQUNBQSxZQUFVQyxTQUFTRSxNQUFNLENBQU4sQ0FBVCxDQUFWOztBQUVBRCxpQkFBZUMsTUFBTSxDQUFOLEVBQVN0TSxNQUFULEtBQW9CLENBQXBCLEdBQXdCb00sU0FBU0UsTUFBTSxDQUFOLENBQVQsSUFBcUIsRUFBN0MsR0FBa0RGLFNBQVNFLE1BQU0sQ0FBTixDQUFULENBQWpFOztBQUVBLFNBQVFMLFFBQVEsSUFBUixHQUFlQyxVQUFVLEVBQXpCLEdBQThCQyxPQUEvQixHQUF5QyxHQUF6QyxHQUE4Q0UsWUFBckQ7QUFDRDs7QUFFRHZMLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmU7QUFEZSxDQUFqQixDOzs7Ozs7Ozs7Ozs7O0FDcEVBLGNBQWMsbUJBQU8sQ0FBQyxrSEFBc0Q7O0FBRTVFLDRDQUE0QyxRQUFTOztBQUVyRDtBQUNBOzs7O0FBSUEsZUFBZTs7QUFFZjtBQUNBOztBQUVBLGFBQWEsbUJBQU8sQ0FBQyxtR0FBZ0Q7O0FBRXJFOztBQUVBLEdBQUcsSUFBVTtBQUNiLG1CQUFtQixrSEFBc0Q7QUFDekUsbUJBQW1CLG1CQUFPLENBQUMsa0hBQXNEOztBQUVqRixvREFBb0QsUUFBUzs7QUFFN0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQSxFQUFFOztBQUVGLGdDQUFnQyxVQUFVLEVBQUU7QUFDNUMsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxakJDNUNBOzs7QUFDQTs7QUFFQTs7Ozs7Ozs7QUFFQSxJQUFJVSxZQUFZLEVBQWhCO0FBQ0EsSUFBSXZELGVBQUo7QUFDQSxJQUFJMEQsV0FBVyxFQUFmOztBQUVPLElBQU00SixzQkFBTyxTQUFQQSxJQUFPLENBQUNDLFNBQUQsRUFBWTlKLFFBQVosRUFBc0IwRSxPQUF0QixFQUFrQztBQUNwRDtBQUNBLE1BQUlxRixXQUFXQyxRQUFmOztBQUVBO0FBQ0F6TSxJQUFFdU0sU0FBRixFQUFhL0ksTUFBYixDQUFvQiwwQkFBd0JnSixRQUF4QixHQUFpQyw4QkFBckQ7O0FBRUE7QUFDQWpLLGNBQVk0RSxRQUFRdUYsTUFBUixJQUFrQm5LLFNBQTlCO0FBQ0FHLGFBQVd5RSxRQUFRekUsUUFBUixJQUFvQkEsUUFBL0I7O0FBRUE7QUFDQTFELFdBQVMsSUFBSWlELGdCQUFKLENBQVcwSyxTQUFTQyxjQUFULENBQXdCLGlCQUFlSixRQUF2QyxDQUFYLENBQVQ7O0FBRUE7QUFDQXhOLFNBQU9zTixJQUFQLENBQVk3SixRQUFaLEVBQXNCRixTQUF0QixFQUFpQ0csUUFBakM7QUFDRCxDQWhCTTs7QUFrQkEsSUFBTStKLDBCQUFTLFNBQVRBLE1BQVMsR0FBTTtBQUMxQixTQUFPLENBQUMsQ0FBQyxHQUFELElBQU0sQ0FBQyxHQUFQLEdBQVcsQ0FBQyxHQUFaLEdBQWdCLENBQUMsR0FBakIsR0FBcUIsQ0FBQyxJQUF2QixFQUE2QkksT0FBN0IsQ0FBcUMsUUFBckMsRUFBK0M7QUFBQSxXQUNwRCxDQUFDQyxJQUFJQyxPQUFPQyxlQUFQLENBQXVCLElBQUlDLFVBQUosQ0FBZSxDQUFmLENBQXZCLEVBQTBDLENBQTFDLElBQStDLE1BQU1ILElBQUksQ0FBOUQsRUFBaUVJLFFBQWpFLENBQTBFLEVBQTFFLENBRG9EO0FBQUEsR0FBL0MsQ0FBUDtBQUdELENBSk07O0lBTWNDLG9CO0FBQ25CLGdDQUFZWixTQUFaLEVBQXVCOUosUUFBdkIsRUFBaUMwRSxPQUFqQyxFQUEwQztBQUFBOztBQUN4Q0EsY0FBVWlHLFVBQVVyTixNQUFWLEdBQW1CLENBQW5CLEdBQXVCb0gsT0FBdkIsR0FBaUMsRUFBM0M7QUFDQW1GLFNBQUtDLFNBQUwsRUFBZ0I5SixRQUFoQixFQUEwQjBFLE9BQTFCO0FBQ0Q7Ozs7d0JBRVk7QUFDWCxhQUFPbkksTUFBUDtBQUNEOzs7Ozs7a0JBUmtCbU8sb0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDckIsb0Q7Ozs7Ozs7Ozs7O0FDQUEsb0QiLCJmaWxlIjoiZXVyb3BlYW5hbWVkaWFwbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJqcXVlcnlcIiksIHJlcXVpcmUoXCJkYXNoanNcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJldXJvcGVhbmFtZWRpYXBsYXllclwiLCBbXCJqcXVlcnlcIiwgXCJkYXNoanNcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZXVyb3BlYW5hbWVkaWFwbGF5ZXJcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJqcXVlcnlcIiksIHJlcXVpcmUoXCJkYXNoanNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImV1cm9wZWFuYW1lZGlhcGxheWVyXCJdID0gZmFjdG9yeShyb290W1wianF1ZXJ5XCJdLCByb290W1wiZGFzaGpzXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qcXVlcnlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9kYXNoanNfXykge1xucmV0dXJuICIsIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlZXVyb3BlYW5hbWVkaWFwbGF5ZXJcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlZXVyb3BlYW5hbWVkaWFwbGF5ZXJcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0aWYgKG51bGwpIHNjcmlwdC5jcm9zc09yaWdpbiA9IG51bGw7XG4gXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KHJlcXVlc3RUaW1lb3V0KSB7XG4gXHRcdHJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQgfHwgMTAwMDA7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0fVxuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XG4gXHRcdFx0fVxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxuIFx0XHRcdFx0XHRyZWplY3QoXG4gXHRcdFx0XHRcdFx0bmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKVxuIFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XG4gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG4gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuIFx0XHRcdFx0XHRcdHJldHVybjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCJiNjZjNmQ0MzJhNWZhMzhkMzQxY1wiO1xuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcInRcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0Zm4udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdFx0aWYgKG1vZGUgJiAxKSB2YWx1ZSA9IGZuKHZhbHVlKTtcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KHZhbHVlLCBtb2RlICYgfjEpO1xuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4gXHRcdFx0fSxcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XG4gXHRcdHZhciBpc051bWJlciA9ICtpZCArIFwiXCIgPT09IGlkO1xuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHtcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0fVxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdHZhciBjaHVua0lkID0gXCJtYWluXCI7XG4gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0e1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIhZnVuY3Rpb24oRSxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImh0dHBzdGF0dXNjb2Rlc1wiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuaHR0cHN0YXR1c2NvZGVzPWUoKTpFLmh0dHBzdGF0dXNjb2Rlcz1lKCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oRSl7dmFyIGU9e307ZnVuY3Rpb24gVCh0KXtpZihlW3RdKXJldHVybiBlW3RdLmV4cG9ydHM7dmFyIE89ZVt0XT17aTp0LGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIEVbdF0uY2FsbChPLmV4cG9ydHMsTyxPLmV4cG9ydHMsVCksTy5sPSEwLE8uZXhwb3J0c31yZXR1cm4gVC5tPUUsVC5jPWUsVC5kPWZ1bmN0aW9uKEUsZSx0KXtULm8oRSxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEUsZSx7ZW51bWVyYWJsZTohMCxnZXQ6dH0pfSxULnI9ZnVuY3Rpb24oRSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoRSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sVC50PWZ1bmN0aW9uKEUsZSl7aWYoMSZlJiYoRT1UKEUpKSw4JmUpcmV0dXJuIEU7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgRSYmRSYmRS5fX2VzTW9kdWxlKXJldHVybiBFO3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7aWYoVC5yKHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOkV9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiBFKWZvcih2YXIgTyBpbiBFKVQuZCh0LE8sZnVuY3Rpb24oZSl7cmV0dXJuIEVbZV19LmJpbmQobnVsbCxPKSk7cmV0dXJuIHR9LFQubj1mdW5jdGlvbihFKXt2YXIgZT1FJiZFLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gRS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBFfTtyZXR1cm4gVC5kKGUsXCJhXCIsZSksZX0sVC5vPWZ1bmN0aW9uKEUsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChFLGUpfSxULnA9XCJcIixUKFQucz0wKX0oW2Z1bmN0aW9uKEUsZSxUKXtFLmV4cG9ydHM9VCgxKX0sZnVuY3Rpb24oRSxlLFQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ09OVElOVUU9MTAwLGUuU1dJVENISU5HX1BST1RPQ09MUz0xMDEsZS5QUk9DRVNTSU5HPTEwMixlLk9LPTIwMCxlLkNSRUFURUQ9MjAxLGUuQUNDRVBURUQ9MjAyLGUuTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT049MjAzLGUuTk9fQ09OVEVOVD0yMDQsZS5SRVNFVF9DT05URU5UPTIwNSxlLlBBUlRJQUxfQ09OVEVOVD0yMDYsZS5NVUxUSV9TVEFUVVM9MjA3LGUuTVVMVElQTEVfQ0hPSUNFUz0zMDAsZS5NT1ZFRF9QRVJNQU5FTlRMWT0zMDEsZS5NT1ZFRF9URU1QT1JBUklMWT0zMDIsZS5TRUVfT1RIRVI9MzAzLGUuTk9UX01PRElGSUVEPTMwNCxlLlVTRV9QUk9YWT0zMDUsZS5URU1QT1JBUllfUkVESVJFQ1Q9MzA3LGUuQkFEX1JFUVVFU1Q9NDAwLGUuVU5BVVRIT1JJWkVEPTQwMSxlLlBBWU1FTlRfUkVRVUlSRUQ9NDAyLGUuRk9SQklEREVOPTQwMyxlLk5PVF9GT1VORD00MDQsZS5NRVRIT0RfTk9UX0FMTE9XRUQ9NDA1LGUuTk9UX0FDQ0VQVEFCTEU9NDA2LGUuUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NDA3LGUuUkVRVUVTVF9USU1FX09VVD00MDgsZS5DT05GTElDVD00MDksZS5HT05FPTQxMCxlLkxFTkdUSF9SRVFVSVJFRD00MTEsZS5QUkVDT05ESVRJT05fRkFJTEVEPTQxMixlLlJFUVVFU1RfRU5USVRZX1RPT19MQVJHRT00MTMsZS5SRVFVRVNUX1VSSV9UT09fTEFSR0U9NDE0LGUuVU5TVVBQT1JURURfTUVESUFfVFlQRT00MTUsZS5SRVFVRVNURURfUkFOR0VfTk9UX1NBVElTRklBQkxFPTQxNixlLkVYUEVDVEFUSU9OX0ZBSUxFRD00MTcsZS5JTV9BX1RFQVBPVD00MTgsZS5VTlBST0NFU1NBQkxFX0VOVElUWT00MjIsZS5MT0NLRUQ9NDIzLGUuRkFJTEVEX0RFUEVOREVOQ1k9NDI0LGUuVU5PUkRFUkVEX0NPTExFQ1RJT049NDI1LGUuVVBHUkFERV9SRVFVSVJFRD00MjYsZS5QUkVDT05ESVRJT05fUkVRVUlSRUQ9NDI4LGUuVE9PX01BTllfUkVRVUVTVFM9NDI5LGUuUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRT00MzEsZS5JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwLGUuTk9UX0lNUExFTUVOVEVEPTUwMSxlLkJBRF9HQVRFV0FZPTUwMixlLlNFUlZJQ0VfVU5BVkFJTEFCTEU9NTAzLGUuR0FURVdBWV9USU1FX09VVD01MDQsZS5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRD01MDUsZS5WQVJJQU5UX0FMU09fTkVHT1RJQVRFUz01MDYsZS5JTlNVRkZJQ0lFTlRfU1RPUkFHRT01MDcsZS5CQU5EV0lEVEhfTElNSVRfRVhDRUVERUQ9NTA5LGUuTk9UX0VYVEVOREVEPTUxMCxlLk5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NTExfV0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cHN0YXR1c2NvZGVzLmpzLm1hcCIsInZhciBCYXNlQ29tcG9uZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmFzZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLm9wdGlvbnMuZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGF0YSgpLCBvcHRpb25zLmRhdGEpO1xyXG4gICAgfVxyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5lbCA9IHRoaXMub3B0aW9ucy50YXJnZXQ7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignZWxlbWVudCBub3QgZm91bmQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfTtcclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuX2UgfHwgKHRoaXMuX2UgPSB7fSk7XHJcbiAgICAgICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xyXG4gICAgICAgICAgICBmbjogY2FsbGJhY2ssXHJcbiAgICAgICAgICAgIGN0eDogY3R4XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLl9lIHx8ICh0aGlzLl9lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCYXNlQ29tcG9uZW50LnByb3RvdHlwZS5fcmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgfTtcclxuICAgIEJhc2VDb21wb25lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChfZGF0YSkge1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnQgeyBCYXNlQ29tcG9uZW50IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiSUlJRkFWQ29tcG9uZW50XCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5JSUlGQVZDb21wb25lbnQ9ZSgpOnQuSUlJRkFWQ29tcG9uZW50PWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLGkpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpbi5kKGkscixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTcpfShbZnVuY3Rpb24odCxlLG4pe1widW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLHQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLGkpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpbi5kKGkscixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTQpfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBuIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShuKXx8KGVbbl09dFtuXSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaShuKDYpKSxpKG4oNykpLGkobig4KSksaShuKDkpKSxpKG4oMTApKSxpKG4oMTEpKSxpKG4oMTIpKSxpKG4oMTMpKSxpKG4oMTQpKSxpKG4oMTUpKSxpKG4oMTYpKSxpKG4oMTcpKSxpKG4oMTgpKSxpKG4oMTkpKSxpKG4oMjApKSxpKG4oMjEpKSxpKG4oMjIpKSxpKG4oMjMpKSxpKG4oMjQpKSxpKG4oMjUpKSxpKG4oMjYpKSxpKG4oMjcpKSxpKG4oMjgpKSxpKG4oMjkpKSxpKG4oMzApKSxpKG4oMzEpKSxpKG4oMzIpKSxpKG4oMikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7dC5CT09LTUFSS0lORz1cIm9hOmJvb2ttYXJraW5nXCIsdC5DTEFTU0lGWUlORz1cIm9hOmNsYXNzaWZ5aW5nXCIsdC5DT01NRU5USU5HPVwib2E6Y29tbWVudGluZ1wiLHQuREVTQ1JJQklORz1cIm9hOmRlc2NyaWJpbmdcIix0LkVESVRJTkc9XCJvYTplZGl0aW5nXCIsdC5ISUdITElHSFRJTkc9XCJvYTpoaWdobGlnaHRpbmdcIix0LklERU5USUZZSU5HPVwib2E6aWRlbnRpZnlpbmdcIix0LkxJTktJTkc9XCJvYTpsaW5raW5nXCIsdC5NT0RFUkFUSU5HPVwib2E6bW9kZXJhdGluZ1wiLHQuUEFJTlRJTkc9XCJzYzpwYWludGluZ1wiLHQuUVVFU1RJT05JTkc9XCJvYTpxdWVzdGlvbmluZ1wiLHQuUkVQTFlJTkc9XCJvYTpyZXBseWluZ1wiLHQuVEFHR0lORz1cIm9hOnRhZ2dpbmdcIix0LlRSQU5TQ1JJQklORz1cIm9hZDp0cmFuc2NyaWJpbmdcIn0oZS5Bbm5vdGF0aW9uTW90aXZhdGlvbnx8KGUuQW5ub3RhdGlvbk1vdGl2YXRpb249e30pKSxmdW5jdGlvbih0KXt0LkFVVE9fQURWQU5DRT1cImF1dG8tYWR2YW5jZVwiLHQuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIix0LkZBQ0lOR19QQUdFUz1cImZhY2luZy1wYWdlc1wiLHQuSElEREVOPVwiaGlkZGVuXCIsdC5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsdC5NVUxUSV9QQVJUPVwibXVsdGktcGFydFwiLHQuTk9fTkFWPVwibm8tbmF2XCIsdC5OT05fUEFHRUQ9XCJub24tcGFnZWRcIix0LlBBR0VEPVwicGFnZWRcIix0LlJFUEVBVD1cInJlcGVhdFwiLHQuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwiLHQuVEhVTUJOQUlMX05BVj1cInRodW1ibmFpbC1uYXZcIix0LlRPR0VUSEVSPVwidG9nZXRoZXJcIix0LlVOT1JERVJFRD1cInVub3JkZXJlZFwifShlLkJlaGF2aW9yfHwoZS5CZWhhdmlvcj17fSkpLGZ1bmN0aW9uKHQpe3QuQ0FOVkFTPVwiY2FudmFzXCIsdC5DSE9JQ0U9XCJjaG9pY2VcIix0LkNPTlRFTlRfQVNfVEVYVD1cImNvbnRlbnRhc3RleHRcIix0LkRPQ1VNRU5UPVwiZG9jdW1lbnRcIix0LklNQUdFPVwiaW1hZ2VcIix0Lk1PVklOR19JTUFHRT1cIm1vdmluZ2ltYWdlXCIsdC5QREY9XCJwZGZcIix0LlBIWVNJQ0FMX09CSkVDVD1cInBoeXNpY2Fsb2JqZWN0XCIsdC5TT1VORD1cInNvdW5kXCIsdC5URVhUVUFMQk9EWT1cInRleHR1YWxib2R5XCIsdC5WSURFTz1cInZpZGVvXCJ9KGUuRXh0ZXJuYWxSZXNvdXJjZVR5cGV8fChlLkV4dGVybmFsUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24odCl7dC5BTk5PVEFUSU9OPVwiYW5ub3RhdGlvblwiLHQuQ0FOVkFTPVwiY2FudmFzXCIsdC5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLHQuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLHQuUkFOR0U9XCJyYW5nZVwiLHQuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwifShlLklJSUZSZXNvdXJjZVR5cGV8fChlLklJSUZSZXNvdXJjZVR5cGU9e30pKSxmdW5jdGlvbih0KXt0LkFVRElPX01QND1cImF1ZGlvL21wNFwiLHQuQ09SVE89XCJhcHBsaWNhdGlvbi9jb3J0b1wiLHQuRFJBQ089XCJhcHBsaWNhdGlvbi9kcmFjb1wiLHQuR0xURj1cIm1vZGVsL2dsdGYranNvblwiLHQuSlBHPVwiaW1hZ2UvanBlZ1wiLHQuTTNVOD1cImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsdC5NUDM9XCJhdWRpby9tcDNcIix0Lk1QRUdfREFTSD1cImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsdC5PQko9XCJ0ZXh0L3BsYWluXCIsdC5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIix0LlBMWT1cImFwcGxpY2F0aW9uL3BseVwiLHQuVEhSRUVKUz1cImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIix0LlZJREVPX01QND1cInZpZGVvL21wNFwiLHQuV0VCTT1cInZpZGVvL3dlYm1cIn0oZS5NZWRpYVR5cGV8fChlLk1lZGlhVHlwZT17fSkpLGZ1bmN0aW9uKHQpe3QuRE9DPVwiYXBwbGljYXRpb24vbXN3b3JkXCIsdC5ET0NYPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIix0LlBERj1cImFwcGxpY2F0aW9uL3BkZlwifShlLlJlbmRlcmluZ0Zvcm1hdHx8KGUuUmVuZGVyaW5nRm9ybWF0PXt9KSksZnVuY3Rpb24odCl7dC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiLHQuSU1BR0VfMV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIix0LklNQUdFXzFfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsdC5BVVRIXzBfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCIsdC5BVVRIXzBfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCIsdC5BVVRIXzBfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIix0LkFVVEhfMF9SRVNUUklDVEVEPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCIsdC5BVVRIXzBfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCIsdC5BVVRIXzFfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCIsdC5BVVRIXzFfRVhURVJOQUw9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCIsdC5BVVRIXzFfS0lPU0s9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCIsdC5BVVRIXzFfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCIsdC5BVVRIXzFfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIix0LkFVVEhfMV9QUk9CRT1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIix0LkFVVEhfMV9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIix0LlNFQVJDSF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiLHQuU0VBUkNIXzBfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIix0LlNFQVJDSF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiLHQuU0VBUkNIXzFfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIix0LlRSQUNLSU5HX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuVUlfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5QUklOVF9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIix0LlNIQVJFX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuT1RIRVJfTUFOSUZFU1RBVElPTlM9XCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCIsdC5JWElGPVwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIn0oZS5TZXJ2aWNlUHJvZmlsZXx8KGUuU2VydmljZVByb2ZpbGU9e30pKSxmdW5jdGlvbih0KXt0LkJPVFRPTV9UT19UT1A9XCJib3R0b20tdG8tdG9wXCIsdC5MRUZUX1RPX1JJR0hUPVwibGVmdC10by1yaWdodFwiLHQuUklHSFRfVE9fTEVGVD1cInJpZ2h0LXRvLWxlZnRcIix0LlRPUF9UT19CT1RUT009XCJ0b3AtdG8tYm90dG9tXCJ9KGUuVmlld2luZ0RpcmVjdGlvbnx8KGUuVmlld2luZ0RpcmVjdGlvbj17fSkpLGZ1bmN0aW9uKHQpe3QuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIix0LklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIix0Lk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLHQuUEFHRUQ9XCJwYWdlZFwiLHQuVE9QPVwidG9wXCJ9KGUuVmlld2luZ0hpbnR8fChlLlZpZXdpbmdIaW50PXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHIsYSl7ZnVuY3Rpb24gbyh0KXt0cnl7bChpLm5leHQodCkpfWNhdGNoKHQpe2EodCl9fWZ1bmN0aW9uIHModCl7dHJ5e2woaS50aHJvdyh0KSl9Y2F0Y2godCl7YSh0KX19ZnVuY3Rpb24gbCh0KXt2YXIgZTt0LmRvbmU/cih0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4obyxzKX1sKChpPWkuYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LHI9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsYSxvPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnJbMF0pdGhyb3cgclsxXTtyZXR1cm4gclsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBhPXtuZXh0OnMoMCksdGhyb3c6cygxKSxyZXR1cm46cygyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoYVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxhO2Z1bmN0aW9uIHMoYSl7cmV0dXJuIGZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihhKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7bzspdHJ5e2lmKG49MSxpJiYocj0yJmFbMF0/aS5yZXR1cm46YVswXT9pLnRocm93fHwoKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSksMCk6aS5uZXh0KSYmIShyPXIuY2FsbChpLGFbMV0pKS5kb25lKXJldHVybiByO3N3aXRjaChpPTAsciYmKGE9WzImYVswXSxyLnZhbHVlXSksYVswXSl7Y2FzZSAwOmNhc2UgMTpyPWE7YnJlYWs7Y2FzZSA0OnJldHVybiBvLmxhYmVsKysse3ZhbHVlOmFbMV0sZG9uZTohMX07Y2FzZSA1Om8ubGFiZWwrKyxpPWFbMV0sYT1bMF07Y29udGludWU7Y2FzZSA3OmE9by5vcHMucG9wKCksby50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShyPShyPW8udHJ5cykubGVuZ3RoPjAmJnJbci5sZW5ndGgtMV0pJiYoNj09PWFbMF18fDI9PT1hWzBdKSl7bz0wO2NvbnRpbnVlfWlmKDM9PT1hWzBdJiYoIXJ8fGFbMV0+clswXSYmYVsxXTxyWzNdKSl7by5sYWJlbD1hWzFdO2JyZWFrfWlmKDY9PT1hWzBdJiZvLmxhYmVsPHJbMV0pe28ubGFiZWw9clsxXSxyPWE7YnJlYWt9aWYociYmby5sYWJlbDxyWzJdKXtvLmxhYmVsPXJbMl0sby5vcHMucHVzaChhKTticmVha31yWzJdJiZvLm9wcy5wb3AoKSxvLnRyeXMucG9wKCk7Y29udGludWV9YT1lLmNhbGwodCxvKX1jYXRjaCh0KXthPVs2LHRdLGk9MH1maW5hbGx5e249cj0wfWlmKDUmYVswXSl0aHJvdyBhWzFdO3JldHVybnt2YWx1ZTphWzBdP2FbMV06dm9pZCAwLGRvbmU6ITB9fShbYSxzXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPW4oMSkscz1uKDMzKTtuKDM0KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKHQpe3JldHVybih0PSh0PXQudG9Mb3dlckNhc2UoKSkuc3BsaXQoXCI7XCIpWzBdKS50cmltKCl9LHQuZ2V0SW1hZ2VRdWFsaXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzJ8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMnx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzJ8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMXx8dD09PW8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzF8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xfHx0PT09by5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzJ8fHQ9PT1vLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yP1wibmF0aXZlXCI6XCJkZWZhdWx0XCJ9LHQuZ2V0SW5leGFjdExvY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4tMSE9PXQuaW5kZXhPZihcIi1cIik/dC5zdWJzdHIoMCx0LmluZGV4T2YoXCItXCIpKTp0fSx0LmdldExvY2FsaXNlZFZhbHVlPWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoZT09PWlbXCJAbGFuZ3VhZ2VcIl0pcmV0dXJuIGlbXCJAdmFsdWVcIl19dmFyIHI9ZS5zdWJzdHIoMCxlLmluZGV4T2YoXCItXCIpKTtmb3Iobj0wO248dC5sZW5ndGg7bisrKXt2YXIgYT10W25dO2lmKGFbXCJAbGFuZ3VhZ2VcIl09PT1yKXJldHVybiBhW1wiQHZhbHVlXCJdfXJldHVybiBudWxsfSx0LmdlbmVyYXRlVHJlZU5vZGVJZHM9ZnVuY3Rpb24oZSxuKXt2YXIgaTt2b2lkIDA9PT1uJiYobj0wKSxpPWUucGFyZW50Tm9kZT9lLnBhcmVudE5vZGUuaWQrXCItXCIrbjpcIjBcIixlLmlkPWk7Zm9yKHZhciByPTA7cjxlLm5vZGVzLmxlbmd0aDtyKyspe3ZhciBhPWUubm9kZXNbcl07dC5nZW5lcmF0ZVRyZWVOb2RlSWRzKGEscil9fSx0Lm5vcm1hbGlzZVR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuLTEhPT0odD10LnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzFdOnR9LHQubm9ybWFsaXNlVXJsPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09KHQ9dC5zdWJzdHIodC5pbmRleE9mKFwiOi8vXCIpKSkuaW5kZXhPZihcIiNcIikmJih0PXQuc3BsaXQoXCIjXCIpWzBdKSx0fSx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2g9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5ub3JtYWxpc2VVcmwoZSk9PT10Lm5vcm1hbGlzZVVybChuKX0sdC5pc0ltYWdlUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm4hISh0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sdC5pc0xldmVsMEltYWdlUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm4hISh0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzApfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMCl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzApKX0sdC5pc0xldmVsMUltYWdlUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm4hISh0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzEpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMSl8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzEpKX0sdC5pc0xldmVsMkltYWdlUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm4hISh0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yKXx8dC5ub3JtYWxpc2VkVXJsc01hdGNoKGUsby5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzIpfHx0Lm5vcm1hbGlzZWRVcmxzTWF0Y2goZSxvLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfTEVWRUxfMil8fHQubm9ybWFsaXNlZFVybHNNYXRjaChlLG8uU2VydmljZVByb2ZpbGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzIpKX0sdC5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuRGVzZXJpYWxpc2VyLnBhcnNlKHQsZSl9LHQuY2hlY2tTdGF0dXM9ZnVuY3Rpb24odCl7aWYodC5vaylyZXR1cm4gdDt2YXIgZT1uZXcgRXJyb3IodC5zdGF0dXNUZXh0KTtyZXR1cm4gZS5yZXNwb25zZT10LFByb21pc2UucmVqZWN0KGUpfSx0LmxvYWRNYW5pZmVzdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2ZldGNoKGUpLnRoZW4odC5jaGVja1N0YXR1cykudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe24odCl9KSl9KSl9LHQubG9hZEV4dGVybmFsUmVzb3VyY2VzQXV0aDE9ZnVuY3Rpb24oZSxuLGkscixhLG8scyxsKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGMsdSl7dmFyIGg9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDEoZSxuLGkscixhLG8scyxsKX0pKTtQcm9taXNlLmFsbChoKS50aGVuKChmdW5jdGlvbigpe2MoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3UodCl9KSl9KSl9LHQubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMT1mdW5jdGlvbihlLG4sYSxvLGwsYyx1LGgpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG8oZSldO2Nhc2UgMTpyZXR1cm4oaT1yLnNlbnQoKSk/WzQsZS5nZXREYXRhKGkpXTpbMyw2XTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLGUuc3RhdHVzIT09cy5PSz9bMywzXTpbMixlXTtjYXNlIDM6cmV0dXJuWzQsdC5kb0F1dGhDaGFpbihlLG4sYSxsLGMsdSxoKV07Y2FzZSA0OnIuc2VudCgpLHIubGFiZWw9NTtjYXNlIDU6aWYoZS5zdGF0dXM9PT1zLk9LfHxlLnN0YXR1cz09PXMuTU9WRURfVEVNUE9SQVJJTFkpcmV0dXJuWzIsZV07dGhyb3cgdC5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKTtjYXNlIDY6cmV0dXJuWzQsZS5nZXREYXRhKCldO2Nhc2UgNzpyZXR1cm4gci5zZW50KCksZS5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZJiZlLnN0YXR1cyE9PXMuVU5BVVRIT1JJWkVEP1szLDldOls0LHQuZG9BdXRoQ2hhaW4oZSxuLGEsbCxjLHUsaCldO2Nhc2UgODpyLnNlbnQoKSxyLmxhYmVsPTk7Y2FzZSA5OmlmKGUuc3RhdHVzPT09cy5PS3x8ZS5zdGF0dXM9PT1zLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLGVdO3Rocm93IHQuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCl9fSkpfSkpfSx0LmRvQXV0aENoYWluPWZ1bmN0aW9uKGUsbixhLG8sbCxjLHUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxoLHAsZixfLGQsdixnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGUuaXNBY2Nlc3NDb250cm9sbGVkKCk/KChpPWUuZXh0ZXJuYWxTZXJ2aWNlKSYmKGkub3B0aW9ucz1lLm9wdGlvbnMpLChoPWUua2lvc2tTZXJ2aWNlKSYmKGgub3B0aW9ucz1lLm9wdGlvbnMpLChwPWUuY2xpY2tUaHJvdWdoU2VydmljZSkmJihwLm9wdGlvbnM9ZS5vcHRpb25zKSwoZj1lLmxvZ2luU2VydmljZSkmJihmLm9wdGlvbnM9ZS5vcHRpb25zKSxlLmlzUmVzcG9uc2VIYW5kbGVkfHxlLnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFk/WzMsMl06WzQsYyhlKV0pOlsyLGVdO2Nhc2UgMTpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSAyOnJldHVybiBfPW51bGwsZD1udWxsLChfPWkpPyhkPV8sWzQsdC5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4oZSxhLF8pXSk6WzMsNF07Y2FzZSAzOnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDQ6cmV0dXJuKF89aCk/KGQ9Xywodj1uKF8pKT9bNCxvKHYpXTpbMyw3XSk6WzMsN107Y2FzZSA1OnJldHVybiByLnNlbnQoKSxbNCx0LmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbihlLGEsXyldO2Nhc2UgNjpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSA3OnJldHVybihfPXApPyhkPV8sWzQsbChlLF8pXSk6WzMsMTFdO2Nhc2UgODpyZXR1cm4oZz1yLnNlbnQoKSk/WzQsbyhnKV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gci5zZW50KCksWzQsdC5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4oZSxhLF8pXTtjYXNlIDEwOnJldHVybiByLnNlbnQoKSxbMixlXTtjYXNlIDExOnJldHVybihfPWYpPyhkPV8sWzQsbChlLF8pXSk6WzMsMTVdO2Nhc2UgMTI6cmV0dXJuKGc9ci5zZW50KCkpP1s0LG8oZyldOlszLDE1XTtjYXNlIDEzOnJldHVybiByLnNlbnQoKSxbNCx0LmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbihlLGEsXyldO2Nhc2UgMTQ6cmV0dXJuIHIuc2VudCgpLFsyLGVdO2Nhc2UgMTU6cmV0dXJuIGQmJnUoZSxkKSxbMl19fSkpfSkpfSx0LmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLGE7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4oaT1uLmdldFNlcnZpY2Uoby5TZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pKT9bNCxlKHQsaSldOlszLDNdO2Nhc2UgMTpyZXR1cm4oYT1yLnNlbnQoKSkmJmEuYWNjZXNzVG9rZW4/WzQsdC5nZXREYXRhKGEpXTpbMywzXTtjYXNlIDI6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgMzpyZXR1cm5bMl19fSkpfSkpfSx0LmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgwOT1mdW5jdGlvbihlLG4saSxyLGEsbyxzLGwsYyx1KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGgscCl7dmFyIGY9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5KGUsbixpLHIsYSxvLHMsbCxjLHUpfSkpO1Byb21pc2UuYWxsKGYpLnRoZW4oKGZ1bmN0aW9uKCl7aChlKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cCh0KX0pKX0pKX0sdC5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOT1mdW5jdGlvbihlLG4saSxyLGEsbyxsLGMsdSxoKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHAsZil7aCYmaC5wZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w/ZS5nZXREYXRhKCkudGhlbigoZnVuY3Rpb24oKXtlLmlzQWNjZXNzQ29udHJvbGxlZCgpP2UuY2xpY2tUaHJvdWdoU2VydmljZT8ocChpKGUpKSxwKHIoZSkpKTphKGUpLnRoZW4oKGZ1bmN0aW9uKCl7byhlLCEwKS50aGVuKChmdW5jdGlvbihuKXtlLmdldERhdGEobikudGhlbigoZnVuY3Rpb24oKXtwKHUoZSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpOnAoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKTpjKGUsbikudGhlbigoZnVuY3Rpb24oaCl7aD9lLmdldERhdGEoaCkudGhlbigoZnVuY3Rpb24oKXtlLnN0YXR1cz09PXMuT0s/cCh1KGUpKTp0LmF1dGhvcml6ZShlLG4saSxyLGEsbyxsLGMpLnRoZW4oKGZ1bmN0aW9uKCl7cCh1KGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKTp0LmF1dGhvcml6ZShlLG4saSxyLGEsbyxsLGMpLnRoZW4oKGZ1bmN0aW9uKCl7cCh1KGUpKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7Zih0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpKX0pKX0pKX0sdC5jcmVhdGVFcnJvcj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBFcnJvcjtyZXR1cm4gbi5tZXNzYWdlPWUsbi5uYW1lPVN0cmluZyh0KSxufSx0LmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUVycm9yKGEuU3RhdHVzQ29kZS5BVVRIT1JJWkFUSU9OX0ZBSUxFRCxcIkF1dGhvcml6YXRpb24gZmFpbGVkXCIpfSx0LmNyZWF0ZVJlc3RyaWN0ZWRFcnJvcj1mdW5jdGlvbigpe3JldHVybiB0LmNyZWF0ZUVycm9yKGEuU3RhdHVzQ29kZS5SRVNUUklDVEVELFwiUmVzdHJpY3RlZFwiKX0sdC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNyZWF0ZUVycm9yKGEuU3RhdHVzQ29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IsZSl9LHQuYXV0aG9yaXplPWZ1bmN0aW9uKGUsbixpLHIsYSxvLGwsYyl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih1LGgpe2UuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5pc0FjY2Vzc0NvbnRyb2xsZWQoKT9jKGUsbikudGhlbigoZnVuY3Rpb24oYyl7Yz9lLmdldERhdGEoYykudGhlbigoZnVuY3Rpb24oKXtlLnN0YXR1cz09PXMuT0s/dShlKTp0LnNob3dBdXRoSW50ZXJhY3Rpb24oZSxuLGkscixhLG8sbCx1LGgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtoKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSk6byhlLCExKS50aGVuKChmdW5jdGlvbihjKXtjP2woZSxjLG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZS5nZXREYXRhKGMpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5zdGF0dXM9PT1zLk9LP3UoZSk6dC5zaG93QXV0aEludGVyYWN0aW9uKGUsbixpLHIsYSxvLGwsdSxoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aCh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtoKHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSk6dC5zaG93QXV0aEludGVyYWN0aW9uKGUsbixpLHIsYSxvLGwsdSxoKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aCh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpOnUoZSl9KSl9KSl9LHQuc2hvd0F1dGhJbnRlcmFjdGlvbj1mdW5jdGlvbihlLG4saSxyLGEsbyxsLGMsdSl7ZS5zdGF0dXMhPT1zLk1PVkVEX1RFTVBPUkFSSUxZfHxlLmlzUmVzcG9uc2VIYW5kbGVkP2UuY2xpY2tUaHJvdWdoU2VydmljZSYmIWUuaXNSZXNwb25zZUhhbmRsZWQ/aShlKS50aGVuKChmdW5jdGlvbigpe28oZSwhMCkudGhlbigoZnVuY3Rpb24oaSl7bChlLGksbikudGhlbigoZnVuY3Rpb24oKXtlLmdldERhdGEoaSkudGhlbigoZnVuY3Rpb24oKXtjKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpOmEoZSkudGhlbigoZnVuY3Rpb24oKXtvKGUsITApLnRoZW4oKGZ1bmN0aW9uKGkpe2woZSxpLG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZS5nZXREYXRhKGkpLnRoZW4oKGZ1bmN0aW9uKCl7YyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dSh0LmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IoZSkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt1KHQuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcihlKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3UodC5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKGUpKX0pKX0pKTpjKGUpfSx0LmdldFNlcnZpY2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5nZXRTZXJ2aWNlcyh0KSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5nZXRQcm9maWxlKCk9PT1lKXJldHVybiByfXJldHVybiBudWxsfSx0LmdldFJlc291cmNlQnlJZD1mdW5jdGlvbihlLG4pe3JldHVybiB0LnRyYXZlcnNlQW5kRmluZChlLl9fanNvbmxkLFwiQGlkXCIsbil9LHQudHJhdmVyc2VBbmRGaW5kPWZ1bmN0aW9uKGUsbixpKXtpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09aSlyZXR1cm4gZTtmb3IodmFyIHI9MDtyPE9iamVjdC5rZXlzKGUpLmxlbmd0aDtyKyspaWYoXCJvYmplY3RcIj09dHlwZW9mIGVbT2JqZWN0LmtleXMoZSlbcl1dKXt2YXIgYT10LnRyYXZlcnNlQW5kRmluZChlW09iamVjdC5rZXlzKGUpW3JdXSxuLGkpO2lmKG51bGwhPWEpcmV0dXJuIGF9fSx0LmdldFNlcnZpY2VzPWZ1bmN0aW9uKHQpe3ZhciBlLG49W107aWYoIShlPXQuX19qc29ubGQ/dC5fX2pzb25sZC5zZXJ2aWNlOnQuc2VydmljZSkpcmV0dXJuIG47QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHI9ZVtpXTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcil7dmFyIG89dGhpcy5nZXRSZXNvdXJjZUJ5SWQodC5vcHRpb25zLnJlc291cmNlLHIpO28mJm4ucHVzaChuZXcgYS5TZXJ2aWNlKG8uX19qc29ubGR8fG8sdC5vcHRpb25zKSl9ZWxzZSBuLnB1c2gobmV3IGEuU2VydmljZShyLHQub3B0aW9ucykpfXJldHVybiBufSx0LmdldFRlbXBvcmFsQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3ZhciBlPS90PShbXiZdKykvZy5leGVjKHQpLG49bnVsbDtyZXR1cm4gZSYmZVsxXSYmKG49ZVsxXS5zcGxpdChcIixcIikpLG59LHR9KCk7ZS5VdGlscz1sfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLGUuZGVmYXVsdD1mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdCxhPVtdLG89W10scz17fSxsPWZ1bmN0aW9uKCl7cmV0dXJue29rOjI9PShyLnN0YXR1cy8xMDB8MCksc3RhdHVzVGV4dDpyLnN0YXR1c1RleHQsc3RhdHVzOnIuc3RhdHVzLHVybDpyLnJlc3BvbnNlVVJMLHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShyLnJlc3BvbnNlVGV4dCkpfSxibG9iOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbci5yZXNwb25zZV0pKX0sY2xvbmU6bCxoZWFkZXJzOntrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiBzW3QudG9Mb3dlckNhc2UoKV19LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpaW4gc319fX07Zm9yKHZhciBjIGluIHIub3BlbihlLm1ldGhvZHx8XCJnZXRcIix0LCEwKSxyLm9ubG9hZD1mdW5jdGlvbigpe3IuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLChmdW5jdGlvbih0LGUsbil7YS5wdXNoKGU9ZS50b0xvd2VyQ2FzZSgpKSxvLnB1c2goW2Usbl0pLHNbZV09c1tlXT9zW2VdK1wiLFwiK246bn0pKSxuKGwoKSl9LHIub25lcnJvcj1pLHIud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT1lLmNyZWRlbnRpYWxzLGUuaGVhZGVycylyLnNldFJlcXVlc3RIZWFkZXIoYyxlLmhlYWRlcnNbY10pO3Iuc2VuZChlLmJvZHl8fG51bGwpfSkpfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDUpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24odCl7Zm9yKHZhciBuIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShuKXx8KGVbbl09dFtuXSl9KG4oMCkpO3ZhciBpPW4oMik7ZS5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGkuVXRpbHMubG9hZE1hbmlmZXN0KHQpfSxlLnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5VdGlscy5wYXJzZU1hbmlmZXN0KHQsZSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX19qc29ubGQ9dCx0aGlzLmNvbnRleHQ9dGhpcy5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksdGhpcy5pZD10aGlzLmdldFByb3BlcnR5KFwiaWRcIil9cmV0dXJuIHQucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIHRoaXMuX19qc29ubGQmJigoZT10aGlzLl9fanNvbmxkW3RdKXx8KGU9dGhpcy5fX2pzb25sZFtcIkBcIit0XSkpLGV9LHR9KCk7ZS5KU09OTERSZXNvdXJjZT1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPW4oMSkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGkub3B0aW9ucz1uLGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpO3JldHVybiB0P2EuTGFuZ3VhZ2VNYXAucGFyc2UodCx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy5nZXRMYWJlbCgpKX0sZS5wcm90b3R5cGUuZ2V0TWV0YWRhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwibWV0YWRhdGFcIiksZT1bXTtpZighdClyZXR1cm4gZTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPW5ldyBhLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpO3IucGFyc2UoaSksZS5wdXNoKHIpfXJldHVybiBlfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJpbmc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0UmVuZGVyaW5ncygpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLmdldEZvcm1hdCgpPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyaW5ncz1mdW5jdGlvbigpe3ZhciB0LGU9W107aWYoISh0PXRoaXMuX19qc29ubGQ/dGhpcy5fX2pzb25sZC5yZW5kZXJpbmc6dGhpcy5yZW5kZXJpbmcpKXJldHVybiBlO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07ZS5wdXNoKG5ldyBhLlJlbmRlcmluZyhpLHRoaXMub3B0aW9ucykpfXJldHVybiBlfSxlLnByb3RvdHlwZS5nZXRTZXJ2aWNlPWZ1bmN0aW9uKHQpe3JldHVybiBhLlV0aWxzLmdldFNlcnZpY2UodGhpcyx0KX0sZS5wcm90b3R5cGUuZ2V0U2VydmljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRTZXJ2aWNlcyh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0VGh1bWJuYWlsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmKHQ9dFswXSksdD9uZXcgYS5UaHVtYm5haWwodCx0aGlzLm9wdGlvbnMpOm51bGx9LGUucHJvdG90eXBlLmlzQW5ub3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5BTk5PVEFUSU9OfSxlLnByb3RvdHlwZS5pc0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5DQU5WQVN9LGUucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OfSxlLnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUfSxlLnByb3RvdHlwZS5pc1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLlJBTkdFfSxlLnByb3RvdHlwZS5pc1NlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09by5JSUlGUmVzb3VyY2VUeXBlLlNFUVVFTkNFfSxlfShhLkpTT05MRFJlc291cmNlKTtlLk1hbmlmZXN0UmVzb3VyY2U9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiB0P3QudG9Mb3dlckNhc2UoKTpudWxsfSxlLnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtpZighdGhpcy5fX2pzb25sZC5yZXNvdXJjZXMpcmV0dXJuIHQ7Zm9yKHZhciBlPTA7ZTx0aGlzLl9fanNvbmxkLnJlc291cmNlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnJlc291cmNlc1tlXSxpPW5ldyBhLkFubm90YXRpb24obix0aGlzLm9wdGlvbnMpO3QucHVzaChpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpO3JldHVybiB0P2EuVXRpbHMubm9ybWFsaXNlVHlwZSh0KTpudWxsfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSxlLnByb3RvdHlwZS5nZXRNYXhXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4V2lkdGhcIil9LGUucHJvdG90eXBlLmdldE1heEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwibWF4SGVpZ2h0XCIpP251bGw6dGhpcy5nZXRNYXhXaWR0aCgpfSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuUmVzb3VyY2U9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1uKDEpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7aS5pbmRleD0tMSxpLmlzTG9hZGVkPSExO3ZhciByPXtkZWZhdWx0TGFiZWw6XCItXCIsbG9jYWxlOlwiZW4tR0JcIixyZXNvdXJjZTppLHBlc3NpbWlzdGljQWNjZXNzQ29udHJvbDohMX07cmV0dXJuIGkub3B0aW9ucz1PYmplY3QuYXNzaWduKHIsbiksaX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImF0dHJpYnV0aW9uXCIpO3JldHVybiB0P2EuTGFuZ3VhZ2VNYXAucGFyc2UodCx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIik7cmV0dXJuIHQ/YS5MYW5ndWFnZU1hcC5wYXJzZSh0LHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSxlLnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LGUucHJvdG90eXBlLmdldExvZ289ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwibG9nb1wiKTtyZXR1cm4gdD9cInN0cmluZ1wiPT10eXBlb2YgdD90OihBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aCYmKHQ9dFswXSksdFtcIkBpZFwiXXx8dC5pZCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0TGljZW5zZT1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsaWNlbnNlXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXROYXZEYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMuZ2V0UHJvcGVydHkoXCJuYXZEYXRlXCIpKX0sZS5wcm90b3R5cGUuZ2V0UmVsYXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVsYXRlZFwiKX0sZS5wcm90b3R5cGUuZ2V0U2VlQWxzbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwic2VlQWxzb1wiKX0sZS5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VydmljZShvLlNlcnZpY2VQcm9maWxlLlRSQUNLSU5HX0VYVEVOU0lPTlMpO3JldHVybiB0P3QuZ2V0UHJvcGVydHkoXCJ0cmFja2luZ0xhYmVsXCIpOlwiXCJ9LGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFRyZWU9bmV3IGEuVHJlZU5vZGUoXCJyb290XCIpLHRoaXMuZGVmYXVsdFRyZWUuZGF0YT10aGlzLHRoaXMuZGVmYXVsdFRyZWV9LGUucHJvdG90eXBlLmdldFJlcXVpcmVkU3RhdGVtZW50PWZ1bmN0aW9uKCl7dmFyIHQ9bnVsbCxlPXRoaXMuZ2V0UHJvcGVydHkoXCJyZXF1aXJlZFN0YXRlbWVudFwiKTtpZihlKSh0PW5ldyBhLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS5wYXJzZShlKTtlbHNle3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRpb24oKTtuJiYoKHQ9bmV3IGEuTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSkpLnZhbHVlPW4pfXJldHVybiB0fSxlLnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1vLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sZS5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PW8uSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtpZih0LmlzTG9hZGVkKWUodCk7ZWxzZXt2YXIgbj10Lm9wdGlvbnM7bi5uYXZEYXRlPXQuZ2V0TmF2RGF0ZSgpO3ZhciBpPXQuX19qc29ubGQuaWQ7aXx8KGk9dC5fX2pzb25sZFtcIkBpZFwiXSksYS5VdGlscy5sb2FkTWFuaWZlc3QoaSkudGhlbigoZnVuY3Rpb24oaSl7dC5wYXJlbnRMYWJlbD1hLkxhbmd1YWdlTWFwLmdldFZhbHVlKHQuZ2V0TGFiZWwoKSxuLmxvY2FsZSk7dmFyIHI9YS5EZXNlcmlhbGlzZXIucGFyc2UoaSxuKTsodD1PYmplY3QuYXNzaWduKHQscikpLmluZGV4PW4uaW5kZXgsZSh0KX0pKX19KSl9LGV9KGEuTWFuaWZlc3RSZXNvdXJjZSk7ZS5JSUlGUmVzb3VyY2U9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmdldFByb3BlcnR5KFwiYm9keVwiKTtpZihlKWlmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoKG89ZVtuXSkuaXRlbXMpZm9yKHZhciBpPTA7aTxvLml0ZW1zLmxlbmd0aDtpKyspe3ZhciByPW8uaXRlbXNbaV07dC5wdXNoKG5ldyBhLkFubm90YXRpb25Cb2R5KHIsdGhpcy5vcHRpb25zKSl9ZWxzZSB0LnB1c2gobmV3IGEuQW5ub3RhdGlvbkJvZHkobyx0aGlzLm9wdGlvbnMpKTtlbHNlIGlmKGUuaXRlbXMpZm9yKG49MDtuPGUuaXRlbXMubGVuZ3RoO24rKyl7dmFyIG89ZS5pdGVtc1tuXTt0LnB1c2gobmV3IGEuQW5ub3RhdGlvbkJvZHkobyx0aGlzLm9wdGlvbnMpKX1lbHNlIHQucHVzaChuZXcgYS5Bbm5vdGF0aW9uQm9keShlLHRoaXMub3B0aW9ucykpO3JldHVybiB0fSxlLnByb3RvdHlwZS5nZXRNb3RpdmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtb3RpdmF0aW9uXCIpfHxudWxsfSxlLnByb3RvdHlwZS5nZXRPbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwib25cIil9LGUucHJvdG90eXBlLmdldFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidGFyZ2V0XCIpfSxlLnByb3RvdHlwZS5nZXRSZXNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYS5SZXNvdXJjZSh0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VcIiksdGhpcy5vcHRpb25zKX0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLkFubm90YXRpb249b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpO3JldHVybiB0P2EuVXRpbHMuZ2V0TWVkaWFUeXBlKHQpOm51bGx9LGUucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik/YS5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKTpudWxsfSxlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSxlfShhLk1hbmlmZXN0UmVzb3VyY2UpO2UuQW5ub3RhdGlvbkJvZHk9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gci5sYWJlbD1lLHIub3B0aW9ucz1pLHJ9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRJSUlGUmVzb3VyY2VUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSl9LGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LGUucHJvdG90eXBlLmdldFJlc291cmNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZXNcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEuQW5ub3RhdGlvbihlLHQub3B0aW9ucyl9KSl9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXtpZih0LmlzTG9hZGVkKWUodCk7ZWxzZXt2YXIgaT10Ll9fanNvbmxkLmlkO2l8fChpPXQuX19qc29ubGRbXCJAaWRcIl0pLGEuVXRpbHMubG9hZE1hbmlmZXN0KGkpLnRoZW4oKGZ1bmN0aW9uKG4pe3QuX19qc29ubGQ9bix0LmNvbnRleHQ9dC5nZXRQcm9wZXJ0eShcImNvbnRleHRcIiksdC5pZD10LmdldFByb3BlcnR5KFwiaWRcIiksdC5pc0xvYWRlZD0hMCxlKHQpfSkpLmNhdGNoKG4pfX0pKX0sZX0oYS5KU09OTERSZXNvdXJjZSk7ZS5Bbm5vdGF0aW9uTGlzdD1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcyxlLG4pfHx0aGlzfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuZ2V0SXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIml0ZW1zXCIpfSxlfShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO2UuQW5ub3RhdGlvblBhZ2U9YX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMCksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRDYW5vbmljYWxJbWFnZVVyaT1mdW5jdGlvbih0KXt2YXIgZSxuPW51bGwsaT1cImRlZmF1bHRcIixyPXQ7aWYodGhpcy5leHRlcm5hbFJlc291cmNlJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0pbj10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBpZFwiXSxyfHwocj10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS53aWR0aCksdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXSYmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xLjAvY29udGV4dC5qc29uXCIpPi0xfHx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4xL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEvY29udGV4dC5qc29uXCIpPi0xKSYmKGk9XCJuYXRpdmVcIik7ZWxzZXt2YXIgbz10aGlzLmdldEltYWdlcygpO2lmKG8mJm8ubGVuZ3RoKXt2YXIgcz1vWzBdLmdldFJlc291cmNlKCksbD1zLmdldFNlcnZpY2VzKCk7aWYocnx8KHI9cy5nZXRXaWR0aCgpKSxsLmxlbmd0aCl7dmFyIGM9bFswXTtuPWMuaWQsaT1hLlV0aWxzLmdldEltYWdlUXVhbGl0eShjLmdldFByb2ZpbGUoKSl9ZWxzZSBpZihyPT09cy5nZXRXaWR0aCgpKXJldHVybiBzLmlkfWlmKCFuKXt2YXIgdT10aGlzLmdldFByb3BlcnR5KFwidGh1bWJuYWlsXCIpO2lmKHUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB1KXJldHVybiB1O2lmKHVbXCJAaWRcIl0pcmV0dXJuIHVbXCJAaWRcIl07aWYodS5sZW5ndGgpcmV0dXJuIHVbMF0uaWR9fX1yZXR1cm4gZT1yK1wiLFwiLG4mJm4uZW5kc1dpdGgoXCIvXCIpJiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLTEpKSxbbixcImZ1bGxcIixlLDAsaStcIi5qcGdcIl0uam9pbihcIi9cIil9LGUucHJvdG90eXBlLmdldE1heERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdCxlPW51bGw7cmV0dXJuIHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUmJih0PXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLnByb2ZpbGUsQXJyYXkuaXNBcnJheSh0KSYmKHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1heFdpZHRofSkpWzBdKSYmKGU9bmV3IGEuU2l6ZSh0Lm1heFdpZHRoLHQubWF4SGVpZ2h0P3QubWF4SGVpZ2h0OnQubWF4V2lkdGgpKSksZX0sZS5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5fX2pzb25sZC5pdGVtc3x8dGhpcy5fX2pzb25sZC5jb250ZW50O2lmKCFlKXJldHVybiB0O3ZhciBuPW51bGw7aWYoZS5sZW5ndGgmJihuPW5ldyBhLkFubm90YXRpb25QYWdlKGVbMF0sdGhpcy5vcHRpb25zKSksIW4pcmV0dXJuIHQ7Zm9yKHZhciBpPW4uZ2V0SXRlbXMoKSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl0scz1uZXcgYS5Bbm5vdGF0aW9uKG8sdGhpcy5vcHRpb25zKTt0LnB1c2gocyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJkdXJhdGlvblwiKX0sZS5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIHQ9W107aWYoIXRoaXMuX19qc29ubGQuaW1hZ2VzKXJldHVybiB0O2Zvcih2YXIgZT0wO2U8dGhpcy5fX2pzb25sZC5pbWFnZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5pbWFnZXNbZV0saT1uZXcgYS5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTt0LnB1c2goaSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpbmRleFwiKX0sZS5wcm90b3R5cGUuZ2V0T3RoZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPShBcnJheS5pc0FycmF5KHRoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIikpP3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIik6W3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIildKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcInN0cmluZ1wiPT10eXBlb2YoZT10W1wiQHR5cGVcIl0pJiZlLnRvTG93ZXJDYXNlKCk9PWUudG9Mb3dlckNhc2UoKTt2YXIgZX0pKS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBhLkFubm90YXRpb25MaXN0KGUubGFiZWx8fFwiQW5ub3RhdGlvbiBsaXN0IFwiK24sZSx0Lm9wdGlvbnMpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9hZCgpfSkpO3JldHVybiBQcm9taXNlLmFsbChlKX0sZS5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSxlLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sZX0oYS5SZXNvdXJjZSk7ZS5DYW52YXM9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMSksbz1uKDApLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7cmV0dXJuIGkuaXRlbXM9W10saS5fY29sbGVjdGlvbnM9bnVsbCxpLl9tYW5pZmVzdHM9bnVsbCxlLl9fY29sbGVjdGlvbj1pLGl9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsZWN0aW9ucz90aGlzLl9jb2xsZWN0aW9uczp0aGlzLl9jb2xsZWN0aW9ucz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNDb2xsZWN0aW9uKCl9KSl9LGUucHJvdG90eXBlLmdldE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYW5pZmVzdHM/dGhpcy5fbWFuaWZlc3RzOnRoaXMuX21hbmlmZXN0cz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNNYW5pZmVzdCgpfSkpfSxlLnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uQnlJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10aGlzLmdldENvbGxlY3Rpb25zKCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3IuaW5kZXg9PT10JiYoZT1yKX1pZihlKXJldHVybiBlLm9wdGlvbnMuaW5kZXg9dCxlLmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZFwiKX0sZS5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUluZGV4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXMuZ2V0TWFuaWZlc3RzKCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3IuaW5kZXg9PT10JiYoZT1yKX1pZihlKXJldHVybiBlLm9wdGlvbnMuaW5kZXg9dCxlLmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJNYW5pZmVzdCBpbmRleCBub3QgZm91bmRcIil9LGUucHJvdG90eXBlLmdldFRvdGFsQ29sbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0VG90YWxNYW5pZmVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNYW5pZmVzdHMoKS5sZW5ndGh9LGUucHJvdG90eXBlLmdldFRvdGFsSXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGh9LGUucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6YS5WaWV3aW5nRGlyZWN0aW9uLkxFRlRfVE9fUklHSFR9LGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyksdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pLHRoaXMuX3BhcnNlTWFuaWZlc3RzKHRoaXMpLHRoaXMuX3BhcnNlQ29sbGVjdGlvbnModGhpcyksby5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LGUucHJvdG90eXBlLl9wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbih0KXtpZih0LmdldE1hbmlmZXN0cygpJiZ0LmdldE1hbmlmZXN0cygpLmxlbmd0aClmb3IodmFyIGU9MDtlPHQuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoO2UrKyl7dmFyIG49dC5nZXRNYW5pZmVzdHMoKVtlXSxpPW4uZ2V0RGVmYXVsdFRyZWUoKTtpLmxhYmVsPW4ucGFyZW50TGFiZWx8fG8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcIm1hbmlmZXN0IFwiKyhlKzEpLGkubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxpLmRhdGEuaWQ9bi5pZCxpLmRhdGEudHlwZT1vLlV0aWxzLm5vcm1hbGlzZVR5cGUoby5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLHQuZGVmYXVsdFRyZWUuYWRkTm9kZShpKX19LGUucHJvdG90eXBlLl9wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKHQpe2lmKHQuZ2V0Q29sbGVjdGlvbnMoKSYmdC5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aClmb3IodmFyIGU9MDtlPHQuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGg7ZSsrKXt2YXIgbj10LmdldENvbGxlY3Rpb25zKClbZV0saT1uLmdldERlZmF1bHRUcmVlKCk7aS5sYWJlbD1uLnBhcmVudExhYmVsfHxvLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKXx8XCJjb2xsZWN0aW9uIFwiKyhlKzEpLGkubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxpLmRhdGEuaWQ9bi5pZCxpLmRhdGEudHlwZT1vLlV0aWxzLm5vcm1hbGlzZVR5cGUoby5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksdC5kZWZhdWx0VHJlZS5hZGROb2RlKGkpfX0sZX0oby5JSUlGUmVzb3VyY2UpO2UuQ29sbGVjdGlvbj1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5zdGFydD10LHRoaXMuZW5kPWV9cmV0dXJuIHQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC10aGlzLnN0YXJ0fSx0fSgpO2UuRHVyYXRpb249aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5kZWZhdWx0TG9jYWxlPXR9cmV0dXJuIHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3RoaXMucmVzb3VyY2U9dCx0aGlzLmxhYmVsPWkuTGFuZ3VhZ2VNYXAucGFyc2UodGhpcy5yZXNvdXJjZS5sYWJlbCx0aGlzLmRlZmF1bHRMb2NhbGUpLHRoaXMudmFsdWU9aS5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLnZhbHVlLHRoaXMuZGVmYXVsdExvY2FsZSl9LHQucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWw/aS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSk6bnVsbH0sdC5wcm90b3R5cGUuc2V0TGFiZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCl7dmFyIG49dGhpcy5sYWJlbC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvY2FsZT09PWUuZGVmYXVsdExvY2FsZXx8dC5sb2NhbGU9PT1pLlV0aWxzLmdldEluZXhhY3RMb2NhbGUoZS5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT10KX19LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy52YWx1ZSl7dmFyIHQ9dGhpcy5kZWZhdWx0TG9jYWxlO3JldHVybiB0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCYmdGhpcy5sYWJlbFswXS5sb2NhbGUmJih0PXRoaXMubGFiZWxbMF0ubG9jYWxlKSxpLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMudmFsdWUsdCl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy52YWx1ZSYmdGhpcy52YWx1ZS5sZW5ndGgpe3ZhciBuPXRoaXMudmFsdWUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbGU9PT1lLmRlZmF1bHRMb2NhbGV8fHQubG9jYWxlPT09aS5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKGUuZGVmYXVsdExvY2FsZSl9KSlbMF07biYmKG4udmFsdWU9dCl9fSx0fSgpO2UuTGFiZWxWYWx1ZVBhaXI9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuTGFuZ3VhZ2U9ZnVuY3Rpb24odCxlKXtBcnJheS5pc0FycmF5KHQpPzE9PT10Lmxlbmd0aD90aGlzLnZhbHVlPXRbMF06dGhpcy52YWx1ZT10LmpvaW4oXCI8YnIvPlwiKTp0aGlzLnZhbHVlPXQsdGhpcy5sb2NhbGU9ZX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1uKDApLG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT1bXTtpZighdClyZXR1cm4gaTtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO249XCJzdHJpbmdcIj09dHlwZW9mIG8/bmV3IGEuTGFuZ3VhZ2UobyxlKTpuZXcgYS5MYW5ndWFnZShvW1wiQHZhbHVlXCJdLG9bXCJAbGFuZ3VhZ2VcIl18fGUpLGkucHVzaChuKX1lbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBuPW5ldyBhLkxhbmd1YWdlKHQsZSksaS5wdXNoKG4pLGk7dFtcIkB2YWx1ZVwiXT8obj1uZXcgYS5MYW5ndWFnZSh0W1wiQHZhbHVlXCJdLHRbXCJAbGFuZ3VhZ2VcIl18fGUpLGkucHVzaChuKSk6T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIXRbZV0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImxhbmd1YWdlIG11c3QgaGF2ZSBhIHZhbHVlXCIpO249bmV3IGEuTGFuZ3VhZ2UodFtlXSxlKSxpLnB1c2gobil9KSl9cmV0dXJuIGl9LGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCl7aWYoZSl7dmFyIG49dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxvY2FsZT09PWV8fGEuVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0LmxvY2FsZSk9PT1hLlV0aWxzLmdldEluZXhhY3RMb2NhbGUoZSl9KSlbMF07aWYobilyZXR1cm4gbi52YWx1ZX1yZXR1cm4gdFswXS52YWx1ZX1yZXR1cm4gbnVsbH0sZX0oQXJyYXkpO2UuTGFuZ3VhZ2VNYXA9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMSksbz1uKDApLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpPXQuY2FsbCh0aGlzLGUsbil8fHRoaXM7aWYoaS5pbmRleD0wLGkuX2FsbFJhbmdlcz1udWxsLGkuaXRlbXM9W10saS5fdG9wUmFuZ2VzPVtdLGkuX19qc29ubGQuc3RydWN0dXJlcyYmaS5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aClmb3IodmFyIHI9aS5fZ2V0VG9wUmFuZ2VzKCksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbz1yW2FdO2kuX3BhcnNlUmFuZ2VzKG8sU3RyaW5nKGEpKX1yZXR1cm4gaX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldFBvc3RlckNhbnZhcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UHJvcGVydHkoXCJwb3N0ZXJDYW52YXNcIik7cmV0dXJuIHQmJih0PW5ldyBvLkNhbnZhcyh0LHRoaXMub3B0aW9ucykpLHR9LGUucHJvdG90eXBlLmdldEJlaGF2aW9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQcm9wZXJ0eShcImJlaGF2aW9yXCIpO3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYodD10WzBdKSx0fHxudWxsfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe2lmKHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyksdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLk1BTklGRVNUKSwhdGhpcy5pc0xvYWRlZClyZXR1cm4gdGhpcy5kZWZhdWx0VHJlZTt2YXIgZT10aGlzLmdldFRvcFJhbmdlcygpO3JldHVybiBlLmxlbmd0aCYmZVswXS5nZXRUcmVlKHRoaXMuZGVmYXVsdFRyZWUpLG8uVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyh0aGlzLmRlZmF1bHRUcmVlKSx0aGlzLmRlZmF1bHRUcmVlfSxlLnByb3RvdHlwZS5fZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7dmFyIHQ9W107aWYodGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZ0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKXtmb3IodmFyIGU9MDtlPHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXNbZV07bi52aWV3aW5nSGludD09PWEuVmlld2luZ0hpbnQuVE9QJiZ0LnB1c2gobil9aWYoIXQubGVuZ3RoKXt2YXIgaT17fTtpLnJhbmdlcz10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMsdC5wdXNoKGkpfX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0VG9wUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvcFJhbmdlc30sZS5wcm90b3R5cGUuX2dldFJhbmdlQnlJZD1mdW5jdGlvbih0KXtpZih0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMmJnRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpZm9yKHZhciBlPTA7ZTx0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzW2VdO2lmKG5bXCJAaWRcIl09PT10fHxuLmlkPT09dClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX3BhcnNlUmFuZ2VzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihyPXQsdD10aGlzLl9nZXRSYW5nZUJ5SWQocikpLHQpeyhpPW5ldyBvLlJhbmdlKHQsdGhpcy5vcHRpb25zKSkucGFyZW50UmFuZ2U9bixpLnBhdGg9ZSxuP24uaXRlbXMucHVzaChpKTp0aGlzLl90b3BSYW5nZXMucHVzaChpKTt2YXIgYT10Lml0ZW1zfHx0Lm1lbWJlcnM7aWYoYSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtpZihsW1wiQHR5cGVcIl0mJlwic2M6cmFuZ2VcIj09PWxbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpfHxsLnR5cGUmJlwicmFuZ2VcIj09PWwudHlwZS50b0xvd2VyQ2FzZSgpKXRoaXMuX3BhcnNlUmFuZ2VzKGwsZStcIi9cIitzLGkpO2Vsc2UgaWYobFtcIkB0eXBlXCJdJiZcInNjOmNhbnZhc1wiPT09bFtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCl8fGwudHlwZSYmXCJjYW52YXNcIj09PWwudHlwZS50b0xvd2VyQ2FzZSgpKXtpLmNhbnZhc2VzfHwoaS5jYW52YXNlcz1bXSk7dmFyIGM9bC5pZHx8bFtcIkBpZFwiXTtpLmNhbnZhc2VzLnB1c2goYyl9fWVsc2UgaWYodC5yYW5nZXMpZm9yKHM9MDtzPHQucmFuZ2VzLmxlbmd0aDtzKyspdGhpcy5fcGFyc2VSYW5nZXModC5yYW5nZXNbc10sZStcIi9cIitzLGkpfWVsc2UgY29uc29sZS53YXJuKFwiUmFuZ2U6XCIscixcImRvZXMgbm90IGV4aXN0XCIpfSxlLnByb3RvdHlwZS5nZXRBbGxSYW5nZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9hbGxSYW5nZXMpcmV0dXJuIHRoaXMuX2FsbFJhbmdlczt0aGlzLl9hbGxSYW5nZXM9W107Zm9yKHZhciB0PXRoaXMuZ2V0VG9wUmFuZ2VzKCksZT1mdW5jdGlvbihlKXt2YXIgaT10W2VdO2kuaWQmJm4uX2FsbFJhbmdlcy5wdXNoKGkpO3ZhciByPWZ1bmN0aW9uKHQsZSl7dC5hZGQoZSk7dmFyIG49ZS5nZXRSYW5nZXMoKTtyZXR1cm4gbi5sZW5ndGg/bi5yZWR1Y2Uocix0KTp0fSxhPUFycmF5LmZyb20oaS5nZXRSYW5nZXMoKS5yZWR1Y2UocixuZXcgU2V0KSk7bi5fYWxsUmFuZ2VzPW4uX2FsbFJhbmdlcy5jb25jYXQoYSl9LG49dGhpcyxpPTA7aTx0Lmxlbmd0aDtpKyspZShpKTtyZXR1cm4gdGhpcy5fYWxsUmFuZ2VzfSxlLnByb3RvdHlwZS5nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0QWxsUmFuZ2VzKCksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lmKGkuaWQ9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRSYW5nZUJ5UGF0aD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRBbGxSYW5nZXMoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYoaS5wYXRoPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0U2VxdWVuY2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGgpcmV0dXJuIHRoaXMuaXRlbXM7dmFyIHQ9dGhpcy5fX2pzb25sZC5tZWRpYVNlcXVlbmNlc3x8dGhpcy5fX2pzb25sZC5zZXF1ZW5jZXM7aWYodClmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXSxpPW5ldyBvLlNlcXVlbmNlKG4sdGhpcy5vcHRpb25zKTt0aGlzLml0ZW1zLnB1c2goaSl9ZWxzZSB0aGlzLl9fanNvbmxkLml0ZW1zJiYoaT1uZXcgby5TZXF1ZW5jZSh0aGlzLl9fanNvbmxkLml0ZW1zLHRoaXMub3B0aW9ucyksdGhpcy5pdGVtcy5wdXNoKGkpKTtyZXR1cm4gdGhpcy5pdGVtc30sZS5wcm90b3R5cGUuZ2V0U2VxdWVuY2VCeUluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpW3RdfSxlLnByb3RvdHlwZS5nZXRUb3RhbFNlcXVlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTZXJ2aWNlKGEuU2VydmljZVByb2ZpbGUuVUlfRVhURU5TSU9OUyk7cmV0dXJuIHQ/dC5nZXRQcm9wZXJ0eShcIm1hbmlmZXN0VHlwZVwiKTpvLk1hbmlmZXN0VHlwZS5FTVBUWX0sZS5wcm90b3R5cGUuaXNNdWx0aVNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxTZXF1ZW5jZXMoKT4xfSxlLnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXdpbmdIaW50KCk7aWYodClyZXR1cm4gdD09PWEuVmlld2luZ0hpbnQuUEFHRUQ7dmFyIGU9dGhpcy5nZXRCZWhhdmlvcigpO3JldHVybiEhZSYmZT09PWEuQmVoYXZpb3IuUEFHRUR9LGUucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LGUucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sZX0oby5JSUlGUmVzb3VyY2UpO2UuTWFuaWZlc3Q9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3QuRU1QVFk9XCJcIix0Lk1BTlVTQ1JJUFQ9XCJtYW51c2NyaXB0XCIsdC5NT05PR1JBUEg9XCJtb25vZ3JhcGhcIn0oZS5NYW5pZmVzdFR5cGV8fChlLk1hbmlmZXN0VHlwZT17fSkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPW4oMSkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5fcmFuZ2VzPW51bGwsaS5jYW52YXNlcz1udWxsLGkuaXRlbXM9W10saX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldENhbnZhc0lkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fanNvbmxkLmNhbnZhc2VzP3RoaXMuX19qc29ubGQuY2FudmFzZXM6dGhpcy5jYW52YXNlcz90aGlzLmNhbnZhc2VzOltdfSxlLnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0LGU7aWYodGhpcy5jYW52YXNlcyYmdGhpcy5jYW52YXNlcy5sZW5ndGgpZm9yKHZhciBuPTA7bjx0aGlzLmNhbnZhc2VzLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuY2FudmFzZXNbbl0scj1hLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KGkpO3ImJnIubGVuZ3RoPjEmJigwPT09biYmKHQ9TnVtYmVyKHJbMF0pKSxuPT09dGhpcy5jYW52YXNlcy5sZW5ndGgtMSYmKGU9TnVtYmVyKHJbMV0pKSl9ZWxzZXt2YXIgbz10aGlzLmdldFJhbmdlcygpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspe3ZhciBzPW9bbl0uZ2V0RHVyYXRpb24oKTtzJiYoMD09PW4mJih0PXMuc3RhcnQpLG49PT1vLmxlbmd0aC0xJiYoZT1zLmVuZCkpfX1pZih2b2lkIDAhPT10JiZ2b2lkIDAhPT1lKXJldHVybiBuZXcgYS5EdXJhdGlvbih0LGUpfSxlLnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzP3RoaXMuX3Jhbmdlczp0aGlzLl9yYW5nZXM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzUmFuZ2UoKX0pKX0sZS5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJih0PXRbMF0pLHR8fG51bGx9LGUucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LGUucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sZS5wcm90b3R5cGUuZ2V0VHJlZT1mdW5jdGlvbih0KXt0LmRhdGE9dGhpcyx0aGlzLnRyZWVOb2RlPXQ7dmFyIGU9dGhpcy5nZXRSYW5nZXMoKTtpZihlJiZlLmxlbmd0aClmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPW5ldyBhLlRyZWVOb2RlO3QuYWRkTm9kZShyKSx0aGlzLl9wYXJzZVRyZWVOb2RlKHIsaSl9cmV0dXJuIGEuVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyh0KSx0fSxlLnByb3RvdHlwZS5zcGFuc1RpbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREdXJhdGlvbigpO3JldHVybiEhKGUmJnQ+PWUuc3RhcnQmJnQ8PWUuZW5kKX0sZS5wcm90b3R5cGUuX3BhcnNlVHJlZU5vZGU9ZnVuY3Rpb24odCxlKXt0LmxhYmVsPWEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZS5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpLHQuZGF0YT1lLHQuZGF0YS50eXBlPWEuVXRpbHMubm9ybWFsaXNlVHlwZShhLlRyZWVOb2RlVHlwZS5SQU5HRSksZS50cmVlTm9kZT10O3ZhciBuPWUuZ2V0UmFuZ2VzKCk7aWYobiYmbi5sZW5ndGgpZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5nZXRCZWhhdmlvcigpIT09by5CZWhhdmlvci5OT19OQVYpe3ZhciBzPW5ldyBhLlRyZWVOb2RlO3QuYWRkTm9kZShzKSx0aGlzLl9wYXJzZVRyZWVOb2RlKHMscil9fX0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLlJhbmdlPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKX0sZX0obigwKS5NYW5pZmVzdFJlc291cmNlKTtlLlJlbmRlcmluZz1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigxKSxvPW4oMCkscz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5pdGVtcz1bXSxpLl90aHVtYm5haWxzPW51bGwsaX1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldENhbnZhc2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGgpcmV0dXJuIHRoaXMuaXRlbXM7dmFyIHQ9dGhpcy5fX2pzb25sZC5jYW52YXNlc3x8dGhpcy5fX2pzb25sZC5lbGVtZW50cztpZih0KWZvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdOyhpPW5ldyBvLkNhbnZhcyhuLHRoaXMub3B0aW9ucykpLmluZGV4PWUsdGhpcy5pdGVtcy5wdXNoKGkpfWVsc2UgaWYodGhpcy5fX2pzb25sZClmb3IoZT0wO2U8dGhpcy5fX2pzb25sZC5sZW5ndGg7ZSsrKXt2YXIgaTtuPXRoaXMuX19qc29ubGRbZV0sKGk9bmV3IG8uQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9ZSx0aGlzLml0ZW1zLnB1c2goaSl9cmV0dXJuIHRoaXMuaXRlbXN9LGUucHJvdG90eXBlLmdldENhbnZhc0J5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTtlKyspe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleChlKSxpPW8uVXRpbHMubm9ybWFsaXNlVXJsKG4uaWQpO2lmKG8uVXRpbHMubm9ybWFsaXNlVXJsKHQpPT09aSlyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRDYW52YXNlcygpW3RdfSxlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTtlKyspaWYodGhpcy5nZXRDYW52YXNCeUluZGV4KGUpLmlkPT09dClyZXR1cm4gZTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsPWZ1bmN0aW9uKHQsZSl7dD10LnRyaW0oKSxpc05hTih0KXx8KHQ9cGFyc2VJbnQodCwxMCkudG9TdHJpbmcoKSxlJiYodCs9XCJyXCIpKTtmb3IodmFyIG4saSxyLGE9LyhcXGQqKVxcRCsoXFxkKikvLHM9MDtzPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3MrKyl7dmFyIGw9dGhpcy5nZXRDYW52YXNCeUluZGV4KHMpO2lmKG8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobC5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpPT09dClyZXR1cm4gcztpZigobj1hLmV4ZWModCkpJiYoaT1uWzFdLChyPW5bMl0pJiZuZXcgUmVnRXhwKFwiXlwiK2krXCJcXFxcRCtcIityK1wiJFwiKS50ZXN0KGwuZ2V0TGFiZWwoKS50b1N0cmluZygpKSkpcmV0dXJuIHN9cmV0dXJuLTF9LGUucHJvdG90eXBlLmdldExhc3RDYW52YXNMYWJlbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMTtlPj0wO2UtLSl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KGUpLGk9by5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSk7aWYodCl7aWYoL15bYS16QS1aMC05XSokLy50ZXN0KGkpKXJldHVybiBpfWVsc2UgaWYoaSlyZXR1cm4gaX1yZXR1cm4gdGhpcy5vcHRpb25zLmRlZmF1bHRMYWJlbH0sZS5wcm90b3R5cGUuZ2V0TGFzdFBhZ2VJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSxlLnByb3RvdHlwZS5nZXROZXh0UGFnZUluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoZSl7dmFyIGk9dGhpcy5nZXRQYWdlZEluZGljZXModCkscj10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPXImJnI9PT1hLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9pWzBdKzE6aVtpLmxlbmd0aC0xXSsxfWVsc2Ugbj10KzE7cmV0dXJuIG4+dGhpcy5nZXRMYXN0UGFnZUluZGV4KCk/LTE6bn0sZS5wcm90b3R5cGUuZ2V0UGFnZWRJbmRpY2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoZSl7bj10aGlzLmlzRmlyc3RDYW52YXModCl8fHRoaXMuaXNMYXN0Q2FudmFzKHQpP1t0XTp0JTI/W3QsdCsxXTpbdC0xLHRdO3ZhciBpPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO2kmJmk9PT1hLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVCYmKG49bi5yZXZlcnNlKCkpfWVsc2Ugbi5wdXNoKHQpO3JldHVybiBufSxlLnByb3RvdHlwZS5nZXRQcmV2UGFnZUluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoZSl7dmFyIGk9dGhpcy5nZXRQYWdlZEluZGljZXModCkscj10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtuPXImJnI9PT1hLlZpZXdpbmdEaXJlY3Rpb24uUklHSFRfVE9fTEVGVD9pW2kubGVuZ3RoLTFdLTE6aVswXS0xfWVsc2Ugbj10LTE7cmV0dXJuIG59LGUucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzSW5kZXg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFN0YXJ0Q2FudmFzKCk7aWYodClmb3IodmFyIGU9MDtlPHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO2UrKylpZih0aGlzLmdldENhbnZhc0J5SW5kZXgoZSkuaWQ9PT10KXJldHVybiBlO3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRUaHVtYnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT10aGlzLmdldFRvdGFsQ2FudmFzZXMoKSxyPTA7cjxpO3IrKyl7dmFyIGE9dGhpcy5nZXRDYW52YXNCeUluZGV4KHIpLHM9bmV3IG8uVGh1bWIodCxhKTtuLnB1c2gocyl9cmV0dXJuIG59LGUucHJvdG90eXBlLmdldFRodW1ibmFpbHM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl90aHVtYm5haWxzKXJldHVybiB0aGlzLl90aHVtYm5haWxzO3RoaXMuX3RodW1ibmFpbHM9W107Zm9yKHZhciB0PXRoaXMuZ2V0Q2FudmFzZXMoKSxlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0uZ2V0VGh1bWJuYWlsKCk7biYmdGhpcy5fdGh1bWJuYWlscy5wdXNoKG4pfXJldHVybiB0aGlzLl90aHVtYm5haWxzfSxlLnByb3RvdHlwZS5nZXRTdGFydENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwic3RhcnRDYW52YXNcIil9LGUucHJvdG90eXBlLmdldFRvdGFsQ2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDYW52YXNlcygpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKT90aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKTp0aGlzLm9wdGlvbnMucmVzb3VyY2UuZ2V0Vmlld2luZ0RpcmVjdGlvbj90aGlzLm9wdGlvbnMucmVzb3VyY2UuZ2V0Vmlld2luZ0RpcmVjdGlvbigpOm51bGx9LGUucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sZS5wcm90b3R5cGUuaXNDYW52YXNJbmRleE91dE9mUmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sZS5wcm90b3R5cGUuaXNGaXJzdENhbnZhcz1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXR9LGUucHJvdG90eXBlLmlzTGFzdENhbnZhcz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LGUucHJvdG90eXBlLmlzTXVsdGlDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCk+MX0sZS5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3aW5nSGludCgpO3JldHVybiEhdCYmdD09PWEuVmlld2luZ0hpbnQuUEFHRUR9LGUucHJvdG90eXBlLmlzVG90YWxDYW52YXNlc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCklMj09MH0sZX0oby5NYW5pZmVzdFJlc291cmNlKTtlLlNlcXVlbmNlPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PUpTT04ucGFyc2UodCkpLHRoaXMucGFyc2VKc29uKHQsZSl9LHQucGFyc2VKc29uPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoZSYmZS5uYXZEYXRlJiYhaXNOYU4oZS5uYXZEYXRlLmdldFRpbWUoKSkmJih0Lm5hdkRhdGU9ZS5uYXZEYXRlLnRvU3RyaW5nKCkpLHRbXCJAdHlwZVwiXSlzd2l0Y2godFtcIkB0eXBlXCJdKXtjYXNlXCJzYzpDb2xsZWN0aW9uXCI6bj10aGlzLnBhcnNlQ29sbGVjdGlvbih0LGUpO2JyZWFrO2Nhc2VcInNjOk1hbmlmZXN0XCI6bj10aGlzLnBhcnNlTWFuaWZlc3QodCxlKTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfWVsc2Ugc3dpdGNoKHQudHlwZSl7Y2FzZVwiQ29sbGVjdGlvblwiOm49dGhpcy5wYXJzZUNvbGxlY3Rpb24odCxlKTticmVhaztjYXNlXCJNYW5pZmVzdFwiOm49dGhpcy5wYXJzZU1hbmlmZXN0KHQsZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gbi5pc0xvYWRlZD0hMCxufSx0LnBhcnNlQ29sbGVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBpLkNvbGxlY3Rpb24odCxlKTtyZXR1cm4gZT8obi5pbmRleD1lLmluZGV4fHwwLGUucmVzb3VyY2UmJihuLnBhcmVudENvbGxlY3Rpb249ZS5yZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uKSk6bi5pbmRleD0wLHRoaXMucGFyc2VDb2xsZWN0aW9ucyhuLGUpLHRoaXMucGFyc2VNYW5pZmVzdHMobixlKSx0aGlzLnBhcnNlSXRlbXMobixlKSxufSx0LnBhcnNlQ29sbGVjdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0Ll9fanNvbmxkLmNvbGxlY3Rpb25zP249dC5fX2pzb25sZC5jb2xsZWN0aW9uczp0Ll9fanNvbmxkLml0ZW1zJiYobj10Ll9fanNvbmxkLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJjb2xsZWN0aW9uXCI9PT10LnR5cGUudG9Mb3dlckNhc2UoKX0pKSksbilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7ZSYmKGUuaW5kZXg9aSk7dmFyIHI9dGhpcy5wYXJzZUNvbGxlY3Rpb24obltpXSxlKTtyLmluZGV4PWksci5wYXJlbnRDb2xsZWN0aW9uPXQsdC5pdGVtcy5wdXNoKHIpfX0sdC5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBpLk1hbmlmZXN0KHQsZSl9LHQucGFyc2VNYW5pZmVzdHM9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZih0Ll9fanNvbmxkLm1hbmlmZXN0cz9uPXQuX19qc29ubGQubWFuaWZlc3RzOnQuX19qc29ubGQuaXRlbXMmJihuPXQuX19qc29ubGQuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIm1hbmlmZXN0XCI9PT10LnR5cGUudG9Mb3dlckNhc2UoKX0pKSksbilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9dGhpcy5wYXJzZU1hbmlmZXN0KG5baV0sZSk7ci5pbmRleD1pLHIucGFyZW50Q29sbGVjdGlvbj10LHQuaXRlbXMucHVzaChyKX19LHQucGFyc2VJdGVtPWZ1bmN0aW9uKHQsZSl7aWYodFtcIkB0eXBlXCJdKXtpZihcInNjOm1hbmlmZXN0XCI9PT10W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZU1hbmlmZXN0KHQsZSk7aWYoXCJzYzpjb2xsZWN0aW9uXCI9PT10W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24odCxlKX1lbHNlIGlmKHQudHlwZSl7aWYoXCJtYW5pZmVzdFwiPT09dC50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VNYW5pZmVzdCh0LGUpO2lmKFwiY29sbGVjdGlvblwiPT09dC50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMucGFyc2VDb2xsZWN0aW9uKHQsZSl9cmV0dXJuIG51bGx9LHQucGFyc2VJdGVtcz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX19qc29ubGQubWVtYmVyc3x8dC5fX2pzb25sZC5pdGVtcztpZihuKWZvcih2YXIgaT1mdW5jdGlvbihpKXtlJiYoZS5pbmRleD1pKTt2YXIgYT1yLnBhcnNlSXRlbShuW2ldLGUpO3JldHVybiBhP3QuaXRlbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWEuaWR9KSlbMF0/XCJjb250aW51ZVwiOihhLmluZGV4PWksYS5wYXJlbnRDb2xsZWN0aW9uPXQsdm9pZCB0Lml0ZW1zLnB1c2goYSkpOnt2YWx1ZTp2b2lkIDB9fSxyPXRoaXMsYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgbz1pKGEpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBvKXJldHVybiBvLnZhbHVlfX0sdH0oKTtlLkRlc2VyaWFsaXNlcj1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1pKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9bigwKSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxuKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmdldFByb2ZpbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFByb3BlcnR5KFwicHJvZmlsZVwiKTtyZXR1cm4gdHx8KHQ9dGhpcy5nZXRQcm9wZXJ0eShcImRjdGVybXM6Y29uZm9ybXNUb1wiKSksQXJyYXkuaXNBcnJheSh0KT90WzBdOnR9LGUucHJvdG90eXBlLmdldENvbmZpcm1MYWJlbD1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJjb25maXJtTGFiZWxcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRGYWlsdXJlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYS5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZURlc2NyaXB0aW9uXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSxlLnByb3RvdHlwZS5nZXRGYWlsdXJlSGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEuVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImZhaWx1cmVIZWFkZXJcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldEhlYWRlcj1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJoZWFkZXJcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LGUucHJvdG90eXBlLmdldFNlcnZpY2VMYWJlbD1mdW5jdGlvbigpe3JldHVybiBhLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0SW5mb1VyaT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaWQ7cmV0dXJuIHQuZW5kc1dpdGgoXCIvXCIpfHwodCs9XCIvXCIpLHQrXCJpbmZvLmpzb25cIn0sZX0oYS5NYW5pZmVzdFJlc291cmNlKTtlLlNlcnZpY2U9b30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuU2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3RbdC5BVVRIT1JJWkFUSU9OX0ZBSUxFRD0xXT1cIkFVVEhPUklaQVRJT05fRkFJTEVEXCIsdFt0LkZPUkJJRERFTj0yXT1cIkZPUkJJRERFTlwiLHRbdC5JTlRFUk5BTF9TRVJWRVJfRVJST1I9M109XCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIix0W3QuUkVTVFJJQ1RFRD00XT1cIlJFU1RSSUNURURcIn0oZS5TdGF0dXNDb2RlfHwoZS5TdGF0dXNDb2RlPXt9KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApO2UuVGh1bWI9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGE9ZSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy53aWR0aD10O3ZhciBuPWUuZ2V0SGVpZ2h0KCkvZS5nZXRXaWR0aCgpO3RoaXMuaGVpZ2h0PW4/TWF0aC5mbG9vcih0aGlzLndpZHRoKm4pOnQsdGhpcy51cmk9ZS5nZXRDYW5vbmljYWxJbWFnZVVyaSh0KSx0aGlzLmxhYmVsPWkuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZS5nZXRMYWJlbCgpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbil8fHRoaXN9cmV0dXJuIHIoZSx0KSxlfShuKDApLlJlc291cmNlKTtlLlRodW1ibmFpbD1hfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubGFiZWw9dCx0aGlzLmRhdGE9ZXx8e30sdGhpcy5ub2Rlcz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbih0KXt0aGlzLm5vZGVzLnB1c2godCksdC5wYXJlbnROb2RlPXRoaXN9LHQucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKX0sdC5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCl9LHQucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlV0aWxzLm5vcm1hbGlzZVR5cGUoaS5UcmVlTm9kZVR5cGUuUkFOR0UpfSx0fSgpO2UuVHJlZU5vZGU9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKHQpe3QuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIix0Lk1BTklGRVNUPVwibWFuaWZlc3RcIix0LlJBTkdFPVwicmFuZ2VcIn0oZS5UcmVlTm9kZVR5cGV8fChlLlRyZWVOb2RlVHlwZT17fSkpfSxmdW5jdGlvbih0LGUsbil7d2luZG93LHQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLGkpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpbi5kKGkscixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDEpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5DT05USU5VRT0xMDAsZS5TV0lUQ0hJTkdfUFJPVE9DT0xTPTEwMSxlLlBST0NFU1NJTkc9MTAyLGUuT0s9MjAwLGUuQ1JFQVRFRD0yMDEsZS5BQ0NFUFRFRD0yMDIsZS5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTj0yMDMsZS5OT19DT05URU5UPTIwNCxlLlJFU0VUX0NPTlRFTlQ9MjA1LGUuUEFSVElBTF9DT05URU5UPTIwNixlLk1VTFRJX1NUQVRVUz0yMDcsZS5NVUxUSVBMRV9DSE9JQ0VTPTMwMCxlLk1PVkVEX1BFUk1BTkVOVExZPTMwMSxlLk1PVkVEX1RFTVBPUkFSSUxZPTMwMixlLlNFRV9PVEhFUj0zMDMsZS5OT1RfTU9ESUZJRUQ9MzA0LGUuVVNFX1BST1hZPTMwNSxlLlRFTVBPUkFSWV9SRURJUkVDVD0zMDcsZS5CQURfUkVRVUVTVD00MDAsZS5VTkFVVEhPUklaRUQ9NDAxLGUuUEFZTUVOVF9SRVFVSVJFRD00MDIsZS5GT1JCSURERU49NDAzLGUuTk9UX0ZPVU5EPTQwNCxlLk1FVEhPRF9OT1RfQUxMT1dFRD00MDUsZS5OT1RfQUNDRVBUQUJMRT00MDYsZS5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRD00MDcsZS5SRVFVRVNUX1RJTUVfT1VUPTQwOCxlLkNPTkZMSUNUPTQwOSxlLkdPTkU9NDEwLGUuTEVOR1RIX1JFUVVJUkVEPTQxMSxlLlBSRUNPTkRJVElPTl9GQUlMRUQ9NDEyLGUuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFPTQxMyxlLlJFUVVFU1RfVVJJX1RPT19MQVJHRT00MTQsZS5VTlNVUFBPUlRFRF9NRURJQV9UWVBFPTQxNSxlLlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU9NDE2LGUuRVhQRUNUQVRJT05fRkFJTEVEPTQxNyxlLklNX0FfVEVBUE9UPTQxOCxlLlVOUFJPQ0VTU0FCTEVfRU5USVRZPTQyMixlLkxPQ0tFRD00MjMsZS5GQUlMRURfREVQRU5ERU5DWT00MjQsZS5VTk9SREVSRURfQ09MTEVDVElPTj00MjUsZS5VUEdSQURFX1JFUVVJUkVEPTQyNixlLlBSRUNPTkRJVElPTl9SRVFVSVJFRD00MjgsZS5UT09fTUFOWV9SRVFVRVNUUz00MjksZS5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFPTQzMSxlLklOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDAsZS5OT1RfSU1QTEVNRU5URUQ9NTAxLGUuQkFEX0dBVEVXQVk9NTAyLGUuU0VSVklDRV9VTkFWQUlMQUJMRT01MDMsZS5HQVRFV0FZX1RJTUVfT1VUPTUwNCxlLkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEPTUwNSxlLlZBUklBTlRfQUxTT19ORUdPVElBVEVTPTUwNixlLklOU1VGRklDSUVOVF9TVE9SQUdFPTUwNyxlLkJBTkRXSURUSF9MSU1JVF9FWENFRURFRD01MDksZS5OT1RfRVhURU5ERUQ9NTEwLGUuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRD01MTF9XSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9d2luZG93LmZldGNofHwod2luZG93LmZldGNoPW4oMykuZGVmYXVsdHx8bigzKSl9XSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJCYXNlQ29tcG9uZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub3B0aW9ucz10LHRoaXMub3B0aW9ucy5kYXRhPU9iamVjdC5hc3NpZ24oe30sdGhpcy5kYXRhKCksdC5kYXRhKX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbD10aGlzLm9wdGlvbnMudGFyZ2V0LHRoaXMuZWw/KHRoaXMuZWwuaW5uZXJIVE1MPVwiXCIsITApOihjb25zb2xlLndhcm4oXCJlbGVtZW50IG5vdCBmb3VuZFwiKSwhMSl9LHQucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oKXtyZXR1cm57fX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2V8fCh0aGlzLl9lPXt9KTsoaVt0XXx8KGlbdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSl9LHQucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciBpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9KCh0aGlzLl9lfHwodGhpcy5fZT17fSkpW3RdfHxbXSkuc2xpY2UoKSxhPTAsbz1yLmxlbmd0aDthPG87YSsrKXJbYV0uZm4uYXBwbHkoclthXS5jdHgsaSl9LHQucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt9LHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Ll9jb21wYXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe09iamVjdC5pcyhlW2ldLHRbaV0pfHxuLnB1c2goaSl9KSksbn0sdC5kaWZmPWZ1bmN0aW9uKGUsbil7cmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0Ll9jb21wYXJlKGUsbikuY29uY2F0KHQuX2NvbXBhcmUobixlKSkpKX0sdC5nZXRTcGF0aWFsQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3ZhciBlPS94eXdoPShbXiZdKykvZy5leGVjKHQpLG49bnVsbDtyZXR1cm4gZSYmZVsxXSYmKG49ZVsxXS5zcGxpdChcIixcIikpLG59LHQuZ2V0Rmlyc3RUYXJnZXRlZENhbnZhc0lkPWZ1bmN0aW9uKGUpe3ZhciBuO2lmKGUuY2FudmFzZXMmJmUuY2FudmFzZXMubGVuZ3RoKW49ZS5jYW52YXNlc1swXTtlbHNle3ZhciByPWUuZ2V0UmFuZ2VzKCk7aWYoci5sZW5ndGgpcmV0dXJuIHQuZ2V0Rmlyc3RUYXJnZXRlZENhbnZhc0lkKHJbMF0pfWlmKHZvaWQgMCE9PW4pcmV0dXJuIGkuVXRpbHMubm9ybWFsaXNlVXJsKG4pfSx0LmdldFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcoKG5ldyBEYXRlKS52YWx1ZU9mKCkpfSx0LnJldGFyZ2V0VGVtcG9yYWxDb21wb25lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1pLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KGUpO2lmKG4pe2Zvcih2YXIgcj0wLGE9ZS5zdWJzdHIoMCxlLmluZGV4T2YoXCIjXCIpKSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107aWYocy5pZC5pbmNsdWRlcyhhKSlicmVhazt2YXIgbD1zLmdldER1cmF0aW9uKCk7bCYmKHIrPWwpfXJldHVybiBuWzBdPU51bWJlcihuWzBdKStyLG5bMV09TnVtYmVyKG5bMV0pK3IsYStcIiN0PVwiK25bMF0rXCIsXCIrblsxXX19LHQuZm9ybWF0VGltZT1mdW5jdGlvbih0KXt2YXIgZSxuLGk7cmV0dXJuIGk9TWF0aC5jZWlsKHQpLCgoZT0oZT1NYXRoLmZsb29yKGkvMzYwMCkpPj0xMD9lOlwiMFwiK2UpPj0xP2UrXCI6XCI6XCJcIikrKG49KG49TWF0aC5mbG9vcihpJTM2MDAvNjApKT49MTA/bjpcIjBcIituKStcIjpcIisoaT0oaT1NYXRoLmZsb29yKGklMzYwMCU2MCkpPj0xMD9pOlwiMFwiK2kpfSx0LmlzSUU9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCxlPXQuaW5kZXhPZihcIk1TSUUgXCIpO2lmKGU+MClyZXR1cm4gcGFyc2VJbnQodC5zdWJzdHJpbmcoZSs1LHQuaW5kZXhPZihcIi5cIixlKSksMTApO2lmKHQuaW5kZXhPZihcIlRyaWRlbnQvXCIpPjApe3ZhciBuPXQuaW5kZXhPZihcInJ2OlwiKTtyZXR1cm4gcGFyc2VJbnQodC5zdWJzdHJpbmcobiszLHQuaW5kZXhPZihcIi5cIixuKSksMTApfXZhciBpPXQuaW5kZXhPZihcIkVkZ2UvXCIpO3JldHVybiBpPjAmJnBhcnNlSW50KHQuc3Vic3RyaW5nKGkrNSx0LmluZGV4T2YoXCIuXCIsaSkpLDEwKX0sdC5pc1NhZmFyaT1mdW5jdGlvbigpe3ZhciB0PS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJuIGNvbnNvbGUubG9nKFwiaXNTYWZhcmlcIix0KSx0fSx0LmRlYm91bmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8MTAwLGZ1bmN0aW9uKCl7aWYoIXQuZGVib3VuY2luZyl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7dC5sYXN0UmV0dXJuVmFsPXQuYXBwbHkod2luZG93LG4pLHQuZGVib3VuY2luZz0hMH1yZXR1cm4gY2xlYXJUaW1lb3V0KHQuZGVib3VuY2VUaW1lb3V0KSx0LmRlYm91bmNlVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZGVib3VuY2luZz0hMX0pLGUpLHQubGFzdFJldHVyblZhbH19LHQubm9ybWFsaXNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4odC1lKS8obi1lKX0sdC5pc0hMU0Zvcm1hdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5obHNNaW1lVHlwZXMuaW5jbHVkZXModC50b1N0cmluZygpKX0sdC5pc01wZWdEYXNoRm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVyblwiYXBwbGljYXRpb24vZGFzaCt4bWxcIj09PXQudG9TdHJpbmcoKX0sdC5jYW5QbGF5SGxzPWZ1bmN0aW9uKCl7dmFyIHQ9XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCxlPXQmJnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3JldHVybiBCb29sZWFuKGUmJmUuY2FuUGxheVR5cGUpJiZ0aGlzLmhsc01pbWVUeXBlcy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4vbWF5YmV8cHJvYmFibHkvaS50ZXN0KGUuY2FuUGxheVR5cGUodCkpfSkpfSx0Lmhsc01pbWVUeXBlcz1bXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLFwidm5kLmFwcGxlLm1wZWd1cmxcIixcImF1ZGlvL21wZWd1cmxcIixcImF1ZGlvL3gtbXBlZ3VybFwiLFwiYXBwbGljYXRpb24veC1tcGVndXJsXCIsXCJ2aWRlby94LW1wZWd1cmxcIixcInZpZGVvL21wZWd1cmxcIixcImFwcGxpY2F0aW9uL21wZWd1cmxcIl0sdH0oKTtlLkFWQ29tcG9uZW50VXRpbHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oNCksbz1uKDApLHM9bigxKSxsPW4oOCksYz1uKDIpLHU9big1KSxoPW4oNikscD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLmNhbnZhc0luc3RhbmNlcz1bXSxuLl9kYXRhPW4uZGF0YSgpLG4uX3JlYWR5TWVkaWE9MCxuLl9yZWFkeVdhdmVmb3Jtcz0wLG4uX3Bvc3RlckNhbnZhc1dpZHRoPTAsbi5fcG9zdGVyQ2FudmFzSGVpZ2h0PTAsbi5fcG9zdGVySW1hZ2VFeHBhbmRlZD0hMSxuLl9pbml0KCksbi5fcmVzaXplKCksbn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvdG90eXBlLl9pbml0LmNhbGwodGhpcyksdGhpcy5fJGVsZW1lbnQ9JCh0aGlzLmVsKSwhMH0sZS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybnthdXRvUGxheTohMSxjb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZTohMSxkZWZhdWx0QXNwZWN0UmF0aW86LjU2LGRvdWJsZUNsaWNrTVM6MzUwLGhhbHZlQXRXaWR0aDoyMDAsbGltaXRUb1JhbmdlOiExLHBvc3RlckltYWdlUmF0aW86LjMsdmlydHVhbENhbnZhc0VuYWJsZWQ6ITAsY29udGVudDp7Y3VycmVudFRpbWU6XCJDdXJyZW50IFRpbWVcIixjb2xsYXBzZTpcIkNvbGxhcHNlXCIsZHVyYXRpb246XCJEdXJhdGlvblwiLGV4cGFuZDpcIkV4cGFuZFwiLG11dGU6XCJNdXRlXCIsbmV4dDpcIk5leHRcIixwYXVzZTpcIlBhdXNlXCIscGxheTpcIlBsYXlcIixwcmV2aW91czpcIlByZXZpb3VzXCIsdW5tdXRlOlwiVW5tdXRlXCIsZnVsbHNjcmVlbjpcIkZ1bGxzY3JlZW5cIn19fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGF0YSk7dGhpcy5fZGF0YT1PYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsdCk7dmFyIGk9Yy5BVkNvbXBvbmVudFV0aWxzLmRpZmYobix0aGlzLl9kYXRhKTtpZihpLmluY2x1ZGVzKFwiaGVscGVyXCIpJiZ0aGlzLl9yZXNldCgpLHRoaXMuX2RhdGEuaGVscGVyKXtpZihpLmluY2x1ZGVzKFwibGltaXRUb1JhbmdlXCIpJiZ0aGlzLl9kYXRhLmNhbnZhc0lkJiZ0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0LG4pe3Quc2V0KHtsaW1pdFRvUmFuZ2U6ZS5fZGF0YS5saW1pdFRvUmFuZ2V9KX0pKSxpLmluY2x1ZGVzKFwiY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2VcIikmJnRoaXMuX2RhdGEuY2FudmFzSWQmJnRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dC5zZXQoe2NvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlOmUuX2RhdGEuY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2V9KX0pKSxpLmluY2x1ZGVzKFwiYXV0b1NlbGVjdFJhbmdlXCIpJiZ0aGlzLl9kYXRhLmNhbnZhc0lkJiZ0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0LG4pe3Quc2V0KHthdXRvU2VsZWN0UmFuZ2U6ZS5fZGF0YS5hdXRvU2VsZWN0UmFuZ2V9KX0pKSxpLmluY2x1ZGVzKFwiY2FudmFzSWRcIikmJnRoaXMuX2RhdGEuY2FudmFzSWQpe3ZhciByPXRoaXMuX2dldENhbnZhc0luc3RhbmNlQnlJZCh0aGlzLl9kYXRhLmNhbnZhc0lkKTtyJiZ0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmdldENhbnZhc0lkKCkhPT1yLmdldENhbnZhc0lkKCk/dC5zZXQoe3Zpc2libGU6ITF9KTppLmluY2x1ZGVzKFwicmFuZ2VcIik/dC5zZXQoe3Zpc2libGU6ITAscmFuZ2U6ZS5fZGF0YS5yYW5nZT9qUXVlcnkuZXh0ZW5kKCEwLHt9LGUuX2RhdGEucmFuZ2UpOnZvaWQgMH0pOnQuc2V0KHt2aXNpYmxlOiEwfSl9KSl9aWYoaS5pbmNsdWRlcyhcInZpcnR1YWxDYW52YXNFbmFibGVkXCIpJiYodGhpcy5zZXQoe3JhbmdlOnZvaWQgMH0pLHRoaXMuX2RhdGEudmlydHVhbENhbnZhc0VuYWJsZWQmJnRoaXMuY2FudmFzSW5zdGFuY2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaXNWaXJ0dWFsKCkmJmUuc2V0KHtjYW52YXNJZDp0LmdldENhbnZhc0lkKCkscmFuZ2U6dm9pZCAwfSl9KSkpLGkuaW5jbHVkZXMoXCJyYW5nZVwiKSYmdGhpcy5fZGF0YS5yYW5nZSl7dmFyIGE9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0UmFuZ2VCeUlkKHRoaXMuX2RhdGEucmFuZ2UuaWQpO2lmKGEpe3ZhciBzPWMuQVZDb21wb25lbnRVdGlscy5nZXRGaXJzdFRhcmdldGVkQ2FudmFzSWQoYSk7aWYocyl7dmFyIGw9dGhpcy5fZ2V0Q2FudmFzSW5zdGFuY2VCeUlkKHMpO2lmKGwpe2lmKGwuaXNWaXJ0dWFsKCkmJnRoaXMuX2RhdGEudmlydHVhbENhbnZhc0VuYWJsZWQmJmwuaW5jbHVkZXNWaXJ0dWFsU3ViQ2FudmFzKHMpKXtzPWwuZ2V0Q2FudmFzSWQoKTtmb3IodmFyIHU9MDt1PGwucmFuZ2VzLmxlbmd0aDt1Kyspe3ZhciBoPWwucmFuZ2VzW3VdO2lmKGguaWQ9PT1hLmlkKXthPWg7YnJlYWt9fX10aGlzLl9kYXRhLmNhbnZhc0lkJiYodGhpcy5fZGF0YS5jYW52YXNJZC5pbmNsdWRlcyhcIjovL1wiKT9vLlV0aWxzLm5vcm1hbGlzZVVybCh0aGlzLl9kYXRhLmNhbnZhc0lkKTp0aGlzLl9kYXRhLmNhbnZhc0lkKSE9PXM/dGhpcy5zZXQoe2NhbnZhc0lkOnMscmFuZ2U6alF1ZXJ5LmV4dGVuZCghMCx7fSxhKX0pOmwuc2V0KHtyYW5nZTpqUXVlcnkuZXh0ZW5kKCEwLHt9LGEpfSl9fX1lbHNlIGNvbnNvbGUud2FybihcInJhbmdlIG5vdCBmb3VuZFwiKX10aGlzLl9yZW5kZXIoKSx0aGlzLl9yZXNpemUoKX1lbHNlIGNvbnNvbGUud2FybihcIm11c3QgcGFzcyBhIGhlbHBlciBvYmplY3RcIil9LGUucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcmVzZXQoKX0sZS5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9yZWFkeU1lZGlhPTAsdGhpcy5fcmVhZHlXYXZlZm9ybXM9MCx0aGlzLl9wb3N0ZXJDYW52YXNXaWR0aD0wLHRoaXMuX3Bvc3RlckNhbnZhc0hlaWdodD0wLGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxNZWRpYVJlYWR5SW50ZXJ2YWwpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxXYXZlZm9ybXNSZWFkeUludGVydmFsKSx0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmRlc3Ryb3koKX0pKSx0aGlzLmNhbnZhc0luc3RhbmNlcz1bXSx0aGlzLl8kZWxlbWVudC5lbXB0eSgpLHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuaGVscGVyJiZ0aGlzLl9kYXRhLmhlbHBlci5tYW5pZmVzdCl7dmFyIGU9dGhpcy5fZGF0YS5oZWxwZXIubWFuaWZlc3QuZ2V0QmVoYXZpb3IoKSxuPXRoaXMuX2dldENhbnZhc2VzKCk7aWYoZSYmZS50b1N0cmluZygpPT09YS5CZWhhdmlvci5BVVRPX0FEVkFOQ0Upe3ZhciBpPW5ldyB1LlZpcnR1YWxDYW52YXM7bi5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFkZENhbnZhcyh0KX0pKSx0aGlzLl9pbml0Q2FudmFzKGkpfW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5faW5pdENhbnZhcyhlKX0pKSx0aGlzLmNhbnZhc0luc3RhbmNlcy5sZW5ndGg+MCYmKHRoaXMuX2RhdGEuY2FudmFzSWQ9dGhpcy5jYW52YXNJbnN0YW5jZXNbMF0uZ2V0Q2FudmFzSWQoKSksdGhpcy5fY2hlY2tBbGxNZWRpYVJlYWR5SW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxNZWRpYVJlYWR5LmJpbmQodGhpcyksMTAwKSx0aGlzLl9jaGVja0FsbFdhdmVmb3Jtc1JlYWR5SW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxXYXZlZm9ybXNSZWFkeS5iaW5kKHRoaXMpLDEwMCksdGhpcy5fJHBvc3RlckNvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwicG9zdGVyLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRlbGVtZW50LmFwcGVuZCh0aGlzLl8kcG9zdGVyQ29udGFpbmVyKSx0aGlzLl8kcG9zdGVySW1hZ2U9JCgnPGRpdiBjbGFzcz1cInBvc3Rlci1pbWFnZVwiPjwvZGl2PicpLHRoaXMuXyRwb3N0ZXJFeHBhbmRCdXR0b249JCgnXFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiB0aXRsZT1cIicrKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY29udGVudD90aGlzLl9kYXRhLmNvbnRlbnQuZXhwYW5kOlwiXCIpKydcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiAgYXYtaWNvbi1leHBhbmQgZXhwYW5kXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjxzcGFuPicrKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY29udGVudD90aGlzLl9kYXRhLmNvbnRlbnQuZXhwYW5kOlwiXCIpK1wiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICBcIiksdGhpcy5fJHBvc3RlckltYWdlLmFwcGVuZCh0aGlzLl8kcG9zdGVyRXhwYW5kQnV0dG9uKSx0aGlzLl8kcG9zdGVySW1hZ2Uub24oXCJ0b3VjaHN0YXJ0IGNsaWNrXCIsKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj10Ll9nZXRQb3N0ZXJJbWFnZUNzcyghdC5fcG9zdGVySW1hZ2VFeHBhbmRlZCk7aWYodC5fJHBvc3RlckltYWdlLmFuaW1hdGUobiksdC5fcG9zdGVySW1hZ2VFeHBhbmRlZD0hdC5fcG9zdGVySW1hZ2VFeHBhbmRlZCx0Ll9kYXRhLmNvbnRlbnQpaWYodC5fcG9zdGVySW1hZ2VFeHBhbmRlZCl7dmFyIGk9dC5fZGF0YS5jb250ZW50LmNvbGxhcHNlO3QuXyRwb3N0ZXJFeHBhbmRCdXR0b24ucHJvcChcInRpdGxlXCIsaSksdC5fJHBvc3RlckV4cGFuZEJ1dHRvbi5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcImV4cGFuZFwiLFwiY29sbGFwc2VcIil9ZWxzZXtpPXQuX2RhdGEuY29udGVudC5leHBhbmQ7dC5fJHBvc3RlckV4cGFuZEJ1dHRvbi5wcm9wKFwidGl0bGVcIixpKSx0Ll8kcG9zdGVyRXhwYW5kQnV0dG9uLmZpbmQoXCJpXCIpLnN3aXRjaENsYXNzKFwiY29sbGFwc2VcIixcImV4cGFuZFwiKX19KSk7dmFyIHI9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0UG9zdGVyQ2FudmFzKCk7aWYocil7dGhpcy5fcG9zdGVyQ2FudmFzV2lkdGg9ci5nZXRXaWR0aCgpLHRoaXMuX3Bvc3RlckNhbnZhc0hlaWdodD1yLmdldEhlaWdodCgpO3ZhciBvPXRoaXMuX2RhdGEuaGVscGVyLmdldFBvc3RlckltYWdlKCk7aWYobyl7dGhpcy5fJHBvc3RlckNvbnRhaW5lci5hcHBlbmQodGhpcy5fJHBvc3RlckltYWdlKTt2YXIgcz10aGlzLl9nZXRQb3N0ZXJJbWFnZUNzcyh0aGlzLl9wb3N0ZXJJbWFnZUV4cGFuZGVkKTtzPU9iamVjdC5hc3NpZ24oe30scyx7XCJiYWNrZ3JvdW5kLWltYWdlXCI6XCJ1cmwoXCIrbytcIilcIn0pLHRoaXMuXyRwb3N0ZXJJbWFnZS5jc3Mocyl9fX19LGUucHJvdG90eXBlLl9jaGVja0FsbE1lZGlhUmVhZHk9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcImxvYWRpbmcgbWVkaWFcIiksdGhpcy5fcmVhZHlNZWRpYT09PXRoaXMuY2FudmFzSW5zdGFuY2VzLmxlbmd0aCYmKGNvbnNvbGUubG9nKFwiYWxsIG1lZGlhIHJlYWR5XCIpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxNZWRpYVJlYWR5SW50ZXJ2YWwpLHRoaXMuZmlyZShmLk1FRElBX1JFQURZKSx0aGlzLnJlc2l6ZSgpKX0sZS5wcm90b3R5cGUuX2NoZWNrQWxsV2F2ZWZvcm1zUmVhZHk9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcImxvYWRpbmcgd2F2ZWZvcm1zXCIpLHRoaXMuX3JlYWR5V2F2ZWZvcm1zPT09dGhpcy5fZ2V0Q2FudmFzSW5zdGFuY2VzV2l0aFdhdmVmb3JtcygpLmxlbmd0aCYmKGNvbnNvbGUubG9nKFwid2F2ZWZvcm1zIHJlYWR5XCIpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tBbGxXYXZlZm9ybXNSZWFkeUludGVydmFsKSx0aGlzLmZpcmUoZi5XQVZFRk9STVNfUkVBRFkpLHRoaXMucmVzaXplKCkpfSxlLnByb3RvdHlwZS5fZ2V0Q2FudmFzSW5zdGFuY2VzV2l0aFdhdmVmb3Jtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc0luc3RhbmNlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LndhdmVmb3Jtcy5sZW5ndGg+MH0pKX0sZS5wcm90b3R5cGUuX2dldENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuaGVscGVyP3RoaXMuX2RhdGEuaGVscGVyLmdldENhbnZhc2VzKCk6W119LGUucHJvdG90eXBlLl9pbml0Q2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgbC5DYW52YXNJbnN0YW5jZSh7dGFyZ2V0OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZGF0YTpPYmplY3QuYXNzaWduKHt9LHtjYW52YXM6dH0sdGhpcy5fZGF0YSl9KTtuLmxvZ01lc3NhZ2U9dGhpcy5fbG9nTWVzc2FnZS5iaW5kKHRoaXMpLG4uaXNPbmx5Q2FudmFzSW5zdGFuY2U9MT09PXRoaXMuX2dldENhbnZhc2VzKCkubGVuZ3RoLHRoaXMuXyRlbGVtZW50LmFwcGVuZChuLiRwbGF5ZXJFbGVtZW50KSxuLmluaXQoKSx0aGlzLmNhbnZhc0luc3RhbmNlcy5wdXNoKG4pLG4ub24oZi5NRURJQV9SRUFEWSwoZnVuY3Rpb24oKXtlLl9yZWFkeU1lZGlhKyt9KSwhMSksbi5vbihmLldBVkVGT1JNX1JFQURZLChmdW5jdGlvbigpe2UuX3JlYWR5V2F2ZWZvcm1zKyt9KSwhMSksbi5vbihsLkNhbnZhc0luc3RhbmNlRXZlbnRzLlBSRVZJT1VTX1JBTkdFLChmdW5jdGlvbigpe2UuX3ByZXZSYW5nZSgpfSksITEpLG4ub24obC5DYW52YXNJbnN0YW5jZUV2ZW50cy5ORVhUX1JBTkdFLChmdW5jdGlvbigpe2UuX25leHRSYW5nZSgpfSksITEpLG4ub24oZi5SQU5HRV9DSEFOR0VELChmdW5jdGlvbih0KXtlLmZpcmUoZi5SQU5HRV9DSEFOR0VELHQpfSksITEpLG4ub24oaC5Wb2x1bWVFdmVudHMuVk9MVU1FX0NIQU5HRUQsKGZ1bmN0aW9uKHQpe2UuX3NldENhbnZhc0luc3RhbmNlVm9sdW1lcyh0KSxlLmZpcmUoaC5Wb2x1bWVFdmVudHMuVk9MVU1FX0NIQU5HRUQsdCl9KSwhMSksbi5vbihsLkNhbnZhc0luc3RhbmNlRXZlbnRzLlBMQVlDQU5WQVMsKGZ1bmN0aW9uKCl7ZS5maXJlKGwuQ2FudmFzSW5zdGFuY2VFdmVudHMuUExBWUNBTlZBUyl9KSwhMSksbi5vbihsLkNhbnZhc0luc3RhbmNlRXZlbnRzLlBBVVNFQ0FOVkFTLChmdW5jdGlvbigpe2UuZmlyZShsLkNhbnZhc0luc3RhbmNlRXZlbnRzLlBBVVNFQ0FOVkFTKX0pLCExKSxuLm9uKGYuTUVESUFfRVJST1IsKGZ1bmN0aW9uKHQpe2NsZWFySW50ZXJ2YWwoZS5fY2hlY2tBbGxNZWRpYVJlYWR5SW50ZXJ2YWwpLGUuZmlyZShmLk1FRElBX0VSUk9SLHQpfSksITEpLG4ub24oZi5GVUxMU0NSRUVOLChmdW5jdGlvbih0KXtlLmZpcmUoZi5GVUxMU0NSRUVOLHQpfSksITEpfSxlLnByb3RvdHlwZS5fcHJldlJhbmdlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5oZWxwZXIpe3ZhciB0PXRoaXMuX2RhdGEuaGVscGVyLmdldFByZXZpb3VzUmFuZ2UoKTt0P3RoaXMucGxheVJhbmdlKHQuaWQpOnRoaXMuX3Jld2luZCgpfX0sZS5wcm90b3R5cGUuX25leHRSYW5nZT1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuaGVscGVyKXt2YXIgdD10aGlzLl9kYXRhLmhlbHBlci5nZXROZXh0UmFuZ2UoKTt0JiZ0aGlzLnBsYXlSYW5nZSh0LmlkKX19LGUucHJvdG90eXBlLl9zZXRDYW52YXNJbnN0YW5jZVZvbHVtZXM9ZnVuY3Rpb24odCl7dGhpcy5jYW52YXNJbnN0YW5jZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zZXQoe3ZvbHVtZTp0fSl9KSl9LGUucHJvdG90eXBlLl9nZXROb3JtYWxpc2VDYW52YXNJZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjovL1wiKT9vLlV0aWxzLm5vcm1hbGlzZVVybCh0KTp0fSxlLnByb3RvdHlwZS5fZ2V0Q2FudmFzSW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fZ2V0Tm9ybWFsaXNlQ2FudmFzSWQodCksdGhpcy5fZGF0YS52aXJ0dWFsQ2FudmFzRW5hYmxlZClmb3IodmFyIGU9MDtlPHRoaXMuY2FudmFzSW5zdGFuY2VzLmxlbmd0aDtlKyspe3ZhciBuPShpPXRoaXMuY2FudmFzSW5zdGFuY2VzW2VdKS5nZXRDYW52YXNJZCgpO2lmKG4mJihuPXRoaXMuX2dldE5vcm1hbGlzZUNhbnZhc0lkKG4pLChpLmlzVmlydHVhbCgpfHwxPT09dGhpcy5jYW52YXNJbnN0YW5jZXMubGVuZ3RoKSYmbj09PXR8fGkuaW5jbHVkZXNWaXJ0dWFsU3ViQ2FudmFzKHQpKSlyZXR1cm4gaX1lbHNlIGZvcihlPTA7ZTx0aGlzLmNhbnZhc0luc3RhbmNlcy5sZW5ndGg7ZSsrKXt2YXIgaSxyPShpPXRoaXMuY2FudmFzSW5zdGFuY2VzW2VdKS5nZXRDYW52YXNJZCgpO2lmKHIpaWYoby5VdGlscy5ub3JtYWxpc2VVcmwocik9PT10KXJldHVybiBpfX0sZS5wcm90b3R5cGUuX2dldEN1cnJlbnRDYW52YXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhLmNhbnZhc0lkKXJldHVybiB0aGlzLl9nZXRDYW52YXNJbnN0YW5jZUJ5SWQodGhpcy5fZGF0YS5jYW52YXNJZCl9LGUucHJvdG90eXBlLl9yZXdpbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2Upe3ZhciB0PXRoaXMuX2dldEN1cnJlbnRDYW52YXMoKTt0JiZ0LnNldCh7cmFuZ2U6dm9pZCAwfSl9fSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0Q3VycmVudENhbnZhcygpO3QmJnQucGxheSgpfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEN1cnJlbnRDYW52YXMoKTt0JiZ0LnBhdXNlKCl9LGUucHJvdG90eXBlLnBsYXlSYW5nZT1mdW5jdGlvbih0KXtpZih0aGlzLl9kYXRhLmhlbHBlcil7dmFyIGU9dGhpcy5fZGF0YS5oZWxwZXIuZ2V0UmFuZ2VCeUlkKHQpO2UmJnRoaXMuc2V0KHtyYW5nZTpqUXVlcnkuZXh0ZW5kKCEwLHt9LGUpfSl9fSxlLnByb3RvdHlwZS5zaG93Q2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldEN1cnJlbnRDYW52YXMoKTtlJiZlLmdldENhbnZhc0lkKCk9PT10JiYhZS5pc1Zpc2libGUoKT9lLnNldCh7dmlzaWJsZTohMH0pOnRoaXMuc2V0KHtjYW52YXNJZDp0fSl9LGUucHJvdG90eXBlLl9sb2dNZXNzYWdlPWZ1bmN0aW9uKHQpe3RoaXMuZmlyZShmLkxPRyx0KX0sZS5wcm90b3R5cGUuX2dldFBvc3RlckltYWdlQ3NzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldEN1cnJlbnRDYW52YXMoKTtpZihlKXt2YXIgbj1lLiRwbGF5ZXJFbGVtZW50LmZpbmQoXCIub3B0aW9ucy1jb250YWluZXJcIiksaT1lLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLndpZHRoKCkscj1lLiRwbGF5ZXJFbGVtZW50LnBhcmVudCgpLmhlaWdodCgpLW4uaGVpZ2h0KCk7aWYodClyZXR1cm57dG9wOjAsbGVmdDowLHdpZHRoOmksaGVpZ2h0OnJ9O3ZhciBhPXZvaWQgMCxvPXZvaWQgMCxzPXZvaWQgMDtyZXR1cm4gdGhpcy5fcG9zdGVyQ2FudmFzV2lkdGg+dGhpcy5fcG9zdGVyQ2FudmFzSGVpZ2h0PyhhPXRoaXMuX3Bvc3RlckNhbnZhc0hlaWdodC90aGlzLl9wb3N0ZXJDYW52YXNXaWR0aCxzPShvPWkqdGhpcy5fZGF0YS5wb3N0ZXJJbWFnZVJhdGlvKSphKTooYT10aGlzLl9wb3N0ZXJDYW52YXNXaWR0aC90aGlzLl9wb3N0ZXJDYW52YXNIZWlnaHQsbz0ocz1yKnRoaXMuX2RhdGEucG9zdGVySW1hZ2VSYXRpbykqYSkse3RvcDowLGxlZnQ6aS1vLHdpZHRoOm8saGVpZ2h0OnN9fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmNhbnZhc0luc3RhbmNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnJlc2l6ZSgpfSkpLHRoaXMuX2dldEN1cnJlbnRDYW52YXMoKSYmdGhpcy5fJHBvc3RlckltYWdlJiZ0aGlzLl8kcG9zdGVySW1hZ2UuaXMoXCI6dmlzaWJsZVwiKSYmKHRoaXMuX3Bvc3RlckltYWdlRXhwYW5kZWQ/dGhpcy5fJHBvc3RlckltYWdlLmNzcyh0aGlzLl9nZXRQb3N0ZXJJbWFnZUNzcyghMCkpOnRoaXMuXyRwb3N0ZXJJbWFnZS5jc3ModGhpcy5fZ2V0UG9zdGVySW1hZ2VDc3MoITEpKSl9LGV9KHMuQmFzZUNvbXBvbmVudCk7ZS5BVkNvbXBvbmVudD1wO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5NRURJQV9SRUFEWT1cIm1lZGlhcmVhZHlcIix0Lk1FRElBX0VSUk9SPVwibWVkaWFlcnJvclwiLHQuTE9HPVwibG9nXCIsdC5SQU5HRV9DSEFOR0VEPVwicmFuZ2VjaGFuZ2VkXCIsdC5XQVZFRk9STV9SRUFEWT1cIndhdmVmb3JtcmVhZHlcIix0LldBVkVGT1JNU19SRUFEWT1cIndhdmVmb3Jtc3JlYWR5XCIsdC5GVUxMU0NSRUVOPVwiZnVsbHNjcmVlblwiLHR9KCk7ZS5FdmVudHM9Zn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHIsYSxvLHMsbCxjLHUsaDtuLnIoZSksbi5kKGUsXCJBbm5vdGF0aW9uTW90aXZhdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZChlLFwiQmVoYXZpb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQoZSxcIkV4dGVybmFsUmVzb3VyY2VUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKGUsXCJJSUlGUmVzb3VyY2VUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKGUsXCJNZWRpYVR5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQoZSxcIlJlbmRlcmluZ0Zvcm1hdFwiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZChlLFwiU2VydmljZVByb2ZpbGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQoZSxcIlZpZXdpbmdEaXJlY3Rpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQoZSxcIlZpZXdpbmdIaW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksZnVuY3Rpb24odCl7dC5CT09LTUFSS0lORz1cIm9hOmJvb2ttYXJraW5nXCIsdC5DTEFTU0lGWUlORz1cIm9hOmNsYXNzaWZ5aW5nXCIsdC5DT01NRU5USU5HPVwib2E6Y29tbWVudGluZ1wiLHQuREVTQ1JJQklORz1cIm9hOmRlc2NyaWJpbmdcIix0LkVESVRJTkc9XCJvYTplZGl0aW5nXCIsdC5ISUdITElHSFRJTkc9XCJvYTpoaWdobGlnaHRpbmdcIix0LklERU5USUZZSU5HPVwib2E6aWRlbnRpZnlpbmdcIix0LkxJTktJTkc9XCJvYTpsaW5raW5nXCIsdC5NT0RFUkFUSU5HPVwib2E6bW9kZXJhdGluZ1wiLHQuUEFJTlRJTkc9XCJzYzpwYWludGluZ1wiLHQuUVVFU1RJT05JTkc9XCJvYTpxdWVzdGlvbmluZ1wiLHQuUkVQTFlJTkc9XCJvYTpyZXBseWluZ1wiLHQuVEFHR0lORz1cIm9hOnRhZ2dpbmdcIix0LlRSQU5TQ1JJQklORz1cIm9hZDp0cmFuc2NyaWJpbmdcIn0oaXx8KGk9e30pKSxmdW5jdGlvbih0KXt0LkFVVE9fQURWQU5DRT1cImF1dG8tYWR2YW5jZVwiLHQuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIix0LkZBQ0lOR19QQUdFUz1cImZhY2luZy1wYWdlc1wiLHQuSElEREVOPVwiaGlkZGVuXCIsdC5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsdC5NVUxUSV9QQVJUPVwibXVsdGktcGFydFwiLHQuTk9fTkFWPVwibm8tbmF2XCIsdC5OT05fUEFHRUQ9XCJub24tcGFnZWRcIix0LlBBR0VEPVwicGFnZWRcIix0LlJFUEVBVD1cInJlcGVhdFwiLHQuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwiLHQuVEhVTUJOQUlMX05BVj1cInRodW1ibmFpbC1uYXZcIix0LlRPR0VUSEVSPVwidG9nZXRoZXJcIix0LlVOT1JERVJFRD1cInVub3JkZXJlZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKHQpe3QuQ0FOVkFTPVwiY2FudmFzXCIsdC5DSE9JQ0U9XCJjaG9pY2VcIix0LkNPTlRFTlRfQVNfVEVYVD1cImNvbnRlbnRhc3RleHRcIix0LkRBVEFTRVQ9XCJkYXRhc2V0XCIsdC5ET0NVTUVOVD1cImRvY3VtZW50XCIsdC5JTUFHRT1cImltYWdlXCIsdC5NT0RFTD1cIm1vZGVsXCIsdC5NT1ZJTkdfSU1BR0U9XCJtb3ZpbmdpbWFnZVwiLHQuUERGPVwicGRmXCIsdC5QSFlTSUNBTF9PQkpFQ1Q9XCJwaHlzaWNhbG9iamVjdFwiLHQuU09VTkQ9XCJzb3VuZFwiLHQuVEVYVD1cInRleHRcIix0LlRFWFRVQUxCT0RZPVwidGV4dHVhbGJvZHlcIix0LlZJREVPPVwidmlkZW9cIn0oYXx8KGE9e30pKSxmdW5jdGlvbih0KXt0LkFOTk9UQVRJT049XCJhbm5vdGF0aW9uXCIsdC5DQU5WQVM9XCJjYW52YXNcIix0LkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsdC5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsdC5SQU5HRT1cInJhbmdlXCIsdC5TRVFVRU5DRT1cInNlcXVlbmNlXCJ9KG98fChvPXt9KSksZnVuY3Rpb24odCl7dC5BVURJT19NUDQ9XCJhdWRpby9tcDRcIix0LkNPUlRPPVwiYXBwbGljYXRpb24vY29ydG9cIix0LkRSQUNPPVwiYXBwbGljYXRpb24vZHJhY29cIix0LkVQVUI9XCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiLHQuR0xURj1cIm1vZGVsL2dsdGYranNvblwiLHQuSlBHPVwiaW1hZ2UvanBlZ1wiLHQuTTNVOD1cImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsdC5NUDM9XCJhdWRpby9tcDNcIix0Lk1QRUdfREFTSD1cImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsdC5PQko9XCJ0ZXh0L3BsYWluXCIsdC5PUEY9XCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiLHQuUERGPVwiYXBwbGljYXRpb24vcGRmXCIsdC5QTFk9XCJhcHBsaWNhdGlvbi9wbHlcIix0LlRIUkVFSlM9XCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCIsdC5WSURFT19NUDQ9XCJ2aWRlby9tcDRcIix0LldFQk09XCJ2aWRlby93ZWJtXCJ9KHN8fChzPXt9KSksZnVuY3Rpb24odCl7dC5ET0M9XCJhcHBsaWNhdGlvbi9tc3dvcmRcIix0LkRPQ1g9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiLHQuUERGPVwiYXBwbGljYXRpb24vcGRmXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24odCl7dC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIix0LklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLHQuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLHQuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIix0LklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsdC5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsdC5JTUFHRV8xX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiLHQuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiLHQuSU1BR0VfMV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIix0LklNQUdFXzFfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIix0LklNQUdFXzFfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCIsdC5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsdC5JTUFHRV8yX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiLHQuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiLHQuSU1BR0VfMl9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIix0LklNQUdFXzJfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIix0LklNQUdFXzJfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCIsdC5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsdC5BVVRIXzBfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCIsdC5BVVRIXzBfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCIsdC5BVVRIXzBfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIix0LkFVVEhfMF9SRVNUUklDVEVEPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCIsdC5BVVRIXzBfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCIsdC5BVVRIXzFfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCIsdC5BVVRIXzFfRVhURVJOQUw9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCIsdC5BVVRIXzFfS0lPU0s9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCIsdC5BVVRIXzFfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCIsdC5BVVRIXzFfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIix0LkFVVEhfMV9QUk9CRT1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIix0LkFVVEhfMV9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIix0LlNFQVJDSF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiLHQuU0VBUkNIXzBfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIix0LlNFQVJDSF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiLHQuU0VBUkNIXzFfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIix0LlRSQUNLSU5HX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuVUlfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCIsdC5QUklOVF9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIix0LlNIQVJFX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiLHQuT1RIRVJfTUFOSUZFU1RBVElPTlM9XCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCIsdC5JWElGPVwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIn0oY3x8KGM9e30pKSxmdW5jdGlvbih0KXt0LkJPVFRPTV9UT19UT1A9XCJib3R0b20tdG8tdG9wXCIsdC5MRUZUX1RPX1JJR0hUPVwibGVmdC10by1yaWdodFwiLHQuUklHSFRfVE9fTEVGVD1cInJpZ2h0LXRvLWxlZnRcIix0LlRPUF9UT19CT1RUT009XCJ0b3AtdG8tYm90dG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24odCl7dC5DT05USU5VT1VTPVwiY29udGludW91c1wiLHQuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLHQuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsdC5QQUdFRD1cInBhZ2VkXCIsdC5UT1A9XCJ0b3BcIn0oaHx8KGg9e30pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1uKDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jYW52YXNlcz1bXSx0aGlzLmlkPXIuQVZDb21wb25lbnRVdGlscy5nZXRUaW1lc3RhbXAoKX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkQ2FudmFzPWZ1bmN0aW9uKHQpe3RoaXMuY2FudmFzZXMucHVzaChqUXVlcnkuZXh0ZW5kKCEwLHt9LHQpKX0sdC5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1bXTtyZXR1cm4gdGhpcy5jYW52YXNlcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgYT1uLmdldENvbnRlbnQoKTthLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VGFyZ2V0KCk7ZSYmKGkuVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQoZSl8fCh0Ll9fanNvbmxkLnRhcmdldCs9XCIjdD0wLFwiK24uZ2V0RHVyYXRpb24oKSkpfSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRUYXJnZXQoKTtuJiYoZS5fX2pzb25sZC50YXJnZXQ9ci5BVkNvbXBvbmVudFV0aWxzLnJldGFyZ2V0VGVtcG9yYWxDb21wb25lbnQodC5jYW52YXNlcyxuKSl9KSksZS5wdXNoLmFwcGx5KGUsYSl9KSksZX0sdC5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgdD0wO3JldHVybiB0aGlzLmNhbnZhc2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0RHVyYXRpb24oKTtuJiYodCs9bil9KSksdH0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5sZW5ndGg/dGhpcy5jYW52YXNlc1swXS5nZXRXaWR0aCgpOjB9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc2VzLmxlbmd0aD90aGlzLmNhbnZhc2VzWzBdLmdldEhlaWdodCgpOjB9LHR9KCk7ZS5WaXJ0dWFsQ2FudmFzPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbih0LGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0W25dPWVbbl0pfSkodCxlKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWkodCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihuLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBuLl9sYXN0Vm9sdW1lPTEsbi5fZGF0YT17dm9sdW1lOjF9LG4uX2luaXQoKSxuLl9yZXNpemUoKSxufXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3QucHJvdG90eXBlLl9pbml0LmNhbGwodGhpcyksdGhpcy5fJGVsZW1lbnQ9JCh0aGlzLmVsKSx0aGlzLl8kdm9sdW1lTXV0ZT0kKCdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biB2b2x1bWUtbXV0ZVwiIHRpdGxlPVwiJyt0aGlzLm9wdGlvbnMuZGF0YS5jb250ZW50Lm11dGUrJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uIGF2LWljb24tbXV0ZSBvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RoaXMub3B0aW9ucy5kYXRhLmNvbnRlbnQubXV0ZStcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cIiksdGhpcy5fJHZvbHVtZVNsaWRlcj0kKCc8ZGl2IGNsYXNzPVwidm9sdW1lLXNsaWRlclwiPjwvZGl2PicpLHRoaXMuXyRlbGVtZW50LmFwcGVuZCh0aGlzLl8kdm9sdW1lTXV0ZSx0aGlzLl8kdm9sdW1lU2xpZGVyKTt2YXIgbj10aGlzO3JldHVybiB0aGlzLl8kdm9sdW1lTXV0ZS5vbihcInRvdWNoc3RhcnQgY2xpY2tcIiwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLDAhPT1lLl9kYXRhLnZvbHVtZT8oZS5fbGFzdFZvbHVtZT1lLl9kYXRhLnZvbHVtZSxlLl9kYXRhLnZvbHVtZT0wKTplLl9kYXRhLnZvbHVtZT1lLl9sYXN0Vm9sdW1lLGUuZmlyZShvLlZPTFVNRV9DSEFOR0VELGUuX2RhdGEudm9sdW1lKX0pKSx0aGlzLl8kdm9sdW1lU2xpZGVyLnNsaWRlcih7dmFsdWU6bi5fZGF0YS52b2x1bWUsc3RlcDouMSxvcmllbnRhdGlvbjpcImhvcml6b250YWxcIixyYW5nZTpcIm1pblwiLG1pbjowLG1heDoxLGFuaW1hdGU6ITEsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7fSxzbGlkZTpmdW5jdGlvbih0LGUpe24uX2RhdGEudm9sdW1lPWUudmFsdWUsMD09PW4uX2RhdGEudm9sdW1lJiYobi5fbGFzdFZvbHVtZT0wKSxuLmZpcmUoby5WT0xVTUVfQ0hBTkdFRCxuLl9kYXRhLnZvbHVtZSl9LHN0b3A6ZnVuY3Rpb24odCxlKXt9fSksITB9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0aGlzLl9kYXRhPU9iamVjdC5hc3NpZ24odGhpcy5fZGF0YSx0KSx0aGlzLl9yZW5kZXIoKX0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuX2RhdGEudm9sdW1lKWlmKHRoaXMuXyR2b2x1bWVTbGlkZXIuc2xpZGVyKHt2YWx1ZTp0aGlzLl9kYXRhLnZvbHVtZX0pLDA9PT10aGlzLl9kYXRhLnZvbHVtZSl7dmFyIHQ9dGhpcy5vcHRpb25zLmRhdGEuY29udGVudC51bm11dGU7dGhpcy5fJHZvbHVtZU11dGUucHJvcChcInRpdGxlXCIsdCksdGhpcy5fJHZvbHVtZU11dGUuZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJvblwiLFwib2ZmXCIpfWVsc2V7dD10aGlzLm9wdGlvbnMuZGF0YS5jb250ZW50Lm11dGU7dGhpcy5fJHZvbHVtZU11dGUucHJvcChcInRpdGxlXCIsdCksdGhpcy5fJHZvbHVtZU11dGUuZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJvZmZcIixcIm9uXCIpfX0sZS5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe30sZX0obigxKS5CYXNlQ29tcG9uZW50KTtlLkFWVm9sdW1lQ29udHJvbD1hO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5WT0xVTUVfQ0hBTkdFRD1cInZvbHVtZWNoYW5nZWRcIix0fSgpO2UuVm9sdW1lRXZlbnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9aSh0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oMSksbz1uKDApLHM9bigzKSxsPW4oNSksYz1uKDkpLHU9big2KSxoPW4oMikscD1uKDQpLGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5fY2FudmFzQ2xvY2tGcmVxdWVuY3k9MjUsbi5fY2FudmFzQ2xvY2tTdGFydERhdGU9MCxuLl9jYW52YXNDbG9ja1RpbWU9MCxuLl9jYW52YXNIZWlnaHQ9MCxuLl9jYW52YXNXaWR0aD0wLG4uX2RhdGE9bi5kYXRhKCksbi5faGlnaFByaW9yaXR5RnJlcXVlbmN5PTI1LG4uX2lzUGxheWluZz0hMSxuLl9pc1N0YWxsZWQ9ITEsbi5fbG93UHJpb3JpdHlGcmVxdWVuY3k9MjUwLG4uX21lZGlhU3luY01hcmdpblNlY3M9MSxuLl9yYW5nZVNwYW5QYWRkaW5nPS4yNSxuLl9yZWFkeU1lZGlhQ291bnQ9MCxuLl9zdGFsbFJlcXVlc3RlZEJ5PVtdLG4uX3dhc1BsYXlpbmc9ITEsbi5yYW5nZXM9W10sbi53YXZlZm9ybXM9W10sbi5pc09ubHlDYW52YXNJbnN0YW5jZT0hMSxuLl9zY2FsZVk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXgobi5fZGF0YS53YXZlZm9ybUJhcldpZHRoLHQqZS8yNTYpfSxuLl9kYXRhPW4ub3B0aW9ucy5kYXRhLG4uJHBsYXllckVsZW1lbnQ9JCgnPGRpdiBjbGFzcz1cInBsYXllclwiPjwvZGl2PicpLG59cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNvbnRlbnQmJnRoaXMuX2RhdGEuY2FudmFzKXt0aGlzLl8kaG92ZXJQcmV2aWV3VGVtcGxhdGU9JCgnPGRpdiBjbGFzcz1cImhvdmVyLXByZXZpZXdcIj48ZGl2IGNsYXNzPVwibGFiZWxcIj48L2Rpdj48ZGl2IGNsYXNzPVwicG9pbnRlclwiPjxzcGFuIGNsYXNzPVwiYXJyb3dcIj48L3NwYW4+PC9kaXY+PC9kaXY+JyksdGhpcy5fJGNhbnZhc0NvbnRhaW5lcj0kKCc8ZGl2IGNsYXNzPVwiY2FudmFzLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRvcHRpb25zQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJvcHRpb25zLWNvbnRhaW5lclwiPjwvZGl2PicpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJyYW5nZS10aW1lbGluZS1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXI9JCgnPGRpdiBjbGFzcz1cImNhbnZhcy10aW1lbGluZS1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kY2FudmFzSG92ZXJQcmV2aWV3PXRoaXMuXyRob3ZlclByZXZpZXdUZW1wbGF0ZS5jbG9uZSgpLHRoaXMuXyRjYW52YXNIb3ZlckhpZ2hsaWdodD0kKCc8ZGl2IGNsYXNzPVwiaG92ZXItaGlnaGxpZ2h0XCI+PC9kaXY+JyksdGhpcy5fJHJhbmdlSG92ZXJQcmV2aWV3PXRoaXMuXyRob3ZlclByZXZpZXdUZW1wbGF0ZS5jbG9uZSgpLHRoaXMuXyRyYW5nZUhvdmVySGlnaGxpZ2h0PSQoJzxkaXYgY2xhc3M9XCJob3Zlci1oaWdobGlnaHRcIj48L2Rpdj4nKSx0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQ9JCgnPGRpdiBjbGFzcz1cImR1cmF0aW9uLWhpZ2hsaWdodFwiPjwvZGl2PicpLHRoaXMuXyR0aW1lbGluZUl0ZW1Db250YWluZXI9JCgnPGRpdiBjbGFzcz1cInRpbWVsaW5lLWl0ZW0tY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5fJGNvbnRyb2xzQ29udGFpbmVyPSQoJzxkaXYgY2xhc3M9XCJjb250cm9scy1jb250YWluZXJcIj48L2Rpdj4nKSx0aGlzLl8kcHJldkJ1dHRvbj0kKCdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHRpdGxlPVwiJyt0aGlzLl9kYXRhLmNvbnRlbnQucHJldmlvdXMrJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhdi1pY29uIGF2LWljb24tcHJldmlvdXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0aGlzLl9kYXRhLmNvbnRlbnQucHJldmlvdXMrXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XCIpLHRoaXMuXyRwbGF5QnV0dG9uPSQoJ1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ1dHRvbi1wbGF5XCIgdGl0bGU9XCInK3RoaXMuX2RhdGEuY29udGVudC5wbGF5KydcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiBhdi1pY29uLXBsYXkgcGxheVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nK3RoaXMuX2RhdGEuY29udGVudC5wbGF5K1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlwiKSx0aGlzLl8kbmV4dEJ1dHRvbj0kKCdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHRpdGxlPVwiJyt0aGlzLl9kYXRhLmNvbnRlbnQubmV4dCsnXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImF2LWljb24gYXYtaWNvbi1uZXh0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGhpcy5fZGF0YS5jb250ZW50Lm5leHQrXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XCIpLHRoaXMuXyR0aW1lRGlzcGxheT0kKCc8ZGl2IGNsYXNzPVwidGltZS1kaXNwbGF5XCI+PHNwYW4gY2xhc3M9XCJjYW52YXMtdGltZVwiPjwvc3Bhbj4gLyA8c3BhbiBjbGFzcz1cImNhbnZhcy1kdXJhdGlvblwiPjwvc3Bhbj48L2Rpdj4nKSx0aGlzLl8kY2FudmFzVGltZT10aGlzLl8kdGltZURpc3BsYXkuZmluZChcIi5jYW52YXMtdGltZVwiKSx0aGlzLl8kY2FudmFzRHVyYXRpb249dGhpcy5fJHRpbWVEaXNwbGF5LmZpbmQoXCIuY2FudmFzLWR1cmF0aW9uXCIpLHRoaXMuXyRjYW52YXNMb2FkaW5nUHJvZ3Jlc3M9JCgnPGRpdiBjbGFzcz1cImxvYWRpbmctcHJvZ3Jlc3NcIj48L2Rpdj4nKSx0aGlzLl8kZnVsbHNjcmVlbkJ1dHRvbj0kKCdcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnV0dG9uLWZ1bGxzY3JlZW5cIiB0aXRsZT1cIicrdGhpcy5fZGF0YS5jb250ZW50LmZ1bGxzY3JlZW4rJ1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYXYtaWNvbiBhdi1pY29uLWZ1bGxzY3JlZW5cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+Jyt0aGlzLl9kYXRhLmNvbnRlbnQuZnVsbHNjcmVlbitcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XCIpLHRoaXMuaXNWaXJ0dWFsKCkmJnRoaXMuJHBsYXllckVsZW1lbnQuYWRkQ2xhc3MoXCJ2aXJ0dWFsXCIpO3ZhciBlPSQoJzxkaXYgY2xhc3M9XCJ2b2x1bWVcIj48L2Rpdj4nKTtpZih0aGlzLl92b2x1bWU9bmV3IHUuQVZWb2x1bWVDb250cm9sKHt0YXJnZXQ6ZVswXSxkYXRhOk9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGF0YSl9KSx0aGlzLl92b2x1bWUub24odS5Wb2x1bWVFdmVudHMuVk9MVU1FX0NIQU5HRUQsKGZ1bmN0aW9uKGUpe3QuZmlyZSh1LlZvbHVtZUV2ZW50cy5WT0xVTUVfQ0hBTkdFRCxlKX0pLCExKSx0aGlzLl8kY29udHJvbHNDb250YWluZXIuYXBwZW5kKHRoaXMuXyRwcmV2QnV0dG9uLHRoaXMuXyRwbGF5QnV0dG9uLHRoaXMuXyRuZXh0QnV0dG9uLHRoaXMuXyR0aW1lRGlzcGxheSx0aGlzLl8kZnVsbHNjcmVlbkJ1dHRvbixlKSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIuYXBwZW5kKHRoaXMuXyRjYW52YXNIb3ZlclByZXZpZXcsdGhpcy5fJGNhbnZhc0hvdmVySGlnaGxpZ2h0LHRoaXMuXyRkdXJhdGlvbkhpZ2hsaWdodCx0aGlzLl8kY2FudmFzTG9hZGluZ1Byb2dyZXNzKSx0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5hcHBlbmQodGhpcy5fJHJhbmdlSG92ZXJQcmV2aWV3LHRoaXMuXyRyYW5nZUhvdmVySGlnaGxpZ2h0KSx0aGlzLl8kb3B0aW9uc0NvbnRhaW5lci5hcHBlbmQodGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLHRoaXMuXyR0aW1lbGluZUl0ZW1Db250YWluZXIsdGhpcy5fJGNvbnRyb2xzQ29udGFpbmVyKSx0aGlzLiRwbGF5ZXJFbGVtZW50LmFwcGVuZCh0aGlzLl8kY2FudmFzQ29udGFpbmVyLHRoaXMuXyRvcHRpb25zQ29udGFpbmVyKSx0aGlzLl8kY2FudmFzSG92ZXJQcmV2aWV3LmhpZGUoKSx0aGlzLl8kcmFuZ2VIb3ZlclByZXZpZXcuaGlkZSgpLHRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuaGVscGVyJiZ0aGlzLl9kYXRhLmNhbnZhcyl7dmFyIG49W107dGhpcy5pc1ZpcnR1YWwoKT90aGlzLl9kYXRhLmNhbnZhcy5jYW52YXNlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih0Ll9kYXRhJiZ0Ll9kYXRhLmhlbHBlcil7dmFyIGk9dC5fZGF0YS5oZWxwZXIuZ2V0Q2FudmFzUmFuZ2VzKGUpLHI9W107aS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1qUXVlcnkuZXh0ZW5kKCEwLHt9LGUpO2lmKHIucHVzaChuKSxuLmNhbnZhc2VzJiZuLmNhbnZhc2VzLmxlbmd0aClmb3IodmFyIGk9MDtpPG4uY2FudmFzZXMubGVuZ3RoO2krKyluLmNhbnZhc2VzW2ldPWguQVZDb21wb25lbnRVdGlscy5yZXRhcmdldFRlbXBvcmFsQ29tcG9uZW50KHQuX2RhdGEuY2FudmFzLmNhbnZhc2VzLG4uX19qc29ubGQuaXRlbXNbaV0uaWQpfSkpLG4ucHVzaC5hcHBseShuLHIpfX0pKTpuPW4uY29uY2F0KHRoaXMuX2RhdGEuaGVscGVyLmdldENhbnZhc1Jhbmdlcyh0aGlzLl9kYXRhLmNhbnZhcykpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5yYW5nZXMucHVzaChlKX0pKX12YXIgaT10aGlzLl9kYXRhLmNhbnZhcy5nZXRXaWR0aCgpLHI9dGhpcy5fZGF0YS5jYW52YXMuZ2V0SGVpZ2h0KCk7dGhpcy5fY2FudmFzV2lkdGg9aXx8dGhpcy4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLHRoaXMuX2NhbnZhc0hlaWdodD1yfHx0aGlzLl9jYW52YXNXaWR0aCp0aGlzLl9kYXRhLmRlZmF1bHRBc3BlY3RSYXRpbzt2YXIgYT10aGlzLGw9MCxjPTA7dGhpcy5fJHByZXZCdXR0b24ub24oXCJ0b3VjaHN0YXJ0IGNsaWNrXCIsKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSwxPT09KytsPyh0Ll9wcmV2aW91cyghMSksYz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2w9MCxjPTB9KSx0Ll9kYXRhLmRvdWJsZUNsaWNrTVMpKToodC5fcHJldmlvdXMoITApLGNsZWFyVGltZW91dChjKSxsPTAsYz0wKX0pKSx0aGlzLl8kcGxheUJ1dHRvbi5vbihcInRvdWNoc3RhcnQgY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuX2lzUGxheWluZz90LnBhdXNlKCk6dC5wbGF5KCl9KSksdGhpcy5fJG5leHRCdXR0b24ub24oXCJ0b3VjaHN0YXJ0IGNsaWNrXCIsKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0Ll9uZXh0KCl9KSksdGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLnNsaWRlcih7dmFsdWU6MCxzdGVwOi4wMSxvcmllbnRhdGlvbjpcImhvcml6b250YWxcIixyYW5nZTpcIm1pblwiLG1heDphLl9nZXREdXJhdGlvbigpLGFuaW1hdGU6ITEsY3JlYXRlOmZ1bmN0aW9uKHQsZSl7fSxzbGlkZTpmdW5jdGlvbih0LGUpe2EuX3NldEN1cnJlbnRUaW1lKGUudmFsdWUpfSxzdG9wOmZ1bmN0aW9uKHQsZSl7fX0pLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5tb3VzZW91dCgoZnVuY3Rpb24oKXthLl8kY2FudmFzSG92ZXJIaWdobGlnaHQud2lkdGgoMCksYS5fJGNhbnZhc0hvdmVyUHJldmlldy5oaWRlKCl9KSksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIubW91c2VvdXQoKGZ1bmN0aW9uKCl7YS5fJHJhbmdlSG92ZXJIaWdobGlnaHQud2lkdGgoMCksYS5fJHJhbmdlSG92ZXJQcmV2aWV3LmhpZGUoKX0pKSx0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIub24oXCJtb3VzZW1vdmVcIiwoZnVuY3Rpb24oZSl7dC5fdXBkYXRlSG92ZXJQcmV2aWV3KGUsdC5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLHQuX2dldER1cmF0aW9uKCkpfSkpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLm9uKFwibW91c2Vtb3ZlXCIsKGZ1bmN0aW9uKGUpe2lmKHQuX2RhdGEucmFuZ2Upe3ZhciBuPXQuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKTt0Ll91cGRhdGVIb3ZlclByZXZpZXcoZSx0Ll8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lcixuP24uZ2V0TGVuZ3RoKCk6MCl9fSkpLHRoaXMuXyRmdWxsc2NyZWVuQnV0dG9uWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49ZG9jdW1lbnQ7aWYobi5mdWxsc2NyZWVuRWxlbWVudHx8bi5tb3pGdWxsU2NyZWVuRWxlbWVudHx8bi53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8bi5tc0Z1bGxzY3JlZW5FbGVtZW50KXQuZmlyZShzLkV2ZW50cy5GVUxMU0NSRUVOLFwib2ZmXCIpLG4uZXhpdEZ1bGxzY3JlZW4/bi5leGl0RnVsbHNjcmVlbigpOm4ubXNFeGl0RnVsbHNjcmVlbj9uLm1zRXhpdEZ1bGxzY3JlZW4oKTpuLm1vekNhbmNlbEZ1bGxTY3JlZW4/bi5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6bi53ZWJraXRFeGl0RnVsbHNjcmVlbiYmbi53ZWJraXRFeGl0RnVsbHNjcmVlbigpO2Vsc2V7dmFyIGk9dC4kcGxheWVyRWxlbWVudC5nZXQoMCk7dC5maXJlKHMuRXZlbnRzLkZVTExTQ1JFRU4sXCJvblwiKSxpLnJlcXVlc3RGdWxsc2NyZWVuP2kucmVxdWVzdEZ1bGxzY3JlZW4oKTppLm1zUmVxdWVzdEZ1bGxzY3JlZW4/aS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6aS5tb3pSZXF1ZXN0RnVsbFNjcmVlbj9pLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6aS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmaS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpfX0pLCExKSx0aGlzLl9jb250ZW50QW5ub3RhdGlvbnM9W107dmFyIHA9dGhpcy5fZGF0YS5jYW52YXMuZ2V0Q29udGVudCgpO3RoaXMuXyR0aW1lbGluZUl0ZW1Db250YWluZXIuaGlkZSgpO2Zvcih2YXIgZj0wO2Y8cC5sZW5ndGg7ZisrKXt2YXIgXz1wW2ZdLGQ9dm9pZCAwLHY9Xy5nZXRCb2R5KCk7aWYoIXYubGVuZ3RoKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIml0ZW0gaGFzIG5vIGJvZHlcIik7dmFyIGc9dGhpcy5fZ2V0Qm9keSh2KTtpZihnKXt2YXIgRT1nLmdldFR5cGUoKSxtPWcuZ2V0Rm9ybWF0KCk7RSYmXCJ0ZXh0dWFsYm9keVwiPT09RS50b1N0cmluZygpfHwoZD1nLmlkLnNwbGl0KFwiI1wiKVswXSk7dmFyIHk9Xy5nZXRUYXJnZXQoKTtpZigheSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJpdGVtIGhhcyBubyB0YXJnZXRcIik7dmFyIEk9aC5BVkNvbXBvbmVudFV0aWxzLmdldFNwYXRpYWxDb21wb25lbnQoeSksQz1vLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KHkpO0l8fChJPVswLDAsdGhpcy5fY2FudmFzV2lkdGgsdGhpcy5fY2FudmFzSGVpZ2h0XSksQ3x8KEM9WzAsdGhpcy5fZ2V0RHVyYXRpb24oKV0pO3ZhciBUPXBhcnNlSW50KFN0cmluZyhJWzBdKSksQT1wYXJzZUludChTdHJpbmcoSVsxXSkpLE89cGFyc2VJbnQoU3RyaW5nKElbMl0pKSxNPXBhcnNlSW50KFN0cmluZyhJWzNdKSksTD1wYXJzZUludChTdHJpbmcoQ1swXSkpLFA9cGFyc2VJbnQoU3RyaW5nKENbMV0pKSxSPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UoQSx0aGlzLl9jYW52YXNIZWlnaHQpLE49dGhpcy5fY29udmVydFRvUGVyY2VudGFnZShULHRoaXMuX2NhbnZhc1dpZHRoKSxTPXRoaXMuX2NvbnZlcnRUb1BlcmNlbnRhZ2UoTyx0aGlzLl9jYW52YXNXaWR0aCksYj10aGlzLl9jb252ZXJ0VG9QZXJjZW50YWdlKE0sdGhpcy5fY2FudmFzSGVpZ2h0KSx3PS9bXFw/fCZddD0oW14mXSspL2cuZXhlYyhnLmlkKSxEPXZvaWQgMCx4PShEPXcmJndbMV0/d1sxXS5zcGxpdChcIixcIik6W251bGwsbnVsbF0pWzBdP3BhcnNlSW50KERbMF0pOkRbMF0sVT17YWN0aXZlOiExLGVuZDpQLGVuZE9mZnNldDpEWzFdP3BhcnNlSW50KERbMV0pOkRbMV0sZm9ybWF0Om0saGVpZ2h0OmIsbGVmdDpOLHNvdXJjZTpkLHN0YXJ0Okwsc3RhcnRPZmZzZXQ6eCx0b3A6Uix0eXBlOkUsd2lkdGg6U307dGhpcy5fcmVuZGVyTWVkaWFFbGVtZW50KFUpO3ZhciBWPV8uZ2V0UHJvcGVydHkoXCJzZWVBbHNvXCIpO2lmKFYmJlYubGVuZ3RoKXt2YXIgRz1WWzBdLmlkO3RoaXMud2F2ZWZvcm1zLnB1c2goRyl9fWVsc2UgY29uc29sZS53YXJuKFwidW5hYmxlIHRvIGZpbmQgc3VpdGFibGUgZm9ybWF0IGZvclwiLF8uaWQpfXRoaXMuX3JlbmRlcldhdmVmb3JtKCl9ZWxzZSBjb25zb2xlLndhcm4oXCJ1bmFibGUgdG8gaW5pdGlhbGlzZSwgbWlzc2luZyBjYW52YXMgb3IgY29udGVudFwiKX0sZS5wcm90b3R5cGUuX2dldEJvZHk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe2lmKChpPShuPXRbZV0pLmdldEZvcm1hdCgpKSYmaC5BVkNvbXBvbmVudFV0aWxzLmlzSExTRm9ybWF0KGkpJiZoLkFWQ29tcG9uZW50VXRpbHMuY2FuUGxheUhscygpKXJldHVybiBufWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspe2lmKChpPShuPXRbZV0pLmdldEZvcm1hdCgpKSYmaC5BVkNvbXBvbmVudFV0aWxzLmlzTXBlZ0Rhc2hGb3JtYXQoaSkmJiFoLkFWQ29tcG9uZW50VXRpbHMuaXNTYWZhcmkoKSlyZXR1cm4gbn1mb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbixpO2lmKChpPShuPXRbZV0pLmdldEZvcm1hdCgpKSYmIWguQVZDb21wb25lbnRVdGlscy5pc0hMU0Zvcm1hdChpKSYmIWguQVZDb21wb25lbnRVdGlscy5pc01wZWdEYXNoRm9ybWF0KGkpKXJldHVybiBufXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jYW52YXM/dGhpcy5fZGF0YS5jYW52YXMuZ2V0RHVyYXRpb24oKTowfSxlLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJue3dhdmVmb3JtQ29sb3I6XCIjZmZmXCIsd2F2ZWZvcm1CYXJTcGFjaW5nOjQsd2F2ZWZvcm1CYXJXaWR0aDoyLHZvbHVtZToxfX0sZS5wcm90b3R5cGUuaXNWaXJ0dWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY2FudmFzIGluc3RhbmNlb2YgbC5WaXJ0dWFsQ2FudmFzfSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2RhdGEudmlzaWJsZX0sZS5wcm90b3R5cGUuaW5jbHVkZXNWaXJ0dWFsU3ViQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNWaXJ0dWFsKCkmJnRoaXMuX2RhdGEuY2FudmFzJiZ0aGlzLl9kYXRhLmNhbnZhcy5jYW52YXNlcylmb3IodmFyIGU9MDtlPHRoaXMuX2RhdGEuY2FudmFzLmNhbnZhc2VzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX2RhdGEuY2FudmFzLmNhbnZhc2VzW2VdO2lmKG8uVXRpbHMubm9ybWFsaXNlVXJsKG4uaWQpPT09dClyZXR1cm4hMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1PYmplY3QuYXNzaWduKHt9LHRoaXMuX2RhdGEpO3RoaXMuX2RhdGE9T2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLHQpO3ZhciBpPWguQVZDb21wb25lbnRVdGlscy5kaWZmKG4sdGhpcy5fZGF0YSk7aWYoaS5pbmNsdWRlcyhcInZpc2libGVcIikmJnRoaXMuX2RhdGEuY2FudmFzJiYodGhpcy5fZGF0YS52aXNpYmxlPyh0aGlzLl9yZXdpbmQoKSx0aGlzLiRwbGF5ZXJFbGVtZW50LnNob3coKSk6KHRoaXMuJHBsYXllckVsZW1lbnQuaGlkZSgpLHRoaXMucGF1c2UoKSksdGhpcy5yZXNpemUoKSksaS5pbmNsdWRlcyhcInJhbmdlXCIpJiZ0aGlzLl9kYXRhLmhlbHBlcilpZih0aGlzLl9kYXRhLnJhbmdlKXt2YXIgcj10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCk7ciYmKHRoaXMuX2RhdGEucmFuZ2UuYXV0b0NoYW5nZWR8fHRoaXMuX3NldEN1cnJlbnRUaW1lKHIuc3RhcnQpLHRoaXMuX2RhdGEuYXV0b1BsYXkmJnRoaXMucGxheSgpLHRoaXMuZmlyZShzLkV2ZW50cy5SQU5HRV9DSEFOR0VELHRoaXMuX2RhdGEucmFuZ2UuaWQpKX1lbHNlIHRoaXMuZmlyZShzLkV2ZW50cy5SQU5HRV9DSEFOR0VELG51bGwpO2kuaW5jbHVkZXMoXCJ2b2x1bWVcIik/dGhpcy5fY29udGVudEFubm90YXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXZvaWQgMCE9PWUuX2RhdGEudm9sdW1lP2UuX2RhdGEudm9sdW1lOjE7JCh0LmVsZW1lbnQpLnByb3AoXCJ2b2x1bWVcIixuKSxlLl92b2x1bWUuc2V0KHt2b2x1bWU6ZS5fZGF0YS52b2x1bWV9KX0pKTp0aGlzLl9yZW5kZXIoKSxpLmluY2x1ZGVzKFwibGltaXRUb1JhbmdlXCIpJiZ0aGlzLl9yZW5kZXIoKX0sZS5wcm90b3R5cGUuX2hhc1JhbmdlQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFJhbmdlRm9yQ3VycmVudFRpbWUoKTt0JiYhdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJighdGhpcy5fZGF0YS5yYW5nZXx8dGhpcy5fZGF0YS5yYW5nZSYmdC5pZCE9PXRoaXMuX2RhdGEucmFuZ2UuaWQpJiZ0aGlzLnNldCh7cmFuZ2U6alF1ZXJ5LmV4dGVuZCghMCx7YXV0b0NoYW5nZWQ6ITB9LHQpfSl9LGUucHJvdG90eXBlLl9nZXRSYW5nZUZvckN1cnJlbnRUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlO2U9dD90LmdldFJhbmdlcygpOnRoaXMucmFuZ2VzO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lmKHRoaXMuX3JhbmdlU3BhbnNDdXJyZW50VGltZShpKSl7aWYodGhpcy5fcmFuZ2VOYXZpZ2FibGUoaSkpcmV0dXJuIGk7Zm9yKHZhciByPWkuZ2V0UmFuZ2VzKCksYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbz1yW2FdO2lmKHRoaXMuX3JhbmdlU3BhbnNDdXJyZW50VGltZShvKSlyZXR1cm4gdGhpcy5fZ2V0UmFuZ2VGb3JDdXJyZW50VGltZShvKX1yZXR1cm4gaS5wYXJlbnRSYW5nZX19fSxlLnByb3RvdHlwZS5fcmFuZ2VTcGFuc0N1cnJlbnRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiEhdC5zcGFuc1RpbWUoTWF0aC5jZWlsKHRoaXMuX2NhbnZhc0Nsb2NrVGltZSkrdGhpcy5fcmFuZ2VTcGFuUGFkZGluZyl9LGUucHJvdG90eXBlLl9yYW5nZU5hdmlnYWJsZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldEJlaGF2aW9yKCk7cmV0dXJuIWV8fGUudG9TdHJpbmcoKSE9PXAuQmVoYXZpb3IuTk9fTkFWfSxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YS5yYW5nZSl7dmFyIHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpO2lmKHQpe3ZhciBlPXRoaXMuX2dldER1cmF0aW9uKCksbj10aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIud2lkdGgoKS9lLGk9dC5zdGFydCpuLHI9dC5lbmQqbjsocj5lfHxyPGkpJiYocj1lKTt2YXIgYT1yLWk7dGhpcy5pc1ZpcnR1YWwoKXx8dGhpcy5pc09ubHlDYW52YXNJbnN0YW5jZT8odGhpcy5fJGR1cmF0aW9uSGlnaGxpZ2h0LnNob3coKSx0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQuY3NzKHtsZWZ0Omksd2lkdGg6YX0pKTp0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQuaGlkZSgpO3ZhciBvPXRoaXM7dGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuZGF0YShcInVpLXNvcnRhYmxlXCIpJiZ0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5zbGlkZXIoXCJkZXN0cm95XCIpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLnNsaWRlcih7dmFsdWU6dC5zdGFydCxzdGVwOi4wMSxvcmllbnRhdGlvbjpcImhvcml6b250YWxcIixyYW5nZTpcIm1pblwiLG1pbjp0LnN0YXJ0LG1heDp0LmVuZCxhbmltYXRlOiExLGNyZWF0ZTpmdW5jdGlvbih0LGUpe30sc2xpZGU6ZnVuY3Rpb24odCxlKXtvLl9zZXRDdXJyZW50VGltZShlLnZhbHVlKX0sc3RvcDpmdW5jdGlvbih0LGUpe319KX19ZWxzZSB0aGlzLl8kZHVyYXRpb25IaWdobGlnaHQuaGlkZSgpO3RoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0aGlzLl9kYXRhLnJhbmdlPyh0aGlzLl8kY2FudmFzVGltZWxpbmVDb250YWluZXIuaGlkZSgpLHRoaXMuXyRyYW5nZVRpbWVsaW5lQ29udGFpbmVyLnNob3coKSk6KHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5zaG93KCksdGhpcy5fJHJhbmdlVGltZWxpbmVDb250YWluZXIuaGlkZSgpKSx0aGlzLl91cGRhdGVDdXJyZW50VGltZURpc3BsYXkoKSx0aGlzLl91cGRhdGVEdXJhdGlvbkRpc3BsYXkoKSx0aGlzLl9kcmF3V2F2ZWZvcm0oKX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzSWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmNhbnZhcylyZXR1cm4gdGhpcy5fZGF0YS5jYW52YXMuaWR9LGUucHJvdG90eXBlLl91cGRhdGVIb3ZlclByZXZpZXc9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUub2Zmc2V0KCkscj10LnBhZ2VYLWkubGVmdCxhPWUuZmluZChcIi5hcnJvd1wiKSxvPWUuZmluZChcIi5ob3Zlci1oaWdobGlnaHRcIikscz1lLmZpbmQoXCIuaG92ZXItcHJldmlld1wiKTtvLndpZHRoKHIpO3ZhciBsPWUud2lkdGgoKSxjPXIvbCx1PU1hdGgubWluKG4qYyk7cy5maW5kKFwiLmxhYmVsXCIpLnRleHQoaC5BVkNvbXBvbmVudFV0aWxzLmZvcm1hdFRpbWUodSkpO3ZhciBwPXMub3V0ZXJXaWR0aCgpLGY9cy5vdXRlckhlaWdodCgpLF89ci0uNSpwLGQ9LjUqcC02O188MCYmKF89MCxkPXItNiksXytwPmwmJihfPWwtcCxkPXAtKGwtciktNikscy5jc3Moe2xlZnQ6Xyx0b3A6LTEqZitcInB4XCJ9KS5zaG93KCksYS5jc3Moe2xlZnQ6ZH0pfSxlLnByb3RvdHlwZS5fcHJldmlvdXM9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YS5saW1pdFRvUmFuZ2U/dD90aGlzLl9pc05hdmlnYXRpb25Db25zdHJhaW5lZFRvUmFuZ2UoKT90aGlzLl9yZXdpbmQoKTp0aGlzLmZpcmUoXy5QUkVWSU9VU19SQU5HRSk6dGhpcy5fcmV3aW5kKCk6dGhpcy5fZGF0YS5yYW5nZT90Pyh0aGlzLnNldCh7cmFuZ2U6dm9pZCAwfSksdGhpcy5fcmV3aW5kKCkpOnRoaXMuZmlyZShfLlBSRVZJT1VTX1JBTkdFKTp0aGlzLl9yZXdpbmQoKX0sZS5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdGhpcy5faXNOYXZpZ2F0aW9uQ29uc3RyYWluZWRUb1JhbmdlKCk/dGhpcy5fZmFzdGZvcndhcmQoKTp0aGlzLmZpcmUoXy5ORVhUX1JBTkdFKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2hpZ2hQcmlvcml0eUludGVydmFsKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb3dQcmlvcml0eUludGVydmFsKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9jYW52YXNDbG9ja0ludGVydmFsKX0sZS5wcm90b3R5cGUuX2NvbnZlcnRUb1BlcmNlbnRhZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC9lKjEwMH0sZS5wcm90b3R5cGUuX3JlbmRlck1lZGlhRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7c3dpdGNoKHQudHlwZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInZpZGVvXCI6ZT0kKCc8dmlkZW8gY2xhc3M9XCJhbm5vXCIgLz4nKTticmVhaztjYXNlXCJzb3VuZFwiOmNhc2VcImF1ZGlvXCI6ZT0kKCc8YXVkaW8gY2xhc3M9XCJhbm5vXCIgLz4nKTticmVhaztkZWZhdWx0OnJldHVybn12YXIgaT1lWzBdO2lmKHQuZm9ybWF0JiZcImFwcGxpY2F0aW9uL2Rhc2greG1sXCI9PT10LmZvcm1hdC50b1N0cmluZygpKXtlLmF0dHIoXCJkYXRhLWRhc2hqcy1wbGF5ZXJcIixcIlwiKTt2YXIgcj1kYXNoanMuTWVkaWFQbGF5ZXIoKS5jcmVhdGUoKTtyLmdldERlYnVnKCkuc2V0TG9nVG9Ccm93c2VyQ29uc29sZSghMSksdGhpcy5fZGF0YS5hZGFwdGl2ZUF1dGhFbmFibGVkJiZyLnNldFhIUldpdGhDcmVkZW50aWFsc0ZvclR5cGUoXCJNUERcIiwhMCksci5pbml0aWFsaXplKGksdC5zb3VyY2UpfWVsc2UgaWYodC5mb3JtYXQmJlwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIj09PXQuZm9ybWF0LnRvU3RyaW5nKCkpaWYoSGxzLmlzU3VwcG9ydGVkKCkpe3ZhciBhPW5ldyBIbHM7YT10aGlzLl9kYXRhLmFkYXB0aXZlQXV0aEVuYWJsZWQ/bmV3IEhscyh7eGhyU2V0dXA6ZnVuY3Rpb24odCl7dC53aXRoQ3JlZGVudGlhbHM9ITB9fSk6bmV3IEhscyx0aGlzLl9kYXRhLmFkYXB0aXZlQXV0aEVuYWJsZWQsYS5sb2FkU291cmNlKHQuc291cmNlKSxhLmF0dGFjaE1lZGlhKGkpfWVsc2UgaS5jYW5QbGF5VHlwZShcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIpJiYoaS5zcmM9dC5zb3VyY2UpO2Vsc2UgZS5hdHRyKFwic3JjXCIsdC5zb3VyY2UpO2UuY3NzKHt0b3A6dC50b3ArXCIlXCIsbGVmdDp0LmxlZnQrXCIlXCIsd2lkdGg6dC53aWR0aCtcIiVcIixoZWlnaHQ6dC5oZWlnaHQrXCIlXCJ9KS5oaWRlKCksdC5lbGVtZW50PWUsdC50aW1lb3V0PW51bGw7dmFyIG89dGhpczt0LmNoZWNrRm9yU3RhbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYWN0aXZlPyhvLl9jaGVja01lZGlhU3luY2hyb25pemF0aW9uKCksdGhpcy5lbGVtZW50LmdldCgwKS5yZWFkeVN0YXRlPjAmJiF0aGlzLm91dE9mU3luYz9vLl9wbGF5YmFja1N0YWxsZWQoITEsdCk6KG8uX3BsYXliYWNrU3RhbGxlZCghMCx0KSx0aGlzLnRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KSx0aGlzLnRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jaGVja0ZvclN0YWxsKCl9KSwxZTMpKSk6by5fcGxheWJhY2tTdGFsbGVkKCExLHQpfSx0aGlzLl9jb250ZW50QW5ub3RhdGlvbnMucHVzaCh0KSx0aGlzLiRwbGF5ZXJFbGVtZW50JiZ0aGlzLl8kY2FudmFzQ29udGFpbmVyLmFwcGVuZChlKSxlLm9uKFwibG9hZHN0YXJ0XCIsKGZ1bmN0aW9uKCl7fSkpLGUub24oXCJ3YWl0aW5nXCIsKGZ1bmN0aW9uKCl7fSkpLGUub24oXCJzZWVraW5nXCIsKGZ1bmN0aW9uKCl7fSkpLGUub24oXCJsb2FkZWRtZXRhZGF0YVwiLChmdW5jdGlvbigpe24uX3JlYWR5TWVkaWFDb3VudCsrLG4uX3JlYWR5TWVkaWFDb3VudD09PW4uX2NvbnRlbnRBbm5vdGF0aW9ucy5sZW5ndGgmJihuLl9zZXRDdXJyZW50VGltZSgwKSxuLl9kYXRhLmF1dG9QbGF5JiZuLnBsYXkoKSxuLl91cGRhdGVEdXJhdGlvbkRpc3BsYXkoKSxuLmZpcmUocy5FdmVudHMuTUVESUFfUkVBRFkpKX0pKSxlLm9uKFwicHJvZ3Jlc3NcIiwoZnVuY3Rpb24oKXtpZihpLmJ1ZmZlcmVkLmxlbmd0aD4wKXt2YXIgdD1pLmR1cmF0aW9uLGU9aS5idWZmZXJlZC5lbmQoaS5idWZmZXJlZC5sZW5ndGgtMSk7dD4wJiZuLl8kb3B0aW9uc0NvbnRhaW5lci5maW5kKFwiLmxvYWRpbmctcHJvZ3Jlc3NcIikud2lkdGgoZS90KjEwMCtcIiVcIil9fSkpLGUuYXR0cihcInByZWxvYWRcIixcImF1dG9cIiksZS5nZXQoMCkubG9hZCgpLHRoaXMuX3JlbmRlclN5bmNJbmRpY2F0b3IodCl9LGUucHJvdG90eXBlLl9nZXRXYXZlZm9ybURhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4peyQuYWpheCh7dXJsOnQsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwiYmluYXJ5XCIscmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIixwcm9jZXNzRGF0YTohMX0pLmRvbmUoKGZ1bmN0aW9uKHQpe2UoV2F2ZWZvcm1EYXRhLmNyZWF0ZSh0KSl9KSkuZmFpbCgoZnVuY3Rpb24odCl7bihuZXcgRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0pKX0pKX0sZS5wcm90b3R5cGUuX3JlbmRlcldhdmVmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLndhdmVmb3Jtcy5sZW5ndGgpe3ZhciBlPXRoaXMud2F2ZWZvcm1zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2dldFdhdmVmb3JtRGF0YShlKX0pKTtQcm9taXNlLmFsbChlKS50aGVuKChmdW5jdGlvbihlKXt0Ll93YXZlZm9ybUNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHQuX3dhdmVmb3JtQ2FudmFzLmNsYXNzTGlzdC5hZGQoXCJ3YXZlZm9ybVwiKSx0Ll8kY2FudmFzQ29udGFpbmVyLmFwcGVuZCh0Ll93YXZlZm9ybUNhbnZhcyksdC5fd2F2ZWZvcm1DdHg9dC5fd2F2ZWZvcm1DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHQuX3dhdmVmb3JtQ3R4JiYodC5fd2F2ZWZvcm1DdHguZmlsbFN0eWxlPXQuX2RhdGEud2F2ZWZvcm1Db2xvcix0Ll9jb21wb3NpdGVXYXZlZm9ybT1uZXcgYy5Db21wb3NpdGVXYXZlZm9ybShlKSx0LmZpcmUocy5FdmVudHMuV0FWRUZPUk1fUkVBRFkpKX0pKX19LGUucHJvdG90eXBlLl9kcmF3V2F2ZWZvcm09ZnVuY3Rpb24oKXtpZih0aGlzLl93YXZlZm9ybUN0eCl7dmFyIHQsZT0wLG49dGhpcy5fY29tcG9zaXRlV2F2ZWZvcm0uZHVyYXRpb247dGhpcy5fZGF0YS5yYW5nZSYmKHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdCYmKGU9dC5zdGFydCxuPXQuZW5kKTt2YXIgaT1lKnRoaXMuX2NvbXBvc2l0ZVdhdmVmb3JtLnBpeGVsc1BlclNlY29uZCxyPW4qdGhpcy5fY29tcG9zaXRlV2F2ZWZvcm0ucGl4ZWxzUGVyU2Vjb25kLGE9dGhpcy5fd2F2ZWZvcm1DdHguY2FudmFzLndpZHRoLG89dGhpcy5fd2F2ZWZvcm1DdHguY2FudmFzLmhlaWdodCxzPXRoaXMuX2RhdGEud2F2ZWZvcm1CYXJTcGFjaW5nLGw9dGhpcy5fZGF0YS53YXZlZm9ybUJhcldpZHRoLGM9TWF0aC5mbG9vcigoci1pKS9hKnMpLHU9YS9zO3RoaXMuX3dhdmVmb3JtQ3R4LmNsZWFyUmVjdCgwLDAsYSxvKSx0aGlzLl93YXZlZm9ybUN0eC5maWxsU3R5bGU9dGhpcy5fZGF0YS53YXZlZm9ybUNvbG9yO2Zvcih2YXIgcD1pO3A8cjtwKz1jKXt2YXIgZj10aGlzLl9nZXRXYXZlZm9ybU1heEFuZE1pbih0aGlzLl9jb21wb3NpdGVXYXZlZm9ybSxwLHUpLF89dGhpcy5fc2NhbGVZKGYubWF4LWYubWluLG8pLGQ9KG8tXykvMix2PWEqaC5BVkNvbXBvbmVudFV0aWxzLm5vcm1hbGlzZShwLGkscik7dGhpcy5fd2F2ZWZvcm1DdHguZmlsbFJlY3QodixkLGwsXyl9fX0sZS5wcm90b3R5cGUuX2dldFdhdmVmb3JtTWF4QW5kTWluPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9LTEyNyxyPTEyOCxhPWU7YTxlK247YSsrKXQubWF4KGEpPmkmJihpPXQubWF4KGEpKSx0Lm1pbihhKTxyJiYocj10Lm1pbihhKSk7cmV0dXJue21heDppLG1pbjpyfX0sZS5wcm90b3R5cGUuX3VwZGF0ZUN1cnJlbnRUaW1lRGlzcGxheT1mdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuX2RhdGEucmFuZ2UmJih0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnQpe3ZhciBlPXRoaXMuX2NhbnZhc0Nsb2NrVGltZS10LnN0YXJ0O3RoaXMuXyRjYW52YXNUaW1lLnRleHQoaC5BVkNvbXBvbmVudFV0aWxzLmZvcm1hdFRpbWUoZSkpfWVsc2UgdGhpcy5fJGNhbnZhc1RpbWUudGV4dChoLkFWQ29tcG9uZW50VXRpbHMuZm9ybWF0VGltZSh0aGlzLl9jYW52YXNDbG9ja1RpbWUpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUR1cmF0aW9uRGlzcGxheT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuX2RhdGEucmFuZ2UmJih0PXRoaXMuX2RhdGEucmFuZ2UuZ2V0RHVyYXRpb24oKSksdGhpcy5fZGF0YS5saW1pdFRvUmFuZ2UmJnQ/dGhpcy5fJGNhbnZhc0R1cmF0aW9uLnRleHQoaC5BVkNvbXBvbmVudFV0aWxzLmZvcm1hdFRpbWUodC5nZXRMZW5ndGgoKSkpOnRoaXMuXyRjYW52YXNEdXJhdGlvbi50ZXh0KGguQVZDb21wb25lbnRVdGlscy5mb3JtYXRUaW1lKHRoaXMuX2dldER1cmF0aW9uKCkpKX0sZS5wcm90b3R5cGUuX3JlbmRlclN5bmNJbmRpY2F0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udmVydFRvUGVyY2VudGFnZSh0LnN0YXJ0LHRoaXMuX2dldER1cmF0aW9uKCkpLG49dGhpcy5fY29udmVydFRvUGVyY2VudGFnZSh0LmVuZC10LnN0YXJ0LHRoaXMuX2dldER1cmF0aW9uKCkpLGk9JCgnPGRpdiBjbGFzcz1cInRpbWVsaW5lLWl0ZW1cIiB0aXRsZT1cIicrdC5zb3VyY2UrJ1wiIGRhdGEtc3RhcnQ9XCInK3Quc3RhcnQrJ1wiIGRhdGEtZW5kPVwiJyt0LmVuZCsnXCI+PC9kaXY+Jyk7aS5jc3Moe2xlZnQ6ZStcIiVcIix3aWR0aDpuK1wiJVwifSk7dmFyIHI9JCgnPGRpdiBjbGFzcz1cImxpbmUtd3JhcHBlclwiPjwvZGl2PicpO2kuYXBwZW5kVG8ociksdC50aW1lbGluZUVsZW1lbnQ9aSx0aGlzLiRwbGF5ZXJFbGVtZW50JiZ0aGlzLl8kdGltZWxpbmVJdGVtQ29udGFpbmVyLmFwcGVuZChyKX0sZS5wcm90b3R5cGUuX3NldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKHQpe3RoaXMuX2NhbnZhc0Nsb2NrVGltZT10LHRoaXMuX2NhbnZhc0Nsb2NrU3RhcnREYXRlPURhdGUubm93KCktMWUzKnRoaXMuX2NhbnZhc0Nsb2NrVGltZSx0aGlzLmxvZ01lc3NhZ2UoXCJTRVQgQ1VSUkVOVCBUSU1FIHRvOiBcIit0aGlzLl9jYW52YXNDbG9ja1RpbWUrXCIgc2Vjb25kcy5cIiksdGhpcy5fY2FudmFzQ2xvY2tVcGRhdGVyKCksdGhpcy5faGlnaFByaW9yaXR5VXBkYXRlcigpLHRoaXMuX2xvd1ByaW9yaXR5VXBkYXRlcigpLHRoaXMuX3N5bmNocm9uaXplTWVkaWEoKX0sZS5wcm90b3R5cGUuX3Jld2luZD1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLnBhdXNlKCksdGhpcy5fZGF0YS5yYW5nZSYmKGU9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmZT90aGlzLl9jYW52YXNDbG9ja1RpbWU9ZS5zdGFydDp0aGlzLl9jYW52YXNDbG9ja1RpbWU9MCx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZXx8dGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5oZWxwZXImJnRoaXMuc2V0KHtyYW5nZTp2b2lkIDB9KX0sZS5wcm90b3R5cGUuX2Zhc3Rmb3J3YXJkPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fZGF0YS5yYW5nZSYmKHQ9dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmdD90aGlzLl9jYW52YXNDbG9ja1RpbWU9dC5lbmQ6dGhpcy5fY2FudmFzQ2xvY2tUaW1lPXRoaXMuX2dldER1cmF0aW9uKCksdGhpcy5wYXVzZSgpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX2lzUGxheWluZyl7dmFyIG47dGhpcy5fZGF0YS5yYW5nZSYmKG49dGhpcy5fZGF0YS5yYW5nZS5nZXREdXJhdGlvbigpKSx0aGlzLl9kYXRhLmxpbWl0VG9SYW5nZSYmbiYmdGhpcy5fY2FudmFzQ2xvY2tUaW1lPj1uLmVuZCYmKHRoaXMuX2NhbnZhc0Nsb2NrVGltZT1uLnN0YXJ0KSx0aGlzLl9jYW52YXNDbG9ja1RpbWU9PT10aGlzLl9nZXREdXJhdGlvbigpJiYodGhpcy5fY2FudmFzQ2xvY2tUaW1lPTApLHRoaXMuX2NhbnZhc0Nsb2NrU3RhcnREYXRlPURhdGUubm93KCktMWUzKnRoaXMuX2NhbnZhc0Nsb2NrVGltZSx0aGlzLl9oaWdoUHJpb3JpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5faGlnaFByaW9yaXR5VXBkYXRlcigpfSksdGhpcy5faGlnaFByaW9yaXR5RnJlcXVlbmN5KSx0aGlzLl9sb3dQcmlvcml0eUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLl9sb3dQcmlvcml0eVVwZGF0ZXIoKX0pLHRoaXMuX2xvd1ByaW9yaXR5RnJlcXVlbmN5KSx0aGlzLl9jYW52YXNDbG9ja0ludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLl9jYW52YXNDbG9ja1VwZGF0ZXIoKX0pLHRoaXMuX2NhbnZhc0Nsb2NrRnJlcXVlbmN5KSx0aGlzLl9pc1BsYXlpbmc9ITAsdHx8dGhpcy5fc3luY2hyb25pemVNZWRpYSgpO3ZhciBpPXRoaXMuX2RhdGEmJnRoaXMuX2RhdGEuY29udGVudD90aGlzLl9kYXRhLmNvbnRlbnQucGF1c2U6XCJcIjt0aGlzLl8kcGxheUJ1dHRvbi5wcm9wKFwidGl0bGVcIixpKSx0aGlzLl8kcGxheUJ1dHRvbi5maW5kKFwiaVwiKS5zd2l0Y2hDbGFzcyhcInBsYXlcIixcInBhdXNlXCIpLHRoaXMuZmlyZShfLlBMQVlDQU5WQVMpLHRoaXMubG9nTWVzc2FnZShcIlBMQVkgY2FudmFzXCIpfX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5faGlnaFByaW9yaXR5SW50ZXJ2YWwpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2xvd1ByaW9yaXR5SW50ZXJ2YWwpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2NhbnZhc0Nsb2NrSW50ZXJ2YWwpLHRoaXMuX2lzUGxheWluZz0hMSx0fHwodGhpcy5faGlnaFByaW9yaXR5VXBkYXRlcigpLHRoaXMuX2xvd1ByaW9yaXR5VXBkYXRlcigpLHRoaXMuX3N5bmNocm9uaXplTWVkaWEoKSk7dmFyIGU9dGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jb250ZW50P3RoaXMuX2RhdGEuY29udGVudC5wbGF5OlwiXCI7dGhpcy5fJHBsYXlCdXR0b24ucHJvcChcInRpdGxlXCIsZSksdGhpcy5fJHBsYXlCdXR0b24uZmluZChcImlcIikuc3dpdGNoQ2xhc3MoXCJwYXVzZVwiLFwicGxheVwiKSx0aGlzLmZpcmUoXy5QQVVTRUNBTlZBUyksdGhpcy5sb2dNZXNzYWdlKFwiUEFVU0UgY2FudmFzXCIpfSxlLnByb3RvdHlwZS5faXNOYXZpZ2F0aW9uQ29uc3RyYWluZWRUb1JhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2V9LGUucHJvdG90eXBlLl9jYW52YXNDbG9ja1VwZGF0ZXI9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9jYW52YXNDbG9ja1RpbWU9KERhdGUubm93KCktdGhpcy5fY2FudmFzQ2xvY2tTdGFydERhdGUpLzFlMyx0aGlzLl9kYXRhLnJhbmdlJiYodD10aGlzLl9kYXRhLnJhbmdlLmdldER1cmF0aW9uKCkpLHRoaXMuX2RhdGEubGltaXRUb1JhbmdlJiZ0JiZ0aGlzLl9jYW52YXNDbG9ja1RpbWU+PXQuZW5kJiZ0aGlzLnBhdXNlKCksdGhpcy5fY2FudmFzQ2xvY2tUaW1lPj10aGlzLl9nZXREdXJhdGlvbigpJiYodGhpcy5fY2FudmFzQ2xvY2tUaW1lPXRoaXMuX2dldER1cmF0aW9uKCksdGhpcy5wYXVzZSgpKX0sZS5wcm90b3R5cGUuX2hpZ2hQcmlvcml0eVVwZGF0ZXI9ZnVuY3Rpb24oKXt0aGlzLl8kcmFuZ2VUaW1lbGluZUNvbnRhaW5lci5zbGlkZXIoe3ZhbHVlOnRoaXMuX2NhbnZhc0Nsb2NrVGltZX0pLHRoaXMuXyRjYW52YXNUaW1lbGluZUNvbnRhaW5lci5zbGlkZXIoe3ZhbHVlOnRoaXMuX2NhbnZhc0Nsb2NrVGltZX0pLHRoaXMuX3VwZGF0ZUN1cnJlbnRUaW1lRGlzcGxheSgpLHRoaXMuX3VwZGF0ZUR1cmF0aW9uRGlzcGxheSgpfSxlLnByb3RvdHlwZS5fbG93UHJpb3JpdHlVcGRhdGVyPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlTWVkaWFBY3RpdmVTdGF0ZXMoKSx0aGlzLl9pc1BsYXlpbmcmJnRoaXMuX2RhdGEuYXV0b1NlbGVjdFJhbmdlJiYodGhpcy5pc1ZpcnR1YWwoKXx8dGhpcy5pc09ubHlDYW52YXNJbnN0YW5jZSkmJnRoaXMuX2hhc1JhbmdlQ2hhbmdlZCgpfSxlLnByb3RvdHlwZS5fdXBkYXRlTWVkaWFBY3RpdmVTdGF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT0wO2U8dGhpcy5fY29udGVudEFubm90YXRpb25zLmxlbmd0aDtlKyspKHQ9dGhpcy5fY29udGVudEFubm90YXRpb25zW2VdKS5zdGFydDw9dGhpcy5fY2FudmFzQ2xvY2tUaW1lJiZ0LmVuZD49dGhpcy5fY2FudmFzQ2xvY2tUaW1lPyh0aGlzLl9jaGVja01lZGlhU3luY2hyb25pemF0aW9uKCksdC5hY3RpdmV8fCh0aGlzLl9zeW5jaHJvbml6ZU1lZGlhKCksdC5hY3RpdmU9ITAsdC5lbGVtZW50LnNob3coKSx0LnRpbWVsaW5lRWxlbWVudC5hZGRDbGFzcyhcImFjdGl2ZVwiKSksdC5lbGVtZW50WzBdLmN1cnJlbnRUaW1lPnQuZWxlbWVudFswXS5kdXJhdGlvbi10LmVuZE9mZnNldCYmdGhpcy5fcGF1c2VNZWRpYSh0LmVsZW1lbnRbMF0pKTp0LmFjdGl2ZSYmKHQuYWN0aXZlPSExLHQuZWxlbWVudC5oaWRlKCksdC50aW1lbGluZUVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy5fcGF1c2VNZWRpYSh0LmVsZW1lbnRbMF0pKX0sZS5wcm90b3R5cGUuX3BhdXNlTWVkaWE9ZnVuY3Rpb24odCl7dC5wYXVzZSgpfSxlLnByb3RvdHlwZS5fc2V0TWVkaWFDdXJyZW50VGltZT1mdW5jdGlvbih0LGUpe2lzTmFOKHQuZHVyYXRpb24pfHwodC5jdXJyZW50VGltZT1lKX0sZS5wcm90b3R5cGUuX3N5bmNocm9uaXplTWVkaWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT0wO2U8dGhpcy5fY29udGVudEFubm90YXRpb25zLmxlbmd0aDtlKyspe2lmKHQ9dGhpcy5fY29udGVudEFubm90YXRpb25zW2VdLHRoaXMuX3NldE1lZGlhQ3VycmVudFRpbWUodC5lbGVtZW50WzBdLHRoaXMuX2NhbnZhc0Nsb2NrVGltZS10LnN0YXJ0K3Quc3RhcnRPZmZzZXQpLHQuc3RhcnQ8PXRoaXMuX2NhbnZhc0Nsb2NrVGltZSYmdC5lbmQ+PXRoaXMuX2NhbnZhc0Nsb2NrVGltZSlpZih0aGlzLl9pc1BsYXlpbmcpe2lmKHQuZWxlbWVudFswXS5wYXVzZWQpe3ZhciBuPXQuZWxlbWVudFswXS5wbGF5KCk7biYmbi5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9fWVsc2UgdGhpcy5fcGF1c2VNZWRpYSh0LmVsZW1lbnRbMF0pO2Vsc2UgdGhpcy5fcGF1c2VNZWRpYSh0LmVsZW1lbnRbMF0pO3QuZWxlbWVudFswXS5jdXJyZW50VGltZT50LmVsZW1lbnRbMF0uZHVyYXRpb24tdC5lbmRPZmZzZXQmJnRoaXMuX3BhdXNlTWVkaWEodC5lbGVtZW50WzBdKX10aGlzLmxvZ01lc3NhZ2UoXCJTWU5DIE1FRElBIGF0OiBcIit0aGlzLl9jYW52YXNDbG9ja1RpbWUrXCIgc2Vjb25kcy5cIil9LGUucHJvdG90eXBlLl9jaGVja01lZGlhU3luY2hyb25pemF0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9MCxuPXRoaXMuX2NvbnRlbnRBbm5vdGF0aW9ucy5sZW5ndGg7ZTxuO2UrKylpZigodD10aGlzLl9jb250ZW50QW5ub3RhdGlvbnNbZV0pLnN0YXJ0PD10aGlzLl9jYW52YXNDbG9ja1RpbWUmJnQuZW5kPj10aGlzLl9jYW52YXNDbG9ja1RpbWUpe3ZhciBpPXRoaXMuX2NhbnZhc0Nsb2NrVGltZS10LnN0YXJ0K3Quc3RhcnRPZmZzZXQscj10LmVsZW1lbnRbMF0uY3VycmVudFRpbWU7aWYoTWF0aC5hYnMoci1pKT50aGlzLl9tZWRpYVN5bmNNYXJnaW5TZWNzKXt0Lm91dE9mU3luYz0hMDt2YXIgYT1NYXRoLmFicyhyLWkpO3RoaXMubG9nTWVzc2FnZShcIkRFVEVDVEVEIHN5bmNocm9uaXphdGlvbiBsYWc6IFwiK01hdGguYWJzKGEpKSx0aGlzLl9zZXRNZWRpYUN1cnJlbnRUaW1lKHQuZWxlbWVudFswXSxpKX1lbHNlIHQub3V0T2ZTeW5jPSExfX0sZS5wcm90b3R5cGUuX3BsYXliYWNrU3RhbGxlZD1mdW5jdGlvbih0LGUpe2lmKHQpdGhpcy5fc3RhbGxSZXF1ZXN0ZWRCeS5pbmRleE9mKGUpPDAmJnRoaXMuX3N0YWxsUmVxdWVzdGVkQnkucHVzaChlKSx0aGlzLl9pc1N0YWxsZWR8fCh0aGlzLiRwbGF5ZXJFbGVtZW50LHRoaXMuX3dhc1BsYXlpbmc9dGhpcy5faXNQbGF5aW5nLHRoaXMucGF1c2UoITApLHRoaXMuX2lzU3RhbGxlZD10KTtlbHNle3ZhciBuPXRoaXMuX3N0YWxsUmVxdWVzdGVkQnkuaW5kZXhPZihlKTtuPj0wJiZ0aGlzLl9zdGFsbFJlcXVlc3RlZEJ5LnNwbGljZShuLDEpLDA9PT10aGlzLl9zdGFsbFJlcXVlc3RlZEJ5Lmxlbmd0aCYmKHRoaXMuX2lzU3RhbGxlZCYmdGhpcy5fd2FzUGxheWluZyYmdGhpcy5wbGF5KCEwKSx0aGlzLl9pc1N0YWxsZWQ9dCl9fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLiRwbGF5ZXJFbGVtZW50KXt2YXIgdD10aGlzLl8kY2FudmFzQ29udGFpbmVyLndpZHRoKCk7aWYodCl7dGhpcy5fJGNhbnZhc1RpbWVsaW5lQ29udGFpbmVyLndpZHRoKHQpO3ZhciBlPXRoaXMuJHBsYXllckVsZW1lbnQuZmluZChcIi5vcHRpb25zLWNvbnRhaW5lclwiKTt2b2lkIDAhPT10aGlzLl9kYXRhLmhhbHZlQXRXaWR0aCYmdGhpcy4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS53aWR0aCgpPHRoaXMuX2RhdGEuaGFsdmVBdFdpZHRoP3RoaXMuXyRjYW52YXNDb250YWluZXIuaGVpZ2h0KHRoaXMuJHBsYXllckVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCkvMik6dGhpcy5fJGNhbnZhc0NvbnRhaW5lci5oZWlnaHQodGhpcy4kcGxheWVyRWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKS1lLmhlaWdodCgpKX1pZih0aGlzLl93YXZlZm9ybUNhbnZhcyl7dmFyIG49dGhpcy5fJGNhbnZhc0NvbnRhaW5lci53aWR0aCgpLGk9dGhpcy5fJGNhbnZhc0NvbnRhaW5lci5oZWlnaHQoKTt0aGlzLl93YXZlZm9ybUNhbnZhcy53aWR0aD1uLHRoaXMuX3dhdmVmb3JtQ2FudmFzLmhlaWdodD1pfXRoaXMuX3JlbmRlcigpfX0sZX0oYS5CYXNlQ29tcG9uZW50KTtlLkNhbnZhc0luc3RhbmNlPWY7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lk5FWFRfUkFOR0U9XCJuZXh0cmFuZ2VcIix0LlBBVVNFQ0FOVkFTPVwicGF1c2VcIix0LlBMQVlDQU5WQVM9XCJwbGF5XCIsdC5QUkVWSU9VU19SQU5HRT1cInByZXZpb3VzcmFuZ2VcIix0fSgpO2UuQ2FudmFzSW5zdGFuY2VFdmVudHM9X30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3RoaXMubGVuZ3RoPTAsdGhpcy5kdXJhdGlvbj0wLHRoaXMucGl4ZWxzUGVyU2Vjb25kPU51bWJlci5NQVhfVkFMVUUsdGhpcy5zZWNvbmRzUGVyUGl4ZWw9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl93YXZlZm9ybXM9W10sdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLl93YXZlZm9ybXMucHVzaCh7c3RhcnQ6ZS5sZW5ndGgsZW5kOmUubGVuZ3RoK3QuYWRhcHRlci5sZW5ndGgsd2F2ZWZvcm06dH0pLGUubGVuZ3RoKz10LmFkYXB0ZXIubGVuZ3RoLGUuZHVyYXRpb24rPXQuZHVyYXRpb24sZS5waXhlbHNQZXJTZWNvbmQ9TWF0aC5taW4oZS5waXhlbHNQZXJTZWNvbmQsdC5waXhlbHNfcGVyX3NlY29uZCksZS5zZWNvbmRzUGVyUGl4ZWw9TWF0aC5taW4oZS5zZWNvbmRzUGVyUGl4ZWwsdC5zZWNvbmRzX3Blcl9waXhlbCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9maW5kKHQpO3JldHVybiBlP2Uud2F2ZWZvcm0ubWluX3NhbXBsZSh0LWUuc3RhcnQpOjB9LHQucHJvdG90eXBlLm1heD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9maW5kKHQpO3JldHVybiBlP2Uud2F2ZWZvcm0ubWF4X3NhbXBsZSh0LWUuc3RhcnQpOjB9LHQucHJvdG90eXBlLl9maW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3dhdmVmb3Jtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0Pj1lLnN0YXJ0JiZ0PGUuZW5kfSkpO3JldHVybiBlLmxlbmd0aD4wP2VbMF06bnVsbH0sdH0oKTtlLkNvbXBvc2l0ZVdhdmVmb3JtPWl9XSl9KSk7IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJJSUlGVHJlZUNvbXBvbmVudFwiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuSUlJRlRyZWVDb21wb25lbnQ9dCgpOmUuSUlJRlRyZWVDb21wb25lbnQ9dCgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oaSl7aWYodFtpXSlyZXR1cm4gdFtpXS5leHBvcnRzO3ZhciByPXRbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsaSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSluLmQoaSxyLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9Mil9KFtmdW5jdGlvbihlLHQsbil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYsZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oaSl7aWYodFtpXSlyZXR1cm4gdFtpXS5leHBvcnRzO3ZhciByPXRbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsaSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSluLmQoaSxyLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9NCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtmb3IodmFyIG4gaW4gZSl0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT1lW25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKG4oNikpLGkobig3KSksaShuKDgpKSxpKG4oOSkpLGkobigxMCkpLGkobigxMSkpLGkobigxMikpLGkobigxMykpLGkobigxNCkpLGkobigxNSkpLGkobigxNikpLGkobigxNykpLGkobigxOCkpLGkobigxOSkpLGkobigyMCkpLGkobigyMSkpLGkobigyMikpLGkobigyMykpLGkobigyNCkpLGkobigyNSkpLGkobigyNikpLGkobigyNykpLGkobigyOCkpLGkobigyOSkpLGkobigzMCkpLGkobigzMSkpLGkobigzMikpLGkobigyKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtlLkJPT0tNQVJLSU5HPVwib2E6Ym9va21hcmtpbmdcIixlLkNMQVNTSUZZSU5HPVwib2E6Y2xhc3NpZnlpbmdcIixlLkNPTU1FTlRJTkc9XCJvYTpjb21tZW50aW5nXCIsZS5ERVNDUklCSU5HPVwib2E6ZGVzY3JpYmluZ1wiLGUuRURJVElORz1cIm9hOmVkaXRpbmdcIixlLkhJR0hMSUdIVElORz1cIm9hOmhpZ2hsaWdodGluZ1wiLGUuSURFTlRJRllJTkc9XCJvYTppZGVudGlmeWluZ1wiLGUuTElOS0lORz1cIm9hOmxpbmtpbmdcIixlLk1PREVSQVRJTkc9XCJvYTptb2RlcmF0aW5nXCIsZS5QQUlOVElORz1cInNjOnBhaW50aW5nXCIsZS5RVUVTVElPTklORz1cIm9hOnF1ZXN0aW9uaW5nXCIsZS5SRVBMWUlORz1cIm9hOnJlcGx5aW5nXCIsZS5UQUdHSU5HPVwib2E6dGFnZ2luZ1wiLGUuVFJBTlNDUklCSU5HPVwib2FkOnRyYW5zY3JpYmluZ1wifSh0LkFubm90YXRpb25Nb3RpdmF0aW9ufHwodC5Bbm5vdGF0aW9uTW90aXZhdGlvbj17fSkpLGZ1bmN0aW9uKGUpe2UuQVVUT19BRFZBTkNFPVwiYXV0by1hZHZhbmNlXCIsZS5DT05USU5VT1VTPVwiY29udGludW91c1wiLGUuRkFDSU5HX1BBR0VTPVwiZmFjaW5nLXBhZ2VzXCIsZS5ISURERU49XCJoaWRkZW5cIixlLklORElWSURVQUxTPVwiaW5kaXZpZHVhbHNcIixlLk1VTFRJX1BBUlQ9XCJtdWx0aS1wYXJ0XCIsZS5OT19OQVY9XCJuby1uYXZcIixlLk5PTl9QQUdFRD1cIm5vbi1wYWdlZFwiLGUuUEFHRUQ9XCJwYWdlZFwiLGUuUkVQRUFUPVwicmVwZWF0XCIsZS5TRVFVRU5DRT1cInNlcXVlbmNlXCIsZS5USFVNQk5BSUxfTkFWPVwidGh1bWJuYWlsLW5hdlwiLGUuVE9HRVRIRVI9XCJ0b2dldGhlclwiLGUuVU5PUkRFUkVEPVwidW5vcmRlcmVkXCJ9KHQuQmVoYXZpb3J8fCh0LkJlaGF2aW9yPXt9KSksZnVuY3Rpb24oZSl7ZS5DQU5WQVM9XCJjYW52YXNcIixlLkNIT0lDRT1cImNob2ljZVwiLGUuQ09OVEVOVF9BU19URVhUPVwiY29udGVudGFzdGV4dFwiLGUuRE9DVU1FTlQ9XCJkb2N1bWVudFwiLGUuSU1BR0U9XCJpbWFnZVwiLGUuTU9WSU5HX0lNQUdFPVwibW92aW5naW1hZ2VcIixlLlBERj1cInBkZlwiLGUuUEhZU0lDQUxfT0JKRUNUPVwicGh5c2ljYWxvYmplY3RcIixlLlNPVU5EPVwic291bmRcIixlLlRFWFRVQUxCT0RZPVwidGV4dHVhbGJvZHlcIixlLlZJREVPPVwidmlkZW9cIn0odC5FeHRlcm5hbFJlc291cmNlVHlwZXx8KHQuRXh0ZXJuYWxSZXNvdXJjZVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkFOTk9UQVRJT049XCJhbm5vdGF0aW9uXCIsZS5DQU5WQVM9XCJjYW52YXNcIixlLkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsZS5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsZS5SQU5HRT1cInJhbmdlXCIsZS5TRVFVRU5DRT1cInNlcXVlbmNlXCJ9KHQuSUlJRlJlc291cmNlVHlwZXx8KHQuSUlJRlJlc291cmNlVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuQVVESU9fTVA0PVwiYXVkaW8vbXA0XCIsZS5DT1JUTz1cImFwcGxpY2F0aW9uL2NvcnRvXCIsZS5EUkFDTz1cImFwcGxpY2F0aW9uL2RyYWNvXCIsZS5HTFRGPVwibW9kZWwvZ2x0Zitqc29uXCIsZS5KUEc9XCJpbWFnZS9qcGVnXCIsZS5NM1U4PVwiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIixlLk1QMz1cImF1ZGlvL21wM1wiLGUuTVBFR19EQVNIPVwiYXBwbGljYXRpb24vZGFzaCt4bWxcIixlLk9CSj1cInRleHQvcGxhaW5cIixlLlBERj1cImFwcGxpY2F0aW9uL3BkZlwiLGUuUExZPVwiYXBwbGljYXRpb24vcGx5XCIsZS5USFJFRUpTPVwiYXBwbGljYXRpb24vdm5kLnRocmVlanMranNvblwiLGUuVklERU9fTVA0PVwidmlkZW8vbXA0XCIsZS5XRUJNPVwidmlkZW8vd2VibVwifSh0Lk1lZGlhVHlwZXx8KHQuTWVkaWFUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5ET0M9XCJhcHBsaWNhdGlvbi9tc3dvcmRcIixlLkRPQ1g9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiLGUuUERGPVwiYXBwbGljYXRpb24vcGRmXCJ9KHQuUmVuZGVyaW5nRm9ybWF0fHwodC5SZW5kZXJpbmdGb3JtYXQ9e30pKSxmdW5jdGlvbihlKXtlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDJcIixlLklNQUdFXzFfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMC5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsZS5JTUFHRV8xX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDEuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDEuanNvblwiLGUuSU1BR0VfMV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMC5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDEuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDEuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwyLmpzb25cIixlLkFVVEhfMF9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIixlLkFVVEhfMF9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW5cIixlLkFVVEhfMF9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ291dFwiLGUuQVVUSF8wX1JFU1RSSUNURUQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIixlLkFVVEhfMF9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvdG9rZW5cIixlLkFVVEhfMV9DTElDS19USFJPVUdIPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9jbGlja3Rocm91Z2hcIixlLkFVVEhfMV9FWFRFUk5BTD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIixlLkFVVEhfMV9LSU9TSz1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEva2lvc2tcIixlLkFVVEhfMV9MT0dJTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9naW5cIixlLkFVVEhfMV9MT0dPVVQ9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiLGUuQVVUSF8xX1BST0JFPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9wcm9iZVwiLGUuQVVUSF8xX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS90b2tlblwiLGUuU0VBUkNIXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCIsZS5TRUFSQ0hfMF9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL2F1dG9jb21wbGV0ZVwiLGUuU0VBUkNIXzE9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvc2VhcmNoXCIsZS5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiLGUuVFJBQ0tJTkdfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdHJhY2tpbmctZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5VSV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby91aS1leHRlbnNpb25zLXByb2ZpbGVcIixlLlBSSU5UX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuU0hBUkVfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vc2hhcmUtZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5PVEhFUl9NQU5JRkVTVEFUSU9OUz1cImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIixlLklYSUY9XCJodHRwOi8vd2VsbGNvbWVsaWJyYXJ5Lm9yZy9sZC9peGlmLzAvYWxwaGEuanNvblwifSh0LlNlcnZpY2VQcm9maWxlfHwodC5TZXJ2aWNlUHJvZmlsZT17fSkpLGZ1bmN0aW9uKGUpe2UuQk9UVE9NX1RPX1RPUD1cImJvdHRvbS10by10b3BcIixlLkxFRlRfVE9fUklHSFQ9XCJsZWZ0LXRvLXJpZ2h0XCIsZS5SSUdIVF9UT19MRUZUPVwicmlnaHQtdG8tbGVmdFwiLGUuVE9QX1RPX0JPVFRPTT1cInRvcC10by1ib3R0b21cIn0odC5WaWV3aW5nRGlyZWN0aW9ufHwodC5WaWV3aW5nRGlyZWN0aW9uPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05USU5VT1VTPVwiY29udGludW91c1wiLGUuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLGUuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsZS5QQUdFRD1cInBhZ2VkXCIsZS5UT1A9XCJ0b3BcIn0odC5WaWV3aW5nSGludHx8KHQuVmlld2luZ0hpbnQ9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24ocixvKXtmdW5jdGlvbiBhKGUpe3RyeXt1KGkubmV4dChlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gcyhlKXt0cnl7dShpLnRocm93KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiB1KGUpe3ZhciB0O2UuZG9uZT9yKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfXUoKGk9aS5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0scj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmclswXSl0aHJvdyByWzFdO3JldHVybiByWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIG89e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihvW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLG87ZnVuY3Rpb24gcyhvKXtyZXR1cm4gZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDthOyl0cnl7aWYobj0xLGkmJihyPTImb1swXT9pLnJldHVybjpvWzBdP2kudGhyb3d8fCgocj1pLnJldHVybikmJnIuY2FsbChpKSwwKTppLm5leHQpJiYhKHI9ci5jYWxsKGksb1sxXSkpLmRvbmUpcmV0dXJuIHI7c3dpdGNoKGk9MCxyJiYobz1bMiZvWzBdLHIudmFsdWVdKSxvWzBdKXtjYXNlIDA6Y2FzZSAxOnI9bzticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6b1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLGk9b1sxXSxvPVswXTtjb250aW51ZTtjYXNlIDc6bz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHI9KHI9YS50cnlzKS5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSkmJig2PT09b1swXXx8Mj09PW9bMF0pKXthPTA7Y29udGludWV9aWYoMz09PW9bMF0mJighcnx8b1sxXT5yWzBdJiZvWzFdPHJbM10pKXthLmxhYmVsPW9bMV07YnJlYWt9aWYoNj09PW9bMF0mJmEubGFiZWw8clsxXSl7YS5sYWJlbD1yWzFdLHI9bzticmVha31pZihyJiZhLmxhYmVsPHJbMl0pe2EubGFiZWw9clsyXSxhLm9wcy5wdXNoKG8pO2JyZWFrfXJbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1vPXQuY2FsbChlLGEpfWNhdGNoKGUpe289WzYsZV0saT0wfWZpbmFsbHl7bj1yPTB9aWYoNSZvWzBdKXRocm93IG9bMV07cmV0dXJue3ZhbHVlOm9bMF0/b1sxXTp2b2lkIDAsZG9uZTohMH19KFtvLHNdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9bigxKSxzPW4oMzMpO24oMzQpO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGU9KGU9ZS50b0xvd2VyQ2FzZSgpKS5zcGxpdChcIjtcIilbMF0pLnRyaW0oKX0sZS5nZXRJbWFnZVF1YWxpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMnx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMnx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xfHxlPT09YS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzJ8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMXx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzF8fGU9PT1hLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfTEVWRUxfMnx8ZT09PWEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI/XCJuYXRpdmVcIjpcImRlZmF1bHRcIn0sZS5nZXRJbmV4YWN0TG9jYWxlPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09ZS5pbmRleE9mKFwiLVwiKT9lLnN1YnN0cigwLGUuaW5kZXhPZihcIi1cIikpOmV9LGUuZ2V0TG9jYWxpc2VkVmFsdWU9ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZih0PT09aVtcIkBsYW5ndWFnZVwiXSlyZXR1cm4gaVtcIkB2YWx1ZVwiXX12YXIgcj10LnN1YnN0cigwLHQuaW5kZXhPZihcIi1cIikpO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbl07aWYob1tcIkBsYW5ndWFnZVwiXT09PXIpcmV0dXJuIG9bXCJAdmFsdWVcIl19cmV0dXJuIG51bGx9LGUuZ2VuZXJhdGVUcmVlTm9kZUlkcz1mdW5jdGlvbih0LG4pe3ZhciBpO3ZvaWQgMD09PW4mJihuPTApLGk9dC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZS5pZCtcIi1cIituOlwiMFwiLHQuaWQ9aTtmb3IodmFyIHI9MDtyPHQubm9kZXMubGVuZ3RoO3IrKyl7dmFyIG89dC5ub2Rlc1tyXTtlLmdlbmVyYXRlVHJlZU5vZGVJZHMobyxyKX19LGUubm9ybWFsaXNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PShlPWUudG9Mb3dlckNhc2UoKSkuaW5kZXhPZihcIjpcIik/ZS5zcGxpdChcIjpcIilbMV06ZX0sZS5ub3JtYWxpc2VVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT0oZT1lLnN1YnN0cihlLmluZGV4T2YoXCI6Ly9cIikpKS5pbmRleE9mKFwiI1wiKSYmKGU9ZS5zcGxpdChcIiNcIilbMF0pLGV9LGUubm9ybWFsaXNlZFVybHNNYXRjaD1mdW5jdGlvbih0LG4pe3JldHVybiBlLm5vcm1hbGlzZVVybCh0KT09PWUubm9ybWFsaXNlVXJsKG4pfSxlLmlzSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKHQpe3JldHVybiEhKGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpfSxlLmlzTGV2ZWwwSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKHQpe3JldHVybiEhKGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMCkpfSxlLmlzTGV2ZWwxSW1hZ2VQcm9maWxlPWZ1bmN0aW9uKHQpe3JldHVybiEhKGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMSkpfSxlLmlzTGV2ZWwySW1hZ2VQcm9maWxlPWZ1bmN0aW9uKHQpe3JldHVybiEhKGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxhLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LGEuU2VydmljZVByb2ZpbGUuSU1BR0VfMl9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQsYS5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMikpfSxlLnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5EZXNlcmlhbGlzZXIucGFyc2UoZSx0KX0sZS5jaGVja1N0YXR1cz1mdW5jdGlvbihlKXtpZihlLm9rKXJldHVybiBlO3ZhciB0PW5ldyBFcnJvcihlLnN0YXR1c1RleHQpO3JldHVybiB0LnJlc3BvbnNlPWUsUHJvbWlzZS5yZWplY3QodCl9LGUubG9hZE1hbmlmZXN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZmV0Y2godCkudGhlbihlLmNoZWNrU3RhdHVzKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29uKCl9KSkudGhlbigoZnVuY3Rpb24oZSl7bihlKX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZXNBdXRoMT1mdW5jdGlvbih0LG4saSxyLG8sYSxzLHUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obCxjKXt2YXIgcD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMSh0LG4saSxyLG8sYSxzLHUpfSkpO1Byb21pc2UuYWxsKHApLnRoZW4oKGZ1bmN0aW9uKCl7bCh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YyhlKX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxPWZ1bmN0aW9uKHQsbixvLGEsdSxsLGMscCl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsYSh0KV07Y2FzZSAxOnJldHVybihpPXIuc2VudCgpKT9bNCx0LmdldERhdGEoaSldOlszLDZdO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksdC5zdGF0dXMhPT1zLk9LP1szLDNdOlsyLHRdO2Nhc2UgMzpyZXR1cm5bNCxlLmRvQXV0aENoYWluKHQsbixvLHUsbCxjLHApXTtjYXNlIDQ6ci5zZW50KCksci5sYWJlbD01O2Nhc2UgNTppZih0LnN0YXR1cz09PXMuT0t8fHQuc3RhdHVzPT09cy5NT1ZFRF9URU1QT1JBUklMWSlyZXR1cm5bMix0XTt0aHJvdyBlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpO2Nhc2UgNjpyZXR1cm5bNCx0LmdldERhdGEoKV07Y2FzZSA3OnJldHVybiByLnNlbnQoKSx0LnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFkmJnQuc3RhdHVzIT09cy5VTkFVVEhPUklaRUQ/WzMsOV06WzQsZS5kb0F1dGhDaGFpbih0LG4sbyx1LGwsYyxwKV07Y2FzZSA4OnIuc2VudCgpLHIubGFiZWw9OTtjYXNlIDk6aWYodC5zdGF0dXM9PT1zLk9LfHx0LnN0YXR1cz09PXMuTU9WRURfVEVNUE9SQVJJTFkpcmV0dXJuWzIsdF07dGhyb3cgZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKX19KSl9KSl9LGUuZG9BdXRoQ2hhaW49ZnVuY3Rpb24odCxuLG8sYSx1LGwsYyl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHAsZixoLGQsZyxfLHY7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC5pc0FjY2Vzc0NvbnRyb2xsZWQoKT8oKGk9dC5leHRlcm5hbFNlcnZpY2UpJiYoaS5vcHRpb25zPXQub3B0aW9ucyksKHA9dC5raW9za1NlcnZpY2UpJiYocC5vcHRpb25zPXQub3B0aW9ucyksKGY9dC5jbGlja1Rocm91Z2hTZXJ2aWNlKSYmKGYub3B0aW9ucz10Lm9wdGlvbnMpLChoPXQubG9naW5TZXJ2aWNlKSYmKGgub3B0aW9ucz10Lm9wdGlvbnMpLHQuaXNSZXNwb25zZUhhbmRsZWR8fHQuc3RhdHVzIT09cy5NT1ZFRF9URU1QT1JBUklMWT9bMywyXTpbNCxsKHQpXSk6WzIsdF07Y2FzZSAxOnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDI6cmV0dXJuIGQ9bnVsbCxnPW51bGwsKGQ9aSk/KGc9ZCxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sZCldKTpbMyw0XTtjYXNlIDM6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgNDpyZXR1cm4oZD1wKT8oZz1kLChfPW4oZCkpP1s0LGEoXyldOlszLDddKTpbMyw3XTtjYXNlIDU6cmV0dXJuIHIuc2VudCgpLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxkKV07Y2FzZSA2OnJldHVybiByLnNlbnQoKSxbMix0XTtjYXNlIDc6cmV0dXJuKGQ9Zik/KGc9ZCxbNCx1KHQsZCldKTpbMywxMV07Y2FzZSA4OnJldHVybih2PXIuc2VudCgpKT9bNCxhKHYpXTpbMywxMV07Y2FzZSA5OnJldHVybiByLnNlbnQoKSxbNCxlLmF0dGVtcHRSZXNvdXJjZVdpdGhUb2tlbih0LG8sZCldO2Nhc2UgMTA6cmV0dXJuIHIuc2VudCgpLFsyLHRdO2Nhc2UgMTE6cmV0dXJuKGQ9aCk/KGc9ZCxbNCx1KHQsZCldKTpbMywxNV07Y2FzZSAxMjpyZXR1cm4odj1yLnNlbnQoKSk/WzQsYSh2KV06WzMsMTVdO2Nhc2UgMTM6cmV0dXJuIHIuc2VudCgpLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxkKV07Y2FzZSAxNDpyZXR1cm4gci5zZW50KCksWzIsdF07Y2FzZSAxNTpyZXR1cm4gZyYmYyh0LGcpLFsyXX19KSl9KSl9LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGksbztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybihpPW4uZ2V0U2VydmljZShhLlNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTikpP1s0LHQoZSxpKV06WzMsM107Y2FzZSAxOnJldHVybihvPXIuc2VudCgpKSYmby5hY2Nlc3NUb2tlbj9bNCxlLmdldERhdGEobyldOlszLDNdO2Nhc2UgMjpyZXR1cm4gci5zZW50KCksWzIsZV07Y2FzZSAzOnJldHVyblsyXX19KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VzQXV0aDA5PWZ1bmN0aW9uKHQsbixpLHIsbyxhLHMsdSxsLGMpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocCxmKXt2YXIgaD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMDkodCxuLGkscixvLGEscyx1LGwsYyl9KSk7UHJvbWlzZS5hbGwoaCkudGhlbigoZnVuY3Rpb24oKXtwKHQpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtmKGUpfSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDA5PWZ1bmN0aW9uKHQsbixpLHIsbyxhLHUsbCxjLHApe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZixoKXtwJiZwLnBlc3NpbWlzdGljQWNjZXNzQ29udHJvbD90LmdldERhdGEoKS50aGVuKChmdW5jdGlvbigpe3QuaXNBY2Nlc3NDb250cm9sbGVkKCk/dC5jbGlja1Rocm91Z2hTZXJ2aWNlPyhmKGkodCkpLGYocih0KSkpOm8odCkudGhlbigoZnVuY3Rpb24oKXthKHQsITApLnRoZW4oKGZ1bmN0aW9uKG4pe3QuZ2V0RGF0YShuKS50aGVuKChmdW5jdGlvbigpe2YoYyh0KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6Zih0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmwodCxuKS50aGVuKChmdW5jdGlvbihwKXtwP3QuZ2V0RGF0YShwKS50aGVuKChmdW5jdGlvbigpe3Quc3RhdHVzPT09cy5PSz9mKGModCkpOmUuYXV0aG9yaXplKHQsbixpLHIsbyxhLHUsbCkudGhlbigoZnVuY3Rpb24oKXtmKGModCkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpOmUuYXV0aG9yaXplKHQsbixpLHIsbyxhLHUsbCkudGhlbigoZnVuY3Rpb24oKXtmKGModCkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCkpfSkpfSkpfSxlLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IEVycm9yO3JldHVybiBuLm1lc3NhZ2U9dCxuLm5hbWU9U3RyaW5nKGUpLG59LGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY3JlYXRlRXJyb3Ioby5TdGF0dXNDb2RlLkFVVEhPUklaQVRJT05fRkFJTEVELFwiQXV0aG9yaXphdGlvbiBmYWlsZWRcIil9LGUuY3JlYXRlUmVzdHJpY3RlZEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY3JlYXRlRXJyb3Ioby5TdGF0dXNDb2RlLlJFU1RSSUNURUQsXCJSZXN0cmljdGVkXCIpfSxlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIGUuY3JlYXRlRXJyb3Ioby5TdGF0dXNDb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUix0KX0sZS5hdXRob3JpemU9ZnVuY3Rpb24odCxuLGkscixvLGEsdSxsKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGMscCl7dC5nZXREYXRhKCkudGhlbigoZnVuY3Rpb24oKXt0LmlzQWNjZXNzQ29udHJvbGxlZCgpP2wodCxuKS50aGVuKChmdW5jdGlvbihsKXtsP3QuZ2V0RGF0YShsKS50aGVuKChmdW5jdGlvbigpe3Quc3RhdHVzPT09cy5PSz9jKHQpOmUuc2hvd0F1dGhJbnRlcmFjdGlvbih0LG4saSxyLG8sYSx1LGMscCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTphKHQsITEpLnRoZW4oKGZ1bmN0aW9uKGwpe2w/dSh0LGwsbikudGhlbigoZnVuY3Rpb24oKXt0LmdldERhdGEobCkudGhlbigoZnVuY3Rpb24oKXt0LnN0YXR1cz09PXMuT0s/Yyh0KTplLnNob3dBdXRoSW50ZXJhY3Rpb24odCxuLGkscixvLGEsdSxjLHApfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTplLnNob3dBdXRoSW50ZXJhY3Rpb24odCxuLGkscixvLGEsdSxjLHApfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtwKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6Yyh0KX0pKX0pKX0sZS5zaG93QXV0aEludGVyYWN0aW9uPWZ1bmN0aW9uKHQsbixpLHIsbyxhLHUsbCxjKXt0LnN0YXR1cyE9PXMuTU9WRURfVEVNUE9SQVJJTFl8fHQuaXNSZXNwb25zZUhhbmRsZWQ/dC5jbGlja1Rocm91Z2hTZXJ2aWNlJiYhdC5pc1Jlc3BvbnNlSGFuZGxlZD9pKHQpLnRoZW4oKGZ1bmN0aW9uKCl7YSh0LCEwKS50aGVuKChmdW5jdGlvbihpKXt1KHQsaSxuKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0RGF0YShpKS50aGVuKChmdW5jdGlvbigpe2wodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSk6byh0KS50aGVuKChmdW5jdGlvbigpe2EodCwhMCkudGhlbigoZnVuY3Rpb24oaSl7dSh0LGksbikudGhlbigoZnVuY3Rpb24oKXt0LmdldERhdGEoaSkudGhlbigoZnVuY3Rpb24oKXtsKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtjKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2MoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7YyhlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpOmwodCl9LGUuZ2V0U2VydmljZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLmdldFNlcnZpY2VzKGUpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyLmdldFByb2ZpbGUoKT09PXQpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LGUuZ2V0UmVzb3VyY2VCeUlkPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUudHJhdmVyc2VBbmRGaW5kKHQuX19qc29ubGQsXCJAaWRcIixuKX0sZS50cmF2ZXJzZUFuZEZpbmQ9ZnVuY3Rpb24odCxuLGkpe2lmKHQuaGFzT3duUHJvcGVydHkobikmJnRbbl09PT1pKXJldHVybiB0O2Zvcih2YXIgcj0wO3I8T2JqZWN0LmtleXModCkubGVuZ3RoO3IrKylpZihcIm9iamVjdFwiPT10eXBlb2YgdFtPYmplY3Qua2V5cyh0KVtyXV0pe3ZhciBvPWUudHJhdmVyc2VBbmRGaW5kKHRbT2JqZWN0LmtleXModClbcl1dLG4saSk7aWYobnVsbCE9bylyZXR1cm4gb319LGUuZ2V0U2VydmljZXM9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtpZighKHQ9ZS5fX2pzb25sZD9lLl9fanNvbmxkLnNlcnZpY2U6ZS5zZXJ2aWNlKSlyZXR1cm4gbjtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXt2YXIgYT10aGlzLmdldFJlc291cmNlQnlJZChlLm9wdGlvbnMucmVzb3VyY2Uscik7YSYmbi5wdXNoKG5ldyBvLlNlcnZpY2UoYS5fX2pzb25sZHx8YSxlLm9wdGlvbnMpKX1lbHNlIG4ucHVzaChuZXcgby5TZXJ2aWNlKHIsZS5vcHRpb25zKSl9cmV0dXJuIG59LGUuZ2V0VGVtcG9yYWxDb21wb25lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9L3Q9KFteJl0rKS9nLmV4ZWMoZSksbj1udWxsO3JldHVybiB0JiZ0WzFdJiYobj10WzFdLnNwbGl0KFwiLFwiKSksbn0sZX0oKTt0LlV0aWxzPXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8e30sbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0LG89W10sYT1bXSxzPXt9LHU9ZnVuY3Rpb24oKXtyZXR1cm57b2s6Mj09KHIuc3RhdHVzLzEwMHwwKSxzdGF0dXNUZXh0OnIuc3RhdHVzVGV4dCxzdGF0dXM6ci5zdGF0dXMsdXJsOnIucmVzcG9uc2VVUkwsdGV4dDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoci5yZXNwb25zZVRleHQpfSxqc29uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShKU09OLnBhcnNlKHIucmVzcG9uc2VUZXh0KSl9LGJsb2I6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFtyLnJlc3BvbnNlXSkpfSxjbG9uZTp1LGhlYWRlcnM6e2tleXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW50cmllczpmdW5jdGlvbigpe3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHNbZS50b0xvd2VyQ2FzZSgpXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKClpbiBzfX19fTtmb3IodmFyIGwgaW4gci5vcGVuKHQubWV0aG9kfHxcImdldFwiLGUsITApLHIub25sb2FkPWZ1bmN0aW9uKCl7ci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5yZXBsYWNlKC9eKC4qPyk6W15cXFNcXG5dKihbXFxzXFxTXSo/KSQvZ20sKGZ1bmN0aW9uKGUsdCxuKXtvLnB1c2godD10LnRvTG93ZXJDYXNlKCkpLGEucHVzaChbdCxuXSksc1t0XT1zW3RdP3NbdF0rXCIsXCIrbjpufSkpLG4odSgpKX0sci5vbmVycm9yPWksci53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PXQuY3JlZGVudGlhbHMsdC5oZWFkZXJzKXIuc2V0UmVxdWVzdEhlYWRlcihsLHQuaGVhZGVyc1tsXSk7ci5zZW5kKHQuYm9keXx8bnVsbCl9KSl9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtmb3IodmFyIG4gaW4gZSl0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT1lW25dKX0obigwKSk7dmFyIGk9bigyKTt0LmxvYWRNYW5pZmVzdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5VdGlscy5sb2FkTWFuaWZlc3QoZSl9LHQucGFyc2VNYW5pZmVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBpLlV0aWxzLnBhcnNlTWFuaWZlc3QoZSx0KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fX2pzb25sZD1lLHRoaXMuY29udGV4dD10aGlzLmdldFByb3BlcnR5KFwiY29udGV4dFwiKSx0aGlzLmlkPXRoaXMuZ2V0UHJvcGVydHkoXCJpZFwiKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0UHJvcGVydHk9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4gdGhpcy5fX2pzb25sZCYmKCh0PXRoaXMuX19qc29ubGRbZV0pfHwodD10aGlzLl9fanNvbmxkW1wiQFwiK2VdKSksdH0sZX0oKTt0LkpTT05MRFJlc291cmNlPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9bigxKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gaS5vcHRpb25zPW4saX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sdC5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibGFiZWxcIik7cmV0dXJuIGU/by5MYW5ndWFnZU1hcC5wYXJzZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSx0LnByb3RvdHlwZS5nZXREZWZhdWx0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gby5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmdldExhYmVsKCkpfSx0LnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJtZXRhZGF0YVwiKSx0PVtdO2lmKCFlKXJldHVybiB0O2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dLHI9bmV3IG8uTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSk7ci5wYXJzZShpKSx0LnB1c2gocil9cmV0dXJuIHR9LHQucHJvdG90eXBlLmdldFJlbmRlcmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRSZW5kZXJpbmdzKCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkuZ2V0Rm9ybWF0KCk9PT1lKXJldHVybiBpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRSZW5kZXJpbmdzPWZ1bmN0aW9uKCl7dmFyIGUsdD1bXTtpZighKGU9dGhpcy5fX2pzb25sZD90aGlzLl9fanNvbmxkLnJlbmRlcmluZzp0aGlzLnJlbmRlcmluZykpcmV0dXJuIHQ7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTt0LnB1c2gobmV3IG8uUmVuZGVyaW5nKGksdGhpcy5vcHRpb25zKSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uVXRpbHMuZ2V0U2VydmljZSh0aGlzLGUpfSx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlcz1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldFNlcnZpY2VzKHRoaXMpfSx0LnByb3RvdHlwZS5nZXRUaHVtYm5haWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwidGh1bWJuYWlsXCIpO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYoZT1lWzBdKSxlP25ldyBvLlRodW1ibmFpbChlLHRoaXMub3B0aW9ucyk6bnVsbH0sdC5wcm90b3R5cGUuaXNBbm5vdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLkFOTk9UQVRJT059LHQucHJvdG90eXBlLmlzQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLkNBTlZBU30sdC5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT059LHQucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1R9LHQucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuUkFOR0V9LHQucHJvdG90eXBlLmlzU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1hLklJSUZSZXNvdXJjZVR5cGUuU0VRVUVOQ0V9LHR9KG8uSlNPTkxEUmVzb3VyY2UpO3QuTWFuaWZlc3RSZXNvdXJjZT1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7cmV0dXJuIGU/ZS50b0xvd2VyQ2FzZSgpOm51bGx9LHQucHJvdG90eXBlLmdldFJlc291cmNlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0aGlzLl9fanNvbmxkLnJlc291cmNlcylyZXR1cm4gZTtmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQucmVzb3VyY2VzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQucmVzb3VyY2VzW3RdLGk9bmV3IG8uQW5ub3RhdGlvbihuLHRoaXMub3B0aW9ucyk7ZS5wdXNoKGkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIik7cmV0dXJuIGU/by5VdGlscy5ub3JtYWxpc2VUeXBlKGUpOm51bGx9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LHQucHJvdG90eXBlLmdldE1heFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhXaWR0aFwiKX0sdC5wcm90b3R5cGUuZ2V0TWF4SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJtYXhIZWlnaHRcIik/bnVsbDp0aGlzLmdldE1heFdpZHRoKCl9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5SZXNvdXJjZT1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPW4oMSkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztpLmluZGV4PS0xLGkuaXNMb2FkZWQ9ITE7dmFyIHI9e2RlZmF1bHRMYWJlbDpcIi1cIixsb2NhbGU6XCJlbi1HQlwiLHJlc291cmNlOmkscGVzc2ltaXN0aWNBY2Nlc3NDb250cm9sOiExfTtyZXR1cm4gaS5vcHRpb25zPU9iamVjdC5hc3NpZ24ocixuKSxpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiYXR0cmlidXRpb25cIik7cmV0dXJuIGU/by5MYW5ndWFnZU1hcC5wYXJzZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOltdfSx0LnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKTtyZXR1cm4gZT9vLkxhbmd1YWdlTWFwLnBhcnNlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LHQucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sdC5wcm90b3R5cGUuZ2V0TG9nbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJsb2dvXCIpO3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP2U6KEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiYoZT1lWzBdKSxlW1wiQGlkXCJdfHxlLmlkKTpudWxsfSx0LnByb3RvdHlwZS5nZXRMaWNlbnNlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImxpY2Vuc2VcIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldE5hdkRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy5nZXRQcm9wZXJ0eShcIm5hdkRhdGVcIikpfSx0LnByb3RvdHlwZS5nZXRSZWxhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJyZWxhdGVkXCIpfSx0LnByb3RvdHlwZS5nZXRTZWVBbHNvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzZWVBbHNvXCIpfSx0LnByb3RvdHlwZS5nZXRUcmFja2luZ0xhYmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZXJ2aWNlKGEuU2VydmljZVByb2ZpbGUuVFJBQ0tJTkdfRVhURU5TSU9OUyk7cmV0dXJuIGU/ZS5nZXRQcm9wZXJ0eShcInRyYWNraW5nTGFiZWxcIik6XCJcIn0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0VHJlZT1uZXcgby5UcmVlTm9kZShcInJvb3RcIiksdGhpcy5kZWZhdWx0VHJlZS5kYXRhPXRoaXMsdGhpcy5kZWZhdWx0VHJlZX0sdC5wcm90b3R5cGUuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1udWxsLHQ9dGhpcy5nZXRQcm9wZXJ0eShcInJlcXVpcmVkU3RhdGVtZW50XCIpO2lmKHQpKGU9bmV3IG8uTGFiZWxWYWx1ZVBhaXIodGhpcy5vcHRpb25zLmxvY2FsZSkpLnBhcnNlKHQpO2Vsc2V7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGlvbigpO24mJigoZT1uZXcgby5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKSkudmFsdWU9bil9cmV0dXJuIGV9LHQucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PWEuSUlJRlJlc291cmNlVHlwZS5DT0xMRUNUSU9OfSx0LnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09YS5JSUlGUmVzb3VyY2VUeXBlLk1BTklGRVNUfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2lmKGUuaXNMb2FkZWQpdChlKTtlbHNle3ZhciBuPWUub3B0aW9ucztuLm5hdkRhdGU9ZS5nZXROYXZEYXRlKCk7dmFyIGk9ZS5fX2pzb25sZC5pZDtpfHwoaT1lLl9fanNvbmxkW1wiQGlkXCJdKSxvLlV0aWxzLmxvYWRNYW5pZmVzdChpKS50aGVuKChmdW5jdGlvbihpKXtlLnBhcmVudExhYmVsPW8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZS5nZXRMYWJlbCgpLG4ubG9jYWxlKTt2YXIgcj1vLkRlc2VyaWFsaXNlci5wYXJzZShpLG4pOyhlPU9iamVjdC5hc3NpZ24oZSxyKSkuaW5kZXg9bi5pbmRleCx0KGUpfSkpfX0pKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LklJSUZSZXNvdXJjZT1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMuZ2V0UHJvcGVydHkoXCJib2R5XCIpO2lmKHQpaWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZigoYT10W25dKS5pdGVtcylmb3IodmFyIGk9MDtpPGEuaXRlbXMubGVuZ3RoO2krKyl7dmFyIHI9YS5pdGVtc1tpXTtlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkocix0aGlzLm9wdGlvbnMpKX1lbHNlIGUucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShhLHRoaXMub3B0aW9ucykpO2Vsc2UgaWYodC5pdGVtcylmb3Iobj0wO248dC5pdGVtcy5sZW5ndGg7bisrKXt2YXIgYT10Lml0ZW1zW25dO2UucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShhLHRoaXMub3B0aW9ucykpfWVsc2UgZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KHQsdGhpcy5vcHRpb25zKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldE1vdGl2YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1vdGl2YXRpb25cIil8fG51bGx9LHQucHJvdG90eXBlLmdldE9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJvblwiKX0sdC5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ0YXJnZXRcIil9LHQucHJvdG90eXBlLmdldFJlc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlJlc291cmNlKHRoaXMuZ2V0UHJvcGVydHkoXCJyZXNvdXJjZVwiKSx0aGlzLm9wdGlvbnMpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuQW5ub3RhdGlvbj1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJmb3JtYXRcIik7cmV0dXJuIGU/by5VdGlscy5nZXRNZWRpYVR5cGUoZSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKT9vLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpOm51bGx9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ3aWR0aFwiKX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJoZWlnaHRcIil9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uQm9keT1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLGkpe3ZhciByPWUuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiByLmxhYmVsPXQsci5vcHRpb25zPWkscn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldElJSUZSZXNvdXJjZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5ub3JtYWxpc2VUeXBlKHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpKX0sdC5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbH0sdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlc1wiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5Bbm5vdGF0aW9uKHQsZS5vcHRpb25zKX0pKX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2lmKGUuaXNMb2FkZWQpdChlKTtlbHNle3ZhciBpPWUuX19qc29ubGQuaWQ7aXx8KGk9ZS5fX2pzb25sZFtcIkBpZFwiXSksby5VdGlscy5sb2FkTWFuaWZlc3QoaSkudGhlbigoZnVuY3Rpb24obil7ZS5fX2pzb25sZD1uLGUuY29udGV4dD1lLmdldFByb3BlcnR5KFwiY29udGV4dFwiKSxlLmlkPWUuZ2V0UHJvcGVydHkoXCJpZFwiKSxlLmlzTG9hZGVkPSEwLHQoZSl9KSkuY2F0Y2gobil9fSkpfSx0fShvLkpTT05MRFJlc291cmNlKTt0LkFubm90YXRpb25MaXN0PWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIHIodCxlKSx0LnByb3RvdHlwZS5nZXRJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaXRlbXNcIil9LHR9KG4oMCkuTWFuaWZlc3RSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uUGFnZT1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldENhbm9uaWNhbEltYWdlVXJpPWZ1bmN0aW9uKGUpe3ZhciB0LG49bnVsbCxpPVwiZGVmYXVsdFwiLHI9ZTtpZih0aGlzLmV4dGVybmFsUmVzb3VyY2UmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBpZFwiXSluPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdLHJ8fChyPXRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhLndpZHRoKSx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdJiYodGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEuMC9jb250ZXh0Lmpzb25cIik+LTF8fHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xLjEvY29udGV4dC5qc29uXCIpPi0xfHx0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS9jb250ZXh0Lmpzb25cIik+LTEpJiYoaT1cIm5hdGl2ZVwiKTtlbHNle3ZhciBhPXRoaXMuZ2V0SW1hZ2VzKCk7aWYoYSYmYS5sZW5ndGgpe3ZhciBzPWFbMF0uZ2V0UmVzb3VyY2UoKSx1PXMuZ2V0U2VydmljZXMoKTtpZihyfHwocj1zLmdldFdpZHRoKCkpLHUubGVuZ3RoKXt2YXIgbD11WzBdO249bC5pZCxpPW8uVXRpbHMuZ2V0SW1hZ2VRdWFsaXR5KGwuZ2V0UHJvZmlsZSgpKX1lbHNlIGlmKHI9PT1zLmdldFdpZHRoKCkpcmV0dXJuIHMuaWR9aWYoIW4pe3ZhciBjPXRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7aWYoYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpcmV0dXJuIGM7aWYoY1tcIkBpZFwiXSlyZXR1cm4gY1tcIkBpZFwiXTtpZihjLmxlbmd0aClyZXR1cm4gY1swXS5pZH19fXJldHVybiB0PXIrXCIsXCIsbiYmbi5lbmRzV2l0aChcIi9cIikmJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLFtuLFwiZnVsbFwiLHQsMCxpK1wiLmpwZ1wiXS5qb2luKFwiL1wiKX0sdC5wcm90b3R5cGUuZ2V0TWF4RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciBlLHQ9bnVsbDtyZXR1cm4gdGhpcy5leHRlcm5hbFJlc291cmNlJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZSYmKGU9dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEucHJvZmlsZSxBcnJheS5pc0FycmF5KGUpJiYoZT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF4V2lkdGh9KSlbMF0pJiYodD1uZXcgby5TaXplKGUubWF4V2lkdGgsZS5tYXhIZWlnaHQ/ZS5tYXhIZWlnaHQ6ZS5tYXhXaWR0aCkpKSx0fSx0LnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzLl9fanNvbmxkLml0ZW1zfHx0aGlzLl9fanNvbmxkLmNvbnRlbnQ7aWYoIXQpcmV0dXJuIGU7dmFyIG49bnVsbDtpZih0Lmxlbmd0aCYmKG49bmV3IG8uQW5ub3RhdGlvblBhZ2UodFswXSx0aGlzLm9wdGlvbnMpKSwhbilyZXR1cm4gZTtmb3IodmFyIGk9bi5nZXRJdGVtcygpLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXSxzPW5ldyBvLkFubm90YXRpb24oYSx0aGlzLm9wdGlvbnMpO2UucHVzaChzKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImR1cmF0aW9uXCIpfSx0LnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZighdGhpcy5fX2pzb25sZC5pbWFnZXMpcmV0dXJuIGU7Zm9yKHZhciB0PTA7dDx0aGlzLl9fanNvbmxkLmltYWdlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLmltYWdlc1t0XSxpPW5ldyBvLkFubm90YXRpb24obix0aGlzLm9wdGlvbnMpO2UucHVzaChpKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImluZGV4XCIpfSx0LnByb3RvdHlwZS5nZXRPdGhlckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9KEFycmF5LmlzQXJyYXkodGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKSk/dGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKTpbdGhpcy5nZXRQcm9wZXJ0eShcIm90aGVyQ29udGVudFwiKV0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwic3RyaW5nXCI9PXR5cGVvZih0PWVbXCJAdHlwZVwiXSkmJnQudG9Mb3dlckNhc2UoKT09dC50b0xvd2VyQ2FzZSgpO3ZhciB0fSkpLm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IG8uQW5ub3RhdGlvbkxpc3QodC5sYWJlbHx8XCJBbm5vdGF0aW9uIGxpc3QgXCIrbix0LGUub3B0aW9ucyl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2FkKCl9KSk7cmV0dXJuIFByb21pc2UuYWxsKHQpfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwid2lkdGhcIil9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaGVpZ2h0XCIpfSx0fShvLlJlc291cmNlKTt0LkNhbnZhcz1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxhPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5pdGVtcz1bXSxpLl9jb2xsZWN0aW9ucz1udWxsLGkuX21hbmlmZXN0cz1udWxsLHQuX19jb2xsZWN0aW9uPWksaX1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldENvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxlY3Rpb25zP3RoaXMuX2NvbGxlY3Rpb25zOnRoaXMuX2NvbGxlY3Rpb25zPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0NvbGxlY3Rpb24oKX0pKX0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hbmlmZXN0cz90aGlzLl9tYW5pZmVzdHM6dGhpcy5fbWFuaWZlc3RzPXRoaXMuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc01hbmlmZXN0KCl9KSl9LHQucHJvdG90eXBlLmdldENvbGxlY3Rpb25CeUluZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMuZ2V0Q29sbGVjdGlvbnMoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07ci5pbmRleD09PWUmJih0PXIpfWlmKHQpcmV0dXJuIHQub3B0aW9ucy5pbmRleD1lLHQubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gaW5kZXggbm90IGZvdW5kXCIpfSx0LnByb3RvdHlwZS5nZXRNYW5pZmVzdEJ5SW5kZXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5nZXRNYW5pZmVzdHMoKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07ci5pbmRleD09PWUmJih0PXIpfWlmKHQpcmV0dXJuIHQub3B0aW9ucy5pbmRleD1lLHQubG9hZCgpO3Rocm93IG5ldyBFcnJvcihcIk1hbmlmZXN0IGluZGV4IG5vdCBmb3VuZFwiKX0sdC5wcm90b3R5cGUuZ2V0VG90YWxDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbGxlY3Rpb25zKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRUb3RhbE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1hbmlmZXN0cygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0VG90YWxJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKT90aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKTpvLlZpZXdpbmdEaXJlY3Rpb24uTEVGVF9UT19SSUdIVH0sdC5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1hLlV0aWxzLm5vcm1hbGlzZVR5cGUoYS5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksdGhpcy5fcGFyc2VNYW5pZmVzdHModGhpcyksdGhpcy5fcGFyc2VDb2xsZWN0aW9ucyh0aGlzKSxhLlV0aWxzLmdlbmVyYXRlVHJlZU5vZGVJZHModGhpcy5kZWZhdWx0VHJlZSksdGhpcy5kZWZhdWx0VHJlZX0sdC5wcm90b3R5cGUuX3BhcnNlTWFuaWZlc3RzPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0TWFuaWZlc3RzKCkmJmUuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5nZXRNYW5pZmVzdHMoKS5sZW5ndGg7dCsrKXt2YXIgbj1lLmdldE1hbmlmZXN0cygpW3RdLGk9bi5nZXREZWZhdWx0VHJlZSgpO2kubGFiZWw9bi5wYXJlbnRMYWJlbHx8YS5MYW5ndWFnZU1hcC5nZXRWYWx1ZShuLmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSl8fFwibWFuaWZlc3QgXCIrKHQrMSksaS5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLGkuZGF0YS5pZD1uLmlkLGkuZGF0YS50eXBlPWEuVXRpbHMubm9ybWFsaXNlVHlwZShhLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCksZS5kZWZhdWx0VHJlZS5hZGROb2RlKGkpfX0sdC5wcm90b3R5cGUuX3BhcnNlQ29sbGVjdGlvbnM9ZnVuY3Rpb24oZSl7aWYoZS5nZXRDb2xsZWN0aW9ucygpJiZlLmdldENvbGxlY3Rpb25zKCkubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aDt0Kyspe3ZhciBuPWUuZ2V0Q29sbGVjdGlvbnMoKVt0XSxpPW4uZ2V0RGVmYXVsdFRyZWUoKTtpLmxhYmVsPW4ucGFyZW50TGFiZWx8fGEuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcImNvbGxlY3Rpb24gXCIrKHQrMSksaS5uYXZEYXRlPW4uZ2V0TmF2RGF0ZSgpLGkuZGF0YS5pZD1uLmlkLGkuZGF0YS50eXBlPWEuVXRpbHMubm9ybWFsaXNlVHlwZShhLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKSxlLmRlZmF1bHRUcmVlLmFkZE5vZGUoaSl9fSx0fShhLklJSUZSZXNvdXJjZSk7dC5Db2xsZWN0aW9uPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnN0YXJ0PWUsdGhpcy5lbmQ9dH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kLXRoaXMuc3RhcnR9LGV9KCk7dC5EdXJhdGlvbj1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigwKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRlZmF1bHRMb2NhbGU9ZX1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhpcy5yZXNvdXJjZT1lLHRoaXMubGFiZWw9aS5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSksdGhpcy52YWx1ZT1pLkxhbmd1YWdlTWFwLnBhcnNlKHRoaXMucmVzb3VyY2UudmFsdWUsdGhpcy5kZWZhdWx0TG9jYWxlKX0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbD9pLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMubGFiZWwsdGhpcy5kZWZhdWx0TG9jYWxlKTpudWxsfSxlLnByb3RvdHlwZS5zZXRMYWJlbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoKXt2YXIgbj10aGlzLmxhYmVsLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYWxlPT09dC5kZWZhdWx0TG9jYWxlfHxlLmxvY2FsZT09PWkuVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0LmRlZmF1bHRMb2NhbGUpfSkpWzBdO24mJihuLnZhbHVlPWUpfX0sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlKXt2YXIgZT10aGlzLmRlZmF1bHRMb2NhbGU7cmV0dXJuIHRoaXMubGFiZWwmJnRoaXMubGFiZWwubGVuZ3RoJiZ0aGlzLmxhYmVsWzBdLmxvY2FsZSYmKGU9dGhpcy5sYWJlbFswXS5sb2NhbGUpLGkuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodGhpcy52YWx1ZSxlKX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnZhbHVlJiZ0aGlzLnZhbHVlLmxlbmd0aCl7dmFyIG49dGhpcy52YWx1ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2FsZT09PXQuZGVmYXVsdExvY2FsZXx8ZS5sb2NhbGU9PT1pLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodC5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT1lKX19LGV9KCk7dC5MYWJlbFZhbHVlUGFpcj1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5MYW5ndWFnZT1mdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkoZSk/MT09PWUubGVuZ3RoP3RoaXMudmFsdWU9ZVswXTp0aGlzLnZhbHVlPWUuam9pbihcIjxici8+XCIpOnRoaXMudmFsdWU9ZSx0aGlzLmxvY2FsZT10fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPVtdO2lmKCFlKXJldHVybiBpO2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBhPWVbcl07bj1cInN0cmluZ1wiPT10eXBlb2YgYT9uZXcgby5MYW5ndWFnZShhLHQpOm5ldyBvLkxhbmd1YWdlKGFbXCJAdmFsdWVcIl0sYVtcIkBsYW5ndWFnZVwiXXx8dCksaS5wdXNoKG4pfWVsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIG49bmV3IG8uTGFuZ3VhZ2UoZSx0KSxpLnB1c2gobiksaTtlW1wiQHZhbHVlXCJdPyhuPW5ldyBvLkxhbmd1YWdlKGVbXCJAdmFsdWVcIl0sZVtcIkBsYW5ndWFnZVwiXXx8dCksaS5wdXNoKG4pKTpPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighZVt0XS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibGFuZ3VhZ2UgbXVzdCBoYXZlIGEgdmFsdWVcIik7bj1uZXcgby5MYW5ndWFnZShlW3RdLHQpLGkucHVzaChuKX0pKX1yZXR1cm4gaX0sdC5nZXRWYWx1ZT1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoKXtpZih0KXt2YXIgbj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYWxlPT09dHx8by5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKGUubG9jYWxlKT09PW8uVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0KX0pKVswXTtpZihuKXJldHVybiBuLnZhbHVlfXJldHVybiBlWzBdLnZhbHVlfXJldHVybiBudWxsfSx0fShBcnJheSk7dC5MYW5ndWFnZU1hcD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxhPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztpZihpLmluZGV4PTAsaS5fYWxsUmFuZ2VzPW51bGwsaS5pdGVtcz1bXSxpLl90b3BSYW5nZXM9W10saS5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZpLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgcj1pLl9nZXRUb3BSYW5nZXMoKSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPXJbb107aS5fcGFyc2VSYW5nZXMoYSxTdHJpbmcobykpfXJldHVybiBpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0UG9zdGVyQ2FudmFzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInBvc3RlckNhbnZhc1wiKTtyZXR1cm4gZSYmKGU9bmV3IGEuQ2FudmFzKGUsdGhpcy5vcHRpb25zKSksZX0sdC5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGV8fG51bGx9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7aWYoZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1hLlV0aWxzLm5vcm1hbGlzZVR5cGUoYS5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLCF0aGlzLmlzTG9hZGVkKXJldHVybiB0aGlzLmRlZmF1bHRUcmVlO3ZhciB0PXRoaXMuZ2V0VG9wUmFuZ2VzKCk7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmdldFRyZWUodGhpcy5kZWZhdWx0VHJlZSksYS5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLl9nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZih0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMmJnRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1t0XTtuLnZpZXdpbmdIaW50PT09by5WaWV3aW5nSGludC5UT1AmJmUucHVzaChuKX1pZighZS5sZW5ndGgpe3ZhciBpPXt9O2kucmFuZ2VzPXRoaXMuX19qc29ubGQuc3RydWN0dXJlcyxlLnB1c2goaSl9fXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9wUmFuZ2VzfSx0LnByb3RvdHlwZS5fZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aClmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXNbdF07aWYobltcIkBpZFwiXT09PWV8fG4uaWQ9PT1lKXJldHVybiBufXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VSYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHI9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKHI9ZSxlPXRoaXMuX2dldFJhbmdlQnlJZChyKSksZSl7KGk9bmV3IGEuUmFuZ2UoZSx0aGlzLm9wdGlvbnMpKS5wYXJlbnRSYW5nZT1uLGkucGF0aD10LG4/bi5pdGVtcy5wdXNoKGkpOnRoaXMuX3RvcFJhbmdlcy5wdXNoKGkpO3ZhciBvPWUuaXRlbXN8fGUubWVtYmVycztpZihvKWZvcih2YXIgcz0wO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO2lmKHVbXCJAdHlwZVwiXSYmXCJzYzpyYW5nZVwiPT09dVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCl8fHUudHlwZSYmXCJyYW5nZVwiPT09dS50eXBlLnRvTG93ZXJDYXNlKCkpdGhpcy5fcGFyc2VSYW5nZXModSx0K1wiL1wiK3MsaSk7ZWxzZSBpZih1W1wiQHR5cGVcIl0mJlwic2M6Y2FudmFzXCI9PT11W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8dS50eXBlJiZcImNhbnZhc1wiPT09dS50eXBlLnRvTG93ZXJDYXNlKCkpe2kuY2FudmFzZXN8fChpLmNhbnZhc2VzPVtdKTt2YXIgbD11LmlkfHx1W1wiQGlkXCJdO2kuY2FudmFzZXMucHVzaChsKX19ZWxzZSBpZihlLnJhbmdlcylmb3Iocz0wO3M8ZS5yYW5nZXMubGVuZ3RoO3MrKyl0aGlzLl9wYXJzZVJhbmdlcyhlLnJhbmdlc1tzXSx0K1wiL1wiK3MsaSl9ZWxzZSBjb25zb2xlLndhcm4oXCJSYW5nZTpcIixyLFwiZG9lcyBub3QgZXhpc3RcIil9LHQucHJvdG90eXBlLmdldEFsbFJhbmdlcz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX2FsbFJhbmdlcylyZXR1cm4gdGhpcy5fYWxsUmFuZ2VzO3RoaXMuX2FsbFJhbmdlcz1bXTtmb3IodmFyIGU9dGhpcy5nZXRUb3BSYW5nZXMoKSx0PWZ1bmN0aW9uKHQpe3ZhciBpPWVbdF07aS5pZCYmbi5fYWxsUmFuZ2VzLnB1c2goaSk7dmFyIHI9ZnVuY3Rpb24oZSx0KXtlLmFkZCh0KTt2YXIgbj10LmdldFJhbmdlcygpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShyLGUpOmV9LG89QXJyYXkuZnJvbShpLmdldFJhbmdlcygpLnJlZHVjZShyLG5ldyBTZXQpKTtuLl9hbGxSYW5nZXM9bi5fYWxsUmFuZ2VzLmNvbmNhdChvKX0sbj10aGlzLGk9MDtpPGUubGVuZ3RoO2krKyl0KGkpO3JldHVybiB0aGlzLl9hbGxSYW5nZXN9LHQucHJvdG90eXBlLmdldFJhbmdlQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRBbGxSYW5nZXMoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoaS5pZD09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZihpLnBhdGg9PT1lKXJldHVybiBpfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRTZXF1ZW5jZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgZT10aGlzLl9fanNvbmxkLm1lZGlhU2VxdWVuY2VzfHx0aGlzLl9fanNvbmxkLnNlcXVlbmNlcztpZihlKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLGk9bmV3IGEuU2VxdWVuY2Uobix0aGlzLm9wdGlvbnMpO3RoaXMuaXRlbXMucHVzaChpKX1lbHNlIHRoaXMuX19qc29ubGQuaXRlbXMmJihpPW5ldyBhLlNlcXVlbmNlKHRoaXMuX19qc29ubGQuaXRlbXMsdGhpcy5vcHRpb25zKSx0aGlzLml0ZW1zLnB1c2goaSkpO3JldHVybiB0aGlzLml0ZW1zfSx0LnByb3RvdHlwZS5nZXRTZXF1ZW5jZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKClbZV19LHQucHJvdG90eXBlLmdldFRvdGFsU2VxdWVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VxdWVuY2VzKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlcnZpY2Uoby5TZXJ2aWNlUHJvZmlsZS5VSV9FWFRFTlNJT05TKTtyZXR1cm4gZT9lLmdldFByb3BlcnR5KFwibWFuaWZlc3RUeXBlXCIpOmEuTWFuaWZlc3RUeXBlLkVNUFRZfSx0LnByb3RvdHlwZS5pc011bHRpU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbFNlcXVlbmNlcygpPjF9LHQucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Vmlld2luZ0hpbnQoKTtpZihlKXJldHVybiBlPT09by5WaWV3aW5nSGludC5QQUdFRDt2YXIgdD10aGlzLmdldEJlaGF2aW9yKCk7cmV0dXJuISF0JiZ0PT09by5CZWhhdmlvci5QQUdFRH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0fShhLklJSUZSZXNvdXJjZSk7dC5NYW5pZmVzdD1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5FTVBUWT1cIlwiLGUuTUFOVVNDUklQVD1cIm1hbnVzY3JpcHRcIixlLk1PTk9HUkFQSD1cIm1vbm9ncmFwaFwifSh0Lk1hbmlmZXN0VHlwZXx8KHQuTWFuaWZlc3RUeXBlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9bigxKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBpLl9yYW5nZXM9bnVsbCxpLmNhbnZhc2VzPW51bGwsaS5pdGVtcz1bXSxpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2FudmFzSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19qc29ubGQuY2FudmFzZXM/dGhpcy5fX2pzb25sZC5jYW52YXNlczp0aGlzLmNhbnZhc2VzP3RoaXMuY2FudmFzZXM6W119LHQucHJvdG90eXBlLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZih0aGlzLmNhbnZhc2VzJiZ0aGlzLmNhbnZhc2VzLmxlbmd0aClmb3IodmFyIG49MDtuPHRoaXMuY2FudmFzZXMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5jYW52YXNlc1tuXSxyPW8uVXRpbHMuZ2V0VGVtcG9yYWxDb21wb25lbnQoaSk7ciYmci5sZW5ndGg+MSYmKDA9PT1uJiYoZT1OdW1iZXIoclswXSkpLG49PT10aGlzLmNhbnZhc2VzLmxlbmd0aC0xJiYodD1OdW1iZXIoclsxXSkpKX1lbHNle3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7Zm9yKG49MDtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXS5nZXREdXJhdGlvbigpO3MmJigwPT09biYmKGU9cy5zdGFydCksbj09PWEubGVuZ3RoLTEmJih0PXMuZW5kKSl9fWlmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PXQpcmV0dXJuIG5ldyBvLkR1cmF0aW9uKGUsdCl9LHQucHJvdG90eXBlLmdldFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXM/dGhpcy5fcmFuZ2VzOnRoaXMuX3Jhbmdlcz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNSYW5nZSgpfSkpfSx0LnByb3RvdHlwZS5nZXRCZWhhdmlvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJiZWhhdmlvclwiKTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSksZXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0RpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwidmlld2luZ0RpcmVjdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0LnByb3RvdHlwZS5nZXRUcmVlPWZ1bmN0aW9uKGUpe2UuZGF0YT10aGlzLHRoaXMudHJlZU5vZGU9ZTt2YXIgdD10aGlzLmdldFJhbmdlcygpO2lmKHQmJnQubGVuZ3RoKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9bmV3IG8uVHJlZU5vZGU7ZS5hZGROb2RlKHIpLHRoaXMuX3BhcnNlVHJlZU5vZGUocixpKX1yZXR1cm4gby5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKGUpLGV9LHQucHJvdG90eXBlLnNwYW5zVGltZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldER1cmF0aW9uKCk7cmV0dXJuISEodCYmZT49dC5zdGFydCYmZTw9dC5lbmQpfSx0LnByb3RvdHlwZS5fcGFyc2VUcmVlTm9kZT1mdW5jdGlvbihlLHQpe2UubGFiZWw9by5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0LmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSksZS5kYXRhPXQsZS5kYXRhLnR5cGU9by5VdGlscy5ub3JtYWxpc2VUeXBlKG8uVHJlZU5vZGVUeXBlLlJBTkdFKSx0LnRyZWVOb2RlPWU7dmFyIG49dC5nZXRSYW5nZXMoKTtpZihuJiZuLmxlbmd0aClmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyLmdldEJlaGF2aW9yKCkhPT1hLkJlaGF2aW9yLk5PX05BVil7dmFyIHM9bmV3IG8uVHJlZU5vZGU7ZS5hZGROb2RlKHMpLHRoaXMuX3BhcnNlVHJlZU5vZGUocyxyKX19fSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmFuZ2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLmdldEZvcm1hdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZm9ybWF0XCIpfSx0fShuKDApLk1hbmlmZXN0UmVzb3VyY2UpO3QuUmVuZGVyaW5nPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLGE9bigwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBpLml0ZW1zPVtdLGkuX3RodW1ibmFpbHM9bnVsbCxpfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2FudmFzZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgZT10aGlzLl9fanNvbmxkLmNhbnZhc2VzfHx0aGlzLl9fanNvbmxkLmVsZW1lbnRzO2lmKGUpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07KGk9bmV3IGEuQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9dCx0aGlzLml0ZW1zLnB1c2goaSl9ZWxzZSBpZih0aGlzLl9fanNvbmxkKWZvcih0PTA7dDx0aGlzLl9fanNvbmxkLmxlbmd0aDt0Kyspe3ZhciBpO249dGhpcy5fX2pzb25sZFt0XSwoaT1uZXcgYS5DYW52YXMobix0aGlzLm9wdGlvbnMpKS5pbmRleD10LHRoaXMuaXRlbXMucHVzaChpKX1yZXR1cm4gdGhpcy5pdGVtc30sdC5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKyl7dmFyIG49dGhpcy5nZXRDYW52YXNCeUluZGV4KHQpLGk9YS5VdGlscy5ub3JtYWxpc2VVcmwobi5pZCk7aWYoYS5VdGlscy5ub3JtYWxpc2VVcmwoZSk9PT1pKXJldHVybiBufXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRDYW52YXNCeUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKClbZV19LHQucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuZ2V0VG90YWxDYW52YXNlcygpO3QrKylpZih0aGlzLmdldENhbnZhc0J5SW5kZXgodCkuaWQ9PT1lKXJldHVybiB0O3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5TGFiZWw9ZnVuY3Rpb24oZSx0KXtlPWUudHJpbSgpLGlzTmFOKGUpfHwoZT1wYXJzZUludChlLDEwKS50b1N0cmluZygpLHQmJihlKz1cInJcIikpO2Zvcih2YXIgbixpLHIsbz0vKFxcZCopXFxEKyhcXGQqKS8scz0wO3M8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7cysrKXt2YXIgdT10aGlzLmdldENhbnZhc0J5SW5kZXgocyk7aWYoYS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh1LmdldExhYmVsKCksdGhpcy5vcHRpb25zLmxvY2FsZSk9PT1lKXJldHVybiBzO2lmKChuPW8uZXhlYyhlKSkmJihpPW5bMV0sKHI9blsyXSkmJm5ldyBSZWdFeHAoXCJeXCIraStcIlxcXFxEK1wiK3IrXCIkXCIpLnRlc3QodS5nZXRMYWJlbCgpLnRvU3RyaW5nKCkpKSlyZXR1cm4gc31yZXR1cm4tMX0sdC5wcm90b3R5cGUuZ2V0TGFzdENhbnZhc0xhYmVsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xO3Q+PTA7dC0tKXt2YXIgbj10aGlzLmdldENhbnZhc0J5SW5kZXgodCksaT1hLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKTtpZihlKXtpZigvXlthLXpBLVowLTldKiQvLnRlc3QoaSkpcmV0dXJuIGl9ZWxzZSBpZihpKXJldHVybiBpfXJldHVybiB0aGlzLm9wdGlvbnMuZGVmYXVsdExhYmVsfSx0LnByb3RvdHlwZS5nZXRMYXN0UGFnZUluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTF9LHQucHJvdG90eXBlLmdldE5leHRQYWdlSW5kZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0KXt2YXIgaT10aGlzLmdldFBhZ2VkSW5kaWNlcyhlKSxyPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO249ciYmcj09PW8uVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUP2lbMF0rMTppW2kubGVuZ3RoLTFdKzF9ZWxzZSBuPWUrMTtyZXR1cm4gbj50aGlzLmdldExhc3RQYWdlSW5kZXgoKT8tMTpufSx0LnByb3RvdHlwZS5nZXRQYWdlZEluZGljZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZih0KXtuPXRoaXMuaXNGaXJzdENhbnZhcyhlKXx8dGhpcy5pc0xhc3RDYW52YXMoZSk/W2VdOmUlMj9bZSxlKzFdOltlLTEsZV07dmFyIGk9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7aSYmaT09PW8uVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUJiYobj1uLnJldmVyc2UoKSl9ZWxzZSBuLnB1c2goZSk7cmV0dXJuIG59LHQucHJvdG90eXBlLmdldFByZXZQYWdlSW5kZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0KXt2YXIgaT10aGlzLmdldFBhZ2VkSW5kaWNlcyhlKSxyPXRoaXMuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO249ciYmcj09PW8uVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUP2lbaS5sZW5ndGgtMV0tMTppWzBdLTF9ZWxzZSBuPWUtMTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXNJbmRleD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U3RhcnRDYW52YXMoKTtpZihlKWZvcih2YXIgdD0wO3Q8dGhpcy5nZXRUb3RhbENhbnZhc2VzKCk7dCsrKWlmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KS5pZD09PWUpcmV0dXJuIHQ7cmV0dXJuIDB9LHQucHJvdG90eXBlLmdldFRodW1icz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLHI9MDtyPGk7cisrKXt2YXIgbz10aGlzLmdldENhbnZhc0J5SW5kZXgocikscz1uZXcgYS5UaHVtYihlLG8pO24ucHVzaChzKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0VGh1bWJuYWlscz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3RodW1ibmFpbHMpcmV0dXJuIHRoaXMuX3RodW1ibmFpbHM7dGhpcy5fdGh1bWJuYWlscz1bXTtmb3IodmFyIGU9dGhpcy5nZXRDYW52YXNlcygpLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XS5nZXRUaHVtYm5haWwoKTtuJiZ0aGlzLl90aHVtYm5haWxzLnB1c2gobil9cmV0dXJuIHRoaXMuX3RodW1ibmFpbHN9LHQucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzdGFydENhbnZhc1wiKX0sdC5wcm90b3R5cGUuZ2V0VG90YWxDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpP3RoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpOnRoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uP3RoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uKCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0LnByb3RvdHlwZS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gZT50aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5pc0ZpcnN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZX0sdC5wcm90b3R5cGUuaXNMYXN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sdC5wcm90b3R5cGUuaXNNdWx0aUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKT4xfSx0LnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuISFlJiZlPT09by5WaWV3aW5nSGludC5QQUdFRH0sdC5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSUyPT0wfSx0fShhLk1hbmlmZXN0UmVzb3VyY2UpO3QuU2VxdWVuY2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9SlNPTi5wYXJzZShlKSksdGhpcy5wYXJzZUpzb24oZSx0KX0sZS5wYXJzZUpzb249ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0JiZ0Lm5hdkRhdGUmJiFpc05hTih0Lm5hdkRhdGUuZ2V0VGltZSgpKSYmKGUubmF2RGF0ZT10Lm5hdkRhdGUudG9TdHJpbmcoKSksZVtcIkB0eXBlXCJdKXN3aXRjaChlW1wiQHR5cGVcIl0pe2Nhc2VcInNjOkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCk7YnJlYWs7Y2FzZVwic2M6TWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9ZWxzZSBzd2l0Y2goZS50eXBlKXtjYXNlXCJDb2xsZWN0aW9uXCI6bj10aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpO2JyZWFrO2Nhc2VcIk1hbmlmZXN0XCI6bj10aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiBuLmlzTG9hZGVkPSEwLG59LGUucGFyc2VDb2xsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGkuQ29sbGVjdGlvbihlLHQpO3JldHVybiB0PyhuLmluZGV4PXQuaW5kZXh8fDAsdC5yZXNvdXJjZSYmKG4ucGFyZW50Q29sbGVjdGlvbj10LnJlc291cmNlLnBhcmVudENvbGxlY3Rpb24pKTpuLmluZGV4PTAsdGhpcy5wYXJzZUNvbGxlY3Rpb25zKG4sdCksdGhpcy5wYXJzZU1hbmlmZXN0cyhuLHQpLHRoaXMucGFyc2VJdGVtcyhuLHQpLG59LGUucGFyc2VDb2xsZWN0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuX19qc29ubGQuY29sbGVjdGlvbnM/bj1lLl9fanNvbmxkLmNvbGxlY3Rpb25zOmUuX19qc29ubGQuaXRlbXMmJihuPWUuX19qc29ubGQuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImNvbGxlY3Rpb25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt0JiYodC5pbmRleD1pKTt2YXIgcj10aGlzLnBhcnNlQ29sbGVjdGlvbihuW2ldLHQpO3IuaW5kZXg9aSxyLnBhcmVudENvbGxlY3Rpb249ZSxlLml0ZW1zLnB1c2gocil9fSxlLnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkuTWFuaWZlc3QoZSx0KX0sZS5wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuX19qc29ubGQubWFuaWZlc3RzP249ZS5fX2pzb25sZC5tYW5pZmVzdHM6ZS5fX2pzb25sZC5pdGVtcyYmKG49ZS5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwibWFuaWZlc3RcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLnBhcnNlTWFuaWZlc3QobltpXSx0KTtyLmluZGV4PWksci5wYXJlbnRDb2xsZWN0aW9uPWUsZS5pdGVtcy5wdXNoKHIpfX0sZS5wYXJzZUl0ZW09ZnVuY3Rpb24oZSx0KXtpZihlW1wiQHR5cGVcIl0pe2lmKFwic2M6bWFuaWZlc3RcIj09PWVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTtpZihcInNjOmNvbGxlY3Rpb25cIj09PWVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpfWVsc2UgaWYoZS50eXBlKXtpZihcIm1hbmlmZXN0XCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7aWYoXCJjb2xsZWN0aW9uXCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KX1yZXR1cm4gbnVsbH0sZS5wYXJzZUl0ZW1zPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fX2pzb25sZC5tZW1iZXJzfHxlLl9fanNvbmxkLml0ZW1zO2lmKG4pZm9yKHZhciBpPWZ1bmN0aW9uKGkpe3QmJih0LmluZGV4PWkpO3ZhciBvPXIucGFyc2VJdGVtKG5baV0sdCk7cmV0dXJuIG8/ZS5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09by5pZH0pKVswXT9cImNvbnRpbnVlXCI6KG8uaW5kZXg9aSxvLnBhcmVudENvbGxlY3Rpb249ZSx2b2lkIGUuaXRlbXMucHVzaChvKSk6e3ZhbHVlOnZvaWQgMH19LHI9dGhpcyxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPWkobyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpcmV0dXJuIGEudmFsdWV9fSxlfSgpO3QuRGVzZXJpYWxpc2VyPXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuZ2V0UHJvZmlsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJwcm9maWxlXCIpO3JldHVybiBlfHwoZT10aGlzLmdldFByb3BlcnR5KFwiZGN0ZXJtczpjb25mb3Jtc1RvXCIpKSxBcnJheS5pc0FycmF5KGUpP2VbMF06ZX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlybUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImNvbmZpcm1MYWJlbFwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEZhaWx1cmVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlRGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEZhaWx1cmVIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZUhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0SGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0U2VydmljZUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRJbmZvVXJpPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pZDtyZXR1cm4gZS5lbmRzV2l0aChcIi9cIil8fChlKz1cIi9cIiksZStcImluZm8uanNvblwifSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuU2VydmljZT1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZVtlLkFVVEhPUklaQVRJT05fRkFJTEVEPTFdPVwiQVVUSE9SSVpBVElPTl9GQUlMRURcIixlW2UuRk9SQklEREVOPTJdPVwiRk9SQklEREVOXCIsZVtlLklOVEVSTkFMX1NFUlZFUl9FUlJPUj0zXT1cIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGVbZS5SRVNUUklDVEVEPTRdPVwiUkVTVFJJQ1RFRFwifSh0LlN0YXR1c0NvZGV8fCh0LlN0YXR1c0NvZGU9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMCk7dC5UaHVtYj1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YT10LHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLndpZHRoPWU7dmFyIG49dC5nZXRIZWlnaHQoKS90LmdldFdpZHRoKCk7dGhpcy5oZWlnaHQ9bj9NYXRoLmZsb29yKHRoaXMud2lkdGgqbik6ZSx0aGlzLnVyaT10LmdldENhbm9uaWNhbEltYWdlVXJpKGUpLHRoaXMubGFiZWw9aS5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0LmdldExhYmVsKCkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gcih0LGUpLHR9KG4oMCkuUmVzb3VyY2UpO3QuVGh1bWJuYWlsPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDApLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5sYWJlbD1lLHRoaXMuZGF0YT10fHx7fSx0aGlzLm5vZGVzPVtdfXJldHVybiBlLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKGUpe3RoaXMubm9kZXMucHVzaChlKSxlLnBhcmVudE5vZGU9dGhpc30sZS5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pfSxlLnByb3RvdHlwZS5pc01hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5VdGlscy5ub3JtYWxpc2VUeXBlKGkuVHJlZU5vZGVUeXBlLk1BTklGRVNUKX0sZS5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PWkuVXRpbHMubm9ybWFsaXNlVHlwZShpLlRyZWVOb2RlVHlwZS5SQU5HRSl9LGV9KCk7dC5UcmVlTm9kZT1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZS5DT0xMRUNUSU9OPVwiY29sbGVjdGlvblwiLGUuTUFOSUZFU1Q9XCJtYW5pZmVzdFwiLGUuUkFOR0U9XCJyYW5nZVwifSh0LlRyZWVOb2RlVHlwZXx8KHQuVHJlZU5vZGVUeXBlPXt9KSl9LGZ1bmN0aW9uKGUsdCxuKXt3aW5kb3csZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oaSl7aWYodFtpXSlyZXR1cm4gdFtpXS5leHBvcnRzO3ZhciByPXRbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsaSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSluLmQoaSxyLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNPTlRJTlVFPTEwMCx0LlNXSVRDSElOR19QUk9UT0NPTFM9MTAxLHQuUFJPQ0VTU0lORz0xMDIsdC5PSz0yMDAsdC5DUkVBVEVEPTIwMSx0LkFDQ0VQVEVEPTIwMix0Lk5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OPTIwMyx0Lk5PX0NPTlRFTlQ9MjA0LHQuUkVTRVRfQ09OVEVOVD0yMDUsdC5QQVJUSUFMX0NPTlRFTlQ9MjA2LHQuTVVMVElfU1RBVFVTPTIwNyx0Lk1VTFRJUExFX0NIT0lDRVM9MzAwLHQuTU9WRURfUEVSTUFORU5UTFk9MzAxLHQuTU9WRURfVEVNUE9SQVJJTFk9MzAyLHQuU0VFX09USEVSPTMwMyx0Lk5PVF9NT0RJRklFRD0zMDQsdC5VU0VfUFJPWFk9MzA1LHQuVEVNUE9SQVJZX1JFRElSRUNUPTMwNyx0LkJBRF9SRVFVRVNUPTQwMCx0LlVOQVVUSE9SSVpFRD00MDEsdC5QQVlNRU5UX1JFUVVJUkVEPTQwMix0LkZPUkJJRERFTj00MDMsdC5OT1RfRk9VTkQ9NDA0LHQuTUVUSE9EX05PVF9BTExPV0VEPTQwNSx0Lk5PVF9BQ0NFUFRBQkxFPTQwNix0LlBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTQwNyx0LlJFUVVFU1RfVElNRV9PVVQ9NDA4LHQuQ09ORkxJQ1Q9NDA5LHQuR09ORT00MTAsdC5MRU5HVEhfUkVRVUlSRUQ9NDExLHQuUFJFQ09ORElUSU9OX0ZBSUxFRD00MTIsdC5SRVFVRVNUX0VOVElUWV9UT09fTEFSR0U9NDEzLHQuUkVRVUVTVF9VUklfVE9PX0xBUkdFPTQxNCx0LlVOU1VQUE9SVEVEX01FRElBX1RZUEU9NDE1LHQuUkVRVUVTVEVEX1JBTkdFX05PVF9TQVRJU0ZJQUJMRT00MTYsdC5FWFBFQ1RBVElPTl9GQUlMRUQ9NDE3LHQuSU1fQV9URUFQT1Q9NDE4LHQuVU5QUk9DRVNTQUJMRV9FTlRJVFk9NDIyLHQuTE9DS0VEPTQyMyx0LkZBSUxFRF9ERVBFTkRFTkNZPTQyNCx0LlVOT1JERVJFRF9DT0xMRUNUSU9OPTQyNSx0LlVQR1JBREVfUkVRVUlSRUQ9NDI2LHQuUFJFQ09ORElUSU9OX1JFUVVJUkVEPTQyOCx0LlRPT19NQU5ZX1JFUVVFU1RTPTQyOSx0LlJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0U9NDMxLHQuSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMCx0Lk5PVF9JTVBMRU1FTlRFRD01MDEsdC5CQURfR0FURVdBWT01MDIsdC5TRVJWSUNFX1VOQVZBSUxBQkxFPTUwMyx0LkdBVEVXQVlfVElNRV9PVVQ9NTA0LHQuSFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQ9NTA1LHQuVkFSSUFOVF9BTFNPX05FR09USUFURVM9NTA2LHQuSU5TVUZGSUNJRU5UX1NUT1JBR0U9NTA3LHQuQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEPTUwOSx0Lk5PVF9FWFRFTkRFRD01MTAsdC5ORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEPTUxMX1dKX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz13aW5kb3cuZmV0Y2h8fCh3aW5kb3cuZmV0Y2g9bigzKS5kZWZhdWx0fHxuKDMpKX1dKX0sZnVuY3Rpb24oZSx0LG4pe3dpbmRvdyxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0wKX0oW2Z1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigxKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ09OVElOVUU9MTAwLHQuU1dJVENISU5HX1BST1RPQ09MUz0xMDEsdC5QUk9DRVNTSU5HPTEwMix0Lk9LPTIwMCx0LkNSRUFURUQ9MjAxLHQuQUNDRVBURUQ9MjAyLHQuTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT049MjAzLHQuTk9fQ09OVEVOVD0yMDQsdC5SRVNFVF9DT05URU5UPTIwNSx0LlBBUlRJQUxfQ09OVEVOVD0yMDYsdC5NVUxUSV9TVEFUVVM9MjA3LHQuTVVMVElQTEVfQ0hPSUNFUz0zMDAsdC5NT1ZFRF9QRVJNQU5FTlRMWT0zMDEsdC5NT1ZFRF9URU1QT1JBUklMWT0zMDIsdC5TRUVfT1RIRVI9MzAzLHQuTk9UX01PRElGSUVEPTMwNCx0LlVTRV9QUk9YWT0zMDUsdC5URU1QT1JBUllfUkVESVJFQ1Q9MzA3LHQuQkFEX1JFUVVFU1Q9NDAwLHQuVU5BVVRIT1JJWkVEPTQwMSx0LlBBWU1FTlRfUkVRVUlSRUQ9NDAyLHQuRk9SQklEREVOPTQwMyx0Lk5PVF9GT1VORD00MDQsdC5NRVRIT0RfTk9UX0FMTE9XRUQ9NDA1LHQuTk9UX0FDQ0VQVEFCTEU9NDA2LHQuUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NDA3LHQuUkVRVUVTVF9USU1FX09VVD00MDgsdC5DT05GTElDVD00MDksdC5HT05FPTQxMCx0LkxFTkdUSF9SRVFVSVJFRD00MTEsdC5QUkVDT05ESVRJT05fRkFJTEVEPTQxMix0LlJFUVVFU1RfRU5USVRZX1RPT19MQVJHRT00MTMsdC5SRVFVRVNUX1VSSV9UT09fTEFSR0U9NDE0LHQuVU5TVVBQT1JURURfTUVESUFfVFlQRT00MTUsdC5SRVFVRVNURURfUkFOR0VfTk9UX1NBVElTRklBQkxFPTQxNix0LkVYUEVDVEFUSU9OX0ZBSUxFRD00MTcsdC5JTV9BX1RFQVBPVD00MTgsdC5VTlBST0NFU1NBQkxFX0VOVElUWT00MjIsdC5MT0NLRUQ9NDIzLHQuRkFJTEVEX0RFUEVOREVOQ1k9NDI0LHQuVU5PUkRFUkVEX0NPTExFQ1RJT049NDI1LHQuVVBHUkFERV9SRVFVSVJFRD00MjYsdC5QUkVDT05ESVRJT05fUkVRVUlSRUQ9NDI4LHQuVE9PX01BTllfUkVRVUVTVFM9NDI5LHQuUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRT00MzEsdC5JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwLHQuTk9UX0lNUExFTUVOVEVEPTUwMSx0LkJBRF9HQVRFV0FZPTUwMix0LlNFUlZJQ0VfVU5BVkFJTEFCTEU9NTAzLHQuR0FURVdBWV9USU1FX09VVD01MDQsdC5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRD01MDUsdC5WQVJJQU5UX0FMU09fTkVHT1RJQVRFUz01MDYsdC5JTlNVRkZJQ0lFTlRfU1RPUkFHRT01MDcsdC5CQU5EV0lEVEhfTElNSVRfRVhDRUVERUQ9NTA5LHQuTk9UX0VYVEVOREVEPTUxMCx0Lk5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ9NTExfV0pfSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMyl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLGE9big1KSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uX2RhdGE9bi5kYXRhKCksbi5fZGF0YT1uLm9wdGlvbnMuZGF0YSxuLl9pbml0KCksbi5fcmVzaXplKCksbn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7ZS5wcm90b3R5cGUuX2luaXQuY2FsbCh0aGlzKSx0aGlzLl8kZWxlbWVudD0kKHRoaXMuZWwpO3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuXyR0cmVlPSQoJzx1bCBjbGFzcz1cInRyZWVcIj48L3VsPicpLHRoaXMuXyRlbGVtZW50LmFwcGVuZCh0aGlzLl8kdHJlZSksJC50ZW1wbGF0ZXMoe3BhZ2VUZW1wbGF0ZTpcIntee2ZvciBub2Rlc319XFx0XFx0XFx0XFx0XFx0e157dHJlZS99fVxcdFxcdFxcdFxcdHt7L2Zvcn19XCIsdHJlZVRlbXBsYXRlOic8bGk+XFx0XFx0XFx0XFx0XFx0XFx0e157aWYgbm9kZXMgJiYgbm9kZXMubGVuZ3RofX1cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwidG9nZ2xlXCIgZGF0YS1saW5rPVwiY2xhc3N7bWVyZ2U6ZXhwYW5kZWQgdG9nZ2xlPVxcJ2V4cGFuZGVkXFwnfVwiPjwvZGl2PlxcdFxcdFxcdFxcdFxcdFxcdHt7ZWxzZX19XFx0XFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cInNwYWNlclwiPjwvZGl2PlxcdFxcdFxcdFxcdFxcdFxcdHt7L2lmfX1cXHRcXHRcXHRcXHRcXHRcXHR7XntpZiBtdWx0aVNlbGVjdEVuYWJsZWR9fVxcdFxcdFxcdFxcdFxcdFxcdFxcdDxpbnB1dCBpZD1cInRyZWUtY2hlY2tib3gte3s+aWR9fVwiIHR5cGU9XCJjaGVja2JveFwiIGRhdGEtbGluaz1cImNoZWNrZWR7Om11bHRpU2VsZWN0ZWQgPyBcXCdjaGVja2VkXFwnIDogXFwnXFwnfVwiIGNsYXNzPVwibXVsdGlTZWxlY3RcIiAvPlxcdFxcdFxcdFxcdFxcdFxcdHt7L2lmfX1cXHRcXHRcXHRcXHRcXHRcXHR7XntpZiBzZWxlY3RlZH19XFx0XFx0XFx0XFx0XFx0XFx0XFx0PGEgaWQ9XCJ0cmVlLWxpbmste3s+aWR9fVwiIGhyZWY9XCIjXCIgdGl0bGU9XCJ7ez5sYWJlbH19XCIgY2xhc3M9XCJzZWxlY3RlZFwiPnt7PmxhYmVsfX08L2E+XFx0XFx0XFx0XFx0XFx0XFx0e3tlbHNlfX1cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8YSBpZD1cInRyZWUtbGluay17ez5pZH19XCIgaHJlZj1cIiNcIiB0aXRsZT1cInt7PmxhYmVsfX1cIj57ez5sYWJlbH19PC9hPlxcdFxcdFxcdFxcdFxcdFxcdHt7L2lmfX1cXHRcXHRcXHRcXHQ8L2xpPlxcdFxcdFxcdFxcdHtee2lmIGV4cGFuZGVkfX1cXHRcXHRcXHRcXHRcXHQ8bGk+XFx0XFx0XFx0XFx0XFx0XFx0XFx0PHVsPlxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHtee2ZvciBub2Rlc319XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0e157dHJlZS99fVxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHt7L2Zvcn19XFx0XFx0XFx0XFx0XFx0XFx0XFx0PC91bD5cXHRcXHRcXHRcXHRcXHQ8L2xpPlxcdFxcdFxcdFxcdHt7L2lmfX0nfSksJC52aWV3cy50YWdzKHt0cmVlOnt0b2dnbGVFeHBhbmRlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTt0Ll9zZXROb2RlRXhwYW5kZWQoZSwhZS5leHBhbmRlZCl9LHRvZ2dsZU11bHRpU2VsZWN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO2lmKHQuX3NldE5vZGVNdWx0aVNlbGVjdGVkKGUsIWUubXVsdGlTZWxlY3RlZCksZS5pc1JhbmdlKCkpe3ZhciBuPXQuX2dldE11bHRpU2VsZWN0U3RhdGUoKTtuJiZuLnNlbGVjdFJhbmdlKGUuZGF0YSxlLm11bHRpU2VsZWN0ZWQpfXQuZmlyZSh1LlRSRUVfTk9ERV9NVUxUSVNFTEVDVEVELGUpfSxpbml0OmZ1bmN0aW9uKGUsdCxuKXt0aGlzLmRhdGE9ZS52aWV3LmRhdGF9LG9uQWZ0ZXJMaW5rOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNvbnRlbnRzKFwibGlcIikuZmlyc3QoKS5vbihcImNsaWNrXCIsXCIudG9nZ2xlXCIsKGZ1bmN0aW9uKCl7ZS50b2dnbGVFeHBhbmRlZCgpfSkpLm9uKFwiY2xpY2tcIixcImFcIiwoZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPWUuZGF0YTtpLm5vZGVzLmxlbmd0aCYmdC5fZGF0YS5icmFuY2hOb2Rlc0V4cGFuZE9uQ2xpY2smJmUudG9nZ2xlRXhwYW5kZWQoKSxpLm11bHRpU2VsZWN0RW5hYmxlZD9lLnRvZ2dsZU11bHRpU2VsZWN0KCk6aS5ub2Rlcy5sZW5ndGg/dC5fZGF0YS5icmFuY2hOb2Rlc1NlbGVjdGFibGUmJih0LmZpcmUodS5UUkVFX05PREVfU0VMRUNURUQsaSksdC5zZWxlY3ROb2RlKGkpKToodC5maXJlKHUuVFJFRV9OT0RFX1NFTEVDVEVELGkpLHQuc2VsZWN0Tm9kZShpKSl9KSkub24oXCJjbGlja1wiLFwiaW5wdXQubXVsdGlTZWxlY3RcIiwoZnVuY3Rpb24odCl7ZS50b2dnbGVNdWx0aVNlbGVjdCgpfSkpfSx0ZW1wbGF0ZTokLnRlbXBsYXRlcy50cmVlVGVtcGxhdGV9fSksITB9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX2RhdGE9T2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLGUpLHRoaXMuX2RhdGEuaGVscGVyKXt0aGlzLl9yb290Tm9kZT10aGlzLl9kYXRhLmhlbHBlci5nZXRUcmVlKHRoaXMuX2RhdGEudG9wUmFuZ2VJbmRleCx0aGlzLl9kYXRhLnRyZWVTb3J0VHlwZSksdGhpcy5fZmxhdHRlbmVkVHJlZT1udWxsLHRoaXMuX211bHRpU2VsZWN0YWJsZU5vZGVzPW51bGwsdGhpcy5fJHRyZWUubGluaygkLnRlbXBsYXRlcy5wYWdlVGVtcGxhdGUsdGhpcy5fcm9vdE5vZGUpO3ZhciBuPXRoaXMuX2dldE11bHRpU2VsZWN0U3RhdGUoKTtpZihuKWZvcih2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1uLnJhbmdlc1tlXSxpPXIuX2dldE11bHRpU2VsZWN0YWJsZU5vZGVzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhLmlkPT09dC5pZH0pKVswXTtpJiYoci5fc2V0Tm9kZU11bHRpU2VsZWN0RW5hYmxlZChpLHQubXVsdGlTZWxlY3RFbmFibGVkKSxyLl9zZXROb2RlTXVsdGlTZWxlY3RlZChpLHQubXVsdGlTZWxlY3RlZCkpfSxyPXRoaXMsbz0wO288bi5yYW5nZXMubGVuZ3RoO28rKylpKG8pO2lmKHRoaXMuX2RhdGEuYXV0b0V4cGFuZCl0aGlzLmdldEFsbE5vZGVzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0Ll9zZXROb2RlRXhwYW5kZWQoZSwhMCl9KSl9fSx0LnByb3RvdHlwZS5fZ2V0TXVsdGlTZWxlY3RTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmhlbHBlcj90aGlzLl9kYXRhLmhlbHBlci5nZXRNdWx0aVNlbGVjdFN0YXRlKCk6bnVsbH0sdC5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybnthdXRvRXhwYW5kOiExLGJyYW5jaE5vZGVzRXhwYW5kT25DbGljazohMCxicmFuY2hOb2Rlc1NlbGVjdGFibGU6ITAsaGVscGVyOm51bGwsdG9wUmFuZ2VJbmRleDowLHRyZWVTb3J0VHlwZTphLlRyZWVTb3J0VHlwZS5OT05FfX0sdC5wcm90b3R5cGUuYWxsTm9kZXNTZWxlY3RlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldE11bHRpU2VsZWN0YWJsZU5vZGVzKCksdD10aGlzLmdldE11bHRpU2VsZWN0ZWROb2RlcygpO3JldHVybiBlLmxlbmd0aD09PXQubGVuZ3RofSx0LnByb3RvdHlwZS5fZ2V0TXVsdGlTZWxlY3RhYmxlTm9kZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX211bHRpU2VsZWN0YWJsZU5vZGVzKXJldHVybiB0aGlzLl9tdWx0aVNlbGVjdGFibGVOb2Rlczt2YXIgdD10aGlzLmdldEFsbE5vZGVzKCk7cmV0dXJuIHQ/dGhpcy5fbXVsdGlTZWxlY3RhYmxlTm9kZXM9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9ub2RlSXNNdWx0aVNlbGVjdGFibGUodCl9KSk6W119LHQucHJvdG90eXBlLl9ub2RlSXNNdWx0aVNlbGVjdGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5kYXRhLnR5cGU9PT1vLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCYmZS5ub2RlcyYmZS5ub2Rlcy5sZW5ndGg+MHx8ZS5kYXRhLnR5cGU9PT1vLlRyZWVOb2RlVHlwZS5SQU5HRSl9LHQucHJvdG90eXBlLmdldEFsbE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZsYXR0ZW5lZFRyZWU/dGhpcy5fZmxhdHRlbmVkVHJlZTp0aGlzLl9kYXRhLmhlbHBlcj90aGlzLl9mbGF0dGVuZWRUcmVlPXRoaXMuX2RhdGEuaGVscGVyLmdldEZsYXR0ZW5lZFRyZWUodGhpcy5fcm9vdE5vZGUpOltdfSx0LnByb3RvdHlwZS5nZXRNdWx0aVNlbGVjdGVkTm9kZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmdldEFsbE5vZGVzKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fbm9kZUlzTXVsdGlTZWxlY3RhYmxlKHQpJiZ0Lm11bHRpU2VsZWN0ZWR9KSl9LHQucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEFsbE5vZGVzKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KSlbMF19LHQucHJvdG90eXBlLmV4cGFuZFBhcmVudHM9ZnVuY3Rpb24oZSx0KXtlJiZlLnBhcmVudE5vZGUmJih0aGlzLl9zZXROb2RlRXhwYW5kZWQoZS5wYXJlbnROb2RlLHQpLHRoaXMuZXhwYW5kUGFyZW50cyhlLnBhcmVudE5vZGUsdCkpfSx0LnByb3RvdHlwZS5fc2V0Tm9kZVNlbGVjdGVkPWZ1bmN0aW9uKGUsdCl7JC5vYnNlcnZhYmxlKGUpLnNldFByb3BlcnR5KFwic2VsZWN0ZWRcIix0KX0sdC5wcm90b3R5cGUuX3NldE5vZGVFeHBhbmRlZD1mdW5jdGlvbihlLHQpeyQub2JzZXJ2YWJsZShlKS5zZXRQcm9wZXJ0eShcImV4cGFuZGVkXCIsdCl9LHQucHJvdG90eXBlLl9zZXROb2RlTXVsdGlTZWxlY3RlZD1mdW5jdGlvbihlLHQpeyQub2JzZXJ2YWJsZShlKS5zZXRQcm9wZXJ0eShcIm11bHRpU2VsZWN0ZWRcIix0KX0sdC5wcm90b3R5cGUuX3NldE5vZGVNdWx0aVNlbGVjdEVuYWJsZWQ9ZnVuY3Rpb24oZSx0KXskLm9ic2VydmFibGUoZSkuc2V0UHJvcGVydHkoXCJtdWx0aVNlbGVjdEVuYWJsZWRcIix0KX0sdC5wcm90b3R5cGUuc2VsZWN0UGF0aD1mdW5jdGlvbihlKXtpZih0aGlzLl9yb290Tm9kZSl7dmFyIHQ9ZS5zcGxpdChcIi9cIik7dC5sZW5ndGg+PTEmJnQuc2hpZnQoKTt2YXIgbj10aGlzLmdldE5vZGVCeVBhdGgodGhpcy5fcm9vdE5vZGUsdCk7dGhpcy5zZWxlY3ROb2RlKG4pfX0sdC5wcm90b3R5cGUuZGVzZWxlY3RDdXJyZW50Tm9kZT1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWROb2RlJiZ0aGlzLl9zZXROb2RlU2VsZWN0ZWQodGhpcy5zZWxlY3RlZE5vZGUsITEpfSx0LnByb3RvdHlwZS5zZWxlY3ROb2RlPWZ1bmN0aW9uKGUpe3RoaXMuX3Jvb3ROb2RlJiYodGhpcy5kZXNlbGVjdEN1cnJlbnROb2RlKCksdGhpcy5zZWxlY3RlZE5vZGU9ZSx0aGlzLl9zZXROb2RlU2VsZWN0ZWQodGhpcy5zZWxlY3RlZE5vZGUsITApKX0sdC5wcm90b3R5cGUuZXhwYW5kTm9kZT1mdW5jdGlvbihlLHQpe3RoaXMuX3Jvb3ROb2RlJiZ0aGlzLl9zZXROb2RlRXhwYW5kZWQoZSx0KX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5UGF0aD1mdW5jdGlvbihlLHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gZTt2YXIgbj1OdW1iZXIodC5zaGlmdCgpKSxpPWUubm9kZXNbbl07cmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5UGF0aChpLHQpfSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5fJGVsZW1lbnQuc2hvdygpfSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5fJGVsZW1lbnQuaGlkZSgpfSx0LnByb3RvdHlwZS5fcmVzaXplPWZ1bmN0aW9uKCl7fSx0fShuKDQpLkJhc2VDb21wb25lbnQpO3QuVHJlZUNvbXBvbmVudD1zO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5UUkVFX05PREVfTVVMVElTRUxFQ1RFRD1cInRyZWVOb2RlTXVsdGlTZWxlY3RlZFwiLGUuVFJFRV9OT0RFX1NFTEVDVEVEPVwidHJlZU5vZGVTZWxlY3RlZFwiLGV9KCk7dC5FdmVudHM9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcIkJhc2VDb21wb25lbnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5vcHRpb25zPWUsdGhpcy5vcHRpb25zLmRhdGE9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmRhdGEoKSxlLmRhdGEpfXJldHVybiBlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsPXRoaXMub3B0aW9ucy50YXJnZXQsdGhpcy5lbD8odGhpcy5lbC5pbm5lckhUTUw9XCJcIiwhMCk6KGNvbnNvbGUud2FybihcImVsZW1lbnQgbm90IGZvdW5kXCIpLCExKX0sZS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe3JldHVybnt9fSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy5fZXx8KHRoaXMuX2U9e30pOyhpW2VdfHwoaVtlXT1bXSkpLnB1c2goe2ZuOnQsY3R4Om59KX0sZS5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtmb3IodmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj0oKHRoaXMuX2V8fCh0aGlzLl9lPXt9KSlbZV18fFtdKS5zbGljZSgpLG89MCxhPXIubGVuZ3RoO288YTtvKyspcltvXS5mbi5hcHBseShyW29dLmN0eCxpKX0sZS5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe30sZX0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgaSxyLG8sYSxzLHUsbCxjLHAsZixoPWZ1bmN0aW9uKGUpe3RoaXMuaXNWaXNpYmxlPSEwO3ZhciB0PWUub24ubWF0Y2goLy4qeHl3aD0oXFxkKiksKFxcZCopLChcXGQqKSwoXFxkKikvKTt0aGlzLng9TnVtYmVyKHRbMV0pLHRoaXMueT1OdW1iZXIodFsyXSksdGhpcy53aWR0aD1OdW1iZXIodFszXSksdGhpcy5oZWlnaHQ9TnVtYmVyKHRbNF0pLHRoaXMuY2hhcnM9ZS5yZXNvdXJjZS5jaGFyc30sZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnJlY3RzPVtdLHRoaXMuY2FudmFzSW5kZXg9dCx0aGlzLmFkZFJlY3QoZSl9cmV0dXJuIGUucHJvdG90eXBlLmFkZFJlY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGgoZSk7dC5jYW52YXNJbmRleD10aGlzLmNhbnZhc0luZGV4LHQuaW5kZXg9dGhpcy5yZWN0cy5sZW5ndGgsdGhpcy5yZWN0cy5wdXNoKHQpLHRoaXMucmVjdHMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleC10LmluZGV4fSkpfSxlfSgpLGc9bigwKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaXNFbmFibGVkPSExLHRoaXMucmFuZ2VzPVtdLHRoaXMuY2FudmFzZXM9W119cmV0dXJuIGUucHJvdG90eXBlLmFsbENhbnZhc2VzU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5sZW5ndGg+MCYmdGhpcy5nZXRBbGxTZWxlY3RlZENhbnZhc2VzKCkubGVuZ3RoPT09dGhpcy5jYW52YXNlcy5sZW5ndGh9LGUucHJvdG90eXBlLmFsbFJhbmdlc1NlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzLmxlbmd0aD4wJiZ0aGlzLmdldEFsbFNlbGVjdGVkUmFuZ2VzKCkubGVuZ3RoPT09dGhpcy5yYW5nZXMubGVuZ3RofSxlLnByb3RvdHlwZS5hbGxTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFsbFJhbmdlc1NlbGVjdGVkKCkmJnRoaXMuYWxsQ2FudmFzZXNTZWxlY3RlZCgpfSxlLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXNlcy5jb25jYXQodGhpcy5yYW5nZXMpfSxlLnByb3RvdHlwZS5nZXRBbGxTZWxlY3RlZENhbnZhc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzZXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tdWx0aVNlbGVjdGVkfSkpfSxlLnByb3RvdHlwZS5nZXRBbGxTZWxlY3RlZFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm11bHRpU2VsZWN0ZWR9KSl9LGUucHJvdG90eXBlLmdldENhbnZhc0J5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2FudmFzZXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZy5VdGlscy5ub3JtYWxpc2VVcmwodC5pZCk9PT1nLlV0aWxzLm5vcm1hbGlzZVVybChlKX0pKVswXX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXNCeUlkcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO3QucHVzaCh0aGlzLmdldENhbnZhc0J5SWQoaSkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5nZXRSYW5nZUNhbnZhc2VzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q2FudmFzSWRzKCk7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzZXNCeUlkcyh0KX0sZS5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0UmFuZ2VzKHRoaXMucmFuZ2VzLGUpLHRoaXMuc2VsZWN0Q2FudmFzZXModGhpcy5jYW52YXNlcyxlKX0sZS5wcm90b3R5cGUuc2VsZWN0Q2FudmFzPWZ1bmN0aW9uKGUsdCl7dGhpcy5jYW52YXNlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZS5pZH0pKVswXS5tdWx0aVNlbGVjdGVkPXR9LGUucHJvdG90eXBlLnNlbGVjdEFsbENhbnZhc2VzPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0Q2FudmFzZXModGhpcy5jYW52YXNlcyxlKX0sZS5wcm90b3R5cGUuc2VsZWN0Q2FudmFzZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7ZVtuXS5tdWx0aVNlbGVjdGVkPXR9fSxlLnByb3RvdHlwZS5zZWxlY3RSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmFuZ2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lLmlkfSkpWzBdO24ubXVsdGlTZWxlY3RlZD10O3ZhciBpPXRoaXMuZ2V0UmFuZ2VDYW52YXNlcyhuKTt0aGlzLnNlbGVjdENhbnZhc2VzKGksdCl9LGUucHJvdG90eXBlLnNlbGVjdEFsbFJhbmdlcz1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdFJhbmdlcyh0aGlzLnJhbmdlcyxlKX0sZS5wcm90b3R5cGUuc2VsZWN0UmFuZ2VzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aS5tdWx0aVNlbGVjdGVkPXQ7dmFyIHI9dGhpcy5nZXRDYW52YXNlc0J5SWRzKGkuZ2V0Q2FudmFzSWRzKCkpO3RoaXMuc2VsZWN0Q2FudmFzZXMocix0KX19LGUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5pc0VuYWJsZWQ9ZTtmb3IodmFyIHQ9dGhpcy5nZXRBbGwoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5tdWx0aVNlbGVjdEVuYWJsZWQ9dGhpcy5pc0VuYWJsZWQsZXx8KGkubXVsdGlTZWxlY3RlZD0hMSl9fSxlfSgpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5pdGVtcz1bXSx0aGlzLnJlc291cmNlPWUsdGhpcy5sYWJlbD10fXJldHVybiBlLnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGUpe3RoaXMuaXRlbXMucHVzaChlKX0sZS5wcm90b3R5cGUuYWRkTWV0YWRhdGE9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aS5pc1Jvb3RMZXZlbD10LHRoaXMuYWRkSXRlbShpKX19LGV9KCk7IWZ1bmN0aW9uKGUpe2UuREFURT1cImRhdGVcIixlLk5PTkU9XCJub25lXCJ9KGl8fChpPXt9KSksZnVuY3Rpb24oZSl7ZS5CT09LTUFSS0lORz1cIm9hOmJvb2ttYXJraW5nXCIsZS5DTEFTU0lGWUlORz1cIm9hOmNsYXNzaWZ5aW5nXCIsZS5DT01NRU5USU5HPVwib2E6Y29tbWVudGluZ1wiLGUuREVTQ1JJQklORz1cIm9hOmRlc2NyaWJpbmdcIixlLkVESVRJTkc9XCJvYTplZGl0aW5nXCIsZS5ISUdITElHSFRJTkc9XCJvYTpoaWdobGlnaHRpbmdcIixlLklERU5USUZZSU5HPVwib2E6aWRlbnRpZnlpbmdcIixlLkxJTktJTkc9XCJvYTpsaW5raW5nXCIsZS5NT0RFUkFUSU5HPVwib2E6bW9kZXJhdGluZ1wiLGUuUEFJTlRJTkc9XCJzYzpwYWludGluZ1wiLGUuUVVFU1RJT05JTkc9XCJvYTpxdWVzdGlvbmluZ1wiLGUuUkVQTFlJTkc9XCJvYTpyZXBseWluZ1wiLGUuVEFHR0lORz1cIm9hOnRhZ2dpbmdcIixlLlRSQU5TQ1JJQklORz1cIm9hZDp0cmFuc2NyaWJpbmdcIn0ocnx8KHI9e30pKSxmdW5jdGlvbihlKXtlLkFVVE9fQURWQU5DRT1cImF1dG8tYWR2YW5jZVwiLGUuQ09OVElOVU9VUz1cImNvbnRpbnVvdXNcIixlLkZBQ0lOR19QQUdFUz1cImZhY2luZy1wYWdlc1wiLGUuSElEREVOPVwiaGlkZGVuXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5NVUxUSV9QQVJUPVwibXVsdGktcGFydFwiLGUuTk9fTkFWPVwibm8tbmF2XCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlJFUEVBVD1cInJlcGVhdFwiLGUuU0VRVUVOQ0U9XCJzZXF1ZW5jZVwiLGUuVEhVTUJOQUlMX05BVj1cInRodW1ibmFpbC1uYXZcIixlLlRPR0VUSEVSPVwidG9nZXRoZXJcIixlLlVOT1JERVJFRD1cInVub3JkZXJlZFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ0FOVkFTPVwiY2FudmFzXCIsZS5DSE9JQ0U9XCJjaG9pY2VcIixlLkNPTlRFTlRfQVNfVEVYVD1cImNvbnRlbnRhc3RleHRcIixlLkRBVEFTRVQ9XCJkYXRhc2V0XCIsZS5ET0NVTUVOVD1cImRvY3VtZW50XCIsZS5JTUFHRT1cImltYWdlXCIsZS5NT0RFTD1cIm1vZGVsXCIsZS5NT1ZJTkdfSU1BR0U9XCJtb3ZpbmdpbWFnZVwiLGUuUERGPVwicGRmXCIsZS5QSFlTSUNBTF9PQkpFQ1Q9XCJwaHlzaWNhbG9iamVjdFwiLGUuU09VTkQ9XCJzb3VuZFwiLGUuVEVYVD1cInRleHRcIixlLlRFWFRVQUxCT0RZPVwidGV4dHVhbGJvZHlcIixlLlZJREVPPVwidmlkZW9cIn0oYXx8KGE9e30pKSxmdW5jdGlvbihlKXtlLkFOTk9UQVRJT049XCJhbm5vdGF0aW9uXCIsZS5DQU5WQVM9XCJjYW52YXNcIixlLkNPTExFQ1RJT049XCJjb2xsZWN0aW9uXCIsZS5NQU5JRkVTVD1cIm1hbmlmZXN0XCIsZS5SQU5HRT1cInJhbmdlXCIsZS5TRVFVRU5DRT1cInNlcXVlbmNlXCJ9KHN8fChzPXt9KSksZnVuY3Rpb24oZSl7ZS5BVURJT19NUDQ9XCJhdWRpby9tcDRcIixlLkNPUlRPPVwiYXBwbGljYXRpb24vY29ydG9cIixlLkRSQUNPPVwiYXBwbGljYXRpb24vZHJhY29cIixlLkVQVUI9XCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiLGUuR0xURj1cIm1vZGVsL2dsdGYranNvblwiLGUuSlBHPVwiaW1hZ2UvanBlZ1wiLGUuTTNVOD1cImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsZS5NUDM9XCJhdWRpby9tcDNcIixlLk1QRUdfREFTSD1cImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsZS5PQko9XCJ0ZXh0L3BsYWluXCIsZS5PUEY9XCJhcHBsaWNhdGlvbi9vZWJwcy1wYWNrYWdlK3htbFwiLGUuUERGPVwiYXBwbGljYXRpb24vcGRmXCIsZS5QTFk9XCJhcHBsaWNhdGlvbi9wbHlcIixlLlRIUkVFSlM9XCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCIsZS5WSURFT19NUDQ9XCJ2aWRlby9tcDRcIixlLldFQk09XCJ2aWRlby93ZWJtXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5ET0M9XCJhcHBsaWNhdGlvbi9tc3dvcmRcIixlLkRPQ1g9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiLGUuUERGPVwiYXBwbGljYXRpb24vcGRmXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMT1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMD1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCIsZS5JTUFHRV8xX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMi5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzA9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDAuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwxLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMi5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMj1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCIsZS5BVVRIXzBfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzBfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCIsZS5BVVRIXzBfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dvdXRcIixlLkFVVEhfMF9SRVNUUklDVEVEPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9yZXN0cmljdGVkXCIsZS5BVVRIXzBfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCIsZS5BVVRIXzFfQ0xJQ0tfVEhST1VHSD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvY2xpY2t0aHJvdWdoXCIsZS5BVVRIXzFfRVhURVJOQUw9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2V4dGVybmFsXCIsZS5BVVRIXzFfS0lPU0s9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCIsZS5BVVRIXzFfTE9HSU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ2luXCIsZS5BVVRIXzFfTE9HT1VUPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dvdXRcIixlLkFVVEhfMV9QUk9CRT1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIixlLkFVVEhfMV9UT0tFTj1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvdG9rZW5cIixlLlNFQVJDSF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8wL3NlYXJjaFwiLGUuU0VBUkNIXzBfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIixlLlNFQVJDSF8xPVwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL3NlYXJjaFwiLGUuU0VBUkNIXzFfQVVUT19DT01QTEVURT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9hdXRvY29tcGxldGVcIixlLlRSQUNLSU5HX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuVUlfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vdWktZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5QUklOVF9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9wcmludC1leHRlbnNpb25zLXByb2ZpbGVcIixlLlNIQVJFX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuT1RIRVJfTUFOSUZFU1RBVElPTlM9XCJodHRwOi8vaWlpZi5pby9hcGkvb3RoZXJNYW5pZmVzdGF0aW9ucy5qc29uXCIsZS5JWElGPVwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIn0oY3x8KGM9e30pKSxmdW5jdGlvbihlKXtlLkJPVFRPTV9UT19UT1A9XCJib3R0b20tdG8tdG9wXCIsZS5MRUZUX1RPX1JJR0hUPVwibGVmdC10by1yaWdodFwiLGUuUklHSFRfVE9fTEVGVD1cInJpZ2h0LXRvLWxlZnRcIixlLlRPUF9UT19CT1RUT009XCJ0b3AtdG8tYm90dG9tXCJ9KHB8fChwPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05USU5VT1VTPVwiY29udGludW91c1wiLGUuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLGUuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsZS5QQUdFRD1cInBhZ2VkXCIsZS5UT1A9XCJ0b3BcIn0oZnx8KGY9e30pKTt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUubWFuaWZlc3ROb3RMb2FkZWQ9XCJNYW5pZmVzdCBoYXMgbm90IGxvYWRlZCB5ZXRcIixlfSgpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMub3B0aW9ucz1lLHRoaXMuaWlpZlJlc291cmNlPXRoaXMub3B0aW9ucy5paWlmUmVzb3VyY2UsdGhpcy5tYW5pZmVzdFVyaT10aGlzLm9wdGlvbnMubWFuaWZlc3RVcmksdGhpcy5tYW5pZmVzdD10aGlzLm9wdGlvbnMubWFuaWZlc3QsdGhpcy5jb2xsZWN0aW9uSW5kZXg9dGhpcy5vcHRpb25zLmNvbGxlY3Rpb25JbmRleHx8MCx0aGlzLm1hbmlmZXN0SW5kZXg9dGhpcy5vcHRpb25zLm1hbmlmZXN0SW5kZXh8fDAsdGhpcy5zZXF1ZW5jZUluZGV4PXRoaXMub3B0aW9ucy5zZXF1ZW5jZUluZGV4fHwwLHRoaXMuY2FudmFzSW5kZXg9dGhpcy5vcHRpb25zLmNhbnZhc0luZGV4fHwwfXJldHVybiBlLnByb3RvdHlwZS5nZXRBdXRvQ29tcGxldGVTZXJ2aWNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWFyY2hTZXJ2aWNlKCksdD1udWxsO3JldHVybiBlJiYoKHQ9ZS5nZXRTZXJ2aWNlKGMuU0VBUkNIXzBfQVVUT19DT01QTEVURSkpfHwodD1lLmdldFNlcnZpY2UoYy5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFKSkpLHR9LGUucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPXRoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKTtyZXR1cm4gZT9nLkxhbmd1YWdlTWFwLmdldFZhbHVlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNlcygpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0J5SWQoZSl9LGUucHJvdG90eXBlLmdldENhbnZhc2VzQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dLHI9dGhpcy5nZXRDYW52YXNCeUlkKGkpO3ImJnQucHVzaChyKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUluZGV4KGUpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzSW5kZXhCeUlkKGUpfSxlLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5TGFiZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRNYW5pZmVzdFR5cGUoKT09PWcuTWFuaWZlc3RUeXBlLk1BTlVTQ1JJUFQ7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzSW5kZXhCeUxhYmVsKGUsdCl9LGUucHJvdG90eXBlLmdldENhbnZhc1JhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRDYW52YXNSYW5nZXMoZSk7aWYodCl7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5wYXRoPT09dClyZXR1cm4gcn1yZXR1cm4gbnVsbH1yZXR1cm4gblswXX0sZS5wcm90b3R5cGUuZ2V0Q2FudmFzUmFuZ2VzPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gZS5yYW5nZXM/ZS5yYW5nZXM6KGUucmFuZ2VzPXRoaXMubWFuaWZlc3QuZ2V0QWxsUmFuZ2VzKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRDYW52YXNJZHMoKS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gZy5VdGlscy5ub3JtYWxpc2VVcmwodCk9PT1nLlV0aWxzLm5vcm1hbGlzZVVybChlLmlkKX0pKX0pKSxlLnJhbmdlcyl9LGUucHJvdG90eXBlLmdldENvbGxlY3Rpb25JbmRleD1mdW5jdGlvbihlKXtpZighZS5wYXJlbnRDb2xsZWN0aW9ufHxlLnBhcmVudENvbGxlY3Rpb24ucGFyZW50Q29sbGVjdGlvbilyZXR1cm4gZS5wYXJlbnRDb2xsZWN0aW9uP2UucGFyZW50Q29sbGVjdGlvbi5pbmRleDp2b2lkIDB9LGUucHJvdG90eXBlLmdldEN1cnJlbnRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUluZGV4KHRoaXMuY2FudmFzSW5kZXgpfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50U2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZXF1ZW5jZUJ5SW5kZXgodGhpcy5zZXF1ZW5jZUluZGV4KX0sZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpO3JldHVybiBlP2cuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpudWxsfSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLm1hbmlmZXN0LmdldExhYmVsKCk7cmV0dXJuIGU/Zy5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLHRoaXMub3B0aW9ucy5sb2NhbGUpOm51bGx9LGUucHJvdG90eXBlLmdldExhc3RDYW52YXNMYWJlbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRMYXN0Q2FudmFzTGFiZWwoZSl9LGUucHJvdG90eXBlLmdldEZpcnN0UGFnZUluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldExhc3RQYWdlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sZS5wcm90b3R5cGUuZ2V0TGljZW5zZT1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRMaWNlbnNlKCl9LGUucHJvdG90eXBlLmdldExvZ289ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0TG9nbygpfSxlLnByb3RvdHlwZS5nZXRNYW5pZmVzdFR5cGU9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXRNYW5pZmVzdFR5cGUoKTtyZXR1cm4gZT09PWcuTWFuaWZlc3RUeXBlLkVNUFRZJiYoZT1nLk1hbmlmZXN0VHlwZS5NT05PR1JBUEgpLGV9LGUucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgdD1bXSxuPXRoaXMubWFuaWZlc3QuZ2V0TWV0YWRhdGEoKSxpPW5ldyB2KHRoaXMubWFuaWZlc3QpLHI9dGhpcy5vcHRpb25zLmxvY2FsZTsobiYmbi5sZW5ndGgmJmkuYWRkTWV0YWRhdGEobiwhMCksdGhpcy5tYW5pZmVzdC5nZXREZXNjcmlwdGlvbigpLmxlbmd0aCkmJigocz1uZXcgZy5MYWJlbFZhbHVlUGFpcihyKSkubGFiZWw9W25ldyBnLkxhbmd1YWdlKFwiZGVzY3JpcHRpb25cIixyKV0scy52YWx1ZT10aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCkscy5pc1Jvb3RMZXZlbD0hMCxpLmFkZEl0ZW0ocykpO3RoaXMubWFuaWZlc3QuZ2V0QXR0cmlidXRpb24oKS5sZW5ndGgmJigocz1uZXcgZy5MYWJlbFZhbHVlUGFpcihyKSkubGFiZWw9W25ldyBnLkxhbmd1YWdlKFwiYXR0cmlidXRpb25cIixyKV0scy52YWx1ZT10aGlzLm1hbmlmZXN0LmdldEF0dHJpYnV0aW9uKCkscy5pc1Jvb3RMZXZlbD0hMCxpLmFkZEl0ZW0ocykpO3ZhciBvPXRoaXMubWFuaWZlc3QuZ2V0TGljZW5zZSgpO2lmKG8pe3ZhciBhPXtsYWJlbDpcImxpY2Vuc2VcIix2YWx1ZTplJiZlLmxpY2Vuc2VGb3JtYXR0ZXI/ZS5saWNlbnNlRm9ybWF0dGVyLmZvcm1hdChvKTpvfTsocz1uZXcgZy5MYWJlbFZhbHVlUGFpcihyKSkucGFyc2UoYSkscy5pc1Jvb3RMZXZlbD0hMCxpLmFkZEl0ZW0ocyl9aWYodGhpcy5tYW5pZmVzdC5nZXRMb2dvKCkpe3ZhciBzO2E9e2xhYmVsOlwibG9nb1wiLHZhbHVlOic8aW1nIHNyYz1cIicrdGhpcy5tYW5pZmVzdC5nZXRMb2dvKCkrJ1wiLz4nfTsocz1uZXcgZy5MYWJlbFZhbHVlUGFpcihyKSkucGFyc2UoYSkscy5pc1Jvb3RMZXZlbD0hMCxpLmFkZEl0ZW0ocyl9cmV0dXJuIHQucHVzaChpKSxlP3RoaXMuX3BhcnNlTWV0YWRhdGFPcHRpb25zKGUsdCk6dH0sZS5wcm90b3R5cGUuZ2V0UmVxdWlyZWRTdGF0ZW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXRSZXF1aXJlZFN0YXRlbWVudCgpO3JldHVybiBlP3tsYWJlbDplLmdldExhYmVsKCksdmFsdWU6ZS5nZXRWYWx1ZSgpfTpudWxsfSxlLnByb3RvdHlwZS5fcGFyc2VNZXRhZGF0YU9wdGlvbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLGk9bi5nZXRNZXRhZGF0YSgpO2lmKGkmJmkubGVuZ3RoKXt2YXIgcj1uZXcgdihuKTtyLmFkZE1ldGFkYXRhKGkpLHQucHVzaChyKX1pZihlLnJhbmdlKXt2YXIgbz10aGlzLl9nZXRSYW5nZU1ldGFkYXRhKFtdLGUucmFuZ2UpO289by5yZXZlcnNlKCksdD10LmNvbmNhdChvKX1pZihlLmNhbnZhc2VzJiZlLmNhbnZhc2VzLmxlbmd0aClmb3IodmFyIGE9MDthPGUuY2FudmFzZXMubGVuZ3RoO2ErKyl7dmFyIHM9ZS5jYW52YXNlc1thXSx1PXMuZ2V0TWV0YWRhdGEoKTtpZih1JiZ1Lmxlbmd0aCl7dmFyIGw9bmV3IHYocyk7bC5hZGRNZXRhZGF0YShzLmdldE1ldGFkYXRhKCkpLHQucHVzaChsKX1mb3IodmFyIGM9cy5nZXRJbWFnZXMoKSxwPTA7cDxjLmxlbmd0aDtwKyspe3ZhciBmPWNbcF0saD1mLmdldE1ldGFkYXRhKCk7aWYoaCYmaC5sZW5ndGgpe3ZhciBkPW5ldyB2KGYpO2QuYWRkTWV0YWRhdGEoaCksdC5wdXNoKGQpfX19cmV0dXJuIHR9LGUucHJvdG90eXBlLl9nZXRSYW5nZU1ldGFkYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXRNZXRhZGF0YSgpO2lmKG4mJm4ubGVuZ3RoKXt2YXIgaT1uZXcgdih0KTtpLmFkZE1ldGFkYXRhKG4pLGUucHVzaChpKX1lbHNlIGlmKHQucGFyZW50UmFuZ2UpcmV0dXJuIHRoaXMuX2dldFJhbmdlTWV0YWRhdGEoZSx0LnBhcmVudFJhbmdlKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0TXVsdGlTZWxlY3RTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdWx0aVNlbGVjdFN0YXRlfHwodGhpcy5fbXVsdGlTZWxlY3RTdGF0ZT1uZXcgXyx0aGlzLl9tdWx0aVNlbGVjdFN0YXRlLnJhbmdlcz10aGlzLmdldFJhbmdlcygpLnNsaWNlKDApLHRoaXMuX211bHRpU2VsZWN0U3RhdGUuY2FudmFzZXM9dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNlcygpLnNsaWNlKDApKSx0aGlzLl9tdWx0aVNlbGVjdFN0YXRlfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZUlkP3RoaXMuZ2V0UmFuZ2VCeUlkKHRoaXMucmFuZ2VJZCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0UG9zdGVyQ2FudmFzPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFBvc3RlckNhbnZhcygpfSxlLnByb3RvdHlwZS5nZXRQb3N0ZXJJbWFnZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UG9zdGVyQ2FudmFzKCk7aWYoZSl7dmFyIHQ9ZS5nZXRDb250ZW50KCk7aWYodCYmdC5sZW5ndGgpcmV0dXJuIHRbMF0uZ2V0Qm9keSgpWzBdLmlkfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRQcmV2aW91c1JhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYodD1lfHx0aGlzLmdldEN1cnJlbnRSYW5nZSgpKXt2YXIgbj10aGlzLmdldEZsYXR0ZW5lZFRyZWUoKTtpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO2lmKHImJnIuZGF0YS5pZD09PXQuaWQpe2Zvcig7aT4wOyl7cmV0dXJuIG5bLS1pXS5kYXRhfWJyZWFrfX19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE5leHRSYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKHQ9ZXx8dGhpcy5nZXRDdXJyZW50UmFuZ2UoKSl7dmFyIG49dGhpcy5nZXRGbGF0dGVuZWRUcmVlKCk7aWYobilmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTtpZihyJiZyLmRhdGEuaWQ9PT10LmlkKXtmb3IoO2k8bi5sZW5ndGgtMTspe3ZhciBvPW5bKytpXTtpZihvLmRhdGEuY2FudmFzZXMmJm8uZGF0YS5jYW52YXNlcy5sZW5ndGgpcmV0dXJuIG8uZGF0YX1icmVha319fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRGbGF0dGVuZWRUcmVlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7cmV0dXJuKHQ9ZXx8dGhpcy5nZXRUcmVlKCkpP3RoaXMuX2ZsYXR0ZW5UcmVlKHQsXCJub2Rlc1wiKTpudWxsfSxlLnByb3RvdHlwZS5fZmxhdHRlblRyZWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9W2VdO3JldHVybiBlW3RdJiZlW3RdLmxlbmd0aD4wP2kuY29uY2F0KGVbdF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5fZmxhdHRlblRyZWUoZSx0KX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pKTppfSxlLnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRBbGxSYW5nZXMoKX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VCeVBhdGg9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFJhbmdlQnlQYXRoKGUpfSxlLnByb3RvdHlwZS5nZXRSYW5nZUJ5SWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFJhbmdlQnlJZChlKX0sZS5wcm90b3R5cGUuZ2V0UmFuZ2VDYW52YXNlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldENhbnZhc0lkcygpO3JldHVybiB0aGlzLmdldENhbnZhc2VzQnlJZCh0KX0sZS5wcm90b3R5cGUuZ2V0UmVsYXRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSZWxhdGVkKCl9LGUucHJvdG90eXBlLmdldFNlYXJjaFNlcnZpY2U9ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKGMuU0VBUkNIXzApO3JldHVybiBlfHwoZT10aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoYy5TRUFSQ0hfMSkpLGV9LGUucHJvdG90eXBlLmdldFNlZUFsc289ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7cmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0U2VlQWxzbygpfSxlLnByb3RvdHlwZS5nZXRTZXF1ZW5jZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmdldFNlcXVlbmNlQnlJbmRleChlKX0sZS5wcm90b3R5cGUuZ2V0U2hhcmVTZXJ2aWNlVXJsPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3ZhciBlPW51bGwsdD10aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoYy5TSEFSRV9FWFRFTlNJT05TKTtyZXR1cm4gdCYmKHQubGVuZ3RoJiYodD10WzBdKSxlPXQuX19qc29ubGQuc2hhcmVVcmwpLGV9LGUucHJvdG90eXBlLl9nZXRTb3J0ZWRUcmVlTm9kZXNCeURhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEZsYXR0ZW5lZFRyZWUodCk7aWYobil7dmFyIGk9bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGEudHlwZT09PWcuVHJlZU5vZGVUeXBlLk1BTklGRVNUfSkpO3RoaXMuY3JlYXRlRGVjYWRlTm9kZXMoZSxuKSx0aGlzLnNvcnREZWNhZGVOb2RlcyhlKSx0aGlzLmNyZWF0ZVllYXJOb2RlcyhlLG4pLHRoaXMuc29ydFllYXJOb2RlcyhlKSx0aGlzLmNyZWF0ZU1vbnRoTm9kZXMoZSxpKSx0aGlzLnNvcnRNb250aE5vZGVzKGUpLHRoaXMuY3JlYXRlRGF0ZU5vZGVzKGUsaSksdGhpcy5wcnVuZURlY2FkZU5vZGVzKGUpfX0sZS5wcm90b3R5cGUuZ2V0U3RhcnRDYW52YXNJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFN0YXJ0Q2FudmFzSW5kZXgoKX0sZS5wcm90b3R5cGUuZ2V0VGh1bWJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0VGh1bWJzKGUsdCl9LGUucHJvdG90eXBlLmdldFRvcFJhbmdlcz1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRUb3BSYW5nZXMoKX0sZS5wcm90b3R5cGUuZ2V0VG90YWxDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFRvdGFsQ2FudmFzZXMoKX0sZS5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRUcmFja2luZ0xhYmVsKCl9LGUucHJvdG90eXBlLl9nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5paWlmUmVzb3VyY2UuZ2V0VG9wUmFuZ2VzKCl9LGUucHJvdG90eXBlLmdldFRyZWU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT10JiYodD1pLk5PTkUpLCF0aGlzLmlpaWZSZXNvdXJjZSlyZXR1cm4gbnVsbDt2YXIgbjtpZih0aGlzLmlpaWZSZXNvdXJjZS5pc0NvbGxlY3Rpb24oKSluPXRoaXMuaWlpZlJlc291cmNlLmdldERlZmF1bHRUcmVlKCk7ZWxzZXt2YXIgcj10aGlzLl9nZXRUb3BSYW5nZXMoKSxvPW5ldyBnLlRyZWVOb2RlO2lmKG8ubGFiZWw9XCJyb290XCIsby5kYXRhPXRoaXMuaWlpZlJlc291cmNlLCFyLmxlbmd0aClyZXR1cm4gbztuPXJbZV0uZ2V0VHJlZShvKX12YXIgYT1uZXcgZy5UcmVlTm9kZTtzd2l0Y2godC50b1N0cmluZygpKXtjYXNlIGkuREFURS50b1N0cmluZygpOmlmKHRoaXMudHJlZUhhc05hdkRhdGVzKG4pKXt0aGlzLl9nZXRTb3J0ZWRUcmVlTm9kZXNCeURhdGUoYSxuKTticmVha31kZWZhdWx0OmE9bn1yZXR1cm4gYX0sZS5wcm90b3R5cGUudHJlZUhhc05hdkRhdGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0RmxhdHRlbmVkVHJlZShlKTtyZXR1cm4hIXQmJnQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKGUubmF2RGF0ZSl9KSl9LGUucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIGU9dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7cmV0dXJuIGV8fChlPXRoaXMubWFuaWZlc3QuZ2V0Vmlld2luZ0RpcmVjdGlvbigpKSxlfSxlLnByb3RvdHlwZS5nZXRWaWV3aW5nSGludD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuIGV8fChlPXRoaXMubWFuaWZlc3QuZ2V0Vmlld2luZ0hpbnQoKSksZX0sZS5wcm90b3R5cGUuaGFzUGFyZW50Q29sbGVjdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4hIXRoaXMubWFuaWZlc3QucGFyZW50Q29sbGVjdGlvbn0sZS5wcm90b3R5cGUuaGFzUmVsYXRlZFBhZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFJlbGF0ZWQoKTtyZXR1cm4hIWUmJihlLmxlbmd0aCYmKGU9ZVswXSksXCJ0ZXh0L2h0bWxcIj09PWUuZm9ybWF0KX0sZS5wcm90b3R5cGUuaGFzUmVzb3VyY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudENhbnZhcygpLmdldFJlc291cmNlcygpLmxlbmd0aD4wfSxlLnByb3RvdHlwZS5pc0JvdHRvbVRvVG9wPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7cmV0dXJuISFlJiZlPT09cC5CT1RUT01fVE9fVE9QfSxlLnByb3RvdHlwZS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZShlKX0sZS5wcm90b3R5cGUuaXNDb250aW51b3VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nSGludCgpO3JldHVybiEhZSYmZT09PWYuQ09OVElOVU9VU30sZS5wcm90b3R5cGUuaXNGaXJzdENhbnZhcz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzRmlyc3RDYW52YXMoZSk6dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0ZpcnN0Q2FudmFzKHRoaXMuY2FudmFzSW5kZXgpfSxlLnByb3RvdHlwZS5pc0hvcml6b250YWxseUFsaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlZnRUb1JpZ2h0KCl8fHRoaXMuaXNSaWdodFRvTGVmdCgpfSxlLnByb3RvdHlwZS5pc0xhc3RDYW52YXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0xhc3RDYW52YXMoZSk6dGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0xhc3RDYW52YXModGhpcy5jYW52YXNJbmRleCl9LGUucHJvdG90eXBlLmlzTGVmdFRvUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyZXR1cm4hIWUmJmU9PT1wLkxFRlRfVE9fUklHSFR9LGUucHJvdG90eXBlLmlzTXVsdGlDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc011bHRpQ2FudmFzKCl9LGUucHJvdG90eXBlLmlzTXVsdGlTZXF1ZW5jZT1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTtyZXR1cm4gdGhpcy5tYW5pZmVzdC5pc011bHRpU2VxdWVuY2UoKX0sZS5wcm90b3R5cGUuaXNQYWdlZD1mdW5jdGlvbigpe2lmKCF0aGlzLm1hbmlmZXN0KXRocm93IG5ldyBFcnJvcihFLm1hbmlmZXN0Tm90TG9hZGVkKTt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuIGU/ZT09PWYuUEFHRUQ6dGhpcy5tYW5pZmVzdC5pc1BhZ2luZ0VuYWJsZWQoKX0sZS5wcm90b3R5cGUuaXNQYWdpbmdBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BhZ2luZ0VuYWJsZWQoKSYmdGhpcy5nZXRUb3RhbENhbnZhc2VzKCk+Mn0sZS5wcm90b3R5cGUuaXNQYWdpbmdFbmFibGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMubWFuaWZlc3QpdGhyb3cgbmV3IEVycm9yKEUubWFuaWZlc3ROb3RMb2FkZWQpO3JldHVybiB0aGlzLm1hbmlmZXN0LmlzUGFnaW5nRW5hYmxlZCgpfHx0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzUGFnaW5nRW5hYmxlZCgpfSxlLnByb3RvdHlwZS5pc1JpZ2h0VG9MZWZ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7cmV0dXJuISFlJiZlPT09cC5SSUdIVF9UT19MRUZUfSxlLnByb3RvdHlwZS5pc1RvcFRvQm90dG9tPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7cmV0dXJuISFlJiZlPT09cC5UT1BfVE9fQk9UVE9NfSxlLnByb3RvdHlwZS5pc1RvdGFsQ2FudmFzZXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuaXNUb3RhbENhbnZhc2VzRXZlbigpfSxlLnByb3RvdHlwZS5pc1VJRW5hYmxlZD1mdW5jdGlvbihlKXtpZighdGhpcy5tYW5pZmVzdCl0aHJvdyBuZXcgRXJyb3IoRS5tYW5pZmVzdE5vdExvYWRlZCk7dmFyIHQ9dGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKGMuVUlfRVhURU5TSU9OUyk7aWYodCl7dmFyIG49dC5nZXRQcm9wZXJ0eShcImRpc2FibGVVSVwiKTtpZihuJiYoLTEhPT1uLmluZGV4T2YoZSl8fC0xIT09bi5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSkpKXJldHVybiExfXJldHVybiEwfSxlLnByb3RvdHlwZS5pc1ZlcnRpY2FsbHlBbGlnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb3BUb0JvdHRvbSgpfHx0aGlzLmlzQm90dG9tVG9Ub3AoKX0sZS5wcm90b3R5cGUuY3JlYXRlRGF0ZU5vZGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj10aGlzLmdldE5vZGVZZWFyKGkpLG89dGhpcy5nZXROb2RlTW9udGgoaSksYT1uZXcgZy5UcmVlTm9kZTthLmlkPWkuaWQsYS5sYWJlbD10aGlzLmdldE5vZGVEaXNwbGF5RGF0ZShpKSxhLmRhdGE9aS5kYXRhLGEuZGF0YS50eXBlPWcuVHJlZU5vZGVUeXBlLk1BTklGRVNULGEuZGF0YS55ZWFyPXIsYS5kYXRhLm1vbnRoPW87dmFyIHM9dGhpcy5nZXREZWNhZGVOb2RlKGUscik7aWYocyl7dmFyIHU9dGhpcy5nZXRZZWFyTm9kZShzLHIpO2lmKHUpe3ZhciBsPXRoaXMuZ2V0TW9udGhOb2RlKHUsbyk7bCYmbC5hZGROb2RlKGEpfX19fSxlLnByb3RvdHlwZS5jcmVhdGVEZWNhZGVOb2Rlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkubmF2RGF0ZSl7dmFyIHI9dGhpcy5nZXROb2RlWWVhcihpKSxvPU51bWJlcihyLnRvU3RyaW5nKCkuc3Vic3RyKDAsMykrXCI5XCIpO2lmKCF0aGlzLmdldERlY2FkZU5vZGUoZSxyKSl7dmFyIGE9bmV3IGcuVHJlZU5vZGU7YS5sYWJlbD1yK1wiIC0gXCIrbyxhLm5hdkRhdGU9aS5uYXZEYXRlLGEuZGF0YS5zdGFydFllYXI9cixhLmRhdGEuZW5kWWVhcj1vLGUuYWRkTm9kZShhKX19fX0sZS5wcm90b3R5cGUuY3JlYXRlTW9udGhOb2Rlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkubmF2RGF0ZSl7dmFyIHI9dGhpcy5nZXROb2RlWWVhcihpKSxvPXRoaXMuZ2V0Tm9kZU1vbnRoKGkpLGE9dGhpcy5nZXREZWNhZGVOb2RlKGUscikscz1udWxsO2lmKGEmJihzPXRoaXMuZ2V0WWVhck5vZGUoYSxyKSksYSYmcyYmIXRoaXMuZ2V0TW9udGhOb2RlKHMsbykpe3ZhciB1PW5ldyBnLlRyZWVOb2RlO3UubGFiZWw9dGhpcy5nZXROb2RlRGlzcGxheU1vbnRoKGkpLHUubmF2RGF0ZT1pLm5hdkRhdGUsdS5kYXRhLnllYXI9cix1LmRhdGEubW9udGg9byxzLmFkZE5vZGUodSl9fX19LGUucHJvdG90eXBlLmNyZWF0ZVllYXJOb2Rlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKGkubmF2RGF0ZSl7dmFyIHI9dGhpcy5nZXROb2RlWWVhcihpKSxvPXRoaXMuZ2V0RGVjYWRlTm9kZShlLHIpO2lmKG8mJiF0aGlzLmdldFllYXJOb2RlKG8scikpe3ZhciBhPW5ldyBnLlRyZWVOb2RlO2EubGFiZWw9ci50b1N0cmluZygpLGEubmF2RGF0ZT1pLm5hdkRhdGUsYS5kYXRhLnllYXI9cixvLmFkZE5vZGUoYSl9fX19LGUucHJvdG90eXBlLmdldERlY2FkZU5vZGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9ZS5ub2Rlc1tuXTtpZih0Pj1pLmRhdGEuc3RhcnRZZWFyJiZ0PD1pLmRhdGEuZW5kWWVhcilyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TW9udGhOb2RlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciBpPWUubm9kZXNbbl07aWYodD09PXRoaXMuZ2V0Tm9kZU1vbnRoKGkpKXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXROb2RlRGlzcGxheURhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmF2RGF0ZS50b0RhdGVTdHJpbmcoKX0sZS5wcm90b3R5cGUuZ2V0Tm9kZURpc3BsYXlNb250aD1mdW5jdGlvbihlKXtyZXR1cm5bXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl1bZS5uYXZEYXRlLmdldE1vbnRoKCldfSxlLnByb3RvdHlwZS5nZXROb2RlTW9udGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmF2RGF0ZS5nZXRNb250aCgpfSxlLnByb3RvdHlwZS5nZXROb2RlWWVhcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5uYXZEYXRlLmdldEZ1bGxZZWFyKCl9LGUucHJvdG90eXBlLmdldFllYXJOb2RlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciBpPWUubm9kZXNbbl07aWYodD09PXRoaXMuZ2V0Tm9kZVllYXIoaSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnBydW5lRGVjYWRlTm9kZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9ZS5ub2Rlc1tuXTtpLm5vZGVzLmxlbmd0aHx8dC5wdXNoKGkpfWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdLGE9ZS5ub2Rlcy5pbmRleE9mKG8pO2E+LTEmJmUubm9kZXMuc3BsaWNlKGEsMSl9fSxlLnByb3RvdHlwZS5zb3J0RGVjYWRlTm9kZXM9ZnVuY3Rpb24oZSl7ZS5ub2Rlcz1lLm5vZGVzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGF0YS5zdGFydFllYXItdC5kYXRhLnN0YXJ0WWVhcn0pKX0sZS5wcm90b3R5cGUuc29ydE1vbnRoTm9kZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMsbj0wO248ZS5ub2Rlcy5sZW5ndGg7bisrKWZvcih2YXIgaT1lLm5vZGVzW25dLHI9MDtyPGkubm9kZXMubGVuZ3RoO3IrKyl7dmFyIG89aS5ub2Rlc1tyXTtvLm5vZGVzPW8ubm9kZXMuc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXROb2RlTW9udGgoZSktdC5nZXROb2RlTW9udGgobil9KSl9fSxlLnByb3RvdHlwZS5zb3J0WWVhck5vZGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLG49MDtuPGUubm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9ZS5ub2Rlc1tuXTtpLm5vZGVzPWkubm9kZXMuc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXROb2RlWWVhcihlKS10LmdldE5vZGVZZWFyKG4pfSkpfX0sZX0oKSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9vcHRpb25zPWUsdGhpcy5fb3B0aW9ucy5sb2NhbGU9dGhpcy5fb3B0aW9ucy5sb2NhbGV8fFwiZW4tR0JcIn1yZXR1cm4gZS5wcm90b3R5cGUuYm9vdHN0cmFwPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkscil7ZSYmdCYmKGk9ZSxyPXQpLGcuVXRpbHMubG9hZE1hbmlmZXN0KG4uX29wdGlvbnMubWFuaWZlc3RVcmkpLnRoZW4oKGZ1bmN0aW9uKGUpe24uX2xvYWRlZChuLGUsaSxyKX0pKX0pKX0sZS5wcm90b3R5cGUuX2xvYWRlZD1mdW5jdGlvbihlLHQsbixpKXt2YXIgcj1nLlV0aWxzLnBhcnNlTWFuaWZlc3QodCx7bG9jYWxlOmUuX29wdGlvbnMubG9jYWxlfSk7aWYocil7ZS5fb3B0aW9ucy5paWlmUmVzb3VyY2V8fChlLl9vcHRpb25zLmlpaWZSZXNvdXJjZT1yKTt2YXIgbz1lLl9vcHRpb25zLmNvbGxlY3Rpb25JbmRleCxhPWUuX29wdGlvbnMubWFuaWZlc3RJbmRleDtpZihyLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuQ09MTEVDVElPTil7dmFyIHU9ci5nZXRNYW5pZmVzdHMoKSxsPXIuZ2V0Q29sbGVjdGlvbnMoKTt1Lmxlbmd0aHx8dm9pZCAwIT09b3x8KG89MCksdm9pZCAwIT09byYmbCYmbC5sZW5ndGg/ci5nZXRDb2xsZWN0aW9uQnlJbmRleChvKS50aGVuKChmdW5jdGlvbih0KXt0fHxpKFwiQ29sbGVjdGlvbiBpbmRleCBub3QgZm91bmRcIiksMD09PXQuZ2V0VG90YWxNYW5pZmVzdHMoKSYmMD09PWEmJnQuZ2V0VG90YWxDb2xsZWN0aW9ucygpPjA/KGUuX29wdGlvbnMuY29sbGVjdGlvbkluZGV4PTAsZS5fb3B0aW9ucy5tYW5pZmVzdFVyaT10LmlkLGUuYm9vdHN0cmFwKG4saSkpOnZvaWQgMCE9PWEmJnQuZ2V0TWFuaWZlc3RCeUluZGV4KGEpLnRoZW4oKGZ1bmN0aW9uKHQpe2UuX29wdGlvbnMubWFuaWZlc3Q9dDt2YXIgaT1uZXcgeShlLl9vcHRpb25zKTtuKGkpfSkpfSkpOnIuZ2V0TWFuaWZlc3RCeUluZGV4KGUuX29wdGlvbnMubWFuaWZlc3RJbmRleCkudGhlbigoZnVuY3Rpb24odCl7ZS5fb3B0aW9ucy5tYW5pZmVzdD10O3ZhciBpPW5ldyB5KGUuX29wdGlvbnMpO24oaSl9KSl9ZWxzZXtlLl9vcHRpb25zLm1hbmlmZXN0PXI7dmFyIGM9bmV3IHkoZS5fb3B0aW9ucyk7bihjKX19ZWxzZSBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGxvYWQgSUlJRiByZXNvdXJjZVwiKX0sZX0oKSxJPW4oMSksTz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmF1dGhIb2xkaW5nUGFnZT1udWxsLHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZT1udWxsLHRoaXMuZXh0ZXJuYWxTZXJ2aWNlPW51bGwsdGhpcy5pc1Byb2JlZD0hMSx0aGlzLmlzUmVzcG9uc2VIYW5kbGVkPSExLHRoaXMua2lvc2tTZXJ2aWNlPW51bGwsdGhpcy5sb2dpblNlcnZpY2U9bnVsbCx0aGlzLmxvZ291dFNlcnZpY2U9bnVsbCx0aGlzLnByb2JlU2VydmljZT1udWxsLHRoaXMucmVzdHJpY3RlZFNlcnZpY2U9bnVsbCx0aGlzLnRva2VuU2VydmljZT1udWxsLGUuZXh0ZXJuYWxSZXNvdXJjZT10aGlzLHRoaXMuZGF0YVVyaT10aGlzLl9nZXREYXRhVXJpKGUpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmF1dGhBUElWZXJzaW9uPXQuYXV0aEFwaVZlcnNpb24sdGhpcy5fcGFyc2VBdXRoU2VydmljZXMoZSksdGhpcy5fcGFyc2VDYW52YXNEaW1lbnNpb25zKGUpfXJldHVybiBlLnByb3RvdHlwZS5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0scj1pLmlkO3IuZW5kc1dpdGgoXCIvXCIpfHwocis9XCIvXCIpLGcuVXRpbHMuaXNJbWFnZVByb2ZpbGUoaS5nZXRQcm9maWxlKCkpJiYodD1yK1wiaW5mby5qc29uXCIpfXJldHVybiB0fSxlLnByb3RvdHlwZS5fZ2V0RGF0YVVyaT1mdW5jdGlvbihlKXt2YXIgdD1lLmdldENvbnRlbnQoKSxuPWUuZ2V0SW1hZ2VzKCksaT1udWxsO2lmKHQmJnQubGVuZ3RoKXt2YXIgcj10WzBdLmdldEJvZHkoKTtyZXR1cm4gci5sZW5ndGg/KG89clswXS5nZXRTZXJ2aWNlcygpKS5sZW5ndGgmJihpPXRoaXMuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3IobykpP2k6clswXS5pZDpudWxsfWlmKG4mJm4ubGVuZ3RoKXt2YXIgbyxhPW5bMF0uZ2V0UmVzb3VyY2UoKTtyZXR1cm4obz1hLmdldFNlcnZpY2VzKCkpLmxlbmd0aCYmKGk9dGhpcy5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvcihvKSk/aTphLmlkfXZhciBzPWUuZ2V0U2VydmljZShjLklYSUYpO3JldHVybiBzP3MuZ2V0SW5mb1VyaSgpOmUuaWR9LGUucHJvdG90eXBlLl9wYXJzZUF1dGhTZXJ2aWNlcz1mdW5jdGlvbihlKXtpZiguOT09PXRoaXMuYXV0aEFQSVZlcnNpb24pdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8wX0NMSUNLX1RIUk9VR0gpLHRoaXMubG9naW5TZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8wX0xPR0lOKSx0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8wX1JFU1RSSUNURUQpLHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZT8odGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfVE9LRU4pKTp0aGlzLmxvZ2luU2VydmljZT8odGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8wX1RPS0VOKSk6dGhpcy5yZXN0cmljdGVkU2VydmljZSYmKHRoaXMubG9nb3V0U2VydmljZT10aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfTE9HT1VUKSx0aGlzLnRva2VuU2VydmljZT10aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzBfVE9LRU4pKTtlbHNle2lmKHZvaWQgMCE9PWUuaXNDYW52YXMmJmUuaXNDYW52YXMoKSl7dmFyIHQ9ZS5nZXRDb250ZW50KCk7aWYodCYmdC5sZW5ndGgpe3ZhciBuPXRbMF0uZ2V0Qm9keSgpO2lmKG4mJm4ubGVuZ3RoKWU9blswXX19dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8xX0NMSUNLX1RIUk9VR0gpLHRoaXMubG9naW5TZXJ2aWNlPWcuVXRpbHMuZ2V0U2VydmljZShlLGMuQVVUSF8xX0xPR0lOKSx0aGlzLmV4dGVybmFsU2VydmljZT1nLlV0aWxzLmdldFNlcnZpY2UoZSxjLkFVVEhfMV9FWFRFUk5BTCksdGhpcy5raW9za1NlcnZpY2U9Zy5VdGlscy5nZXRTZXJ2aWNlKGUsYy5BVVRIXzFfS0lPU0spLHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZT8odGhpcy5sb2dvdXRTZXJ2aWNlPXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfVE9LRU4pLHRoaXMucHJvYmVTZXJ2aWNlPXRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX1BST0JFKSk6dGhpcy5sb2dpblNlcnZpY2U/KHRoaXMubG9nb3V0U2VydmljZT10aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9UT0tFTiksdGhpcy5wcm9iZVNlcnZpY2U9dGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9QUk9CRSkpOnRoaXMuZXh0ZXJuYWxTZXJ2aWNlPyh0aGlzLmxvZ291dFNlcnZpY2U9dGhpcy5leHRlcm5hbFNlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9MT0dPVVQpLHRoaXMudG9rZW5TZXJ2aWNlPXRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfVE9LRU4pLHRoaXMucHJvYmVTZXJ2aWNlPXRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoYy5BVVRIXzFfUFJPQkUpKTp0aGlzLmtpb3NrU2VydmljZSYmKHRoaXMubG9nb3V0U2VydmljZT10aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKGMuQVVUSF8xX0xPR09VVCksdGhpcy50b2tlblNlcnZpY2U9dGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9UT0tFTiksdGhpcy5wcm9iZVNlcnZpY2U9dGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShjLkFVVEhfMV9QUk9CRSkpfX0sZS5wcm90b3R5cGUuX3BhcnNlQ2FudmFzRGltZW5zaW9ucz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldEltYWdlcygpO2lmKHQmJnQubGVuZ3RoKXt2YXIgbj10WzBdLmdldFJlc291cmNlKCk7dGhpcy53aWR0aD1uLmdldFdpZHRoKCksdGhpcy5oZWlnaHQ9bi5nZXRIZWlnaHQoKX1lbHNlIGlmKCh0PWUuZ2V0Q29udGVudCgpKS5sZW5ndGgpe3ZhciBpPXRbMF0uZ2V0Qm9keSgpO2kubGVuZ3RoJiYodGhpcy53aWR0aD1pWzBdLmdldFdpZHRoKCksdGhpcy5oZWlnaHQ9aVswXS5nZXRIZWlnaHQoKSl9fSxlLnByb3RvdHlwZS5fcGFyc2VEZXNjcmlwdG9yRGltZW5zaW9ucz1mdW5jdGlvbihlKXt2b2lkIDAhPT1lLndpZHRoJiYodGhpcy53aWR0aD1lLndpZHRoKSx2b2lkIDAhPT1lLmhlaWdodCYmKHRoaXMuaGVpZ2h0PWUuaGVpZ2h0KX0sZS5wcm90b3R5cGUuaXNBY2Nlc3NDb250cm9sbGVkPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlfHx0aGlzLmxvZ2luU2VydmljZXx8dGhpcy5leHRlcm5hbFNlcnZpY2V8fHRoaXMua2lvc2tTZXJ2aWNlfHx0aGlzLnByb2JlU2VydmljZSl9LGUucHJvdG90eXBlLmhhc1NlcnZpY2VEZXNjcmlwdG9yPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmRhdGFVcmkmJnRoaXMuZGF0YVVyaS5lbmRzV2l0aChcImluZm8uanNvblwiKX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0LmRhdGE9e30sbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7aWYodC5kYXRhVXJpKWlmKHQucHJvYmVTZXJ2aWNlKXt0LmlzUHJvYmVkPSEwO3ZhciByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4oXCJHRVRcIix0LnByb2JlU2VydmljZS5pZCwhMCksci53aXRoQ3JlZGVudGlhbHM9ITAsci5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT1KU09OLnBhcnNlKHIucmVzcG9uc2VUZXh0KTt1bmVzY2FwZShlLmNvbnRlbnRMb2NhdGlvbikhPT10LmRhdGFVcmk/dC5zdGF0dXM9SS5NT1ZFRF9URU1QT1JBUklMWTp0LnN0YXR1cz1JLk9LLG4odCl9LHIub25lcnJvcj1mdW5jdGlvbigpe3Quc3RhdHVzPXIuc3RhdHVzLG4odCl9LHIuc2VuZCgpfWVsc2V7dmFyIG89XCJHRVRcIjtpZighdC5oYXNTZXJ2aWNlRGVzY3JpcHRvcigpKXtpZighdC5pc0FjY2Vzc0NvbnRyb2xsZWQoKSlyZXR1cm4gdC5zdGF0dXM9SS5PSyx2b2lkIG4odCk7bz1cIkhFQURcIn12YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7YS5vcGVuKG8sdC5kYXRhVXJpLCEwKSxlJiZhLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsXCJCZWFyZXIgXCIrZS5hY2Nlc3NUb2tlbiksYS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT1KU09OLnBhcnNlKGEucmVzcG9uc2VUZXh0KTtpZihlKXt2YXIgaT11bmVzY2FwZShlW1wiQGlkXCJdKTt0LmRhdGE9ZSx0Ll9wYXJzZUF1dGhTZXJ2aWNlcyh0LmRhdGEpLHQuX3BhcnNlRGVzY3JpcHRvckRpbWVuc2lvbnModC5kYXRhKSxpLmVuZHNXaXRoKFwiL2luZm8uanNvblwiKSYmKGk9aS5zdWJzdHIoMCxpLmxhc3RJbmRleE9mKFwiL1wiKSkpO3ZhciByPXQuZGF0YVVyaTtyJiZyLmVuZHNXaXRoKFwiL2luZm8uanNvblwiKSYmKHI9ci5zdWJzdHIoMCxyLmxhc3RJbmRleE9mKFwiL1wiKSkpLGkhPT1yJiZ0LmxvZ2luU2VydmljZT90LnN0YXR1cz1JLk1PVkVEX1RFTVBPUkFSSUxZOnQuc3RhdHVzPUkuT0ssbih0KX1lbHNlIHQuc3RhdHVzPUkuT0ssbih0KX0sYS5vbmVycm9yPWZ1bmN0aW9uKCl7dC5zdGF0dXM9YS5zdGF0dXMsYS5yZXNwb25zZVRleHQmJnQuX3BhcnNlQXV0aFNlcnZpY2VzKEpTT04ucGFyc2UoYS5yZXNwb25zZVRleHQpKSxuKHQpfSxhLnNlbmQoKX1lbHNlIGkoXCJUaGVyZSBpcyBubyBkYXRhVXJpIHRvIGZldGNoXCIpfSkpfSxlfSgpLE49ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24oKXt9LEw9ZnVuY3Rpb24oZSx0KXt0aGlzLnZhbHVlPWUsdGhpcy5sb2NhbGU9dH0sQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5sYWJlbHM9ZX1yZXR1cm4gZS5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybi0xIT1lLmluZGV4T2YoXCI8YVwiKT9lOic8YSBocmVmPVwiJytlKydcIj4nKyh0aGlzLmxhYmVsc1tlXT90aGlzLmxhYmVsc1tlXTplKStcIjwvYT5cIn0sZX0oKTtuLmQodCxcImxvYWRNYW5pZmVzdFwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLG4uZCh0LFwiQW5ub3RhdGlvbkdyb3VwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsXCJBbm5vdGF0aW9uUmVjdFwiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LFwiQm9vdHN0cmFwcGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksbi5kKHQsXCJFeHRlcm5hbFJlc291cmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKHQsXCJIZWxwZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCxcIklMYWJlbFZhbHVlUGFpclwiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZCh0LFwiTWV0YWRhdGFHcm91cFwiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LFwiTWV0YWRhdGFPcHRpb25zXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKHQsXCJNdWx0aVNlbGVjdFN0YXRlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsXCJUcmFuc2xhdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBMfSkpLG4uZCh0LFwiVHJlZVNvcnRUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsXCJVcmlMYWJlbGxlclwiLChmdW5jdGlvbigpe3JldHVybiBBfSkpO3ZhciBTPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVChlKS5ib290c3RyYXAoKX19XSl9KSk7IiwiaW1wb3J0IHsgQW5ub3RhdGlvblJlY3QgfSBmcm9tIFwiLi9Bbm5vdGF0aW9uUmVjdFwiO1xyXG52YXIgQW5ub3RhdGlvbkdyb3VwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQW5ub3RhdGlvbkdyb3VwKHJlc291cmNlLCBjYW52YXNJbmRleCkge1xyXG4gICAgICAgIHRoaXMucmVjdHMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhbnZhc0luZGV4ID0gY2FudmFzSW5kZXg7XHJcbiAgICAgICAgdGhpcy5hZGRSZWN0KHJlc291cmNlKTtcclxuICAgIH1cclxuICAgIEFubm90YXRpb25Hcm91cC5wcm90b3R5cGUuYWRkUmVjdCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xyXG4gICAgICAgIHZhciByZWN0ID0gbmV3IEFubm90YXRpb25SZWN0KHJlc291cmNlKTtcclxuICAgICAgICByZWN0LmNhbnZhc0luZGV4ID0gdGhpcy5jYW52YXNJbmRleDtcclxuICAgICAgICByZWN0LmluZGV4ID0gdGhpcy5yZWN0cy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5yZWN0cy5wdXNoKHJlY3QpO1xyXG4gICAgICAgIC8vIHNvcnQgYXNjZW5kaW5nXHJcbiAgICAgICAgdGhpcy5yZWN0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQW5ub3RhdGlvbkdyb3VwO1xyXG59KCkpO1xyXG5leHBvcnQgeyBBbm5vdGF0aW9uR3JvdXAgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5ub3RhdGlvbkdyb3VwLmpzLm1hcCIsInZhciBBbm5vdGF0aW9uUmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFubm90YXRpb25SZWN0KHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB2YXIgeHl3aCA9IHJlc3VsdC5vbi5tYXRjaCgvLip4eXdoPShcXGQqKSwoXFxkKiksKFxcZCopLChcXGQqKS8pO1xyXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4eXdoWzFdKTtcclxuICAgICAgICB0aGlzLnkgPSBOdW1iZXIoeHl3aFsyXSk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IE51bWJlcih4eXdoWzNdKTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcih4eXdoWzRdKTtcclxuICAgICAgICB0aGlzLmNoYXJzID0gcmVzdWx0LnJlc291cmNlLmNoYXJzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEFubm90YXRpb25SZWN0O1xyXG59KCkpO1xyXG5leHBvcnQgeyBBbm5vdGF0aW9uUmVjdCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bbm5vdGF0aW9uUmVjdC5qcy5tYXAiLCJpbXBvcnQgeyBIZWxwZXIgfSBmcm9tIFwiLi9IZWxwZXJcIjtcclxuaW1wb3J0IHsgSUlJRlJlc291cmNlVHlwZSB9IGZyb20gXCJAaWlpZi92b2NhYnVsYXJ5XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIm1hbmlmZXN0by5qc1wiO1xyXG52YXIgQm9vdHN0cmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQm9vdHN0cmFwcGVyKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLl9vcHRpb25zLmxvY2FsZSA9IHRoaXMuX29wdGlvbnMubG9jYWxlIHx8ICdlbi1HQic7IC8vIGRlZmF1bHQgbG9jYWxlXHJcbiAgICB9XHJcbiAgICBCb290c3RyYXBwZXIucHJvdG90eXBlLmJvb3RzdHJhcCA9IGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcmVjdXJzaXZlIGJvb3RzdHJhcCB3ZSB3aWxsIGhhdmUgZXhpc3RpbmcgcmVzb2x2ZSAmIHJlamVjdCBtZXRob2RzLlxyXG4gICAgICAgICAgICBpZiAocmVzICYmIHJlaikge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIHJlamVjdCA9IHJlajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBVdGlscy5sb2FkTWFuaWZlc3QodGhhdC5fb3B0aW9ucy5tYW5pZmVzdFVyaSkudGhlbihmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fbG9hZGVkKHRoYXQsIGpzb24sIHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEJvb3RzdHJhcHBlci5wcm90b3R5cGUuX2xvYWRlZCA9IGZ1bmN0aW9uIChib290c3RyYXBwZXIsIGpzb24sIHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIHZhciBpaWlmUmVzb3VyY2UgPSBVdGlscy5wYXJzZU1hbmlmZXN0KGpzb24sIHtcclxuICAgICAgICAgICAgbG9jYWxlOiBib290c3RyYXBwZXIuX29wdGlvbnMubG9jYWxlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlpaWZSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHNldCB0aGUgcm9vdCBJSUlGUmVzb3VyY2Ugb24gdGhlIGZpcnN0IGxvYWRcclxuICAgICAgICAgICAgaWYgKCFib290c3RyYXBwZXIuX29wdGlvbnMuaWlpZlJlc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMuaWlpZlJlc291cmNlID0gaWlpZlJlc291cmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uSW5kZXggPSBib290c3RyYXBwZXIuX29wdGlvbnMuY29sbGVjdGlvbkluZGV4OyAvLyB0aGlzIGlzIGVpdGhlciB1bmRlZmluZWQsIDAsIG9yIGEgcG9zaXRpdmUgbnVtYmVyIChkZWZhdWx0cyB0byB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHZhciBtYW5pZmVzdEluZGV4XzEgPSBib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3RJbmRleDsgLy8gdGhpcyBpcyBlaXRoZXIgMCBvciBhIHBvc2l0aXZlIG51bWJlciAoZGVmYXVsdHMgdG8gMClcclxuICAgICAgICAgICAgaWYgKGlpaWZSZXNvdXJjZS5nZXRJSUlGUmVzb3VyY2VUeXBlKCkgPT09IElJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTikge1xyXG4gICAgICAgICAgICAgICAgLy8gaXQncyBhIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgICAgIHZhciBtYW5pZmVzdHMgPSBpaWlmUmVzb3VyY2UuZ2V0TWFuaWZlc3RzKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSBpaWlmUmVzb3VyY2UuZ2V0Q29sbGVjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBvbmx5IGNvbGxlY3Rpb25zIGF2YWlsYWJsZSwgc2V0IHRoZSBjb2xsZWN0aW9uSW5kZXggdG8gMCBpZiB1bmRlZmluZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hbmlmZXN0cy5sZW5ndGggJiYgY29sbGVjdGlvbkluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb25JbmRleCAhPT0gdW5kZWZpbmVkICYmIGNvbGxlY3Rpb25zICYmIGNvbGxlY3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgY29sbGVjdGlvbkluZGV4IGhhcyBiZWVuIHBhc3NlZCBhbmQgd2UgaGF2ZSBzdWIgY29sbGVjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBpaWlmUmVzb3VyY2UuZ2V0Q29sbGVjdGlvbkJ5SW5kZXgoY29sbGVjdGlvbkluZGV4KS50aGVuKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZTogd2UncmUgdHJ5aW5nIHRvIGxvYWQgdGhlIGZpcnN0IG1hbmlmZXN0IG9mIHRoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpZWQgY29sbGVjdGlvbiwgYnV0IHRoZSBjb2xsZWN0aW9uIGhhcyBubyBtYW5pZmVzdHMgYnV0IGRvZXMgaGF2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWJjb2xsZWN0aW9ucy4gVGh1cywgd2Ugc2hvdWxkIGRpdmUgaW4gdW50aWwgd2UgZmluZCBzb21ldGhpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIGRpc3BsYXkhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmdldFRvdGFsTWFuaWZlc3RzKCkgPT09IDAgJiYgbWFuaWZlc3RJbmRleF8xID09PSAwICYmIGNvbGxlY3Rpb24uZ2V0VG90YWxDb2xsZWN0aW9ucygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLmNvbGxlY3Rpb25JbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3RVcmkgPSBjb2xsZWN0aW9uLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLmJvb3RzdHJhcChyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hbmlmZXN0SW5kZXhfMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmdldE1hbmlmZXN0QnlJbmRleChtYW5pZmVzdEluZGV4XzEpLnRoZW4oZnVuY3Rpb24gKG1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhlbHBlciA9IG5ldyBIZWxwZXIoYm9vdHN0cmFwcGVyLl9vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGhlbHBlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWlpZlJlc291cmNlLmdldE1hbmlmZXN0QnlJbmRleChib290c3RyYXBwZXIuX29wdGlvbnMubWFuaWZlc3RJbmRleCkudGhlbihmdW5jdGlvbiAobWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVyLl9vcHRpb25zLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWxwZXIgPSBuZXcgSGVscGVyKGJvb3RzdHJhcHBlci5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGVscGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlci5fb3B0aW9ucy5tYW5pZmVzdCA9IGlpaWZSZXNvdXJjZTtcclxuICAgICAgICAgICAgICAgIHZhciBoZWxwZXIgPSBuZXcgSGVscGVyKGJvb3RzdHJhcHBlci5fb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGhlbHBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBsb2FkIElJSUYgcmVzb3VyY2UnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJvb3RzdHJhcHBlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQm9vdHN0cmFwcGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvb3RzdHJhcHBlci5qcy5tYXAiLCJ2YXIgRXJyb3JzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXJyb3JzKCkge1xyXG4gICAgfVxyXG4gICAgRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkID0gXCJNYW5pZmVzdCBoYXMgbm90IGxvYWRlZCB5ZXRcIjtcclxuICAgIHJldHVybiBFcnJvcnM7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEVycm9ycyB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FcnJvcnMuanMubWFwIiwiaW1wb3J0IHsgU2VydmljZVByb2ZpbGUgfSBmcm9tIFwiQGlpaWYvdm9jYWJ1bGFyeVwiO1xyXG5pbXBvcnQgKiBhcyBIVFRQU3RhdHVzQ29kZSBmcm9tIFwiQGVkc2lsdi9odHRwLXN0YXR1cy1jb2Rlc1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJtYW5pZmVzdG8uanNcIjtcclxudmFyIEV4dGVybmFsUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFeHRlcm5hbFJlc291cmNlKGNhbnZhcywgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYXV0aEhvbGRpbmdQYWdlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZXh0ZXJuYWxTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzUHJvYmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1Jlc3BvbnNlSGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMua2lvc2tTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvZ2luU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByb2JlU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZXN0cmljdGVkU2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIGNhbnZhcy5leHRlcm5hbFJlc291cmNlID0gdGhpcztcclxuICAgICAgICB0aGlzLmRhdGFVcmkgPSB0aGlzLl9nZXREYXRhVXJpKGNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGNhbnZhcy5pbmRleDtcclxuICAgICAgICB0aGlzLmF1dGhBUElWZXJzaW9uID0gb3B0aW9ucy5hdXRoQXBpVmVyc2lvbjtcclxuICAgICAgICB0aGlzLl9wYXJzZUF1dGhTZXJ2aWNlcyhjYW52YXMpO1xyXG4gICAgICAgIC8vIGdldCB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBvZiB0aGUgaW1hZ2UgcmVzb3VyY2UgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgdGhpcy5fcGFyc2VDYW52YXNEaW1lbnNpb25zKGNhbnZhcyk7XHJcbiAgICB9XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5fZ2V0SW1hZ2VTZXJ2aWNlRGVzY3JpcHRvciA9IGZ1bmN0aW9uIChzZXJ2aWNlcykge1xyXG4gICAgICAgIHZhciBpbmZvVXJpID0gbnVsbDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gc2VydmljZXNbaV07XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHNlcnZpY2UuaWQ7XHJcbiAgICAgICAgICAgIGlmICghaWQuZW5kc1dpdGgoJy8nKSkge1xyXG4gICAgICAgICAgICAgICAgaWQgKz0gJy8nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChVdGlscy5pc0ltYWdlUHJvZmlsZShzZXJ2aWNlLmdldFByb2ZpbGUoKSkpIHtcclxuICAgICAgICAgICAgICAgIGluZm9VcmkgPSBpZCArICdpbmZvLmpzb24nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZvVXJpO1xyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLl9nZXREYXRhVXJpID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gY2FudmFzLmdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgaW1hZ2VzID0gY2FudmFzLmdldEltYWdlcygpO1xyXG4gICAgICAgIHZhciBpbmZvVXJpID0gbnVsbDtcclxuICAgICAgICAvLyBwcmVzZW50YXRpb24gM1xyXG4gICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uID0gY29udGVudFswXTtcclxuICAgICAgICAgICAgdmFyIGFubm90YXRpb25Cb2R5ID0gYW5ub3RhdGlvbi5nZXRCb2R5KCk7XHJcbiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uQm9keS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYW5ub3RhdGlvbkJvZHlbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZXMgPSBib2R5LmdldFNlcnZpY2VzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mb1VyaSA9IHRoaXMuX2dldEltYWdlU2VydmljZURlc2NyaXB0b3Ioc2VydmljZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvVXJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZvVXJpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG5vIGltYWdlIHNlcnZpY2VzLiByZXR1cm4gdGhlIGltYWdlIGlkXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbkJvZHlbMF0uaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGltYWdlcyAmJiBpbWFnZXMubGVuZ3RoKSB7IC8vIHByZXNlbnRhdGlvbiAyXHJcbiAgICAgICAgICAgIHZhciBmaXJzdEltYWdlID0gaW1hZ2VzWzBdO1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBmaXJzdEltYWdlLmdldFJlc291cmNlKCk7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlcyA9IHJlc291cmNlLmdldFNlcnZpY2VzKCk7XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGluZm9VcmkgPSB0aGlzLl9nZXRJbWFnZVNlcnZpY2VEZXNjcmlwdG9yKHNlcnZpY2VzKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvVXJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZm9Vcmk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gaW1hZ2Ugc2VydmljZXMuIHJldHVybiB0aGUgaW1hZ2UgaWRcclxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTGVnYWN5IEl4SUZcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSBjYW52YXMuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5JWElGKTtcclxuICAgICAgICAgICAgaWYgKHNlcnZpY2UpIHsgLy8gdG9kbzogZGVwcmVjYXRlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5nZXRJbmZvVXJpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYW52YXMgaWQuXHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXMuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEV4dGVybmFsUmVzb3VyY2UucHJvdG90eXBlLl9wYXJzZUF1dGhTZXJ2aWNlcyA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmF1dGhBUElWZXJzaW9uID09PSAwLjkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8wX0NMSUNLX1RIUk9VR0gpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2luU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMF9MT0dJTik7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdHJpY3RlZFNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfUkVTVFJJQ1RFRCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzBfVE9LRU4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubG9naW5TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmxvZ2luU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9UT0tFTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5yZXN0cmljdGVkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5yZXN0cmljdGVkU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMF9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLnJlc3RyaWN0ZWRTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8wX1RPS0VOKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gYXV0aCAxXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSByZXNvdXJjZSBpcyBhIGNhbnZhcywgbm90IGFuIGluZm8uanNvbiwgbG9vayBmb3IgYXV0aCBzZXJ2aWNlcyBvbiBpdHMgY29udGVudC5cclxuICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ2FudmFzICE9PSB1bmRlZmluZWQgJiYgcmVzb3VyY2UuaXNDYW52YXMoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXNvdXJjZS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY29udGVudFswXS5nZXRCb2R5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgJiYgYm9keS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBib2R5WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IGFubm90YXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMV9DTElDS19USFJPVUdIKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dpblNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKHJlc291cmNlLCBTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfTE9HSU4pO1xyXG4gICAgICAgICAgICB0aGlzLmV4dGVybmFsU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UocmVzb3VyY2UsIFNlcnZpY2VQcm9maWxlLkFVVEhfMV9FWFRFUk5BTCk7XHJcbiAgICAgICAgICAgIHRoaXMua2lvc2tTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZShyZXNvdXJjZSwgU2VydmljZVByb2ZpbGUuQVVUSF8xX0tJT1NLKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5jbGlja1Rocm91Z2hTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlU2VydmljZSA9IHRoaXMuY2xpY2tUaHJvdWdoU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9QUk9CRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5sb2dpblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0U2VydmljZSA9IHRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX0xPR09VVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRva2VuU2VydmljZSA9IHRoaXMubG9naW5TZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvYmVTZXJ2aWNlID0gdGhpcy5sb2dpblNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfUFJPQkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZXh0ZXJuYWxTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dFNlcnZpY2UgPSB0aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9MT0dPVVQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlblNlcnZpY2UgPSB0aGlzLmV4dGVybmFsU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9UT0tFTik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlU2VydmljZSA9IHRoaXMuZXh0ZXJuYWxTZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuQVVUSF8xX1BST0JFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmtpb3NrU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRTZXJ2aWNlID0gdGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfTE9HT1VUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5TZXJ2aWNlID0gdGhpcy5raW9za1NlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5BVVRIXzFfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9iZVNlcnZpY2UgPSB0aGlzLmtpb3NrU2VydmljZS5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLkFVVEhfMV9QUk9CRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuX3BhcnNlQ2FudmFzRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICB2YXIgaW1hZ2VzID0gY2FudmFzLmdldEltYWdlcygpO1xyXG4gICAgICAgIGlmIChpbWFnZXMgJiYgaW1hZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3RJbWFnZSA9IGltYWdlc1swXTtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlID0gZmlyc3RJbWFnZS5nZXRSZXNvdXJjZSgpO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gcmVzb3VyY2UuZ2V0V2lkdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSByZXNvdXJjZS5nZXRIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHByZXNlbnRhdGlvbiAzXHJcbiAgICAgICAgICAgIGltYWdlcyA9IGNhbnZhcy5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGltYWdlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYW5ub3RhdGlvbi5nZXRCb2R5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9keS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gYm9keVswXS5nZXRXaWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gYm9keVswXS5nZXRIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5fcGFyc2VEZXNjcmlwdG9yRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iud2lkdGggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gZGVzY3JpcHRvci53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBkZXNjcmlwdG9yLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuaXNBY2Nlc3NDb250cm9sbGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNsaWNrVGhyb3VnaFNlcnZpY2UgfHwgdGhpcy5sb2dpblNlcnZpY2UgfHwgdGhpcy5leHRlcm5hbFNlcnZpY2UgfHwgdGhpcy5raW9za1NlcnZpY2UgfHwgdGhpcy5wcm9iZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBFeHRlcm5hbFJlc291cmNlLnByb3RvdHlwZS5oYXNTZXJ2aWNlRGVzY3JpcHRvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhVXJpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFVcmkuZW5kc1dpdGgoJ2luZm8uanNvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICB0aGF0LmRhdGEgPSB7fTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoYXQuZGF0YVVyaSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCdUaGVyZSBpcyBubyBkYXRhVXJpIHRvIGZldGNoJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlc291cmNlIGhhcyBhIHByb2JlIHNlcnZpY2UsIHVzZSB0aGF0IHRvIGdldCBodHRwIHN0YXR1cyBjb2RlXHJcbiAgICAgICAgICAgIGlmICh0aGF0LnByb2JlU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5pc1Byb2JlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRoaXMgaW4gZm9yIHJlZmVyZW5jZSB1bnRpbCB0aGUgWEhSIHZlcnNpb24gaXMgZnVsbHkgdGVzdGVkXHJcbiAgICAgICAgICAgICAgICAvLyAkLmFqYXgoPEpRdWVyeUFqYXhTZXR0aW5ncz57XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdXJsOiB0aGF0LnByb2JlU2VydmljZS5pZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGJlZm9yZVNlbmQ6ICh4aHIpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBhY2Nlc3NUb2tlbi5hY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9KS5kb25lKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBsZXQgY29udGVudExvY2F0aW9uOiBzdHJpbmcgPSB1bmVzY2FwZShkYXRhLmNvbnRlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGNvbnRlbnRMb2NhdGlvbiAhPT0gdGhhdC5kYXRhVXJpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuTU9WRURfVEVNUE9SQVJJTFk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIC8vIH0pLmZhaWwoKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5zdGF0dXMgPSBlcnJvci5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHhociBpbXBsZW1lbnRhdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIHhocl8xID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHJfMS5vcGVuKCdHRVQnLCB0aGF0LnByb2JlU2VydmljZS5pZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB4aHJfMS53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgeGhyXzEub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh4aHJfMS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50TG9jYXRpb24gPSB1bmVzY2FwZShkYXRhLmNvbnRlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRMb2NhdGlvbiAhPT0gdGhhdC5kYXRhVXJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuTU9WRURfVEVNUE9SQVJJTFk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhocl8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSB4aHJfMS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4aHJfMS5zZW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBkYXRhVXJpIGVuZHMgd2l0aCBpbmZvLmpzb25cclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBpc3N1ZSBhIEhFQUQgcmVxdWVzdC5cclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gJ0dFVCc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoYXQuaGFzU2VydmljZURlc2NyaXB0b3IoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGFjY2VzcyBjb250cm9sIGlzIHVubmVjZXNzYXJ5LCBzaG9ydCBjaXJjdWl0IHRoZSBwcm9jZXNzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpc0FjY2Vzc0NvbnRyb2xsZWQgY2hlY2sgZm9yIHNob3J0LWNpcmN1aXRpbmcgb25seVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdvcmtzIGluIHRoZSBcImJpbmFyeSByZXNvdXJjZVwiIGNvbnRleHQsIHNpbmNlIGluIHRoYXQgY2FzZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBrbm93IGFib3V0IGFjY2VzcyBjb250cm9sIGZyb20gdGhlIG1hbmlmZXN0LiBGb3IgaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNvdXJjZXMsIHdlIG5lZWQgdG8gY2hlY2sgaW5mby5qc29uIGZvciBkZXRhaWxzIGFuZCBjYW4ndFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3J0LWNpcmN1aXQgbGlrZSB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhhdC5pc0FjY2Vzc0NvbnRyb2xsZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnSEVBRCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRoaXMgaW4gZm9yIHJlZmVyZW5jZSB1bnRpbCB0aGUgWEhSIHZlcnNpb24gaXMgZnVsbHkgdGVzdGVkXHJcbiAgICAgICAgICAgICAgICAvLyAkLmFqYXgoPEpRdWVyeUFqYXhTZXR0aW5ncz57XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdXJsOiB0aGF0LmRhdGFVcmksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIC8vICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGJlZm9yZVNlbmQ6ICh4aHIpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBhY2Nlc3NUb2tlbi5hY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9KS5kb25lKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBpZiBpdCdzIGEgcmVzb3VyY2Ugd2l0aG91dCBhbiBpbmZvLmpzb25cclxuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0b2RvOiBpZiByZXNvdXJjZSBkb2Vzbid0IGhhdmUgYSBAcHJvZmlsZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICByZXNvbHZlKHRoYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCB1cmk6IHN0cmluZyA9IHVuZXNjYXBlKGRhdGFbJ0BpZCddKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhhdC5fcGFyc2VBdXRoU2VydmljZXModGhhdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIC9pbmZvLmpzb25cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHVyaS5lbmRzV2l0aCgnL2luZm8uanNvbicpKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHVyaSA9IHVyaS5zdWJzdHIoMCwgdXJpLmxhc3RJbmRleE9mKCcvJykpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxldCBkYXRhVXJpOiBzdHJpbmcgfCBudWxsID0gdGhhdC5kYXRhVXJpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoZGF0YVVyaSAmJiBkYXRhVXJpLmVuZHNXaXRoKCcvaW5mby5qc29uJykpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZGF0YVVyaSA9IGRhdGFVcmkuc3Vic3RyKDAsIGRhdGFVcmkubGFzdEluZGV4T2YoJy8nKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gaWYgdGhlIHJlcXVlc3Qgd2FzIHJlZGlyZWN0ZWQgdG8gYSBkZWdyYWRlZCB2ZXJzaW9uIGFuZCB0aGVyZSdzIGEgbG9naW4gc2VydmljZSB0byBnZXQgdGhlIGZ1bGwgcXVhbGl0eSB2ZXJzaW9uXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmICh1cmkgIT09IGRhdGFVcmkgJiYgdGhhdC5sb2dpblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuTU9WRURfVEVNUE9SQVJJTFk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IEhUVFBTdGF0dXNDb2RlLk9LO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfSkuZmFpbCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGF0LnN0YXR1cyA9IGVycm9yLnN0YXR1cztcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGF0LmVycm9yID0gZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGVycm9yLnJlc3BvbnNlSlNPTil7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoYXQuX3BhcnNlQXV0aFNlcnZpY2VzKGVycm9yLnJlc3BvbnNlSlNPTik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHhociBpbXBsZW1lbnRhdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIHhocl8yID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHJfMi5vcGVuKHR5cGUsIHRoYXQuZGF0YVVyaSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvL3hoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyXzIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBhY2Nlc3NUb2tlbi5hY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB4aHJfMi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhocl8yLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBhIHJlc291cmNlIHdpdGhvdXQgYW4gaW5mby5qc29uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbzogaWYgcmVzb3VyY2UgZG9lc24ndCBoYXZlIGEgQHByb2ZpbGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5PSztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmkgPSB1bmVzY2FwZShkYXRhWydAaWQnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3BhcnNlQXV0aFNlcnZpY2VzKHRoYXQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3BhcnNlRGVzY3JpcHRvckRpbWVuc2lvbnModGhhdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIC9pbmZvLmpzb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVyaS5lbmRzV2l0aCgnL2luZm8uanNvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmkgPSB1cmkuc3Vic3RyKDAsIHVyaS5sYXN0SW5kZXhPZignLycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVVyaSA9IHRoYXQuZGF0YVVyaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFVcmkgJiYgZGF0YVVyaS5lbmRzV2l0aCgnL2luZm8uanNvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVXJpID0gZGF0YVVyaS5zdWJzdHIoMCwgZGF0YVVyaS5sYXN0SW5kZXhPZignLycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCB3YXMgcmVkaXJlY3RlZCB0byBhIGRlZ3JhZGVkIHZlcnNpb24gYW5kIHRoZXJlJ3MgYSBsb2dpbiBzZXJ2aWNlIHRvIGdldCB0aGUgZnVsbCBxdWFsaXR5IHZlcnNpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVyaSAhPT0gZGF0YVVyaSAmJiB0aGF0LmxvZ2luU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdGF0dXMgPSBIVFRQU3RhdHVzQ29kZS5NT1ZFRF9URU1QT1JBUklMWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdHVzID0gSFRUUFN0YXR1c0NvZGUuT0s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyXzIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnN0YXR1cyA9IHhocl8yLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyXzIucmVzcG9uc2VUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3BhcnNlQXV0aFNlcnZpY2VzKEpTT04ucGFyc2UoeGhyXzIucmVzcG9uc2VUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhhdCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyXzIuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV4dGVybmFsUmVzb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEV4dGVybmFsUmVzb3VyY2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXh0ZXJuYWxSZXNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgeyBNdWx0aVNlbGVjdFN0YXRlIH0gZnJvbSBcIi4vTXVsdGlTZWxlY3RTdGF0ZVwiO1xyXG5pbXBvcnQgeyBNZXRhZGF0YUdyb3VwIH0gZnJvbSBcIi4vTWV0YWRhdGFHcm91cFwiO1xyXG5pbXBvcnQgeyBUcmVlU29ydFR5cGUgfSBmcm9tIFwiLi9UcmVlU29ydFR5cGVcIjtcclxuaW1wb3J0IHsgU2VydmljZVByb2ZpbGUsIFZpZXdpbmdIaW50LCBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSBcIkBpaWlmL3ZvY2FidWxhcnlcIjtcclxuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSBcIi4vRXJyb3JzXCI7XHJcbmltcG9ydCB7IExhYmVsVmFsdWVQYWlyLCBMYW5ndWFnZSwgTGFuZ3VhZ2VNYXAsIE1hbmlmZXN0VHlwZSwgVHJlZU5vZGUsIFRyZWVOb2RlVHlwZSwgVXRpbHMgfSBmcm9tIFwibWFuaWZlc3RvLmpzXCI7XHJcbnZhciBIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIZWxwZXIob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5paWlmUmVzb3VyY2UgPSB0aGlzLm9wdGlvbnMuaWlpZlJlc291cmNlO1xyXG4gICAgICAgIHRoaXMubWFuaWZlc3RVcmkgPSB0aGlzLm9wdGlvbnMubWFuaWZlc3RVcmk7XHJcbiAgICAgICAgdGhpcy5tYW5pZmVzdCA9IHRoaXMub3B0aW9ucy5tYW5pZmVzdDtcclxuICAgICAgICB0aGlzLmNvbGxlY3Rpb25JbmRleCA9IHRoaXMub3B0aW9ucy5jb2xsZWN0aW9uSW5kZXggfHwgMDtcclxuICAgICAgICB0aGlzLm1hbmlmZXN0SW5kZXggPSB0aGlzLm9wdGlvbnMubWFuaWZlc3RJbmRleCB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2VxdWVuY2VJbmRleCA9IHRoaXMub3B0aW9ucy5zZXF1ZW5jZUluZGV4IHx8IDA7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJbmRleCA9IHRoaXMub3B0aW9ucy5jYW52YXNJbmRleCB8fCAwO1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0dGVycyAvL1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRBdXRvQ29tcGxldGVTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlID0gdGhpcy5nZXRTZWFyY2hTZXJ2aWNlKCk7XHJcbiAgICAgICAgdmFyIGF1dG9Db21wbGV0ZVNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChzZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZVNlcnZpY2UgPSBzZXJ2aWNlLmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuU0VBUkNIXzBfQVVUT19DT01QTEVURSk7XHJcbiAgICAgICAgICAgIGlmICghYXV0b0NvbXBsZXRlU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlU2VydmljZSA9IHNlcnZpY2UuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5TRUFSQ0hfMV9BVVRPX0NPTVBMRVRFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXV0b0NvbXBsZXRlU2VydmljZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEF0dHJpYnV0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0aW9uID0gdGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpO1xyXG4gICAgICAgIGlmIChhdHRyaWJ1dGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUoYXR0cmlidXRpb24sIHRoaXMub3B0aW9ucy5sb2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc2VzKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Q2FudmFzQnlJZChpZCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNlc0J5SWQgPSBmdW5jdGlvbiAoaWRzKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhc2VzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gaWRzW2ldO1xyXG4gICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXNCeUlkKGlkKTtcclxuICAgICAgICAgICAgaWYgKGNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzZXMucHVzaChjYW52YXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYW52YXNlcztcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc0J5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUluZGV4KGluZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldENhbnZhc0luZGV4QnlJZChpZCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5TGFiZWwgPSBmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgICAgICB2YXIgZm9saWF0ZWQgPSB0aGlzLmdldE1hbmlmZXN0VHlwZSgpID09PSBNYW5pZmVzdFR5cGUuTUFOVVNDUklQVDtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNJbmRleEJ5TGFiZWwobGFiZWwsIGZvbGlhdGVkKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc1JhbmdlID0gZnVuY3Rpb24gKGNhbnZhcywgcGF0aCkge1xyXG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLmdldENhbnZhc1JhbmdlcyhjYW52YXMpO1xyXG4gICAgICAgIGlmIChwYXRoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UucGF0aCA9PT0gcGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByYW5nZXNbMF07IC8vIGVsc2UgcmV0dXJuIHRoZSBmaXJzdCByYW5nZVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldENhbnZhc1JhbmdlcyA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjYW52YXMucmFuZ2VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXMucmFuZ2VzOyAvLyBjYWNoZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogd3JpdGUgdGVzdFxyXG4gICAgICAgICAgICBjYW52YXMucmFuZ2VzID0gdGhpcy5tYW5pZmVzdC5nZXRBbGxSYW5nZXMoKS5maWx0ZXIoZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiAocmFuZ2UuZ2V0Q2FudmFzSWRzKCkuc29tZShmdW5jdGlvbiAoY2lkKSB7IHJldHVybiBVdGlscy5ub3JtYWxpc2VVcmwoY2lkKSA9PT0gVXRpbHMubm9ybWFsaXNlVXJsKGNhbnZhcy5pZCk7IH0pKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYW52YXMucmFuZ2VzO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvbkluZGV4ID0gZnVuY3Rpb24gKGlpaWZSZXNvdXJjZSkge1xyXG4gICAgICAgIC8vIHRvZG86IHRoaXMgb25seSB3b3JrcyBmb3IgY29sbGVjdGlvbnMgbmVzdGVkIG9uZSBsZXZlbCBkZWVwXHJcbiAgICAgICAgaWYgKGlpaWZSZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uICYmICFpaWlmUmVzb3VyY2UucGFyZW50Q29sbGVjdGlvbi5wYXJlbnRDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIG1hbmlmZXN0IG11c3QgYmUgaW4gdGhlIHJvb3RcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaWlpZlJlc291cmNlLnBhcmVudENvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlpaWZSZXNvdXJjZS5wYXJlbnRDb2xsZWN0aW9uLmluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q3VycmVudENhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNCeUluZGV4KHRoaXMuY2FudmFzSW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Q3VycmVudFNlcXVlbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlcXVlbmNlQnlJbmRleCh0aGlzLnNlcXVlbmNlSW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSB0aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCk7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5nZXRWYWx1ZShkZXNjcmlwdGlvbiwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLm1hbmlmZXN0LmdldExhYmVsKCk7XHJcbiAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZU1hcC5nZXRWYWx1ZShsYWJlbCwgdGhpcy5vcHRpb25zLmxvY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TGFzdENhbnZhc0xhYmVsID0gZnVuY3Rpb24gKGFscGhhbnVtZXJpYykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldExhc3RDYW52YXNMYWJlbChhbHBoYW51bWVyaWMpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Rmlyc3RQYWdlSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7IC8vIHdoeSBpcyB0aGlzIG5lZWRlZD9cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldExhc3RQYWdlSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpIC0gMTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldExpY2Vuc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRMaWNlbnNlKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRMb2dvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0TG9nbygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1hbmlmZXN0VHlwZSA9IHRoaXMubWFuaWZlc3QuZ2V0TWFuaWZlc3RUeXBlKCk7XHJcbiAgICAgICAgLy8gZGVmYXVsdCB0byBtb25vZ3JhcGhcclxuICAgICAgICBpZiAobWFuaWZlc3RUeXBlID09PSBNYW5pZmVzdFR5cGUuRU1QVFkpIHtcclxuICAgICAgICAgICAgbWFuaWZlc3RUeXBlID0gTWFuaWZlc3RUeXBlLk1PTk9HUkFQSDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hbmlmZXN0VHlwZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE1ldGFkYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtZXRhZGF0YUdyb3VwcyA9IFtdO1xyXG4gICAgICAgIHZhciBtYW5pZmVzdE1ldGFkYXRhID0gdGhpcy5tYW5pZmVzdC5nZXRNZXRhZGF0YSgpO1xyXG4gICAgICAgIHZhciBtYW5pZmVzdEdyb3VwID0gbmV3IE1ldGFkYXRhR3JvdXAodGhpcy5tYW5pZmVzdCk7XHJcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMub3B0aW9ucy5sb2NhbGU7IC8vIHRoaXMgd2lsbCBhbHdheXMgZGVmYXVsdCB0byBlbi1HQlxyXG4gICAgICAgIGlmIChtYW5pZmVzdE1ldGFkYXRhICYmIG1hbmlmZXN0TWV0YWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0R3JvdXAuYWRkTWV0YWRhdGEobWFuaWZlc3RNZXRhZGF0YSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YUl0ZW0gPSBuZXcgTGFiZWxWYWx1ZVBhaXIobG9jYWxlKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLmxhYmVsID0gW25ldyBMYW5ndWFnZShcImRlc2NyaXB0aW9uXCIsIGxvY2FsZSldO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0udmFsdWUgPSB0aGlzLm1hbmlmZXN0LmdldERlc2NyaXB0aW9uKCk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5pc1Jvb3RMZXZlbCA9IHRydWU7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0R3JvdXAuYWRkSXRlbShtZXRhZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFJdGVtID0gbmV3IExhYmVsVmFsdWVQYWlyKGxvY2FsZSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5sYWJlbCA9IFtuZXcgTGFuZ3VhZ2UoXCJhdHRyaWJ1dGlvblwiLCBsb2NhbGUpXTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLnZhbHVlID0gdGhpcy5tYW5pZmVzdC5nZXRBdHRyaWJ1dGlvbigpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0uaXNSb290TGV2ZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBtYW5pZmVzdEdyb3VwLmFkZEl0ZW0obWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxpY2Vuc2UgPSB0aGlzLm1hbmlmZXN0LmdldExpY2Vuc2UoKTtcclxuICAgICAgICBpZiAobGljZW5zZSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcImxpY2Vuc2VcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAob3B0aW9ucyAmJiBvcHRpb25zLmxpY2Vuc2VGb3JtYXR0ZXIpID8gb3B0aW9ucy5saWNlbnNlRm9ybWF0dGVyLmZvcm1hdChsaWNlbnNlKSA6IGxpY2Vuc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhSXRlbSA9IG5ldyBMYWJlbFZhbHVlUGFpcihsb2NhbGUpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0ucGFyc2UoaXRlbSk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhSXRlbS5pc1Jvb3RMZXZlbCA9IHRydWU7XHJcbiAgICAgICAgICAgIG1hbmlmZXN0R3JvdXAuYWRkSXRlbShtZXRhZGF0YUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tYW5pZmVzdC5nZXRMb2dvKCkpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJsb2dvXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzxpbWcgc3JjPVwiJyArIHRoaXMubWFuaWZlc3QuZ2V0TG9nbygpICsgJ1wiLz4nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YUl0ZW0gPSBuZXcgTGFiZWxWYWx1ZVBhaXIobG9jYWxlKTtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtLnBhcnNlKGl0ZW0pO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUl0ZW0uaXNSb290TGV2ZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBtYW5pZmVzdEdyb3VwLmFkZEl0ZW0obWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWV0YWRhdGFHcm91cHMucHVzaChtYW5pZmVzdEdyb3VwKTtcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VNZXRhZGF0YU9wdGlvbnMob3B0aW9ucywgbWV0YWRhdGFHcm91cHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhR3JvdXBzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJlcXVpcmVkU3RhdGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlcXVpcmVkU3RhdGVtZW50ID0gdGhpcy5tYW5pZmVzdC5nZXRSZXF1aXJlZFN0YXRlbWVudCgpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZFN0YXRlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHJlcXVpcmVkU3RhdGVtZW50LmdldExhYmVsKCksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVxdWlyZWRTdGF0ZW1lbnQuZ2V0VmFsdWUoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLl9wYXJzZU1ldGFkYXRhT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zLCBtZXRhZGF0YUdyb3Vwcykge1xyXG4gICAgICAgIC8vIGdldCBzZXF1ZW5jZSBtZXRhZGF0YVxyXG4gICAgICAgIHZhciBzZXF1ZW5jZSA9IHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCk7XHJcbiAgICAgICAgdmFyIHNlcXVlbmNlTWV0YWRhdGEgPSBzZXF1ZW5jZS5nZXRNZXRhZGF0YSgpO1xyXG4gICAgICAgIGlmIChzZXF1ZW5jZU1ldGFkYXRhICYmIHNlcXVlbmNlTWV0YWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZUdyb3VwID0gbmV3IE1ldGFkYXRhR3JvdXAoc2VxdWVuY2UpO1xyXG4gICAgICAgICAgICBzZXF1ZW5jZUdyb3VwLmFkZE1ldGFkYXRhKHNlcXVlbmNlTWV0YWRhdGEpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUdyb3Vwcy5wdXNoKHNlcXVlbmNlR3JvdXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBnZXQgcmFuZ2UgbWV0YWRhdGFcclxuICAgICAgICBpZiAob3B0aW9ucy5yYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2VHcm91cHMgPSB0aGlzLl9nZXRSYW5nZU1ldGFkYXRhKFtdLCBvcHRpb25zLnJhbmdlKTtcclxuICAgICAgICAgICAgcmFuZ2VHcm91cHMgPSByYW5nZUdyb3Vwcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIG1ldGFkYXRhR3JvdXBzID0gbWV0YWRhdGFHcm91cHMuY29uY2F0KHJhbmdlR3JvdXBzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2V0IGNhbnZhcyBtZXRhZGF0YVxyXG4gICAgICAgIGlmIChvcHRpb25zLmNhbnZhc2VzICYmIG9wdGlvbnMuY2FudmFzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5jYW52YXNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IG9wdGlvbnMuY2FudmFzZXNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzTWV0YWRhdGEgPSBjYW52YXMuZ2V0TWV0YWRhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYW52YXNNZXRhZGF0YSAmJiBjYW52YXNNZXRhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FudmFzR3JvdXAgPSBuZXcgTWV0YWRhdGFHcm91cChjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0dyb3VwLmFkZE1ldGFkYXRhKGNhbnZhcy5nZXRNZXRhZGF0YSgpKTtcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YUdyb3Vwcy5wdXNoKGNhbnZhc0dyb3VwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFkZCBpbWFnZSBtZXRhZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlcyA9IGNhbnZhcy5nZXRJbWFnZXMoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW1hZ2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gaW1hZ2VzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZU1ldGFkYXRhID0gaW1hZ2UuZ2V0TWV0YWRhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VNZXRhZGF0YSAmJiBpbWFnZU1ldGFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VHcm91cCA9IG5ldyBNZXRhZGF0YUdyb3VwKGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VHcm91cC5hZGRNZXRhZGF0YShpbWFnZU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFHcm91cHMucHVzaChpbWFnZUdyb3VwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhR3JvdXBzO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuX2dldFJhbmdlTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGFHcm91cHMsIHJhbmdlKSB7XHJcbiAgICAgICAgdmFyIHJhbmdlTWV0YWRhdGEgPSByYW5nZS5nZXRNZXRhZGF0YSgpO1xyXG4gICAgICAgIGlmIChyYW5nZU1ldGFkYXRhICYmIHJhbmdlTWV0YWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZUdyb3VwID0gbmV3IE1ldGFkYXRhR3JvdXAocmFuZ2UpO1xyXG4gICAgICAgICAgICByYW5nZUdyb3VwLmFkZE1ldGFkYXRhKHJhbmdlTWV0YWRhdGEpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUdyb3Vwcy5wdXNoKHJhbmdlR3JvdXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyYW5nZS5wYXJlbnRSYW5nZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmFuZ2VNZXRhZGF0YShtZXRhZGF0YUdyb3VwcywgcmFuZ2UucGFyZW50UmFuZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWV0YWRhdGFHcm91cHM7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRNdWx0aVNlbGVjdFN0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9tdWx0aVNlbGVjdFN0YXRlID0gbmV3IE11bHRpU2VsZWN0U3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZS5yYW5nZXMgPSB0aGlzLmdldFJhbmdlcygpLnNsaWNlKDApO1xyXG4gICAgICAgICAgICB0aGlzLl9tdWx0aVNlbGVjdFN0YXRlLmNhbnZhc2VzID0gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRDYW52YXNlcygpLnNsaWNlKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fbXVsdGlTZWxlY3RTdGF0ZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldEN1cnJlbnRSYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yYW5nZUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlQnlJZCh0aGlzLnJhbmdlSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFBvc3RlckNhbnZhcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFBvc3RlckNhbnZhcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UG9zdGVySW1hZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBvc3RlckNhbnZhcyA9IHRoaXMuZ2V0UG9zdGVyQ2FudmFzKCk7XHJcbiAgICAgICAgaWYgKHBvc3RlckNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHBvc3RlckNhbnZhcy5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5ubyA9IGNvbnRlbnRbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFubm8uZ2V0Qm9keSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvZHlbMF0uaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRSYW5nZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRSYW5nZSA9IHJhbmdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudFJhbmdlID0gdGhpcy5nZXRDdXJyZW50UmFuZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRSYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgZmxhdFRyZWUgPSB0aGlzLmdldEZsYXR0ZW5lZFRyZWUoKTtcclxuICAgICAgICAgICAgaWYgKGZsYXRUcmVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZsYXRUcmVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBmbGF0VHJlZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGN1cnJlbnQgcmFuZ2UgaW4gZmxhdHRlbmVkIHRyZWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLmRhdGEuaWQgPT09IGN1cnJlbnRSYW5nZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBmaXJzdCBub2RlIGJlZm9yZSBpdCB0aGF0IGhhcyBjYW52YXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2Tm9kZSA9IGZsYXRUcmVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZOb2RlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0TmV4dFJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XHJcbiAgICAgICAgLy8gaWYgYSByYW5nZSBpcyBwYXNzZWQsIHVzZSB0aGF0LiBvdGhlcndpc2UgZ2V0IHRoZSBjdXJyZW50IHJhbmdlLlxyXG4gICAgICAgIHZhciBjdXJyZW50UmFuZ2UgPSBudWxsO1xyXG4gICAgICAgIGlmIChyYW5nZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50UmFuZ2UgPSByYW5nZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRSYW5nZSA9IHRoaXMuZ2V0Q3VycmVudFJhbmdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50UmFuZ2UpIHtcclxuICAgICAgICAgICAgdmFyIGZsYXRUcmVlID0gdGhpcy5nZXRGbGF0dGVuZWRUcmVlKCk7XHJcbiAgICAgICAgICAgIGlmIChmbGF0VHJlZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmbGF0VHJlZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gZmxhdFRyZWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBjdXJyZW50IHJhbmdlIGluIGZsYXR0ZW5lZCB0cmVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5kYXRhLmlkID09PSBjdXJyZW50UmFuZ2UuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgZmlyc3Qgbm9kZSBhZnRlciBpdCB0aGF0IGhhcyBjYW52YXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGZsYXRUcmVlLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IGZsYXRUcmVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHROb2RlLmRhdGEuY2FudmFzZXMgJiYgbmV4dE5vZGUuZGF0YS5jYW52YXNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dE5vZGUuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRGbGF0dGVuZWRUcmVlID0gZnVuY3Rpb24gKHRyZWVOb2RlKSB7XHJcbiAgICAgICAgdmFyIHQgPSBudWxsO1xyXG4gICAgICAgIGlmICghdHJlZU5vZGUpIHtcclxuICAgICAgICAgICAgdCA9IHRoaXMuZ2V0VHJlZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdCA9IHRyZWVOb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhdHRlblRyZWUodCwgJ25vZGVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vIHVzZSBvYmplY3QuYXNzaWduIHRvIHJldHVybiBhIHNldCBvZiBuZXcgbm9kZXNcclxuICAgIC8vIHJpZ2h0IG5vdyB0aGUgVVYgbmVlZHMgdGhlIG5vZGVzIHRvIHJldGFpbiBwcm9wZXJ0aWVzIGZvciBkYXRhYmluZGluZyBsaWtlIGV4cGFuZGVkXHJcbiAgICAvLyBhcyB3ZSdyZSBub3QgcmVkcmF3aW5nIHRoZSB0cmVlIGV2ZXJ5IHRpbWUgYXMgcGVyIHJlYWN0LlxyXG4gICAgLy8gbWF5YmUgbWFrZSB0aGlzIG9wdGlvbmFsLlxyXG4gICAgLy8gbm90IHN1cmUgd2h5IGRlbGV0aW5nIHRoZSBub2RlcyBrZXkgZnJvbSBlYWNoIG5vZGUgaXMgbmVjZXNzYXJ5XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLl9mbGF0dGVuVHJlZSA9IGZ1bmN0aW9uIChyb290LCBrZXkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmbGF0dGVuID0gW3Jvb3RdOyAvL1tPYmplY3QuYXNzaWduKHt9LCByb290KV07XHJcbiAgICAgICAgLy9kZWxldGUgZmxhdHRlblswXVtrZXldO1xyXG4gICAgICAgIGlmIChyb290W2tleV0gJiYgcm9vdFtrZXldLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW4uY29uY2F0KHJvb3Rba2V5XVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIF90aGlzLl9mbGF0dGVuVHJlZShjaGlsZCwga2V5KTsgfSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9LCBbXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmxhdHRlbjtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRBbGxSYW5nZXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFJhbmdlQnlQYXRoKHBhdGgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmFuZ2VCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSYW5nZUJ5SWQoaWQpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0UmFuZ2VDYW52YXNlcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xyXG4gICAgICAgIHZhciBpZHMgPSByYW5nZS5nZXRDYW52YXNJZHMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDYW52YXNlc0J5SWQoaWRzKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFJlbGF0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRSZWxhdGVkKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRTZWFyY2hTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzLm1hbmlmZXN0LmdldFNlcnZpY2UoU2VydmljZVByb2ZpbGUuU0VBUkNIXzApO1xyXG4gICAgICAgIGlmICghc2VydmljZSkge1xyXG4gICAgICAgICAgICBzZXJ2aWNlID0gdGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlNFQVJDSF8xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRTZWVBbHNvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaWZlc3QuZ2V0U2VlQWxzbygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0U2VxdWVuY2VCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRTZXF1ZW5jZUJ5SW5kZXgoaW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0U2hhcmVTZXJ2aWNlVXJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybCA9IG51bGw7XHJcbiAgICAgICAgdmFyIHNoYXJlU2VydmljZSA9IHRoaXMubWFuaWZlc3QuZ2V0U2VydmljZShTZXJ2aWNlUHJvZmlsZS5TSEFSRV9FWFRFTlNJT05TKTtcclxuICAgICAgICBpZiAoc2hhcmVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIGlmIChzaGFyZVNlcnZpY2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzaGFyZVNlcnZpY2UgPSBzaGFyZVNlcnZpY2VbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gc2hhcmVTZXJ2aWNlLl9fanNvbmxkLnNoYXJlVXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuX2dldFNvcnRlZFRyZWVOb2Rlc0J5RGF0ZSA9IGZ1bmN0aW9uIChzb3J0ZWRUcmVlLCB0cmVlKSB7XHJcbiAgICAgICAgLy8gY29uc3QgYWxsOiBUcmVlTm9kZVtdID0gPFRyZWVOb2RlW10+dHJlZS5ub2Rlcy5lbigpLnRyYXZlcnNlVW5pcXVlKG5vZGUgPT4gbm9kZS5ub2RlcylcclxuICAgICAgICAvLyAgICAgLndoZXJlKChuKSA9PiBuLmRhdGEudHlwZSA9PT0gVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04gfHxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgbi5kYXRhLnR5cGUgPT09IFRyZWVOb2RlVHlwZS5NQU5JRkVTVCkudG9BcnJheSgpO1xyXG4gICAgICAgIHZhciBmbGF0dGVuZWRUcmVlID0gdGhpcy5nZXRGbGF0dGVuZWRUcmVlKHRyZWUpO1xyXG4gICAgICAgIC8vIGNvbnN0IG1hbmlmZXN0czogVHJlZU5vZGVbXSA9IDxUcmVlTm9kZVtdPnRyZWUubm9kZXMuZW4oKS50cmF2ZXJzZVVuaXF1ZShuID0+IG4ubm9kZXMpXHJcbiAgICAgICAgLy8gICAgIC53aGVyZSgobikgPT4gbi5kYXRhLnR5cGUgPT09IFRyZWVOb2RlVHlwZS5NQU5JRkVTVCkudG9BcnJheSgpO1xyXG4gICAgICAgIGlmIChmbGF0dGVuZWRUcmVlKSB7XHJcbiAgICAgICAgICAgIHZhciBtYW5pZmVzdHMgPSBmbGF0dGVuZWRUcmVlLmZpbHRlcihmdW5jdGlvbiAobikgeyByZXR1cm4gbi5kYXRhLnR5cGUgPT09IFRyZWVOb2RlVHlwZS5NQU5JRkVTVDsgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVjYWRlTm9kZXMoc29ydGVkVHJlZSwgZmxhdHRlbmVkVHJlZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydERlY2FkZU5vZGVzKHNvcnRlZFRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVllYXJOb2Rlcyhzb3J0ZWRUcmVlLCBmbGF0dGVuZWRUcmVlKTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0WWVhck5vZGVzKHNvcnRlZFRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1vbnRoTm9kZXMoc29ydGVkVHJlZSwgbWFuaWZlc3RzKTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0TW9udGhOb2Rlcyhzb3J0ZWRUcmVlKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEYXRlTm9kZXMoc29ydGVkVHJlZSwgbWFuaWZlc3RzKTtcclxuICAgICAgICAgICAgdGhpcy5wcnVuZURlY2FkZU5vZGVzKHNvcnRlZFRyZWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0U3RhcnRDYW52YXNJbmRleCgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0VGh1bWJzID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5nZXRUaHVtYnMod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRUb3BSYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5nZXRUb3BSYW5nZXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFRvdGFsQ2FudmFzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0VG90YWxDYW52YXNlcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0VHJhY2tpbmdMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmdldFRyYWNraW5nTGFiZWwoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLl9nZXRUb3BSYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWlpZlJlc291cmNlLmdldFRvcFJhbmdlcygpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0VHJlZSA9IGZ1bmN0aW9uICh0b3BSYW5nZUluZGV4LCBzb3J0VHlwZSkge1xyXG4gICAgICAgIC8vIGlmIGl0J3MgYSBjb2xsZWN0aW9uLCB1c2UgSUlJRlJlc291cmNlLmdldERlZmF1bHRUcmVlKClcclxuICAgICAgICAvLyBvdGhlcndpc2UsIGdldCB0aGUgdG9wIHJhbmdlIGJ5IGluZGV4IGFuZCB1c2UgUmFuZ2UuZ2V0VHJlZSgpXHJcbiAgICAgICAgaWYgKHRvcFJhbmdlSW5kZXggPT09IHZvaWQgMCkgeyB0b3BSYW5nZUluZGV4ID0gMDsgfVxyXG4gICAgICAgIGlmIChzb3J0VHlwZSA9PT0gdm9pZCAwKSB7IHNvcnRUeXBlID0gVHJlZVNvcnRUeXBlLk5PTkU7IH1cclxuICAgICAgICBpZiAoIXRoaXMuaWlpZlJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdHJlZTtcclxuICAgICAgICBpZiAodGhpcy5paWlmUmVzb3VyY2UuaXNDb2xsZWN0aW9uKCkpIHtcclxuICAgICAgICAgICAgdHJlZSA9IHRoaXMuaWlpZlJlc291cmNlLmdldERlZmF1bHRUcmVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdG9wUmFuZ2VzID0gdGhpcy5fZ2V0VG9wUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgIHZhciByb290ID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgICAgIHJvb3QubGFiZWwgPSAncm9vdCc7XHJcbiAgICAgICAgICAgIHJvb3QuZGF0YSA9IHRoaXMuaWlpZlJlc291cmNlO1xyXG4gICAgICAgICAgICBpZiAodG9wUmFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdG9wUmFuZ2VzW3RvcFJhbmdlSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdHJlZSA9IHJhbmdlLmdldFRyZWUocm9vdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc29ydGVkVHJlZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgIHN3aXRjaCAoc29ydFR5cGUudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICBjYXNlIFRyZWVTb3J0VHlwZS5EQVRFLnRvU3RyaW5nKCk6XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGEgbGlzdCBvZiB0cmVlbm9kZXMgZm9yIGVhY2ggZGVjYWRlLlxyXG4gICAgICAgICAgICAgICAgLy8gZXhwYW5kaW5nIGEgZGVjYWRlIGdlbmVyYXRlcyBhIGxpc3Qgb2YgeWVhcnNcclxuICAgICAgICAgICAgICAgIC8vIGV4cGFuZGluZyBhIHllYXIgZ2l2ZXMgYSBsaXN0IG9mIG1vbnRocyBjb250YWluaW5nIGlzc3Vlc1xyXG4gICAgICAgICAgICAgICAgLy8gZXhwYW5kaW5nIGEgbW9udGggZ2l2ZXMgYSBsaXN0IG9mIGlzc3Vlcy5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyZWVIYXNOYXZEYXRlcyh0cmVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFNvcnRlZFRyZWVOb2Rlc0J5RGF0ZShzb3J0ZWRUcmVlLCB0cmVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHNvcnRlZFRyZWUgPSB0cmVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc29ydGVkVHJlZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLnRyZWVIYXNOYXZEYXRlcyA9IGZ1bmN0aW9uICh0cmVlKSB7XHJcbiAgICAgICAgLy9jb25zdCBub2RlOiBUcmVlTm9kZSA9IHRyZWUubm9kZXMuZW4oKS50cmF2ZXJzZVVuaXF1ZShub2RlID0+IG5vZGUubm9kZXMpLndoZXJlKChuKSA9PiAhaXNOYU4oPGFueT5uLm5hdkRhdGUpKS5maXJzdCgpO1xyXG4gICAgICAgIC8vIHRvZG86IHdyaXRlIHRlc3RcclxuICAgICAgICB2YXIgZmxhdHRlbmVkVHJlZSA9IHRoaXMuZ2V0RmxhdHRlbmVkVHJlZSh0cmVlKTtcclxuICAgICAgICByZXR1cm4gKGZsYXR0ZW5lZFRyZWUpID8gZmxhdHRlbmVkVHJlZS5zb21lKGZ1bmN0aW9uIChuKSB7IHJldHVybiAhaXNOYU4obi5uYXZEYXRlKTsgfSkgOiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmlld2luZ0RpcmVjdGlvbiA9IHRoaXMuZ2V0Q3VycmVudFNlcXVlbmNlKCkuZ2V0Vmlld2luZ0RpcmVjdGlvbigpO1xyXG4gICAgICAgIGlmICghdmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5tYW5pZmVzdC5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2aWV3aW5nRGlyZWN0aW9uO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmlld2luZ0hpbnQgPSB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmdldFZpZXdpbmdIaW50KCk7XHJcbiAgICAgICAgaWYgKCF2aWV3aW5nSGludCkge1xyXG4gICAgICAgICAgICB2aWV3aW5nSGludCA9IHRoaXMubWFuaWZlc3QuZ2V0Vmlld2luZ0hpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZpZXdpbmdIaW50O1xyXG4gICAgfTtcclxuICAgIC8vIGlucXVpcmllcyAvL1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5oYXNQYXJlbnRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYW5pZmVzdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLm1hbmlmZXN0Tm90TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5tYW5pZmVzdC5wYXJlbnRDb2xsZWN0aW9uO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaGFzUmVsYXRlZFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlbGF0ZWQgPSB0aGlzLmdldFJlbGF0ZWQoKTtcclxuICAgICAgICBpZiAoIXJlbGF0ZWQpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocmVsYXRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVsYXRlZCA9IHJlbGF0ZWRbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWxhdGVkWydmb3JtYXQnXSA9PT0gJ3RleHQvaHRtbCc7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5oYXNSZXNvdXJjZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q3VycmVudENhbnZhcygpO1xyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0UmVzb3VyY2VzKCkubGVuZ3RoID4gMDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzQm90dG9tVG9Ub3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5CT1RUT01fVE9fVE9QO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzQ2FudmFzSW5kZXhPdXRPZlJhbmdlKGluZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzQ29udGludW91cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdmlld2luZ0hpbnQgPSB0aGlzLmdldFZpZXdpbmdIaW50KCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdIaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nSGludCA9PT0gVmlld2luZ0hpbnQuQ09OVElOVU9VUztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNGaXJzdENhbnZhcyA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzRmlyc3RDYW52YXMoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc0ZpcnN0Q2FudmFzKHRoaXMuY2FudmFzSW5kZXgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNIb3Jpem9udGFsbHlBbGlnbmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTGVmdFRvUmlnaHQoKSB8fCB0aGlzLmlzUmlnaHRUb0xlZnQoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzTGFzdENhbnZhcyA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTGFzdENhbnZhcyhpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTGFzdENhbnZhcyh0aGlzLmNhbnZhc0luZGV4KTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzTGVmdFRvUmlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5MRUZUX1RPX1JJR0hUO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc011bHRpQ2FudmFzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzTXVsdGlDYW52YXMoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzTXVsdGlTZXF1ZW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0LmlzTXVsdGlTZXF1ZW5jZSgpO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNQYWdlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIHRoZSBzZXF1ZW5jZSBmb3IgYSB2aWV3aW5nSGludCAoZGVwcmVjYXRlZClcclxuICAgICAgICB2YXIgdmlld2luZ0hpbnQgPSB0aGlzLmdldFZpZXdpbmdIaW50KCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdIaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3aW5nSGludCA9PT0gVmlld2luZ0hpbnQuUEFHRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoZWNrIHRoZSBtYW5pZmVzdCBmb3IgYSB2aWV3aW5nSGludCAoZGVwcmVjYXRlZCkgb3IgcGFnZWQgYmVoYXZpb3JcclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5pZmVzdC5pc1BhZ2luZ0VuYWJsZWQoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzUGFnaW5nQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHBhZ2VkIG1vZGUgaXMgdXNlbGVzcyB1bmxlc3MgeW91IGhhdmUgYXQgbGVhc3QgMyBwYWdlcy4uLlxyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUGFnaW5nRW5hYmxlZCgpICYmIHRoaXMuZ2V0VG90YWxDYW52YXNlcygpID4gMjtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzUGFnaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFuaWZlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVycm9ycy5tYW5pZmVzdE5vdExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5tYW5pZmVzdC5pc1BhZ2luZ0VuYWJsZWQoKSB8fCB0aGlzLmdldEN1cnJlbnRTZXF1ZW5jZSgpLmlzUGFnaW5nRW5hYmxlZCgpKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmlzUmlnaHRUb0xlZnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZpZXdpbmdEaXJlY3Rpb24gPSB0aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtcclxuICAgICAgICBpZiAodmlld2luZ0RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1RvcFRvQm90dG9tID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2aWV3aW5nRGlyZWN0aW9uID0gdGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uVE9QX1RPX0JPVFRPTTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U2VxdWVuY2UoKS5pc1RvdGFsQ2FudmFzZXNFdmVuKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1VJRW5hYmxlZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMubWFuaWZlc3ROb3RMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdWlFeHRlbnNpb25zID0gdGhpcy5tYW5pZmVzdC5nZXRTZXJ2aWNlKFNlcnZpY2VQcm9maWxlLlVJX0VYVEVOU0lPTlMpO1xyXG4gICAgICAgIGlmICh1aUV4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGRpc2FibGVVSSA9IHVpRXh0ZW5zaW9ucy5nZXRQcm9wZXJ0eSgnZGlzYWJsZVVJJyk7XHJcbiAgICAgICAgICAgIGlmIChkaXNhYmxlVUkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlVUkuaW5kZXhPZihuYW1lKSAhPT0gLTEgfHwgZGlzYWJsZVVJLmluZGV4T2YobmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5pc1ZlcnRpY2FsbHlBbGlnbmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVG9wVG9Cb3R0b20oKSB8fCB0aGlzLmlzQm90dG9tVG9Ub3AoKTtcclxuICAgIH07XHJcbiAgICAvLyBkYXRlcyAvLyAgICAgXHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmNyZWF0ZURhdGVOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSwgbm9kZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy5nZXROb2RlWWVhcihub2RlKTtcclxuICAgICAgICAgICAgdmFyIG1vbnRoID0gdGhpcy5nZXROb2RlTW9udGgobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBkYXRlTm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xyXG4gICAgICAgICAgICBkYXRlTm9kZS5pZCA9IG5vZGUuaWQ7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmxhYmVsID0gdGhpcy5nZXROb2RlRGlzcGxheURhdGUobm9kZSk7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmRhdGEgPSBub2RlLmRhdGE7XHJcbiAgICAgICAgICAgIGRhdGVOb2RlLmRhdGEudHlwZSA9IFRyZWVOb2RlVHlwZS5NQU5JRkVTVDtcclxuICAgICAgICAgICAgZGF0ZU5vZGUuZGF0YS55ZWFyID0geWVhcjtcclxuICAgICAgICAgICAgZGF0ZU5vZGUuZGF0YS5tb250aCA9IG1vbnRoO1xyXG4gICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IHRoaXMuZ2V0RGVjYWRlTm9kZShyb290Tm9kZSwgeWVhcik7XHJcbiAgICAgICAgICAgIGlmIChkZWNhZGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhck5vZGUgPSB0aGlzLmdldFllYXJOb2RlKGRlY2FkZU5vZGUsIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHllYXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTm9kZSA9IHRoaXMuZ2V0TW9udGhOb2RlKHllYXJOb2RlLCBtb250aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRoTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aE5vZGUuYWRkTm9kZShkYXRlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuY3JlYXRlRGVjYWRlTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUsIG5vZGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIW5vZGUubmF2RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLmdldE5vZGVZZWFyKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgZW5kWWVhciA9IE51bWJlcih5ZWFyLnRvU3RyaW5nKCkuc3Vic3RyKDAsIDMpICsgXCI5XCIpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0RGVjYWRlTm9kZShyb290Tm9kZSwgeWVhcikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWNhZGVOb2RlID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWNhZGVOb2RlLmxhYmVsID0geWVhciArIFwiIC0gXCIgKyBlbmRZZWFyO1xyXG4gICAgICAgICAgICAgICAgZGVjYWRlTm9kZS5uYXZEYXRlID0gbm9kZS5uYXZEYXRlO1xyXG4gICAgICAgICAgICAgICAgZGVjYWRlTm9kZS5kYXRhLnN0YXJ0WWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgICAgICBkZWNhZGVOb2RlLmRhdGEuZW5kWWVhciA9IGVuZFllYXI7XHJcbiAgICAgICAgICAgICAgICByb290Tm9kZS5hZGROb2RlKGRlY2FkZU5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuY3JlYXRlTW9udGhOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSwgbm9kZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5uYXZEYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMuZ2V0Tm9kZVllYXIobm9kZSk7XHJcbiAgICAgICAgICAgIHZhciBtb250aCA9IHRoaXMuZ2V0Tm9kZU1vbnRoKG5vZGUpO1xyXG4gICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IHRoaXMuZ2V0RGVjYWRlTm9kZShyb290Tm9kZSwgeWVhcik7XHJcbiAgICAgICAgICAgIHZhciB5ZWFyTm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChkZWNhZGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB5ZWFyTm9kZSA9IHRoaXMuZ2V0WWVhck5vZGUoZGVjYWRlTm9kZSwgeWVhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRlY2FkZU5vZGUgJiYgeWVhck5vZGUgJiYgIXRoaXMuZ2V0TW9udGhOb2RlKHllYXJOb2RlLCBtb250aCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aE5vZGUgPSBuZXcgVHJlZU5vZGUoKTtcclxuICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5sYWJlbCA9IHRoaXMuZ2V0Tm9kZURpc3BsYXlNb250aChub2RlKTtcclxuICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5uYXZEYXRlID0gbm9kZS5uYXZEYXRlO1xyXG4gICAgICAgICAgICAgICAgbW9udGhOb2RlLmRhdGEueWVhciA9IHllYXI7XHJcbiAgICAgICAgICAgICAgICBtb250aE5vZGUuZGF0YS5tb250aCA9IG1vbnRoO1xyXG4gICAgICAgICAgICAgICAgeWVhck5vZGUuYWRkTm9kZShtb250aE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuY3JlYXRlWWVhck5vZGVzID0gZnVuY3Rpb24gKHJvb3ROb2RlLCBub2Rlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFub2RlLm5hdkRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy5nZXROb2RlWWVhcihub2RlKTtcclxuICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSB0aGlzLmdldERlY2FkZU5vZGUocm9vdE5vZGUsIHllYXIpO1xyXG4gICAgICAgICAgICBpZiAoZGVjYWRlTm9kZSAmJiAhdGhpcy5nZXRZZWFyTm9kZShkZWNhZGVOb2RlLCB5ZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHllYXJOb2RlID0gbmV3IFRyZWVOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB5ZWFyTm9kZS5sYWJlbCA9IHllYXIudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHllYXJOb2RlLm5hdkRhdGUgPSBub2RlLm5hdkRhdGU7XHJcbiAgICAgICAgICAgICAgICB5ZWFyTm9kZS5kYXRhLnllYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgZGVjYWRlTm9kZS5hZGROb2RlKHllYXJOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldERlY2FkZU5vZGUgPSBmdW5jdGlvbiAocm9vdE5vZGUsIHllYXIpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3ROb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gcm9vdE5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh5ZWFyID49IG4uZGF0YS5zdGFydFllYXIgJiYgeWVhciA8PSBuLmRhdGEuZW5kWWVhcilcclxuICAgICAgICAgICAgICAgIHJldHVybiBuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE1vbnRoTm9kZSA9IGZ1bmN0aW9uICh5ZWFyTm9kZSwgbW9udGgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHllYXJOb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0geWVhck5vZGUubm9kZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChtb250aCA9PT0gdGhpcy5nZXROb2RlTW9udGgobikpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXROb2RlRGlzcGxheURhdGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBub2RlLm5hdkRhdGUudG9EYXRlU3RyaW5nKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXROb2RlRGlzcGxheU1vbnRoID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICB2YXIgbW9udGhzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XHJcbiAgICAgICAgcmV0dXJuIG1vbnRoc1tub2RlLm5hdkRhdGUuZ2V0TW9udGgoKV07XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXROb2RlTW9udGggPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBub2RlLm5hdkRhdGUuZ2V0TW9udGgoKTtcclxuICAgIH07XHJcbiAgICBIZWxwZXIucHJvdG90eXBlLmdldE5vZGVZZWFyID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5uYXZEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5nZXRZZWFyTm9kZSA9IGZ1bmN0aW9uIChkZWNhZGVOb2RlLCB5ZWFyKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWNhZGVOb2RlLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuID0gZGVjYWRlTm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgaWYgKHllYXIgPT09IHRoaXMuZ2V0Tm9kZVllYXIobikpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgLy8gZGVsZXRlIGFueSBlbXB0eSBkZWNhZGVzXHJcbiAgICBIZWxwZXIucHJvdG90eXBlLnBydW5lRGVjYWRlTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUpIHtcclxuICAgICAgICB2YXIgcHJ1bmVkID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290Tm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbiA9IHJvb3ROb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIW4ubm9kZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBwcnVuZWQucHVzaChuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBydW5lZC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcCA9IHBydW5lZFtqXTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gcm9vdE5vZGUubm9kZXMuaW5kZXhPZihwKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJvb3ROb2RlLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSGVscGVyLnByb3RvdHlwZS5zb3J0RGVjYWRlTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUpIHtcclxuICAgICAgICByb290Tm9kZS5ub2RlcyA9IHJvb3ROb2RlLm5vZGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEuZGF0YS5zdGFydFllYXIgLSBiLmRhdGEuc3RhcnRZZWFyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuc29ydE1vbnRoTm9kZXMgPSBmdW5jdGlvbiAocm9vdE5vZGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm9vdE5vZGUubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGRlY2FkZU5vZGUgPSByb290Tm9kZS5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZWNhZGVOb2RlLm5vZGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOb2RlID0gZGVjYWRlTm9kZS5ub2Rlc1tqXTtcclxuICAgICAgICAgICAgICAgIG1vbnRoTm9kZS5ub2RlcyA9IG1vbnRoTm9kZS5ub2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldE5vZGVNb250aChhKSAtIF90aGlzLmdldE5vZGVNb250aChiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEhlbHBlci5wcm90b3R5cGUuc29ydFllYXJOb2RlcyA9IGZ1bmN0aW9uIChyb290Tm9kZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290Tm9kZS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZGVjYWRlTm9kZSA9IHJvb3ROb2RlLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICBkZWNhZGVOb2RlLm5vZGVzID0gZGVjYWRlTm9kZS5ub2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKF90aGlzLmdldE5vZGVZZWFyKGEpIC0gX3RoaXMuZ2V0Tm9kZVllYXIoYikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhlbHBlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgSGVscGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlbHBlci5qcy5tYXAiLCJ2YXIgSUxhYmVsVmFsdWVQYWlyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSUxhYmVsVmFsdWVQYWlyKCkge1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIElMYWJlbFZhbHVlUGFpcjtcclxufSgpKTtcclxuZXhwb3J0IHsgSUxhYmVsVmFsdWVQYWlyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlMYWJlbFZhbHVlUGFpci5qcy5tYXAiLCJ2YXIgTWV0YWRhdGFHcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1ldGFkYXRhR3JvdXAocmVzb3VyY2UsIGxhYmVsKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcclxuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICB9XHJcbiAgICBNZXRhZGF0YUdyb3VwLnByb3RvdHlwZS5hZGRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICB9O1xyXG4gICAgTWV0YWRhdGFHcm91cC5wcm90b3R5cGUuYWRkTWV0YWRhdGEgPSBmdW5jdGlvbiAobWV0YWRhdGEsIGlzUm9vdExldmVsKSB7XHJcbiAgICAgICAgaWYgKGlzUm9vdExldmVsID09PSB2b2lkIDApIHsgaXNSb290TGV2ZWwgPSBmYWxzZTsgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YWRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBtZXRhZGF0YVtpXTtcclxuICAgICAgICAgICAgaXRlbS5pc1Jvb3RMZXZlbCA9IGlzUm9vdExldmVsO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEl0ZW0oaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBNZXRhZGF0YUdyb3VwO1xyXG59KCkpO1xyXG5leHBvcnQgeyBNZXRhZGF0YUdyb3VwIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGFkYXRhR3JvdXAuanMubWFwIiwidmFyIE1ldGFkYXRhT3B0aW9ucyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1ldGFkYXRhT3B0aW9ucygpIHtcclxuICAgIH1cclxuICAgIHJldHVybiBNZXRhZGF0YU9wdGlvbnM7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IE1ldGFkYXRhT3B0aW9ucyB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXRhZGF0YU9wdGlvbnMuanMubWFwIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwibWFuaWZlc3RvLmpzXCI7XHJcbnZhciBNdWx0aVNlbGVjdFN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTXVsdGlTZWxlY3RTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XHJcbiAgICAgICAgdGhpcy5jYW52YXNlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuYWxsQ2FudmFzZXNTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNlcy5sZW5ndGggPiAwICYmIHRoaXMuZ2V0QWxsU2VsZWN0ZWRDYW52YXNlcygpLmxlbmd0aCA9PT0gdGhpcy5jYW52YXNlcy5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuYWxsUmFuZ2VzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLmxlbmd0aCA+IDAgJiYgdGhpcy5nZXRBbGxTZWxlY3RlZFJhbmdlcygpLmxlbmd0aCA9PT0gdGhpcy5yYW5nZXMubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmFsbFNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFsbFJhbmdlc1NlbGVjdGVkKCkgJiYgdGhpcy5hbGxDYW52YXNlc1NlbGVjdGVkKCk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc2VzLmNvbmNhdCh0aGlzLnJhbmdlcyk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0QWxsU2VsZWN0ZWRDYW52YXNlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNlcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubXVsdGlTZWxlY3RlZDsgfSk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0QWxsU2VsZWN0ZWRSYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5tdWx0aVNlbGVjdGVkOyB9KTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5nZXRDYW52YXNCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBVdGlscy5ub3JtYWxpc2VVcmwoYy5pZCkgPT09IFV0aWxzLm5vcm1hbGlzZVVybChpZCk7IH0pWzBdO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLmdldENhbnZhc2VzQnlJZHMgPSBmdW5jdGlvbiAoaWRzKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhc2VzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gaWRzW2ldO1xyXG4gICAgICAgICAgICBjYW52YXNlcy5wdXNoKHRoaXMuZ2V0Q2FudmFzQnlJZChpZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FudmFzZXM7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuZ2V0UmFuZ2VDYW52YXNlcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xyXG4gICAgICAgIHZhciBpZHMgPSByYW5nZS5nZXRDYW52YXNJZHMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDYW52YXNlc0J5SWRzKGlkcyk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0QWxsID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RSYW5nZXModGhpcy5yYW5nZXMsIHNlbGVjdGVkKTtcclxuICAgICAgICB0aGlzLnNlbGVjdENhbnZhc2VzKHRoaXMuY2FudmFzZXMsIHNlbGVjdGVkKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RDYW52YXMgPSBmdW5jdGlvbiAoY2FudmFzLCBzZWxlY3RlZCkge1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5jYW52YXNlcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuaWQgPT09IGNhbnZhcy5pZDsgfSlbMF07XHJcbiAgICAgICAgYy5tdWx0aVNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0QWxsQ2FudmFzZXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdENhbnZhc2VzKHRoaXMuY2FudmFzZXMsIHNlbGVjdGVkKTtcclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZWxlY3RDYW52YXNlcyA9IGZ1bmN0aW9uIChjYW52YXNlcywgc2VsZWN0ZWQpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhbnZhc2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjYW52YXNlc1tqXTtcclxuICAgICAgICAgICAgY2FudmFzLm11bHRpU2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UsIHNlbGVjdGVkKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLnJhbmdlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuaWQgPT09IHJhbmdlLmlkOyB9KVswXTtcclxuICAgICAgICByLm11bHRpU2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgICB2YXIgY2FudmFzZXMgPSB0aGlzLmdldFJhbmdlQ2FudmFzZXMocik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RDYW52YXNlcyhjYW52YXNlcywgc2VsZWN0ZWQpO1xyXG4gICAgfTtcclxuICAgIE11bHRpU2VsZWN0U3RhdGUucHJvdG90eXBlLnNlbGVjdEFsbFJhbmdlcyA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmFuZ2VzKHRoaXMucmFuZ2VzLCBzZWxlY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgTXVsdGlTZWxlY3RTdGF0ZS5wcm90b3R5cGUuc2VsZWN0UmFuZ2VzID0gZnVuY3Rpb24gKHJhbmdlcywgc2VsZWN0ZWQpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XHJcbiAgICAgICAgICAgIHJhbmdlLm11bHRpU2VsZWN0ZWQgPSBzZWxlY3RlZDtcclxuICAgICAgICAgICAgdmFyIGNhbnZhc2VzID0gdGhpcy5nZXRDYW52YXNlc0J5SWRzKHJhbmdlLmdldENhbnZhc0lkcygpKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RDYW52YXNlcyhjYW52YXNlcywgc2VsZWN0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBNdWx0aVNlbGVjdFN0YXRlLnByb3RvdHlwZS5zZXRFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcclxuICAgICAgICB0aGlzLmlzRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5nZXRBbGwoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGl0ZW0ubXVsdGlTZWxlY3RFbmFibGVkID0gdGhpcy5pc0VuYWJsZWQ7XHJcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5tdWx0aVNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE11bHRpU2VsZWN0U3RhdGU7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IE11bHRpU2VsZWN0U3RhdGUgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlTZWxlY3RTdGF0ZS5qcy5tYXAiLCJ2YXIgVHJhbnNsYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUcmFuc2xhdGlvbih2YWx1ZSwgbG9jYWxlKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRyYW5zbGF0aW9uO1xyXG59KCkpO1xyXG5leHBvcnQgeyBUcmFuc2xhdGlvbiB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2xhdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIFRyZWVTb3J0VHlwZTtcclxuKGZ1bmN0aW9uIChUcmVlU29ydFR5cGUpIHtcclxuICAgIFRyZWVTb3J0VHlwZVtcIkRBVEVcIl0gPSBcImRhdGVcIjtcclxuICAgIFRyZWVTb3J0VHlwZVtcIk5PTkVcIl0gPSBcIm5vbmVcIjtcclxufSkoVHJlZVNvcnRUeXBlIHx8IChUcmVlU29ydFR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmVlU29ydFR5cGUuanMubWFwIiwiLy8gVGhpcyBjbGFzcyBmb3JtYXRzIFVSSXMgaW50byBIVE1MIDxhPiBsaW5rcywgYXBwbHlpbmcgbGFiZWxzIHdoZW4gYXZhaWxhYmxlXHJcbnZhciBVcmlMYWJlbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVyaUxhYmVsbGVyKGxhYmVscykge1xyXG4gICAgICAgIHRoaXMubGFiZWxzID0gbGFiZWxzO1xyXG4gICAgfVxyXG4gICAgVXJpTGFiZWxsZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAvLyBpZiBhbHJlYWR5IGEgbGluaywgZG8gbm90aGluZy5cclxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJzxhJykgIT0gLTEpXHJcbiAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gKHRoaXMubGFiZWxzW3VybF0pID8gdGhpcy5sYWJlbHNbdXJsXSA6IHVybDtcclxuICAgICAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgdXJsICsgJ1wiPicgKyBsYWJlbCArICc8L2E+JztcclxuICAgIH07XHJcbiAgICByZXR1cm4gVXJpTGFiZWxsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFVyaUxhYmVsbGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVyaUxhYmVsbGVyLmpzLm1hcCIsImV4cG9ydCAqIGZyb20gXCIuL0Fubm90YXRpb25Hcm91cFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9Bbm5vdGF0aW9uUmVjdFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9Cb290c3RyYXBwZXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vRXh0ZXJuYWxSZXNvdXJjZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9IZWxwZXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vSUxhYmVsVmFsdWVQYWlyXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL01ldGFkYXRhR3JvdXBcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vTWV0YWRhdGFPcHRpb25zXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL011bHRpU2VsZWN0U3RhdGVcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vVHJhbnNsYXRpb25cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vVHJlZVNvcnRUeXBlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL1VyaUxhYmVsbGVyXCI7XHJcbmltcG9ydCB7IEJvb3RzdHJhcHBlciB9IGZyb20gXCIuL0Jvb3RzdHJhcHBlclwiO1xyXG5leHBvcnQgdmFyIGxvYWRNYW5pZmVzdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IEJvb3RzdHJhcHBlcihvcHRpb25zKS5ib290c3RyYXAoKTtcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiZXhwb3J0IHZhciBBbm5vdGF0aW9uTW90aXZhdGlvbjtcclxuKGZ1bmN0aW9uIChBbm5vdGF0aW9uTW90aXZhdGlvbikge1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJCT09LTUFSS0lOR1wiXSA9IFwib2E6Ym9va21hcmtpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiQ0xBU1NJRllJTkdcIl0gPSBcIm9hOmNsYXNzaWZ5aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkNPTU1FTlRJTkdcIl0gPSBcIm9hOmNvbW1lbnRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiREVTQ1JJQklOR1wiXSA9IFwib2E6ZGVzY3JpYmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJFRElUSU5HXCJdID0gXCJvYTplZGl0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIkhJR0hMSUdIVElOR1wiXSA9IFwib2E6aGlnaGxpZ2h0aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIklERU5USUZZSU5HXCJdID0gXCJvYTppZGVudGlmeWluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJMSU5LSU5HXCJdID0gXCJvYTpsaW5raW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIk1PREVSQVRJTkdcIl0gPSBcIm9hOm1vZGVyYXRpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiUEFJTlRJTkdcIl0gPSBcInNjOnBhaW50aW5nXCI7XHJcbiAgICBBbm5vdGF0aW9uTW90aXZhdGlvbltcIlFVRVNUSU9OSU5HXCJdID0gXCJvYTpxdWVzdGlvbmluZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJSRVBMWUlOR1wiXSA9IFwib2E6cmVwbHlpbmdcIjtcclxuICAgIEFubm90YXRpb25Nb3RpdmF0aW9uW1wiVEFHR0lOR1wiXSA9IFwib2E6dGFnZ2luZ1wiO1xyXG4gICAgQW5ub3RhdGlvbk1vdGl2YXRpb25bXCJUUkFOU0NSSUJJTkdcIl0gPSBcIm9hZDp0cmFuc2NyaWJpbmdcIjtcclxufSkoQW5ub3RhdGlvbk1vdGl2YXRpb24gfHwgKEFubm90YXRpb25Nb3RpdmF0aW9uID0ge30pKTtcclxuZXhwb3J0IHZhciBCZWhhdmlvcjtcclxuKGZ1bmN0aW9uIChCZWhhdmlvcikge1xyXG4gICAgQmVoYXZpb3JbXCJBVVRPX0FEVkFOQ0VcIl0gPSBcImF1dG8tYWR2YW5jZVwiO1xyXG4gICAgQmVoYXZpb3JbXCJDT05USU5VT1VTXCJdID0gXCJjb250aW51b3VzXCI7XHJcbiAgICBCZWhhdmlvcltcIkZBQ0lOR19QQUdFU1wiXSA9IFwiZmFjaW5nLXBhZ2VzXCI7XHJcbiAgICBCZWhhdmlvcltcIkhJRERFTlwiXSA9IFwiaGlkZGVuXCI7XHJcbiAgICBCZWhhdmlvcltcIklORElWSURVQUxTXCJdID0gXCJpbmRpdmlkdWFsc1wiO1xyXG4gICAgQmVoYXZpb3JbXCJNVUxUSV9QQVJUXCJdID0gXCJtdWx0aS1wYXJ0XCI7XHJcbiAgICBCZWhhdmlvcltcIk5PX05BVlwiXSA9IFwibm8tbmF2XCI7XHJcbiAgICBCZWhhdmlvcltcIk5PTl9QQUdFRFwiXSA9IFwibm9uLXBhZ2VkXCI7XHJcbiAgICBCZWhhdmlvcltcIlBBR0VEXCJdID0gXCJwYWdlZFwiO1xyXG4gICAgQmVoYXZpb3JbXCJSRVBFQVRcIl0gPSBcInJlcGVhdFwiO1xyXG4gICAgQmVoYXZpb3JbXCJTRVFVRU5DRVwiXSA9IFwic2VxdWVuY2VcIjtcclxuICAgIEJlaGF2aW9yW1wiVEhVTUJOQUlMX05BVlwiXSA9IFwidGh1bWJuYWlsLW5hdlwiO1xyXG4gICAgQmVoYXZpb3JbXCJUT0dFVEhFUlwiXSA9IFwidG9nZXRoZXJcIjtcclxuICAgIEJlaGF2aW9yW1wiVU5PUkRFUkVEXCJdID0gXCJ1bm9yZGVyZWRcIjtcclxufSkoQmVoYXZpb3IgfHwgKEJlaGF2aW9yID0ge30pKTtcclxuZXhwb3J0IHZhciBFeHRlcm5hbFJlc291cmNlVHlwZTtcclxuKGZ1bmN0aW9uIChFeHRlcm5hbFJlc291cmNlVHlwZSkge1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDQU5WQVNcIl0gPSBcImNhbnZhc1wiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDSE9JQ0VcIl0gPSBcImNob2ljZVwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJDT05URU5UX0FTX1RFWFRcIl0gPSBcImNvbnRlbnRhc3RleHRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiREFUQVNFVFwiXSA9IFwiZGF0YXNldFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJET0NVTUVOVFwiXSA9IFwiZG9jdW1lbnRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiSU1BR0VcIl0gPSBcImltYWdlXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIk1PREVMXCJdID0gXCJtb2RlbFwiO1xyXG4gICAgRXh0ZXJuYWxSZXNvdXJjZVR5cGVbXCJNT1ZJTkdfSU1BR0VcIl0gPSBcIm1vdmluZ2ltYWdlXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlBERlwiXSA9IFwicGRmXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlBIWVNJQ0FMX09CSkVDVFwiXSA9IFwicGh5c2ljYWxvYmplY3RcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiU09VTkRcIl0gPSBcInNvdW5kXCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlRFWFRcIl0gPSBcInRleHRcIjtcclxuICAgIEV4dGVybmFsUmVzb3VyY2VUeXBlW1wiVEVYVFVBTEJPRFlcIl0gPSBcInRleHR1YWxib2R5XCI7XHJcbiAgICBFeHRlcm5hbFJlc291cmNlVHlwZVtcIlZJREVPXCJdID0gXCJ2aWRlb1wiO1xyXG59KShFeHRlcm5hbFJlc291cmNlVHlwZSB8fCAoRXh0ZXJuYWxSZXNvdXJjZVR5cGUgPSB7fSkpO1xyXG5leHBvcnQgdmFyIElJSUZSZXNvdXJjZVR5cGU7XHJcbihmdW5jdGlvbiAoSUlJRlJlc291cmNlVHlwZSkge1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkFOTk9UQVRJT05cIl0gPSBcImFubm90YXRpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJDQU5WQVNcIl0gPSBcImNhbnZhc1wiO1xyXG4gICAgSUlJRlJlc291cmNlVHlwZVtcIkNPTExFQ1RJT05cIl0gPSBcImNvbGxlY3Rpb25cIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJNQU5JRkVTVFwiXSA9IFwibWFuaWZlc3RcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJSQU5HRVwiXSA9IFwicmFuZ2VcIjtcclxuICAgIElJSUZSZXNvdXJjZVR5cGVbXCJTRVFVRU5DRVwiXSA9IFwic2VxdWVuY2VcIjtcclxufSkoSUlJRlJlc291cmNlVHlwZSB8fCAoSUlJRlJlc291cmNlVHlwZSA9IHt9KSk7XHJcbmV4cG9ydCB2YXIgTWVkaWFUeXBlO1xyXG4oZnVuY3Rpb24gKE1lZGlhVHlwZSkge1xyXG4gICAgTWVkaWFUeXBlW1wiQVVESU9fTVA0XCJdID0gXCJhdWRpby9tcDRcIjtcclxuICAgIE1lZGlhVHlwZVtcIkNPUlRPXCJdID0gXCJhcHBsaWNhdGlvbi9jb3J0b1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiRFJBQ09cIl0gPSBcImFwcGxpY2F0aW9uL2RyYWNvXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJFUFVCXCJdID0gXCJhcHBsaWNhdGlvbi9lcHViK3ppcFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiR0xURlwiXSA9IFwibW9kZWwvZ2x0Zitqc29uXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJKUEdcIl0gPSBcImltYWdlL2pwZWdcIjtcclxuICAgIE1lZGlhVHlwZVtcIk0zVThcIl0gPSBcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJNUDNcIl0gPSBcImF1ZGlvL21wM1wiO1xyXG4gICAgTWVkaWFUeXBlW1wiTVBFR19EQVNIXCJdID0gXCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiO1xyXG4gICAgTWVkaWFUeXBlW1wiT0JKXCJdID0gXCJ0ZXh0L3BsYWluXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJPUEZcIl0gPSBcImFwcGxpY2F0aW9uL29lYnBzLXBhY2thZ2UreG1sXCI7XHJcbiAgICBNZWRpYVR5cGVbXCJQREZcIl0gPSBcImFwcGxpY2F0aW9uL3BkZlwiO1xyXG4gICAgTWVkaWFUeXBlW1wiUExZXCJdID0gXCJhcHBsaWNhdGlvbi9wbHlcIjtcclxuICAgIE1lZGlhVHlwZVtcIlRIUkVFSlNcIl0gPSBcImFwcGxpY2F0aW9uL3ZuZC50aHJlZWpzK2pzb25cIjtcclxuICAgIE1lZGlhVHlwZVtcIlZJREVPX01QNFwiXSA9IFwidmlkZW8vbXA0XCI7XHJcbiAgICBNZWRpYVR5cGVbXCJXRUJNXCJdID0gXCJ2aWRlby93ZWJtXCI7XHJcbn0pKE1lZGlhVHlwZSB8fCAoTWVkaWFUeXBlID0ge30pKTtcclxuZXhwb3J0IHZhciBSZW5kZXJpbmdGb3JtYXQ7XHJcbihmdW5jdGlvbiAoUmVuZGVyaW5nRm9ybWF0KSB7XHJcbiAgICBSZW5kZXJpbmdGb3JtYXRbXCJET0NcIl0gPSBcImFwcGxpY2F0aW9uL21zd29yZFwiO1xyXG4gICAgUmVuZGVyaW5nRm9ybWF0W1wiRE9DWFwiXSA9IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIjtcclxuICAgIFJlbmRlcmluZ0Zvcm1hdFtcIlBERlwiXSA9IFwiYXBwbGljYXRpb24vcGRmXCI7XHJcbn0pKFJlbmRlcmluZ0Zvcm1hdCB8fCAoUmVuZGVyaW5nRm9ybWF0ID0ge30pKTtcclxuZXhwb3J0IHZhciBTZXJ2aWNlUHJvZmlsZTtcclxuKGZ1bmN0aW9uIChTZXJ2aWNlUHJvZmlsZSkge1xyXG4gICAgLy8gaW1hZ2UgYXBpXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwxXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8wXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJJTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yXCJdID0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwyXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzFfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwyLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMi5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzBcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMC5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwxLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIklNQUdFXzJfTEVWRUxfMlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwyLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzJcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMi5qc29uXCI7XHJcbiAgICAvLyBhdXRoIGFwaVxyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzBfQ0xJQ0tfVEhST1VHSFwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpbi9jbGlja3Rocm91Z2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX0xPR0lOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9MT0dPVVRcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMF9SRVNUUklDVEVEXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL3Jlc3RyaWN0ZWRcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8wX1RPS0VOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL3Rva2VuXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9DTElDS19USFJPVUdIXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfRVhURVJOQUxcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvZXh0ZXJuYWxcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX0tJT1NLXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2tpb3NrXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIkFVVEhfMV9MT0dJTlwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfTE9HT1VUXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2xvZ291dFwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJBVVRIXzFfUFJPQkVcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvcHJvYmVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiQVVUSF8xX1RPS0VOXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCI7XHJcbiAgICAvLyBzZWFyY2ggYXBpXHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8wXCJdID0gXCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvc2VhcmNoXCI7XHJcbiAgICBTZXJ2aWNlUHJvZmlsZVtcIlNFQVJDSF8wX0FVVE9fQ09NUExFVEVcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9hdXRvY29tcGxldGVcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzFcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiU0VBUkNIXzFfQVVUT19DT01QTEVURVwiXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL3NlYXJjaC8xL2F1dG9jb21wbGV0ZVwiO1xyXG4gICAgLy8gZXh0ZW5zaW9uc1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJUUkFDS0lOR19FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3RyYWNraW5nLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJVSV9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJQUklOVF9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3ByaW50LWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgU2VydmljZVByb2ZpbGVbXCJTSEFSRV9FWFRFTlNJT05TXCJdID0gXCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3NoYXJlLWV4dGVuc2lvbnMtcHJvZmlsZVwiO1xyXG4gICAgLy8gb3RoZXJcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiT1RIRVJfTUFOSUZFU1RBVElPTlNcIl0gPSBcImh0dHA6Ly9paWlmLmlvL2FwaS9vdGhlck1hbmlmZXN0YXRpb25zLmpzb25cIjtcclxuICAgIFNlcnZpY2VQcm9maWxlW1wiSVhJRlwiXSA9IFwiaHR0cDovL3dlbGxjb21lbGlicmFyeS5vcmcvbGQvaXhpZi8wL2FscGhhLmpzb25cIjtcclxufSkoU2VydmljZVByb2ZpbGUgfHwgKFNlcnZpY2VQcm9maWxlID0ge30pKTtcclxuZXhwb3J0IHZhciBWaWV3aW5nRGlyZWN0aW9uO1xyXG4oZnVuY3Rpb24gKFZpZXdpbmdEaXJlY3Rpb24pIHtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJCT1RUT01fVE9fVE9QXCJdID0gXCJib3R0b20tdG8tdG9wXCI7XHJcbiAgICBWaWV3aW5nRGlyZWN0aW9uW1wiTEVGVF9UT19SSUdIVFwiXSA9IFwibGVmdC10by1yaWdodFwiO1xyXG4gICAgVmlld2luZ0RpcmVjdGlvbltcIlJJR0hUX1RPX0xFRlRcIl0gPSBcInJpZ2h0LXRvLWxlZnRcIjtcclxuICAgIFZpZXdpbmdEaXJlY3Rpb25bXCJUT1BfVE9fQk9UVE9NXCJdID0gXCJ0b3AtdG8tYm90dG9tXCI7XHJcbn0pKFZpZXdpbmdEaXJlY3Rpb24gfHwgKFZpZXdpbmdEaXJlY3Rpb24gPSB7fSkpO1xyXG5leHBvcnQgdmFyIFZpZXdpbmdIaW50O1xyXG4oZnVuY3Rpb24gKFZpZXdpbmdIaW50KSB7XHJcbiAgICBWaWV3aW5nSGludFtcIkNPTlRJTlVPVVNcIl0gPSBcImNvbnRpbnVvdXNcIjtcclxuICAgIFZpZXdpbmdIaW50W1wiSU5ESVZJRFVBTFNcIl0gPSBcImluZGl2aWR1YWxzXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIk5PTl9QQUdFRFwiXSA9IFwibm9uLXBhZ2VkXCI7XHJcbiAgICBWaWV3aW5nSGludFtcIlBBR0VEXCJdID0gXCJwYWdlZFwiO1xyXG4gICAgVmlld2luZ0hpbnRbXCJUT1BcIl0gPSBcInRvcFwiO1xyXG59KShWaWV3aW5nSGludCB8fCAoVmlld2luZ0hpbnQgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIhZnVuY3Rpb24odSxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkJhbmFuYT1lKCk6dS5CYW5hbmE9ZSgpfSh0aGlzLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1KXt2YXIgZT17fTtmdW5jdGlvbiBkKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgdD1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdVtyXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxkKSx0Lmw9ITAsdC5leHBvcnRzfXJldHVybiBkLm09dSxkLmM9ZSxkLmQ9ZnVuY3Rpb24odSxlLHIpe2Qubyh1LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodSxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LGQucj1mdW5jdGlvbih1KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxkLnQ9ZnVuY3Rpb24odSxlKXtpZigxJmUmJih1PWQodSkpLDgmZSlyZXR1cm4gdTtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB1JiZ1JiZ1Ll9fZXNNb2R1bGUpcmV0dXJuIHU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihkLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dX0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHUpZm9yKHZhciB0IGluIHUpZC5kKHIsdCxmdW5jdGlvbihlKXtyZXR1cm4gdVtlXX0uYmluZChudWxsLHQpKTtyZXR1cm4gcn0sZC5uPWZ1bmN0aW9uKHUpe3ZhciBlPXUmJnUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHV9O3JldHVybiBkLmQoZSxcImFcIixlKSxlfSxkLm89ZnVuY3Rpb24odSxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsZSl9LGQucD1cIlwiLGQoZC5zPTIpfShbZnVuY3Rpb24odSl7dS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcImFyXCI6XCLZoNmh2aLZo9mk2aXZptmn2ajZqVwiLFwiZmFcIjpcItuw27Hbstuz27Tbtdu227fbuNu5XCIsXCJtbFwiOlwi4LWm4LWn4LWo4LWp4LWq4LWr4LWs4LWt4LWu4LWvXCIsXCJrblwiOlwi4LOm4LOn4LOo4LOp4LOq4LOr4LOs4LOt4LOu4LOvXCIsXCJsb1wiOlwi4LuQ4LuR4LuS4LuT4LuU4LuV4LuW4LuX4LuY4LuZXCIsXCJvclwiOlwi4K2m4K2n4K2o4K2p4K2q4K2r4K2s4K2t4K2u4K2vXCIsXCJraFwiOlwi4Z+g4Z+h4Z+i4Z+j4Z+k4Z+l4Z+m4Z+n4Z+o4Z+pXCIsXCJucW9cIjpcIt+A34Hfgt+D34Tfhd+G34ffiN+JXCIsXCJwYVwiOlwi4Kmm4Kmn4Kmo4Kmp4Kmq4Kmr4Kms4Kmt4Kmu4KmvXCIsXCJndVwiOlwi4Kum4Kun4Kuo4Kup4Kuq4Kur4Kus4Kut4Kuu4KuvXCIsXCJoaVwiOlwi4KWm4KWn4KWo4KWp4KWq4KWr4KWs4KWt4KWu4KWvXCIsXCJteVwiOlwi4YGA4YGB4YGC4YGD4YGE4YGF4YGG4YGH4YGI4YGJXCIsXCJ0YVwiOlwi4K+m4K+n4K+o4K+p4K+q4K+r4K+s4K+t4K+u4K+vXCIsXCJ0ZVwiOlwi4LGm4LGn4LGo4LGp4LGq4LGr4LGs4LGt4LGu4LGvXCIsXCJ0aFwiOlwi4LmQ4LmR4LmS4LmT4LmU4LmV4LmW4LmX4LmY4LmZXCIsXCJib1wiOlwi4Lyg4Lyh4Lyi4Lyj4Lyk4Lyl4Lym4Lyn4Lyo4LypXCJ9Jyl9LGZ1bmN0aW9uKHUpe3UuZXhwb3J0cz1KU09OLnBhcnNlKCd7XCJhYlwiOltcInJ1XCJdLFwiYWNlXCI6W1wiaWRcIl0sXCJhbG5cIjpbXCJzcVwiXSxcImFsc1wiOltcImdzd1wiLFwiZGVcIl0sXCJhblwiOltcImVzXCJdLFwiYW5wXCI6W1wiaGlcIl0sXCJhcm5cIjpbXCJlc1wiXSxcImFyelwiOltcImFyXCJdLFwiYXZcIjpbXCJydVwiXSxcImF5XCI6W1wiZXNcIl0sXCJiYVwiOltcInJ1XCJdLFwiYmFyXCI6W1wiZGVcIl0sXCJiYXQtc21nXCI6W1wic2dzXCIsXCJsdFwiXSxcImJjY1wiOltcImZhXCJdLFwiYmUteC1vbGRcIjpbXCJiZS10YXJhc2tcIl0sXCJiaFwiOltcImJob1wiXSxcImJqblwiOltcImlkXCJdLFwiYm1cIjpbXCJmclwiXSxcImJweVwiOltcImJuXCJdLFwiYnFpXCI6W1wiZmFcIl0sXCJidWdcIjpbXCJpZFwiXSxcImNiay16YW1cIjpbXCJlc1wiXSxcImNlXCI6W1wicnVcIl0sXCJjcmhcIjpbXCJjcmgtbGF0blwiXSxcImNyaC1jeXJsXCI6W1wicnVcIl0sXCJjc2JcIjpbXCJwbFwiXSxcImN2XCI6W1wicnVcIl0sXCJkZS1hdFwiOltcImRlXCJdLFwiZGUtY2hcIjpbXCJkZVwiXSxcImRlLWZvcm1hbFwiOltcImRlXCJdLFwiZHNiXCI6W1wiZGVcIl0sXCJkdHBcIjpbXCJtc1wiXSxcImVnbFwiOltcIml0XCJdLFwiZW1sXCI6W1wiaXRcIl0sXCJmZlwiOltcImZyXCJdLFwiZml0XCI6W1wiZmlcIl0sXCJmaXUtdnJvXCI6W1widnJvXCIsXCJldFwiXSxcImZyY1wiOltcImZyXCJdLFwiZnJwXCI6W1wiZnJcIl0sXCJmcnJcIjpbXCJkZVwiXSxcImZ1clwiOltcIml0XCJdLFwiZ2FnXCI6W1widHJcIl0sXCJnYW5cIjpbXCJnYW4taGFudFwiLFwiemgtaGFudFwiLFwiemgtaGFuc1wiXSxcImdhbi1oYW5zXCI6W1wiemgtaGFuc1wiXSxcImdhbi1oYW50XCI6W1wiemgtaGFudFwiLFwiemgtaGFuc1wiXSxcImdsXCI6W1wicHRcIl0sXCJnbGtcIjpbXCJmYVwiXSxcImduXCI6W1wiZXNcIl0sXCJnc3dcIjpbXCJkZVwiXSxcImhpZlwiOltcImhpZi1sYXRuXCJdLFwiaHNiXCI6W1wiZGVcIl0sXCJodFwiOltcImZyXCJdLFwiaWlcIjpbXCJ6aC1jblwiLFwiemgtaGFuc1wiXSxcImluaFwiOltcInJ1XCJdLFwiaXVcIjpbXCJpa2UtY2Fuc1wiXSxcImp1dFwiOltcImRhXCJdLFwianZcIjpbXCJpZFwiXSxcImthYVwiOltcImtrLWxhdG5cIixcImtrLWN5cmxcIl0sXCJrYmRcIjpbXCJrYmQtY3lybFwiXSxcImtod1wiOltcInVyXCJdLFwia2l1XCI6W1widHJcIl0sXCJra1wiOltcImtrLWN5cmxcIl0sXCJray1hcmFiXCI6W1wia2stY3lybFwiXSxcImtrLWxhdG5cIjpbXCJray1jeXJsXCJdLFwia2stY25cIjpbXCJray1hcmFiXCIsXCJray1jeXJsXCJdLFwia2sta3pcIjpbXCJray1jeXJsXCJdLFwia2stdHJcIjpbXCJray1sYXRuXCIsXCJray1jeXJsXCJdLFwia2xcIjpbXCJkYVwiXSxcImtvLWtwXCI6W1wia29cIl0sXCJrb2lcIjpbXCJydVwiXSxcImtyY1wiOltcInJ1XCJdLFwia3NcIjpbXCJrcy1hcmFiXCJdLFwia3NoXCI6W1wiZGVcIl0sXCJrdVwiOltcImt1LWxhdG5cIl0sXCJrdS1hcmFiXCI6W1wiY2tiXCJdLFwia3ZcIjpbXCJydVwiXSxcImxhZFwiOltcImVzXCJdLFwibGJcIjpbXCJkZVwiXSxcImxiZVwiOltcInJ1XCJdLFwibGV6XCI6W1wicnVcIl0sXCJsaVwiOltcIm5sXCJdLFwibGlqXCI6W1wiaXRcIl0sXCJsaXZcIjpbXCJldFwiXSxcImxtb1wiOltcIml0XCJdLFwibG5cIjpbXCJmclwiXSxcImx0Z1wiOltcImx2XCJdLFwibHp6XCI6W1widHJcIl0sXCJtYWlcIjpbXCJoaVwiXSxcIm1hcC1ibXNcIjpbXCJqdlwiLFwiaWRcIl0sXCJtZ1wiOltcImZyXCJdLFwibWhyXCI6W1wicnVcIl0sXCJtaW5cIjpbXCJpZFwiXSxcIm1vXCI6W1wicm9cIl0sXCJtcmpcIjpbXCJydVwiXSxcIm13bFwiOltcInB0XCJdLFwibXl2XCI6W1wicnVcIl0sXCJtem5cIjpbXCJmYVwiXSxcIm5haFwiOltcImVzXCJdLFwibmFwXCI6W1wiaXRcIl0sXCJuZHNcIjpbXCJkZVwiXSxcIm5kcy1ubFwiOltcIm5sXCJdLFwibmwtaW5mb3JtYWxcIjpbXCJubFwiXSxcIm5vXCI6W1wibmJcIl0sXCJvc1wiOltcInJ1XCJdLFwicGNkXCI6W1wiZnJcIl0sXCJwZGNcIjpbXCJkZVwiXSxcInBkdFwiOltcImRlXCJdLFwicGZsXCI6W1wiZGVcIl0sXCJwbXNcIjpbXCJpdFwiXSxcInB0XCI6W1wicHQtYnJcIl0sXCJwdC1iclwiOltcInB0XCJdLFwicXVcIjpbXCJlc1wiXSxcInF1Z1wiOltcInF1XCIsXCJlc1wiXSxcInJnblwiOltcIml0XCJdLFwicm15XCI6W1wicm9cIl0sXCJyb2EtcnVwXCI6W1wicnVwXCJdLFwicnVlXCI6W1widWtcIixcInJ1XCJdLFwicnVxXCI6W1wicnVxLWxhdG5cIixcInJvXCJdLFwicnVxLWN5cmxcIjpbXCJta1wiXSxcInJ1cS1sYXRuXCI6W1wicm9cIl0sXCJzYVwiOltcImhpXCJdLFwic2FoXCI6W1wicnVcIl0sXCJzY25cIjpbXCJpdFwiXSxcInNnXCI6W1wiZnJcIl0sXCJzZ3NcIjpbXCJsdFwiXSxcInNsaVwiOltcImRlXCJdLFwic3JcIjpbXCJzci1lY1wiXSxcInNyblwiOltcIm5sXCJdLFwic3RxXCI6W1wiZGVcIl0sXCJzdVwiOltcImlkXCJdLFwic3psXCI6W1wicGxcIl0sXCJ0Y3lcIjpbXCJrblwiXSxcInRnXCI6W1widGctY3lybFwiXSxcInR0XCI6W1widHQtY3lybFwiLFwicnVcIl0sXCJ0dC1jeXJsXCI6W1wicnVcIl0sXCJ0eVwiOltcImZyXCJdLFwidWRtXCI6W1wicnVcIl0sXCJ1Z1wiOltcInVnLWFyYWJcIl0sXCJ1a1wiOltcInJ1XCJdLFwidmVjXCI6W1wiaXRcIl0sXCJ2ZXBcIjpbXCJldFwiXSxcInZsc1wiOltcIm5sXCJdLFwidm1mXCI6W1wiZGVcIl0sXCJ2b3RcIjpbXCJmaVwiXSxcInZyb1wiOltcImV0XCJdLFwid2FcIjpbXCJmclwiXSxcIndvXCI6W1wiZnJcIl0sXCJ3dXVcIjpbXCJ6aC1oYW5zXCJdLFwieGFsXCI6W1wicnVcIl0sXCJ4bWZcIjpbXCJrYVwiXSxcInlpXCI6W1wiaGVcIl0sXCJ6YVwiOltcInpoLWhhbnNcIl0sXCJ6ZWFcIjpbXCJubFwiXSxcInpoXCI6W1wiemgtaGFuc1wiXSxcInpoLWNsYXNzaWNhbFwiOltcImx6aFwiXSxcInpoLWNuXCI6W1wiemgtaGFuc1wiXSxcInpoLWhhbnRcIjpbXCJ6aC1oYW5zXCJdLFwiemgtaGtcIjpbXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiemgtbWluLW5hblwiOltcIm5hblwiXSxcInpoLW1vXCI6W1wiemgtaGtcIixcInpoLWhhbnRcIixcInpoLWhhbnNcIl0sXCJ6aC1teVwiOltcInpoLXNnXCIsXCJ6aC1oYW5zXCJdLFwiemgtc2dcIjpbXCJ6aC1oYW5zXCJdLFwiemgtdHdcIjpbXCJ6aC1oYW50XCIsXCJ6aC1oYW5zXCJdLFwiemgteXVlXCI6W1wieXVlXCJdfScpfSxmdW5jdGlvbih1LGUsZCl7XCJ1c2Ugc3RyaWN0XCI7ZC5yKGUpO3ZhciByPWQoMCk7Y2xhc3MgdHtjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11fWNvbnZlcnRQbHVyYWwodSxlKXt2YXIgZD1uZXcgUmVnRXhwKFwiXFxcXGQrPVwiLFwiaVwiKTtpZighZXx8MD09PWUubGVuZ3RoKXJldHVyblwiXCI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCB0PWVbcl07aWYoZC50ZXN0KHQpKXtpZihwYXJzZUludCh0LnNsaWNlKDAsdC5pbmRleE9mKFwiPVwiKSksMTApPT09dSlyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoXCI9XCIpKzEpO2Vbcl09dm9pZCAwfX1lPWUuZmlsdGVyKHU9PiEhdSk7bGV0IHI9dGhpcy5nZXRQbHVyYWxGb3JtKHUsdGhpcy5sb2NhbGUpO3JldHVybiByPU1hdGgubWluKHIsZS5sZW5ndGgtMSksZVtyXX1nZXRQbHVyYWxGb3JtKHUsZSl7Y29uc3QgZD1uZXcgSW50bC5QbHVyYWxSdWxlcyhlKSxyPWQucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcyx0PWQuc2VsZWN0KHUpO3JldHVybltcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJmZXdcIixcIm1hbnlcIixcIm90aGVyXCJdLmZpbHRlcih1PT5yLmluY2x1ZGVzKHUpKS5pbmRleE9mKHQpfWNvbnZlcnROdW1iZXIodSxlKXtsZXQgZD10aGlzLmRpZ2l0VHJhbnNmb3JtVGFibGUodGhpcy5sb2NhbGUpLHI9U3RyaW5nKHUpLHQ9XCJcIjtpZighZClyZXR1cm4gdTtpZihlKXtpZihwYXJzZUZsb2F0KHUsMTApPT09dSlyZXR1cm4gdTtsZXQgZT1bXTtmb3IobGV0IHUgaW4gZCllW2RbdV1dPXU7ZD1lfWZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKWRbclt1XV0/dCs9ZFtyW3VdXTp0Kz1yW3VdO3JldHVybiBlP3BhcnNlRmxvYXQodCwxMCk6dH1jb252ZXJ0R3JhbW1hcih1LGUpe3JldHVybiB1fWdlbmRlcih1LGUpe2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuXCJcIjtmb3IoO2UubGVuZ3RoPDI7KWUucHVzaChlW2UubGVuZ3RoLTFdKTtyZXR1cm5cIm1hbGVcIj09PXU/ZVswXTpcImZlbWFsZVwiPT09dT9lWzFdOjM9PT1lLmxlbmd0aD9lWzJdOmVbMF19ZGlnaXRUcmFuc2Zvcm1UYWJsZSh1KXtyZXR1cm4hIXJbdV0mJnJbdV0uc3BsaXQoXCJcIil9fXZhciBhPXticzpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtzd2l0Y2goZSl7Y2FzZVwiaW5zdHJ1bWVudGFsXCI6dT1cInMgXCIrdTticmVhaztjYXNlXCJsb2thdGl2XCI6dT1cIm8gXCIrdX1yZXR1cm4gdX19LGRlZmF1bHQ6dCxkc2I6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7c3dpdGNoKGUpe2Nhc2VcImluc3RydW1lbnRhbFwiOnU9XCJ6IFwiK3U7YnJlYWs7Y2FzZVwibG9rYXRpd1wiOnU9XCJ3byBcIit1fXJldHVybiB1fX0sZmk6Y2xhc3MgZXh0ZW5kcyB0e2NvbnZlcnRHcmFtbWFyKHUsZSl7bGV0IGQ9dS5tYXRjaCgvW2FvdV1bXsOkw7Z5XSokL2kpLHI9dTtzd2l0Y2godS5tYXRjaCgvd2lraSQvaSkmJihkPSExKSx1Lm1hdGNoKC9bYmNkZmdoamtsbW5wcXJzdHZ3eHpdJC9pKSYmKHUrPVwiaVwiKSxlKXtjYXNlXCJnZW5pdGl2ZVwiOnUrPVwiblwiO2JyZWFrO2Nhc2VcImVsYXRpdmVcIjp1Kz1kP1wic3RhXCI6XCJzdMOkXCI7YnJlYWs7Y2FzZVwicGFydGl0aXZlXCI6dSs9ZD9cImFcIjpcIsOkXCI7YnJlYWs7Y2FzZVwiaWxsYXRpdmVcIjp1Kz11LnNsaWNlKC0xKStcIm5cIjticmVhaztjYXNlXCJpbmVzc2l2ZVwiOnUrPWQ/XCJzc2FcIjpcInNzw6RcIjticmVhaztkZWZhdWx0OnU9cn1yZXR1cm4gdX19LGdhOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe2lmKFwiYWlubWxhZVwiPT09ZSlzd2l0Y2godSl7Y2FzZVwiYW4gRG9taG5hY2hcIjp1PVwiRMOpIERvbWhuYWlnaFwiO2JyZWFrO2Nhc2VcImFuIEx1YW5cIjp1PVwiRMOpIEx1YWluXCI7YnJlYWs7Y2FzZVwiYW4gTWjDoWlydFwiOnU9XCJEw6kgTWjDoWlydFwiO2JyZWFrO2Nhc2VcImFuIENow6lhZGFvaW5cIjp1PVwiRMOpIENow6lhZGFvaW5cIjticmVhaztjYXNlXCJhbiBEw6lhcmRhb2luXCI6dT1cIkTDqWFyZGFvaW5cIjticmVhaztjYXNlXCJhbiBBb2luZVwiOnU9XCJEw6kgaEFvaW5lXCI7YnJlYWs7Y2FzZVwiYW4gU2F0aGFyblwiOnU9XCJEw6kgU2F0aGFpcm5cIn1yZXR1cm4gdX19LGhlOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJwcmVmaXhlZFwiOmNhc2VcIteq15fXmdec15nXqlwiOlwi15VcIj09PXUuc2xpY2UoMCwxKSYmXCLXldeVXCIhPT11LnNsaWNlKDAsMikmJih1PVwi15VcIit1KSxcIteUXCI9PT11LnNsaWNlKDAsMSkmJih1PXUuc2xpY2UoMSkpLCh1LnNsaWNlKDAsMSk8XCLXkFwifHx1LnNsaWNlKDAsMSk+XCLXqlwiKSYmKHU9XCLWvlwiK3UpfXJldHVybiB1fX0saHNiOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJpbnN0cnVtZW50YWxcIjp1PVwieiBcIit1O2JyZWFrO2Nhc2VcImxva2F0aXdcIjp1PVwid28gXCIrdX1yZXR1cm4gdX19LGh1OmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJyb2xcIjp1Kz1cInLDs2xcIjticmVhaztjYXNlXCJiYVwiOnUrPVwiYmFcIjticmVhaztjYXNlXCJrXCI6dSs9XCJrXCJ9cmV0dXJuIHV9fSxoeTpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtyZXR1cm5cImdlbml0aXZlXCI9PT1lJiYoXCLVoVwiPT09dS5zbGljZSgtMSk/dT11LnNsaWNlKDAsLTEpK1wi1aHVtdWrXCI6XCLVuFwiPT09dS5zbGljZSgtMSk/dT11LnNsaWNlKDAsLTEpK1wi1bjVtdWrXCI6XCLVo9Wr1oDWhFwiPT09dS5zbGljZSgtNCk/dT11LnNsaWNlKDAsLTQpK1wi1aPWgNaE1atcIjp1Kz1cItWrXCIpLHV9fSxsYTpjbGFzcyBleHRlbmRzIHR7Y29udmVydEdyYW1tYXIodSxlKXtzd2l0Y2goZSl7Y2FzZVwiZ2VuaXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJpXCIpKS5yZXBsYWNlKC9vbW11bmlhJC9pLFwib21tdW5pdW1cIikpLnJlcGxhY2UoL2EkL2ksXCJhZVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyb3J1bVwiKSkucmVwbGFjZSgvbnVudGlpJC9pLFwibnVudGlvcnVtXCIpKS5yZXBsYWNlKC90aW8kL2ksXCJ0aW9uaXNcIikpLnJlcGxhY2UoL25zJC9pLFwibnRpc1wiKSkucmVwbGFjZSgvYXMkL2ksXCJhdGlzXCIpKS5yZXBsYWNlKC9lcyQvaSxcImVpXCIpO2JyZWFrO2Nhc2VcImFjY3VzYXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJ1bVwiKSkucmVwbGFjZSgvb21tdW5pYSQvaSxcImFtXCIpKS5yZXBsYWNlKC9hJC9pLFwib21tdW5pYVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyb3NcIikpLnJlcGxhY2UoL251bnRpaSQvaSxcIm51bnRpb3NcIikpLnJlcGxhY2UoL3RpbyQvaSxcInRpb25lbVwiKSkucmVwbGFjZSgvbnMkL2ksXCJudGVtXCIpKS5yZXBsYWNlKC9hcyQvaSxcImF0ZW1cIikpLnJlcGxhY2UoL2VzJC9pLFwiZW1cIik7YnJlYWs7Y2FzZVwiYWJsYXRpdmVcIjp1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PSh1PXUucmVwbGFjZSgvdVttc10kL2ksXCJvXCIpKS5yZXBsYWNlKC9vbW11bmlhJC9pLFwib21tdW5pYnVzXCIpKS5yZXBsYWNlKC9hJC9pLFwiYVwiKSkucmVwbGFjZSgvbGlicmkkL2ksXCJsaWJyaXNcIikpLnJlcGxhY2UoL251bnRpaSQvaSxcIm51bnRpaXNcIikpLnJlcGxhY2UoL3RpbyQvaSxcInRpb25lXCIpKS5yZXBsYWNlKC9ucyQvaSxcIm50ZVwiKSkucmVwbGFjZSgvYXMkL2ksXCJhdGVcIikpLnJlcGxhY2UoL2VzJC9pLFwiZVwiKX1yZXR1cm4gdX19LG9zOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3ZhciBkLHIsdCxhO3N3aXRjaChkPVwi0LzDplwiLHI9XCJcIix0PVwiXCIsYT1cIlwiLHUubWF0Y2goL9GCw6YkL2kpPyh1PXUuc2xpY2UoMCwtMSksZD1cIsOm0LxcIik6dS5tYXRjaCgvW9Cww6bQtdGR0LjQvtGL0Y3RjtGPXSQvaSk/cj1cItC5XCI6dS5tYXRjaCgv0YMkL2kpP3Uuc2xpY2UoLTIsLTEpLm1hdGNoKC9b0LDDptC10ZHQuNC+0YvRjdGO0Y9dJC9pKXx8KHI9XCLQuVwiKTp1Lm1hdGNoKC9b0LHQstCz0LTQttC30LnQutC70LzQvdC+0L/RgNGB0YLRhNGF0YbRh9GI0YnRjNGKXSQvaSl8fCh0PVwiLVwiKSxlKXtjYXNlXCJnZW5pdGl2ZVwiOmE9dCtyK1wi0YtcIjticmVhaztjYXNlXCJkYXRpdmVcIjphPXQrcitcIsOm0L1cIjticmVhaztjYXNlXCJhbGxhdGl2ZVwiOmE9dCtkO2JyZWFrO2Nhc2VcImFibGF0aXZlXCI6YT1cItC5XCI9PT1yP3QrcitcIsOmXCI6dCtyK1wiw6bQuVwiO2JyZWFrO2Nhc2VcInN1cGVyZXNzaXZlXCI6YT10K3IrXCLRi9C7XCI7YnJlYWs7Y2FzZVwiZXF1YXRpdmVcIjphPXQrcitcItCw0YNcIjticmVhaztjYXNlXCJjb21pdGF0aXZlXCI6YT10K1wi0LjQvMOmXCJ9cmV0dXJuIHUrYX19LHJ1OmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3JldHVyblwiZ2VuaXRpdmVcIj09PWUmJihcItGMXCI9PT11LnNsaWNlKC0xKT91PXUuc2xpY2UoMCwtMSkrXCLRj1wiOlwi0LjRj1wiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0LjQuFwiOlwi0LrQsFwiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0LrQuFwiOlwi0YLQuFwiPT09dS5zbGljZSgtMik/dT11LnNsaWNlKDAsLTIpK1wi0YLQtdC5XCI6XCLQtNGLXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQtNC+0LJcIjpcItC90LjQulwiPT09dS5zbGljZSgtMykmJih1PXUuc2xpY2UoMCwtMykrXCLQvdC40LrQsFwiKSksdX19LHNsOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJtZXN0bmlrXCI6dT1cIm8gXCIrdTticmVhaztjYXNlXCJvcm9kbmlrXCI6dT1cInogXCIrdX1yZXR1cm4gdX19LHVrOmNsYXNzIGV4dGVuZHMgdHtjb252ZXJ0R3JhbW1hcih1LGUpe3N3aXRjaChlKXtjYXNlXCJnZW5pdGl2ZVwiOlwi0YxcIj09PXUuc2xpY2UoLTEpP3U9dS5zbGljZSgwLC0xKStcItGPXCI6XCLRltGPXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLRltGXXCI6XCLQutCwXCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLQutC4XCI6XCLRgtC4XCI9PT11LnNsaWNlKC0yKT91PXUuc2xpY2UoMCwtMikrXCLRgtC10LlcIjpcItC00YtcIj09PXUuc2xpY2UoLTIpP3U9dS5zbGljZSgwLC0yKStcItC00L7QslwiOlwi0L3QuNC6XCI9PT11LnNsaWNlKC0zKSYmKHU9dS5zbGljZSgwLC0zKStcItC90LjQutCwXCIpO2JyZWFrO2Nhc2VcImFjY3VzYXRpdmVcIjpcItGW0Y9cIj09PXUuc2xpY2UoLTIpJiYodT11LnNsaWNlKDAsLTIpK1wi0ZbRjlwiKX1yZXR1cm4gdX19fTtjb25zdCBuPW5ldyBSZWdFeHAoXCIoPzooW0EtWmEtesKqwrXCusOALcOWw5gtw7bDuC3KuMq7LcuBy5DLkcugLcuky67NsC3Ns822zbfNui3Nvc2/zobOiC3Ois6Mzo4tzqHOoy3Ptc+3LdKC0oot1K/UsS3VltWZLdWf1aEt1ofWieCkgy3gpLngpLvgpL0t4KWA4KWJLeCljOClji3gpZDgpZgt4KWh4KWkLeCmgOCmguCmg+CmhS3gpozgpo/gppDgppMt4Kao4KaqLeCmsOCmsuCmti3gprngpr0t4KeA4KeH4KeI4KeL4KeM4KeO4KeX4Kec4Ked4KefLeCnoeCnpi3gp7Hgp7Qt4Ke64KiD4KiFLeCoiuCoj+CokOCoky3gqKjgqKot4Kiw4Kiy4Kiz4Ki14Ki24Ki44Ki54Ki+LeCpgOCpmS3gqZzgqZ7gqaYt4Kmv4KmyLeCptOCqg+CqhS3gqo3gqo8t4KqR4KqTLeCqqOCqqi3gqrDgqrLgqrPgqrUt4Kq54Kq9LeCrgOCrieCri+CrjOCrkOCroOCroeCrpi3gq7Dgq7ngrILgrIPgrIUt4KyM4KyP4KyQ4KyTLeCsqOCsqi3grLDgrLLgrLPgrLUt4Ky54Ky94Ky+4K2A4K2H4K2I4K2L4K2M4K2X4K2c4K2d4K2fLeCtoeCtpi3grbfgroPgroUt4K6K4K6OLeCukOCuki3grpXgrpngrprgrpzgrp7grp/grqPgrqTgrqgt4K6q4K6uLeCuueCuvuCuv+CvgeCvguCvhi3gr4jgr4ot4K+M4K+Q4K+X4K+mLeCvsuCwgS3gsIPgsIUt4LCM4LCOLeCwkOCwki3gsKjgsKot4LC54LC94LGBLeCxhOCxmC3gsZrgsaDgsaHgsaYt4LGv4LG/4LKC4LKD4LKFLeCyjOCyji3gspDgspIt4LKo4LKqLeCys+CytS3gsrngsr0t4LOE4LOGLeCziOCziuCzi+CzleCzluCznuCzoOCzoeCzpi3gs6/gs7Hgs7LgtILgtIPgtIUt4LSM4LSOLeC0kOC0ki3gtLrgtL0t4LWA4LWGLeC1iOC1ii3gtYzgtY7gtZfgtZ8t4LWh4LWmLeC1teC1uS3gtb/gtoLgtoPgtoUt4LaW4LaaLeC2seC2sy3gtrvgtr3gt4At4LeG4LePLeC3keC3mC3gt5/gt6Yt4Lev4LeyLeC3tOC4gS3guLDguLLguLPguYAt4LmG4LmPLeC5m+C6geC6guC6hOC6h+C6iOC6iuC6jeC6lC3gupfgupkt4Lqf4LqhLeC6o+C6peC6p+C6quC6q+C6rS3gurDgurLgurPgur3gu4At4LuE4LuG4LuQLeC7meC7nC3gu5/gvIAt4LyX4LyaLeC8tOC8tuC8uOC8vi3gvYfgvYkt4L2s4L2/4L6F4L6ILeC+jOC+vi3gv4Xgv4ct4L+M4L+OLeC/muGAgC3hgKzhgLHhgLjhgLvhgLzhgL8t4YGX4YGaLeGBneGBoS3hgbDhgbUt4YKB4YKD4YKE4YKHLeGCjOGCji3hgpzhgp4t4YOF4YOH4YON4YOQLeGJiOGJii3hiY3hiZAt4YmW4YmY4YmaLeGJneGJoC3hiojhioot4YqN4YqQLeGKsOGKsi3hirXhirgt4Yq+4YuA4YuCLeGLheGLiC3hi5bhi5gt4YyQ4YySLeGMleGMmC3hjZrhjaAt4Y284Y6ALeGOj+GOoC3hj7Xhj7gt4Y+94ZCBLeGZv+GagS3hmprhmqAt4Zu44ZyALeGcjOGcji3hnJHhnKAt4Zyx4Zy14Zy24Z2ALeGdkeGdoC3hnazhna4t4Z2w4Z6ALeGes+GetuGevi3hn4Xhn4fhn4jhn5Qt4Z+a4Z+c4Z+gLeGfqeGgkC3hoJnhoKAt4aG34aKALeGiqOGiquGisC3ho7XhpIAt4aSe4aSjLeGkpuGkqS3hpKvhpLDhpLHhpLMt4aS44aWGLeGlreGlsC3hpbThpoAt4aar4aawLeGnieGnkC3hp5rhqIAt4aiW4aiZ4aia4aieLeGpleGpl+GpoeGpo+GppOGprS3hqbLhqoAt4aqJ4aqQLeGqmeGqoC3hqq3hrIQt4ayz4ay14ay74ay9LeGtgeGtgy3hrYvhrZAt4a2q4a20LeGtvOGugi3hrqHhrqbhrqfhrqrhrq4t4a+l4a+n4a+qLeGvrOGvruGvsuGvs+GvvC3hsKvhsLThsLXhsLst4bGJ4bGNLeGxv+GzgC3hs4fhs5Phs6Hhs6kt4bOs4bOuLeGzs+GzteGztuG0gC3htr/huIAt4byV4byYLeG8neG8oC3hvYXhvYgt4b2N4b2QLeG9l+G9meG9m+G9neG9ny3hvb3hvoAt4b604b62LeG+vOG+vuG/gi3hv4Thv4Yt4b+M4b+QLeG/k+G/li3hv5vhv6At4b+s4b+yLeG/tOG/ti3hv7zigI7igbHigb/igpAt4oKc4oSC4oSH4oSKLeKEk+KEleKEmS3ihJ3ihKTihKbihKjihKot4oSt4oSvLeKEueKEvC3ihL/ihYUt4oWJ4oWO4oWP4oWgLeKGiOKMti3ijbrijpXikpwt4pOp4pqs4qCALeKjv+KwgC3isK7isLAt4rGe4rGgLeKzpOKzqy3is67is7Lis7PitIAt4rSl4rSn4rSt4rSwLeK1p+K1r+K1sOK2gC3itpbitqAt4ram4raoLeK2ruK2sC3itrbitrgt4ra+4reALeK3huK3iC3it47it5At4reW4reYLeK3nuOAhS3jgIfjgKEt44Cp44Cu44Cv44CxLeOAteOAuC3jgLzjgYEt44KW44KdLeOCn+OCoS3jg7rjg7wt44O/44SFLeOEreOEsS3jho7jhpAt44a644ewLeOInOOIoC3jiY/jiaAt44m744m/LeOKsOOLgC3ji4vji5At44u+44yALeONtuONuy3jj53jj6At44++45CALeS2teS4gC3pv5XqgIAt6pKM6pOQLeqYjOqYkC3qmKvqmYAt6pmu6pqALeqaneqaoC3qm6/qm7It6pu36pyiLeqeh+qeiS3qnq3qnrAt6p636p+3Leqggeqggy3qoIXqoIct6qCK6qCMLeqgpOqgp+qgsC3qoLfqoYAt6qGz6qKALeqjg+qjji3qo5nqo7It6qO96qSALeqkpeqkri3qpYbqpZLqpZPqpZ8t6qW86qaDLeqmsuqmtOqmteqmuuqmu+qmvS3qp43qp48t6qeZ6qeeLeqnpOqnpi3qp77qqIAt6qio6qiv6qiw6qiz6qi06qmALeqpguqphC3qqYvqqY3qqZAt6qmZ6qmcLeqpu+qpvS3qqq/qqrHqqrXqqrbqqrkt6qq96quA6quC6qubLeqrq+qrri3qq7XqrIEt6qyG6qyJLeqsjuqskS3qrJbqrKAt6qym6qyoLeqsruqssC3qraXqrbAt6q+k6q+m6q+n6q+pLeqvrOqvsC3qr7nqsIAt7Z6j7Z6wLe2fhu2fiy3tn7vugIAt76mt76mwLe+rme+sgC3vrIbvrJMt76yX77yhLe+8uu+9gS3vvZrvvaYt776+77+CLe+/h++/ii3vv4/vv5It77+X77+aLe+/nF18XFx1ZDgwMFtcXHVkYzAwLVxcdWRjMGJdfFxcdWQ4MDBbXFx1ZGMwZC1cXHVkYzI2XXxcXHVkODAwW1xcdWRjMjgtXFx1ZGMzYV188JCAvHzwkIC9fFxcdWQ4MDBbXFx1ZGMzZi1cXHVkYzRkXXxcXHVkODAwW1xcdWRjNTAtXFx1ZGM1ZF18XFx1ZDgwMFtcXHVkYzgwLVxcdWRjZmFdfPCQhIB88JCEgnxcXHVkODAwW1xcdWRkMDctXFx1ZGQzM118XFx1ZDgwMFtcXHVkZDM3LVxcdWRkM2ZdfFxcdWQ4MDBbXFx1ZGRkMC1cXHVkZGZjXXxcXHVkODAwW1xcdWRlODAtXFx1ZGU5Y118XFx1ZDgwMFtcXHVkZWEwLVxcdWRlZDBdfFxcdWQ4MDBbXFx1ZGYwMC1cXHVkZjIzXXxcXHVkODAwW1xcdWRmMzAtXFx1ZGY0YV18XFx1ZDgwMFtcXHVkZjUwLVxcdWRmNzVdfFxcdWQ4MDBbXFx1ZGY4MC1cXHVkZjlkXXxcXHVkODAwW1xcdWRmOWYtXFx1ZGZjM118XFx1ZDgwMFtcXHVkZmM4LVxcdWRmZDVdfFxcdWQ4MDFbXFx1ZGMwMC1cXHVkYzlkXXxcXHVkODAxW1xcdWRjYTAtXFx1ZGNhOV18XFx1ZDgwMVtcXHVkZDAwLVxcdWRkMjddfFxcdWQ4MDFbXFx1ZGQzMC1cXHVkZDYzXXzwkJWvfFxcdWQ4MDFbXFx1ZGUwMC1cXHVkZjM2XXxcXHVkODAxW1xcdWRmNDAtXFx1ZGY1NV18XFx1ZDgwMVtcXHVkZjYwLVxcdWRmNjddfPCRgIB8XFx1ZDgwNFtcXHVkYzAyLVxcdWRjMzddfFxcdWQ4MDRbXFx1ZGM0Ny1cXHVkYzRkXXxcXHVkODA0W1xcdWRjNjYtXFx1ZGM2Zl18XFx1ZDgwNFtcXHVkYzgyLVxcdWRjYjJdfPCRgrd88JGCuHxcXHVkODA0W1xcdWRjYmItXFx1ZGNjMV18XFx1ZDgwNFtcXHVkY2QwLVxcdWRjZThdfFxcdWQ4MDRbXFx1ZGNmMC1cXHVkY2Y5XXxcXHVkODA0W1xcdWRkMDMtXFx1ZGQyNl188JGErHxcXHVkODA0W1xcdWRkMzYtXFx1ZGQ0M118XFx1ZDgwNFtcXHVkZDUwLVxcdWRkNzJdfFxcdWQ4MDRbXFx1ZGQ3NC1cXHVkZDc2XXxcXHVkODA0W1xcdWRkODItXFx1ZGRiNV18XFx1ZDgwNFtcXHVkZGJmLVxcdWRkYzldfPCRh418XFx1ZDgwNFtcXHVkZGQwLVxcdWRkZGZdfFxcdWQ4MDRbXFx1ZGRlMS1cXHVkZGY0XXxcXHVkODA0W1xcdWRlMDAtXFx1ZGUxMV18XFx1ZDgwNFtcXHVkZTEzLVxcdWRlMmVdfPCRiLJ88JGIs3zwkYi1fFxcdWQ4MDRbXFx1ZGUzOC1cXHVkZTNkXXxcXHVkODA0W1xcdWRlODAtXFx1ZGU4Nl188JGKiHxcXHVkODA0W1xcdWRlOGEtXFx1ZGU4ZF18XFx1ZDgwNFtcXHVkZThmLVxcdWRlOWRdfFxcdWQ4MDRbXFx1ZGU5Zi1cXHVkZWE5XXxcXHVkODA0W1xcdWRlYjAtXFx1ZGVkZV18XFx1ZDgwNFtcXHVkZWUwLVxcdWRlZTJdfFxcdWQ4MDRbXFx1ZGVmMC1cXHVkZWY5XXzwkYyCfPCRjIN8XFx1ZDgwNFtcXHVkZjA1LVxcdWRmMGNdfPCRjI988JGMkHxcXHVkODA0W1xcdWRmMTMtXFx1ZGYyOF18XFx1ZDgwNFtcXHVkZjJhLVxcdWRmMzBdfPCRjLJ88JGMs3xcXHVkODA0W1xcdWRmMzUtXFx1ZGYzOV18XFx1ZDgwNFtcXHVkZjNkLVxcdWRmM2ZdfFxcdWQ4MDRbXFx1ZGY0MS1cXHVkZjQ0XXzwkY2HfPCRjYh8XFx1ZDgwNFtcXHVkZjRiLVxcdWRmNGRdfPCRjZB88JGNl3xcXHVkODA0W1xcdWRmNWQtXFx1ZGY2M118XFx1ZDgwNVtcXHVkYzgwLVxcdWRjYjJdfPCRkrl8XFx1ZDgwNVtcXHVkY2JiLVxcdWRjYmVdfPCRk4F8XFx1ZDgwNVtcXHVkY2M0LVxcdWRjYzddfFxcdWQ4MDVbXFx1ZGNkMC1cXHVkY2Q5XXxcXHVkODA1W1xcdWRkODAtXFx1ZGRiMV18XFx1ZDgwNVtcXHVkZGI4LVxcdWRkYmJdfPCRlr58XFx1ZDgwNVtcXHVkZGMxLVxcdWRkZGJdfFxcdWQ4MDVbXFx1ZGUwMC1cXHVkZTMyXXzwkZi7fPCRmLx88JGYvnxcXHVkODA1W1xcdWRlNDEtXFx1ZGU0NF18XFx1ZDgwNVtcXHVkZTUwLVxcdWRlNTldfFxcdWQ4MDVbXFx1ZGU4MC1cXHVkZWFhXXzwkZqsfPCRmq588JGar3zwkZq2fFxcdWQ4MDVbXFx1ZGVjMC1cXHVkZWM5XXxcXHVkODA1W1xcdWRmMDAtXFx1ZGYxOV188JGcoHzwkZyhfPCRnKZ8XFx1ZDgwNVtcXHVkZjMwLVxcdWRmM2ZdfFxcdWQ4MDZbXFx1ZGNhMC1cXHVkY2YyXXzwkaO/fFxcdWQ4MDZbXFx1ZGVjMC1cXHVkZWY4XXxcXHVkODA4W1xcdWRjMDAtXFx1ZGY5OV18XFx1ZDgwOVtcXHVkYzAwLVxcdWRjNmVdfFxcdWQ4MDlbXFx1ZGM3MC1cXHVkYzc0XXxcXHVkODA5W1xcdWRjODAtXFx1ZGQ0M118XFx1ZDgwY1tcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4MGRbXFx1ZGMwMC1cXHVkYzJlXXxcXHVkODExW1xcdWRjMDAtXFx1ZGU0Nl18XFx1ZDgxYVtcXHVkYzAwLVxcdWRlMzhdfFxcdWQ4MWFbXFx1ZGU0MC1cXHVkZTVlXXxcXHVkODFhW1xcdWRlNjAtXFx1ZGU2OV188JaprnzwlqmvfFxcdWQ4MWFbXFx1ZGVkMC1cXHVkZWVkXXzwlqu1fFxcdWQ4MWFbXFx1ZGYwMC1cXHVkZjJmXXxcXHVkODFhW1xcdWRmMzctXFx1ZGY0NV18XFx1ZDgxYVtcXHVkZjUwLVxcdWRmNTldfFxcdWQ4MWFbXFx1ZGY1Yi1cXHVkZjYxXXxcXHVkODFhW1xcdWRmNjMtXFx1ZGY3N118XFx1ZDgxYVtcXHVkZjdkLVxcdWRmOGZdfFxcdWQ4MWJbXFx1ZGYwMC1cXHVkZjQ0XXxcXHVkODFiW1xcdWRmNTAtXFx1ZGY3ZV18XFx1ZDgxYltcXHVkZjkzLVxcdWRmOWZdfPCbgIB88JuAgXxcXHVkODJmW1xcdWRjMDAtXFx1ZGM2YV18XFx1ZDgyZltcXHVkYzcwLVxcdWRjN2NdfFxcdWQ4MmZbXFx1ZGM4MC1cXHVkYzg4XXxcXHVkODJmW1xcdWRjOTAtXFx1ZGM5OV188JuynHzwm7KffFxcdWQ4MzRbXFx1ZGMwMC1cXHVkY2Y1XXxcXHVkODM0W1xcdWRkMDAtXFx1ZGQyNl18XFx1ZDgzNFtcXHVkZDI5LVxcdWRkNjZdfFxcdWQ4MzRbXFx1ZGQ2YS1cXHVkZDcyXXzwnYaDfPCdhoR8XFx1ZDgzNFtcXHVkZDhjLVxcdWRkYTldfFxcdWQ4MzRbXFx1ZGRhZS1cXHVkZGU4XXxcXHVkODM0W1xcdWRmNjAtXFx1ZGY3MV18XFx1ZDgzNVtcXHVkYzAwLVxcdWRjNTRdfFxcdWQ4MzVbXFx1ZGM1Ni1cXHVkYzljXXzwnZKefPCdkp988J2SonzwnZKlfPCdkqZ8XFx1ZDgzNVtcXHVkY2E5LVxcdWRjYWNdfFxcdWQ4MzVbXFx1ZGNhZS1cXHVkY2I5XXzwnZK7fFxcdWQ4MzVbXFx1ZGNiZC1cXHVkY2MzXXxcXHVkODM1W1xcdWRjYzUtXFx1ZGQwNV18XFx1ZDgzNVtcXHVkZDA3LVxcdWRkMGFdfFxcdWQ4MzVbXFx1ZGQwZC1cXHVkZDE0XXxcXHVkODM1W1xcdWRkMTYtXFx1ZGQxY118XFx1ZDgzNVtcXHVkZDFlLVxcdWRkMzldfFxcdWQ4MzVbXFx1ZGQzYi1cXHVkZDNlXXxcXHVkODM1W1xcdWRkNDAtXFx1ZGQ0NF188J2VhnxcXHVkODM1W1xcdWRkNGEtXFx1ZGQ1MF18XFx1ZDgzNVtcXHVkZDUyLVxcdWRlYTVdfFxcdWQ4MzVbXFx1ZGVhOC1cXHVkZWRhXXxcXHVkODM1W1xcdWRlZGMtXFx1ZGYxNF18XFx1ZDgzNVtcXHVkZjE2LVxcdWRmNGVdfFxcdWQ4MzVbXFx1ZGY1MC1cXHVkZjg4XXxcXHVkODM1W1xcdWRmOGEtXFx1ZGZjMl18XFx1ZDgzNVtcXHVkZmM0LVxcdWRmY2JdfFxcdWQ4MzZbXFx1ZGMwMC1cXHVkZGZmXXxcXHVkODM2W1xcdWRlMzctXFx1ZGUzYV18XFx1ZDgzNltcXHVkZTZkLVxcdWRlNzRdfFxcdWQ4MzZbXFx1ZGU3Ni1cXHVkZTgzXXxcXHVkODM2W1xcdWRlODUtXFx1ZGU4Yl18XFx1ZDgzY1tcXHVkZDEwLVxcdWRkMmVdfFxcdWQ4M2NbXFx1ZGQzMC1cXHVkZDY5XXxcXHVkODNjW1xcdWRkNzAtXFx1ZGQ5YV18XFx1ZDgzY1tcXHVkZGU2LVxcdWRlMDJdfFxcdWQ4M2NbXFx1ZGUxMC1cXHVkZTNhXXxcXHVkODNjW1xcdWRlNDAtXFx1ZGU0OF188J+JkHzwn4mRfFtcXHVkODQwLVxcdWQ4NjhdW1xcdWRjMDAtXFx1ZGZmZl18XFx1ZDg2OVtcXHVkYzAwLVxcdWRlZDZdfFxcdWQ4NjlbXFx1ZGYwMC1cXHVkZmZmXXxbXFx1ZDg2YS1cXHVkODZjXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4NmRbXFx1ZGMwMC1cXHVkZjM0XXxcXHVkODZkW1xcdWRmNDAtXFx1ZGZmZl18XFx1ZDg2ZVtcXHVkYzAwLVxcdWRjMWRdfFxcdWQ4NmVbXFx1ZGMyMC1cXHVkZmZmXXxbXFx1ZDg2Zi1cXHVkODcyXVtcXHVkYzAwLVxcdWRmZmZdfFxcdWQ4NzNbXFx1ZGMwMC1cXHVkZWExXXxcXHVkODdlW1xcdWRjMDAtXFx1ZGUxZF18W1xcdWRiODAtXFx1ZGJiZV1bXFx1ZGMwMC1cXHVkZmZmXXxcXHVkYmJmW1xcdWRjMDAtXFx1ZGZmZF18W1xcdWRiYzAtXFx1ZGJmZV1bXFx1ZGMwMC1cXHVkZmZmXXxcXHVkYmZmW1xcdWRjMDAtXFx1ZGZmZF0pfChb1pDWvteA14PXhteILde/34At36rftN+137ot4KCV4KCa4KCk4KCo4KCuLeChmOChnC3gop/igI/vrJ3vrJ8t76yo76yqLe+tj9iI2IvYjdibLdmK2a0t2a/ZsS3bldul26bbrtuv27ot3JDcki3cr92LLd6l3rEt3r/goqAt4KOi762QLe+0ve+1gC3vt4/vt7At77e877e+77e/77mwLe+7vl18XFx1ZDgwMltcXHVkYzAwLVxcdWRkMWVdfFxcdWQ4MDJbXFx1ZGQyMC1cXHVkZTAwXXzwkKiEfFxcdWQ4MDJbXFx1ZGUwNy1cXHVkZTBiXXxcXHVkODAyW1xcdWRlMTAtXFx1ZGUzN118XFx1ZDgwMltcXHVkZTNiLVxcdWRlM2VdfFxcdWQ4MDJbXFx1ZGU0MC1cXHVkZWU0XXxcXHVkODAyW1xcdWRlZTctXFx1ZGYzOF18XFx1ZDgwMltcXHVkZjQwLVxcdWRmZmZdfFxcdWQ4MDNbXFx1ZGMwMC1cXHVkZTVmXXxcXHVkODAzW1xcdWRlN2YtXFx1ZGZmZl18XFx1ZDgzYVtcXHVkYzAwLVxcdWRjY2ZdfFxcdWQ4M2FbXFx1ZGNkNy1cXHVkZmZmXXxcXHVkODNiW1xcdWRjMDAtXFx1ZGRmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGYwMC1cXHVkZmZmXXxcXHVkODNiW1xcdWRmMDAtXFx1ZGZmZl18XFx1ZDgzYltcXHVkZjAwLVxcdWRmZmZdfFxcdWQ4M2JbXFx1ZGUwMC1cXHVkZWVmXXxcXHVkODNiW1xcdWRlZjItXFx1ZGVmZl0pKVwiKTt2YXIgYz1jbGFzc3tjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11LHRoaXMubGFuZ3VhZ2U9bmV3KGFbdV18fGEuZGVmYXVsdCkodSl9ZW1pdCh1LGUpe2xldCBkLHIsdDtzd2l0Y2godHlwZW9mIHUpe2Nhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmQ9dTticmVhaztjYXNlXCJvYmplY3RcIjppZihyPXUuc2xpY2UoMSkubWFwKHU9PnRoaXMuZW1pdCh1LGUpKSx0PXVbMF0udG9Mb3dlckNhc2UoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW3RdKXRocm93IG5ldyBFcnJvcigndW5rbm93biBvcGVyYXRpb24gXCInK3QrJ1wiJyk7ZD10aGlzW3RdKHIsZSk7YnJlYWs7Y2FzZVwidW5kZWZpbmVkXCI6ZD1cIlwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0eXBlIGluIEFTVDogXCIrdHlwZW9mIHUpfXJldHVybiBkfWNvbmNhdCh1KXtsZXQgZT1cIlwiO3JldHVybiB1LmZvckVhY2godT0+e2UrPXV9KSxlfXJlcGxhY2UodSxlKXtsZXQgZD1wYXJzZUludCh1WzBdLDEwKTtyZXR1cm4gZDxlLmxlbmd0aD9lW2RdOlwiJFwiKyhkKzEpfXBsdXJhbCh1KXtsZXQgZT1wYXJzZUZsb2F0KHRoaXMubGFuZ3VhZ2UuY29udmVydE51bWJlcih1WzBdLDEwKSksZD11LnNsaWNlKDEpO3JldHVybiBkLmxlbmd0aD90aGlzLmxhbmd1YWdlLmNvbnZlcnRQbHVyYWwoZSxkKTpcIlwifWdlbmRlcih1KXtsZXQgZT11WzBdLGQ9dS5zbGljZSgxKTtyZXR1cm4gdGhpcy5sYW5ndWFnZS5nZW5kZXIoZSxkKX1ncmFtbWFyKHUpe2xldCBlPXVbMF0sZD11WzFdO3JldHVybiBkJiZlJiZ0aGlzLmxhbmd1YWdlLmNvbnZlcnRHcmFtbWFyKGQsZSl9YmlkaSh1KXt2YXIgZT1mdW5jdGlvbih1KXt2YXIgZT11Lm1hdGNoKG4pO2lmKCFlKXJldHVybiBudWxsO2lmKHZvaWQgMD09PWVbMl0pcmV0dXJuXCJsdHJcIjtyZXR1cm5cInJ0bFwifSh1WzBdKTtyZXR1cm5cImx0clwiPT09ZT9cIuKAqlwiK3VbMF0rXCLigKxcIjpcInJ0bFwiPT09ZT9cIuKAq1wiK3VbMF0rXCLigKxcIjp1WzBdfX07ZnVuY3Rpb24gbCh1KXtsZXQgZSxkLHIsdCxhLG4sYyxsLHMsaSxmLG8saCxiLG0scCxrLGcsdj0wO2Z1bmN0aW9uIHoodSl7cmV0dXJuKCk9Pntmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrKyl7bGV0IGQ9dVtlXSgpO2lmKG51bGwhPT1kKXJldHVybiBkfXJldHVybiBudWxsfX1mdW5jdGlvbiB3KHUpe2xldCBlPXYsZD1bXTtmb3IobGV0IHI9MDtyPHUubGVuZ3RoO3IrKyl7bGV0IHQ9dVtyXSgpO2lmKG51bGw9PT10KXJldHVybiB2PWUsbnVsbDtkLnB1c2godCl9cmV0dXJuIGR9ZnVuY3Rpb24geSh1LGUpe3JldHVybigpPT57bGV0IGQ9dixyPVtdLHQ9ZSgpO2Zvcig7bnVsbCE9PXQ7KXIucHVzaCh0KSx0PWUoKTtyZXR1cm4gci5sZW5ndGg8dT8odj1kLG51bGwpOnJ9fWZ1bmN0aW9uICQoZSl7bGV0IGQ9ZS5sZW5ndGg7cmV0dXJuKCk9PntsZXQgcj1udWxsO3JldHVybiB1LnNsaWNlKHYsditkKT09PWUmJihyPWUsdis9ZCkscn19ZnVuY3Rpb24geChlKXtyZXR1cm4oKT0+e2xldCBkPXUuc2xpY2UodikubWF0Y2goZSk7cmV0dXJuIG51bGw9PT1kP251bGw6KHYrPWRbMF0ubGVuZ3RoLGRbMF0pfX1mdW5jdGlvbiBqKCl7bGV0IHU9dyhbcix0XSk7cmV0dXJuIG51bGw9PT11P251bGw6dVsxXX1mdW5jdGlvbiBNKCl7bGV0IHU9dyhbYSxuXSk7cmV0dXJuIG51bGw9PT11P251bGw6W1wiUkVQTEFDRVwiLHBhcnNlSW50KHVbMV0sMTApLTFdfXZhciBPLFM7ZnVuY3Rpb24gRygpe2xldCB1PXcoW2UseSgwLGspXSk7aWYobnVsbD09PXUpcmV0dXJuIG51bGw7bGV0IGQ9dVsxXTtyZXR1cm4gZC5sZW5ndGg+MT9bXCJDT05DQVRcIl0uY29uY2F0KGQpOmRbMF19ZnVuY3Rpb24gUCgpe2xldCB1PXcoW2gsZCxNXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF0sdVsyXV19ZnVuY3Rpb24gcSgpe2xldCB1PXcoW2gsZCxrXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF0sdVsyXV19ZnVuY3Rpb24gRigpe2xldCB1PXcoW2IsbyxtXSk7cmV0dXJuIG51bGw9PT11P251bGw6dVsxXX1pZihlPSQoXCJ8XCIpLGQ9JChcIjpcIikscj0kKFwiXFxcXFwiKSx0PXgoL14uLyksYT0kKFwiJFwiKSxuPXgoL15cXGQrLyksYz14KC9eW157fVtcXF0kXFxcXF0vKSxsPXgoL15bXnt9W1xcXSRcXFxcfF0vKSxzPXgoL15bXnt9W1xcXSRcXHNdLykseihbaixzXSksaT16KFtqLGxdKSxmPXooW2osY10pLE89eCgvXlsgIVwiJCYnKCkqLC4vMC05Oz0/QEEtWl5fYGEten5cXHg4MC1cXHhGRistXSsvKSxTPWZ1bmN0aW9uKHUpe3JldHVybiB1LnRvU3RyaW5nKCl9LGg9KCk9PntsZXQgdT1PKCk7cmV0dXJuIG51bGw9PT11P251bGw6Uyh1KX0sbz16KFtmdW5jdGlvbigpe2xldCB1PXcoW3ooW1AscV0pLHkoMCxHKV0pO3JldHVybiBudWxsPT09dT9udWxsOnVbMF0uY29uY2F0KHVbMV0pfSxmdW5jdGlvbigpe2xldCB1PXcoW2gseSgwLEcpXSk7cmV0dXJuIG51bGw9PT11P251bGw6W3VbMF1dLmNvbmNhdCh1WzFdKX1dKSxiPSQoXCJ7e1wiKSxtPSQoXCJ9fVwiKSxwPXooW0YsTSxmdW5jdGlvbigpe2xldCB1PXkoMSxmKSgpO3JldHVybiBudWxsPT09dT9udWxsOnUuam9pbihcIlwiKX1dKSxrPXooW0YsTSxmdW5jdGlvbigpe2xldCB1PXkoMSxpKSgpO3JldHVybiBudWxsPT09dT9udWxsOnUuam9pbihcIlwiKX1dKSxnPWZ1bmN0aW9uKCl7bGV0IHU9eSgwLHApKCk7cmV0dXJuIG51bGw9PT11P251bGw6W1wiQ09OQ0FUXCJdLmNvbmNhdCh1KX0oKSxudWxsPT09Z3x8diE9PXUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlBhcnNlIGVycm9yIGF0IHBvc2l0aW9uIFwiK3YudG9TdHJpbmcoKStcIiBpbiBpbnB1dDogXCIrdSk7cmV0dXJuIGd9Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih1KXt0aGlzLmxvY2FsZT11LHRoaXMuZW1pdHRlcj1uZXcgYyh0aGlzLmxvY2FsZSl9cGFyc2UodSxlKXtpZih1LmluY2x1ZGVzKFwie3tcIikpe2xldCBkPW5ldyBsKHUpO3JldHVybiB0aGlzLmVtaXR0ZXIuZW1pdChkLGUpfXJldHVybiB0aGlzLnNpbXBsZVBhcnNlKHUsZSl9c2ltcGxlUGFyc2UodSxlKXtyZXR1cm4gdS5yZXBsYWNlKC9cXCQoXFxkKykvZywodSxkKT0+e2xldCByPXBhcnNlSW50KGQsMTApLTE7cmV0dXJuIHZvaWQgMCE9PWVbcl0/ZVtyXTpcIiRcIitkfSl9fWNsYXNzIGl7Y29uc3RydWN0b3IodSl7dGhpcy5zb3VyY2VNYXA9bmV3IE1hcH1sb2FkKHUsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2Ugc291cmNlLiBNdXN0IGJlIGFuIG9iamVjdFwiKTtpZihlKXtpZighL15bYS16QS1aMC05LV0rJC8udGVzdChlKSl0aHJvdyBFcnJvcihgSW52YWxpZCBsb2NhbGUgJHtlfWApO2ZvcihsZXQgZCBpbiB1KWlmKDAhPT1kLmluZGV4T2YoXCJAXCIpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgdVtkXSlyZXR1cm4gdGhpcy5sb2FkKHUpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB1W2RdKXRocm93IEVycm9yKGBJbnZhbGlkIG1lc3NhZ2UgZm9yIG1lc3NhZ2UgJHtkfSBpbiAke2V9IGxvY2FsZS5gKTticmVha310aGlzLnNvdXJjZU1hcC5oYXMoZSk/dGhpcy5zb3VyY2VNYXAuc2V0KGUsT2JqZWN0LmFzc2lnbih0aGlzLnNvdXJjZU1hcC5nZXQoZSksdSkpOnRoaXMuc291cmNlTWFwLnNldChlLHUpfWVsc2UgZm9yKGUgaW4gdSl0aGlzLmxvYWQodVtlXSxlKX1nZXRNZXNzYWdlKHUsZSl7bGV0IGQ9dGhpcy5zb3VyY2VNYXAuZ2V0KGUpO3JldHVybiBkP2RbdV06bnVsbH1oYXNMb2NhbGUodSl7cmV0dXJuIHRoaXMuc291cmNlTWFwLmhhcyh1KX19dmFyIGY9ZCgxKTtkLmQoZSxcImRlZmF1bHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTtjbGFzcyBve2NvbnN0cnVjdG9yKHUsZSl7ZT1lfHx7fSx0aGlzLmxvY2FsZT11LHRoaXMucGFyc2VyPW5ldyBzKHRoaXMubG9jYWxlKSx0aGlzLm1lc3NhZ2VTdG9yZT1uZXcgaSxlLm1lc3NhZ2VzJiZ0aGlzLmxvYWQoZS5tZXNzYWdlcyx0aGlzLmxvY2FsZSksdGhpcy5maW5hbEZhbGxiYWNrPWUuZmluYWxGYWxsYmFja3x8XCJlblwifWxvYWQodSxlKXtyZXR1cm4gdGhpcy5tZXNzYWdlU3RvcmUubG9hZCh1LGV8fHRoaXMubG9jYWxlKX1pMThuKHUsLi4uZSl7cmV0dXJuIHRoaXMucGFyc2VyLnBhcnNlKHRoaXMuZ2V0TWVzc2FnZSh1KSxlKX1zZXRMb2NhbGUodSl7dGhpcy5sb2NhbGU9dSx0aGlzLnBhcnNlcj1uZXcgcyh0aGlzLmxvY2FsZSl9Z2V0RmFsbGJhY2tMb2NhbGVzKCl7cmV0dXJuWy4uLmZbdGhpcy5sb2NhbGVdfHxbXSx0aGlzLmZpbmFsRmFsbGJhY2tdfWdldE1lc3NhZ2UodSl7bGV0IGU9dGhpcy5sb2NhbGUsZD0wO2NvbnN0IHI9dGhpcy5nZXRGYWxsYmFja0xvY2FsZXModGhpcy5sb2NhbGUpO2Zvcig7ZTspe2xldCB0PWUuc3BsaXQoXCItXCIpLGE9dC5sZW5ndGg7ZG97bGV0IGU9dC5zbGljZSgwLGEpLmpvaW4oXCItXCIpLGQ9dGhpcy5tZXNzYWdlU3RvcmUuZ2V0TWVzc2FnZSh1LGUpO2lmKGQpcmV0dXJuIGQ7YS0tfXdoaWxlKGEpO2U9cltkXSxkKyt9cmV0dXJuIHV9fX1dKS5kZWZhdWx0fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFuYW5hLWkxOG4uanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIVxcbiAqIGpRdWVyeSBVSSBDU1MgRnJhbWV3b3JrIDEuMTIuMVxcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cXG4gKlxcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcXG4gKlxcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NhdGVnb3J5L3RoZW1pbmcvXFxuICovXFxuXFxuLyogTGF5b3V0IGhlbHBlcnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktaGVscGVyLWhpZGRlbiB7XFxuXFx0ZGlzcGxheTogbm9uZTtcXG59XFxuLnVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSB7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGNsaXA6IHJlY3QoMCAwIDAgMCk7XFxuXFx0aGVpZ2h0OiAxcHg7XFxuXFx0bWFyZ2luOiAtMXB4O1xcblxcdG92ZXJmbG93OiBoaWRkZW47XFxuXFx0cGFkZGluZzogMDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0d2lkdGg6IDFweDtcXG59XFxuLnVpLWhlbHBlci1yZXNldCB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdG91dGxpbmU6IDA7XFxuXFx0bGluZS1oZWlnaHQ6IDEuMztcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuXFx0Zm9udC1zaXplOiAxMDAlO1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbi51aS1oZWxwZXItY2xlYXJmaXg6YmVmb3JlLFxcbi51aS1oZWxwZXItY2xlYXJmaXg6YWZ0ZXIge1xcblxcdGNvbnRlbnQ6IFxcXCJcXFwiO1xcblxcdGRpc3BsYXk6IHRhYmxlO1xcblxcdGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxufVxcbi51aS1oZWxwZXItY2xlYXJmaXg6YWZ0ZXIge1xcblxcdGNsZWFyOiBib3RoO1xcbn1cXG4udWktaGVscGVyLXpmaXgge1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGhlaWdodDogMTAwJTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0b3BhY2l0eTogMDtcXG5cXHRmaWx0ZXI6QWxwaGEoT3BhY2l0eT0wKTsgLyogc3VwcG9ydDogSUU4ICovXFxufVxcblxcbi51aS1mcm9udCB7XFxuXFx0ei1pbmRleDogMTAwO1xcbn1cXG5cXG5cXG4vKiBJbnRlcmFjdGlvbiBDdWVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXN0YXRlLWRpc2FibGVkIHtcXG5cXHRjdXJzb3I6IGRlZmF1bHQgIWltcG9ydGFudDtcXG5cXHRwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuXFxuLyogSWNvbnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktaWNvbiB7XFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcblxcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuXFx0bWFyZ2luLXRvcDogLS4yNWVtO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWluZGVudDogLTk5OTk5cHg7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbn1cXG5cXG4udWktd2lkZ2V0LWljb24tYmxvY2sge1xcblxcdGxlZnQ6IDUwJTtcXG5cXHRtYXJnaW4tbGVmdDogLThweDtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLyogTWlzYyB2aXN1YWxzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLyogT3ZlcmxheXMgKi9cXG4udWktd2lkZ2V0LW92ZXJsYXkge1xcblxcdHBvc2l0aW9uOiBmaXhlZDtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHR3aWR0aDogMTAwJTtcXG5cXHRoZWlnaHQ6IDEwMCU7XFxufVxcblwiLCBcIlwiXSk7XG5cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiFcXG4gKiBqUXVlcnkgVUkgU2xpZGVyIDEuMTIuMVxcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cXG4gKlxcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcXG4gKlxcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NsaWRlci8jdGhlbWluZ1xcbiAqL1xcbi51aS1zbGlkZXIge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4udWktc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMjtcXG5cXHR3aWR0aDogMS4yZW07XFxuXFx0aGVpZ2h0OiAxLjJlbTtcXG5cXHRjdXJzb3I6IGRlZmF1bHQ7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1zbGlkZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHotaW5kZXg6IDE7XFxuXFx0Zm9udC1zaXplOiAuN2VtO1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdGJvcmRlcjogMDtcXG5cXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7XFxufVxcblxcbi8qIHN1cHBvcnQ6IElFOCAtIFNlZSAjNjcyNyAqL1xcbi51aS1zbGlkZXIudWktc3RhdGUtZGlzYWJsZWQgLnVpLXNsaWRlci1oYW5kbGUsXFxuLnVpLXNsaWRlci51aS1zdGF0ZS1kaXNhYmxlZCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRmaWx0ZXI6IGluaGVyaXQ7XFxufVxcblxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCB7XFxuXFx0aGVpZ2h0OiAuOGVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdHRvcDogLS4zZW07XFxuXFx0bWFyZ2luLWxlZnQ6IC0uNmVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0dG9wOiAwO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXNsaWRlci1ob3Jpem9udGFsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRsZWZ0OiAwO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHJpZ2h0OiAwO1xcbn1cXG5cXG4udWktc2xpZGVyLXZlcnRpY2FsIHtcXG5cXHR3aWR0aDogLjhlbTtcXG5cXHRoZWlnaHQ6IDEwMHB4O1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRsZWZ0OiAtLjNlbTtcXG5cXHRtYXJnaW4tbGVmdDogMDtcXG5cXHRtYXJnaW4tYm90dG9tOiAtLjZlbTtcXG59XFxuLnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRsZWZ0OiAwO1xcblxcdHdpZHRoOiAxMDAlO1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRib3R0b206IDA7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHRvcDogMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaWlpZi1hdi1jb21wb25lbnQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6ICMwMDA7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgZm9udC1mYW1pbHk6IFxcXCJPcGVuIFNhbnNcXFwiO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wbGF5ZXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucGxheWVyLS1sb2FkaW5nIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEZBQVVBTVFTQUd4c2JGcGFXbmg0ZUVaR1Jod2NIRDgvUHpVMU5WSlNVaXNyS3dnSUNINStma3hNVEdOall5VWxKWEp5Y250N2V4SVNFb0NBZ0FBQUFQLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoL3d0WVRWQWdSR0YwWVZoTlVEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU5pMWpNREUwSURjNUxqRTFOamM1Tnl3Z01qQXhOQzh3T0M4eU1DMHdPVG8xTXpvd01pQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUlIaHRiRzV6T25OMFVtVm1QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVlNaV1lqSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEbzFPVEZqTXpoak5TMHhabVF5TFRnNU5HVXRZak15Wmkxa1lUTmtaV1E1Tm1RNVlqTWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZRemMwT0VFMU5EQTVPVE16TVRGRk5VRkJSakk1TWtJM05URkZPREpGUlRZaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNlF6YzBPRUUxTTBZNU9UTXpNVEZGTlVGQlJqSTVNa0kzTlRGRk9ESkZSVFlpSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5ESURJd01UUWdLRmRwYm1SdmQzTXBJajRnUEhodGNFMU5Pa1JsY21sMlpXUkdjbTl0SUhOMFVtVm1PbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TlRreFl6TTRZelV0TVdaa01pMDRPVFJsTFdJek1tWXRaR0V6WkdWa09UWmtPV0l6SWlCemRGSmxaanBrYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2pVNU1XTXpPR00xTFRGbVpESXRPRGswWlMxaU16Sm1MV1JoTTJSbFpEazJaRGxpTXlJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BnSC8vdjM4Ky9yNStQZjI5ZlR6OHZIdzcrN3Q3T3ZxNmVqbjV1WGs0K0xoNE4vZTNkemIydG5ZMTliVjFOUFMwZERQenMzTXk4ckp5TWZHeGNURHdzSEF2NzY5dkx1NnViaTN0clcwczdLeHNLK3VyYXlycXFtb3A2YWxwS09pb2FDZm5wMmNtNXFabUplV2xaU1RrcEdRajQ2TmpJdUtpWWlIaG9XRWc0S0JnSDkrZlh4N2VubDRkM1oxZEhOeWNYQnZibTFzYTJwcGFHZG1aV1JqWW1GZ1gxNWRYRnRhV1ZoWFZsVlVVMUpSVUU5T1RVeExTa2xJUjBaRlJFTkNRVUEvUGowOE96bzVPRGMyTlRRek1qRXdMeTR0TENzcUtTZ25KaVVrSXlJaElCOGVIUndiR2hrWUZ4WVZGQk1TRVJBUERnME1Dd29KQ0FjR0JRUURBZ0VBQUNINUJBa0FBQklBTEFBQUFBQVVBQlFBQUFWQW9DU09aR21lYUtxbVNldStMUnBFZEcwSHNxMUgrRG52dFo3cEIrVGxpa1lmTWpsY0NrdEU0Sk1VM1UxSFZkMVZsTDJoQ0lpd2VFeFltYy9vdEhvVUFnQWgrUVFKQUFBU0FDd0FBQUFBRkFBVUFBQUZXcUFram1ScG5tZ3FFZ3lobmt5a0hOQTdHbEVlUFVYeUpnNmR6b0ZRRFlUSTFnbnlRQ0lWQzFQQTZZeVNHbFNrd0VjQ1pJV0dFdTZiQTVnU0N3VzVnV0psQXkrRVY2aW8vUXJOM01BMlNod1VXM3drQkd5Q2hvY1NJUUFoK1FRRkFBQVNBQ3dBQUFBQUZBQVVBQUFGWEtBa2ptUnBubWhhSnN1aW1vWVFLY1FyTmtDa1I4d0xCYnNnQXBVWUtJSkJSOExVY0NDZkJSUGgrQXcrSUtaREZYa3dRUjdiSGMxVUNPOTZxMXlZVVRNaHRnNkRpb0ZVREphcTZTNkF0VWtXRVFBTmZpTUpjb1NJaVNVaEFEcz0pO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnBvc3Rlci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0b3A6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucG9zdGVyLWNvbnRhaW5lciAucG9zdGVyLWltYWdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5wb3N0ZXItY29udGFpbmVyIC5wb3N0ZXItaW1hZ2UgLmJ0biB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy1jb250YWluZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtY29udGFpbmVyIHZpZGVvIHtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy1jb250YWluZXIgLndvcmtpbmctaW5kaWNhdG9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAxMDAwMDtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZy10b3A6IDMwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmb250LXNpemU6IDIwcHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLWNvbnRhaW5lciAuYW5ubyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIHtcXG4gIGJhY2tncm91bmQ6ICMxNGE0YzM7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY2FudmFzLXRpbWVsaW5lLWNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7XFxuICBoZWlnaHQ6IDVweDtcXG4gIHdpZHRoOiAwcHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuaG92ZXItcHJldmlldyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxO1xcbiAgcGFkZGluZy1ib3R0b206IDdweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1wcmV2aWV3IC5sYWJlbCB7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDY2LCA2NiwgNjYsIDAuODUpO1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgcGFkZGluZzogNXB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBsaW5lLWhlaWdodDogOHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmhvdmVyLXByZXZpZXcgLnBvaW50ZXIge1xcbiAgaGVpZ2h0OiA2cHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuaG92ZXItcHJldmlldyAucG9pbnRlciAuYXJyb3cge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBib3JkZXItdG9wOiA2cHggc29saWQgcmdiYSg2NiwgNjYsIDY2LCAwLjg1KTtcXG4gIGJvcmRlci1sZWZ0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5ob3Zlci1oaWdobGlnaHQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogI2UyZTJlMjtcXG4gIGhlaWdodDogNHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIge1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC5kdXJhdGlvbi1oaWdobGlnaHQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogIzE0YTRjMztcXG4gIGhlaWdodDogNHB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnRpbWVsaW5lLWl0ZW0tY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWluLWhlaWdodDogNnB4O1xcbiAgYmFja2dyb3VuZDogI2NmY2ZjZjtcXG4gIHRvcDogMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAubGluZS13cmFwcGVyIHtcXG4gIG1hcmdpbi10b3A6IDJweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAudGltZWxpbmUtaXRlbSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDZweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWZlZmVmO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZWZlZmVmO1xcbiAgYmFja2dyb3VuZDogIzc3NztcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC50aW1lbGluZS1pdGVtLWNvbnRhaW5lciAudGltZWxpbmUtaXRlbS5hY3RpdmUge1xcbiAgYmFja2dyb3VuZDogIzMzMztcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNhbnZhcy10aW1lbGluZS1jb250YWluZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcbiAgd2lkdGg6IDE0cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBtYXJnaW4tbGVmdDogLTdweDtcXG4gIG1hcmdpbi10b3A6IDA7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA3cHg7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgei1pbmRleDogMjtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItaGFuZGxlOmZvY3VzIHtcXG4gIG91dGxpbmUtd2lkdGg6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAucmFuZ2UtdGltZWxpbmUtY29udGFpbmVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnJhbmdlLXRpbWVsaW5lLWNvbnRhaW5lciAudWktc2xpZGVyLWhhbmRsZSB7XFxuICB3aWR0aDogMTRweDtcXG4gIGhlaWdodDogMTRweDtcXG4gIG1hcmdpbi1sZWZ0OiAtN3B4O1xcbiAgbWFyZ2luLXRvcDogMDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcXG4gIGJhY2tncm91bmQ6ICM3OUIyRTM7XFxuICB6LWluZGV4OiAyO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5idXR0b246Zm9jdXMge1xcbiAgb3V0bGluZTowO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLnJhbmdlLXRpbWVsaW5lLWNvbnRhaW5lciAudWktc2xpZGVyLWhhbmRsZTpmb2N1cyB7XFxuICBvdXRsaW5lLXdpZHRoOiAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgaGVpZ2h0OiAzNnB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAuYnRuIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAucGF1c2UtYnV0dG9uIHtcXG4gIG1hcmdpbi1yaWdodDogMTRweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnRpbWUtZGlzcGxheSB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmc6IDhweCAwcHggMCAxMHB4O1xcbiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcXG4gIG1pbi13aWR0aDogMTUwcHg7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC50aW1lLWRpc3BsYXkgLmNhbnZhcy10aW1lIHtcXG4gIGNvbG9yOiAjZmZmO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudGltZS1kaXNwbGF5IC5jYW52YXMtZHVyYXRpb24ge1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHdpZHRoOiAxNDBweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLW11dGUge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBwYWRkaW5nLWxlZnQ6IDBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDJweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLXNsaWRlciB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi10b3A6IDEycHg7XFxuICB3aWR0aDogODRweDtcXG4gIGhlaWdodDogNXB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC40KTsgIFxcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG4gIHRvcDogMHB4O1xcbiAgd2lkdGg6IDE0cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBtYXJnaW4tbGVmdDogLTdweDtcXG4gIG1hcmdpbi10b3A6IC00cHg7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA3cHg7XFxuICBiYWNrZ3JvdW5kOiAjNzlCMkUzO1xcbiAgei1pbmRleDogMTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZSAudm9sdW1lLXNsaWRlciAudWktc2xpZGVyLWhhbmRsZTpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmNvbnRyb2xzLWNvbnRhaW5lciAudm9sdW1lIC52b2x1bWUtc2xpZGVyIC51aS1zbGlkZXItcmFuZ2Uge1xcbiAgYmFja2dyb3VuZDogIzc5QjJFMztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXItcmFkaXVzOiAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmJ0biB7XFxuICBmb250LXNpemU6IDA7XFxuICBiYWNrZ3JvdW5kOiAwIDA7XFxuICBib3JkZXI6IDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbiAgcGFkZGluZzogMCA1cHggMCAwO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmJ0biBpIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgd2lkdGg6IDI1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDA7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIxcHgnIGhlaWdodD0nMThweCcgdmlld0JveD0nMCAwIDIxIDE4JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFdm9sdW1lIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtODA2LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNzI0LjQwOTY2NiwzNi4wMTg2OTE2IEM3MjQuMTk2MDI0LDM2LjAxODY5MTYgNzIzLjk4MjM4MywzNS45Mjg2MDA5IDcyMy44MTkzNywzNS43NDc4MDIzIEM3MjMuNDkzMzQ0LDM1LjM4NjIwNTIgNzIzLjQ5MzM0NCwzNC44MDA2MTU1IDcyMy44MTkzNywzNC40MzkwMTg0IEM3MjUuMzQzMjM1LDMyLjc0ODg5MTUgNzI2LjE4MjIyMywzMC41MDIxNzY2IDcyNi4xODIyMjMsMjguMTEyMzAzOCBDNzI2LjE4MjIyMywyNS43MjI0MzEgNzI1LjM0MzIzNSwyMy40NzU3MTYxIDcyMy44MTkzNywyMS43ODU1ODkyIEM3MjMuNDkzMzQ0LDIxLjQyMzk5MjEgNzIzLjQ5MzM0NCwyMC44Mzc3ODUzIDcyMy44MTkzNywyMC40NzY4MDUzIEM3MjQuMTQ1Mzk2LDIwLjExNTIwODIgNzI0LjY3MzkzNiwyMC4xMTUyMDgyIDcyNC45OTk0MDUsMjAuNDc2ODA1MyBDNzI2LjgzODE2OSwyMi41MTYxODgxIDcyNy44NTEyOTcsMjUuMjI4MTY2MSA3MjcuODUxMjk3LDI4LjExMjMwMzggQzcyNy44NTEyOTcsMzAuOTk2NDQxNSA3MjYuODM4NzI2LDMzLjcwODQxOTUgNzI0Ljk5OTQwNSwzNS43NDc4MDIzIEM3MjQuODM2MzkyLDM1LjkyODYwMDkgNzI0LjYyMjc1MSwzNi4wMTg2OTE2IDcyNC40MDkxMDksMzYuMDE4NjkxNiBMNzI0LjQwOTY2NiwzNi4wMTg2OTE2IFogTTcyMS4zNjkzNDEsMzQuMjYxMDY2NCBDNzIxLjE2NzY3OSwzNC4yNjEwNjY0IDcyMC45NjYwMTcsMzQuMTcxMTUwNiA3MjAuODEyMTQ1LDMzLjk5MDcwMzEgQzcyMC41MDQ0MDEsMzMuNjI5ODA4MiA3MjAuNTA0NDAxLDMzLjA0NTM1NTUgNzIwLjgxMjE0NSwzMi42ODQ0NjA1IEM3MjIuOTYyMTUyLDMwLjE2MzEyMjggNzIyLjk2MjE1MiwyNi4wNjA4NjgzIDcyMC44MTIxNDUsMjMuNTM5NTMwNiBDNzIwLjUwNDQwMSwyMy4xNzg2MzU3IDcyMC41MDQ0MDEsMjIuNTkzNTY3MSA3MjAuODEyMTQ1LDIyLjIzMzI4OCBDNzIxLjExOTg4OSwyMS44NzIzOTMxIDcyMS42MTg3OTIsMjEuODcyMzkzMSA3MjEuOTI2MDExLDIyLjIzMzI4OCBDNzIzLjI2NTE3LDIzLjgwMzczNTMgNzI0LjAwMjQ5NSwyNS44OTE1MDYzIDcyNC4wMDI0OTUsMjguMTEyMzAzNSBDNzI0LjAwMjQ5NSwzMC4zMzMxMDA3IDcyMy4yNjUxNywzMi40MjA4NzE3IDcyMS45MjYwMTEsMzMuOTkxMzE5IEM3MjEuNzcyMTM5LDM0LjE3MTc2NjQgNzIxLjU3MDQ3NywzNC4yNjE2ODIyIDcyMS4zNjg4MTUsMzQuMjYxNjgyMiBMNzIxLjM2OTM0MSwzNC4yNjEwNjY0IFogTTcxOC41NDk0MTQsMzIuNTA0MDU5MSBDNzE4LjMwMzMyOSwzMi41MDQwNTkxIDcxOC4wNTcyNDQsMzIuNDE0NDUwMiA3MTcuODY5NDc2LDMyLjIzNDYxODcgQzcxNy40OTM5NCwzMS44NzQ5NTU2IDcxNy40OTM5NCwzMS4yOTI0OTc5IDcxNy44Njk0NzYsMzAuOTMyODM0OCBDNzE5LjQ5MzM4MSwyOS4zNzc1NjgyIDcxOS40OTMzODEsMjYuODQ2NDI0IDcxNy44Njk0NzYsMjUuMjkxMTU3NCBDNzE3LjQ5Mzk0LDI0LjkzMTQ5NDMgNzE3LjQ5Mzk0LDI0LjM0ODQyMjggNzE3Ljg2OTQ3NiwyMy45ODkzNzM1IEM3MTguMjQ1MDEyLDIzLjYyOTcxMDQgNzE4Ljg1MzE3NSwyMy42Mjk3MTA0IDcxOS4yMjg3MTEsMjMuOTg5MzczNSBDNzIxLjYwMjQwNiwyNi4yNjI3Mzg3IDcyMS42MDI0MDYsMjkuOTYxODY3MyA3MTkuMjI4NzExLDMyLjIzNTIzMjUgQzcxOS4wNDA5NDMsMzIuNDE1MDY0IDcxOC43OTQ4NTgsMzIuNTA0NjcyOSA3MTguNTQ4NzczLDMyLjUwNDY3MjkgTDcxOC41NDk0MTQsMzIuNTA0MDU5MSBaIE03MTUuMDc1NTk1LDE5LjYxNjI0NDQgQzcxNS41MTY1NTgsMTkuMTEzMDcxNSA3MTUuODc3MjQ2LDE5LjI4MzcyMzYgNzE1Ljg3NzI0NiwxOS45OTUxOTI2IEw3MTUuODc3MjQ2LDM2LjIyOTEwNjUgQzcxNS44NzcyNDYsMzYuOTQwNTc1NCA3MTUuNTE2NTU4LDM3LjExMTIyNzYgNzE1LjA3NTU5NSwzNi42MDgwNTQ3IEw3MTAuOTI4Nzg1LDMxLjg3NjIyMTcgTDcwOC4xNzk2NDEsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwyNC4zNDc0NSBMNzEwLjkyODc4NSwyNC4zNDc0NSBMNzE1LjA3NTU5NSwxOS42MTU2MTcgTDcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBaJyBpZD0ndm9sdW1lLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpOyAgXFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIxcHgnIGhlaWdodD0nMThweCcgdmlld0JveD0nMCAwIDIxIDE4JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFdm9sdW1lIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtODA2LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNzI0LjQwOTY2NiwzNi4wMTg2OTE2IEM3MjQuMTk2MDI0LDM2LjAxODY5MTYgNzIzLjk4MjM4MywzNS45Mjg2MDA5IDcyMy44MTkzNywzNS43NDc4MDIzIEM3MjMuNDkzMzQ0LDM1LjM4NjIwNTIgNzIzLjQ5MzM0NCwzNC44MDA2MTU1IDcyMy44MTkzNywzNC40MzkwMTg0IEM3MjUuMzQzMjM1LDMyLjc0ODg5MTUgNzI2LjE4MjIyMywzMC41MDIxNzY2IDcyNi4xODIyMjMsMjguMTEyMzAzOCBDNzI2LjE4MjIyMywyNS43MjI0MzEgNzI1LjM0MzIzNSwyMy40NzU3MTYxIDcyMy44MTkzNywyMS43ODU1ODkyIEM3MjMuNDkzMzQ0LDIxLjQyMzk5MjEgNzIzLjQ5MzM0NCwyMC44Mzc3ODUzIDcyMy44MTkzNywyMC40NzY4MDUzIEM3MjQuMTQ1Mzk2LDIwLjExNTIwODIgNzI0LjY3MzkzNiwyMC4xMTUyMDgyIDcyNC45OTk0MDUsMjAuNDc2ODA1MyBDNzI2LjgzODE2OSwyMi41MTYxODgxIDcyNy44NTEyOTcsMjUuMjI4MTY2MSA3MjcuODUxMjk3LDI4LjExMjMwMzggQzcyNy44NTEyOTcsMzAuOTk2NDQxNSA3MjYuODM4NzI2LDMzLjcwODQxOTUgNzI0Ljk5OTQwNSwzNS43NDc4MDIzIEM3MjQuODM2MzkyLDM1LjkyODYwMDkgNzI0LjYyMjc1MSwzNi4wMTg2OTE2IDcyNC40MDkxMDksMzYuMDE4NjkxNiBMNzI0LjQwOTY2NiwzNi4wMTg2OTE2IFogTTcyMS4zNjkzNDEsMzQuMjYxMDY2NCBDNzIxLjE2NzY3OSwzNC4yNjEwNjY0IDcyMC45NjYwMTcsMzQuMTcxMTUwNiA3MjAuODEyMTQ1LDMzLjk5MDcwMzEgQzcyMC41MDQ0MDEsMzMuNjI5ODA4MiA3MjAuNTA0NDAxLDMzLjA0NTM1NTUgNzIwLjgxMjE0NSwzMi42ODQ0NjA1IEM3MjIuOTYyMTUyLDMwLjE2MzEyMjggNzIyLjk2MjE1MiwyNi4wNjA4NjgzIDcyMC44MTIxNDUsMjMuNTM5NTMwNiBDNzIwLjUwNDQwMSwyMy4xNzg2MzU3IDcyMC41MDQ0MDEsMjIuNTkzNTY3MSA3MjAuODEyMTQ1LDIyLjIzMzI4OCBDNzIxLjExOTg4OSwyMS44NzIzOTMxIDcyMS42MTg3OTIsMjEuODcyMzkzMSA3MjEuOTI2MDExLDIyLjIzMzI4OCBDNzIzLjI2NTE3LDIzLjgwMzczNTMgNzI0LjAwMjQ5NSwyNS44OTE1MDYzIDcyNC4wMDI0OTUsMjguMTEyMzAzNSBDNzI0LjAwMjQ5NSwzMC4zMzMxMDA3IDcyMy4yNjUxNywzMi40MjA4NzE3IDcyMS45MjYwMTEsMzMuOTkxMzE5IEM3MjEuNzcyMTM5LDM0LjE3MTc2NjQgNzIxLjU3MDQ3NywzNC4yNjE2ODIyIDcyMS4zNjg4MTUsMzQuMjYxNjgyMiBMNzIxLjM2OTM0MSwzNC4yNjEwNjY0IFogTTcxOC41NDk0MTQsMzIuNTA0MDU5MSBDNzE4LjMwMzMyOSwzMi41MDQwNTkxIDcxOC4wNTcyNDQsMzIuNDE0NDUwMiA3MTcuODY5NDc2LDMyLjIzNDYxODcgQzcxNy40OTM5NCwzMS44NzQ5NTU2IDcxNy40OTM5NCwzMS4yOTI0OTc5IDcxNy44Njk0NzYsMzAuOTMyODM0OCBDNzE5LjQ5MzM4MSwyOS4zNzc1NjgyIDcxOS40OTMzODEsMjYuODQ2NDI0IDcxNy44Njk0NzYsMjUuMjkxMTU3NCBDNzE3LjQ5Mzk0LDI0LjkzMTQ5NDMgNzE3LjQ5Mzk0LDI0LjM0ODQyMjggNzE3Ljg2OTQ3NiwyMy45ODkzNzM1IEM3MTguMjQ1MDEyLDIzLjYyOTcxMDQgNzE4Ljg1MzE3NSwyMy42Mjk3MTA0IDcxOS4yMjg3MTEsMjMuOTg5MzczNSBDNzIxLjYwMjQwNiwyNi4yNjI3Mzg3IDcyMS42MDI0MDYsMjkuOTYxODY3MyA3MTkuMjI4NzExLDMyLjIzNTIzMjUgQzcxOS4wNDA5NDMsMzIuNDE1MDY0IDcxOC43OTQ4NTgsMzIuNTA0NjcyOSA3MTguNTQ4NzczLDMyLjUwNDY3MjkgTDcxOC41NDk0MTQsMzIuNTA0MDU5MSBaIE03MTUuMDc1NTk1LDE5LjYxNjI0NDQgQzcxNS41MTY1NTgsMTkuMTEzMDcxNSA3MTUuODc3MjQ2LDE5LjI4MzcyMzYgNzE1Ljg3NzI0NiwxOS45OTUxOTI2IEw3MTUuODc3MjQ2LDM2LjIyOTEwNjUgQzcxNS44NzcyNDYsMzYuOTQwNTc1NCA3MTUuNTE2NTU4LDM3LjExMTIyNzYgNzE1LjA3NTU5NSwzNi42MDgwNTQ3IEw3MTAuOTI4Nzg1LDMxLjg3NjIyMTcgTDcwOC4xNzk2NDEsMzEuODc2MjIxNyBMNzA4LjE3OTY0MSwyNC4zNDc0NSBMNzEwLjkyODc4NSwyNC4zNDc0NSBMNzE1LjA3NTU5NSwxOS42MTU2MTcgTDcxNS4wNzU1OTUsMTkuNjE2MjQ0NCBaJyBpZD0ndm9sdW1lLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpOyAgXFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1tdXRlLm9mZiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBQjNSSlRVVUg0Z2NLRFFrMHNtdnc4Z0FBQU9sSlJFRlVTTWZ0bFRGS0JFRVFSZCtmWFJkQkVObEFURFR5Q29KSEVBMjlneGN5TnpQWHpGU01CVE92WUtSZ29DRE1QZ01ibEdXRFlad1pBK2RGMVZEVnY3cXFxSWFSa1pHT3lHOHZVT2ZBTzdBT2tPU2w5NnpWVS9WQzNTam5hZ2pSWTcrNGFoTmZ0UlE5QWE3TDhhM05IZE9HUWdmQURIZ0dEb0h6VmJGcWt0aVpNSEFEeklIRmlpclpaNm1yaHY3cHRjZGQ4R2ZDVFh0OEQyd0RyOEF1c05mWFFscWUxb2s2S2ZhTyt1QTNsei84cWs1TG5hUk9VaGY3Q1RnQzdwWmZtV1F4eE9iYVZCL1YyOEVIUk4xWHo5U3QwbzdaWUw5VFNXQUtyQUYxa28veDB4OForUjk4QWhjVGIyS0JIS0NVQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcHJldmlvdXMge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQVlBQUFBN01LNmlBQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQUIzUkpUVVVINGdjSkRDZ3ExNHdkcXdBQUFKOUpSRUZVU01mdDFUc09RVUVVZ09FVHBVWXBjbU1GRXR1d0V5dlIyb0xlUXBRNm02QWlFWS9HcDBDREs1TDdFcG0vbXptVCtjL0p6SnlKU0NRU2RZSTFUdWg5V05QR3BHengwWTBzSjk3QkFtb1RvNC9WUGI3N2RzOVd3WVJHRWJHTWlNRmpxdktLTWZiS3RpcHg5ejZlZWsvcDRnTXVHR0ltbjlMRmU1d3g5NW4vcWJpeE0yNzhWbWZQN3hpYjJzVkZPdGZQOStwbWZxZEVJdkhUWEFIS3M3ZURuL2hxcFFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXBsYXkucGxheSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMXB4JyBoZWlnaHQ9JzIxcHgnIHZpZXdCb3g9JzAgMCAyMSAyMScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBsYXkgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMDUuMDAwMDAwLCAtNzQ3LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J003LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgQzcuMDI1MzY2ODUsMzkuNDQ4NTk4MSA2LjkzMjc3NDAxLDM5LjQyNTQ0OTkgNi44NjMzMjkzOCwzOS4zNzkxNTM1IEM2Ljc0NzU4ODM0LDM5LjMwOTcwODkgNi42NzgxNDM3MSwzOS4xNzA4MTk2IDYuNjc4MTQzNzEsMzkuMDMxOTMwNCBMNi42NzgxNDM3MSwxOS44NjUyMTM0IEM2LjY3ODE0MzcxLDE5LjcyNjMyNDIgNi43NDc1ODgzNCwxOS41ODc0MzQ5IDYuODYzMzI5MzgsMTkuNTE3OTkwMyBDNy4wMDIyMTg2NCwxOS40MjUzOTc1IDcuMTQxMTA3ODksMTkuNDI1Mzk3NSA3LjI3OTk5NzE0LDE5LjQ5NDg0MjEgTDI2LjQ0NjcxNDEsMjkuMDc4MjAwNiBDMjYuNTg1NjAzMywyOS4xNDc2NDUyIDI2LjY3ODE5NjIsMjkuMjg2NTM0NCAyNi42NzgxOTYyLDI5LjQ0ODU3MTkgQzI2LjY3ODE5NjIsMjkuNjEwNjA5NCAyNi41ODU2MDMzLDI5Ljc0OTQ5ODYgMjYuNDQ2NzE0MSwyOS44MTg5NDMyIEw3LjI3OTk5NzE0LDM5LjQwMjMwMTcgQzcuMjEwNTUyNTIsMzkuNDI1NDQ5OSA3LjE2NDI1NjEsMzkuNDQ4NTk4MSA3LjA5NDgxMTQ3LDM5LjQ0ODU5ODEgWicgaWQ9J3BsYXktaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1wbGF5LnBsYXk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tcGxheS5wYXVzZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxNXB4JyBoZWlnaHQ9JzE1cHgnIHZpZXdCb3g9JzAgMCAxNSAxNScgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXBhdXNlIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nYW5ub3RhdGlvbi10eXBlLWRyb3Bkb3duLW1lbnUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xOS4wMDAwMDAsIC0yMTIuMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyUzRSUzQ2cgaWQ9J2Ryb3Bkb3duJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1LjAwMDAwMCwgMC4wMDAwMDApJyUzRSUzQ3BhdGggZD0nTTE4LjUxNTYxNDMsMjI2Ljk2ODc0OCBMMTUuNTE1NjIxNCwyMjYuOTY4NzQ4IEMxNC42ODc0OTg0LDIyNi45Njg3NDggMTQuMDE1NjI1LDIyNi4yOTY4NzQgMTQuMDE1NjI1LDIyNS40Njg3NTEgTDE0LjAxNTYyNSwyMTQuNDY4Nzc3IEMxNC4wMTU2MjUsMjEzLjY0MDY1NCAxNC42ODc0OTg0LDIxMi45Njg3ODEgMTUuNTE1NjIxNCwyMTIuOTY4NzgxIEwxOC41MTU2MTQzLDIxMi45Njg3ODEgQzE5LjM0MzczNzMsMjEyLjk2ODc4MSAyMC4wMTU2MTA3LDIxMy42NDA2NTQgMjAuMDE1NjEwNywyMTQuNDY4Nzc3IEwyMC4wMTU2MTA3LDIyNS40Njg3NTEgQzIwLjAxNTYxMDcsMjI2LjI5Njg3NCAxOS4zNDM3MzczLDIyNi45Njg3NDggMTguNTE1NjE0MywyMjYuOTY4NzQ4IFogTTI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBDMjguMDE1NTkxNiwyMjYuMjk2ODc0IDI3LjM0MzcxODIsMjI2Ljk2ODc0OCAyNi41MTU1OTUyLDIyNi45Njg3NDggTDIzLjUxNTYwMjQsMjI2Ljk2ODc0OCBDMjIuNjg3NDc5MywyMjYuOTY4NzQ4IDIyLjAxNTYwNTksMjI2LjI5Njg3NCAyMi4wMTU2MDU5LDIyNS40Njg3NTEgTDIyLjAxNTYwNTksMjE0LjQ2ODc3NyBDMjIuMDE1NjA1OSwyMTMuNjQwNjU0IDIyLjY4NzQ3OTMsMjEyLjk2ODc4MSAyMy41MTU2MDI0LDIxMi45Njg3ODEgTDI2LjUxNTU5NTIsMjEyLjk2ODc4MSBDMjcuMzQzNzE4MiwyMTIuOTY4NzgxIDI4LjAxNTU5MTYsMjEzLjY0MDY1NCAyOC4wMTU1OTE2LDIxNC40Njg3NzcgTDI4LjAxNTU5MTYsMjI1LjQ2ODc1MSBaJyBpZD0ncGF1c2UtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG1hcmdpbi10b3A6IDhweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXBsYXkucGF1c2U6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMTVweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTUgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwYXVzZSBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J2Fubm90YXRpb24tdHlwZS1kcm9wZG93bi1tZW51JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTkuMDAwMDAwLCAtMjEyLjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdkcm9wZG93bicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNS4wMDAwMDAsIDAuMDAwMDAwKSclM0UlM0NwYXRoIGQ9J00xOC41MTU2MTQzLDIyNi45Njg3NDggTDE1LjUxNTYyMTQsMjI2Ljk2ODc0OCBDMTQuNjg3NDk4NCwyMjYuOTY4NzQ4IDE0LjAxNTYyNSwyMjYuMjk2ODc0IDE0LjAxNTYyNSwyMjUuNDY4NzUxIEwxNC4wMTU2MjUsMjE0LjQ2ODc3NyBDMTQuMDE1NjI1LDIxMy42NDA2NTQgMTQuNjg3NDk4NCwyMTIuOTY4NzgxIDE1LjUxNTYyMTQsMjEyLjk2ODc4MSBMMTguNTE1NjE0MywyMTIuOTY4NzgxIEMxOS4zNDM3MzczLDIxMi45Njg3ODEgMjAuMDE1NjEwNywyMTMuNjQwNjU0IDIwLjAxNTYxMDcsMjE0LjQ2ODc3NyBMMjAuMDE1NjEwNywyMjUuNDY4NzUxIEMyMC4wMTU2MTA3LDIyNi4yOTY4NzQgMTkuMzQzNzM3MywyMjYuOTY4NzQ4IDE4LjUxNTYxNDMsMjI2Ljk2ODc0OCBaIE0yOC4wMTU1OTE2LDIyNS40Njg3NTEgQzI4LjAxNTU5MTYsMjI2LjI5Njg3NCAyNy4zNDM3MTgyLDIyNi45Njg3NDggMjYuNTE1NTk1MiwyMjYuOTY4NzQ4IEwyMy41MTU2MDI0LDIyNi45Njg3NDggQzIyLjY4NzQ3OTMsMjI2Ljk2ODc0OCAyMi4wMTU2MDU5LDIyNi4yOTY4NzQgMjIuMDE1NjA1OSwyMjUuNDY4NzUxIEwyMi4wMTU2MDU5LDIxNC40Njg3NzcgQzIyLjAxNTYwNTksMjEzLjY0MDY1NCAyMi42ODc0NzkzLDIxMi45Njg3ODEgMjMuNTE1NjAyNCwyMTIuOTY4NzgxIEwyNi41MTU1OTUyLDIxMi45Njg3ODEgQzI3LjM0MzcxODIsMjEyLjk2ODc4MSAyOC4wMTU1OTE2LDIxMy42NDA2NTQgMjguMDE1NTkxNiwyMTQuNDY4Nzc3IEwyOC4wMTU1OTE2LDIyNS40Njg3NTEgWicgaWQ9J3BhdXNlLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1uZXh0IHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FZQUFBQTdNSzZpQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFCM1JKVFVVSDRnY0pEQ2tWZVBFQjF3QUFBS0pKUkVGVVNNZnRsYkVOd2pBUVJiOGlxcVNnUkZIRUJFaXN3UncwVEpJMks3QU5KUjFMUUpVMGdJU1VSK01LU0pUQ09oenBYdVBpckh1Mnp6NUxqdU5ZQXRSQVBoSXZnU2R3alMwR09BSExnWGdWNWp4aWk3dVErQUtzWTRpenFlNHdiaVNkZ1oxVmpWdStPVmdjOVM4eFFCUGlLMnN4d0JIWUFqMXduNXB6RVdGZGUwbUZwSmVrUHZrZHo3TEc1cmY2OXZtT1o5VzVrdS9WLy9tZEhNZEptamRCeDQ2T2tKSjRzQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tZXhwYW5kLmV4cGFuZCB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQjRBQUFBZUNBWUFBQUE3TUs2aUFBQU1zbnBVV0hSU1lYY2djSEp2Wm1sc1pTQjBlWEJsSUdWNGFXWUFBSGphN1psSmNpTTlEb1gzUEVVZklUbUF3M0U0UnZRTit2ajlnVXhibG9jYTdGNzA0aTlGS1dXS3lRU0JoNGNIeXN6Ly9IdVpmL0V2SkJ0TmtKUmppZkhpWHlpaHVNcUhmSjEvNTJxdnNOL1BIL1Aremo2UG05Y3ZIRU9lcXo5L3hudmNWc2JsY1VNSzkzaDdIamVwMyt2a2U2SDdpNWNGdlQ3WjhlR2VsKytGdkR2ajl2N2JsUHUrR3Q1czUvN3YwMTdpZGZMN3YwUENHVU1ZOU02NDZhMi9lQS82Rkk4RlB2dktOZkZ1ZlhRNjR2bnN1T3A3K054MzV2WGpPK2U5Zm5ybnU2dmU0LzdaRmVhSzk0VDR6a2YzdUpYUGZiYzk5QlMxeDVPZnZoQ3hEOXZlK1c2dGtkZWFaM2MxUkR3VnpiMnBsNjNzVDB4c3VOTHYyeUt2eEgvaGM5cXZ3aXV6eFk3VEI5RnN2THF4eFRxOHZXeXd3MWE3N056WGJqc21CamRkNHVwY3g5YzZsbjF5eGZVZGxLQXZ1MXp5eFE5RGpKenZSTTB6N0Y1dHNmdTVaVCt2Mjh5VGgyV21zeXhtdWVQRHkzdzIrSjNYNjBKcktYUnhjSDcxRlhZNUJTQm1hT1QwblZrRXhLN2JwN0w5dTEvbWVvN05TMkE5RVpUdDVzd0c2OVhPRWszc0ExdCt4OWt6VDY1Z3JnTjNtOGE5QUM3aTJZSXgxaE9CSzFvdk50b3JPWmVzeFkrWitGUXNCK1N1RVFFcjRvWTFpOWg0TWlHNTdQVFozSlBzbnV2RW5XR29oVUNJajZSTkprS1ZZSVVnNENlRkRJYXFlQWxHUktJa3lWS2tSaDlEbEJoamlzcFJOZmtVa3FTWVVzcXBwSnA5RGxseXpDbm5YSEl0cm5nb1RFb3N5WlJjU3FtVmgxYVdydHhkbVZGcmM4MjMwS1RGbGxwdXBkVU9mSHJvMG1OUFBmZlM2M0RERDlKL3hKSE15S09NT3UwRVNqTk1tWEdtbVdlWmRZRzE1VmRZc3VKS0s2K3k2bXZVN3FnK1I4MitpOXl2bzJidnFHbkV3cDZYSGxGak9LV1hKYXpTaVdqTWlKZ0xsb2dualFDQWRocXpLOXNRbkVaT1kzWVZSMUtJSTJwV05EakRhc1NJWUpqV3liS3ZzWHRFN3BkeE14TCtLbTd1cThnWkRkMy9JbkpHUTNkSDdtUGNQb25hcUx1aStCMGd6VUwxNmVVWHhNYUVtYXZMVld2U3Q2L21wd3Y4czlELy9VSXJYQ3RIV1ZkdmExb1NaZ0Zlc25rc3hWSHphM1k3aFpIV1VtbHRwYm1nOXdWVUxWQ2RhMFFHZFNSSFZsbFY1eXhYOXRob01hOVJpa2xyeGxoMHFLV2d3QjJ5bEVHdTFOZSsrZW84Zm9sUHpPUjl6NHpENnZWOFJYbm5TM04vMnpSVEVENzNDbHEybnljKzV1a2FIeGMzNzFiNEN4dWVUVERmdCtIWkJQTjlHNTVOTU4rMzRka0U4L2MyWkxTUFQ5TVc4T0lhSEtUVHN6bG9nRGxIVzMzbzU1TGljaTNHUHBnRVRKSnZpSjBxcWF5Ujl1dzV2T2pWdTViNGF0OWxKckpxcWNUOGRuNnNFMzVBK1lMSmpVaXdlbVB5ZG1SVHlhUDdIWDdiUG5XbTFEWlYvVjB6cmg3YjlIQzJSL3NuVlFrVjFpK1hqRDZ1MEJJdW03VkZxa0JIc2RWR2Vaa3ppczBvdHJsbWthNWl5UWZLaXo5Ynk3YlZ5VlpYenRpWTJlcHFmTDE2OGR1SWlVZDNFQ0Qyd3NPakdyTElWZEsyK3RiM2Q0dEtPMFlpYTBsaGJ1cVVNeGFMZWE1cjczelFBY2plWWx0MjQyWFpVVmZKeHp0dmxqdUFERDlmenJ3MTd5ZkxtWSs3L2Q1eTV1TnV2N2VjZWRwdEF4VldRSVdDSWhWQU1RQkZTUW9LbEpDa2EwUXlBZ2xTYTVmc3dFZUlJMFpBZ2ZJSEZVMkdvN2ZkUWU1ejQ4S0Y1V1UvcTEyMUEwSTBocXZyQkw4Y0tpNTFwMVFSR055TW01L3pTQmswZjVsTHYwc2w4NmU1OUx0VU1yL0pKUlFwQllIOG42SE1lRy9KU3Q1c2hHWnJzcEQrYWZnTnlOK254Q2ZXVG5Kc0lqZVhKYlhHWlZCbVpOcThXbzBzNG5hWWcvVTk3c1dDcTdGdE83S2JTbDI1c016STdkSlowN2NSVnBnb3VtV2FIMWVERTZYVlhGaEhJRE1FN2tEWUlWTjlkcXZZUW1QT1pnOS8xdENtMHcxZkdvWGlnY3oyVVUrdXplclhCUzk0cVN2YjFQMUE2OUhBMFBjdEcwdUp2YmhBVTFNRTJGaXJYVXYyblhlMlZVZFhWMlpEdDlLR05rQUxrbXJXVDhRdjVpMHQxWldDUEdOZ0FqSnlUcm02TDRMeW5ycU9yUjFOaWR1ejZnQ2NiWjBLQVl2L1MrdnMvVm9RV2txeHVWUnNZN091MTFBczZ2d0s4WnEwcFYxMWVvRCswYTJKZ1BEb0VnMUFoQXlYWnNMaWR1K2J1eERkY3lMZlZVZlBrRHYzWHJaSCtyaXlvZy8wSWtHTGg2YkFTd0kwYy9DUEQxOHlZQ09uOUhTUVE5K3R1Q24reG8zSTFDN2RMZ1hLVG9BYi9tYm93RUcvUW5nUWJnQXM4ZWlUdHVFb2M1K3JDSVh0eTZ2NWVvS2R2NjBpbXIwNmhtb3lpK2FCYll4N1dwTmRVbG5GL3dubU40OHBUYWxpSzRTbm5zVE1FcmxoV0xyZDFQdGI2d2o2RlFiOURiMXdHNjJEZ3VFN0RhT0RoK2l5dXVtemgzMEtsbHpneVJIWFBlWFF4eFNpdDhOSWlQTWFUT0RaWENoSHNRNHQrNSs0S0s4MHB1dk1uMUJJY1ZJSVRNNCtWRHFtbXBkdENJa0pIaktzN0doRkxXaE45SWJBZFlFcTFRNTJKUjRFTGZOeFNCNDlhcThtVmZrSDB3STA2SVFTM0Z6TmNmbElUaG9ud0xZQTFXVG5kTTJ0Nlhmb2V4R3lkNGZoY0UrWnZvS2VsMHBCWUJLZTN3NVdIeGoyZVBpTzNoV212VFoxdjBQdEI5QWUydGJGbExZM2FTTnI1aGw2a1BZVFl0OEE5Z2ZLZjJQOVFkYnZ0SGhDbU5TSW1LODlvdGhRT0F2SlFzYVBhQ2RwMi90cVR1aGRNUmp2MFNlckU2TzJwQUpqSFhvamdybURreHliRnRKMUdmSjl1ODdLSXluZXdsa3IzUWIwQTg3MHdxRjFJTEFpc21rZTdqQU5SbEZEQWVtSXZ0VldVNUhnNDdYWkF3NlpGd2F0NUtYb01hMGs1YlVkbnVJeW5GUjNNRVkxSjNlRzFKR1Z6Nk5WcmxwZGo0UnFwd2dQZDdVRzZmbU9GbFBxelRmSjVSQWxJQVgwWEdObE1XbFEwUk1jendabzcwa2w5UTFiQjNVeDVZS3ZTSjZrVk4zMEJKWkNZSyttN3pNcHg3V2llU0FJZG5zKzRLUUZOL1o0SkxKcm84N1RSaWtnTUNoQjY1bEVqV1VpSGdUSXA1emptR09wdTBoYVZSbTFVQXRDc2gwdnUxcUpmWkY5c0J2MUJJK3VUVThYb1BvSlFsRSt4UzB5WU03RXBtdnhKRjBzWmdidnFFMzdoQm9sNC9WK3Rwa3ZiTHF6ZDRYZlkzMlo3ekgwUjRJMjMyUG9qMWZ6WU9pSndNYVhzSVdmTFIzOHdtR3hSU3FzVjV1eG5kSUhZOU9haE5hODEvTVkyektsS3BuTDExUXg4RlR3clI5dUZZbCsyQkxlemJ5WFJUK2NVdlZwN3BuVENLTWRlZ0p3SStvNWZjbzI5amg5MEdJZVJyTmxOTGdMcCtoaGtnUXRuQXM2aE1aYzNhWHo4aWFyZHlkVWlIRHBFS3NBMDhydWxGaEhEZll1M212enFyZk82YzhBaFFTcVpWNVR6N2lYN29jdSs5ZDZiQWJVUmRBSnpNNWJXVWJkWUEzTDZWYlFSOUdqSVNoSGg5cnRtSklUem5paGRuL3JoMFB0OEhtTytpc0YxaWpBWTcvVDRUVXRVQ016L1FMNWZ3ajhncXlabHRaejYvdXFsUXowMWtQM2FvcHlaQnJKNGhCaUFBYVNzbjJoVUlwcjhKV2YyZ1A0WnAxQndVQUZudW80QzJpeWZVRm9XbEhkNklKUmQwWEZXYWkyNlBvdXFQcDU3WUpLTnZoTnkrYkJ6NThWbVQrdk1lYlhSZWJQYTR6NVlYdjlpblB6U1pIWk5teFpkRVRSbGtSNmN2elNEa0FXMXBFTnNPZ2lWR1hZa1ExNlBHcG1Ocnd1MWp1NHYrcXZMRjNQbW51MTJvSGIxU2VGSkFTNHVjMXJIQUY4b1Q5cWdPL0JkWnNtKzVSS2Nrc2JNMlFKRkV5b3FXTXFnSjB2Vm5ENFlRc2g4VHVMV1NkQUw5RGxGeTFRQlRydkduNEtDQWtJRW9DR1hKT08zbDR6WU04SzBZL1p1dk4zYjZsZGhYYVd1NHViNTJoTmU4dkx3dzhnR3dFb0FKc2MxR1RRNElJUjVQSEFjdzN1c0dsVTJqVTA4d0RDM2U1Y3BRaTJLYnRWek5EVHN1YlNHcXJQZ3RJUG5VMTBFVHF0SlNVV0sxUlR1SUIyTVFId05ET2lIc0ZEQllqTCtaQXUvSmhkcTBaN2doaUQ4ejU3cmVTZ09DdTJOTVFmcnY3RTc1bmtRUmswYndqdkM4dkxyV1I5WHFmMEI3K1ZMSHhMNGMrMWpid1hPOEwxSWNnMzJSc2Qybnd2QjhNTjdRcCtOSEhqYVVKQlMrdVgrOXJPZlRXL21PREhxeHovVkkzTHV0VktQeFo1cjdodWUySkVncjk5dUdKUllFQktCaGlHK0NpNEFVWWxxek96a1RTWW5lbVlrckVVRjZKLzdTNVI3S2p0SEpBcEtKTVdGQ1ZkT0dVZlM2aEkzVmIwZUR5bUdhZUhFVzRaZGc5N0EzVGFMNUlObm9hSHZmNnVOSHZ0ZURSRHJLRlU1Nm9VZElneW9vVjRlMTZpbTZ1aU1uMTZLdTFtbitua25EcUlqQjBrTnBuelM4UVZka3BVZWpDaTUxMTZMTEtQR3E3OW5hMTFVKzI5QnkyS3IzdlFIYnkxMzk2bngvZHFlc3h5MXROakZyck8vWE9HTHJqKzNDZjJVd3ZOZXhQL3pNSjVqblVRank5bmZXWlVtU1g1OFhMWVIrV0EvSkhMKzdDdjFubkZJZnV3ajhROXh6cHZUMmxmOFd0TzdkUmoxQVBnY3piemZLVHpmS0x6cGl5K3Vacnd4UmR2cjhpVjFLSGV2TTlqdFg5RFU5QzhvU29IYWJ2VmxYRThFY2JEdU5MdXcxL043bm4zcjNMU3BIdmR3Z2gxdXg3RzBPb2hXNUxwZzA2S3JMZXo5aHc5ZHBLUTF1OXZmOXh0L3Y3MnJMOUp0SERTbDVZa3NjL2g5RHpiV3NndWtkcXh1S0UvYU9qT20rWmpjQWhnQzZWU1c3MDJObFRhTkQ2eEoxVHprKzI4M1kzNTJlMlB1ODNQYm4vY2JUN2NycGloWWgzTU5JdGZ6ODBiTlRCQnZKWnFaWVVNZlhPanpDSklXalk5OXBXQVBpajdLNEgrcFdELzZmV2ZoWDV4WExWVXRoSCsvd0lFYnRQbHc5eXA3UUFBQUFaaVMwZEVBUDhBL3dEL29MMm5rd0FBQUFsd1NGbHpBQUFMRXdBQUN4TUJBSnFjR0FBQUFBZDBTVTFGQitJSEVBd1ZHRmlpSElBQUFBRVlTVVJCVkVqSDdaVS9TZ05SRUllL2lRa2lDSGJXNGdFczlBTGlCV0loRWcrUUMzZ0t4Uk9JZlJRTHRUQlZRQ3Nyd1FNSVF2QUVJbFphZkRaUGtKQi91L3RzWkQ5WTJMZHZaMzR6ajVsNVVGTlQ4KzlSaDVaak9NMXZ6Q0VzY0FIY0ZZaDNCK2hFUkZUSldMVmQwS2FkQXA1SVkwNWZxd1hqbmZsL0kxTWQ5TlNUSWphTmlvSUw2alZ3QUt5cGtWdDRaWXhvQU9mQUxuQUo3RWVFT2R2cFVOMFkrYmFrM3FiQ3UxR2JJL3ZkV2NWVjluajdTZlJxM1BGbUVWWWZmOXBKWFZZSFNYU2dMazZ3eVNLc3VwZmU3OU82cjdhbTJIUno5Zkc2ZWdac0F3K3BrTDcrZWxaL3FKOHAwOU5jazZzNWg1OVdlZ0JlMUE3d0hCRlA2aWF3TldGV1Y4NzRWWDFUMzMvZFBNZHA3NmpzN1ZSVFU1T05iMnFPT2FoOW5KSDBBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAuYXYtaWNvbi1leHBhbmQuY29sbGFwc2Uge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQVlBQUFBN01LNmlBQUFNdm5wVVdIUlNZWGNnY0hKdlptbHNaU0IwZVhCbElHVjRhV1lBQUhqYTdabFpkdU04RG9YZnVZcGVBdWRoT1J6UDZSMzA4dnNES1R1eEszRlZ5djNRRDM5Y2lXUktna2hjNE9LQ3BlWi8vcjNVdi9qeHlXdmxROHF4eEtqNThjVVhXem5KK3Z5Y285RisvejFmNW5YTlBJNnIrd1hMa09Qb3p0ZDRqWnZLZVBoNElQbHJ2RDJPcTlRdk8va3lkRjI0R1hUeVpzdkpkVisrRERsN3hzMzFYWlhydWVvL0xlZjZkV21idU4vOC9CM2ZGRDhDZzg0cU81MXhtcjllM3VLWWdjdXVja3o4TlM1YUdYR2NXNDR5bnIvMm5icWZQam52ZnZia08xMnZjZmZvQ3FYamRVTjg4dEUxYnNMWHZ0c2Vla0R0NDgwUEYrSXdIM043OHQxYUk2ODF6K3FxajNncXFtdFJ0NlhzTTI1c3VOTHR4eUtmeEcvZ1BPMVA0Wk5aWXNmcEF6UWJuNjVNTVJadkwrUE5NTlVzTS9leG04NFV2WjAyY2JTMjQyc1p5eTdaWXZzR3hjdkhMSnRjY1VPQmtYVWQxQnpEOWo0WHM5OWI5dnU2eWJ4NUdPNjBCbU9HSjM3NXFLOEcvK1p6TjdTV2hDNE96bmRmTVM4ckFjZzBCRG41eTEwQVl0YmwwN0Q5dXo5S1AySnpBOWFCWU5odXppeXc2blpNdEdBK1lzdHRuQjMzQmUyVlB1RnUwcmdNNENMZUhaaU1jU0NnbzNIQlJLT1R0Y2tZL0pqQnB6Sno2N3h0SUdCQ3NNT29CVGFPVEVnMlczazN6eVN6NzdYQm5tR29CU0NDaTZSTkJxRUtXTjRINGlmNVRBelY0SUpYSVlRWVVzaWhoQnBkOURIRUdGTVVqcXJKSlo5Q2lpbWxuRXFxMldXZlE0NDU1WnhMcnNVV0I0V0ZFa3RTSlpkU2F1V2xGZE9WcHl0MzFOcHNjODIzMEdKTExiZlNhaWQ4dXUraHg1NTY3cVhYWVljYnBQK0lJNm1SUnhsMW1ra29UVC9EakRQTlBNdXNpMWhiYnZrVlZseHA1VlZXdmFOMm9mcUltbmxDN2pWcTVrSk5FUFA3dnZTQkdzTXAzVXdZb1pNZ21JR1k5UWJFa3lCQVFGdkJUR2ZqdlJYa0JETmRMRWtSTEtpWklPQU1JNGlCb0ovR2htWHUySDBnOXhJM0ZmeVBjTFBmSWFjRXV2OEZja3FndTVEN0ZiY3ZVQnQxVnhTM0FaSXNGSjlxdHlBMmJwaTUybHlsSnYzMVViMXI0QjlETDQ1dGFEZE5TVjNZbGJwR2NBMHdMZkxGdUxSbWw3T21Vd2xyMlRrSWhqVldrNnBBOUxpWTJncVlJaTdFbHR5N01BZU5yRm01ZGZVYTkyQWMxWjByMXdXQ1JpNHRLWmxpZ0pyOVlPRDJ2SHJYd08xNTlhNkIyL1BxbFlGY1Y2STB0aFZUWG5PMHhZTWtaVXVyMjBBNjRUZHl6YmF5YkZPcnVaVmlIek9iUnBMMWJrcVBpVDk2bTF0L05wKzAxSHNMK2xpUCtxbUJTZlRZdUs3b3lTRzVOYmhQc245SHo5Q0xwWmQyWWlldzFzS2FSNHQ5cHNRbGY0c2RDY25qdjhlait1N0NkWVNJZUtOTUxjWWR0TmdVVWhwaHd0RjdVWGpaN2huMVB0eGUzT1RPRm1wbThubWJtaXdodHVuQ2NLam9KUFcyd3A5Rmg5R0g5aTFwOEtrdHdxZGRJWDVxZzZubmpNRmt4TTljczNodGhnMjgwVzMvb1kzRzFQdnRsZmNCOTByVElrMG1URXdzT0orU3luczJBbjZkaWF6S21jVmtmS1pUMDVjdFFlR3lKWEJjdHJoalcrTnA3S25Mb05oN3NnWW1qL1plemsxOVRPN0YzQWhUcVFBckc4TEhsMGtmMU9BSkttTGJjN1FscWpZdDJGU0xNY3JpU3QyMjZoTHg0Zk93azRaZ2pSaHFvakxaSE1mME1VK1RLVmJSZTlxTzNIdG1aUll4S2gxT2F2WFB2UkZtUWZuR1JUMHVLN2ZXSGFXeFRoV3lUNjRuU21BZ09hMmZsWGFEQU80WlhXd3NlSmU1UUxFWkgvZ25yY0FTZnc0V3NKd2xpb2Vrd2xTSWF2eG0yOXp1SFZVV1Q5RW1vbEk3STdRN05IVjNPOThjMWJjM1NOaEtKRy9CdTJOMlI2eEltOXE2M2lrcFlSeVpHZHdpZkRTdXlHN2lycUZ2M2dKTzhDeHVHNW1BY0x3a2ptNGoyOWIzR25BK2hpelNyMG8yNVJEM3c4T2dVQS9lMzg4VWZlRlI1WFlKL1BSd0lUT2s0cXBvbEU3VVFZRTlvYWNxcy9EVjhFNnVNQVhSODZnaUNLVnQ2cGpHVTRUOGZuRTF4NVBNS0I3MnlUT2s0U0VoMTB6THc3bE9YQnBtT24yYVlZeFFjVkJjWkhocDJZQnFNN3dHSmRaRnRhVWFsS3hqN2RYcmpxeWhUd0xFRWlXcWhUc2tNVU9Zd2hlVG1FMnBUSU1XdGJISWUzQWhQWDVpaFZOQmdDbWJYTHdqS2xsWnRpaE1PcUVVNjd5WFZieFBsT1VLQ1Ewc3htYmNSQUFpd0J5Rm9jM3NvZ0k2Mm9lQzJCdXRZVTdQUUl2blpMN1poVVlRTjNxNW1RYzZiS0RvMmhyTXpjMUJEQnNvMk1TMGJKbE9kV21iQ3pQQVVUNmFWUUF0OXNCNlR3Z01RZ0NCdDdacTJ5T3NBOTViNWJCNHFYS2tyakZsU1BvTVprRSs2N0NoMWo4N0tqazVFTTdlOTVGV1VpUkRsVkNOZFYzRVRZeDlVUGNtYmttZlFmcVFpU0ZsdFUyUThEc2EvQklqVzQxVUNWeUVicWdyNm5wd0plL2E1aU14SmxGdFF0NXJRWEtySmpiZHd6UTltTktramRBOTJRdGhlQ0tVcW96QW5qQ0RiNDVnMnpzU3BoZGViZ1JiUmN0c2V5UllVTXZVUDc2QXRiTVQ4SU1uNVB6b3NGS0s5TnJvNnFscDhzMklyVEdWSEtSRjBDY0QxYWxOdlF5WWhlQXJ3YXdNWFJxb3JEYnVHMGorTGNGaDBOcnAwMzJvM094a0xvVmVwU0wwYzJGcDhqMUlYMHozWGxmRDltT1o3TVRiSWxoeVhMNDNIdTlTd3IycElkUXdmRUx2NmI1U1U2WUxuVkl4ZXFXcE1PSWVxcUlVU1J5WngwbEpjQTNqMUZuaENwdnliQVFZVWIxQmdFV0txbVNWc0loQVRrY0ZrSFFaQWRIWW5DUXg5YUc1eEJwb3c4aGRtQUgrNzRWMDFEN25rV21SNmRlSWF1WG9pVFBDcWNsak5OdTVKTm5jZ0FOYkduQU01SkZxSExsUEZHdG5KZ1lxR05aN2lmNmFjL1FhSUVnUnpQUUZKeEFOU0k3bndIK01lMnFsaUxXVWJsVUd2ais4MUkzS25iTWVXRkpPSW03cW5IbEpiblhyQ2tLRU1rTHp0TTJTNldVNU4zdEp1SVZFV0NYSVRLMElQR1VtT1NqTzdlNnZleVNwQTlKbTdVSWdDNm0zU2tBZGtPUjlsWU83K3A4S3NQbGZIZkRxU2N0VEEzWUZFTzJROHU4elVmcTlmTzlGbXFFNU1OZ3JWSGM2V09pcXVNR1BMMlVVWEltZU5MS3pWRndPSkJnQkxQd2VSazIzTkZBL3lvT0hOQ2h1NmlLVmovcWowZG5BeTNMZ0JzQ3ZhLzRxSkdIZnRBenZEbkhFYVlNMHlrZ0kySmZjTU5KaWd5OTlQNWRvMFFsUGIzUm9Wdmc2SWdXQ1IyckFhREhST1hXY0Z1T0NLT2JVcmJWQS9hV2hkdDVZYUJxQm9iMktGTHljdGgzeVhweWRkd0F5UWI0TEp4TDFDVmlwcUJXTnMrRU96cE9yc0FrNVE4MmcvNklYcVRaU2h3YVhpNCtGTjZOOEtTUkROZ3Q5elZKbEpRVkdEekhRMmVPRzV2S2hIbVFCZ1MxdnN0S3ZaZFN0QktTV3JrQUw0WkhHbWdLUGExaUlpSDYwUGhVTTdrT0s1R0ZjcnhKTHcrTFY3anE5b2pSK3NCMzZzYVhwcEoyaFEzQzU3KzBESERYWGI3THZvK3FvbjVhZDc2cU8rbW5aK1M3VzFVL0x6cTNxcElyNk1GWkVGdGdaZkNTcWlLNkJLQ2FhZDAwdXRCNG9Wak1DMGtGa1ZSbzFNQi84N2cremVYQkMxU3dYTGVSc01pbEVMd0xBTkNJTlc0ZzdqZVE5TkU4NHlSNFByZFZGODJWSElCM0xZWGx2U0NXeldSNkdqUXJnNDY4RWc0cGZ4dzhkaGJKa0NVSU5FKzhpSXNMUlU0WHVnQmRCWjFRQ0pVd1puZHR1TmlGa1JQYzZWYllsazR6dHA4cVdKQWxyOHFteWNyNHplcEc4MHJQY3R6U2FLTjlSeEZ2aVk3Smo0ZUd5K2RqTDd0bjI3MUcvTzdBZnc1cFpxUlBXSW5kZlNQYXdvZStuWC95UVRPQXBFWU5reWxxUkd2WWRycjVSdFhxWHEyOVVyZDdoNmdhYmpOQmtGN3FxYWRDc25qb0xaM1hZMmx2Nk5PRmJrdHlFbmlFUjVJMGtzazVHWElzR242SlVJV0pmTHRKRDVLdExXOVJ4Q251YUJHUnFBMmlwOFRBZ1FSdnNKajVvaG42UW9oQ3BnNldPV2JIWUJ3V2JXU0ZySUdEMHd2S0dIbzV3RVpvZG82T3lrQ3RiSjhQSVJoSXNvUVVnelNFdUdiVHZSQzFOUWtOaElNam9zcHVYNS9PazlhUnhSMXpra2tWWVREZzhsYzRqdTRtRXRhNHVFczUzeDhuaGJIUjBhZjZWVkhuUW8vMnNxYWJRcGYyQTY0Z2tWdXY5N2o0VzcwVC9VU0lROUQzN2pzY3MvUWR4ZENRRXVrS2Q3Z05aRVlpM2JuSS9HUmEreXFlbmRPcmdmT2M3OVpuNFhxVUFHY0EwcFNGL1ZHbzNvYVp1U3Uzc0ZMeEtnM3ZuSUdOQzRSOEVMdnRIYi9VTk53SW5DUlNIblFPZzhVemZYMjczZkNMdkUvcFg0SXMrdWlKZml2MUYzZGQrajY2eTM0TWZaTDlIZWxrVXlsWVlDYnRjbEphdTlnQnoyS24wbkNFQ2xpdXNWdlo3Wkl2QndCdDc1WjBxdDg0R0RIbXp0MHhrOCtWc3dZencwWGxxZGUyOG9JTExiajczcmxDNE5TaC9ibERkTEw1clVEMVA4VzhOcXUvVy9GT0Q2bmRPZkdud1V5Nm9MNU5oTTJTV1JOQVNUOW8zeWNSTnZFZnpRMkMwMnQyRUswUjBVc1FJQlhtV0pERnk5Z1FIWGNwSWZrS1ROSWM4b2hGZmUwc1ErcDN0YkFrK0o1UDY4Mng2blV6cXo3UHB1MlR5R25ZT2F1MnRXaU0raUZ6dXZqb201K1pZTS9DMVNlZlNYTHcyZlUxek1CUmNMTElaSlZCUFhkMy9lWENKdWxyOHhveDBrK1FVZjU5TDU4SWVscXA3MzRHOUt2UHRMdlY4MjhIckcrT2ZiVHpkcDk2WnhlZTcxRHV6K0h5ZmVtY1dueWVoM3BuRjUwbW9yMmJ4V3FSTEl1NTkwV0NQMkVEcWJocHBkTVpDakM3Si93b3MyU29oL3JpV1pRSlJxbzA3MVE3OXR4dzlObXd1cVVtdklNVytTc0FYSlVYdTc4ckg0MUc5YStBZlEvL1BoZ2hEd29may9DOTFzK0duMnIvbkR3QUFBQVppUzBkRUFQOEEvd0Qvb0wybmt3QUFBQWx3U0ZsekFBQUxFd0FBQ3hNQkFKcWNHQUFBQUFkMFNVMUZCK0lIRUF3VkNFVVZET1FBQUFFZVNVUkJWRWpIN1pXeExrUkJGSWEvczFZMm9sY3FsUXF0VGlrUmtTaDRnSDBCd1RQWVJ4QVBnQzFrQzFRaUNpVWVRVGJLclJEVmlueWFLWVMxOTk3Y3V3cTVYem4vUC9QUE9UbVRnWnFhbXI5QTdmczdCOG5UK2JMMnFqNnJUMWxuUjBhd3dBbHdQVUsrajRnSGRRbFlBT2FCVHRLR0VkRXFVN0hxZWs3dllmSVAxYmV5clZadFozaG0xZHZrUFZMM1U2ZkcwaWg1c1dtZ0N5d0ROeEhSQmg3ejdHMlVDRzBCbDhBcWNBV3NKZWtkdUp0SXE5VlF6NUorb1U1Vi9aeCtCS3ROdFplMGMzWG1tNzZvN2xRYW5DbzlUZXRkTlViczJjMHpYTTBDbDRnMFNKdEFEOWlPaUZFQkw1VU9Wd3JwQThjUnNSRVJIMlc2MlN4aWpvaTlxdVluVDhXRGdtY09xcXA0UzUwckVMd3k2ZDlwSFAzNmI2K3ArZjk4QWlmcko4ZGJtMEdWQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tbW9yZSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScxOHB4JyBoZWlnaHQ9JzVweCcgdmlld0JveD0nMCAwIDE4IDUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VPcHRpb25zIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzM0LjAwMDAwMCwgLTc1NS4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ3BhdGggZD0nTTY1OC4xNDUyMSw1MC45NTMyNzEgQzY1Ni45NjQzMDEsNTAuOTUzMjcxIDY1Ni4wMDY5ODYsNDkuOTY5OTcxMiA2NTYuMDA2OTg2LDQ4Ljc1NzAwOTMgQzY1Ni4wMDY5ODYsNDcuNTQ0MDQ3NSA2NTYuOTY0MzAxLDQ2LjU2MDc0NzcgNjU4LjE0NTIxLDQ2LjU2MDc0NzcgQzY1OS4zMjYxMTgsNDYuNTYwNzQ3NyA2NjAuMjgzNDMzLDQ3LjU0NDA0NzUgNjYwLjI4MzQzMyw0OC43NTcwMDkzIEM2NjAuMjgzNDMzLDQ5Ljk2OTk3MTIgNjU5LjMyNjExOCw1MC45NTMyNzEgNjU4LjE0NTIxLDUwLjk1MzI3MSBaIE02NzEuODI5ODQsNTAuOTUzMjcxIEM2NzAuNjQ4OTMyLDUwLjk1MzI3MSA2NjkuNjkxNjE3LDQ5Ljk2OTk3MTIgNjY5LjY5MTYxNyw0OC43NTcwMDkzIEM2NjkuNjkxNjE3LDQ3LjU0NDA0NzUgNjcwLjY0ODkzMiw0Ni41NjA3NDc3IDY3MS44Mjk4NCw0Ni41NjA3NDc3IEM2NzMuMDEwNzQ5LDQ2LjU2MDc0NzcgNjczLjk2ODA2NCw0Ny41NDQwNDc1IDY3My45NjgwNjQsNDguNzU3MDA5MyBDNjczLjk2ODA2NCw0OS45Njk5NzEyIDY3My4wMTA3NDksNTAuOTUzMjcxIDY3MS44Mjk4NCw1MC45NTMyNzEgWiBNNjY0Ljk4NzUyNSw1MC45NTMyNzEgQzY2My44MDY2MTcsNTAuOTUzMjcxIDY2Mi44NDkzMDEsNDkuOTY5OTcxMiA2NjIuODQ5MzAxLDQ4Ljc1NzAwOTMgQzY2Mi44NDkzMDEsNDcuNTQ0MDQ3NSA2NjMuODA2NjE3LDQ2LjU2MDc0NzcgNjY0Ljk4NzUyNSw0Ni41NjA3NDc3IEM2NjYuMTY4NDMzLDQ2LjU2MDc0NzcgNjY3LjEyNTc0OSw0Ny41NDQwNDc1IDY2Ny4xMjU3NDksNDguNzU3MDA5MyBDNjY3LjEyNTc0OSw0OS45Njk5NzEyIDY2Ni4xNjg0MzMsNTAuOTUzMjcxIDY2NC45ODc1MjUsNTAuOTUzMjcxIFonIGlkPSdPcHRpb25zLWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTsgIFxcbiAgbWFyZ2luLXRvcDogMTNweDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLW1vcmU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PSc1cHgnIHZpZXdCb3g9JzAgMCAxOCA1JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFT3B0aW9ucyBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTczNC4wMDAwMDAsIC03NTUuMDAwMDAwKScgZmlsbD0nJTIzRkZGRkZGJyUzRSUzQ2cgaWQ9J01haW4tY29udGVudCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjQuMDAwMDAwLCAyNC4wMDAwMDApJyUzRSUzQ2cgaWQ9J01haW4tY2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDg2LjAwMDAwMCknJTNFJTNDZyBpZD0nTWVkaWEtQ2FyZCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNTMuMDAwMDAwLCAxNDEuMDAwMDAwKSclM0UlM0NnIGlkPSdWaWRlbycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDU2LjAwMDAwMCknJTNFJTNDZyBpZD0nVUktYm90dG9tLXNlY3Rpb24nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA0MDEuNDc2NjM2KSclM0UlM0NwYXRoIGQ9J002NTguMTQ1MjEsNTAuOTUzMjcxIEM2NTYuOTY0MzAxLDUwLjk1MzI3MSA2NTYuMDA2OTg2LDQ5Ljk2OTk3MTIgNjU2LjAwNjk4Niw0OC43NTcwMDkzIEM2NTYuMDA2OTg2LDQ3LjU0NDA0NzUgNjU2Ljk2NDMwMSw0Ni41NjA3NDc3IDY1OC4xNDUyMSw0Ni41NjA3NDc3IEM2NTkuMzI2MTE4LDQ2LjU2MDc0NzcgNjYwLjI4MzQzMyw0Ny41NDQwNDc1IDY2MC4yODM0MzMsNDguNzU3MDA5MyBDNjYwLjI4MzQzMyw0OS45Njk5NzEyIDY1OS4zMjYxMTgsNTAuOTUzMjcxIDY1OC4xNDUyMSw1MC45NTMyNzEgWiBNNjcxLjgyOTg0LDUwLjk1MzI3MSBDNjcwLjY0ODkzMiw1MC45NTMyNzEgNjY5LjY5MTYxNyw0OS45Njk5NzEyIDY2OS42OTE2MTcsNDguNzU3MDA5MyBDNjY5LjY5MTYxNyw0Ny41NDQwNDc1IDY3MC42NDg5MzIsNDYuNTYwNzQ3NyA2NzEuODI5ODQsNDYuNTYwNzQ3NyBDNjczLjAxMDc0OSw0Ni41NjA3NDc3IDY3My45NjgwNjQsNDcuNTQ0MDQ3NSA2NzMuOTY4MDY0LDQ4Ljc1NzAwOTMgQzY3My45NjgwNjQsNDkuOTY5OTcxMiA2NzMuMDEwNzQ5LDUwLjk1MzI3MSA2NzEuODI5ODQsNTAuOTUzMjcxIFogTTY2NC45ODc1MjUsNTAuOTUzMjcxIEM2NjMuODA2NjE3LDUwLjk1MzI3MSA2NjIuODQ5MzAxLDQ5Ljk2OTk3MTIgNjYyLjg0OTMwMSw0OC43NTcwMDkzIEM2NjIuODQ5MzAxLDQ3LjU0NDA0NzUgNjYzLjgwNjYxNyw0Ni41NjA3NDc3IDY2NC45ODc1MjUsNDYuNTYwNzQ3NyBDNjY2LjE2ODQzMyw0Ni41NjA3NDc3IDY2Ny4xMjU3NDksNDcuNTQ0MDQ3NSA2NjcuMTI1NzQ5LDQ4Ljc1NzAwOTMgQzY2Ny4xMjU3NDksNDkuOTY5OTcxMiA2NjYuMTY4NDMzLDUwLjk1MzI3MSA2NjQuOTg3NTI1LDUwLjk1MzI3MSBaJyBpZD0nT3B0aW9ucy1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7ICBcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLWZ1bGxzY3JlZW4ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VleHBhbmQgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04OTQuMDAwMDAwLCAtNzQ4LjAwMDAwMCknIGZpbGw9JyUyM0Q2RDlERCclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J004MDYuNjg5MDExLDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMzYuODA4NTc1MSBMODA1Ljk3MTQxNiwzOS42MDk1MDgzIEM4MDYuMDY0MDA5LDM5LjY3ODk1MyA4MDYuMTEwMzA2LDM5Ljc5NDY5NCA4MDYuMTEwMzA2LDM5LjkxMDQzNSBDODA2LjExMDMwNiw0MC4xNDE5MTcxIDgwNS45MjUxMiw0MC4zMjcxMDI4IDgwNS42OTM2MzgsNDAuMzI3MTAyOCBMNzk2LjUyNjk0Nyw0MC4zMjcxMDI4IEM3OTYuMjk1NDY1LDQwLjMyNzEwMjggNzk2LjExMDI3OSw0MC4xNDE5MTcxIDc5Ni4xMTAyNzksMzkuOTEwNDM1IEw3OTYuMTEwMjc5LDMwLjc0Mzc0NDMgQzc5Ni4xMTAyNzksMzAuNTgxNzA2OSA3OTYuMjAyODcyLDMwLjQxOTY2OTQgNzk2LjM2NDkxLDMwLjM1MDIyNDggQzc5Ni41MjY5NDcsMzAuMzAzOTI4NCA3OTYuNzEyMTMzLDMwLjMyNzA3NjYgNzk2LjgyNzg3NCwzMC40NDI4MTc2IEw3OTkuNjI4ODA3LDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMjkuNzQ4MzcxNCBDODAzLjMzMjUyMSwyOS41ODYzMzM5IDgwMy41ODcxNTEsMjkuNTg2MzMzOSA4MDMuNzQ5MTg4LDI5Ljc0ODM3MTQgTDgwNi42ODkwMTEsMzIuNjg4MTkzOSBDODA2Ljc4MTYwNCwzMi43NTc2Mzg1IDgwNi44Mjc5LDMyLjg3MzM3OTYgODA2LjgyNzksMzIuOTg5MTIwNiBDODA2LjgyNzksMzMuMDgxNzEzNCA4MDYuNzgxNjA0LDMzLjE5NzQ1NDUgODA2LjY4OTAxMSwzMy4yNjY4OTkxIFogTTgxNi4xMTAzMzIsMjAuNzQzNzE4MSBMODE2LjExMDMzMiwyOS45MTA0MDg4IEM4MTYuMTEwMzMyLDMwLjA3MjQ0NjMgODE2LjAxNzczOSwzMC4yMzQ0ODM3IDgxNS44NTU3MDIsMzAuMzAzOTI4NCBDODE1LjgwOTQwNSwzMC4zMjcwNzY2IDgxNS43Mzk5NjEsMzAuMzI3MDc2NiA4MTUuNjkzNjY0LDMwLjMyNzA3NjYgQzgxNS41Nzc5MjMsMzAuMzI3MDc2NiA4MTUuNDg1MzMsMzAuMjgwNzgwMiA4MTUuMzkyNzM3LDMwLjIxMTMzNTUgTDgxMi41OTE4MDQsMjcuMzg3MjU0MSBMODA5LjA1MDEyOCwzMC45Mjg5MyBDODA4Ljk4MDY4NCwzMC45OTgzNzQ2IDgwOC44NjQ5NDMsMzEuMDQ0NjcxMSA4MDguNzcyMzUsMzEuMDQ0NjcxMSBDODA4LjY1NjYwOSwzMS4wNDQ2NzExIDgwOC41NDA4NjgsMzAuOTk4Mzc0NiA4MDguNDcxNDIzLDMwLjkyODkzIEw4MDUuNTA4NDUyLDI3Ljk2NTk1OTMgQzgwNS4zNDY0MTUsMjcuODAzOTIxOCA4MDUuMzQ2NDE1LDI3LjU0OTI5MTUgODA1LjUwODQ1MiwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDIzLjg0NTU3ODEgTDgwNi4yMjYwNDcsMjEuMDQ0NjQ0OCBDODA2LjExMDMwNiwyMC45Mjg5MDM4IDgwNi4wODcxNTcsMjAuNzQzNzE4MSA4MDYuMTMzNDU0LDIwLjU4MTY4MDYgQzgwNi4yMDI4OTksMjAuNDE5NjQzMiA4MDYuMzY0OTM2LDIwLjMyNzA1MDQgODA2LjUyNjk3MywyMC4zMjcwNTA0IEw4MTUuNjkzNjY0LDIwLjMyNzA1MDQgQzgxNS45MjUxNDYsMjAuMzI3MDUwNCA4MTYuMTEwMzMyLDIwLjUxMjIzNiA4MTYuMTEwMzMyLDIwLjc0MzcxODEgWicgaWQ9J2V4cGFuZC1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLWZ1bGxzY3JlZW46aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VleHBhbmQgaWNvbiUzQy90aXRsZSUzRSUzQ2Rlc2MlM0VDcmVhdGVkIHdpdGggU2tldGNoLiUzQy9kZXNjJTNFJTNDZGVmcyUzRSUzQy9kZWZzJTNFJTNDZyBpZD0nQmFja2VuZCcgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NnIGlkPSdFVU1lZGlhUGxheWVyLVZpZGVvLUVkaXRvci0xNDAwcHgnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC04OTQuMDAwMDAwLCAtNzQ4LjAwMDAwMCknIGZpbGw9JyUyM0ZGRkZGRiclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDZyBpZD0nVUknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjUyNjk0NiwgMTkuMzI3MTAzKSclM0UlM0NwYXRoIGQ9J004MDYuNjg5MDExLDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMzYuODA4NTc1MSBMODA1Ljk3MTQxNiwzOS42MDk1MDgzIEM4MDYuMDY0MDA5LDM5LjY3ODk1MyA4MDYuMTEwMzA2LDM5Ljc5NDY5NCA4MDYuMTEwMzA2LDM5LjkxMDQzNSBDODA2LjExMDMwNiw0MC4xNDE5MTcxIDgwNS45MjUxMiw0MC4zMjcxMDI4IDgwNS42OTM2MzgsNDAuMzI3MTAyOCBMNzk2LjUyNjk0Nyw0MC4zMjcxMDI4IEM3OTYuMjk1NDY1LDQwLjMyNzEwMjggNzk2LjExMDI3OSw0MC4xNDE5MTcxIDc5Ni4xMTAyNzksMzkuOTEwNDM1IEw3OTYuMTEwMjc5LDMwLjc0Mzc0NDMgQzc5Ni4xMTAyNzksMzAuNTgxNzA2OSA3OTYuMjAyODcyLDMwLjQxOTY2OTQgNzk2LjM2NDkxLDMwLjM1MDIyNDggQzc5Ni41MjY5NDcsMzAuMzAzOTI4NCA3OTYuNzEyMTMzLDMwLjMyNzA3NjYgNzk2LjgyNzg3NCwzMC40NDI4MTc2IEw3OTkuNjI4ODA3LDMzLjI2Njg5OTEgTDgwMy4xNzA0ODMsMjkuNzQ4MzcxNCBDODAzLjMzMjUyMSwyOS41ODYzMzM5IDgwMy41ODcxNTEsMjkuNTg2MzMzOSA4MDMuNzQ5MTg4LDI5Ljc0ODM3MTQgTDgwNi42ODkwMTEsMzIuNjg4MTkzOSBDODA2Ljc4MTYwNCwzMi43NTc2Mzg1IDgwNi44Mjc5LDMyLjg3MzM3OTYgODA2LjgyNzksMzIuOTg5MTIwNiBDODA2LjgyNzksMzMuMDgxNzEzNCA4MDYuNzgxNjA0LDMzLjE5NzQ1NDUgODA2LjY4OTAxMSwzMy4yNjY4OTkxIFogTTgxNi4xMTAzMzIsMjAuNzQzNzE4MSBMODE2LjExMDMzMiwyOS45MTA0MDg4IEM4MTYuMTEwMzMyLDMwLjA3MjQ0NjMgODE2LjAxNzczOSwzMC4yMzQ0ODM3IDgxNS44NTU3MDIsMzAuMzAzOTI4NCBDODE1LjgwOTQwNSwzMC4zMjcwNzY2IDgxNS43Mzk5NjEsMzAuMzI3MDc2NiA4MTUuNjkzNjY0LDMwLjMyNzA3NjYgQzgxNS41Nzc5MjMsMzAuMzI3MDc2NiA4MTUuNDg1MzMsMzAuMjgwNzgwMiA4MTUuMzkyNzM3LDMwLjIxMTMzNTUgTDgxMi41OTE4MDQsMjcuMzg3MjU0MSBMODA5LjA1MDEyOCwzMC45Mjg5MyBDODA4Ljk4MDY4NCwzMC45OTgzNzQ2IDgwOC44NjQ5NDMsMzEuMDQ0NjcxMSA4MDguNzcyMzUsMzEuMDQ0NjcxMSBDODA4LjY1NjYwOSwzMS4wNDQ2NzExIDgwOC41NDA4NjgsMzAuOTk4Mzc0NiA4MDguNDcxNDIzLDMwLjkyODkzIEw4MDUuNTA4NDUyLDI3Ljk2NTk1OTMgQzgwNS4zNDY0MTUsMjcuODAzOTIxOCA4MDUuMzQ2NDE1LDI3LjU0OTI5MTUgODA1LjUwODQ1MiwyNy4zODcyNTQxIEw4MDkuMDUwMTI4LDIzLjg0NTU3ODEgTDgwNi4yMjYwNDcsMjEuMDQ0NjQ0OCBDODA2LjExMDMwNiwyMC45Mjg5MDM4IDgwNi4wODcxNTcsMjAuNzQzNzE4MSA4MDYuMTMzNDU0LDIwLjU4MTY4MDYgQzgwNi4yMDI4OTksMjAuNDE5NjQzMiA4MDYuMzY0OTM2LDIwLjMyNzA1MDQgODA2LjUyNjk3MywyMC4zMjcwNTA0IEw4MTUuNjkzNjY0LDIwLjMyNzA1MDQgQzgxNS45MjUxNDYsMjAuMzI3MDUwNCA4MTYuMTEwMzMyLDIwLjUxMjIzNiA4MTYuMTEwMzMyLDIwLjc0MzcxODEgWicgaWQ9J2V4cGFuZC1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdi1pY29uLXN1YnRpdGxlcyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnJTNGJTNFJTNDc3ZnIHdpZHRoPScyMnB4JyBoZWlnaHQ9JzIwcHgnIHZpZXdCb3g9JzAgMCAyMiAyMCcgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyUzRSUzQyEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1MS4zICg1NzU0NCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0lM0UlM0N0aXRsZSUzRXN1YnRpdGxlcyBpY29uJTNDL3RpdGxlJTNFJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBTa2V0Y2guJTNDL2Rlc2MlM0UlM0NkZWZzJTNFJTNDL2RlZnMlM0UlM0NnIGlkPSdCYWNrZW5kJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2cgaWQ9J0VVTWVkaWFQbGF5ZXItVmlkZW8tRWRpdG9yLTE0MDBweCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTc2OS4wMDAwMDAsIC03NDYuMDAwMDAwKScgZmlsbD0nJTIzRDZEOUREJyBmaWxsLXJ1bGU9J25vbnplcm8nJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ3BhdGggZD0nTTY5NS45NzY1NzcsMzkuNTMyNzEwMyBDNjk0LjY4NTk2NywzOS41MzI3MTAzIDY5My42Mzk3MjEsNDAuNjE4NTYyOSA2OTMuNjM5NzIxLDQxLjk1ODAyOTkgTDY5My42Mzk3MjEsNTIuOTIwNDc0NyBDNjkzLjYzOTcyMSw1NC4yNTk5NDE4IDY5NC42ODU5NjcsNTUuMzQ1Nzk0NCA2OTUuOTc2NTc3LDU1LjM0NTc5NDQgTDcwOC40MDg2NTMsNTUuMzQ1Nzk0NCBDNzA5LjY5OTI2Myw1NS4zNDU3OTQ0IDcxMC43NDU1MDksNTQuMjU5OTQxOCA3MTAuNzQ1NTA5LDUyLjkyMDQ3NDcgTDcxMC43NDU1MDksNDEuOTU4MDI5OSBDNzEwLjc0NTUwOSw0MC42MTg1NjI5IDcwOS42OTkyNjMsMzkuNTMyNzEwMyA3MDguNDA4NjUzLDM5LjUzMjcxMDMgTDY5NS45NzY1NzcsMzkuNTMyNzEwMyBaIE02OTYuMDcxMzUxLDM3Ljc3NTcwMDkgTDcwOC4zMTM4NzksMzcuNzc1NzAwOSBDNzEwLjYwMTU1OCwzNy43NzU3MDA5IDcxMi40NTYwODgsMzkuNjkzODYyMiA3MTIuNDU2MDg4LDQyLjA2MDAzNDEgTDcxMi40NTYwODgsNTIuODE4NDcwNiBDNzEyLjQ1NjA4OCw1NS4xODQ2NDI1IDcxMC42MDE1NTgsNTcuMTAyODAzNyA3MDguMzEzODc5LDU3LjEwMjgwMzcgTDY5Ni4wNzEzNTEsNTcuMTAyODAzNyBDNjkzLjc4MzY3Miw1Ny4xMDI4MDM3IDY5MS45MjkxNDIsNTUuMTg0NjQyNSA2OTEuOTI5MTQyLDUyLjgxODQ3MDYgTDY5MS45MjkxNDIsNDIuMDYwMDM0MSBDNjkxLjkyOTE0MiwzOS42OTM4NjIyIDY5My43ODM2NzIsMzcuNzc1NzAwOSA2OTYuMDcxMzUxLDM3Ljc3NTcwMDkgWiBNNjk2LjI2MDE4Miw0OC4zMTc3NTcgTDcwMi45OTMzMTEsNDguMzE3NzU3IEM3MDMuNDk1ODI1LDQ4LjMxNzc1NyA3MDMuOTAzMTk0LDQ3LjkyNDQzNzEgNzAzLjkwMzE5NCw0Ny40MzkyNTIzIEM3MDMuOTAzMTk0LDQ2Ljk1NDA2NzYgNzAzLjQ5NTgyNSw0Ni41NjA3NDc3IDcwMi45OTMzMTEsNDYuNTYwNzQ3NyBMNjk2LjI2MDE4Miw0Ni41NjA3NDc3IEM2OTUuNzU3NjY4LDQ2LjU2MDc0NzcgNjk1LjM1MDI5OSw0Ni45NTQwNjc2IDY5NS4zNTAyOTksNDcuNDM5MjUyMyBDNjk1LjM1MDI5OSw0Ny45MjQ0MzcxIDY5NS43NTc2NjgsNDguMzE3NzU3IDY5Ni4yNjAxODIsNDguMzE3NzU3IFogTTcwNy4yOTY3NjEsNDguMzE3NzU3IEw3MDguMjA3MjMxLDQ4LjMxNzc1NyBDNzA4LjY2NDM1Niw0OC4zMTc3NTcgNzA5LjAzNDkzLDQ3LjkyNDQzNzEgNzA5LjAzNDkzLDQ3LjQzOTI1MjMgQzcwOS4wMzQ5Myw0Ni45NTQwNjc2IDcwOC42NjQzNTYsNDYuNTYwNzQ3NyA3MDguMjA3MjMxLDQ2LjU2MDc0NzcgTDcwNy4yOTY3NjEsNDYuNTYwNzQ3NyBDNzA2LjgzOTYzNiw0Ni41NjA3NDc3IDcwNi40NjkwNjIsNDYuOTU0MDY3NiA3MDYuNDY5MDYyLDQ3LjQzOTI1MjMgQzcwNi40NjkwNjIsNDcuOTI0NDM3MSA3MDYuODM5NjM2LDQ4LjMxNzc1NyA3MDcuMjk2NzYxLDQ4LjMxNzc1NyBaIE03MDEuMzkxOTE4LDUxLjgzMTc3NTcgTDcwOC4xMjUwNDgsNTEuODMxNzc1NyBDNzA4LjYyNzU2Miw1MS44MzE3NzU3IDcwOS4wMzQ5Myw1MS40Mzg0NTU4IDcwOS4wMzQ5Myw1MC45NTMyNzEgQzcwOS4wMzQ5Myw1MC40NjgwODYzIDcwOC42Mjc1NjIsNTAuMDc0NzY2NCA3MDguMTI1MDQ4LDUwLjA3NDc2NjQgTDcwMS4zOTE5MTgsNTAuMDc0NzY2NCBDNzAwLjg4OTQwNCw1MC4wNzQ3NjY0IDcwMC40ODIwMzYsNTAuNDY4MDg2MyA3MDAuNDgyMDM2LDUwLjk1MzI3MSBDNzAwLjQ4MjAzNiw1MS40Mzg0NTU4IDcwMC44ODk0MDQsNTEuODMxNzc1NyA3MDEuMzkxOTE4LDUxLjgzMTc3NTcgWiBNNjk2LjQxOTQxMSw1MS44MzE3NzU3IEw2OTcuNzAyMzQ1LDUxLjgzMTc3NTcgQzY5OC4yOTI3OTksNTEuODMxNzc1NyA2OTguNzcxNDU3LDUxLjQzODQ1NTggNjk4Ljc3MTQ1Nyw1MC45NTMyNzEgQzY5OC43NzE0NTcsNTAuNDY4MDg2MyA2OTguMjkyNzk5LDUwLjA3NDc2NjQgNjk3LjcwMjM0NSw1MC4wNzQ3NjY0IEw2OTYuNDE5NDExLDUwLjA3NDc2NjQgQzY5NS44Mjg5NTcsNTAuMDc0NzY2NCA2OTUuMzUwMjk5LDUwLjQ2ODA4NjMgNjk1LjM1MDI5OSw1MC45NTMyNzEgQzY5NS4zNTAyOTksNTEuNDM4NDU1OCA2OTUuODI4OTU3LDUxLjgzMTc3NTcgNjk2LjQxOTQxMSw1MS44MzE3NzU3IFonIGlkPSdzdWJ0aXRsZXMtaWNvbiclM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLmF2LWljb24tc3VidGl0bGVzOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyUzRnhtbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCclM0YlM0UlM0Nzdmcgd2lkdGg9JzIycHgnIGhlaWdodD0nMjBweCcgdmlld0JveD0nMCAwIDIyIDIwJyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnJTNFJTNDIS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLSUzRSUzQ3RpdGxlJTNFc3VidGl0bGVzIGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtNzY5LjAwMDAwMCwgLTc0Ni4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnIGZpbGwtcnVsZT0nbm9uemVybyclM0UlM0NnIGlkPSdNYWluLWNvbnRlbnQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSclM0UlM0NnIGlkPSdNYWluLWNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCA4Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J01lZGlhLUNhcmQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDUzLjAwMDAwMCwgMTQxLjAwMDAwMCknJTNFJTNDZyBpZD0nVmlkZW8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDAwMDAwLCA1Ni4wMDAwMDApJyUzRSUzQ2cgaWQ9J1VJLWJvdHRvbS1zZWN0aW9uJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNDAxLjQ3NjYzNiknJTNFJTNDcGF0aCBkPSdNNjk1Ljk3NjU3NywzOS41MzI3MTAzIEM2OTQuNjg1OTY3LDM5LjUzMjcxMDMgNjkzLjYzOTcyMSw0MC42MTg1NjI5IDY5My42Mzk3MjEsNDEuOTU4MDI5OSBMNjkzLjYzOTcyMSw1Mi45MjA0NzQ3IEM2OTMuNjM5NzIxLDU0LjI1OTk0MTggNjk0LjY4NTk2Nyw1NS4zNDU3OTQ0IDY5NS45NzY1NzcsNTUuMzQ1Nzk0NCBMNzA4LjQwODY1Myw1NS4zNDU3OTQ0IEM3MDkuNjk5MjYzLDU1LjM0NTc5NDQgNzEwLjc0NTUwOSw1NC4yNTk5NDE4IDcxMC43NDU1MDksNTIuOTIwNDc0NyBMNzEwLjc0NTUwOSw0MS45NTgwMjk5IEM3MTAuNzQ1NTA5LDQwLjYxODU2MjkgNzA5LjY5OTI2MywzOS41MzI3MTAzIDcwOC40MDg2NTMsMzkuNTMyNzEwMyBMNjk1Ljk3NjU3NywzOS41MzI3MTAzIFogTTY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBMNzA4LjMxMzg3OSwzNy43NzU3MDA5IEM3MTAuNjAxNTU4LDM3Ljc3NTcwMDkgNzEyLjQ1NjA4OCwzOS42OTM4NjIyIDcxMi40NTYwODgsNDIuMDYwMDM0MSBMNzEyLjQ1NjA4OCw1Mi44MTg0NzA2IEM3MTIuNDU2MDg4LDU1LjE4NDY0MjUgNzEwLjYwMTU1OCw1Ny4xMDI4MDM3IDcwOC4zMTM4NzksNTcuMTAyODAzNyBMNjk2LjA3MTM1MSw1Ny4xMDI4MDM3IEM2OTMuNzgzNjcyLDU3LjEwMjgwMzcgNjkxLjkyOTE0Miw1NS4xODQ2NDI1IDY5MS45MjkxNDIsNTIuODE4NDcwNiBMNjkxLjkyOTE0Miw0Mi4wNjAwMzQxIEM2OTEuOTI5MTQyLDM5LjY5Mzg2MjIgNjkzLjc4MzY3MiwzNy43NzU3MDA5IDY5Ni4wNzEzNTEsMzcuNzc1NzAwOSBaIE02OTYuMjYwMTgyLDQ4LjMxNzc1NyBMNzAyLjk5MzMxMSw0OC4zMTc3NTcgQzcwMy40OTU4MjUsNDguMzE3NzU3IDcwMy45MDMxOTQsNDcuOTI0NDM3MSA3MDMuOTAzMTk0LDQ3LjQzOTI1MjMgQzcwMy45MDMxOTQsNDYuOTU0MDY3NiA3MDMuNDk1ODI1LDQ2LjU2MDc0NzcgNzAyLjk5MzMxMSw0Ni41NjA3NDc3IEw2OTYuMjYwMTgyLDQ2LjU2MDc0NzcgQzY5NS43NTc2NjgsNDYuNTYwNzQ3NyA2OTUuMzUwMjk5LDQ2Ljk1NDA2NzYgNjk1LjM1MDI5OSw0Ny40MzkyNTIzIEM2OTUuMzUwMjk5LDQ3LjkyNDQzNzEgNjk1Ljc1NzY2OCw0OC4zMTc3NTcgNjk2LjI2MDE4Miw0OC4zMTc3NTcgWiBNNzA3LjI5Njc2MSw0OC4zMTc3NTcgTDcwOC4yMDcyMzEsNDguMzE3NzU3IEM3MDguNjY0MzU2LDQ4LjMxNzc1NyA3MDkuMDM0OTMsNDcuOTI0NDM3MSA3MDkuMDM0OTMsNDcuNDM5MjUyMyBDNzA5LjAzNDkzLDQ2Ljk1NDA2NzYgNzA4LjY2NDM1Niw0Ni41NjA3NDc3IDcwOC4yMDcyMzEsNDYuNTYwNzQ3NyBMNzA3LjI5Njc2MSw0Ni41NjA3NDc3IEM3MDYuODM5NjM2LDQ2LjU2MDc0NzcgNzA2LjQ2OTA2Miw0Ni45NTQwNjc2IDcwNi40NjkwNjIsNDcuNDM5MjUyMyBDNzA2LjQ2OTA2Miw0Ny45MjQ0MzcxIDcwNi44Mzk2MzYsNDguMzE3NzU3IDcwNy4yOTY3NjEsNDguMzE3NzU3IFogTTcwMS4zOTE5MTgsNTEuODMxNzc1NyBMNzA4LjEyNTA0OCw1MS44MzE3NzU3IEM3MDguNjI3NTYyLDUxLjgzMTc3NTcgNzA5LjAzNDkzLDUxLjQzODQ1NTggNzA5LjAzNDkzLDUwLjk1MzI3MSBDNzA5LjAzNDkzLDUwLjQ2ODA4NjMgNzA4LjYyNzU2Miw1MC4wNzQ3NjY0IDcwOC4xMjUwNDgsNTAuMDc0NzY2NCBMNzAxLjM5MTkxOCw1MC4wNzQ3NjY0IEM3MDAuODg5NDA0LDUwLjA3NDc2NjQgNzAwLjQ4MjAzNiw1MC40NjgwODYzIDcwMC40ODIwMzYsNTAuOTUzMjcxIEM3MDAuNDgyMDM2LDUxLjQzODQ1NTggNzAwLjg4OTQwNCw1MS44MzE3NzU3IDcwMS4zOTE5MTgsNTEuODMxNzc1NyBaIE02OTYuNDE5NDExLDUxLjgzMTc3NTcgTDY5Ny43MDIzNDUsNTEuODMxNzc1NyBDNjk4LjI5Mjc5OSw1MS44MzE3NzU3IDY5OC43NzE0NTcsNTEuNDM4NDU1OCA2OTguNzcxNDU3LDUwLjk1MzI3MSBDNjk4Ljc3MTQ1Nyw1MC40NjgwODYzIDY5OC4yOTI3OTksNTAuMDc0NzY2NCA2OTcuNzAyMzQ1LDUwLjA3NDc2NjQgTDY5Ni40MTk0MTEsNTAuMDc0NzY2NCBDNjk1LjgyODk1Nyw1MC4wNzQ3NjY0IDY5NS4zNTAyOTksNTAuNDY4MDg2MyA2OTUuMzUwMjk5LDUwLjk1MzI3MSBDNjk1LjM1MDI5OSw1MS40Mzg0NTU4IDY5NS44Mjg5NTcsNTEuODMxNzc1NyA2OTYuNDE5NDExLDUxLjgzMTc3NTcgWicgaWQ9J3N1YnRpdGxlcy1pY29uJyUzRSUzQy9wYXRoJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7XFxufVxcblxcbi5lcnJvcm1lc3NhZ2Uge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4ucGxheXdyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4ucGxheWNpcmNsZSB7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUwLDUwLDUwLDAuNzUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNENkQ5REQnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgd2lkdGg6IDE1dmg7XFxuICBoZWlnaHQ6IDE1dmg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDh2aCA4dmg7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA2NiUgNTAlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG59XFxuXFxuLnBsYXljaXJjbGU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDJTNGeG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J1VURi04JyUzRiUzRSUzQ3N2ZyB3aWR0aD0nMjFweCcgaGVpZ2h0PScyMXB4JyB2aWV3Qm94PScwIDAgMjEgMjEnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayclM0UlM0MhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMyAoNTc1NDQpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tJTNFJTNDdGl0bGUlM0VwbGF5IGljb24lM0MvdGl0bGUlM0UlM0NkZXNjJTNFQ3JlYXRlZCB3aXRoIFNrZXRjaC4lM0MvZGVzYyUzRSUzQ2RlZnMlM0UlM0MvZGVmcyUzRSUzQ2cgaWQ9J0JhY2tlbmQnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZyBpZD0nRVVNZWRpYVBsYXllci1WaWRlby1FZGl0b3ItMTQwMHB4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTA1LjAwMDAwMCwgLTc0Ny4wMDAwMDApJyBmaWxsPSclMjNGRkZGRkYnJTNFJTNDZyBpZD0nTWFpbi1jb250ZW50JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNC4wMDAwMDAsIDI0LjAwMDAwMCknJTNFJTNDZyBpZD0nTWFpbi1jYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgODYuMDAwMDAwKSclM0UlM0NnIGlkPSdNZWRpYS1DYXJkJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg1My4wMDAwMDAsIDE0MS4wMDAwMDApJyUzRSUzQ2cgaWQ9J1ZpZGVvJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTYuMDAwMDAwKSclM0UlM0NnIGlkPSdVSS1ib3R0b20tc2VjdGlvbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDQwMS40NzY2MzYpJyUzRSUzQ2cgaWQ9J1VJJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC41MjY5NDYsIDE5LjMyNzEwMyknJTNFJTNDcGF0aCBkPSdNNy4wOTQ4MTE0NywzOS40NDg1OTgxIEM3LjAyNTM2Njg1LDM5LjQ0ODU5ODEgNi45MzI3NzQwMSwzOS40MjU0NDk5IDYuODYzMzI5MzgsMzkuMzc5MTUzNSBDNi43NDc1ODgzNCwzOS4zMDk3MDg5IDYuNjc4MTQzNzEsMzkuMTcwODE5NiA2LjY3ODE0MzcxLDM5LjAzMTkzMDQgTDYuNjc4MTQzNzEsMTkuODY1MjEzNCBDNi42NzgxNDM3MSwxOS43MjYzMjQyIDYuNzQ3NTg4MzQsMTkuNTg3NDM0OSA2Ljg2MzMyOTM4LDE5LjUxNzk5MDMgQzcuMDAyMjE4NjQsMTkuNDI1Mzk3NSA3LjE0MTEwNzg5LDE5LjQyNTM5NzUgNy4yNzk5OTcxNCwxOS40OTQ4NDIxIEwyNi40NDY3MTQxLDI5LjA3ODIwMDYgQzI2LjU4NTYwMzMsMjkuMTQ3NjQ1MiAyNi42NzgxOTYyLDI5LjI4NjUzNDQgMjYuNjc4MTk2MiwyOS40NDg1NzE5IEMyNi42NzgxOTYyLDI5LjYxMDYwOTQgMjYuNTg1NjAzMywyOS43NDk0OTg2IDI2LjQ0NjcxNDEsMjkuODE4OTQzMiBMNy4yNzk5OTcxNCwzOS40MDIzMDE3IEM3LjIxMDU1MjUyLDM5LjQyNTQ0OTkgNy4xNjQyNTYxLDM5LjQ0ODU5ODEgNy4wOTQ4MTE0NywzOS40NDg1OTgxIFonIGlkPSdwbGF5LWljb24nJTNFJTNDL3BhdGglM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL2clM0UlM0MvZyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO1xcbn1cXG5cXG4uaWlpZi1hdi1jb21wb25lbnQgLm9wdGlvbnMtY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAgMi41JSAwIDIuNSU7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSg1MCw1MCw1MCwwLjc1KSAwJSwgcmdiYSgyOSwyOSwyOSwwKSAxMDAlKTtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5jYW52YXMtdGltZWxpbmUtY29udGFpbmVyIHtcXG4gIHdpZHRoOiBhdXRvICFpbXBvcnRhbnQ7XFxufVxcblxcbi5paWlmLWF2LWNvbXBvbmVudCAubG9hZGluZy1wcm9ncmVzcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNDQ0NDQ0M7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIC0xcHggMCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4xNSksIGluc2V0IDAgMXB4IDAgMCByZ2JhKDI1NSwyNTUsMjU1LDAuMTUpO1xcbn1cXG5cXG4uYnRuW3RpdGxlPVByZXZpb3VzXSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uYnRuW3RpdGxlPU5leHRdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5idG4uYnV0dG9uLWZ1bGxzY3JlZW4ge1xcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XFxufVxcblxcbi5idG5bZGF0YS1uYW1lPU1vcmVdIHtcXG4gIGZsb2F0OiByaWdodCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYnRuW2RhdGEtbmFtZT1TdWJ0aXRsZXNdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmbG9hdDogcmlnaHQgIWltcG9ydGFudDtcXG59XFxuXFxuLm1vcmVtZW51IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjRURFREVEICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuOCkgIWltcG9ydGFudDtcXG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5tb3JlbWVudS1vcHRpb24ge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uc3VidGl0bGVtZW51IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjRURFREVEICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuOCkgIWltcG9ydGFudDtcXG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5zdWJ0aXRsZW1lbnUtb3B0aW9uIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmlpaWYtYXYtY29tcG9uZW50IC5hdWRpby1iYWNrZ3JvdW5kIHtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxufVwiLCBcIlwiXSk7XG5cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI2V1cHMtY29udGVudC13cmFwcGVyIHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxuICAgIG1heC1oZWlnaHQ6IGluaGVyaXQ7XFxuICAgIG1heC13aWR0aDogaW5oZXJpdDtcXG59XFxuXFxuLmV1cHMtcGxheWVyIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5lZGl0b3Ige1xcbiAgICB3aWR0aDogNjAlO1xcbn1cXG5cXG4ubm8tZWRpdG9yIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4jZXVwcy1lZGl0b3Itd3JhcHBlciB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4jZXVwcy1hbm5vdGF0aW9uZWRpdG9yIHtcXG4gICAgcGFkZGluZy1sZWZ0OiA1JTtcXG59XCIsIFwiXCJdKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuICdAbWVkaWEgJyArIGl0ZW1bMl0gKyAneycgKyBjb250ZW50ICsgJ30nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9ICcoJyArIGl0ZW1bMl0gKyAnKSBhbmQgKCcgKyBtZWRpYVF1ZXJ5ICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuICByZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufSIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29yZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvcmUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvcmUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zbGlkZXIuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zbGlkZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBFZmZlY3RzIENvcmVcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZGVzY3JpcHRpb246IEV4dGVuZHMgdGhlIGludGVybmFsIGpRdWVyeSBlZmZlY3RzLiBJbmNsdWRlcyBtb3JwaGluZyBhbmQgZWFzaW5nLiBSZXF1aXJlZCBieSBhbGwgb3RoZXIgZWZmZWN0cy5cbi8vIGpzY3M6ZW5hYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvZWZmZWN0cy1jb3JlL1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnZhciBkYXRhU3BhY2UgPSBcInVpLWVmZmVjdHMtXCIsXG5cdGRhdGFTcGFjZVN0eWxlID0gXCJ1aS1lZmZlY3RzLXN0eWxlXCIsXG5cdGRhdGFTcGFjZUFuaW1hdGVkID0gXCJ1aS1lZmZlY3RzLWFuaW1hdGVkXCIsXG5cblx0Ly8gQ3JlYXRlIGEgbG9jYWwgalF1ZXJ5IGJlY2F1c2UgalF1ZXJ5IENvbG9yIHJlbGllcyBvbiBpdCBhbmQgdGhlXG5cdC8vIGdsb2JhbCBtYXkgbm90IGV4aXN0IHdpdGggQU1EIGFuZCBhIGN1c3RvbSBidWlsZCAoIzEwMTk5KVxuXHRqUXVlcnkgPSAkO1xuXG4kLmVmZmVjdHMgPSB7XG5cdGVmZmVjdDoge31cbn07XG5cbi8qIVxuICogalF1ZXJ5IENvbG9yIEFuaW1hdGlvbnMgdjIuMS4yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvclxuICpcbiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiBXZWQgSmFuIDE2IDA4OjQ3OjA5IDIwMTMgLTA2MDBcbiAqL1xuKCBmdW5jdGlvbiggalF1ZXJ5LCB1bmRlZmluZWQgKSB7XG5cblx0dmFyIHN0ZXBIb29rcyA9IFwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIFwiICtcblx0XHRcImJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLFxuXG5cdC8vIFBsdXNlcXVhbHMgdGVzdCBmb3IgKz0gMTAwIC09IDEwMFxuXHRycGx1c2VxdWFscyA9IC9eKFtcXC0rXSk9XFxzKihcXGQrXFwuP1xcZCopLyxcblxuXHQvLyBBIHNldCBvZiBSRSdzIHRoYXQgY2FuIG1hdGNoIHN0cmluZ3MgYW5kIGdlbmVyYXRlIGNvbG9yIHR1cGxlcy5cblx0c3RyaW5nUGFyc2VycyA9IFsge1xuXHRcdFx0cmU6IC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAxIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyA0IF1cblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cblx0XHRcdC8vIFRoaXMgcmVnZXggaWdub3JlcyBBLUYgYmVjYXVzZSBpdCdzIGNvbXBhcmVkIGFnYWluc3QgYW4gYWxyZWFkeSBsb3dlcmNhc2VkIHN0cmluZ1xuXHRcdFx0cmU6IC8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMSBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAyIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDMgXSwgMTYgKVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblxuXHRcdFx0Ly8gVGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0gKyBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSArIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdICsgZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0cmU6IC9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0c3BhY2U6IFwiaHNsYVwiLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdIC8gMTAwLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0gXSxcblxuXHQvLyBKUXVlcnkuQ29sb3IoIClcblx0Y29sb3IgPSBqUXVlcnkuQ29sb3IgPSBmdW5jdGlvbiggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5Db2xvci5mbi5wYXJzZSggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApO1xuXHR9LFxuXHRzcGFjZXMgPSB7XG5cdFx0cmdiYToge1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0cmVkOiB7XG5cdFx0XHRcdFx0aWR4OiAwLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdyZWVuOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJsdWU6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRoc2xhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRodWU6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJkZWdyZWVzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0c2F0dXJhdGlvbjoge1xuXHRcdFx0XHRcdGlkeDogMSxcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsaWdodG5lc3M6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJwZXJjZW50XCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cHJvcFR5cGVzID0ge1xuXHRcdFwiYnl0ZVwiOiB7XG5cdFx0XHRmbG9vcjogdHJ1ZSxcblx0XHRcdG1heDogMjU1XG5cdFx0fSxcblx0XHRcInBlcmNlbnRcIjoge1xuXHRcdFx0bWF4OiAxXG5cdFx0fSxcblx0XHRcImRlZ3JlZXNcIjoge1xuXHRcdFx0bW9kOiAzNjAsXG5cdFx0XHRmbG9vcjogdHJ1ZVxuXHRcdH1cblx0fSxcblx0c3VwcG9ydCA9IGNvbG9yLnN1cHBvcnQgPSB7fSxcblxuXHQvLyBFbGVtZW50IGZvciBzdXBwb3J0IHRlc3RzXG5cdHN1cHBvcnRFbGVtID0galF1ZXJ5KCBcIjxwPlwiIClbIDAgXSxcblxuXHQvLyBDb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXNcblx0Y29sb3JzLFxuXG5cdC8vIExvY2FsIGFsaWFzZXMgb2YgZnVuY3Rpb25zIGNhbGxlZCBvZnRlblxuXHRlYWNoID0galF1ZXJ5LmVhY2g7XG5cbi8vIERldGVybWluZSByZ2JhIHN1cHBvcnQgaW1tZWRpYXRlbHlcbnN1cHBvcnRFbGVtLnN0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIjtcbnN1cHBvcnQucmdiYSA9IHN1cHBvcnRFbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCBcInJnYmFcIiApID4gLTE7XG5cbi8vIERlZmluZSBjYWNoZSBuYW1lIGFuZCBhbHBoYSBwcm9wZXJ0aWVzXG4vLyBmb3IgcmdiYSBhbmQgaHNsYSBzcGFjZXNcbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHNwYWNlLmNhY2hlID0gXCJfXCIgKyBzcGFjZU5hbWU7XG5cdHNwYWNlLnByb3BzLmFscGhhID0ge1xuXHRcdGlkeDogMyxcblx0XHR0eXBlOiBcInBlcmNlbnRcIixcblx0XHRkZWY6IDFcblx0fTtcbn0gKTtcblxuZnVuY3Rpb24gY2xhbXAoIHZhbHVlLCBwcm9wLCBhbGxvd0VtcHR5ICkge1xuXHR2YXIgdHlwZSA9IHByb3BUeXBlc1sgcHJvcC50eXBlIF0gfHwge307XG5cblx0aWYgKCB2YWx1ZSA9PSBudWxsICkge1xuXHRcdHJldHVybiAoIGFsbG93RW1wdHkgfHwgIXByb3AuZGVmICkgPyBudWxsIDogcHJvcC5kZWY7XG5cdH1cblxuXHQvLyB+fiBpcyBhbiBzaG9ydCB3YXkgb2YgZG9pbmcgZmxvb3IgZm9yIHBvc2l0aXZlIG51bWJlcnNcblx0dmFsdWUgPSB0eXBlLmZsb29yID8gfn52YWx1ZSA6IHBhcnNlRmxvYXQoIHZhbHVlICk7XG5cblx0Ly8gSUUgd2lsbCBwYXNzIGluIGVtcHR5IHN0cmluZ3MgYXMgdmFsdWUgZm9yIGFscGhhLFxuXHQvLyB3aGljaCB3aWxsIGhpdCB0aGlzIGNhc2Vcblx0aWYgKCBpc05hTiggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gcHJvcC5kZWY7XG5cdH1cblxuXHRpZiAoIHR5cGUubW9kICkge1xuXG5cdFx0Ly8gV2UgYWRkIG1vZCBiZWZvcmUgbW9kZGluZyB0byBtYWtlIHN1cmUgdGhhdCBuZWdhdGl2ZXMgdmFsdWVzXG5cdFx0Ly8gZ2V0IGNvbnZlcnRlZCBwcm9wZXJseTogLTEwIC0+IDM1MFxuXHRcdHJldHVybiAoIHZhbHVlICsgdHlwZS5tb2QgKSAlIHR5cGUubW9kO1xuXHR9XG5cblx0Ly8gRm9yIG5vdyBhbGwgcHJvcGVydHkgdHlwZXMgd2l0aG91dCBtb2QgaGF2ZSBtaW4gYW5kIG1heFxuXHRyZXR1cm4gMCA+IHZhbHVlID8gMCA6IHR5cGUubWF4IDwgdmFsdWUgPyB0eXBlLm1heCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdQYXJzZSggc3RyaW5nICkge1xuXHR2YXIgaW5zdCA9IGNvbG9yKCksXG5cdFx0cmdiYSA9IGluc3QuX3JnYmEgPSBbXTtcblxuXHRzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcblxuXHRlYWNoKCBzdHJpbmdQYXJzZXJzLCBmdW5jdGlvbiggaSwgcGFyc2VyICkge1xuXHRcdHZhciBwYXJzZWQsXG5cdFx0XHRtYXRjaCA9IHBhcnNlci5yZS5leGVjKCBzdHJpbmcgKSxcblx0XHRcdHZhbHVlcyA9IG1hdGNoICYmIHBhcnNlci5wYXJzZSggbWF0Y2ggKSxcblx0XHRcdHNwYWNlTmFtZSA9IHBhcnNlci5zcGFjZSB8fCBcInJnYmFcIjtcblxuXHRcdGlmICggdmFsdWVzICkge1xuXHRcdFx0cGFyc2VkID0gaW5zdFsgc3BhY2VOYW1lIF0oIHZhbHVlcyApO1xuXG5cdFx0XHQvLyBJZiB0aGlzIHdhcyBhbiByZ2JhIHBhcnNlIHRoZSBhc3NpZ25tZW50IG1pZ2h0IGhhcHBlbiB0d2ljZVxuXHRcdFx0Ly8gb2ggd2VsbC4uLi5cblx0XHRcdGluc3RbIHNwYWNlc1sgc3BhY2VOYW1lIF0uY2FjaGUgXSA9IHBhcnNlZFsgc3BhY2VzWyBzcGFjZU5hbWUgXS5jYWNoZSBdO1xuXHRcdFx0cmdiYSA9IGluc3QuX3JnYmEgPSBwYXJzZWQuX3JnYmE7XG5cblx0XHRcdC8vIEV4aXQgZWFjaCggc3RyaW5nUGFyc2VycyApIGhlcmUgYmVjYXVzZSB3ZSBtYXRjaGVkXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8gRm91bmQgYSBzdHJpbmdQYXJzZXIgdGhhdCBoYW5kbGVkIGl0XG5cdGlmICggcmdiYS5sZW5ndGggKSB7XG5cblx0XHQvLyBJZiB0aGlzIGNhbWUgZnJvbSBhIHBhcnNlZCBzdHJpbmcsIGZvcmNlIFwidHJhbnNwYXJlbnRcIiB3aGVuIGFscGhhIGlzIDBcblx0XHQvLyBjaHJvbWUsIChhbmQgbWF5YmUgb3RoZXJzKSByZXR1cm4gXCJ0cmFuc3BhcmVudFwiIGFzIHJnYmEoMCwwLDAsMClcblx0XHRpZiAoIHJnYmEuam9pbigpID09PSBcIjAsMCwwLDBcIiApIHtcblx0XHRcdGpRdWVyeS5leHRlbmQoIHJnYmEsIGNvbG9ycy50cmFuc3BhcmVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gaW5zdDtcblx0fVxuXG5cdC8vIE5hbWVkIGNvbG9yc1xuXHRyZXR1cm4gY29sb3JzWyBzdHJpbmcgXTtcbn1cblxuY29sb3IuZm4gPSBqUXVlcnkuZXh0ZW5kKCBjb2xvci5wcm90b3R5cGUsIHtcblx0cGFyc2U6IGZ1bmN0aW9uKCByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRpZiAoIHJlZCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5fcmdiYSA9IFsgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCBdO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggcmVkLmpxdWVyeSB8fCByZWQubm9kZVR5cGUgKSB7XG5cdFx0XHRyZWQgPSBqUXVlcnkoIHJlZCApLmNzcyggZ3JlZW4gKTtcblx0XHRcdGdyZWVuID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHZhciBpbnN0ID0gdGhpcyxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggcmVkICksXG5cdFx0XHRyZ2JhID0gdGhpcy5fcmdiYSA9IFtdO1xuXG5cdFx0Ly8gTW9yZSB0aGFuIDEgYXJndW1lbnQgc3BlY2lmaWVkIC0gYXNzdW1lICggcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgKVxuXHRcdGlmICggZ3JlZW4gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJlZCA9IFsgcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgXTtcblx0XHRcdHR5cGUgPSBcImFycmF5XCI7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyc2UoIHN0cmluZ1BhcnNlKCByZWQgKSB8fCBjb2xvcnMuX2RlZmF1bHQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwiYXJyYXlcIiApIHtcblx0XHRcdGVhY2goIHNwYWNlcy5yZ2JhLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0XHRyZ2JhWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsgcHJvcC5pZHggXSwgcHJvcCApO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0aWYgKCByZWQgaW5zdGFuY2VvZiBjb2xvciApIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHRpZiAoIHJlZFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0XHRcdGluc3RbIHNwYWNlLmNhY2hlIF0gPSByZWRbIHNwYWNlLmNhY2hlIF0uc2xpY2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlID0gc3BhY2UuY2FjaGU7XG5cdFx0XHRcdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIHRoZSBjYWNoZSBkb2Vzbid0IGV4aXN0LCBhbmQgd2Uga25vdyBob3cgdG8gY29udmVydFxuXHRcdFx0XHRcdFx0aWYgKCAhaW5zdFsgY2FjaGUgXSAmJiBzcGFjZS50byApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiB0aGUgdmFsdWUgd2FzIG51bGwsIHdlIGRvbid0IG5lZWQgdG8gY29weSBpdFxuXHRcdFx0XHRcdFx0XHQvLyBpZiB0aGUga2V5IHdhcyBhbHBoYSwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0IGVpdGhlclxuXHRcdFx0XHRcdFx0XHRpZiAoIGtleSA9PT0gXCJhbHBoYVwiIHx8IHJlZFsga2V5IF0gPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXSA9IHNwYWNlLnRvKCBpbnN0Ll9yZ2JhICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgdGhlIG9ubHkgY2FzZSB3aGVyZSB3ZSBhbGxvdyBudWxscyBmb3IgQUxMIHByb3BlcnRpZXMuXG5cdFx0XHRcdFx0XHQvLyBjYWxsIGNsYW1wIHdpdGggYWx3YXlzQWxsb3dFbXB0eVxuXHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXVsgcHJvcC5pZHggXSA9IGNsYW1wKCByZWRbIGtleSBdLCBwcm9wLCB0cnVlICk7XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0Ly8gRXZlcnl0aGluZyBkZWZpbmVkIGJ1dCBhbHBoYT9cblx0XHRcdFx0XHRpZiAoIGluc3RbIGNhY2hlIF0gJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIG51bGwsIGluc3RbIGNhY2hlIF0uc2xpY2UoIDAsIDMgKSApIDwgMCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBkZWZhdWx0IG9mIDFcblx0XHRcdFx0XHRcdGluc3RbIGNhY2hlIF1bIDMgXSA9IDE7XG5cdFx0XHRcdFx0XHRpZiAoIHNwYWNlLmZyb20gKSB7XG5cdFx0XHRcdFx0XHRcdGluc3QuX3JnYmEgPSBzcGFjZS5mcm9tKCBpbnN0WyBjYWNoZSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggY29tcGFyZSApIHtcblx0XHR2YXIgaXMgPSBjb2xvciggY29tcGFyZSApLFxuXHRcdFx0c2FtZSA9IHRydWUsXG5cdFx0XHRpbnN0ID0gdGhpcztcblxuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIF8sIHNwYWNlICkge1xuXHRcdFx0dmFyIGxvY2FsQ2FjaGUsXG5cdFx0XHRcdGlzQ2FjaGUgPSBpc1sgc3BhY2UuY2FjaGUgXTtcblx0XHRcdGlmICggaXNDYWNoZSApIHtcblx0XHRcdFx0bG9jYWxDYWNoZSA9IGluc3RbIHNwYWNlLmNhY2hlIF0gfHwgc3BhY2UudG8gJiYgc3BhY2UudG8oIGluc3QuX3JnYmEgKSB8fCBbXTtcblx0XHRcdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBfLCBwcm9wICkge1xuXHRcdFx0XHRcdGlmICggaXNDYWNoZVsgcHJvcC5pZHggXSAhPSBudWxsICkge1xuXHRcdFx0XHRcdFx0c2FtZSA9ICggaXNDYWNoZVsgcHJvcC5pZHggXSA9PT0gbG9jYWxDYWNoZVsgcHJvcC5pZHggXSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNhbWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2FtZTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNhbWU7XG5cdH0sXG5cdF9zcGFjZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVzZWQgPSBbXSxcblx0XHRcdGluc3QgPSB0aGlzO1xuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdFx0XHRpZiAoIGluc3RbIHNwYWNlLmNhY2hlIF0gKSB7XG5cdFx0XHRcdHVzZWQucHVzaCggc3BhY2VOYW1lICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB1c2VkLnBvcCgpO1xuXHR9LFxuXHR0cmFuc2l0aW9uOiBmdW5jdGlvbiggb3RoZXIsIGRpc3RhbmNlICkge1xuXHRcdHZhciBlbmQgPSBjb2xvciggb3RoZXIgKSxcblx0XHRcdHNwYWNlTmFtZSA9IGVuZC5fc3BhY2UoKSxcblx0XHRcdHNwYWNlID0gc3BhY2VzWyBzcGFjZU5hbWUgXSxcblx0XHRcdHN0YXJ0Q29sb3IgPSB0aGlzLmFscGhhKCkgPT09IDAgPyBjb2xvciggXCJ0cmFuc3BhcmVudFwiICkgOiB0aGlzLFxuXHRcdFx0c3RhcnQgPSBzdGFydENvbG9yWyBzcGFjZS5jYWNoZSBdIHx8IHNwYWNlLnRvKCBzdGFydENvbG9yLl9yZ2JhICksXG5cdFx0XHRyZXN1bHQgPSBzdGFydC5zbGljZSgpO1xuXG5cdFx0ZW5kID0gZW5kWyBzcGFjZS5jYWNoZSBdO1xuXHRcdGVhY2goIHNwYWNlLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0dmFyIGluZGV4ID0gcHJvcC5pZHgsXG5cdFx0XHRcdHN0YXJ0VmFsdWUgPSBzdGFydFsgaW5kZXggXSxcblx0XHRcdFx0ZW5kVmFsdWUgPSBlbmRbIGluZGV4IF0sXG5cdFx0XHRcdHR5cGUgPSBwcm9wVHlwZXNbIHByb3AudHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBudWxsLCBkb24ndCBvdmVycmlkZSBzdGFydCB2YWx1ZVxuXHRcdFx0aWYgKCBlbmRWYWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBudWxsIC0gdXNlIGVuZFxuXHRcdFx0aWYgKCBzdGFydFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXN1bHRbIGluZGV4IF0gPSBlbmRWYWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdHlwZS5tb2QgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUgPiB0eXBlLm1vZCAvIDIgKSB7XG5cdFx0XHRcdFx0XHRzdGFydFZhbHVlICs9IHR5cGUubW9kO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXJ0VmFsdWUgLSBlbmRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgLT0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGNsYW1wKCAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSApICogZGlzdGFuY2UgKyBzdGFydFZhbHVlLCBwcm9wICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzWyBzcGFjZU5hbWUgXSggcmVzdWx0ICk7XG5cdH0sXG5cdGJsZW5kOiBmdW5jdGlvbiggb3BhcXVlICkge1xuXG5cdFx0Ly8gSWYgd2UgYXJlIGFscmVhZHkgb3BhcXVlIC0gcmV0dXJuIG91cnNlbGZcblx0XHRpZiAoIHRoaXMuX3JnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdHZhciByZ2IgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhID0gcmdiLnBvcCgpLFxuXHRcdFx0YmxlbmQgPSBjb2xvciggb3BhcXVlICkuX3JnYmE7XG5cblx0XHRyZXR1cm4gY29sb3IoIGpRdWVyeS5tYXAoIHJnYiwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCAxIC0gYSApICogYmxlbmRbIGkgXSArIGEgKiB2O1xuXHRcdH0gKSApO1xuXHR9LFxuXHR0b1JnYmFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcInJnYmEoXCIsXG5cdFx0XHRyZ2JhID0galF1ZXJ5Lm1hcCggdGhpcy5fcmdiYSwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRcdHJldHVybiB2ID09IG51bGwgPyAoIGkgPiAyID8gMSA6IDAgKSA6IHY7XG5cdFx0XHR9ICk7XG5cblx0XHRpZiAoIHJnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJnYmEucG9wKCk7XG5cdFx0XHRwcmVmaXggPSBcInJnYihcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJlZml4ICsgcmdiYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9Ic2xhU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlZml4ID0gXCJoc2xhKFwiLFxuXHRcdFx0aHNsYSA9IGpRdWVyeS5tYXAoIHRoaXMuaHNsYSgpLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdFx0aWYgKCB2ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0diA9IGkgPiAyID8gMSA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYXRjaCAxIGFuZCAyXG5cdFx0XHRcdGlmICggaSAmJiBpIDwgMyApIHtcblx0XHRcdFx0XHR2ID0gTWF0aC5yb3VuZCggdiAqIDEwMCApICsgXCIlXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHY7XG5cdFx0XHR9ICk7XG5cblx0XHRpZiAoIGhzbGFbIDMgXSA9PT0gMSApIHtcblx0XHRcdGhzbGEucG9wKCk7XG5cdFx0XHRwcmVmaXggPSBcImhzbChcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHByZWZpeCArIGhzbGEuam9pbigpICsgXCIpXCI7XG5cdH0sXG5cdHRvSGV4U3RyaW5nOiBmdW5jdGlvbiggaW5jbHVkZUFscGhhICkge1xuXHRcdHZhciByZ2JhID0gdGhpcy5fcmdiYS5zbGljZSgpLFxuXHRcdFx0YWxwaGEgPSByZ2JhLnBvcCgpO1xuXG5cdFx0aWYgKCBpbmNsdWRlQWxwaGEgKSB7XG5cdFx0XHRyZ2JhLnB1c2goIH5+KCBhbHBoYSAqIDI1NSApICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFwiI1wiICsgalF1ZXJ5Lm1hcCggcmdiYSwgZnVuY3Rpb24oIHYgKSB7XG5cblx0XHRcdC8vIERlZmF1bHQgdG8gMCB3aGVuIG51bGxzIGV4aXN0XG5cdFx0XHR2ID0gKCB2IHx8IDAgKS50b1N0cmluZyggMTYgKTtcblx0XHRcdHJldHVybiB2Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgdiA6IHY7XG5cdFx0fSApLmpvaW4oIFwiXCIgKTtcblx0fSxcblx0dG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9yZ2JhWyAzIF0gPT09IDAgPyBcInRyYW5zcGFyZW50XCIgOiB0aGlzLnRvUmdiYVN0cmluZygpO1xuXHR9XG59ICk7XG5jb2xvci5mbi5wYXJzZS5wcm90b3R5cGUgPSBjb2xvci5mbjtcblxuLy8gSHNsYSBjb252ZXJzaW9ucyBhZGFwdGVkIGZyb206XG4vLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL21hYXNoYWFjay9zb3VyY2UvYnJvd3NlL3BhY2thZ2VzL2dyYXBoaWNzL3RydW5rL3NyYy9ncmFwaGljcy9jb2xvcnMvSFVFMlJHQi5hcz9yPTUwMjFcblxuZnVuY3Rpb24gaHVlMnJnYiggcCwgcSwgaCApIHtcblx0aCA9ICggaCArIDEgKSAlIDE7XG5cdGlmICggaCAqIDYgPCAxICkge1xuXHRcdHJldHVybiBwICsgKCBxIC0gcCApICogaCAqIDY7XG5cdH1cblx0aWYgKCBoICogMiA8IDEgKSB7XG5cdFx0cmV0dXJuIHE7XG5cdH1cblx0aWYgKCBoICogMyA8IDIgKSB7XG5cdFx0cmV0dXJuIHAgKyAoIHEgLSBwICkgKiAoICggMiAvIDMgKSAtIGggKSAqIDY7XG5cdH1cblx0cmV0dXJuIHA7XG59XG5cbnNwYWNlcy5oc2xhLnRvID0gZnVuY3Rpb24oIHJnYmEgKSB7XG5cdGlmICggcmdiYVsgMCBdID09IG51bGwgfHwgcmdiYVsgMSBdID09IG51bGwgfHwgcmdiYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgcmdiYVsgMyBdIF07XG5cdH1cblx0dmFyIHIgPSByZ2JhWyAwIF0gLyAyNTUsXG5cdFx0ZyA9IHJnYmFbIDEgXSAvIDI1NSxcblx0XHRiID0gcmdiYVsgMiBdIC8gMjU1LFxuXHRcdGEgPSByZ2JhWyAzIF0sXG5cdFx0bWF4ID0gTWF0aC5tYXgoIHIsIGcsIGIgKSxcblx0XHRtaW4gPSBNYXRoLm1pbiggciwgZywgYiApLFxuXHRcdGRpZmYgPSBtYXggLSBtaW4sXG5cdFx0YWRkID0gbWF4ICsgbWluLFxuXHRcdGwgPSBhZGQgKiAwLjUsXG5cdFx0aCwgcztcblxuXHRpZiAoIG1pbiA9PT0gbWF4ICkge1xuXHRcdGggPSAwO1xuXHR9IGVsc2UgaWYgKCByID09PSBtYXggKSB7XG5cdFx0aCA9ICggNjAgKiAoIGcgLSBiICkgLyBkaWZmICkgKyAzNjA7XG5cdH0gZWxzZSBpZiAoIGcgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggYiAtIHIgKSAvIGRpZmYgKSArIDEyMDtcblx0fSBlbHNlIHtcblx0XHRoID0gKCA2MCAqICggciAtIGcgKSAvIGRpZmYgKSArIDI0MDtcblx0fVxuXG5cdC8vIENocm9tYSAoZGlmZikgPT0gMCBtZWFucyBncmV5c2NhbGUgd2hpY2gsIGJ5IGRlZmluaXRpb24sIHNhdHVyYXRpb24gPSAwJVxuXHQvLyBvdGhlcndpc2UsIHNhdHVyYXRpb24gaXMgYmFzZWQgb24gdGhlIHJhdGlvIG9mIGNocm9tYSAoZGlmZikgdG8gbGlnaHRuZXNzIChhZGQpXG5cdGlmICggZGlmZiA9PT0gMCApIHtcblx0XHRzID0gMDtcblx0fSBlbHNlIGlmICggbCA8PSAwLjUgKSB7XG5cdFx0cyA9IGRpZmYgLyBhZGQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IGRpZmYgLyAoIDIgLSBhZGQgKTtcblx0fVxuXHRyZXR1cm4gWyBNYXRoLnJvdW5kKCBoICkgJSAzNjAsIHMsIGwsIGEgPT0gbnVsbCA/IDEgOiBhIF07XG59O1xuXG5zcGFjZXMuaHNsYS5mcm9tID0gZnVuY3Rpb24oIGhzbGEgKSB7XG5cdGlmICggaHNsYVsgMCBdID09IG51bGwgfHwgaHNsYVsgMSBdID09IG51bGwgfHwgaHNsYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgaHNsYVsgMyBdIF07XG5cdH1cblx0dmFyIGggPSBoc2xhWyAwIF0gLyAzNjAsXG5cdFx0cyA9IGhzbGFbIDEgXSxcblx0XHRsID0gaHNsYVsgMiBdLFxuXHRcdGEgPSBoc2xhWyAzIF0sXG5cdFx0cSA9IGwgPD0gMC41ID8gbCAqICggMSArIHMgKSA6IGwgKyBzIC0gbCAqIHMsXG5cdFx0cCA9IDIgKiBsIC0gcTtcblxuXHRyZXR1cm4gW1xuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKyAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggLSAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdGFcblx0XTtcbn07XG5cbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHZhciBwcm9wcyA9IHNwYWNlLnByb3BzLFxuXHRcdGNhY2hlID0gc3BhY2UuY2FjaGUsXG5cdFx0dG8gPSBzcGFjZS50byxcblx0XHRmcm9tID0gc3BhY2UuZnJvbTtcblxuXHQvLyBNYWtlcyByZ2JhKCkgYW5kIGhzbGEoKVxuXHRjb2xvci5mblsgc3BhY2VOYW1lIF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cblx0XHQvLyBHZW5lcmF0ZSBhIGNhY2hlIGZvciB0aGlzIHNwYWNlIGlmIGl0IGRvZXNuJ3QgZXhpc3Rcblx0XHRpZiAoIHRvICYmICF0aGlzWyBjYWNoZSBdICkge1xuXHRcdFx0dGhpc1sgY2FjaGUgXSA9IHRvKCB0aGlzLl9yZ2JhICk7XG5cdFx0fVxuXHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cdFx0fVxuXG5cdFx0dmFyIHJldCxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdGFyciA9ICggdHlwZSA9PT0gXCJhcnJheVwiIHx8IHR5cGUgPT09IFwib2JqZWN0XCIgKSA/IHZhbHVlIDogYXJndW1lbnRzLFxuXHRcdFx0bG9jYWwgPSB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cblx0XHRlYWNoKCBwcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblx0XHRcdHZhciB2YWwgPSBhcnJbIHR5cGUgPT09IFwib2JqZWN0XCIgPyBrZXkgOiBwcm9wLmlkeCBdO1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gbG9jYWxbIHByb3AuaWR4IF07XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFsgcHJvcC5pZHggXSA9IGNsYW1wKCB2YWwsIHByb3AgKTtcblx0XHR9ICk7XG5cblx0XHRpZiAoIGZyb20gKSB7XG5cdFx0XHRyZXQgPSBjb2xvciggZnJvbSggbG9jYWwgKSApO1xuXHRcdFx0cmV0WyBjYWNoZSBdID0gbG9jYWw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gY29sb3IoIGxvY2FsICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIE1ha2VzIHJlZCgpIGdyZWVuKCkgYmx1ZSgpIGFscGhhKCkgaHVlKCkgc2F0dXJhdGlvbigpIGxpZ2h0bmVzcygpXG5cdGVhY2goIHByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXG5cdFx0Ly8gQWxwaGEgaXMgaW5jbHVkZWQgaW4gbW9yZSB0aGFuIG9uZSBzcGFjZVxuXHRcdGlmICggY29sb3IuZm5bIGtleSBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb2xvci5mblsga2V5IF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgdnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdFx0Zm4gPSAoIGtleSA9PT0gXCJhbHBoYVwiID8gKCB0aGlzLl9oc2xhID8gXCJoc2xhXCIgOiBcInJnYmFcIiApIDogc3BhY2VOYW1lICksXG5cdFx0XHRcdGxvY2FsID0gdGhpc1sgZm4gXSgpLFxuXHRcdFx0XHRjdXIgPSBsb2NhbFsgcHJvcC5pZHggXSxcblx0XHRcdFx0bWF0Y2g7XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5jYWxsKCB0aGlzLCBjdXIgKTtcblx0XHRcdFx0dnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCAmJiBwcm9wLmVtcHR5ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdGlmICggdnR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdG1hdGNoID0gcnBsdXNlcXVhbHMuZXhlYyggdmFsdWUgKTtcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGN1ciArIHBhcnNlRmxvYXQoIG1hdGNoWyAyIF0gKSAqICggbWF0Y2hbIDEgXSA9PT0gXCIrXCIgPyAxIDogLTEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bG9jYWxbIHByb3AuaWR4IF0gPSB2YWx1ZTtcblx0XHRcdHJldHVybiB0aGlzWyBmbiBdKCBsb2NhbCApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuLy8gQWRkIGNzc0hvb2sgYW5kIC5meC5zdGVwIGZ1bmN0aW9uIGZvciBlYWNoIG5hbWVkIGhvb2suXG4vLyBhY2NlcHQgYSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIHByb3BlcnRpZXNcbmNvbG9yLmhvb2sgPSBmdW5jdGlvbiggaG9vayApIHtcblx0dmFyIGhvb2tzID0gaG9vay5zcGxpdCggXCIgXCIgKTtcblx0ZWFjaCggaG9va3MsIGZ1bmN0aW9uKCBpLCBob29rICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgaG9vayBdID0ge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBwYXJzZWQsIGN1ckVsZW0sXG5cdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yID0gXCJcIjtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9PSBcInRyYW5zcGFyZW50XCIgJiYgKCBqUXVlcnkudHlwZSggdmFsdWUgKSAhPT0gXCJzdHJpbmdcIiB8fFxuXHRcdFx0XHRcdFx0KCBwYXJzZWQgPSBzdHJpbmdQYXJzZSggdmFsdWUgKSApICkgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjb2xvciggcGFyc2VkIHx8IHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yZ2JhICYmIHZhbHVlLl9yZ2JhWyAzIF0gIT09IDEgKSB7XG5cdFx0XHRcdFx0XHRjdXJFbGVtID0gaG9vayA9PT0gXCJiYWNrZ3JvdW5kQ29sb3JcIiA/IGVsZW0ucGFyZW50Tm9kZSA6IGVsZW07XG5cdFx0XHRcdFx0XHR3aGlsZSAoXG5cdFx0XHRcdFx0XHRcdCggYmFja2dyb3VuZENvbG9yID09PSBcIlwiIHx8IGJhY2tncm91bmRDb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiICkgJiZcblx0XHRcdFx0XHRcdFx0Y3VyRWxlbSAmJiBjdXJFbGVtLnN0eWxlXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgPSBqUXVlcnkuY3NzKCBjdXJFbGVtLCBcImJhY2tncm91bmRDb2xvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0Y3VyRWxlbSA9IGN1ckVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5ibGVuZCggYmFja2dyb3VuZENvbG9yICYmIGJhY2tncm91bmRDb2xvciAhPT0gXCJ0cmFuc3BhcmVudFwiID9cblx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yIDpcblx0XHRcdFx0XHRcdFx0XCJfZGVmYXVsdFwiICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1JnYmFTdHJpbmcoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGVsZW0uc3R5bGVbIGhvb2sgXSA9IHZhbHVlO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vIFdyYXBwZWQgdG8gcHJldmVudCBJRSBmcm9tIHRocm93aW5nIGVycm9ycyBvbiBcImludmFsaWRcIiB2YWx1ZXMgbGlrZVxuXHRcdFx0XHRcdC8vICdhdXRvJyBvciAnaW5oZXJpdCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0alF1ZXJ5LmZ4LnN0ZXBbIGhvb2sgXSA9IGZ1bmN0aW9uKCBmeCApIHtcblx0XHRcdGlmICggIWZ4LmNvbG9ySW5pdCApIHtcblx0XHRcdFx0Znguc3RhcnQgPSBjb2xvciggZnguZWxlbSwgaG9vayApO1xuXHRcdFx0XHRmeC5lbmQgPSBjb2xvciggZnguZW5kICk7XG5cdFx0XHRcdGZ4LmNvbG9ySW5pdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRqUXVlcnkuY3NzSG9va3NbIGhvb2sgXS5zZXQoIGZ4LmVsZW0sIGZ4LnN0YXJ0LnRyYW5zaXRpb24oIGZ4LmVuZCwgZngucG9zICkgKTtcblx0XHR9O1xuXHR9ICk7XG5cbn07XG5cbmNvbG9yLmhvb2soIHN0ZXBIb29rcyApO1xuXG5qUXVlcnkuY3NzSG9va3MuYm9yZGVyQ29sb3IgPSB7XG5cdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBleHBhbmRlZCA9IHt9O1xuXG5cdFx0ZWFjaCggWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwYXJ0ICkge1xuXHRcdFx0ZXhwYW5kZWRbIFwiYm9yZGVyXCIgKyBwYXJ0ICsgXCJDb2xvclwiIF0gPSB2YWx1ZTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHR9XG59O1xuXG4vLyBCYXNpYyBjb2xvciBuYW1lcyBvbmx5LlxuLy8gVXNhZ2Ugb2YgYW55IG9mIHRoZSBvdGhlciBjb2xvciBuYW1lcyByZXF1aXJlcyBhZGRpbmcgeW91cnNlbGYgb3IgaW5jbHVkaW5nXG4vLyBqcXVlcnkuY29sb3Iuc3ZnLW5hbWVzLmpzLlxuY29sb3JzID0galF1ZXJ5LkNvbG9yLm5hbWVzID0ge1xuXG5cdC8vIDQuMS4gQmFzaWMgY29sb3Iga2V5d29yZHNcblx0YXF1YTogXCIjMDBmZmZmXCIsXG5cdGJsYWNrOiBcIiMwMDAwMDBcIixcblx0Ymx1ZTogXCIjMDAwMGZmXCIsXG5cdGZ1Y2hzaWE6IFwiI2ZmMDBmZlwiLFxuXHRncmF5OiBcIiM4MDgwODBcIixcblx0Z3JlZW46IFwiIzAwODAwMFwiLFxuXHRsaW1lOiBcIiMwMGZmMDBcIixcblx0bWFyb29uOiBcIiM4MDAwMDBcIixcblx0bmF2eTogXCIjMDAwMDgwXCIsXG5cdG9saXZlOiBcIiM4MDgwMDBcIixcblx0cHVycGxlOiBcIiM4MDAwODBcIixcblx0cmVkOiBcIiNmZjAwMDBcIixcblx0c2lsdmVyOiBcIiNjMGMwYzBcIixcblx0dGVhbDogXCIjMDA4MDgwXCIsXG5cdHdoaXRlOiBcIiNmZmZmZmZcIixcblx0eWVsbG93OiBcIiNmZmZmMDBcIixcblxuXHQvLyA0LjIuMy4gXCJ0cmFuc3BhcmVudFwiIGNvbG9yIGtleXdvcmRcblx0dHJhbnNwYXJlbnQ6IFsgbnVsbCwgbnVsbCwgbnVsbCwgMCBdLFxuXG5cdF9kZWZhdWx0OiBcIiNmZmZmZmZcIlxufTtcblxufSApKCBqUXVlcnkgKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQ0xBU1MgQU5JTUFUSU9OUyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuKCBmdW5jdGlvbigpIHtcblxudmFyIGNsYXNzQW5pbWF0aW9uQWN0aW9ucyA9IFsgXCJhZGRcIiwgXCJyZW1vdmVcIiwgXCJ0b2dnbGVcIiBdLFxuXHRzaG9ydGhhbmRTdHlsZXMgPSB7XG5cdFx0Ym9yZGVyOiAxLFxuXHRcdGJvcmRlckJvdHRvbTogMSxcblx0XHRib3JkZXJDb2xvcjogMSxcblx0XHRib3JkZXJMZWZ0OiAxLFxuXHRcdGJvcmRlclJpZ2h0OiAxLFxuXHRcdGJvcmRlclRvcDogMSxcblx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRtYXJnaW46IDEsXG5cdFx0cGFkZGluZzogMVxuXHR9O1xuXG4kLmVhY2goXG5cdFsgXCJib3JkZXJMZWZ0U3R5bGVcIiwgXCJib3JkZXJSaWdodFN0eWxlXCIsIFwiYm9yZGVyQm90dG9tU3R5bGVcIiwgXCJib3JkZXJUb3BTdHlsZVwiIF0sXG5cdGZ1bmN0aW9uKCBfLCBwcm9wICkge1xuXHRcdCQuZnguc3RlcFsgcHJvcCBdID0gZnVuY3Rpb24oIGZ4ICkge1xuXHRcdFx0aWYgKCBmeC5lbmQgIT09IFwibm9uZVwiICYmICFmeC5zZXRBdHRyIHx8IGZ4LnBvcyA9PT0gMSAmJiAhZnguc2V0QXR0ciApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBmeC5lbGVtLCBwcm9wLCBmeC5lbmQgKTtcblx0XHRcdFx0Znguc2V0QXR0ciA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuKTtcblxuZnVuY3Rpb24gZ2V0RWxlbWVudFN0eWxlcyggZWxlbSApIHtcblx0dmFyIGtleSwgbGVuLFxuXHRcdHN0eWxlID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ID9cblx0XHRcdGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtLCBudWxsICkgOlxuXHRcdFx0ZWxlbS5jdXJyZW50U3R5bGUsXG5cdFx0c3R5bGVzID0ge307XG5cblx0aWYgKCBzdHlsZSAmJiBzdHlsZS5sZW5ndGggJiYgc3R5bGVbIDAgXSAmJiBzdHlsZVsgc3R5bGVbIDAgXSBdICkge1xuXHRcdGxlbiA9IHN0eWxlLmxlbmd0aDtcblx0XHR3aGlsZSAoIGxlbi0tICkge1xuXHRcdFx0a2V5ID0gc3R5bGVbIGxlbiBdO1xuXHRcdFx0aWYgKCB0eXBlb2Ygc3R5bGVbIGtleSBdID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRzdHlsZXNbICQuY2FtZWxDYXNlKCBrZXkgKSBdID0gc3R5bGVbIGtleSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHQvLyBTdXBwb3J0OiBPcGVyYSwgSUUgPDlcblx0fSBlbHNlIHtcblx0XHRmb3IgKCBrZXkgaW4gc3R5bGUgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sga2V5IF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gc3R5bGVEaWZmZXJlbmNlKCBvbGRTdHlsZSwgbmV3U3R5bGUgKSB7XG5cdHZhciBkaWZmID0ge30sXG5cdFx0bmFtZSwgdmFsdWU7XG5cblx0Zm9yICggbmFtZSBpbiBuZXdTdHlsZSApIHtcblx0XHR2YWx1ZSA9IG5ld1N0eWxlWyBuYW1lIF07XG5cdFx0aWYgKCBvbGRTdHlsZVsgbmFtZSBdICE9PSB2YWx1ZSApIHtcblx0XHRcdGlmICggIXNob3J0aGFuZFN0eWxlc1sgbmFtZSBdICkge1xuXHRcdFx0XHRpZiAoICQuZnguc3RlcFsgbmFtZSBdIHx8ICFpc05hTiggcGFyc2VGbG9hdCggdmFsdWUgKSApICkge1xuXHRcdFx0XHRcdGRpZmZbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpZmY7XG59XG5cbi8vIFN1cHBvcnQ6IGpRdWVyeSA8MS44XG5pZiAoICEkLmZuLmFkZEJhY2sgKSB7XG5cdCQuZm4uYWRkQmFjayA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH07XG59XG5cbiQuZWZmZWN0cy5hbmltYXRlQ2xhc3MgPSBmdW5jdGlvbiggdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHR2YXIgbyA9ICQuc3BlZWQoIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhbmltYXRlZCA9ICQoIHRoaXMgKSxcblx0XHRcdGJhc2VDbGFzcyA9IGFuaW1hdGVkLmF0dHIoIFwiY2xhc3NcIiApIHx8IFwiXCIsXG5cdFx0XHRhcHBseUNsYXNzQ2hhbmdlLFxuXHRcdFx0YWxsQW5pbWF0aW9ucyA9IG8uY2hpbGRyZW4gPyBhbmltYXRlZC5maW5kKCBcIipcIiApLmFkZEJhY2soKSA6IGFuaW1hdGVkO1xuXG5cdFx0Ly8gTWFwIHRoZSBhbmltYXRlZCBvYmplY3RzIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBzdHlsZXMuXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbCA9ICQoIHRoaXMgKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVsOiBlbCxcblx0XHRcdFx0c3RhcnQ6IGdldEVsZW1lbnRTdHlsZXMoIHRoaXMgKVxuXHRcdFx0fTtcblx0XHR9ICk7XG5cblx0XHQvLyBBcHBseSBjbGFzcyBjaGFuZ2Vcblx0XHRhcHBseUNsYXNzQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkLmVhY2goIGNsYXNzQW5pbWF0aW9uQWN0aW9ucywgZnVuY3Rpb24oIGksIGFjdGlvbiApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZVsgYWN0aW9uIF0gKSB7XG5cdFx0XHRcdFx0YW5pbWF0ZWRbIGFjdGlvbiArIFwiQ2xhc3NcIiBdKCB2YWx1ZVsgYWN0aW9uIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH07XG5cdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0Ly8gTWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gY2FsY3VsYXRlIG5ldyBzdHlsZXMgYW5kIGRpZmZcblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5lbmQgPSBnZXRFbGVtZW50U3R5bGVzKCB0aGlzLmVsWyAwIF0gKTtcblx0XHRcdHRoaXMuZGlmZiA9IHN0eWxlRGlmZmVyZW5jZSggdGhpcy5zdGFydCwgdGhpcy5lbmQgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0gKTtcblxuXHRcdC8vIEFwcGx5IG9yaWdpbmFsIGNsYXNzXG5cdFx0YW5pbWF0ZWQuYXR0ciggXCJjbGFzc1wiLCBiYXNlQ2xhc3MgKTtcblxuXHRcdC8vIE1hcCBhbGwgYW5pbWF0ZWQgb2JqZWN0cyBhZ2FpbiAtIHRoaXMgdGltZSBjb2xsZWN0aW5nIGEgcHJvbWlzZVxuXHRcdGFsbEFuaW1hdGlvbnMgPSBhbGxBbmltYXRpb25zLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc3R5bGVJbmZvID0gdGhpcyxcblx0XHRcdFx0ZGZkID0gJC5EZWZlcnJlZCgpLFxuXHRcdFx0XHRvcHRzID0gJC5leHRlbmQoIHt9LCBvLCB7XG5cdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRmZC5yZXNvbHZlKCBzdHlsZUluZm8gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5lbC5hbmltYXRlKCB0aGlzLmRpZmYsIG9wdHMgKTtcblx0XHRcdHJldHVybiBkZmQucHJvbWlzZSgpO1xuXHRcdH0gKTtcblxuXHRcdC8vIE9uY2UgYWxsIGFuaW1hdGlvbnMgaGF2ZSBjb21wbGV0ZWQ6XG5cdFx0JC53aGVuLmFwcGx5KCAkLCBhbGxBbmltYXRpb25zLmdldCgpICkuZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFNldCB0aGUgZmluYWwgY2xhc3Ncblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UoKTtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggYW5pbWF0ZWQgZWxlbWVudCxcblx0XHRcdC8vIGNsZWFyIGFsbCBjc3MgcHJvcGVydGllcyB0aGF0IHdlcmUgYW5pbWF0ZWRcblx0XHRcdCQuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsID0gdGhpcy5lbDtcblx0XHRcdFx0JC5lYWNoKCB0aGlzLmRpZmYsIGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0ZWwuY3NzKCBrZXksIFwiXCIgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBUaGlzIGlzIGd1YXJudGVlZCB0byBiZSB0aGVyZSBpZiB5b3UgdXNlIGpRdWVyeS5zcGVlZCgpXG5cdFx0XHQvLyBpdCBhbHNvIGhhbmRsZXMgZGVxdWV1aW5nIHRoZSBuZXh0IGFuaW0uLi5cblx0XHRcdG8uY29tcGxldGUuY2FsbCggYW5pbWF0ZWRbIDAgXSApO1xuXHRcdH0gKTtcblx0fSApO1xufTtcblxuJC5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBzcGVlZCA/XG5cdFx0XHRcdCQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IGFkZDogY2xhc3NOYW1lcyB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSApKCAkLmZuLmFkZENsYXNzICksXG5cblx0cmVtb3ZlQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/XG5cdFx0XHRcdCQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IHJlbW92ZTogY2xhc3NOYW1lcyB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSApKCAkLmZuLnJlbW92ZUNsYXNzICksXG5cblx0dG9nZ2xlQ2xhc3M6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBmb3JjZSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBmb3JjZSA9PT0gXCJib29sZWFuXCIgfHwgZm9yY2UgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aWYgKCAhc3BlZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXaXRob3V0IHNwZWVkIHBhcmFtZXRlclxuXHRcdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdFx0KCBmb3JjZSA/IHsgYWRkOiBjbGFzc05hbWVzIH0gOiB7IHJlbW92ZTogY2xhc3NOYW1lcyB9ICksXG5cdFx0XHRcdFx0XHRzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFdpdGhvdXQgZm9yY2UgcGFyYW1ldGVyXG5cdFx0XHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0eyB0b2dnbGU6IGNsYXNzTmFtZXMgfSwgZm9yY2UsIHNwZWVkLCBlYXNpbmcgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9ICkoICQuZm4udG9nZ2xlQ2xhc3MgKSxcblxuXHRzd2l0Y2hDbGFzczogZnVuY3Rpb24oIHJlbW92ZSwgYWRkLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLCB7XG5cdFx0XHRhZGQ6IGFkZCxcblx0XHRcdHJlbW92ZTogcmVtb3ZlXG5cdFx0fSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fVxufSApO1xuXG59ICkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFRkZFQ1RTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4oIGZ1bmN0aW9uKCkge1xuXG5pZiAoICQuZXhwciAmJiAkLmV4cHIuZmlsdGVycyAmJiAkLmV4cHIuZmlsdGVycy5hbmltYXRlZCApIHtcblx0JC5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhISQoIGVsZW0gKS5kYXRhKCBkYXRhU3BhY2VBbmltYXRlZCApIHx8IG9yaWcoIGVsZW0gKTtcblx0XHR9O1xuXHR9ICkoICQuZXhwci5maWx0ZXJzLmFuaW1hdGVkICk7XG59XG5cbmlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICkge1xuXHQkLmV4dGVuZCggJC5lZmZlY3RzLCB7XG5cblx0XHQvLyBTYXZlcyBhIHNldCBvZiBwcm9wZXJ0aWVzIGluIGEgZGF0YSBzdG9yYWdlXG5cdFx0c2F2ZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHRcdHZhciBpID0gMCwgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHNldFsgaSBdICE9PSBudWxsICkge1xuXHRcdFx0XHRcdGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlICsgc2V0WyBpIF0sIGVsZW1lbnRbIDAgXS5zdHlsZVsgc2V0WyBpIF0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIFJlc3RvcmVzIGEgc2V0IG9mIHByZXZpb3VzbHkgc2F2ZWQgcHJvcGVydGllcyBmcm9tIGEgZGF0YSBzdG9yYWdlXG5cdFx0cmVzdG9yZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHRcdHZhciB2YWwsIGkgPSAwLCBsZW5ndGggPSBzZXQubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggc2V0WyBpIF0gIT09IG51bGwgKSB7XG5cdFx0XHRcdFx0dmFsID0gZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBzZXRbIGkgXSApO1xuXHRcdFx0XHRcdGVsZW1lbnQuY3NzKCBzZXRbIGkgXSwgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0TW9kZTogZnVuY3Rpb24oIGVsLCBtb2RlICkge1xuXHRcdFx0aWYgKCBtb2RlID09PSBcInRvZ2dsZVwiICkge1xuXHRcdFx0XHRtb2RlID0gZWwuaXMoIFwiOmhpZGRlblwiICkgPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1vZGU7XG5cdFx0fSxcblxuXHRcdC8vIFdyYXBzIHRoZSBlbGVtZW50IGFyb3VuZCBhIHdyYXBwZXIgdGhhdCBjb3BpZXMgcG9zaXRpb24gcHJvcGVydGllc1xuXHRcdGNyZWF0ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IHdyYXBwZWQsIHJldHVybiBpdFxuXHRcdFx0aWYgKCBlbGVtZW50LnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC5wYXJlbnQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV3JhcCB0aGUgZWxlbWVudFxuXHRcdFx0dmFyIHByb3BzID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBlbGVtZW50Lm91dGVyV2lkdGgoIHRydWUgKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQub3V0ZXJIZWlnaHQoIHRydWUgKSxcblx0XHRcdFx0XHRcImZsb2F0XCI6IGVsZW1lbnQuY3NzKCBcImZsb2F0XCIgKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cmFwcGVyID0gJCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy13cmFwcGVyXCIgKVxuXHRcdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwMCVcIixcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcblx0XHRcdFx0XHRcdGJvcmRlcjogXCJub25lXCIsXG5cdFx0XHRcdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRcdFx0XHRwYWRkaW5nOiAwXG5cdFx0XHRcdFx0fSApLFxuXG5cdFx0XHRcdC8vIFN0b3JlIHRoZSBzaXplIGluIGNhc2Ugd2lkdGgvaGVpZ2h0IGFyZSBkZWZpbmVkIGluICUgLSBGaXhlcyAjNTI0NVxuXHRcdFx0XHRzaXplID0ge1xuXHRcdFx0XHRcdHdpZHRoOiBlbGVtZW50LndpZHRoKCksXG5cdFx0XHRcdFx0aGVpZ2h0OiBlbGVtZW50LmhlaWdodCgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3hcblx0XHRcdC8vIEZpcmVmb3ggaW5jb3JyZWN0bHkgZXhwb3NlcyBhbm9ueW1vdXMgY29udGVudFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTYxNjY0XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhY3RpdmUuaWQ7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0YWN0aXZlID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbWVudC53cmFwKCB3cmFwcGVyICk7XG5cblx0XHRcdC8vIEZpeGVzICM3NTk1IC0gRWxlbWVudHMgbG9zZSBmb2N1cyB3aGVuIHdyYXBwZWQuXG5cdFx0XHRpZiAoIGVsZW1lbnRbIDAgXSA9PT0gYWN0aXZlIHx8ICQuY29udGFpbnMoIGVsZW1lbnRbIDAgXSwgYWN0aXZlICkgKSB7XG5cdFx0XHRcdCQoIGFjdGl2ZSApLnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb3RmaXggZm9yIGpRdWVyeSAxLjQgc2luY2Ugc29tZSBjaGFuZ2UgaW4gd3JhcCgpIHNlZW1zIHRvIGFjdHVhbGx5XG5cdFx0XHQvLyBsb3NlIHRoZSByZWZlcmVuY2UgdG8gdGhlIHdyYXBwZWQgZWxlbWVudFxuXHRcdFx0d3JhcHBlciA9IGVsZW1lbnQucGFyZW50KCk7XG5cblx0XHRcdC8vIFRyYW5zZmVyIHBvc2l0aW9uaW5nIHByb3BlcnRpZXMgdG8gdGhlIHdyYXBwZXJcblx0XHRcdGlmICggZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHR3cmFwcGVyLmNzcyggeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0gKTtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkLmV4dGVuZCggcHJvcHMsIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRcdHpJbmRleDogZWxlbWVudC5jc3MoIFwiei1pbmRleFwiIClcblx0XHRcdFx0fSApO1xuXHRcdFx0XHQkLmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIsIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLCBmdW5jdGlvbiggaSwgcG9zICkge1xuXHRcdFx0XHRcdHByb3BzWyBwb3MgXSA9IGVsZW1lbnQuY3NzKCBwb3MgKTtcblx0XHRcdFx0XHRpZiAoIGlzTmFOKCBwYXJzZUludCggcHJvcHNbIHBvcyBdLCAxMCApICkgKSB7XG5cdFx0XHRcdFx0XHRwcm9wc1sgcG9zIF0gPSBcImF1dG9cIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdHJpZ2h0OiBcImF1dG9cIixcblx0XHRcdFx0XHRib3R0b206IFwiYXV0b1wiXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGVsZW1lbnQuY3NzKCBzaXplICk7XG5cblx0XHRcdHJldHVybiB3cmFwcGVyLmNzcyggcHJvcHMgKS5zaG93KCk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dmFyIGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdGlmICggZWxlbWVudC5wYXJlbnQoKS5pcyggXCIudWktZWZmZWN0cy13cmFwcGVyXCIgKSApIHtcblx0XHRcdFx0ZWxlbWVudC5wYXJlbnQoKS5yZXBsYWNlV2l0aCggZWxlbWVudCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzICM3NTk1IC0gRWxlbWVudHMgbG9zZSBmb2N1cyB3aGVuIHdyYXBwZWQuXG5cdFx0XHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdFx0XHQkKCBhY3RpdmUgKS50cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHR9XG5cdH0gKTtcbn1cblxuJC5leHRlbmQoICQuZWZmZWN0cywge1xuXHR2ZXJzaW9uOiBcIjEuMTIuMVwiLFxuXG5cdGRlZmluZTogZnVuY3Rpb24oIG5hbWUsIG1vZGUsIGVmZmVjdCApIHtcblx0XHRpZiAoICFlZmZlY3QgKSB7XG5cdFx0XHRlZmZlY3QgPSBtb2RlO1xuXHRcdFx0bW9kZSA9IFwiZWZmZWN0XCI7XG5cdFx0fVxuXG5cdFx0JC5lZmZlY3RzLmVmZmVjdFsgbmFtZSBdID0gZWZmZWN0O1xuXHRcdCQuZWZmZWN0cy5lZmZlY3RbIG5hbWUgXS5tb2RlID0gbW9kZTtcblxuXHRcdHJldHVybiBlZmZlY3Q7XG5cdH0sXG5cblx0c2NhbGVkRGltZW5zaW9uczogZnVuY3Rpb24oIGVsZW1lbnQsIHBlcmNlbnQsIGRpcmVjdGlvbiApIHtcblx0XHRpZiAoIHBlcmNlbnQgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0XHRvdXRlckhlaWdodDogMCxcblx0XHRcdFx0b3V0ZXJXaWR0aDogMFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHR2YXIgeCA9IGRpcmVjdGlvbiAhPT0gXCJob3Jpem9udGFsXCIgPyAoICggcGVyY2VudCB8fCAxMDAgKSAvIDEwMCApIDogMSxcblx0XHRcdHkgPSBkaXJlY3Rpb24gIT09IFwidmVydGljYWxcIiA/ICggKCBwZXJjZW50IHx8IDEwMCApIC8gMTAwICkgOiAxO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlaWdodDogZWxlbWVudC5oZWlnaHQoKSAqIHksXG5cdFx0XHR3aWR0aDogZWxlbWVudC53aWR0aCgpICogeCxcblx0XHRcdG91dGVySGVpZ2h0OiBlbGVtZW50Lm91dGVySGVpZ2h0KCkgKiB5LFxuXHRcdFx0b3V0ZXJXaWR0aDogZWxlbWVudC5vdXRlcldpZHRoKCkgKiB4XG5cdFx0fTtcblxuXHR9LFxuXG5cdGNsaXBUb0JveDogZnVuY3Rpb24oIGFuaW1hdGlvbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGFuaW1hdGlvbi5jbGlwLnJpZ2h0IC0gYW5pbWF0aW9uLmNsaXAubGVmdCxcblx0XHRcdGhlaWdodDogYW5pbWF0aW9uLmNsaXAuYm90dG9tIC0gYW5pbWF0aW9uLmNsaXAudG9wLFxuXHRcdFx0bGVmdDogYW5pbWF0aW9uLmNsaXAubGVmdCxcblx0XHRcdHRvcDogYW5pbWF0aW9uLmNsaXAudG9wXG5cdFx0fTtcblx0fSxcblxuXHQvLyBJbmplY3RzIHJlY2VudGx5IHF1ZXVlZCBmdW5jdGlvbnMgdG8gYmUgZmlyc3QgaW4gbGluZSAoYWZ0ZXIgXCJpbnByb2dyZXNzXCIpXG5cdHVuc2hpZnQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBxdWV1ZUxlbmd0aCwgY291bnQgKSB7XG5cdFx0dmFyIHF1ZXVlID0gZWxlbWVudC5xdWV1ZSgpO1xuXG5cdFx0aWYgKCBxdWV1ZUxlbmd0aCA+IDEgKSB7XG5cdFx0XHRxdWV1ZS5zcGxpY2UuYXBwbHkoIHF1ZXVlLFxuXHRcdFx0XHRbIDEsIDAgXS5jb25jYXQoIHF1ZXVlLnNwbGljZSggcXVldWVMZW5ndGgsIGNvdW50ICkgKSApO1xuXHRcdH1cblx0XHRlbGVtZW50LmRlcXVldWUoKTtcblx0fSxcblxuXHRzYXZlU3R5bGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlU3R5bGUsIGVsZW1lbnRbIDAgXS5zdHlsZS5jc3NUZXh0ICk7XG5cdH0sXG5cblx0cmVzdG9yZVN0eWxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRlbGVtZW50WyAwIF0uc3R5bGUuY3NzVGV4dCA9IGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlU3R5bGUgKSB8fCBcIlwiO1xuXHRcdGVsZW1lbnQucmVtb3ZlRGF0YSggZGF0YVNwYWNlU3R5bGUgKTtcblx0fSxcblxuXHRtb2RlOiBmdW5jdGlvbiggZWxlbWVudCwgbW9kZSApIHtcblx0XHR2YXIgaGlkZGVuID0gZWxlbWVudC5pcyggXCI6aGlkZGVuXCIgKTtcblxuXHRcdGlmICggbW9kZSA9PT0gXCJ0b2dnbGVcIiApIHtcblx0XHRcdG1vZGUgPSBoaWRkZW4gPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiA/IG1vZGUgPT09IFwiaGlkZVwiIDogbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0XHRtb2RlID0gXCJub25lXCI7XG5cdFx0fVxuXHRcdHJldHVybiBtb2RlO1xuXHR9LFxuXG5cdC8vIFRyYW5zbGF0ZXMgYSBbdG9wLGxlZnRdIGFycmF5IGludG8gYSBiYXNlbGluZSB2YWx1ZVxuXHRnZXRCYXNlbGluZTogZnVuY3Rpb24oIG9yaWdpbiwgb3JpZ2luYWwgKSB7XG5cdFx0dmFyIHksIHg7XG5cblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDAgXSApIHtcblx0XHRjYXNlIFwidG9wXCI6XG5cdFx0XHR5ID0gMDtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtaWRkbGVcIjpcblx0XHRcdHkgPSAwLjU7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYm90dG9tXCI6XG5cdFx0XHR5ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR5ID0gb3JpZ2luWyAwIF0gLyBvcmlnaW5hbC5oZWlnaHQ7XG5cdFx0fVxuXG5cdFx0c3dpdGNoICggb3JpZ2luWyAxIF0gKSB7XG5cdFx0Y2FzZSBcImxlZnRcIjpcblx0XHRcdHggPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImNlbnRlclwiOlxuXHRcdFx0eCA9IDAuNTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyaWdodFwiOlxuXHRcdFx0eCA9IDE7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0eCA9IG9yaWdpblsgMSBdIC8gb3JpZ2luYWwud2lkdGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IHgsXG5cdFx0XHR5OiB5XG5cdFx0fTtcblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgcGxhY2Vob2xkZXIgZWxlbWVudCBzbyB0aGF0IHRoZSBvcmlnaW5hbCBlbGVtZW50IGNhbiBiZSBtYWRlIGFic29sdXRlXG5cdGNyZWF0ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgcGxhY2Vob2xkZXIsXG5cdFx0XHRjc3NQb3NpdGlvbiA9IGVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdHBvc2l0aW9uID0gZWxlbWVudC5wb3NpdGlvbigpO1xuXG5cdFx0Ly8gTG9jayBpbiBtYXJnaW5zIGZpcnN0IHRvIGFjY291bnQgZm9yIGZvcm0gZWxlbWVudHMsIHdoaWNoXG5cdFx0Ly8gd2lsbCBjaGFuZ2UgbWFyZ2luIGlmIHlvdSBleHBsaWNpdGx5IHNldCBoZWlnaHRcblx0XHQvLyBzZWU6IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvSlpTTXQvMy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwNzM4MFxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaVxuXHRcdGVsZW1lbnQuY3NzKCB7XG5cdFx0XHRtYXJnaW5Ub3A6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblRvcFwiICksXG5cdFx0XHRtYXJnaW5Cb3R0b206IGVsZW1lbnQuY3NzKCBcIm1hcmdpbkJvdHRvbVwiICksXG5cdFx0XHRtYXJnaW5MZWZ0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdG1hcmdpblJpZ2h0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5SaWdodFwiIClcblx0XHR9IClcblx0XHQub3V0ZXJXaWR0aCggZWxlbWVudC5vdXRlcldpZHRoKCkgKVxuXHRcdC5vdXRlckhlaWdodCggZWxlbWVudC5vdXRlckhlaWdodCgpICk7XG5cblx0XHRpZiAoIC9eKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QoIGNzc1Bvc2l0aW9uICkgKSB7XG5cdFx0XHRjc3NQb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuXHRcdFx0cGxhY2Vob2xkZXIgPSAkKCBcIjxcIiArIGVsZW1lbnRbIDAgXS5ub2RlTmFtZSArIFwiPlwiICkuaW5zZXJ0QWZ0ZXIoIGVsZW1lbnQgKS5jc3MoIHtcblxuXHRcdFx0XHQvLyBDb252ZXJ0IGlubGluZSB0byBpbmxpbmUgYmxvY2sgdG8gYWNjb3VudCBmb3IgaW5saW5lIGVsZW1lbnRzXG5cdFx0XHRcdC8vIHRoYXQgdHVybiB0byBpbmxpbmUgYmxvY2sgYmFzZWQgb24gY29udGVudCAobGlrZSBpbWcpXG5cdFx0XHRcdGRpc3BsYXk6IC9eKGlubGluZXxydWJ5KS8udGVzdCggZWxlbWVudC5jc3MoIFwiZGlzcGxheVwiICkgKSA/XG5cdFx0XHRcdFx0XCJpbmxpbmUtYmxvY2tcIiA6XG5cdFx0XHRcdFx0XCJibG9ja1wiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuXG5cdFx0XHRcdC8vIE1hcmdpbnMgbmVlZCB0byBiZSBzZXQgdG8gYWNjb3VudCBmb3IgbWFyZ2luIGNvbGxhcHNlXG5cdFx0XHRcdG1hcmdpblRvcDogZWxlbWVudC5jc3MoIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiBlbGVtZW50LmNzcyggXCJtYXJnaW5Cb3R0b21cIiApLFxuXHRcdFx0XHRtYXJnaW5MZWZ0OiBlbGVtZW50LmNzcyggXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdFx0bWFyZ2luUmlnaHQ6IGVsZW1lbnQuY3NzKCBcIm1hcmdpblJpZ2h0XCIgKSxcblx0XHRcdFx0XCJmbG9hdFwiOiBlbGVtZW50LmNzcyggXCJmbG9hdFwiIClcblx0XHRcdH0gKVxuXHRcdFx0Lm91dGVyV2lkdGgoIGVsZW1lbnQub3V0ZXJXaWR0aCgpIClcblx0XHRcdC5vdXRlckhlaWdodCggZWxlbWVudC5vdXRlckhlaWdodCgpIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLXBsYWNlaG9sZGVyXCIgKTtcblxuXHRcdFx0ZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBcInBsYWNlaG9sZGVyXCIsIHBsYWNlaG9sZGVyICk7XG5cdFx0fVxuXG5cdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdHBvc2l0aW9uOiBjc3NQb3NpdGlvbixcblx0XHRcdGxlZnQ6IHBvc2l0aW9uLmxlZnQsXG5cdFx0XHR0b3A6IHBvc2l0aW9uLnRvcFxuXHRcdH0gKTtcblxuXHRcdHJldHVybiBwbGFjZWhvbGRlcjtcblx0fSxcblxuXHRyZW1vdmVQbGFjZWhvbGRlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIGRhdGFLZXkgPSBkYXRhU3BhY2UgKyBcInBsYWNlaG9sZGVyXCIsXG5cdFx0XHRcdHBsYWNlaG9sZGVyID0gZWxlbWVudC5kYXRhKCBkYXRhS2V5ICk7XG5cblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIucmVtb3ZlKCk7XG5cdFx0XHRlbGVtZW50LnJlbW92ZURhdGEoIGRhdGFLZXkgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gUmVtb3ZlcyBhIHBsYWNlaG9sZGVyIGlmIGl0IGV4aXN0cyBhbmQgcmVzdG9yZXNcblx0Ly8gcHJvcGVydGllcyB0aGF0IHdlcmUgbW9kaWZpZWQgZHVyaW5nIHBsYWNlaG9sZGVyIGNyZWF0aW9uXG5cdGNsZWFuVXA6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdCQuZWZmZWN0cy5yZXN0b3JlU3R5bGUoIGVsZW1lbnQgKTtcblx0XHQkLmVmZmVjdHMucmVtb3ZlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblx0fSxcblxuXHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiggZWxlbWVudCwgbGlzdCwgZmFjdG9yLCB2YWx1ZSApIHtcblx0XHR2YWx1ZSA9IHZhbHVlIHx8IHt9O1xuXHRcdCQuZWFjaCggbGlzdCwgZnVuY3Rpb24oIGksIHggKSB7XG5cdFx0XHR2YXIgdW5pdCA9IGVsZW1lbnQuY3NzVW5pdCggeCApO1xuXHRcdFx0aWYgKCB1bml0WyAwIF0gPiAwICkge1xuXHRcdFx0XHR2YWx1ZVsgeCBdID0gdW5pdFsgMCBdICogZmFjdG9yICsgdW5pdFsgMSBdO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cbn0gKTtcblxuLy8gUmV0dXJuIGFuIGVmZmVjdCBvcHRpb25zIG9iamVjdCBmb3IgdGhlIGdpdmVuIHBhcmFtZXRlcnM6XG5mdW5jdGlvbiBfbm9ybWFsaXplQXJndW1lbnRzKCBlZmZlY3QsIG9wdGlvbnMsIHNwZWVkLCBjYWxsYmFjayApIHtcblxuXHQvLyBBbGxvdyBwYXNzaW5nIGFsbCBvcHRpb25zIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcblx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIGVmZmVjdCApICkge1xuXHRcdG9wdGlvbnMgPSBlZmZlY3Q7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LmVmZmVjdDtcblx0fVxuXG5cdC8vIENvbnZlcnQgdG8gYW4gb2JqZWN0XG5cdGVmZmVjdCA9IHsgZWZmZWN0OiBlZmZlY3QgfTtcblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBudWxsLCAuLi4pXG5cdGlmICggb3B0aW9ucyA9PSBudWxsICkge1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIENhdGNoIChlZmZlY3QsIGNhbGxiYWNrKVxuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXHRcdGNhbGxiYWNrID0gb3B0aW9ucztcblx0XHRzcGVlZCA9IG51bGw7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gQ2F0Y2ggKGVmZmVjdCwgc3BlZWQsID8pXG5cdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgfHwgJC5meC5zcGVlZHNbIG9wdGlvbnMgXSApIHtcblx0XHRjYWxsYmFjayA9IHNwZWVkO1xuXHRcdHNwZWVkID0gb3B0aW9ucztcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBDYXRjaCAoZWZmZWN0LCBvcHRpb25zLCBjYWxsYmFjaylcblx0aWYgKCAkLmlzRnVuY3Rpb24oIHNwZWVkICkgKSB7XG5cdFx0Y2FsbGJhY2sgPSBzcGVlZDtcblx0XHRzcGVlZCA9IG51bGw7XG5cdH1cblxuXHQvLyBBZGQgb3B0aW9ucyB0byBlZmZlY3Rcblx0aWYgKCBvcHRpb25zICkge1xuXHRcdCQuZXh0ZW5kKCBlZmZlY3QsIG9wdGlvbnMgKTtcblx0fVxuXG5cdHNwZWVkID0gc3BlZWQgfHwgb3B0aW9ucy5kdXJhdGlvbjtcblx0ZWZmZWN0LmR1cmF0aW9uID0gJC5meC5vZmYgPyAwIDpcblx0XHR0eXBlb2Ygc3BlZWQgPT09IFwibnVtYmVyXCIgPyBzcGVlZCA6XG5cdFx0c3BlZWQgaW4gJC5meC5zcGVlZHMgPyAkLmZ4LnNwZWVkc1sgc3BlZWQgXSA6XG5cdFx0JC5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0ZWZmZWN0LmNvbXBsZXRlID0gY2FsbGJhY2sgfHwgb3B0aW9ucy5jb21wbGV0ZTtcblxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG5mdW5jdGlvbiBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkge1xuXG5cdC8vIFZhbGlkIHN0YW5kYXJkIHNwZWVkcyAobm90aGluZywgbnVtYmVyLCBuYW1lZCBzcGVlZClcblx0aWYgKCAhb3B0aW9uIHx8IHR5cGVvZiBvcHRpb24gPT09IFwibnVtYmVyXCIgfHwgJC5meC5zcGVlZHNbIG9wdGlvbiBdICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW52YWxpZCBzdHJpbmdzIC0gdHJlYXQgYXMgXCJub3JtYWxcIiBzcGVlZFxuXHRpZiAoIHR5cGVvZiBvcHRpb24gPT09IFwic3RyaW5nXCIgJiYgISQuZWZmZWN0cy5lZmZlY3RbIG9wdGlvbiBdICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gQ29tcGxldGUgY2FsbGJhY2tcblx0aWYgKCAkLmlzRnVuY3Rpb24oIG9wdGlvbiApICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gT3B0aW9ucyBoYXNoIChidXQgbm90IG5hbWluZyBhbiBlZmZlY3QpXG5cdGlmICggdHlwZW9mIG9wdGlvbiA9PT0gXCJvYmplY3RcIiAmJiAhb3B0aW9uLmVmZmVjdCApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIERpZG4ndCBtYXRjaCBhbnkgc3RhbmRhcmQgQVBJXG5cdHJldHVybiBmYWxzZTtcbn1cblxuJC5mbi5leHRlbmQoIHtcblx0ZWZmZWN0OiBmdW5jdGlvbiggLyogZWZmZWN0LCBvcHRpb25zLCBzcGVlZCwgY2FsbGJhY2sgKi8gKSB7XG5cdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSxcblx0XHRcdGVmZmVjdE1ldGhvZCA9ICQuZWZmZWN0cy5lZmZlY3RbIGFyZ3MuZWZmZWN0IF0sXG5cdFx0XHRkZWZhdWx0TW9kZSA9IGVmZmVjdE1ldGhvZC5tb2RlLFxuXHRcdFx0cXVldWUgPSBhcmdzLnF1ZXVlLFxuXHRcdFx0cXVldWVOYW1lID0gcXVldWUgfHwgXCJmeFwiLFxuXHRcdFx0Y29tcGxldGUgPSBhcmdzLmNvbXBsZXRlLFxuXHRcdFx0bW9kZSA9IGFyZ3MubW9kZSxcblx0XHRcdG1vZGVzID0gW10sXG5cdFx0XHRwcmVmaWx0ZXIgPSBmdW5jdGlvbiggbmV4dCApIHtcblx0XHRcdFx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdG5vcm1hbGl6ZWRNb2RlID0gJC5lZmZlY3RzLm1vZGUoIGVsLCBtb2RlICkgfHwgZGVmYXVsdE1vZGU7XG5cblx0XHRcdFx0Ly8gU2VudGluZWwgZm9yIGR1Y2stcHVuY2hpbmcgdGhlIDphbmltYXRlZCBwc3VlZG8tc2VsZWN0b3Jcblx0XHRcdFx0ZWwuZGF0YSggZGF0YVNwYWNlQW5pbWF0ZWQsIHRydWUgKTtcblxuXHRcdFx0XHQvLyBTYXZlIGVmZmVjdCBtb2RlIGZvciBsYXRlciB1c2UsXG5cdFx0XHRcdC8vIHdlIGNhbid0IGp1c3QgY2FsbCAkLmVmZmVjdHMubW9kZSBhZ2FpbiBsYXRlcixcblx0XHRcdFx0Ly8gYXMgdGhlIC5zaG93KCkgYmVsb3cgZGVzdHJveXMgdGhlIGluaXRpYWwgc3RhdGVcblx0XHRcdFx0bW9kZXMucHVzaCggbm9ybWFsaXplZE1vZGUgKTtcblxuXHRcdFx0XHQvLyBTZWUgJC51aUJhY2tDb21wYXQgaW5zaWRlIG9mIHJ1bigpIGZvciByZW1vdmFsIG9mIGRlZmF1bHRNb2RlIGluIDEuMTNcblx0XHRcdFx0aWYgKCBkZWZhdWx0TW9kZSAmJiAoIG5vcm1hbGl6ZWRNb2RlID09PSBcInNob3dcIiB8fFxuXHRcdFx0XHRcdFx0KCBub3JtYWxpemVkTW9kZSA9PT0gZGVmYXVsdE1vZGUgJiYgbm9ybWFsaXplZE1vZGUgPT09IFwiaGlkZVwiICkgKSApIHtcblx0XHRcdFx0XHRlbC5zaG93KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICFkZWZhdWx0TW9kZSB8fCBub3JtYWxpemVkTW9kZSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdFx0JC5lZmZlY3RzLnNhdmVTdHlsZSggZWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBuZXh0ICkgKSB7XG5cdFx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCAkLmZ4Lm9mZiB8fCAhZWZmZWN0TWV0aG9kICkge1xuXG5cdFx0XHQvLyBEZWxlZ2F0ZSB0byB0aGUgb3JpZ2luYWwgbWV0aG9kIChlLmcuLCAuc2hvdygpKSBpZiBwb3NzaWJsZVxuXHRcdFx0aWYgKCBtb2RlICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpc1sgbW9kZSBdKCBhcmdzLmR1cmF0aW9uLCBjb21wbGV0ZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZSApIHtcblx0XHRcdFx0XHRcdGNvbXBsZXRlLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBydW4oIG5leHQgKSB7XG5cdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKTtcblxuXHRcdFx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVEYXRhKCBkYXRhU3BhY2VBbmltYXRlZCApO1xuXG5cdFx0XHRcdCQuZWZmZWN0cy5jbGVhblVwKCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBhcmdzLm1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0XHRcdGVsZW0uaGlkZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBkb25lKCkge1xuXHRcdFx0XHRpZiAoICQuaXNGdW5jdGlvbiggY29tcGxldGUgKSApIHtcblx0XHRcdFx0XHRjb21wbGV0ZS5jYWxsKCBlbGVtWyAwIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBuZXh0ICkgKSB7XG5cdFx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1vZGUgb3B0aW9uIG9uIGEgcGVyIGVsZW1lbnQgYmFzaXMsXG5cdFx0XHQvLyBhcyB0b2dnbGUgY2FuIGJlIGVpdGhlciBzaG93IG9yIGhpZGUgZGVwZW5kaW5nIG9uIGVsZW1lbnQgc3RhdGVcblx0XHRcdGFyZ3MubW9kZSA9IG1vZGVzLnNoaWZ0KCk7XG5cblx0XHRcdGlmICggJC51aUJhY2tDb21wYXQgIT09IGZhbHNlICYmICFkZWZhdWx0TW9kZSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLmlzKCBcIjpoaWRkZW5cIiApID8gbW9kZSA9PT0gXCJoaWRlXCIgOiBtb2RlID09PSBcInNob3dcIiApIHtcblxuXHRcdFx0XHRcdC8vIENhbGwgdGhlIGNvcmUgbWV0aG9kIHRvIHRyYWNrIFwib2xkZGlzcGxheVwiIHByb3Blcmx5XG5cdFx0XHRcdFx0ZWxlbVsgbW9kZSBdKCk7XG5cdFx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVmZmVjdE1ldGhvZC5jYWxsKCBlbGVtWyAwIF0sIGFyZ3MsIGRvbmUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmdzLm1vZGUgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbCB0aGUgY29yZSBtZXRob2QgdG8gdHJhY2sgXCJvbGRkaXNwbGF5XCIgcHJvcGVybHlcblx0XHRcdFx0XHRlbGVtWyBtb2RlIF0oKTtcblx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWZmZWN0TWV0aG9kLmNhbGwoIGVsZW1bIDAgXSwgYXJncywgY2xlYW51cCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUnVuIHByZWZpbHRlciBvbiBhbGwgZWxlbWVudHMgZmlyc3QgdG8gZW5zdXJlIHRoYXRcblx0XHQvLyBhbnkgc2hvd2luZyBvciBoaWRpbmcgaGFwcGVucyBiZWZvcmUgcGxhY2Vob2xkZXIgY3JlYXRpb24sXG5cdFx0Ly8gd2hpY2ggZW5zdXJlcyB0aGF0IGFueSBsYXlvdXQgY2hhbmdlcyBhcmUgY29ycmVjdGx5IGNhcHR1cmVkLlxuXHRcdHJldHVybiBxdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBwcmVmaWx0ZXIgKS5lYWNoKCBydW4gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBxdWV1ZU5hbWUsIHByZWZpbHRlciApLnF1ZXVlKCBxdWV1ZU5hbWUsIHJ1biApO1xuXHR9LFxuXG5cdHNob3c6ICggZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJzaG93XCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLnNob3cgKSxcblxuXHRoaWRlOiAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwiaGlkZVwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lZmZlY3QuY2FsbCggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKSggJC5mbi5oaWRlICksXG5cblx0dG9nZ2xlOiAoIGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwidG9nZ2xlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApKCAkLmZuLnRvZ2dsZSApLFxuXG5cdGNzc1VuaXQ6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0dmFyIHN0eWxlID0gdGhpcy5jc3MoIGtleSApLFxuXHRcdFx0dmFsID0gW107XG5cblx0XHQkLmVhY2goIFsgXCJlbVwiLCBcInB4XCIsIFwiJVwiLCBcInB0XCIgXSwgZnVuY3Rpb24oIGksIHVuaXQgKSB7XG5cdFx0XHRpZiAoIHN0eWxlLmluZGV4T2YoIHVuaXQgKSA+IDAgKSB7XG5cdFx0XHRcdHZhbCA9IFsgcGFyc2VGbG9hdCggc3R5bGUgKSwgdW5pdCBdO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gdmFsO1xuXHR9LFxuXG5cdGNzc0NsaXA6IGZ1bmN0aW9uKCBjbGlwT2JqICkge1xuXHRcdGlmICggY2xpcE9iaiApIHtcblx0XHRcdHJldHVybiB0aGlzLmNzcyggXCJjbGlwXCIsIFwicmVjdChcIiArIGNsaXBPYmoudG9wICsgXCJweCBcIiArIGNsaXBPYmoucmlnaHQgKyBcInB4IFwiICtcblx0XHRcdFx0Y2xpcE9iai5ib3R0b20gKyBcInB4IFwiICsgY2xpcE9iai5sZWZ0ICsgXCJweClcIiApO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyc2VDbGlwKCB0aGlzLmNzcyggXCJjbGlwXCIgKSwgdGhpcyApO1xuXHR9LFxuXG5cdHRyYW5zZmVyOiBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0XHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRcdHRhcmdldCA9ICQoIG9wdGlvbnMudG8gKSxcblx0XHRcdHRhcmdldEZpeGVkID0gdGFyZ2V0LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIixcblx0XHRcdGJvZHkgPSAkKCBcImJvZHlcIiApLFxuXHRcdFx0Zml4VG9wID0gdGFyZ2V0Rml4ZWQgPyBib2R5LnNjcm9sbFRvcCgpIDogMCxcblx0XHRcdGZpeExlZnQgPSB0YXJnZXRGaXhlZCA/IGJvZHkuc2Nyb2xsTGVmdCgpIDogMCxcblx0XHRcdGVuZFBvc2l0aW9uID0gdGFyZ2V0Lm9mZnNldCgpLFxuXHRcdFx0YW5pbWF0aW9uID0ge1xuXHRcdFx0XHR0b3A6IGVuZFBvc2l0aW9uLnRvcCAtIGZpeFRvcCxcblx0XHRcdFx0bGVmdDogZW5kUG9zaXRpb24ubGVmdCAtIGZpeExlZnQsXG5cdFx0XHRcdGhlaWdodDogdGFyZ2V0LmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdHdpZHRoOiB0YXJnZXQuaW5uZXJXaWR0aCgpXG5cdFx0XHR9LFxuXHRcdFx0c3RhcnRQb3NpdGlvbiA9IGVsZW1lbnQub2Zmc2V0KCksXG5cdFx0XHR0cmFuc2ZlciA9ICQoIFwiPGRpdiBjbGFzcz0ndWktZWZmZWN0cy10cmFuc2Zlcic+PC9kaXY+XCIgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIFwiYm9keVwiIClcblx0XHRcdFx0LmFkZENsYXNzKCBvcHRpb25zLmNsYXNzTmFtZSApXG5cdFx0XHRcdC5jc3MoIHtcblx0XHRcdFx0XHR0b3A6IHN0YXJ0UG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0XHRcdGxlZnQ6IHN0YXJ0UG9zaXRpb24ubGVmdCAtIGZpeExlZnQsXG5cdFx0XHRcdFx0aGVpZ2h0OiBlbGVtZW50LmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdFx0d2lkdGg6IGVsZW1lbnQuaW5uZXJXaWR0aCgpLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiB0YXJnZXRGaXhlZCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIlxuXHRcdFx0XHR9IClcblx0XHRcdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRyYW5zZmVyLnJlbW92ZSgpO1xuXHRcdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBkb25lICkgKSB7XG5cdFx0XHRcdFx0XHRkb25lKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gcGFyc2VDbGlwKCBzdHIsIGVsZW1lbnQgKSB7XG5cdFx0dmFyIG91dGVyV2lkdGggPSBlbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdG91dGVySGVpZ2h0ID0gZWxlbWVudC5vdXRlckhlaWdodCgpLFxuXHRcdFx0Y2xpcFJlZ2V4ID0gL15yZWN0XFwoKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKSw/XFxzKigtP1xcZCpcXC4/XFxkKnB4fC0/XFxkKyV8YXV0byksP1xccyooLT9cXGQqXFwuP1xcZCpweHwtP1xcZCslfGF1dG8pLD9cXHMqKC0/XFxkKlxcLj9cXGQqcHh8LT9cXGQrJXxhdXRvKVxcKSQvLFxuXHRcdFx0dmFsdWVzID0gY2xpcFJlZ2V4LmV4ZWMoIHN0ciApIHx8IFsgXCJcIiwgMCwgb3V0ZXJXaWR0aCwgb3V0ZXJIZWlnaHQsIDAgXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBhcnNlRmxvYXQoIHZhbHVlc1sgMSBdICkgfHwgMCxcblx0XHRcdHJpZ2h0OiB2YWx1ZXNbIDIgXSA9PT0gXCJhdXRvXCIgPyBvdXRlcldpZHRoIDogcGFyc2VGbG9hdCggdmFsdWVzWyAyIF0gKSxcblx0XHRcdGJvdHRvbTogdmFsdWVzWyAzIF0gPT09IFwiYXV0b1wiID8gb3V0ZXJIZWlnaHQgOiBwYXJzZUZsb2F0KCB2YWx1ZXNbIDMgXSApLFxuXHRcdFx0bGVmdDogcGFyc2VGbG9hdCggdmFsdWVzWyA0IF0gKSB8fCAwXG5cdFx0fTtcbn1cblxuJC5meC5zdGVwLmNsaXAgPSBmdW5jdGlvbiggZnggKSB7XG5cdGlmICggIWZ4LmNsaXBJbml0ICkge1xuXHRcdGZ4LnN0YXJ0ID0gJCggZnguZWxlbSApLmNzc0NsaXAoKTtcblx0XHRpZiAoIHR5cGVvZiBmeC5lbmQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmeC5lbmQgPSBwYXJzZUNsaXAoIGZ4LmVuZCwgZnguZWxlbSApO1xuXHRcdH1cblx0XHRmeC5jbGlwSW5pdCA9IHRydWU7XG5cdH1cblxuXHQkKCBmeC5lbGVtICkuY3NzQ2xpcCgge1xuXHRcdHRvcDogZngucG9zICogKCBmeC5lbmQudG9wIC0gZnguc3RhcnQudG9wICkgKyBmeC5zdGFydC50b3AsXG5cdFx0cmlnaHQ6IGZ4LnBvcyAqICggZnguZW5kLnJpZ2h0IC0gZnguc3RhcnQucmlnaHQgKSArIGZ4LnN0YXJ0LnJpZ2h0LFxuXHRcdGJvdHRvbTogZngucG9zICogKCBmeC5lbmQuYm90dG9tIC0gZnguc3RhcnQuYm90dG9tICkgKyBmeC5zdGFydC5ib3R0b20sXG5cdFx0bGVmdDogZngucG9zICogKCBmeC5lbmQubGVmdCAtIGZ4LnN0YXJ0LmxlZnQgKSArIGZ4LnN0YXJ0LmxlZnRcblx0fSApO1xufTtcblxufSApKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRUFTSU5HICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuKCBmdW5jdGlvbigpIHtcblxuLy8gQmFzZWQgb24gZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbnZhciBiYXNlRWFzaW5ncyA9IHt9O1xuXG4kLmVhY2goIFsgXCJRdWFkXCIsIFwiQ3ViaWNcIiwgXCJRdWFydFwiLCBcIlF1aW50XCIsIFwiRXhwb1wiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRiYXNlRWFzaW5nc1sgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIE1hdGgucG93KCBwLCBpICsgMiApO1xuXHR9O1xufSApO1xuXG4kLmV4dGVuZCggYmFzZUVhc2luZ3MsIHtcblx0U2luZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgLyAyICk7XG5cdH0sXG5cdENpcmM6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gTWF0aC5zcXJ0KCAxIC0gcCAqIHAgKTtcblx0fSxcblx0RWxhc3RpYzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPT09IDAgfHwgcCA9PT0gMSA/IHAgOlxuXHRcdFx0LU1hdGgucG93KCAyLCA4ICogKCBwIC0gMSApICkgKiBNYXRoLnNpbiggKCAoIHAgLSAxICkgKiA4MCAtIDcuNSApICogTWF0aC5QSSAvIDE1ICk7XG5cdH0sXG5cdEJhY2s6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwICogcCAqICggMyAqIHAgLSAyICk7XG5cdH0sXG5cdEJvdW5jZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0dmFyIHBvdzIsXG5cdFx0XHRib3VuY2UgPSA0O1xuXG5cdFx0d2hpbGUgKCBwIDwgKCAoIHBvdzIgPSBNYXRoLnBvdyggMiwgLS1ib3VuY2UgKSApIC0gMSApIC8gMTEgKSB7fVxuXHRcdHJldHVybiAxIC8gTWF0aC5wb3coIDQsIDMgLSBib3VuY2UgKSAtIDcuNTYyNSAqIE1hdGgucG93KCAoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSBwLCAyICk7XG5cdH1cbn0gKTtcblxuJC5lYWNoKCBiYXNlRWFzaW5ncywgZnVuY3Rpb24oIG5hbWUsIGVhc2VJbiApIHtcblx0JC5lYXNpbmdbIFwiZWFzZUluXCIgKyBuYW1lIF0gPSBlYXNlSW47XG5cdCQuZWFzaW5nWyBcImVhc2VPdXRcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gZWFzZUluKCAxIC0gcCApO1xuXHR9O1xuXHQkLmVhc2luZ1sgXCJlYXNlSW5PdXRcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwIDwgMC41ID9cblx0XHRcdGVhc2VJbiggcCAqIDIgKSAvIDIgOlxuXHRcdFx0MSAtIGVhc2VJbiggcCAqIC0yICsgMiApIC8gMjtcblx0fTtcbn0gKTtcblxufSApKCk7XG5cbnJldHVybiAkLmVmZmVjdHM7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCbGluZCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogQmxpbmQgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogQmxpbmRzIHRoZSBlbGVtZW50LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2JsaW5kLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJibGluZFwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBtYXAgPSB7XG5cdFx0XHR1cDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHR2ZXJ0aWNhbDogWyBcImJvdHRvbVwiLCBcInRvcFwiIF0sXG5cdFx0XHRkb3duOiBbIFwidG9wXCIsIFwiYm90dG9tXCIgXSxcblx0XHRcdGxlZnQ6IFsgXCJyaWdodFwiLCBcImxlZnRcIiBdLFxuXHRcdFx0aG9yaXpvbnRhbDogWyBcInJpZ2h0XCIsIFwibGVmdFwiIF0sXG5cdFx0XHRyaWdodDogWyBcImxlZnRcIiwgXCJyaWdodFwiIF1cblx0XHR9LFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJ1cFwiLFxuXHRcdHN0YXJ0ID0gZWxlbWVudC5jc3NDbGlwKCksXG5cdFx0YW5pbWF0ZSA9IHsgY2xpcDogJC5leHRlbmQoIHt9LCBzdGFydCApIH0sXG5cdFx0cGxhY2Vob2xkZXIgPSAkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRhbmltYXRlLmNsaXBbIG1hcFsgZGlyZWN0aW9uIF1bIDAgXSBdID0gYW5pbWF0ZS5jbGlwWyBtYXBbIGRpcmVjdGlvbiBdWyAxIF0gXTtcblxuXHRpZiAoIG9wdGlvbnMubW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0ZWxlbWVudC5jc3NDbGlwKCBhbmltYXRlLmNsaXAgKTtcblx0XHRpZiAoIHBsYWNlaG9sZGVyICkge1xuXHRcdFx0cGxhY2Vob2xkZXIuY3NzKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRlICkgKTtcblx0XHR9XG5cblx0XHRhbmltYXRlLmNsaXAgPSBzdGFydDtcblx0fVxuXG5cdGlmICggcGxhY2Vob2xkZXIgKSB7XG5cdFx0cGxhY2Vob2xkZXIuYW5pbWF0ZSggJC5lZmZlY3RzLmNsaXBUb0JveCggYW5pbWF0ZSApLCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApO1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCBhbmltYXRlLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgQm91bmNlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBCb3VuY2UgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogQm91bmNlcyBhbiBlbGVtZW50IGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IG4gdGltZXMuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYm91bmNlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJib3VuY2VcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciB1cEFuaW0sIGRvd25BbmltLCByZWZWYWx1ZSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXG5cdFx0Ly8gRGVmYXVsdHM6XG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRoaWRlID0gbW9kZSA9PT0gXCJoaWRlXCIsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwidXBcIixcblx0XHRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UsXG5cdFx0dGltZXMgPSBvcHRpb25zLnRpbWVzIHx8IDUsXG5cblx0XHQvLyBOdW1iZXIgb2YgaW50ZXJuYWwgYW5pbWF0aW9uc1xuXHRcdGFuaW1zID0gdGltZXMgKiAyICsgKCBzaG93IHx8IGhpZGUgPyAxIDogMCApLFxuXHRcdHNwZWVkID0gb3B0aW9ucy5kdXJhdGlvbiAvIGFuaW1zLFxuXHRcdGVhc2luZyA9IG9wdGlvbnMuZWFzaW5nLFxuXG5cdFx0Ly8gVXRpbGl0eTpcblx0XHRyZWYgPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRtb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSxcblx0XHRpID0gMCxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRyZWZWYWx1ZSA9IGVsZW1lbnQuY3NzKCByZWYgKTtcblxuXHQvLyBEZWZhdWx0IGRpc3RhbmNlIGZvciB0aGUgQklHR0VTVCBib3VuY2UgaXMgdGhlIG91dGVyIERpc3RhbmNlIC8gM1xuXHRpZiAoICFkaXN0YW5jZSApIHtcblx0XHRkaXN0YW5jZSA9IGVsZW1lbnRbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oKSAvIDM7XG5cdH1cblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZG93bkFuaW0gPSB7IG9wYWNpdHk6IDEgfTtcblx0XHRkb3duQW5pbVsgcmVmIF0gPSByZWZWYWx1ZTtcblxuXHRcdC8vIElmIHdlIGFyZSBzaG93aW5nLCBmb3JjZSBvcGFjaXR5IDAgYW5kIHNldCB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXHRcdC8vIHRoZW4gZG8gdGhlIFwiZmlyc3RcIiBhbmltYXRpb25cblx0XHRlbGVtZW50XG5cdFx0XHQuY3NzKCBcIm9wYWNpdHlcIiwgMCApXG5cdFx0XHQuY3NzKCByZWYsIG1vdGlvbiA/IC1kaXN0YW5jZSAqIDIgOiBkaXN0YW5jZSAqIDIgKVxuXHRcdFx0LmFuaW1hdGUoIGRvd25BbmltLCBzcGVlZCwgZWFzaW5nICk7XG5cdH1cblxuXHQvLyBTdGFydCBhdCB0aGUgc21hbGxlc3QgZGlzdGFuY2UgaWYgd2UgYXJlIGhpZGluZ1xuXHRpZiAoIGhpZGUgKSB7XG5cdFx0ZGlzdGFuY2UgPSBkaXN0YW5jZSAvIE1hdGgucG93KCAyLCB0aW1lcyAtIDEgKTtcblx0fVxuXG5cdGRvd25BbmltID0ge307XG5cdGRvd25BbmltWyByZWYgXSA9IHJlZlZhbHVlO1xuXG5cdC8vIEJvdW5jZXMgdXAvZG93bi9sZWZ0L3JpZ2h0IHRoZW4gYmFjayB0byAwIC0tIHRpbWVzICogMiBhbmltYXRpb25zIGhhcHBlbiBoZXJlXG5cdGZvciAoIDsgaSA8IHRpbWVzOyBpKysgKSB7XG5cdFx0dXBBbmltID0ge307XG5cdFx0dXBBbmltWyByZWYgXSA9ICggbW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZTtcblxuXHRcdGVsZW1lbnRcblx0XHRcdC5hbmltYXRlKCB1cEFuaW0sIHNwZWVkLCBlYXNpbmcgKVxuXHRcdFx0LmFuaW1hdGUoIGRvd25BbmltLCBzcGVlZCwgZWFzaW5nICk7XG5cblx0XHRkaXN0YW5jZSA9IGhpZGUgPyBkaXN0YW5jZSAqIDIgOiBkaXN0YW5jZSAvIDI7XG5cdH1cblxuXHQvLyBMYXN0IEJvdW5jZSB3aGVuIEhpZGluZ1xuXHRpZiAoIGhpZGUgKSB7XG5cdFx0dXBBbmltID0geyBvcGFjaXR5OiAwIH07XG5cdFx0dXBBbmltWyByZWYgXSA9ICggbW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZTtcblxuXHRcdGVsZW1lbnQuYW5pbWF0ZSggdXBBbmltLCBzcGVlZCwgZWFzaW5nICk7XG5cdH1cblxuXHRlbGVtZW50LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCBhbmltcyArIDEgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIENsaXAgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IENsaXAgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogQ2xpcHMgdGhlIGVsZW1lbnQgb24gYW5kIG9mZiBsaWtlIGFuIG9sZCBUVi5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jbGlwLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJjbGlwXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblx0dmFyIHN0YXJ0LFxuXHRcdGFuaW1hdGUgPSB7fSxcblx0XHRlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwidmVydGljYWxcIixcblx0XHRib3RoID0gZGlyZWN0aW9uID09PSBcImJvdGhcIixcblx0XHRob3Jpem9udGFsID0gYm90aCB8fCBkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiLFxuXHRcdHZlcnRpY2FsID0gYm90aCB8fCBkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIjtcblxuXHRzdGFydCA9IGVsZW1lbnQuY3NzQ2xpcCgpO1xuXHRhbmltYXRlLmNsaXAgPSB7XG5cdFx0dG9wOiB2ZXJ0aWNhbCA/ICggc3RhcnQuYm90dG9tIC0gc3RhcnQudG9wICkgLyAyIDogc3RhcnQudG9wLFxuXHRcdHJpZ2h0OiBob3Jpem9udGFsID8gKCBzdGFydC5yaWdodCAtIHN0YXJ0LmxlZnQgKSAvIDIgOiBzdGFydC5yaWdodCxcblx0XHRib3R0b206IHZlcnRpY2FsID8gKCBzdGFydC5ib3R0b20gLSBzdGFydC50b3AgKSAvIDIgOiBzdGFydC5ib3R0b20sXG5cdFx0bGVmdDogaG9yaXpvbnRhbCA/ICggc3RhcnQucmlnaHQgLSBzdGFydC5sZWZ0ICkgLyAyIDogc3RhcnQubGVmdFxuXHR9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdGlmICggb3B0aW9ucy5tb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbGVtZW50LmNzc0NsaXAoIGFuaW1hdGUuY2xpcCApO1xuXHRcdGFuaW1hdGUuY2xpcCA9IHN0YXJ0O1xuXHR9XG5cblx0ZWxlbWVudC5hbmltYXRlKCBhbmltYXRlLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSApO1xuXG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBEcm9wIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBEcm9wIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IE1vdmVzIGFuIGVsZW1lbnQgaW4gb25lIGRpcmVjdGlvbiBhbmQgaGlkZXMgaXQgYXQgdGhlIHNhbWUgdGltZS5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kcm9wLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJkcm9wXCIsIFwiaGlkZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHR2YXIgZGlzdGFuY2UsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRyZWYgPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRtb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSA/IFwiLT1cIiA6IFwiKz1cIixcblx0XHRvcHBvc2l0ZU1vdGlvbiA9ICggbW90aW9uID09PSBcIis9XCIgKSA/IFwiLT1cIiA6IFwiKz1cIixcblx0XHRhbmltYXRpb24gPSB7XG5cdFx0XHRvcGFjaXR5OiAwXG5cdFx0fTtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UgfHxcblx0XHRlbGVtZW50WyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCB0cnVlICkgLyAyO1xuXG5cdGFuaW1hdGlvblsgcmVmIF0gPSBtb3Rpb24gKyBkaXN0YW5jZTtcblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZWxlbWVudC5jc3MoIGFuaW1hdGlvbiApO1xuXG5cdFx0YW5pbWF0aW9uWyByZWYgXSA9IG9wcG9zaXRlTW90aW9uICsgZGlzdGFuY2U7XG5cdFx0YW5pbWF0aW9uLm9wYWNpdHkgPSAxO1xuXHR9XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBkb25lXG5cdH0gKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEV4cGxvZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEV4cGxvZGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vIGpzY3M6ZGlzYWJsZSBtYXhpbXVtTGluZUxlbmd0aFxuLy8+PmRlc2NyaXB0aW9uOiBFeHBsb2RlcyBhbiBlbGVtZW50IGluIGFsbCBkaXJlY3Rpb25zIGludG8gbiBwaWVjZXMuIEltcGxvZGVzIGFuIGVsZW1lbnQgdG8gaXRzIG9yaWdpbmFsIHdob2xlbmVzcy5cbi8vIGpzY3M6ZW5hYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZXhwbG9kZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwiZXhwbG9kZVwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0dmFyIGksIGosIGxlZnQsIHRvcCwgbXgsIG15LFxuXHRcdHJvd3MgPSBvcHRpb25zLnBpZWNlcyA/IE1hdGgucm91bmQoIE1hdGguc3FydCggb3B0aW9ucy5waWVjZXMgKSApIDogMyxcblx0XHRjZWxscyA9IHJvd3MsXG5cdFx0ZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblxuXHRcdC8vIFNob3cgYW5kIHRoZW4gdmlzaWJpbGl0eTpoaWRkZW4gdGhlIGVsZW1lbnQgYmVmb3JlIGNhbGN1bGF0aW5nIG9mZnNldFxuXHRcdG9mZnNldCA9IGVsZW1lbnQuc2hvdygpLmNzcyggXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIgKS5vZmZzZXQoKSxcblxuXHRcdC8vIFdpZHRoIGFuZCBoZWlnaHQgb2YgYSBwaWVjZVxuXHRcdHdpZHRoID0gTWF0aC5jZWlsKCBlbGVtZW50Lm91dGVyV2lkdGgoKSAvIGNlbGxzICksXG5cdFx0aGVpZ2h0ID0gTWF0aC5jZWlsKCBlbGVtZW50Lm91dGVySGVpZ2h0KCkgLyByb3dzICksXG5cdFx0cGllY2VzID0gW107XG5cblx0Ly8gQ2hpbGRyZW4gYW5pbWF0ZSBjb21wbGV0ZTpcblx0ZnVuY3Rpb24gY2hpbGRDb21wbGV0ZSgpIHtcblx0XHRwaWVjZXMucHVzaCggdGhpcyApO1xuXHRcdGlmICggcGllY2VzLmxlbmd0aCA9PT0gcm93cyAqIGNlbGxzICkge1xuXHRcdFx0YW5pbUNvbXBsZXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2xvbmUgdGhlIGVsZW1lbnQgZm9yIGVhY2ggcm93IGFuZCBjZWxsLlxuXHRmb3IgKCBpID0gMDsgaSA8IHJvd3M7IGkrKyApIHsgLy8gPT09PlxuXHRcdHRvcCA9IG9mZnNldC50b3AgKyBpICogaGVpZ2h0O1xuXHRcdG15ID0gaSAtICggcm93cyAtIDEgKSAvIDI7XG5cblx0XHRmb3IgKCBqID0gMDsgaiA8IGNlbGxzOyBqKysgKSB7IC8vIHx8fFxuXHRcdFx0bGVmdCA9IG9mZnNldC5sZWZ0ICsgaiAqIHdpZHRoO1xuXHRcdFx0bXggPSBqIC0gKCBjZWxscyAtIDEgKSAvIDI7XG5cblx0XHRcdC8vIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBub3cgaGlkZGVuIG1haW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgYWJzb2x1dGUgcG9zaXRpb25lZFxuXHRcdFx0Ly8gd2l0aGluIGEgd3JhcHBlciBkaXYgb2ZmIHRoZSAtbGVmdCBhbmQgLXRvcCBlcXVhbCB0byBzaXplIG9mIG91ciBwaWVjZXNcblx0XHRcdGVsZW1lbnRcblx0XHRcdFx0LmNsb25lKClcblx0XHRcdFx0LmFwcGVuZFRvKCBcImJvZHlcIiApXG5cdFx0XHRcdC53cmFwKCBcIjxkaXY+PC9kaXY+XCIgKVxuXHRcdFx0XHQuY3NzKCB7XG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR2aXNpYmlsaXR5OiBcInZpc2libGVcIixcblx0XHRcdFx0XHRsZWZ0OiAtaiAqIHdpZHRoLFxuXHRcdFx0XHRcdHRvcDogLWkgKiBoZWlnaHRcblx0XHRcdFx0fSApXG5cblx0XHRcdFx0Ly8gU2VsZWN0IHRoZSB3cmFwcGVyIC0gbWFrZSBpdCBvdmVyZmxvdzogaGlkZGVuIGFuZCBhYnNvbHV0ZSBwb3NpdGlvbmVkIGJhc2VkIG9uXG5cdFx0XHRcdC8vIHdoZXJlIHRoZSBvcmlnaW5hbCB3YXMgbG9jYXRlZCArbGVmdCBhbmQgK3RvcCBlcXVhbCB0byB0aGUgc2l6ZSBvZiBwaWVjZXNcblx0XHRcdFx0LnBhcmVudCgpXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWVmZmVjdHMtZXhwbG9kZVwiIClcblx0XHRcdFx0XHQuY3NzKCB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG5cdFx0XHRcdFx0XHR3aWR0aDogd2lkdGgsXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IGhlaWdodCxcblx0XHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAoIHNob3cgPyBteCAqIHdpZHRoIDogMCApLFxuXHRcdFx0XHRcdFx0dG9wOiB0b3AgKyAoIHNob3cgPyBteSAqIGhlaWdodCA6IDAgKSxcblx0XHRcdFx0XHRcdG9wYWNpdHk6IHNob3cgPyAwIDogMVxuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHRcdC5hbmltYXRlKCB7XG5cdFx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgKCBzaG93ID8gMCA6IG14ICogd2lkdGggKSxcblx0XHRcdFx0XHRcdHRvcDogdG9wICsgKCBzaG93ID8gMCA6IG15ICogaGVpZ2h0ICksXG5cdFx0XHRcdFx0XHRvcGFjaXR5OiBzaG93ID8gMSA6IDBcblx0XHRcdFx0XHR9LCBvcHRpb25zLmR1cmF0aW9uIHx8IDUwMCwgb3B0aW9ucy5lYXNpbmcsIGNoaWxkQ29tcGxldGUgKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhbmltQ29tcGxldGUoKSB7XG5cdFx0ZWxlbWVudC5jc3MoIHtcblx0XHRcdHZpc2liaWxpdHk6IFwidmlzaWJsZVwiXG5cdFx0fSApO1xuXHRcdCQoIHBpZWNlcyApLnJlbW92ZSgpO1xuXHRcdGRvbmUoKTtcblx0fVxufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRmFkZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRmFkZSBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBGYWRlcyB0aGUgZWxlbWVudC5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9mYWRlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJmYWRlXCIsIFwidG9nZ2xlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgc2hvdyA9IG9wdGlvbnMubW9kZSA9PT0gXCJzaG93XCI7XG5cblx0JCggdGhpcyApXG5cdFx0LmNzcyggXCJvcGFjaXR5XCIsIHNob3cgPyAwIDogMSApXG5cdFx0LmFuaW1hdGUoIHtcblx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdH0sIHtcblx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRcdGNvbXBsZXRlOiBkb25lXG5cdFx0fSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRm9sZCAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogRm9sZCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBGb2xkcyBhbiBlbGVtZW50IGZpcnN0IGhvcml6b250YWxseSBhbmQgdGhlbiB2ZXJ0aWNhbGx5LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZvbGQtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImZvbGRcIiwgXCJoaWRlXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaXplID0gb3B0aW9ucy5zaXplIHx8IDE1LFxuXHRcdHBlcmNlbnQgPSAvKFswLTldKyklLy5leGVjKCBzaXplICksXG5cdFx0aG9yaXpGaXJzdCA9ICEhb3B0aW9ucy5ob3JpekZpcnN0LFxuXHRcdHJlZiA9IGhvcml6Rmlyc3QgPyBbIFwicmlnaHRcIiwgXCJib3R0b21cIiBdIDogWyBcImJvdHRvbVwiLCBcInJpZ2h0XCIgXSxcblx0XHRkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gLyAyLFxuXG5cdFx0cGxhY2Vob2xkZXIgPSAkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKSxcblxuXHRcdHN0YXJ0ID0gZWxlbWVudC5jc3NDbGlwKCksXG5cdFx0YW5pbWF0aW9uMSA9IHsgY2xpcDogJC5leHRlbmQoIHt9LCBzdGFydCApIH0sXG5cdFx0YW5pbWF0aW9uMiA9IHsgY2xpcDogJC5leHRlbmQoIHt9LCBzdGFydCApIH0sXG5cblx0XHRkaXN0YW5jZSA9IFsgc3RhcnRbIHJlZlsgMCBdIF0sIHN0YXJ0WyByZWZbIDEgXSBdIF0sXG5cblx0XHRxdWV1ZWxlbiA9IGVsZW1lbnQucXVldWUoKS5sZW5ndGg7XG5cblx0aWYgKCBwZXJjZW50ICkge1xuXHRcdHNpemUgPSBwYXJzZUludCggcGVyY2VudFsgMSBdLCAxMCApIC8gMTAwICogZGlzdGFuY2VbIGhpZGUgPyAwIDogMSBdO1xuXHR9XG5cdGFuaW1hdGlvbjEuY2xpcFsgcmVmWyAwIF0gXSA9IHNpemU7XG5cdGFuaW1hdGlvbjIuY2xpcFsgcmVmWyAwIF0gXSA9IHNpemU7XG5cdGFuaW1hdGlvbjIuY2xpcFsgcmVmWyAxIF0gXSA9IDA7XG5cblx0aWYgKCBzaG93ICkge1xuXHRcdGVsZW1lbnQuY3NzQ2xpcCggYW5pbWF0aW9uMi5jbGlwICk7XG5cdFx0aWYgKCBwbGFjZWhvbGRlciApIHtcblx0XHRcdHBsYWNlaG9sZGVyLmNzcyggJC5lZmZlY3RzLmNsaXBUb0JveCggYW5pbWF0aW9uMiApICk7XG5cdFx0fVxuXG5cdFx0YW5pbWF0aW9uMi5jbGlwID0gc3RhcnQ7XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsZW1lbnRcblx0XHQucXVldWUoIGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0aWYgKCBwbGFjZWhvbGRlciApIHtcblx0XHRcdFx0cGxhY2Vob2xkZXJcblx0XHRcdFx0XHQuYW5pbWF0ZSggJC5lZmZlY3RzLmNsaXBUb0JveCggYW5pbWF0aW9uMSApLCBkdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcgKVxuXHRcdFx0XHRcdC5hbmltYXRlKCAkLmVmZmVjdHMuY2xpcFRvQm94KCBhbmltYXRpb24yICksIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXh0KCk7XG5cdFx0fSApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjIsIGR1cmF0aW9uLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCA0ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBIaWdobGlnaHQgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IEhpZ2hsaWdodCBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBIaWdobGlnaHRzIHRoZSBiYWNrZ3JvdW5kIG9mIGFuIGVsZW1lbnQgaW4gYSBkZWZpbmVkIGNvbG9yIGZvciBhIGN1c3RvbSBkdXJhdGlvbi5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9oaWdobGlnaHQtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcImhpZ2hsaWdodFwiLCBcInNob3dcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBlbGVtZW50ID0gJCggdGhpcyApLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdGJhY2tncm91bmRDb2xvcjogZWxlbWVudC5jc3MoIFwiYmFja2dyb3VuZENvbG9yXCIgKVxuXHRcdH07XG5cblx0aWYgKCBvcHRpb25zLm1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdGFuaW1hdGlvbi5vcGFjaXR5ID0gMDtcblx0fVxuXG5cdCQuZWZmZWN0cy5zYXZlU3R5bGUoIGVsZW1lbnQgKTtcblxuXHRlbGVtZW50XG5cdFx0LmNzcygge1xuXHRcdFx0YmFja2dyb3VuZEltYWdlOiBcIm5vbmVcIixcblx0XHRcdGJhY2tncm91bmRDb2xvcjogb3B0aW9ucy5jb2xvciB8fCBcIiNmZmZmOTlcIlxuXHRcdH0gKVxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRcdGNvbXBsZXRlOiBkb25lXG5cdFx0fSApO1xufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVmZiAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogUHVmZiBFZmZlY3Rcbi8vPj5ncm91cDogRWZmZWN0c1xuLy8+PmRlc2NyaXB0aW9uOiBDcmVhdGVzIGEgcHVmZiBlZmZlY3QgYnkgc2NhbGluZyB0aGUgZWxlbWVudCB1cCBhbmQgaGlkaW5nIGl0IGF0IHRoZSBzYW1lIHRpbWUuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHVmZi1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIixcblx0XHRcdFwiLi9lZmZlY3Qtc2NhbGVcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwicHVmZlwiLCBcImhpZGVcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBuZXdPcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHt9LCBvcHRpb25zLCB7XG5cdFx0ZmFkZTogdHJ1ZSxcblx0XHRwZXJjZW50OiBwYXJzZUludCggb3B0aW9ucy5wZXJjZW50LCAxMCApIHx8IDE1MFxuXHR9ICk7XG5cblx0JC5lZmZlY3RzLmVmZmVjdC5zY2FsZS5jYWxsKCB0aGlzLCBuZXdPcHRpb25zLCBkb25lICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBQdWxzYXRlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBQdWxzYXRlIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IFB1bHNhdGVzIGFuIGVsZW1lbnQgbiB0aW1lcyBieSBjaGFuZ2luZyB0aGUgb3BhY2l0eSB0byB6ZXJvIGFuZCBiYWNrLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3B1bHNhdGUtZWZmZWN0L1xuLy8+PmRlbW9zOiBodHRwOi8vanF1ZXJ5dWkuY29tL2VmZmVjdC9cblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4uL3ZlcnNpb25cIixcblx0XHRcdFwiLi4vZWZmZWN0XCJcblx0XHRdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSggZnVuY3Rpb24oICQgKSB7XG5cbnJldHVybiAkLmVmZmVjdHMuZGVmaW5lKCBcInB1bHNhdGVcIiwgXCJzaG93XCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gb3B0aW9ucy5tb2RlLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRoaWRlID0gbW9kZSA9PT0gXCJoaWRlXCIsXG5cdFx0c2hvd2hpZGUgPSBzaG93IHx8IGhpZGUsXG5cblx0XHQvLyBTaG93aW5nIG9yIGhpZGluZyBsZWF2ZXMgb2ZmIHRoZSBcImxhc3RcIiBhbmltYXRpb25cblx0XHRhbmltcyA9ICggKCBvcHRpb25zLnRpbWVzIHx8IDUgKSAqIDIgKSArICggc2hvd2hpZGUgPyAxIDogMCApLFxuXHRcdGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIGFuaW1zLFxuXHRcdGFuaW1hdGVUbyA9IDAsXG5cdFx0aSA9IDEsXG5cdFx0cXVldWVsZW4gPSBlbGVtZW50LnF1ZXVlKCkubGVuZ3RoO1xuXG5cdGlmICggc2hvdyB8fCAhZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0ZWxlbWVudC5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpO1xuXHRcdGFuaW1hdGVUbyA9IDE7XG5cdH1cblxuXHQvLyBBbmltcyAtIDEgb3BhY2l0eSBcInRvZ2dsZXNcIlxuXHRmb3IgKCA7IGkgPCBhbmltczsgaSsrICkge1xuXHRcdGVsZW1lbnQuYW5pbWF0ZSggeyBvcGFjaXR5OiBhbmltYXRlVG8gfSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cdFx0YW5pbWF0ZVRvID0gMSAtIGFuaW1hdGVUbztcblx0fVxuXG5cdGVsZW1lbnQuYW5pbWF0ZSggeyBvcGFjaXR5OiBhbmltYXRlVG8gfSwgZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nICk7XG5cblx0ZWxlbWVudC5xdWV1ZSggZG9uZSApO1xuXG5cdCQuZWZmZWN0cy51bnNoaWZ0KCBlbGVtZW50LCBxdWV1ZWxlbiwgYW5pbXMgKyAxICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTY2FsZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2NhbGUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogR3Jvd3Mgb3Igc2hyaW5rcyBhbiBlbGVtZW50IGFuZCBpdHMgY29udGVudC5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zY2FsZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIixcblx0XHRcdFwiLi9lZmZlY3Qtc2l6ZVwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJzY2FsZVwiLCBmdW5jdGlvbiggb3B0aW9ucywgZG9uZSApIHtcblxuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRwZXJjZW50ID0gcGFyc2VJbnQoIG9wdGlvbnMucGVyY2VudCwgMTAgKSB8fFxuXHRcdFx0KCBwYXJzZUludCggb3B0aW9ucy5wZXJjZW50LCAxMCApID09PSAwID8gMCA6ICggbW9kZSAhPT0gXCJlZmZlY3RcIiA/IDAgOiAxMDAgKSApLFxuXG5cdFx0bmV3T3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRmcm9tOiAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWwgKSxcblx0XHRcdHRvOiAkLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyggZWwsIHBlcmNlbnQsIG9wdGlvbnMuZGlyZWN0aW9uIHx8IFwiYm90aFwiICksXG5cdFx0XHRvcmlnaW46IG9wdGlvbnMub3JpZ2luIHx8IFsgXCJtaWRkbGVcIiwgXCJjZW50ZXJcIiBdXG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdC8vIEZhZGUgb3B0aW9uIHRvIHN1cHBvcnQgcHVmZlxuXHRpZiAoIG9wdGlvbnMuZmFkZSApIHtcblx0XHRuZXdPcHRpb25zLmZyb20ub3BhY2l0eSA9IDE7XG5cdFx0bmV3T3B0aW9ucy50by5vcGFjaXR5ID0gMDtcblx0fVxuXG5cdCQuZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKCB0aGlzLCBuZXdPcHRpb25zLCBkb25lICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTaGFrZSAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2hha2UgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogU2hha2VzIGFuIGVsZW1lbnQgaG9yaXpvbnRhbGx5IG9yIHZlcnRpY2FsbHkgbiB0aW1lcy5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zaGFrZS1lZmZlY3QvXG4vLz4+ZGVtb3M6IGh0dHA6Ly9qcXVlcnl1aS5jb20vZWZmZWN0L1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi9lZmZlY3RcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxucmV0dXJuICQuZWZmZWN0cy5kZWZpbmUoIFwic2hha2VcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cblx0dmFyIGkgPSAxLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0ZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgXCJsZWZ0XCIsXG5cdFx0ZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlIHx8IDIwLFxuXHRcdHRpbWVzID0gb3B0aW9ucy50aW1lcyB8fCAzLFxuXHRcdGFuaW1zID0gdGltZXMgKiAyICsgMSxcblx0XHRzcGVlZCA9IE1hdGgucm91bmQoIG9wdGlvbnMuZHVyYXRpb24gLyBhbmltcyApLFxuXHRcdHJlZiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIiApID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0YW5pbWF0aW9uID0ge30sXG5cdFx0YW5pbWF0aW9uMSA9IHt9LFxuXHRcdGFuaW1hdGlvbjIgPSB7fSxcblxuXHRcdHF1ZXVlbGVuID0gZWxlbWVudC5xdWV1ZSgpLmxlbmd0aDtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHQvLyBBbmltYXRpb25cblx0YW5pbWF0aW9uWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXHRhbmltYXRpb24xWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIis9XCIgOiBcIi09XCIgKSArIGRpc3RhbmNlICogMjtcblx0YW5pbWF0aW9uMlsgcmVmIF0gPSAoIHBvc2l0aXZlTW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZSAqIDI7XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nICk7XG5cblx0Ly8gU2hha2VzXG5cdGZvciAoIDsgaSA8IHRpbWVzOyBpKysgKSB7XG5cdFx0ZWxlbWVudFxuXHRcdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvcHRpb25zLmVhc2luZyApXG5cdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uMiwgc3BlZWQsIG9wdGlvbnMuZWFzaW5nICk7XG5cdH1cblxuXHRlbGVtZW50XG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQgLyAyLCBvcHRpb25zLmVhc2luZyApXG5cdFx0LnF1ZXVlKCBkb25lICk7XG5cblx0JC5lZmZlY3RzLnVuc2hpZnQoIGVsZW1lbnQsIHF1ZXVlbGVuLCBhbmltcyArIDEgKTtcbn0gKTtcblxufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNpemUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNpemUgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogUmVzaXplIGFuIGVsZW1lbnQgdG8gYSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbi8vPj5kb2NzOiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zaXplLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJzaXplXCIsIGZ1bmN0aW9uKCBvcHRpb25zLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBiYXNlbGluZSwgZmFjdG9yLCB0ZW1wLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cblx0XHQvLyBDb3B5IGZvciBjaGlsZHJlblxuXHRcdGNQcm9wcyA9IFsgXCJmb250U2l6ZVwiIF0sXG5cdFx0dlByb3BzID0gWyBcImJvcmRlclRvcFdpZHRoXCIsIFwiYm9yZGVyQm90dG9tV2lkdGhcIiwgXCJwYWRkaW5nVG9wXCIsIFwicGFkZGluZ0JvdHRvbVwiIF0sXG5cdFx0aFByb3BzID0gWyBcImJvcmRlckxlZnRXaWR0aFwiLCBcImJvcmRlclJpZ2h0V2lkdGhcIiwgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdSaWdodFwiIF0sXG5cblx0XHQvLyBTZXQgb3B0aW9uc1xuXHRcdG1vZGUgPSBvcHRpb25zLm1vZGUsXG5cdFx0cmVzdG9yZSA9IG1vZGUgIT09IFwiZWZmZWN0XCIsXG5cdFx0c2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IFwiYm90aFwiLFxuXHRcdG9yaWdpbiA9IG9wdGlvbnMub3JpZ2luIHx8IFsgXCJtaWRkbGVcIiwgXCJjZW50ZXJcIiBdLFxuXHRcdHBvc2l0aW9uID0gZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdHBvcyA9IGVsZW1lbnQucG9zaXRpb24oKSxcblx0XHRvcmlnaW5hbCA9ICQuZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKCBlbGVtZW50ICksXG5cdFx0ZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCBvcmlnaW5hbCxcblx0XHR0byA9IG9wdGlvbnMudG8gfHwgJC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoIGVsZW1lbnQsIDAgKTtcblxuXHQkLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIoIGVsZW1lbnQgKTtcblxuXHRpZiAoIG1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdHRlbXAgPSBmcm9tO1xuXHRcdGZyb20gPSB0bztcblx0XHR0byA9IHRlbXA7XG5cdH1cblxuXHQvLyBTZXQgc2NhbGluZyBmYWN0b3Jcblx0ZmFjdG9yID0ge1xuXHRcdGZyb206IHtcblx0XHRcdHk6IGZyb20uaGVpZ2h0IC8gb3JpZ2luYWwuaGVpZ2h0LFxuXHRcdFx0eDogZnJvbS53aWR0aCAvIG9yaWdpbmFsLndpZHRoXG5cdFx0fSxcblx0XHR0bzoge1xuXHRcdFx0eTogdG8uaGVpZ2h0IC8gb3JpZ2luYWwuaGVpZ2h0LFxuXHRcdFx0eDogdG8ud2lkdGggLyBvcmlnaW5hbC53aWR0aFxuXHRcdH1cblx0fTtcblxuXHQvLyBTY2FsZSB0aGUgY3NzIGJveFxuXHRpZiAoIHNjYWxlID09PSBcImJveFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHtcblxuXHRcdC8vIFZlcnRpY2FsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnkgIT09IGZhY3Rvci50by55ICkge1xuXHRcdFx0ZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCB2UHJvcHMsIGZhY3Rvci5mcm9tLnksIGZyb20gKTtcblx0XHRcdHRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIHZQcm9wcywgZmFjdG9yLnRvLnksIHRvICk7XG5cdFx0fVxuXG5cdFx0Ly8gSG9yaXpvbnRhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS54ICE9PSBmYWN0b3IudG8ueCApIHtcblx0XHRcdGZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWxlbWVudCwgaFByb3BzLCBmYWN0b3IuZnJvbS54LCBmcm9tICk7XG5cdFx0XHR0byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCBoUHJvcHMsIGZhY3Rvci50by54LCB0byApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFNjYWxlIHRoZSBjb250ZW50XG5cdGlmICggc2NhbGUgPT09IFwiY29udGVudFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHtcblxuXHRcdC8vIFZlcnRpY2FsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnkgIT09IGZhY3Rvci50by55ICkge1xuXHRcdFx0ZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbGVtZW50LCBjUHJvcHMsIGZhY3Rvci5mcm9tLnksIGZyb20gKTtcblx0XHRcdHRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGVsZW1lbnQsIGNQcm9wcywgZmFjdG9yLnRvLnksIHRvICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWRqdXN0IHRoZSBwb3NpdGlvbiBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBvcmlnaW4gcG9pbnRzXG5cdGlmICggb3JpZ2luICkge1xuXHRcdGJhc2VsaW5lID0gJC5lZmZlY3RzLmdldEJhc2VsaW5lKCBvcmlnaW4sIG9yaWdpbmFsICk7XG5cdFx0ZnJvbS50b3AgPSAoIG9yaWdpbmFsLm91dGVySGVpZ2h0IC0gZnJvbS5vdXRlckhlaWdodCApICogYmFzZWxpbmUueSArIHBvcy50b3A7XG5cdFx0ZnJvbS5sZWZ0ID0gKCBvcmlnaW5hbC5vdXRlcldpZHRoIC0gZnJvbS5vdXRlcldpZHRoICkgKiBiYXNlbGluZS54ICsgcG9zLmxlZnQ7XG5cdFx0dG8udG9wID0gKCBvcmlnaW5hbC5vdXRlckhlaWdodCAtIHRvLm91dGVySGVpZ2h0ICkgKiBiYXNlbGluZS55ICsgcG9zLnRvcDtcblx0XHR0by5sZWZ0ID0gKCBvcmlnaW5hbC5vdXRlcldpZHRoIC0gdG8ub3V0ZXJXaWR0aCApICogYmFzZWxpbmUueCArIHBvcy5sZWZ0O1xuXHR9XG5cdGVsZW1lbnQuY3NzKCBmcm9tICk7XG5cblx0Ly8gQW5pbWF0ZSB0aGUgY2hpbGRyZW4gaWYgZGVzaXJlZFxuXHRpZiAoIHNjYWxlID09PSBcImNvbnRlbnRcIiB8fCBzY2FsZSA9PT0gXCJib3RoXCIgKSB7XG5cblx0XHR2UHJvcHMgPSB2UHJvcHMuY29uY2F0KCBbIFwibWFyZ2luVG9wXCIsIFwibWFyZ2luQm90dG9tXCIgXSApLmNvbmNhdCggY1Byb3BzICk7XG5cdFx0aFByb3BzID0gaFByb3BzLmNvbmNhdCggWyBcIm1hcmdpbkxlZnRcIiwgXCJtYXJnaW5SaWdodFwiIF0gKTtcblxuXHRcdC8vIE9ubHkgYW5pbWF0ZSBjaGlsZHJlbiB3aXRoIHdpZHRoIGF0dHJpYnV0ZXMgc3BlY2lmaWVkXG5cdFx0Ly8gVE9ETzogaXMgdGhpcyByaWdodD8gc2hvdWxkIHdlIGluY2x1ZGUgYW55dGhpbmcgd2l0aCBjc3Mgd2lkdGggc3BlY2lmaWVkIGFzIHdlbGxcblx0XHRlbGVtZW50LmZpbmQoIFwiKlt3aWR0aF1cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNoaWxkID0gJCggdGhpcyApLFxuXHRcdFx0XHRjaGlsZE9yaWdpbmFsID0gJC5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoIGNoaWxkICksXG5cdFx0XHRcdGNoaWxkRnJvbSA9IHtcblx0XHRcdFx0XHRoZWlnaHQ6IGNoaWxkT3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLmZyb20ueSxcblx0XHRcdFx0XHR3aWR0aDogY2hpbGRPcmlnaW5hbC53aWR0aCAqIGZhY3Rvci5mcm9tLngsXG5cdFx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGNoaWxkT3JpZ2luYWwub3V0ZXJIZWlnaHQgKiBmYWN0b3IuZnJvbS55LFxuXHRcdFx0XHRcdG91dGVyV2lkdGg6IGNoaWxkT3JpZ2luYWwub3V0ZXJXaWR0aCAqIGZhY3Rvci5mcm9tLnhcblx0XHRcdFx0fSxcblx0XHRcdFx0Y2hpbGRUbyA9IHtcblx0XHRcdFx0XHRoZWlnaHQ6IGNoaWxkT3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLnRvLnksXG5cdFx0XHRcdFx0d2lkdGg6IGNoaWxkT3JpZ2luYWwud2lkdGggKiBmYWN0b3IudG8ueCxcblx0XHRcdFx0XHRvdXRlckhlaWdodDogY2hpbGRPcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IudG8ueSxcblx0XHRcdFx0XHRvdXRlcldpZHRoOiBjaGlsZE9yaWdpbmFsLndpZHRoICogZmFjdG9yLnRvLnhcblx0XHRcdFx0fTtcblxuXHRcdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdFx0Y2hpbGRGcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCB2UHJvcHMsIGZhY3Rvci5mcm9tLnksIGNoaWxkRnJvbSApO1xuXHRcdFx0XHRjaGlsZFRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCB2UHJvcHMsIGZhY3Rvci50by55LCBjaGlsZFRvICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvcml6b250YWwgcHJvcHMgc2NhbGluZ1xuXHRcdFx0aWYgKCBmYWN0b3IuZnJvbS54ICE9PSBmYWN0b3IudG8ueCApIHtcblx0XHRcdFx0Y2hpbGRGcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCBoUHJvcHMsIGZhY3Rvci5mcm9tLngsIGNoaWxkRnJvbSApO1xuXHRcdFx0XHRjaGlsZFRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCBoUHJvcHMsIGZhY3Rvci50by54LCBjaGlsZFRvICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggcmVzdG9yZSApIHtcblx0XHRcdFx0JC5lZmZlY3RzLnNhdmVTdHlsZSggY2hpbGQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQW5pbWF0ZSBjaGlsZHJlblxuXHRcdFx0Y2hpbGQuY3NzKCBjaGlsZEZyb20gKTtcblx0XHRcdGNoaWxkLmFuaW1hdGUoIGNoaWxkVG8sIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIGNoaWxkcmVuXG5cdFx0XHRcdGlmICggcmVzdG9yZSApIHtcblx0XHRcdFx0XHQkLmVmZmVjdHMucmVzdG9yZVN0eWxlKCBjaGlsZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbGVtZW50LmFuaW1hdGUoIHRvLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgb2Zmc2V0ID0gZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdFx0aWYgKCB0by5vcGFjaXR5ID09PSAwICkge1xuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJvcGFjaXR5XCIsIGZyb20ub3BhY2l0eSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICFyZXN0b3JlICkge1xuXHRcdFx0XHRlbGVtZW50XG5cdFx0XHRcdFx0LmNzcyggXCJwb3NpdGlvblwiLCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiA/IFwicmVsYXRpdmVcIiA6IHBvc2l0aW9uIClcblx0XHRcdFx0XHQub2Zmc2V0KCBvZmZzZXQgKTtcblxuXHRcdFx0XHQvLyBOZWVkIHRvIHNhdmUgc3R5bGUgaGVyZSBzbyB0aGF0IGF1dG9tYXRpYyBzdHlsZSByZXN0b3JhdGlvblxuXHRcdFx0XHQvLyBkb2Vzbid0IHJlc3RvcmUgdG8gdGhlIG9yaWdpbmFsIHN0eWxlcyBmcm9tIGJlZm9yZSB0aGUgYW5pbWF0aW9uLlxuXHRcdFx0XHQkLmVmZmVjdHMuc2F2ZVN0eWxlKCBlbGVtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRvbmUoKTtcblx0XHR9XG5cdH0gKTtcblxufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgU2xpZGUgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IFNsaWRlIEVmZmVjdFxuLy8+Pmdyb3VwOiBFZmZlY3RzXG4vLz4+ZGVzY3JpcHRpb246IFNsaWRlcyBhbiBlbGVtZW50IGluIGFuZCBvdXQgb2YgdGhlIHZpZXdwb3J0LlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NsaWRlLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC5lZmZlY3RzLmRlZmluZSggXCJzbGlkZVwiLCBcInNob3dcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdHZhciBzdGFydENsaXAsIHN0YXJ0UmVmLFxuXHRcdGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0bWFwID0ge1xuXHRcdFx0dXA6IFsgXCJib3R0b21cIiwgXCJ0b3BcIiBdLFxuXHRcdFx0ZG93bjogWyBcInRvcFwiLCBcImJvdHRvbVwiIF0sXG5cdFx0XHRsZWZ0OiBbIFwicmlnaHRcIiwgXCJsZWZ0XCIgXSxcblx0XHRcdHJpZ2h0OiBbIFwibGVmdFwiLCBcInJpZ2h0XCIgXVxuXHRcdH0sXG5cdFx0bW9kZSA9IG9wdGlvbnMubW9kZSxcblx0XHRkaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRyZWYgPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRwb3NpdGl2ZU1vdGlvbiA9ICggZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiApLFxuXHRcdGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSB8fFxuXHRcdFx0ZWxlbWVudFsgcmVmID09PSBcInRvcFwiID8gXCJvdXRlckhlaWdodFwiIDogXCJvdXRlcldpZHRoXCIgXSggdHJ1ZSApLFxuXHRcdGFuaW1hdGlvbiA9IHt9O1xuXG5cdCQuZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlciggZWxlbWVudCApO1xuXG5cdHN0YXJ0Q2xpcCA9IGVsZW1lbnQuY3NzQ2xpcCgpO1xuXHRzdGFydFJlZiA9IGVsZW1lbnQucG9zaXRpb24oKVsgcmVmIF07XG5cblx0Ly8gRGVmaW5lIGhpZGUgYW5pbWF0aW9uXG5cdGFuaW1hdGlvblsgcmVmIF0gPSAoIHBvc2l0aXZlTW90aW9uID8gLTEgOiAxICkgKiBkaXN0YW5jZSArIHN0YXJ0UmVmO1xuXHRhbmltYXRpb24uY2xpcCA9IGVsZW1lbnQuY3NzQ2xpcCgpO1xuXHRhbmltYXRpb24uY2xpcFsgbWFwWyBkaXJlY3Rpb24gXVsgMSBdIF0gPSBhbmltYXRpb24uY2xpcFsgbWFwWyBkaXJlY3Rpb24gXVsgMCBdIF07XG5cblx0Ly8gUmV2ZXJzZSB0aGUgYW5pbWF0aW9uIGlmIHdlJ3JlIHNob3dpbmdcblx0aWYgKCBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbGVtZW50LmNzc0NsaXAoIGFuaW1hdGlvbi5jbGlwICk7XG5cdFx0ZWxlbWVudC5jc3MoIHJlZiwgYW5pbWF0aW9uWyByZWYgXSApO1xuXHRcdGFuaW1hdGlvbi5jbGlwID0gc3RhcnRDbGlwO1xuXHRcdGFuaW1hdGlvblsgcmVmIF0gPSBzdGFydFJlZjtcblx0fVxuXG5cdC8vIEFjdHVhbGx5IGFuaW1hdGVcblx0ZWxlbWVudC5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9ICk7XG59ICk7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBUcmFuc2ZlciAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogVHJhbnNmZXIgRWZmZWN0XG4vLz4+Z3JvdXA6IEVmZmVjdHNcbi8vPj5kZXNjcmlwdGlvbjogRGlzcGxheXMgYSB0cmFuc2ZlciBlZmZlY3QgZnJvbSBvbmUgZWxlbWVudCB0byBhbm90aGVyLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3RyYW5zZmVyLWVmZmVjdC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9lZmZlY3QvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbXG5cdFx0XHRcImpxdWVyeVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL2VmZmVjdFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG52YXIgZWZmZWN0O1xuaWYgKCAkLnVpQmFja0NvbXBhdCAhPT0gZmFsc2UgKSB7XG5cdGVmZmVjdCA9ICQuZWZmZWN0cy5kZWZpbmUoIFwidHJhbnNmZXJcIiwgZnVuY3Rpb24oIG9wdGlvbnMsIGRvbmUgKSB7XG5cdFx0JCggdGhpcyApLnRyYW5zZmVyKCBvcHRpb25zLCBkb25lICk7XG5cdH0gKTtcbn1cbnJldHVybiBlZmZlY3Q7XG5cbn0gKSApO1xuIiwiKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiwgXCIuL3ZlcnNpb25cIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSAoIGZ1bmN0aW9uKCAkICkge1xuXG4vLyBUaGlzIGZpbGUgaXMgZGVwcmVjYXRlZFxucmV0dXJuICQudWkuaWUgPSAhIS9tc2llIFtcXHcuXSsvLmV4ZWMoIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSApO1xufSApICk7XG4iLCIvKiFcbiAqIGpRdWVyeSBVSSBLZXljb2RlIDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBLZXljb2RlXG4vLz4+Z3JvdXA6IENvcmVcbi8vPj5kZXNjcmlwdGlvbjogUHJvdmlkZSBrZXljb2RlcyBhcyBrZXluYW1lc1xuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS51aS5rZXlDb2RlL1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggWyBcImpxdWVyeVwiLCBcIi4vdmVyc2lvblwiIF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59ICggZnVuY3Rpb24oICQgKSB7XG5yZXR1cm4gJC51aS5rZXlDb2RlID0ge1xuXHRCQUNLU1BBQ0U6IDgsXG5cdENPTU1BOiAxODgsXG5cdERFTEVURTogNDYsXG5cdERPV046IDQwLFxuXHRFTkQ6IDM1LFxuXHRFTlRFUjogMTMsXG5cdEVTQ0FQRTogMjcsXG5cdEhPTUU6IDM2LFxuXHRMRUZUOiAzNyxcblx0UEFHRV9ET1dOOiAzNCxcblx0UEFHRV9VUDogMzMsXG5cdFBFUklPRDogMTkwLFxuXHRSSUdIVDogMzksXG5cdFNQQUNFOiAzMixcblx0VEFCOiA5LFxuXHRVUDogMzhcbn07XG5cbn0gKSApO1xuIiwiKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiBdLCBmYWN0b3J5ICk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufSAoIGZ1bmN0aW9uKCAkICkge1xuXG4kLnVpID0gJC51aSB8fCB7fTtcblxucmV0dXJuICQudWkudmVyc2lvbiA9IFwiMS4xMi4xXCI7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgV2lkZ2V0IDEuMTIuMVxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKi9cblxuLy8+PmxhYmVsOiBXaWRnZXRcbi8vPj5ncm91cDogQ29yZVxuLy8+PmRlc2NyaXB0aW9uOiBQcm92aWRlcyBhIGZhY3RvcnkgZm9yIGNyZWF0aW5nIHN0YXRlZnVsIHdpZGdldHMgd2l0aCBhIGNvbW1vbiBBUEkuXG4vLz4+ZG9jczogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20valF1ZXJ5LndpZGdldC9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS93aWRnZXQvXG5cbiggZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKCBbIFwianF1ZXJ5XCIsIFwiLi92ZXJzaW9uXCIgXSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG52YXIgd2lkZ2V0VXVpZCA9IDA7XG52YXIgd2lkZ2V0U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiQuY2xlYW5EYXRhID0gKCBmdW5jdGlvbiggb3JpZyApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZXZlbnRzLCBlbGVtLCBpO1xuXHRcdGZvciAoIGkgPSAwOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHQvLyBPbmx5IHRyaWdnZXIgcmVtb3ZlIHdoZW4gbmVjZXNzYXJ5IHRvIHNhdmUgdGltZVxuXHRcdFx0XHRldmVudHMgPSAkLl9kYXRhKCBlbGVtLCBcImV2ZW50c1wiICk7XG5cdFx0XHRcdGlmICggZXZlbnRzICYmIGV2ZW50cy5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0JCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCBcInJlbW92ZVwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODIzNVxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdH1cblx0XHRvcmlnKCBlbGVtcyApO1xuXHR9O1xufSApKCAkLmNsZWFuRGF0YSApO1xuXG4kLndpZGdldCA9IGZ1bmN0aW9uKCBuYW1lLCBiYXNlLCBwcm90b3R5cGUgKSB7XG5cdHZhciBleGlzdGluZ0NvbnN0cnVjdG9yLCBjb25zdHJ1Y3RvciwgYmFzZVByb3RvdHlwZTtcblxuXHQvLyBQcm94aWVkUHJvdG90eXBlIGFsbG93cyB0aGUgcHJvdmlkZWQgcHJvdG90eXBlIHRvIHJlbWFpbiB1bm1vZGlmaWVkXG5cdC8vIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYXMgYSBtaXhpbiBmb3IgbXVsdGlwbGUgd2lkZ2V0cyAoIzg4NzYpXG5cdHZhciBwcm94aWVkUHJvdG90eXBlID0ge307XG5cblx0dmFyIG5hbWVzcGFjZSA9IG5hbWUuc3BsaXQoIFwiLlwiIClbIDAgXTtcblx0bmFtZSA9IG5hbWUuc3BsaXQoIFwiLlwiIClbIDEgXTtcblx0dmFyIGZ1bGxOYW1lID0gbmFtZXNwYWNlICsgXCItXCIgKyBuYW1lO1xuXG5cdGlmICggIXByb3RvdHlwZSApIHtcblx0XHRwcm90b3R5cGUgPSBiYXNlO1xuXHRcdGJhc2UgPSAkLldpZGdldDtcblx0fVxuXG5cdGlmICggJC5pc0FycmF5KCBwcm90b3R5cGUgKSApIHtcblx0XHRwcm90b3R5cGUgPSAkLmV4dGVuZC5hcHBseSggbnVsbCwgWyB7fSBdLmNvbmNhdCggcHJvdG90eXBlICkgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBzZWxlY3RvciBmb3IgcGx1Z2luXG5cdCQuZXhwclsgXCI6XCIgXVsgZnVsbE5hbWUudG9Mb3dlckNhc2UoKSBdID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBmdWxsTmFtZSApO1xuXHR9O1xuXG5cdCRbIG5hbWVzcGFjZSBdID0gJFsgbmFtZXNwYWNlIF0gfHwge307XG5cdGV4aXN0aW5nQ29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdO1xuXHRjb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBcIm5ld1wiIGtleXdvcmRcblx0XHRpZiAoICF0aGlzLl9jcmVhdGVXaWRnZXQgKSB7XG5cdFx0XHRyZXR1cm4gbmV3IGNvbnN0cnVjdG9yKCBvcHRpb25zLCBlbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlXG5cdFx0Ly8gbXVzdCB1c2UgXCJuZXdcIiBrZXl3b3JkICh0aGUgY29kZSBhYm92ZSBhbHdheXMgcGFzc2VzIGFyZ3MpXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEV4dGVuZCB3aXRoIHRoZSBleGlzdGluZyBjb25zdHJ1Y3RvciB0byBjYXJyeSBvdmVyIGFueSBzdGF0aWMgcHJvcGVydGllc1xuXHQkLmV4dGVuZCggY29uc3RydWN0b3IsIGV4aXN0aW5nQ29uc3RydWN0b3IsIHtcblx0XHR2ZXJzaW9uOiBwcm90b3R5cGUudmVyc2lvbixcblxuXHRcdC8vIENvcHkgdGhlIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGUgcHJvdG90eXBlIGluIGNhc2Ugd2UgbmVlZCB0b1xuXHRcdC8vIHJlZGVmaW5lIHRoZSB3aWRnZXQgbGF0ZXJcblx0XHRfcHJvdG86ICQuZXh0ZW5kKCB7fSwgcHJvdG90eXBlICksXG5cblx0XHQvLyBUcmFjayB3aWRnZXRzIHRoYXQgaW5oZXJpdCBmcm9tIHRoaXMgd2lkZ2V0IGluIGNhc2UgdGhpcyB3aWRnZXQgaXNcblx0XHQvLyByZWRlZmluZWQgYWZ0ZXIgYSB3aWRnZXQgaW5oZXJpdHMgZnJvbSBpdFxuXHRcdF9jaGlsZENvbnN0cnVjdG9yczogW11cblx0fSApO1xuXG5cdGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSgpO1xuXG5cdC8vIFdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZVxuXHQvLyBvdGhlcndpc2Ugd2UnbGwgbW9kaWZ5IHRoZSBvcHRpb25zIGhhc2ggb24gdGhlIHByb3RvdHlwZSB0aGF0IHdlJ3JlXG5cdC8vIGluaGVyaXRpbmcgZnJvbVxuXHRiYXNlUHJvdG90eXBlLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTtcblx0JC5lYWNoKCBwcm90b3R5cGUsIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRpZiAoICEkLmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSB2YWx1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gKCBmdW5jdGlvbigpIHtcblx0XHRcdGZ1bmN0aW9uIF9zdXBlcigpIHtcblx0XHRcdFx0cmV0dXJuIGJhc2UucHJvdG90eXBlWyBwcm9wIF0uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBfc3VwZXJBcHBseSggYXJncyApIHtcblx0XHRcdFx0cmV0dXJuIGJhc2UucHJvdG90eXBlWyBwcm9wIF0uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgX19zdXBlciA9IHRoaXMuX3N1cGVyO1xuXHRcdFx0XHR2YXIgX19zdXBlckFwcGx5ID0gdGhpcy5fc3VwZXJBcHBseTtcblx0XHRcdFx0dmFyIHJldHVyblZhbHVlO1xuXG5cdFx0XHRcdHRoaXMuX3N1cGVyID0gX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB2YWx1ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX19zdXBlckFwcGx5O1xuXG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdH07XG5cdFx0fSApKCk7XG5cdH0gKTtcblx0Y29uc3RydWN0b3IucHJvdG90eXBlID0gJC53aWRnZXQuZXh0ZW5kKCBiYXNlUHJvdG90eXBlLCB7XG5cblx0XHQvLyBUT0RPOiByZW1vdmUgc3VwcG9ydCBmb3Igd2lkZ2V0RXZlbnRQcmVmaXhcblx0XHQvLyBhbHdheXMgdXNlIHRoZSBuYW1lICsgYSBjb2xvbiBhcyB0aGUgcHJlZml4LCBlLmcuLCBkcmFnZ2FibGU6c3RhcnRcblx0XHQvLyBkb24ndCBwcmVmaXggZm9yIHdpZGdldHMgdGhhdCBhcmVuJ3QgRE9NLWJhc2VkXG5cdFx0d2lkZ2V0RXZlbnRQcmVmaXg6IGV4aXN0aW5nQ29uc3RydWN0b3IgPyAoIGJhc2VQcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXggfHwgbmFtZSApIDogbmFtZVxuXHR9LCBwcm94aWVkUHJvdG90eXBlLCB7XG5cdFx0Y29uc3RydWN0b3I6IGNvbnN0cnVjdG9yLFxuXHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlLFxuXHRcdHdpZGdldE5hbWU6IG5hbWUsXG5cdFx0d2lkZ2V0RnVsbE5hbWU6IGZ1bGxOYW1lXG5cdH0gKTtcblxuXHQvLyBJZiB0aGlzIHdpZGdldCBpcyBiZWluZyByZWRlZmluZWQgdGhlbiB3ZSBuZWVkIHRvIGZpbmQgYWxsIHdpZGdldHMgdGhhdFxuXHQvLyBhcmUgaW5oZXJpdGluZyBmcm9tIGl0IGFuZCByZWRlZmluZSBhbGwgb2YgdGhlbSBzbyB0aGF0IHRoZXkgaW5oZXJpdCBmcm9tXG5cdC8vIHRoZSBuZXcgdmVyc2lvbiBvZiB0aGlzIHdpZGdldC4gV2UncmUgZXNzZW50aWFsbHkgdHJ5aW5nIHRvIHJlcGxhY2Ugb25lXG5cdC8vIGxldmVsIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5cdGlmICggZXhpc3RpbmdDb25zdHJ1Y3RvciApIHtcblx0XHQkLmVhY2goIGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzLCBmdW5jdGlvbiggaSwgY2hpbGQgKSB7XG5cdFx0XHR2YXIgY2hpbGRQcm90b3R5cGUgPSBjaGlsZC5wcm90b3R5cGU7XG5cblx0XHRcdC8vIFJlZGVmaW5lIHRoZSBjaGlsZCB3aWRnZXQgdXNpbmcgdGhlIHNhbWUgcHJvdG90eXBlIHRoYXQgd2FzXG5cdFx0XHQvLyBvcmlnaW5hbGx5IHVzZWQsIGJ1dCBpbmhlcml0IGZyb20gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoZSBiYXNlXG5cdFx0XHQkLndpZGdldCggY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlICsgXCIuXCIgKyBjaGlsZFByb3RvdHlwZS53aWRnZXROYW1lLCBjb25zdHJ1Y3Rvcixcblx0XHRcdFx0Y2hpbGQuX3Byb3RvICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBsaXN0IG9mIGV4aXN0aW5nIGNoaWxkIGNvbnN0cnVjdG9ycyBmcm9tIHRoZSBvbGQgY29uc3RydWN0b3Jcblx0XHQvLyBzbyB0aGUgb2xkIGNoaWxkIGNvbnN0cnVjdG9ycyBjYW4gYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcblx0XHRkZWxldGUgZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnM7XG5cdH0gZWxzZSB7XG5cdFx0YmFzZS5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaCggY29uc3RydWN0b3IgKTtcblx0fVxuXG5cdCQud2lkZ2V0LmJyaWRnZSggbmFtZSwgY29uc3RydWN0b3IgKTtcblxuXHRyZXR1cm4gY29uc3RydWN0b3I7XG59O1xuXG4kLndpZGdldC5leHRlbmQgPSBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHR2YXIgaW5wdXQgPSB3aWRnZXRTbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKTtcblx0dmFyIGlucHV0SW5kZXggPSAwO1xuXHR2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cdHZhciBrZXk7XG5cdHZhciB2YWx1ZTtcblxuXHRmb3IgKCA7IGlucHV0SW5kZXggPCBpbnB1dExlbmd0aDsgaW5wdXRJbmRleCsrICkge1xuXHRcdGZvciAoIGtleSBpbiBpbnB1dFsgaW5wdXRJbmRleCBdICkge1xuXHRcdFx0dmFsdWUgPSBpbnB1dFsgaW5wdXRJbmRleCBdWyBrZXkgXTtcblx0XHRcdGlmICggaW5wdXRbIGlucHV0SW5kZXggXS5oYXNPd25Qcm9wZXJ0eSgga2V5ICkgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBDbG9uZSBvYmplY3RzXG5cdFx0XHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdHRhcmdldFsga2V5IF0gPSAkLmlzUGxhaW5PYmplY3QoIHRhcmdldFsga2V5IF0gKSA/XG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB0YXJnZXRbIGtleSBdLCB2YWx1ZSApIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgZXh0ZW5kIHN0cmluZ3MsIGFycmF5cywgZXRjLiB3aXRoIG9iamVjdHNcblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHZhbHVlICk7XG5cblx0XHRcdFx0Ly8gQ29weSBldmVyeXRoaW5nIGVsc2UgYnkgcmVmZXJlbmNlXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG4kLndpZGdldC5icmlkZ2UgPSBmdW5jdGlvbiggbmFtZSwgb2JqZWN0ICkge1xuXHR2YXIgZnVsbE5hbWUgPSBvYmplY3QucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lIHx8IG5hbWU7XG5cdCQuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHZhciBpc01ldGhvZENhbGwgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIjtcblx0XHR2YXIgYXJncyA9IHdpZGdldFNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApO1xuXHRcdHZhciByZXR1cm5WYWx1ZSA9IHRoaXM7XG5cblx0XHRpZiAoIGlzTWV0aG9kQ2FsbCApIHtcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhbiBlbXB0eSBjb2xsZWN0aW9uLCB3ZSBuZWVkIHRvIGhhdmUgdGhlIGluc3RhbmNlIG1ldGhvZFxuXHRcdFx0Ly8gcmV0dXJuIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHRoZSBqUXVlcnkgaW5zdGFuY2Vcblx0XHRcdGlmICggIXRoaXMubGVuZ3RoICYmIG9wdGlvbnMgPT09IFwiaW5zdGFuY2VcIiApIHtcblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBtZXRob2RWYWx1ZTtcblx0XHRcdFx0XHR2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMgPT09IFwiaW5zdGFuY2VcIiApIHtcblx0XHRcdFx0XHRcdHJldHVyblZhbHVlID0gaW5zdGFuY2U7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAhaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIFwiICsgbmFtZSArXG5cdFx0XHRcdFx0XHRcdFwiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBcIiArXG5cdFx0XHRcdFx0XHRcdFwiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIidcIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2VbIG9wdGlvbnMgXSApIHx8IG9wdGlvbnMuY2hhckF0KCAwICkgPT09IFwiX1wiICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICQuZXJyb3IoIFwibm8gc3VjaCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJyBmb3IgXCIgKyBuYW1lICtcblx0XHRcdFx0XHRcdFx0XCIgd2lkZ2V0IGluc3RhbmNlXCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRtZXRob2RWYWx1ZSA9IGluc3RhbmNlWyBvcHRpb25zIF0uYXBwbHkoIGluc3RhbmNlLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1ldGhvZFZhbHVlICE9PSBpbnN0YW5jZSAmJiBtZXRob2RWYWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZSAmJiBtZXRob2RWYWx1ZS5qcXVlcnkgP1xuXHRcdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZS5wdXNoU3RhY2soIG1ldGhvZFZhbHVlLmdldCgpICkgOlxuXHRcdFx0XHRcdFx0XHRtZXRob2RWYWx1ZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBbGxvdyBtdWx0aXBsZSBoYXNoZXMgdG8gYmUgcGFzc2VkIG9uIGluaXRcblx0XHRcdGlmICggYXJncy5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQuYXBwbHkoIG51bGwsIFsgb3B0aW9ucyBdLmNvbmNhdCggYXJncyApICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblx0XHRcdFx0aWYgKCBpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgfHwge30gKTtcblx0XHRcdFx0XHRpZiAoIGluc3RhbmNlLl9pbml0ICkge1xuXHRcdFx0XHRcdFx0aW5zdGFuY2UuX2luaXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JC5kYXRhKCB0aGlzLCBmdWxsTmFtZSwgbmV3IG9iamVjdCggb3B0aW9ucywgdGhpcyApICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdH07XG59O1xuXG4kLldpZGdldCA9IGZ1bmN0aW9uKCAvKiBvcHRpb25zLCBlbGVtZW50ICovICkge307XG4kLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnMgPSBbXTtcblxuJC5XaWRnZXQucHJvdG90eXBlID0ge1xuXHR3aWRnZXROYW1lOiBcIndpZGdldFwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPGRpdj5cIixcblxuXHRvcHRpb25zOiB7XG5cdFx0Y2xhc3Nlczoge30sXG5cdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXG5cdFx0Ly8gQ2FsbGJhY2tzXG5cdFx0Y3JlYXRlOiBudWxsXG5cdH0sXG5cblx0X2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7XG5cdFx0ZWxlbWVudCA9ICQoIGVsZW1lbnQgfHwgdGhpcy5kZWZhdWx0RWxlbWVudCB8fCB0aGlzIClbIDAgXTtcblx0XHR0aGlzLmVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy51dWlkID0gd2lkZ2V0VXVpZCsrO1xuXHRcdHRoaXMuZXZlbnROYW1lc3BhY2UgPSBcIi5cIiArIHRoaXMud2lkZ2V0TmFtZSArIHRoaXMudXVpZDtcblxuXHRcdHRoaXMuYmluZGluZ3MgPSAkKCk7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSAkKCk7XG5cdFx0dGhpcy5mb2N1c2FibGUgPSAkKCk7XG5cdFx0dGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cCA9IHt9O1xuXG5cdFx0aWYgKCBlbGVtZW50ICE9PSB0aGlzICkge1xuXHRcdFx0JC5kYXRhKCBlbGVtZW50LCB0aGlzLndpZGdldEZ1bGxOYW1lLCB0aGlzICk7XG5cdFx0XHR0aGlzLl9vbiggdHJ1ZSwgdGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdHJlbW92ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdGlmICggZXZlbnQudGFyZ2V0ID09PSBlbGVtZW50ICkge1xuXHRcdFx0XHRcdFx0dGhpcy5kZXN0cm95KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHR0aGlzLmRvY3VtZW50ID0gJCggZWxlbWVudC5zdHlsZSA/XG5cblx0XHRcdFx0Ly8gRWxlbWVudCB3aXRoaW4gdGhlIGRvY3VtZW50XG5cdFx0XHRcdGVsZW1lbnQub3duZXJEb2N1bWVudCA6XG5cblx0XHRcdFx0Ly8gRWxlbWVudCBpcyB3aW5kb3cgb3IgZG9jdW1lbnRcblx0XHRcdFx0ZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50ICk7XG5cdFx0XHR0aGlzLndpbmRvdyA9ICQoIHRoaXMuZG9jdW1lbnRbIDAgXS5kZWZhdWx0VmlldyB8fCB0aGlzLmRvY3VtZW50WyAwIF0ucGFyZW50V2luZG93ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSxcblx0XHRcdHRoaXMub3B0aW9ucyxcblx0XHRcdHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxcblx0XHRcdG9wdGlvbnMgKTtcblxuXHRcdHRoaXMuX2NyZWF0ZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCggdGhpcy5vcHRpb25zLmRpc2FibGVkICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJjcmVhdGVcIiwgbnVsbCwgdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkgKTtcblx0XHR0aGlzLl9pbml0KCk7XG5cdH0sXG5cblx0X2dldENyZWF0ZU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7fTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlRXZlbnREYXRhOiAkLm5vb3AsXG5cblx0X2NyZWF0ZTogJC5ub29wLFxuXG5cdF9pbml0OiAkLm5vb3AsXG5cblx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5fZGVzdHJveSgpO1xuXHRcdCQuZWFjaCggdGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cCwgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHR0aGF0Ll9yZW1vdmVDbGFzcyggdmFsdWUsIGtleSApO1xuXHRcdH0gKTtcblxuXHRcdC8vIFdlIGNhbiBwcm9iYWJseSByZW1vdmUgdGhlIHVuYmluZCBjYWxscyBpbiAyLjBcblx0XHQvLyBhbGwgZXZlbnQgYmluZGluZ3Mgc2hvdWxkIGdvIHRocm91Z2ggdGhpcy5fb24oKVxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0Lm9mZiggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlRGF0YSggdGhpcy53aWRnZXRGdWxsTmFtZSApO1xuXHRcdHRoaXMud2lkZ2V0KClcblx0XHRcdC5vZmYoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiICk7XG5cblx0XHQvLyBDbGVhbiB1cCBldmVudHMgYW5kIHN0YXRlc1xuXHRcdHRoaXMuYmluZGluZ3Mub2ZmKCB0aGlzLmV2ZW50TmFtZXNwYWNlICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6ICQubm9vcCxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQ7XG5cdH0sXG5cblx0b3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgb3B0aW9ucyA9IGtleTtcblx0XHR2YXIgcGFydHM7XG5cdFx0dmFyIGN1ck9wdGlvbjtcblx0XHR2YXIgaTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMCApIHtcblxuXHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBoYXNoXG5cdFx0XHRyZXR1cm4gJC53aWRnZXQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyBIYW5kbGUgbmVzdGVkIGtleXMsIGUuZy4sIFwiZm9vLmJhclwiID0+IHsgZm9vOiB7IGJhcjogX19fIH0gfVxuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdFx0cGFydHMgPSBrZXkuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHRrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdFx0aWYgKCBwYXJ0cy5sZW5ndGggKSB7XG5cdFx0XHRcdGN1ck9wdGlvbiA9IG9wdGlvbnNbIGtleSBdID0gJC53aWRnZXQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zWyBrZXkgXSApO1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKyApIHtcblx0XHRcdFx0XHRjdXJPcHRpb25bIHBhcnRzWyBpIF0gXSA9IGN1ck9wdGlvblsgcGFydHNbIGkgXSBdIHx8IHt9O1xuXHRcdFx0XHRcdGN1ck9wdGlvbiA9IGN1ck9wdGlvblsgcGFydHNbIGkgXSBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGtleSA9IHBhcnRzLnBvcCgpO1xuXHRcdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGN1ck9wdGlvblsga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjdXJPcHRpb25bIGtleSBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN1ck9wdGlvblsga2V5IF0gPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMub3B0aW9uc1sga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0b3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9zZXRPcHRpb25zKCBvcHRpb25zICk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGtleTtcblxuXHRcdGZvciAoIGtleSBpbiBvcHRpb25zICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uKCBrZXksIG9wdGlvbnNbIGtleSBdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiY2xhc3Nlc1wiICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uQ2xhc3NlcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X3NldE9wdGlvbkNsYXNzZXM6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NLZXksIGVsZW1lbnRzLCBjdXJyZW50RWxlbWVudHM7XG5cblx0XHRmb3IgKCBjbGFzc0tleSBpbiB2YWx1ZSApIHtcblx0XHRcdGN1cnJlbnRFbGVtZW50cyA9IHRoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXBbIGNsYXNzS2V5IF07XG5cdFx0XHRpZiAoIHZhbHVlWyBjbGFzc0tleSBdID09PSB0aGlzLm9wdGlvbnMuY2xhc3Nlc1sgY2xhc3NLZXkgXSB8fFxuXHRcdFx0XHRcdCFjdXJyZW50RWxlbWVudHMgfHxcblx0XHRcdFx0XHQhY3VycmVudEVsZW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlIGFyZSBkb2luZyB0aGlzIHRvIGNyZWF0ZSBhIG5ldyBqUXVlcnkgb2JqZWN0IGJlY2F1c2UgdGhlIF9yZW1vdmVDbGFzcygpIGNhbGxcblx0XHRcdC8vIG9uIHRoZSBuZXh0IGxpbmUgaXMgZ29pbmcgdG8gZGVzdHJveSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGVsZW1lbnRzIGJlaW5nXG5cdFx0XHQvLyB0cmFja2VkLiBXZSBuZWVkIHRvIHNhdmUgYSBjb3B5IG9mIHRoaXMgY29sbGVjdGlvbiBzbyB0aGF0IHdlIGNhbiBhZGQgdGhlIG5ldyBjbGFzc2VzXG5cdFx0XHQvLyBiZWxvdy5cblx0XHRcdGVsZW1lbnRzID0gJCggY3VycmVudEVsZW1lbnRzLmdldCgpICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggY3VycmVudEVsZW1lbnRzLCBjbGFzc0tleSApO1xuXG5cdFx0XHQvLyBXZSBkb24ndCB1c2UgX2FkZENsYXNzKCkgaGVyZSwgYmVjYXVzZSB0aGF0IHVzZXMgdGhpcy5vcHRpb25zLmNsYXNzZXNcblx0XHRcdC8vIGZvciBnZW5lcmF0aW5nIHRoZSBzdHJpbmcgb2YgY2xhc3Nlcy4gV2Ugd2FudCB0byB1c2UgdGhlIHZhbHVlIHBhc3NlZCBpbiBmcm9tXG5cdFx0XHQvLyBfc2V0T3B0aW9uKCksIHRoaXMgaXMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgY2xhc3NlcyBvcHRpb24gd2hpY2ggd2FzIHBhc3NlZCB0b1xuXHRcdFx0Ly8gX3NldE9wdGlvbigpLiBXZSBwYXNzIHRoaXMgdmFsdWUgZGlyZWN0bHkgdG8gX2NsYXNzZXMoKS5cblx0XHRcdGVsZW1lbnRzLmFkZENsYXNzKCB0aGlzLl9jbGFzc2VzKCB7XG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRzLFxuXHRcdFx0XHRrZXlzOiBjbGFzc0tleSxcblx0XHRcdFx0Y2xhc3NlczogdmFsdWUsXG5cdFx0XHRcdGFkZDogdHJ1ZVxuXHRcdFx0fSApICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb25EaXNhYmxlZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMuX3RvZ2dsZUNsYXNzKCB0aGlzLndpZGdldCgpLCB0aGlzLndpZGdldEZ1bGxOYW1lICsgXCItZGlzYWJsZWRcIiwgbnVsbCwgISF2YWx1ZSApO1xuXG5cdFx0Ly8gSWYgdGhlIHdpZGdldCBpcyBiZWNvbWluZyBkaXNhYmxlZCwgdGhlbiBub3RoaW5nIGlzIGludGVyYWN0aXZlXG5cdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmhvdmVyYWJsZSwgbnVsbCwgXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggdGhpcy5mb2N1c2FibGUsIG51bGwsIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKCB7IGRpc2FibGVkOiBmYWxzZSB9ICk7XG5cdH0sXG5cblx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoIHsgZGlzYWJsZWQ6IHRydWUgfSApO1xuXHR9LFxuXG5cdF9jbGFzc2VzOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgZnVsbCA9IFtdO1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCgge1xuXHRcdFx0ZWxlbWVudDogdGhpcy5lbGVtZW50LFxuXHRcdFx0Y2xhc3NlczogdGhpcy5vcHRpb25zLmNsYXNzZXMgfHwge31cblx0XHR9LCBvcHRpb25zICk7XG5cblx0XHRmdW5jdGlvbiBwcm9jZXNzQ2xhc3NTdHJpbmcoIGNsYXNzZXMsIGNoZWNrT3B0aW9uICkge1xuXHRcdFx0dmFyIGN1cnJlbnQsIGk7XG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGN1cnJlbnQgPSB0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBjbGFzc2VzWyBpIF0gXSB8fCAkKCk7XG5cdFx0XHRcdGlmICggb3B0aW9ucy5hZGQgKSB7XG5cdFx0XHRcdFx0Y3VycmVudCA9ICQoICQudW5pcXVlKCBjdXJyZW50LmdldCgpLmNvbmNhdCggb3B0aW9ucy5lbGVtZW50LmdldCgpICkgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGN1cnJlbnQgPSAkKCBjdXJyZW50Lm5vdCggb3B0aW9ucy5lbGVtZW50ICkuZ2V0KCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGF0LmNsYXNzZXNFbGVtZW50TG9va3VwWyBjbGFzc2VzWyBpIF0gXSA9IGN1cnJlbnQ7XG5cdFx0XHRcdGZ1bGwucHVzaCggY2xhc3Nlc1sgaSBdICk7XG5cdFx0XHRcdGlmICggY2hlY2tPcHRpb24gJiYgb3B0aW9ucy5jbGFzc2VzWyBjbGFzc2VzWyBpIF0gXSApIHtcblx0XHRcdFx0XHRmdWxsLnB1c2goIG9wdGlvbnMuY2xhc3Nlc1sgY2xhc3Nlc1sgaSBdIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX29uKCBvcHRpb25zLmVsZW1lbnQsIHtcblx0XHRcdFwicmVtb3ZlXCI6IFwiX3VudHJhY2tDbGFzc2VzRWxlbWVudFwiXG5cdFx0fSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLmtleXMgKSB7XG5cdFx0XHRwcm9jZXNzQ2xhc3NTdHJpbmcoIG9wdGlvbnMua2V5cy5tYXRjaCggL1xcUysvZyApIHx8IFtdLCB0cnVlICk7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5leHRyYSApIHtcblx0XHRcdHByb2Nlc3NDbGFzc1N0cmluZyggb3B0aW9ucy5leHRyYS5tYXRjaCggL1xcUysvZyApIHx8IFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZ1bGwuam9pbiggXCIgXCIgKTtcblx0fSxcblxuXHRfdW50cmFja0NsYXNzZXNFbGVtZW50OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdCQuZWFjaCggdGhhdC5jbGFzc2VzRWxlbWVudExvb2t1cCwgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoICQuaW5BcnJheSggZXZlbnQudGFyZ2V0LCB2YWx1ZSApICE9PSAtMSApIHtcblx0XHRcdFx0dGhhdC5jbGFzc2VzRWxlbWVudExvb2t1cFsga2V5IF0gPSAkKCB2YWx1ZS5ub3QoIGV2ZW50LnRhcmdldCApLmdldCgpICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9yZW1vdmVDbGFzczogZnVuY3Rpb24oIGVsZW1lbnQsIGtleXMsIGV4dHJhICkge1xuXHRcdHJldHVybiB0aGlzLl90b2dnbGVDbGFzcyggZWxlbWVudCwga2V5cywgZXh0cmEsIGZhbHNlICk7XG5cdH0sXG5cblx0X2FkZENsYXNzOiBmdW5jdGlvbiggZWxlbWVudCwga2V5cywgZXh0cmEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKCBlbGVtZW50LCBrZXlzLCBleHRyYSwgdHJ1ZSApO1xuXHR9LFxuXG5cdF90b2dnbGVDbGFzczogZnVuY3Rpb24oIGVsZW1lbnQsIGtleXMsIGV4dHJhLCBhZGQgKSB7XG5cdFx0YWRkID0gKCB0eXBlb2YgYWRkID09PSBcImJvb2xlYW5cIiApID8gYWRkIDogZXh0cmE7XG5cdFx0dmFyIHNoaWZ0ID0gKCB0eXBlb2YgZWxlbWVudCA9PT0gXCJzdHJpbmdcIiB8fCBlbGVtZW50ID09PSBudWxsICksXG5cdFx0XHRvcHRpb25zID0ge1xuXHRcdFx0XHRleHRyYTogc2hpZnQgPyBrZXlzIDogZXh0cmEsXG5cdFx0XHRcdGtleXM6IHNoaWZ0ID8gZWxlbWVudCA6IGtleXMsXG5cdFx0XHRcdGVsZW1lbnQ6IHNoaWZ0ID8gdGhpcy5lbGVtZW50IDogZWxlbWVudCxcblx0XHRcdFx0YWRkOiBhZGRcblx0XHRcdH07XG5cdFx0b3B0aW9ucy5lbGVtZW50LnRvZ2dsZUNsYXNzKCB0aGlzLl9jbGFzc2VzKCBvcHRpb25zICksIGFkZCApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9vbjogZnVuY3Rpb24oIHN1cHByZXNzRGlzYWJsZWRDaGVjaywgZWxlbWVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGRlbGVnYXRlRWxlbWVudDtcblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG5cdFx0Ly8gTm8gc3VwcHJlc3NEaXNhYmxlZENoZWNrIGZsYWcsIHNodWZmbGUgYXJndW1lbnRzXG5cdFx0aWYgKCB0eXBlb2Ygc3VwcHJlc3NEaXNhYmxlZENoZWNrICE9PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcblx0XHRcdGVsZW1lbnQgPSBzdXBwcmVzc0Rpc2FibGVkQ2hlY2s7XG5cdFx0XHRzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBObyBlbGVtZW50IGFyZ3VtZW50LCBzaHVmZmxlIGFuZCB1c2UgdGhpcy5lbGVtZW50XG5cdFx0aWYgKCAhaGFuZGxlcnMgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXHRcdFx0ZGVsZWdhdGVFbGVtZW50ID0gdGhpcy53aWRnZXQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudCA9IGRlbGVnYXRlRWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcblx0XHRcdHRoaXMuYmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmFkZCggZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdCQuZWFjaCggaGFuZGxlcnMsIGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlciApIHtcblx0XHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblxuXHRcdFx0XHQvLyBBbGxvdyB3aWRnZXRzIHRvIGN1c3RvbWl6ZSB0aGUgZGlzYWJsZWQgaGFuZGxpbmdcblx0XHRcdFx0Ly8gLSBkaXNhYmxlZCBhcyBhbiBhcnJheSBpbnN0ZWFkIG9mIGJvb2xlYW5cblx0XHRcdFx0Ly8gLSBkaXNhYmxlZCBjbGFzcyBhcyBtZXRob2QgZm9yIGRpc2FibGluZyBpbmRpdmlkdWFsIHBhcnRzXG5cdFx0XHRcdGlmICggIXN1cHByZXNzRGlzYWJsZWRDaGVjayAmJlxuXHRcdFx0XHRcdFx0KCBpbnN0YW5jZS5vcHRpb25zLmRpc2FibGVkID09PSB0cnVlIHx8XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxuXHRcdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb3B5IHRoZSBndWlkIHNvIGRpcmVjdCB1bmJpbmRpbmcgd29ya3Ncblx0XHRcdGlmICggdHlwZW9mIGhhbmRsZXIgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdGhhbmRsZXJQcm94eS5ndWlkID0gaGFuZGxlci5ndWlkID1cblx0XHRcdFx0XHRoYW5kbGVyLmd1aWQgfHwgaGFuZGxlclByb3h5Lmd1aWQgfHwgJC5ndWlkKys7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBtYXRjaCA9IGV2ZW50Lm1hdGNoKCAvXihbXFx3Oi1dKilcXHMqKC4qKSQvICk7XG5cdFx0XHR2YXIgZXZlbnROYW1lID0gbWF0Y2hbIDEgXSArIGluc3RhbmNlLmV2ZW50TmFtZXNwYWNlO1xuXHRcdFx0dmFyIHNlbGVjdG9yID0gbWF0Y2hbIDIgXTtcblxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0ZGVsZWdhdGVFbGVtZW50Lm9uKCBldmVudE5hbWUsIHNlbGVjdG9yLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnQub24oIGV2ZW50TmFtZSwgaGFuZGxlclByb3h5ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdF9vZmY6IGZ1bmN0aW9uKCBlbGVtZW50LCBldmVudE5hbWUgKSB7XG5cdFx0ZXZlbnROYW1lID0gKCBldmVudE5hbWUgfHwgXCJcIiApLnNwbGl0KCBcIiBcIiApLmpvaW4oIHRoaXMuZXZlbnROYW1lc3BhY2UgKyBcIiBcIiApICtcblx0XHRcdHRoaXMuZXZlbnROYW1lc3BhY2U7XG5cdFx0ZWxlbWVudC5vZmYoIGV2ZW50TmFtZSApLm9mZiggZXZlbnROYW1lICk7XG5cblx0XHQvLyBDbGVhciB0aGUgc3RhY2sgdG8gYXZvaWQgbWVtb3J5IGxlYWtzICgjMTAwNTYpXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoIHRoaXMuYmluZGluZ3Mubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoIHRoaXMuZm9jdXNhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSAkKCB0aGlzLmhvdmVyYWJsZS5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHR9LFxuXG5cdF9kZWxheTogZnVuY3Rpb24oIGhhbmRsZXIsIGRlbGF5ICkge1xuXHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxuXHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0dmFyIGluc3RhbmNlID0gdGhpcztcblx0XHRyZXR1cm4gc2V0VGltZW91dCggaGFuZGxlclByb3h5LCBkZWxheSB8fCAwICk7XG5cdH0sXG5cblx0X2hvdmVyYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSB0aGlzLmhvdmVyYWJsZS5hZGQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLl9vbiggZWxlbWVudCwge1xuXHRcdFx0bW91c2VlbnRlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9hZGRDbGFzcyggJCggZXZlbnQuY3VycmVudFRhcmdldCApLCBudWxsLCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdH0sXG5cdFx0XHRtb3VzZWxlYXZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfZm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmZvY3VzYWJsZSA9IHRoaXMuZm9jdXNhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdFx0fSxcblx0XHRcdGZvY3Vzb3V0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBkYXRhICkge1xuXHRcdHZhciBwcm9wLCBvcmlnO1xuXHRcdHZhciBjYWxsYmFjayA9IHRoaXMub3B0aW9uc1sgdHlwZSBdO1xuXG5cdFx0ZGF0YSA9IGRhdGEgfHwge307XG5cdFx0ZXZlbnQgPSAkLkV2ZW50KCBldmVudCApO1xuXHRcdGV2ZW50LnR5cGUgPSAoIHR5cGUgPT09IHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggP1xuXHRcdFx0dHlwZSA6XG5cdFx0XHR0aGlzLndpZGdldEV2ZW50UHJlZml4ICsgdHlwZSApLnRvTG93ZXJDYXNlKCk7XG5cblx0XHQvLyBUaGUgb3JpZ2luYWwgZXZlbnQgbWF5IGNvbWUgZnJvbSBhbnkgZWxlbWVudFxuXHRcdC8vIHNvIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHRhcmdldCBvbiB0aGUgbmV3IGV2ZW50XG5cdFx0ZXZlbnQudGFyZ2V0ID0gdGhpcy5lbGVtZW50WyAwIF07XG5cblx0XHQvLyBDb3B5IG9yaWdpbmFsIGV2ZW50IHByb3BlcnRpZXMgb3ZlciB0byB0aGUgbmV3IGV2ZW50XG5cdFx0b3JpZyA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG5cdFx0aWYgKCBvcmlnICkge1xuXHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRpZiAoICEoIHByb3AgaW4gZXZlbnQgKSApIHtcblx0XHRcdFx0XHRldmVudFsgcHJvcCBdID0gb3JpZ1sgcHJvcCBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7XG5cdFx0cmV0dXJuICEoICQuaXNGdW5jdGlvbiggY2FsbGJhY2sgKSAmJlxuXHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMuZWxlbWVudFsgMCBdLCBbIGV2ZW50IF0uY29uY2F0KCBkYXRhICkgKSA9PT0gZmFsc2UgfHxcblx0XHRcdGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICk7XG5cdH1cbn07XG5cbiQuZWFjaCggeyBzaG93OiBcImZhZGVJblwiLCBoaWRlOiBcImZhZGVPdXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBkZWZhdWx0RWZmZWN0ICkge1xuXHQkLldpZGdldC5wcm90b3R5cGVbIFwiX1wiICsgbWV0aG9kIF0gPSBmdW5jdGlvbiggZWxlbWVudCwgb3B0aW9ucywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGVmZmVjdDogb3B0aW9ucyB9O1xuXHRcdH1cblxuXHRcdHZhciBoYXNPcHRpb25zO1xuXHRcdHZhciBlZmZlY3ROYW1lID0gIW9wdGlvbnMgP1xuXHRcdFx0bWV0aG9kIDpcblx0XHRcdG9wdGlvbnMgPT09IHRydWUgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0XHRkZWZhdWx0RWZmZWN0IDpcblx0XHRcdFx0b3B0aW9ucy5lZmZlY3QgfHwgZGVmYXVsdEVmZmVjdDtcblxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRvcHRpb25zID0geyBkdXJhdGlvbjogb3B0aW9ucyB9O1xuXHRcdH1cblxuXHRcdGhhc09wdGlvbnMgPSAhJC5pc0VtcHR5T2JqZWN0KCBvcHRpb25zICk7XG5cdFx0b3B0aW9ucy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuXG5cdFx0aWYgKCBvcHRpb25zLmRlbGF5ICkge1xuXHRcdFx0ZWxlbWVudC5kZWxheSggb3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblxuXHRcdGlmICggaGFzT3B0aW9ucyAmJiAkLmVmZmVjdHMgJiYgJC5lZmZlY3RzLmVmZmVjdFsgZWZmZWN0TmFtZSBdICkge1xuXHRcdFx0ZWxlbWVudFsgbWV0aG9kIF0oIG9wdGlvbnMgKTtcblx0XHR9IGVsc2UgaWYgKCBlZmZlY3ROYW1lICE9PSBtZXRob2QgJiYgZWxlbWVudFsgZWZmZWN0TmFtZSBdICkge1xuXHRcdFx0ZWxlbWVudFsgZWZmZWN0TmFtZSBdKCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5xdWV1ZSggZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKVsgbWV0aG9kIF0oKTtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCBlbGVtZW50WyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5yZXR1cm4gJC53aWRnZXQ7XG5cbn0gKSApO1xuIiwiLyohXG4gKiBqUXVlcnkgVUkgTW91c2UgMS4xMi4xXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqL1xuXG4vLz4+bGFiZWw6IE1vdXNlXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogQWJzdHJhY3RzIG1vdXNlLWJhc2VkIGludGVyYWN0aW9ucyB0byBhc3Npc3QgaW4gY3JlYXRpbmcgY2VydGFpbiB3aWRnZXRzLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL21vdXNlL1xuXG4oIGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZSggW1xuXHRcdFx0XCJqcXVlcnlcIixcblx0XHRcdFwiLi4vaWVcIixcblx0XHRcdFwiLi4vdmVyc2lvblwiLFxuXHRcdFx0XCIuLi93aWRnZXRcIlxuXHRcdF0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KCBmdW5jdGlvbiggJCApIHtcblxudmFyIG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuJCggZG9jdW1lbnQgKS5vbiggXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKCkge1xuXHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcbn0gKTtcblxucmV0dXJuICQud2lkZ2V0KCBcInVpLm1vdXNlXCIsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0b3B0aW9uczoge1xuXHRcdGNhbmNlbDogXCJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb25cIixcblx0XHRkaXN0YW5jZTogMSxcblx0XHRkZWxheTogMFxuXHR9LFxuXHRfbW91c2VJbml0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5vbiggXCJtb3VzZWRvd24uXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlRG93biggZXZlbnQgKTtcblx0XHRcdH0gKVxuXHRcdFx0Lm9uKCBcImNsaWNrLlwiICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdHJ1ZSA9PT0gJC5kYXRhKCBldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIgKSApIHtcblx0XHRcdFx0XHQkLnJlbW92ZURhdGEoIGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXG5cdFx0dGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdH0sXG5cblx0Ly8gVE9ETzogbWFrZSBzdXJlIGRlc3Ryb3lpbmcgb25lIGluc3RhbmNlIG9mIG1vdXNlIGRvZXNuJ3QgbWVzcyB3aXRoXG5cdC8vIG90aGVyIGluc3RhbmNlcyBvZiBtb3VzZVxuXHRfbW91c2VEZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQub2ZmKCBcIi5cIiArIHRoaXMud2lkZ2V0TmFtZSApO1xuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHRcdC5vZmYoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHRcdC5vZmYoIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9tb3VzZURvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIGRvbid0IGxldCBtb3JlIHRoYW4gb25lIHdpZGdldCBoYW5kbGUgbW91c2VTdGFydFxuXHRcdGlmICggbW91c2VIYW5kbGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX21vdXNlTW92ZWQgPSBmYWxzZTtcblxuXHRcdC8vIFdlIG1heSBoYXZlIG1pc3NlZCBtb3VzZXVwIChvdXQgb2Ygd2luZG93KVxuXHRcdCggdGhpcy5fbW91c2VTdGFydGVkICYmIHRoaXMuX21vdXNlVXAoIGV2ZW50ICkgKTtcblxuXHRcdHRoaXMuX21vdXNlRG93bkV2ZW50ID0gZXZlbnQ7XG5cblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidG5Jc0xlZnQgPSAoIGV2ZW50LndoaWNoID09PSAxICksXG5cblx0XHRcdC8vIGV2ZW50LnRhcmdldC5ub2RlTmFtZSB3b3JrcyBhcm91bmQgYSBidWcgaW4gSUUgOCB3aXRoXG5cdFx0XHQvLyBkaXNhYmxlZCBpbnB1dHMgKCM3NjIwKVxuXHRcdFx0ZWxJc0NhbmNlbCA9ICggdHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWwgPT09IFwic3RyaW5nXCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID9cblx0XHRcdFx0JCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggdGhpcy5vcHRpb25zLmNhbmNlbCApLmxlbmd0aCA6IGZhbHNlICk7XG5cdFx0aWYgKCAhYnRuSXNMZWZ0IHx8IGVsSXNDYW5jZWwgfHwgIXRoaXMuX21vdXNlQ2FwdHVyZSggZXZlbnQgKSApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHRoaXMubW91c2VEZWxheU1ldCA9ICF0aGlzLm9wdGlvbnMuZGVsYXk7XG5cdFx0aWYgKCAhdGhpcy5tb3VzZURlbGF5TWV0ICkge1xuXHRcdFx0dGhpcy5fbW91c2VEZWxheVRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQubW91c2VEZWxheU1ldCA9IHRydWU7XG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuZGVsYXkgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoIGV2ZW50ICkgJiYgdGhpcy5fbW91c2VEZWxheU1ldCggZXZlbnQgKSApIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9ICggdGhpcy5fbW91c2VTdGFydCggZXZlbnQgKSAhPT0gZmFsc2UgKTtcblx0XHRcdGlmICggIXRoaXMuX21vdXNlU3RhcnRlZCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2xpY2sgZXZlbnQgbWF5IG5ldmVyIGhhdmUgZmlyZWQgKEdlY2tvICYgT3BlcmEpXG5cdFx0aWYgKCB0cnVlID09PSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIiApICkge1xuXHRcdFx0JC5yZW1vdmVEYXRhKCBldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIgKTtcblx0XHR9XG5cblx0XHQvLyBUaGVzZSBkZWxlZ2F0ZXMgYXJlIHJlcXVpcmVkIHRvIGtlZXAgY29udGV4dFxuXHRcdHRoaXMuX21vdXNlTW92ZURlbGVnYXRlID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoYXQuX21vdXNlTW92ZSggZXZlbnQgKTtcblx0XHR9O1xuXHRcdHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZVVwKCBldmVudCApO1xuXHRcdH07XG5cblx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHQub24oIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQub24oIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0bW91c2VIYW5kbGVkID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VNb3ZlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBPbmx5IGNoZWNrIGZvciBtb3VzZXVwcyBvdXRzaWRlIHRoZSBkb2N1bWVudCBpZiB5b3UndmUgbW92ZWQgaW5zaWRlIHRoZSBkb2N1bWVudFxuXHRcdC8vIGF0IGxlYXN0IG9uY2UuIFRoaXMgcHJldmVudHMgdGhlIGZpcmluZyBvZiBtb3VzZXVwIGluIHRoZSBjYXNlIG9mIElFPDksIHdoaWNoIHdpbGxcblx0XHQvLyBmaXJlIGEgbW91c2Vtb3ZlIGV2ZW50IGlmIGNvbnRlbnQgaXMgcGxhY2VkIHVuZGVyIHRoZSBjdXJzb3IuIFNlZSAjNzc3OFxuXHRcdC8vIFN1cHBvcnQ6IElFIDw5XG5cdFx0aWYgKCB0aGlzLl9tb3VzZU1vdmVkICkge1xuXG5cdFx0XHQvLyBJRSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBoYXBwZW5lZCB3aGVuIG1vdXNlIHdhcyBvdXQgb2Ygd2luZG93XG5cdFx0XHRpZiAoICQudWkuaWUgJiYgKCAhZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDkgKSAmJlxuXHRcdFx0XHRcdCFldmVudC5idXR0b24gKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXG5cdFx0XHQvLyBJZnJhbWUgbW91c2V1cCBjaGVjayAtIG1vdXNldXAgb2NjdXJyZWQgaW4gYW5vdGhlciBkb2N1bWVudFxuXHRcdFx0fSBlbHNlIGlmICggIWV2ZW50LndoaWNoICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTggLSA5XG5cdFx0XHRcdC8vIFNhZmFyaSBzZXRzIHdoaWNoIHRvIDAgaWYgeW91IHByZXNzIGFueSBvZiB0aGUgZm9sbG93aW5nIGtleXNcblx0XHRcdFx0Ly8gZHVyaW5nIGEgZHJhZyAoIzE0NDYxKVxuXHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY3RybEtleSB8fFxuXHRcdFx0XHRcdFx0ZXZlbnQub3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAhdGhpcy5pZ25vcmVNaXNzaW5nV2hpY2ggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGV2ZW50LndoaWNoIHx8IGV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdHRoaXMuX21vdXNlTW92ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0dGhpcy5fbW91c2VEcmFnKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLl9tb3VzZURpc3RhbmNlTWV0KCBldmVudCApICYmIHRoaXMuX21vdXNlRGVsYXlNZXQoIGV2ZW50ICkgKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPVxuXHRcdFx0XHQoIHRoaXMuX21vdXNlU3RhcnQoIHRoaXMuX21vdXNlRG93bkV2ZW50LCBldmVudCApICE9PSBmYWxzZSApO1xuXHRcdFx0KCB0aGlzLl9tb3VzZVN0YXJ0ZWQgPyB0aGlzLl9tb3VzZURyYWcoIGV2ZW50ICkgOiB0aGlzLl9tb3VzZVVwKCBldmVudCApICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLl9tb3VzZVN0YXJ0ZWQ7XG5cdH0sXG5cblx0X21vdXNlVXA6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHQub2ZmKCBcIm1vdXNlbW92ZS5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKVxuXHRcdFx0Lm9mZiggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGlmICggdGhpcy5fbW91c2VTdGFydGVkICkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gZmFsc2U7XG5cblx0XHRcdGlmICggZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQgKSB7XG5cdFx0XHRcdCQuZGF0YSggZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX21vdXNlU3RvcCggZXZlbnQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX21vdXNlRGVsYXlUaW1lciApIHtcblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5fbW91c2VEZWxheVRpbWVyICk7XG5cdFx0XHRkZWxldGUgdGhpcy5fbW91c2VEZWxheVRpbWVyO1xuXHRcdH1cblxuXHRcdHRoaXMuaWdub3JlTWlzc2luZ1doaWNoID0gZmFsc2U7XG5cdFx0bW91c2VIYW5kbGVkID0gZmFsc2U7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fSxcblxuXHRfbW91c2VEaXN0YW5jZU1ldDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiAoIE1hdGgubWF4KFxuXHRcdFx0XHRNYXRoLmFicyggdGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVggLSBldmVudC5wYWdlWCApLFxuXHRcdFx0XHRNYXRoLmFicyggdGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVkgLSBldmVudC5wYWdlWSApXG5cdFx0XHQpID49IHRoaXMub3B0aW9ucy5kaXN0YW5jZVxuXHRcdCk7XG5cdH0sXG5cblx0X21vdXNlRGVsYXlNZXQ6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0O1xuXHR9LFxuXG5cdC8vIFRoZXNlIGFyZSBwbGFjZWhvbGRlciBtZXRob2RzLCB0byBiZSBvdmVycmlkZW4gYnkgZXh0ZW5kaW5nIHBsdWdpblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge30sXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHt9LFxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggLyogZXZlbnQgKi8gKSB7fSxcblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIC8qIGV2ZW50ICovICkgeyByZXR1cm4gdHJ1ZTsgfVxufSApO1xuXG59ICkgKTtcbiIsIi8qIVxuICogalF1ZXJ5IFVJIFNsaWRlciAxLjEyLjFcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICovXG5cbi8vPj5sYWJlbDogU2xpZGVyXG4vLz4+Z3JvdXA6IFdpZGdldHNcbi8vPj5kZXNjcmlwdGlvbjogRGlzcGxheXMgYSBmbGV4aWJsZSBzbGlkZXIgd2l0aCByYW5nZXMgYW5kIGFjY2Vzc2liaWxpdHkgdmlhIGtleWJvYXJkLlxuLy8+PmRvY3M6IGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NsaWRlci9cbi8vPj5kZW1vczogaHR0cDovL2pxdWVyeXVpLmNvbS9zbGlkZXIvXG4vLz4+Y3NzLnN0cnVjdHVyZTogLi4vLi4vdGhlbWVzL2Jhc2UvY29yZS5jc3Ncbi8vPj5jc3Muc3RydWN0dXJlOiAuLi8uLi90aGVtZXMvYmFzZS9zbGlkZXIuY3NzXG4vLz4+Y3NzLnRoZW1lOiAuLi8uLi90aGVtZXMvYmFzZS90aGVtZS5jc3NcblxuKCBmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoIFtcblx0XHRcdFwianF1ZXJ5XCIsXG5cdFx0XHRcIi4vbW91c2VcIixcblx0XHRcdFwiLi4va2V5Y29kZVwiLFxuXHRcdFx0XCIuLi92ZXJzaW9uXCIsXG5cdFx0XHRcIi4uL3dpZGdldFwiXG5cdFx0XSwgZmFjdG9yeSApO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XG5cdH1cbn0oIGZ1bmN0aW9uKCAkICkge1xuXG5yZXR1cm4gJC53aWRnZXQoIFwidWkuc2xpZGVyXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjEyLjFcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic2xpZGVcIixcblxuXHRvcHRpb25zOiB7XG5cdFx0YW5pbWF0ZTogZmFsc2UsXG5cdFx0Y2xhc3Nlczoge1xuXHRcdFx0XCJ1aS1zbGlkZXJcIjogXCJ1aS1jb3JuZXItYWxsXCIsXG5cdFx0XHRcInVpLXNsaWRlci1oYW5kbGVcIjogXCJ1aS1jb3JuZXItYWxsXCIsXG5cblx0XHRcdC8vIE5vdGU6IHVpLXdpZGdldC1oZWFkZXIgaXNuJ3QgdGhlIG1vc3QgZml0dGluZ2x5IHNlbWFudGljIGZyYW1ld29yayBjbGFzcyBmb3IgdGhpc1xuXHRcdFx0Ly8gZWxlbWVudCwgYnV0IHdvcmtlZCBiZXN0IHZpc3VhbGx5IHdpdGggYSB2YXJpZXR5IG9mIHRoZW1lc1xuXHRcdFx0XCJ1aS1zbGlkZXItcmFuZ2VcIjogXCJ1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1oZWFkZXJcIlxuXHRcdH0sXG5cdFx0ZGlzdGFuY2U6IDAsXG5cdFx0bWF4OiAxMDAsXG5cdFx0bWluOiAwLFxuXHRcdG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcblx0XHRyYW5nZTogZmFsc2UsXG5cdFx0c3RlcDogMSxcblx0XHR2YWx1ZTogMCxcblx0XHR2YWx1ZXM6IG51bGwsXG5cblx0XHQvLyBDYWxsYmFja3Ncblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0c2xpZGU6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbFxuXHR9LFxuXG5cdC8vIE51bWJlciBvZiBwYWdlcyBpbiBhIHNsaWRlclxuXHQvLyAoaG93IG1hbnkgdGltZXMgY2FuIHlvdSBwYWdlIHVwL2Rvd24gdG8gZ28gdGhyb3VnaCB0aGUgd2hvbGUgcmFuZ2UpXG5cdG51bVBhZ2VzOiA1LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2tleVNsaWRpbmcgPSBmYWxzZTtcblx0XHR0aGlzLl9tb3VzZVNsaWRpbmcgPSBmYWxzZTtcblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHR0aGlzLl9oYW5kbGVJbmRleCA9IG51bGw7XG5cdFx0dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTtcblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblx0XHR0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTtcblxuXHRcdHRoaXMuX2FkZENsYXNzKCBcInVpLXNsaWRlciB1aS1zbGlkZXItXCIgKyB0aGlzLm9yaWVudGF0aW9uLFxuXHRcdFx0XCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHR9LFxuXG5cdF9yZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9jcmVhdGVSYW5nZSgpO1xuXHRcdHRoaXMuX2NyZWF0ZUhhbmRsZXMoKTtcblx0XHR0aGlzLl9zZXR1cEV2ZW50cygpO1xuXHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHR9LFxuXG5cdF9jcmVhdGVIYW5kbGVzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaSwgaGFuZGxlQ291bnQsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzID0gdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLXNsaWRlci1oYW5kbGVcIiApLFxuXHRcdFx0aGFuZGxlID0gXCI8c3BhbiB0YWJpbmRleD0nMCc+PC9zcGFuPlwiLFxuXHRcdFx0aGFuZGxlcyA9IFtdO1xuXG5cdFx0aGFuZGxlQ291bnQgPSAoIG9wdGlvbnMudmFsdWVzICYmIG9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHx8IDE7XG5cblx0XHRpZiAoIGV4aXN0aW5nSGFuZGxlcy5sZW5ndGggPiBoYW5kbGVDb3VudCApIHtcblx0XHRcdGV4aXN0aW5nSGFuZGxlcy5zbGljZSggaGFuZGxlQ291bnQgKS5yZW1vdmUoKTtcblx0XHRcdGV4aXN0aW5nSGFuZGxlcyA9IGV4aXN0aW5nSGFuZGxlcy5zbGljZSggMCwgaGFuZGxlQ291bnQgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gZXhpc3RpbmdIYW5kbGVzLmxlbmd0aDsgaSA8IGhhbmRsZUNvdW50OyBpKysgKSB7XG5cdFx0XHRoYW5kbGVzLnB1c2goIGhhbmRsZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuaGFuZGxlcyA9IGV4aXN0aW5nSGFuZGxlcy5hZGQoICQoIGhhbmRsZXMuam9pbiggXCJcIiApICkuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApICk7XG5cblx0XHR0aGlzLl9hZGRDbGFzcyggdGhpcy5oYW5kbGVzLCBcInVpLXNsaWRlci1oYW5kbGVcIiwgXCJ1aS1zdGF0ZS1kZWZhdWx0XCIgKTtcblxuXHRcdHRoaXMuaGFuZGxlID0gdGhpcy5oYW5kbGVzLmVxKCAwICk7XG5cblx0XHR0aGlzLmhhbmRsZXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHQkKCB0aGlzIClcblx0XHRcdFx0LmRhdGEoIFwidWktc2xpZGVyLWhhbmRsZS1pbmRleFwiLCBpIClcblx0XHRcdFx0LmF0dHIoIFwidGFiSW5kZXhcIiwgMCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRfY3JlYXRlUmFuZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKCBvcHRpb25zLnJhbmdlICkge1xuXHRcdFx0aWYgKCBvcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0XHRpZiAoICFvcHRpb25zLnZhbHVlcyApIHtcblx0XHRcdFx0XHRvcHRpb25zLnZhbHVlcyA9IFsgdGhpcy5fdmFsdWVNaW4oKSwgdGhpcy5fdmFsdWVNaW4oKSBdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLnZhbHVlcy5sZW5ndGggJiYgb3B0aW9ucy52YWx1ZXMubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gWyBvcHRpb25zLnZhbHVlc1sgMCBdLCBvcHRpb25zLnZhbHVlc1sgMCBdIF07XG5cdFx0XHRcdH0gZWxzZSBpZiAoICQuaXNBcnJheSggb3B0aW9ucy52YWx1ZXMgKSApIHtcblx0XHRcdFx0XHRvcHRpb25zLnZhbHVlcyA9IG9wdGlvbnMudmFsdWVzLnNsaWNlKCAwICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhdGhpcy5yYW5nZSB8fCAhdGhpcy5yYW5nZS5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2UgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0XHRcdC5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICk7XG5cblx0XHRcdFx0dGhpcy5fYWRkQ2xhc3MoIHRoaXMucmFuZ2UsIFwidWktc2xpZGVyLXJhbmdlXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLnJhbmdlLCBcInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heFwiICk7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHJhbmdlIHN3aXRjaGluZyBmcm9tIHRydWUgdG8gbWluL21heFxuXHRcdFx0XHR0aGlzLnJhbmdlLmNzcygge1xuXHRcdFx0XHRcdFwibGVmdFwiOiBcIlwiLFxuXHRcdFx0XHRcdFwiYm90dG9tXCI6IFwiXCJcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvcHRpb25zLnJhbmdlID09PSBcIm1pblwiIHx8IG9wdGlvbnMucmFuZ2UgPT09IFwibWF4XCIgKSB7XG5cdFx0XHRcdHRoaXMuX2FkZENsYXNzKCB0aGlzLnJhbmdlLCBcInVpLXNsaWRlci1yYW5nZS1cIiArIG9wdGlvbnMucmFuZ2UgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCB0aGlzLnJhbmdlICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5yYW5nZSA9IG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXR1cEV2ZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmhhbmRsZXMgKTtcblx0XHR0aGlzLl9vbiggdGhpcy5oYW5kbGVzLCB0aGlzLl9oYW5kbGVFdmVudHMgKTtcblx0XHR0aGlzLl9ob3ZlcmFibGUoIHRoaXMuaGFuZGxlcyApO1xuXHRcdHRoaXMuX2ZvY3VzYWJsZSggdGhpcy5oYW5kbGVzICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGFuZGxlcy5yZW1vdmUoKTtcblx0XHRpZiAoIHRoaXMucmFuZ2UgKSB7XG5cdFx0XHR0aGlzLnJhbmdlLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX21vdXNlRGVzdHJveSgpO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgcG9zaXRpb24sIG5vcm1WYWx1ZSwgZGlzdGFuY2UsIGNsb3Nlc3RIYW5kbGUsIGluZGV4LCBhbGxvd2VkLCBvZmZzZXQsIG1vdXNlT3ZlckhhbmRsZSxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblxuXHRcdGlmICggby5kaXNhYmxlZCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnRTaXplID0ge1xuXHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0XHR0aGlzLmVsZW1lbnRPZmZzZXQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0KCk7XG5cblx0XHRwb3NpdGlvbiA9IHsgeDogZXZlbnQucGFnZVgsIHk6IGV2ZW50LnBhZ2VZIH07XG5cdFx0bm9ybVZhbHVlID0gdGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKCBwb3NpdGlvbiApO1xuXHRcdGRpc3RhbmNlID0gdGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCkgKyAxO1xuXHRcdHRoaXMuaGFuZGxlcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB0aGlzRGlzdGFuY2UgPSBNYXRoLmFicyggbm9ybVZhbHVlIC0gdGhhdC52YWx1ZXMoIGkgKSApO1xuXHRcdFx0aWYgKCAoIGRpc3RhbmNlID4gdGhpc0Rpc3RhbmNlICkgfHxcblx0XHRcdFx0KCBkaXN0YW5jZSA9PT0gdGhpc0Rpc3RhbmNlICYmXG5cdFx0XHRcdFx0KCBpID09PSB0aGF0Ll9sYXN0Q2hhbmdlZFZhbHVlIHx8IHRoYXQudmFsdWVzKCBpICkgPT09IG8ubWluICkgKSApIHtcblx0XHRcdFx0ZGlzdGFuY2UgPSB0aGlzRGlzdGFuY2U7XG5cdFx0XHRcdGNsb3Nlc3RIYW5kbGUgPSAkKCB0aGlzICk7XG5cdFx0XHRcdGluZGV4ID0gaTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRhbGxvd2VkID0gdGhpcy5fc3RhcnQoIGV2ZW50LCBpbmRleCApO1xuXHRcdGlmICggYWxsb3dlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IHRydWU7XG5cblx0XHR0aGlzLl9oYW5kbGVJbmRleCA9IGluZGV4O1xuXG5cdFx0dGhpcy5fYWRkQ2xhc3MoIGNsb3Nlc3RIYW5kbGUsIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRjbG9zZXN0SGFuZGxlLnRyaWdnZXIoIFwiZm9jdXNcIiApO1xuXG5cdFx0b2Zmc2V0ID0gY2xvc2VzdEhhbmRsZS5vZmZzZXQoKTtcblx0XHRtb3VzZU92ZXJIYW5kbGUgPSAhJCggZXZlbnQudGFyZ2V0ICkucGFyZW50cygpLmFkZEJhY2soKS5pcyggXCIudWktc2xpZGVyLWhhbmRsZVwiICk7XG5cdFx0dGhpcy5fY2xpY2tPZmZzZXQgPSBtb3VzZU92ZXJIYW5kbGUgPyB7IGxlZnQ6IDAsIHRvcDogMCB9IDoge1xuXHRcdFx0bGVmdDogZXZlbnQucGFnZVggLSBvZmZzZXQubGVmdCAtICggY2xvc2VzdEhhbmRsZS53aWR0aCgpIC8gMiApLFxuXHRcdFx0dG9wOiBldmVudC5wYWdlWSAtIG9mZnNldC50b3AgLVxuXHRcdFx0XHQoIGNsb3Nlc3RIYW5kbGUuaGVpZ2h0KCkgLyAyICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoIFwiYm9yZGVyQm90dG9tV2lkdGhcIiApLCAxMCApIHx8IDAgKSArXG5cdFx0XHRcdCggcGFyc2VJbnQoIGNsb3Nlc3RIYW5kbGUuY3NzKCBcIm1hcmdpblRvcFwiICksIDEwICkgfHwgMCApXG5cdFx0fTtcblxuXHRcdGlmICggIXRoaXMuaGFuZGxlcy5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICkgKSB7XG5cdFx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIGluZGV4LCBub3JtVmFsdWUgKTtcblx0XHR9XG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgcG9zaXRpb24gPSB7IHg6IGV2ZW50LnBhZ2VYLCB5OiBldmVudC5wYWdlWSB9LFxuXHRcdFx0bm9ybVZhbHVlID0gdGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKCBwb3NpdGlvbiApO1xuXG5cdFx0dGhpcy5fc2xpZGUoIGV2ZW50LCB0aGlzLl9oYW5kbGVJbmRleCwgbm9ybVZhbHVlICk7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuX3JlbW92ZUNsYXNzKCB0aGlzLmhhbmRsZXMsIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHR0aGlzLl9tb3VzZVNsaWRpbmcgPSBmYWxzZTtcblxuXHRcdHRoaXMuX3N0b3AoIGV2ZW50LCB0aGlzLl9oYW5kbGVJbmRleCApO1xuXHRcdHRoaXMuX2NoYW5nZSggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4ICk7XG5cblx0XHR0aGlzLl9oYW5kbGVJbmRleCA9IG51bGw7XG5cdFx0dGhpcy5fY2xpY2tPZmZzZXQgPSBudWxsO1xuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfZGV0ZWN0T3JpZW50YXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMub3JpZW50YXRpb24gPSAoIHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIjtcblx0fSxcblxuXHRfbm9ybVZhbHVlRnJvbU1vdXNlOiBmdW5jdGlvbiggcG9zaXRpb24gKSB7XG5cdFx0dmFyIHBpeGVsVG90YWwsXG5cdFx0XHRwaXhlbE1vdXNlLFxuXHRcdFx0cGVyY2VudE1vdXNlLFxuXHRcdFx0dmFsdWVUb3RhbCxcblx0XHRcdHZhbHVlTW91c2U7XG5cblx0XHRpZiAoIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0cGl4ZWxUb3RhbCA9IHRoaXMuZWxlbWVudFNpemUud2lkdGg7XG5cdFx0XHRwaXhlbE1vdXNlID0gcG9zaXRpb24ueCAtIHRoaXMuZWxlbWVudE9mZnNldC5sZWZ0IC1cblx0XHRcdFx0KCB0aGlzLl9jbGlja09mZnNldCA/IHRoaXMuX2NsaWNrT2Zmc2V0LmxlZnQgOiAwICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBpeGVsVG90YWwgPSB0aGlzLmVsZW1lbnRTaXplLmhlaWdodDtcblx0XHRcdHBpeGVsTW91c2UgPSBwb3NpdGlvbi55IC0gdGhpcy5lbGVtZW50T2Zmc2V0LnRvcCAtXG5cdFx0XHRcdCggdGhpcy5fY2xpY2tPZmZzZXQgPyB0aGlzLl9jbGlja09mZnNldC50b3AgOiAwICk7XG5cdFx0fVxuXG5cdFx0cGVyY2VudE1vdXNlID0gKCBwaXhlbE1vdXNlIC8gcGl4ZWxUb3RhbCApO1xuXHRcdGlmICggcGVyY2VudE1vdXNlID4gMSApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDE7XG5cdFx0fVxuXHRcdGlmICggcGVyY2VudE1vdXNlIDwgMCApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDA7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMSAtIHBlcmNlbnRNb3VzZTtcblx0XHR9XG5cblx0XHR2YWx1ZVRvdGFsID0gdGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0dmFsdWVNb3VzZSA9IHRoaXMuX3ZhbHVlTWluKCkgKyBwZXJjZW50TW91c2UgKiB2YWx1ZVRvdGFsO1xuXG5cdFx0cmV0dXJuIHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWx1ZU1vdXNlICk7XG5cdH0sXG5cblx0X3VpSGFzaDogZnVuY3Rpb24oIGluZGV4LCB2YWx1ZSwgdmFsdWVzICkge1xuXHRcdHZhciB1aUhhc2ggPSB7XG5cdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlc1sgaW5kZXggXSxcblx0XHRcdGhhbmRsZUluZGV4OiBpbmRleCxcblx0XHRcdHZhbHVlOiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB0aGlzLnZhbHVlKClcblx0XHR9O1xuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0dWlIYXNoLnZhbHVlID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHR1aUhhc2gudmFsdWVzID0gdmFsdWVzIHx8IHRoaXMudmFsdWVzKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVpSGFzaDtcblx0fSxcblxuXHRfaGFzTXVsdGlwbGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoO1xuXHR9LFxuXG5cdF9zdGFydDogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJpZ2dlciggXCJzdGFydFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCBpbmRleCApICk7XG5cdH0sXG5cblx0X3NsaWRlOiBmdW5jdGlvbiggZXZlbnQsIGluZGV4LCBuZXdWYWwgKSB7XG5cdFx0dmFyIGFsbG93ZWQsIG90aGVyVmFsLFxuXHRcdFx0Y3VycmVudFZhbHVlID0gdGhpcy52YWx1ZSgpLFxuXHRcdFx0bmV3VmFsdWVzID0gdGhpcy52YWx1ZXMoKTtcblxuXHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdG90aGVyVmFsID0gdGhpcy52YWx1ZXMoIGluZGV4ID8gMCA6IDEgKTtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoID09PSAyICYmIHRoaXMub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0bmV3VmFsID0gIGluZGV4ID09PSAwID8gTWF0aC5taW4oIG90aGVyVmFsLCBuZXdWYWwgKSA6IE1hdGgubWF4KCBvdGhlclZhbCwgbmV3VmFsICk7XG5cdFx0XHR9XG5cblx0XHRcdG5ld1ZhbHVlc1sgaW5kZXggXSA9IG5ld1ZhbDtcblx0XHR9XG5cblx0XHRpZiAoIG5ld1ZhbCA9PT0gY3VycmVudFZhbHVlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGFsbG93ZWQgPSB0aGlzLl90cmlnZ2VyKCBcInNsaWRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIGluZGV4LCBuZXdWYWwsIG5ld1ZhbHVlcyApICk7XG5cblx0XHQvLyBBIHNsaWRlIGNhbiBiZSBjYW5jZWxlZCBieSByZXR1cm5pbmcgZmFsc2UgZnJvbSB0aGUgc2xpZGUgY2FsbGJhY2tcblx0XHRpZiAoIGFsbG93ZWQgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdHRoaXMudmFsdWVzKCBpbmRleCwgbmV3VmFsICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudmFsdWUoIG5ld1ZhbCApO1xuXHRcdH1cblx0fSxcblxuXHRfc3RvcDogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggaW5kZXggKSApO1xuXHR9LFxuXG5cdF9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXggKSB7XG5cdFx0aWYgKCAhdGhpcy5fa2V5U2xpZGluZyAmJiAhdGhpcy5fbW91c2VTbGlkaW5nICkge1xuXG5cdFx0XHQvL3N0b3JlIHRoZSBsYXN0IGNoYW5nZWQgdmFsdWUgaW5kZXggZm9yIHJlZmVyZW5jZSB3aGVuIGhhbmRsZXMgb3ZlcmxhcFxuXHRcdFx0dGhpcy5fbGFzdENoYW5nZWRWYWx1ZSA9IGluZGV4O1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggaW5kZXggKSApO1xuXHRcdH1cblx0fSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIDAgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fdmFsdWUoKTtcblx0fSxcblxuXHR2YWx1ZXM6IGZ1bmN0aW9uKCBpbmRleCwgbmV3VmFsdWUgKSB7XG5cdFx0dmFyIHZhbHMsXG5cdFx0XHRuZXdWYWx1ZXMsXG5cdFx0XHRpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID4gMSApIHtcblx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZXNbIGluZGV4IF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggbmV3VmFsdWUgKTtcblx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCBpbmRleCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggJC5pc0FycmF5KCBhcmd1bWVudHNbIDAgXSApICkge1xuXHRcdFx0XHR2YWxzID0gdGhpcy5vcHRpb25zLnZhbHVlcztcblx0XHRcdFx0bmV3VmFsdWVzID0gYXJndW1lbnRzWyAwIF07XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkgKz0gMSApIHtcblx0XHRcdFx0XHR2YWxzWyBpIF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggbmV3VmFsdWVzWyBpIF0gKTtcblx0XHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVzKCBpbmRleCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLnZhbHVlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlcygpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSxcblx0XHRcdHZhbHNMZW5ndGggPSAwO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwicmFuZ2VcIiAmJiB0aGlzLm9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBcIm1pblwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl92YWx1ZXMoIDAgKTtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlcyA9IG51bGw7XG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gXCJtYXhcIiApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdmFsdWVzKCB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCAtIDEgKTtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlcyA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAkLmlzQXJyYXkoIHRoaXMub3B0aW9ucy52YWx1ZXMgKSApIHtcblx0XHRcdHZhbHNMZW5ndGggPSB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aDtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0c3dpdGNoICgga2V5ICkge1xuXHRcdFx0Y2FzZSBcIm9yaWVudGF0aW9uXCI6XG5cdFx0XHRcdHRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZUNsYXNzKCBcInVpLXNsaWRlci1ob3Jpem9udGFsIHVpLXNsaWRlci12ZXJ0aWNhbFwiIClcblx0XHRcdFx0XHQuX2FkZENsYXNzKCBcInVpLXNsaWRlci1cIiArIHRoaXMub3JpZW50YXRpb24gKTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLnJhbmdlICkge1xuXHRcdFx0XHRcdHRoaXMuX3JlZnJlc2hSYW5nZSggdmFsdWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlc2V0IHBvc2l0aW9uaW5nIGZyb20gcHJldmlvdXMgb3JpZW50YXRpb25cblx0XHRcdFx0dGhpcy5oYW5kbGVzLmNzcyggdmFsdWUgPT09IFwiaG9yaXpvbnRhbFwiID8gXCJib3R0b21cIiA6IFwibGVmdFwiLCBcIlwiICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInZhbHVlXCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCAwICk7XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwidmFsdWVzXCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblxuXHRcdFx0XHQvLyBTdGFydCBmcm9tIHRoZSBsYXN0IGhhbmRsZSB0byBwcmV2ZW50IHVucmVhY2hhYmxlIGhhbmRsZXMgKCM5MDQ2KVxuXHRcdFx0XHRmb3IgKCBpID0gdmFsc0xlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwic3RlcFwiOlxuXHRcdFx0Y2FzZSBcIm1pblwiOlxuXHRcdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInJhbmdlXCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb25EaXNhYmxlZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCB2YWx1ZSApO1xuXG5cdFx0dGhpcy5fdG9nZ2xlQ2xhc3MoIG51bGwsIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHR9LFxuXG5cdC8vaW50ZXJuYWwgdmFsdWUgZ2V0dGVyXG5cdC8vIF92YWx1ZSgpIHJldHVybnMgdmFsdWUgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdF92YWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZhbCA9IHRoaXMub3B0aW9ucy52YWx1ZTtcblx0XHR2YWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsICk7XG5cblx0XHRyZXR1cm4gdmFsO1xuXHR9LFxuXG5cdC8vaW50ZXJuYWwgdmFsdWVzIGdldHRlclxuXHQvLyBfdmFsdWVzKCkgcmV0dXJucyBhcnJheSBvZiB2YWx1ZXMgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdC8vIF92YWx1ZXMoIGluZGV4ICkgcmV0dXJucyBzaW5nbGUgdmFsdWUgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdF92YWx1ZXM6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgdmFsLFxuXHRcdFx0dmFscyxcblx0XHRcdGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR2YWwgPSB0aGlzLm9wdGlvbnMudmFsdWVzWyBpbmRleCBdO1xuXHRcdFx0dmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbCApO1xuXG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkgKSB7XG5cblx0XHRcdC8vIC5zbGljZSgpIGNyZWF0ZXMgYSBjb3B5IG9mIHRoZSBhcnJheVxuXHRcdFx0Ly8gdGhpcyBjb3B5IGdldHMgdHJpbW1lZCBieSBtaW4gYW5kIG1heCBhbmQgdGhlbiByZXR1cm5lZFxuXHRcdFx0dmFscyA9IHRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKTtcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkgKz0gMSApIHtcblx0XHRcdFx0dmFsc1sgaSBdID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbHNbIGkgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFscztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fSxcblxuXHQvLyBSZXR1cm5zIHRoZSBzdGVwLWFsaWduZWQgdmFsdWUgdGhhdCB2YWwgaXMgY2xvc2VzdCB0bywgYmV0d2VlbiAoaW5jbHVzaXZlKSBtaW4gYW5kIG1heFxuXHRfdHJpbUFsaWduVmFsdWU6IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0aWYgKCB2YWwgPD0gdGhpcy5fdmFsdWVNaW4oKSApIHtcblx0XHRcdHJldHVybiB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdH1cblx0XHRpZiAoIHZhbCA+PSB0aGlzLl92YWx1ZU1heCgpICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0fVxuXHRcdHZhciBzdGVwID0gKCB0aGlzLm9wdGlvbnMuc3RlcCA+IDAgKSA/IHRoaXMub3B0aW9ucy5zdGVwIDogMSxcblx0XHRcdHZhbE1vZFN0ZXAgPSAoIHZhbCAtIHRoaXMuX3ZhbHVlTWluKCkgKSAlIHN0ZXAsXG5cdFx0XHRhbGlnblZhbHVlID0gdmFsIC0gdmFsTW9kU3RlcDtcblxuXHRcdGlmICggTWF0aC5hYnMoIHZhbE1vZFN0ZXAgKSAqIDIgPj0gc3RlcCApIHtcblx0XHRcdGFsaWduVmFsdWUgKz0gKCB2YWxNb2RTdGVwID4gMCApID8gc3RlcCA6ICggLXN0ZXAgKTtcblx0XHR9XG5cblx0XHQvLyBTaW5jZSBKYXZhU2NyaXB0IGhhcyBwcm9ibGVtcyB3aXRoIGxhcmdlIGZsb2F0cywgcm91bmRcblx0XHQvLyB0aGUgZmluYWwgdmFsdWUgdG8gNSBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgKHNlZSAjNDEyNClcblx0XHRyZXR1cm4gcGFyc2VGbG9hdCggYWxpZ25WYWx1ZS50b0ZpeGVkKCA1ICkgKTtcblx0fSxcblxuXHRfY2FsY3VsYXRlTmV3TWF4OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbWF4ID0gdGhpcy5vcHRpb25zLm1heCxcblx0XHRcdG1pbiA9IHRoaXMuX3ZhbHVlTWluKCksXG5cdFx0XHRzdGVwID0gdGhpcy5vcHRpb25zLnN0ZXAsXG5cdFx0XHRhYm92ZU1pbiA9IE1hdGgucm91bmQoICggbWF4IC0gbWluICkgLyBzdGVwICkgKiBzdGVwO1xuXHRcdG1heCA9IGFib3ZlTWluICsgbWluO1xuXHRcdGlmICggbWF4ID4gdGhpcy5vcHRpb25zLm1heCApIHtcblxuXHRcdFx0Ly9JZiBtYXggaXMgbm90IGRpdmlzaWJsZSBieSBzdGVwLCByb3VuZGluZyBvZmYgbWF5IGluY3JlYXNlIGl0cyB2YWx1ZVxuXHRcdFx0bWF4IC09IHN0ZXA7XG5cdFx0fVxuXHRcdHRoaXMubWF4ID0gcGFyc2VGbG9hdCggbWF4LnRvRml4ZWQoIHRoaXMuX3ByZWNpc2lvbigpICkgKTtcblx0fSxcblxuXHRfcHJlY2lzaW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlY2lzaW9uID0gdGhpcy5fcHJlY2lzaW9uT2YoIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubWluICE9PSBudWxsICkge1xuXHRcdFx0cHJlY2lzaW9uID0gTWF0aC5tYXgoIHByZWNpc2lvbiwgdGhpcy5fcHJlY2lzaW9uT2YoIHRoaXMub3B0aW9ucy5taW4gKSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJlY2lzaW9uO1xuXHR9LFxuXG5cdF9wcmVjaXNpb25PZjogZnVuY3Rpb24oIG51bSApIHtcblx0XHR2YXIgc3RyID0gbnVtLnRvU3RyaW5nKCksXG5cdFx0XHRkZWNpbWFsID0gc3RyLmluZGV4T2YoIFwiLlwiICk7XG5cdFx0cmV0dXJuIGRlY2ltYWwgPT09IC0xID8gMCA6IHN0ci5sZW5ndGggLSBkZWNpbWFsIC0gMTtcblx0fSxcblxuXHRfdmFsdWVNaW46IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubWluO1xuXHR9LFxuXG5cdF92YWx1ZU1heDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWF4O1xuXHR9LFxuXG5cdF9yZWZyZXNoUmFuZ2U6IGZ1bmN0aW9uKCBvcmllbnRhdGlvbiApIHtcblx0XHRpZiAoIG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHR0aGlzLnJhbmdlLmNzcyggeyBcIndpZHRoXCI6IFwiXCIsIFwibGVmdFwiOiBcIlwiIH0gKTtcblx0XHR9XG5cdFx0aWYgKCBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHR0aGlzLnJhbmdlLmNzcyggeyBcImhlaWdodFwiOiBcIlwiLCBcImJvdHRvbVwiOiBcIlwiIH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlZnJlc2hWYWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxhc3RWYWxQZXJjZW50LCB2YWxQZXJjZW50LCB2YWx1ZSwgdmFsdWVNaW4sIHZhbHVlTWF4LFxuXHRcdFx0b1JhbmdlID0gdGhpcy5vcHRpb25zLnJhbmdlLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0YW5pbWF0ZSA9ICggIXRoaXMuX2FuaW1hdGVPZmYgKSA/IG8uYW5pbWF0ZSA6IGZhbHNlLFxuXHRcdFx0X3NldCA9IHt9O1xuXG5cdFx0aWYgKCB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpICkge1xuXHRcdFx0dGhpcy5oYW5kbGVzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHR2YWxQZXJjZW50ID0gKCB0aGF0LnZhbHVlcyggaSApIC0gdGhhdC5fdmFsdWVNaW4oKSApIC8gKCB0aGF0Ll92YWx1ZU1heCgpIC1cblx0XHRcdFx0XHR0aGF0Ll92YWx1ZU1pbigpICkgKiAxMDA7XG5cdFx0XHRcdF9zZXRbIHRoYXQub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJsZWZ0XCIgOiBcImJvdHRvbVwiIF0gPSB2YWxQZXJjZW50ICsgXCIlXCI7XG5cdFx0XHRcdCQoIHRoaXMgKS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggX3NldCwgby5hbmltYXRlICk7XG5cdFx0XHRcdGlmICggdGhhdC5vcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0XHRcdGlmICggdGhhdC5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRcdFx0XHRsZWZ0OiB2YWxQZXJjZW50ICsgXCIlXCJcblx0XHRcdFx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2VbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAoIHZhbFBlcmNlbnQgLSBsYXN0VmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogby5hbmltYXRlXG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0XHRcdFx0Ym90dG9tOiAoIHZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6ICggdmFsUGVyY2VudCAtIGxhc3RWYWxQZXJjZW50ICkgKyBcIiVcIlxuXHRcdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiBvLmFuaW1hdGVcblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRsYXN0VmFsUGVyY2VudCA9IHZhbFBlcmNlbnQ7XG5cdFx0XHR9ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuXHRcdFx0dmFsdWVNaW4gPSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdFx0dmFsdWVNYXggPSB0aGlzLl92YWx1ZU1heCgpO1xuXHRcdFx0dmFsUGVyY2VudCA9ICggdmFsdWVNYXggIT09IHZhbHVlTWluICkgP1xuXHRcdFx0XHRcdCggdmFsdWUgLSB2YWx1ZU1pbiApIC8gKCB2YWx1ZU1heCAtIHZhbHVlTWluICkgKiAxMDAgOlxuXHRcdFx0XHRcdDA7XG5cdFx0XHRfc2V0WyB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IFwibGVmdFwiIDogXCJib3R0b21cIiBdID0gdmFsUGVyY2VudCArIFwiJVwiO1xuXHRcdFx0dGhpcy5oYW5kbGUuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIF9zZXQsIG8uYW5pbWF0ZSApO1xuXG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtaW5cIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdHdpZHRoOiB2YWxQZXJjZW50ICsgXCIlXCJcblx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtYXhcIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSgge1xuXHRcdFx0XHRcdHdpZHRoOiAoIDEwMCAtIHZhbFBlcmNlbnQgKSArIFwiJVwiXG5cdFx0XHRcdH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWluXCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7XG5cdFx0XHRcdFx0aGVpZ2h0OiB2YWxQZXJjZW50ICsgXCIlXCJcblx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtYXhcIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHtcblx0XHRcdFx0XHRoZWlnaHQ6ICggMTAwIC0gdmFsUGVyY2VudCApICsgXCIlXCJcblx0XHRcdFx0fSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9oYW5kbGVFdmVudHM6IHtcblx0XHRrZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgYWxsb3dlZCwgY3VyVmFsLCBuZXdWYWwsIHN0ZXAsXG5cdFx0XHRcdGluZGV4ID0gJCggZXZlbnQudGFyZ2V0ICkuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIgKTtcblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGlmICggIXRoaXMuX2tleVNsaWRpbmcgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9rZXlTbGlkaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuX2FkZENsYXNzKCAkKCBldmVudC50YXJnZXQgKSwgbnVsbCwgXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHRcdFx0YWxsb3dlZCA9IHRoaXMuX3N0YXJ0KCBldmVudCwgaW5kZXggKTtcblx0XHRcdFx0XHRcdGlmICggYWxsb3dlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdHN0ZXAgPSB0aGlzLm9wdGlvbnMuc3RlcDtcblx0XHRcdGlmICggdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSApIHtcblx0XHRcdFx0Y3VyVmFsID0gbmV3VmFsID0gdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJWYWwgPSBuZXdWYWwgPSB0aGlzLnZhbHVlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkhPTUU6XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoXG5cdFx0XHRcdFx0XHRjdXJWYWwgKyAoICggdGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCkgKSAvIHRoaXMubnVtUGFnZXMgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZShcblx0XHRcdFx0XHRcdGN1clZhbCAtICggKCB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSApIC8gdGhpcy5udW1QYWdlcyApICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0XHRpZiAoIGN1clZhbCA9PT0gdGhpcy5fdmFsdWVNYXgoKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIGN1clZhbCArIHN0ZXAgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdFx0XHRpZiAoIGN1clZhbCA9PT0gdGhpcy5fdmFsdWVNaW4oKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIGN1clZhbCAtIHN0ZXAgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc2xpZGUoIGV2ZW50LCBpbmRleCwgbmV3VmFsICk7XG5cdFx0fSxcblx0XHRrZXl1cDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGluZGV4ID0gJCggZXZlbnQudGFyZ2V0ICkuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIgKTtcblxuXHRcdFx0aWYgKCB0aGlzLl9rZXlTbGlkaW5nICkge1xuXHRcdFx0XHR0aGlzLl9rZXlTbGlkaW5nID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuX3N0b3AoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVDbGFzcyggJCggZXZlbnQudGFyZ2V0ICksIG51bGwsIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxufSApICk7XG4iLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIm1hbmlmZXN0b1wiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMubWFuaWZlc3RvPXQoKTplLm1hbmlmZXN0bz10KCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihyKXtpZih0W3JdKXJldHVybiB0W3JdLmV4cG9ydHM7dmFyIGk9dFtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgaSBpbiBlKW4uZChyLGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxpKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz00KX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe2Zvcih2YXIgbiBpbiBlKXQuaGFzT3duUHJvcGVydHkobil8fCh0W25dPWVbbl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIobig2KSkscihuKDcpKSxyKG4oOCkpLHIobig5KSkscihuKDEwKSkscihuKDExKSkscihuKDEyKSkscihuKDEzKSkscihuKDE0KSkscihuKDE1KSkscihuKDE2KSkscihuKDE3KSkscihuKDE4KSkscihuKDE5KSkscihuKDIwKSkscihuKDIxKSkscihuKDIyKSkscihuKDIzKSkscihuKDI0KSkscihuKDI1KSkscihuKDI2KSkscihuKDI3KSkscihuKDI4KSkscihuKDI5KSkscihuKDMwKSkscihuKDMxKSkscihuKDMyKSkscihuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuQk9PS01BUktJTkc9XCJvYTpib29rbWFya2luZ1wiLGUuQ0xBU1NJRllJTkc9XCJvYTpjbGFzc2lmeWluZ1wiLGUuQ09NTUVOVElORz1cIm9hOmNvbW1lbnRpbmdcIixlLkRFU0NSSUJJTkc9XCJvYTpkZXNjcmliaW5nXCIsZS5FRElUSU5HPVwib2E6ZWRpdGluZ1wiLGUuSElHSExJR0hUSU5HPVwib2E6aGlnaGxpZ2h0aW5nXCIsZS5JREVOVElGWUlORz1cIm9hOmlkZW50aWZ5aW5nXCIsZS5MSU5LSU5HPVwib2E6bGlua2luZ1wiLGUuTU9ERVJBVElORz1cIm9hOm1vZGVyYXRpbmdcIixlLlBBSU5USU5HPVwic2M6cGFpbnRpbmdcIixlLlFVRVNUSU9OSU5HPVwib2E6cXVlc3Rpb25pbmdcIixlLlJFUExZSU5HPVwib2E6cmVwbHlpbmdcIixlLlRBR0dJTkc9XCJvYTp0YWdnaW5nXCIsZS5UUkFOU0NSSUJJTkc9XCJvYWQ6dHJhbnNjcmliaW5nXCJ9KHQuQW5ub3RhdGlvbk1vdGl2YXRpb258fCh0LkFubm90YXRpb25Nb3RpdmF0aW9uPXt9KSksZnVuY3Rpb24oZSl7ZS5BVVRPX0FEVkFOQ0U9XCJhdXRvLWFkdmFuY2VcIixlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5GQUNJTkdfUEFHRVM9XCJmYWNpbmctcGFnZXNcIixlLkhJRERFTj1cImhpZGRlblwiLGUuSU5ESVZJRFVBTFM9XCJpbmRpdmlkdWFsc1wiLGUuTVVMVElfUEFSVD1cIm11bHRpLXBhcnRcIixlLk5PX05BVj1cIm5vLW5hdlwiLGUuTk9OX1BBR0VEPVwibm9uLXBhZ2VkXCIsZS5QQUdFRD1cInBhZ2VkXCIsZS5SRVBFQVQ9XCJyZXBlYXRcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIixlLlRIVU1CTkFJTF9OQVY9XCJ0aHVtYm5haWwtbmF2XCIsZS5UT0dFVEhFUj1cInRvZ2V0aGVyXCIsZS5VTk9SREVSRUQ9XCJ1bm9yZGVyZWRcIn0odC5CZWhhdmlvcnx8KHQuQmVoYXZpb3I9e30pKSxmdW5jdGlvbihlKXtlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ0hPSUNFPVwiY2hvaWNlXCIsZS5DT05URU5UX0FTX1RFWFQ9XCJjb250ZW50YXN0ZXh0XCIsZS5ET0NVTUVOVD1cImRvY3VtZW50XCIsZS5JTUFHRT1cImltYWdlXCIsZS5NT1ZJTkdfSU1BR0U9XCJtb3ZpbmdpbWFnZVwiLGUuUERGPVwicGRmXCIsZS5QSFlTSUNBTF9PQkpFQ1Q9XCJwaHlzaWNhbG9iamVjdFwiLGUuU09VTkQ9XCJzb3VuZFwiLGUuVEVYVFVBTEJPRFk9XCJ0ZXh0dWFsYm9keVwiLGUuVklERU89XCJ2aWRlb1wifSh0LkV4dGVybmFsUmVzb3VyY2VUeXBlfHwodC5FeHRlcm5hbFJlc291cmNlVHlwZT17fSkpLGZ1bmN0aW9uKGUpe2UuQU5OT1RBVElPTj1cImFubm90YXRpb25cIixlLkNBTlZBUz1cImNhbnZhc1wiLGUuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIixlLk1BTklGRVNUPVwibWFuaWZlc3RcIixlLlJBTkdFPVwicmFuZ2VcIixlLlNFUVVFTkNFPVwic2VxdWVuY2VcIn0odC5JSUlGUmVzb3VyY2VUeXBlfHwodC5JSUlGUmVzb3VyY2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5BVURJT19NUDQ9XCJhdWRpby9tcDRcIixlLkNPUlRPPVwiYXBwbGljYXRpb24vY29ydG9cIixlLkRSQUNPPVwiYXBwbGljYXRpb24vZHJhY29cIixlLkdMVEY9XCJtb2RlbC9nbHRmK2pzb25cIixlLkpQRz1cImltYWdlL2pwZWdcIixlLk0zVTg9XCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLGUuTVAzPVwiYXVkaW8vbXAzXCIsZS5NUEVHX0RBU0g9XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLGUuT0JKPVwidGV4dC9wbGFpblwiLGUuUERGPVwiYXBwbGljYXRpb24vcGRmXCIsZS5QTFk9XCJhcHBsaWNhdGlvbi9wbHlcIixlLlRIUkVFSlM9XCJhcHBsaWNhdGlvbi92bmQudGhyZWVqcytqc29uXCIsZS5WSURFT19NUDQ9XCJ2aWRlby9tcDRcIixlLldFQk09XCJ2aWRlby93ZWJtXCJ9KHQuTWVkaWFUeXBlfHwodC5NZWRpYVR5cGU9e30pKSxmdW5jdGlvbihlKXtlLkRPQz1cImFwcGxpY2F0aW9uL21zd29yZFwiLGUuRE9DWD1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIsZS5QREY9XCJhcHBsaWNhdGlvbi9wZGZcIn0odC5SZW5kZXJpbmdGb3JtYXR8fCh0LlJlbmRlcmluZ0Zvcm1hdD17fSkpLGZ1bmN0aW9uKGUpe2UuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzI9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbmZvcm1hbmNlLmh0bWwjbGV2ZWwwXCIsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzE9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvY29uZm9ybWFuY2UuaHRtbCNsZXZlbDFcIixlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzA9XCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIixlLklNQUdFXzFfQ09NUExJQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwxXCIsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMj1cImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMFwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMVwiLGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yPVwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb25mb3JtYW5jZS5odG1sI2xldmVsMlwiLGUuSU1BR0VfMV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzFfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8xL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8xX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9sZXZlbDIuanNvblwiLGUuSU1BR0VfMV9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMS9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wPVwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvcHJvZmlsZXMvbGV2ZWwwLmpzb25cIixlLklNQUdFXzJfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX1BST0ZJTEVfTEVWRUxfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL3Byb2ZpbGVzL2xldmVsMS5qc29uXCIsZS5JTUFHRV8yX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDIuanNvblwiLGUuSU1BR0VfMl9QUk9GSUxFX0xFVkVMXzI9XCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9wcm9maWxlcy9sZXZlbDIuanNvblwiLGUuQVVUSF8wX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8wL2xvZ2luL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8wX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC9sb2dpblwiLGUuQVVUSF8wX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9nb3V0XCIsZS5BVVRIXzBfUkVTVFJJQ1RFRD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzAvbG9naW4vcmVzdHJpY3RlZFwiLGUuQVVUSF8wX1RPS0VOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMC90b2tlblwiLGUuQVVUSF8xX0NMSUNLX1RIUk9VR0g9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL2NsaWNrdGhyb3VnaFwiLGUuQVVUSF8xX0VYVEVSTkFMPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9leHRlcm5hbFwiLGUuQVVUSF8xX0tJT1NLPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9raW9za1wiLGUuQVVUSF8xX0xPR0lOPVwiaHR0cDovL2lpaWYuaW8vYXBpL2F1dGgvMS9sb2dpblwiLGUuQVVUSF8xX0xPR09VVD1cImh0dHA6Ly9paWlmLmlvL2FwaS9hdXRoLzEvbG9nb3V0XCIsZS5BVVRIXzFfUFJPQkU9XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Byb2JlXCIsZS5BVVRIXzFfVE9LRU49XCJodHRwOi8vaWlpZi5pby9hcGkvYXV0aC8xL3Rva2VuXCIsZS5TRUFSQ0hfMD1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMC9zZWFyY2hcIixlLlNFQVJDSF8wX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzAvYXV0b2NvbXBsZXRlXCIsZS5TRUFSQ0hfMT1cImh0dHA6Ly9paWlmLmlvL2FwaS9zZWFyY2gvMS9zZWFyY2hcIixlLlNFQVJDSF8xX0FVVE9fQ09NUExFVEU9XCJodHRwOi8vaWlpZi5pby9hcGkvc2VhcmNoLzEvYXV0b2NvbXBsZXRlXCIsZS5UUkFDS0lOR19FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby90cmFja2luZy1leHRlbnNpb25zLXByb2ZpbGVcIixlLlVJX0VYVEVOU0lPTlM9XCJodHRwOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3VpLWV4dGVuc2lvbnMtcHJvZmlsZVwiLGUuUFJJTlRfRVhURU5TSU9OUz1cImh0dHA6Ly91bml2ZXJzYWx2aWV3ZXIuaW8vcHJpbnQtZXh0ZW5zaW9ucy1wcm9maWxlXCIsZS5TSEFSRV9FWFRFTlNJT05TPVwiaHR0cDovL3VuaXZlcnNhbHZpZXdlci5pby9zaGFyZS1leHRlbnNpb25zLXByb2ZpbGVcIixlLk9USEVSX01BTklGRVNUQVRJT05TPVwiaHR0cDovL2lpaWYuaW8vYXBpL290aGVyTWFuaWZlc3RhdGlvbnMuanNvblwiLGUuSVhJRj1cImh0dHA6Ly93ZWxsY29tZWxpYnJhcnkub3JnL2xkL2l4aWYvMC9hbHBoYS5qc29uXCJ9KHQuU2VydmljZVByb2ZpbGV8fCh0LlNlcnZpY2VQcm9maWxlPXt9KSksZnVuY3Rpb24oZSl7ZS5CT1RUT01fVE9fVE9QPVwiYm90dG9tLXRvLXRvcFwiLGUuTEVGVF9UT19SSUdIVD1cImxlZnQtdG8tcmlnaHRcIixlLlJJR0hUX1RPX0xFRlQ9XCJyaWdodC10by1sZWZ0XCIsZS5UT1BfVE9fQk9UVE9NPVwidG9wLXRvLWJvdHRvbVwifSh0LlZpZXdpbmdEaXJlY3Rpb258fCh0LlZpZXdpbmdEaXJlY3Rpb249e30pKSxmdW5jdGlvbihlKXtlLkNPTlRJTlVPVVM9XCJjb250aW51b3VzXCIsZS5JTkRJVklEVUFMUz1cImluZGl2aWR1YWxzXCIsZS5OT05fUEFHRUQ9XCJub24tcGFnZWRcIixlLlBBR0VEPVwicGFnZWRcIixlLlRPUD1cInRvcFwifSh0LlZpZXdpbmdIaW50fHwodC5WaWV3aW5nSGludD17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIHMoZSl7dHJ5e3Uoci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXt1KHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9dSgocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxpPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZpWzBdKXRocm93IGlbMV07cmV0dXJuIGlbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBhKG8pe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3M7KXRyeXtpZihuPTEsciYmKGk9MiZvWzBdP3IucmV0dXJuOm9bMF0/ci50aHJvd3x8KChpPXIucmV0dXJuKSYmaS5jYWxsKHIpLDApOnIubmV4dCkmJiEoaT1pLmNhbGwocixvWzFdKSkuZG9uZSlyZXR1cm4gaTtzd2l0Y2gocj0wLGkmJihvPVsyJm9bMF0saS52YWx1ZV0pLG9bMF0pe2Nhc2UgMDpjYXNlIDE6aT1vO2JyZWFrO2Nhc2UgNDpyZXR1cm4gcy5sYWJlbCsrLHt2YWx1ZTpvWzFdLGRvbmU6ITF9O2Nhc2UgNTpzLmxhYmVsKysscj1vWzFdLG89WzBdO2NvbnRpbnVlO2Nhc2UgNzpvPXMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEoaT0oaT1zLnRyeXMpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKSYmKDY9PT1vWzBdfHwyPT09b1swXSkpe3M9MDtjb250aW51ZX1pZigzPT09b1swXSYmKCFpfHxvWzFdPmlbMF0mJm9bMV08aVszXSkpe3MubGFiZWw9b1sxXTticmVha31pZig2PT09b1swXSYmcy5sYWJlbDxpWzFdKXtzLmxhYmVsPWlbMV0saT1vO2JyZWFrfWlmKGkmJnMubGFiZWw8aVsyXSl7cy5sYWJlbD1pWzJdLHMub3BzLnB1c2gobyk7YnJlYWt9aVsyXSYmcy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlfW89dC5jYWxsKGUscyl9Y2F0Y2goZSl7bz1bNixlXSxyPTB9ZmluYWxseXtuPWk9MH1pZig1Jm9bMF0pdGhyb3cgb1sxXTtyZXR1cm57dmFsdWU6b1swXT9vWzFdOnZvaWQgMCxkb25lOiEwfX0oW28sYV0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1uKDEpLGE9bigzMyk7bigzNCk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4oZT0oZT1lLnRvTG93ZXJDYXNlKCkpLnNwbGl0KFwiO1wiKVswXSkudHJpbSgpfSxlLmdldEltYWdlUXVhbGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzF8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMXx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzJ8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMXx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8yfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTkZPUk1BTkNFX0xFVkVMXzF8fGU9PT1zLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMnx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8xfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMXx8ZT09PXMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9MRVZFTF8yfHxlPT09cy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX1BST0ZJTEVfTEVWRUxfMj9cIm5hdGl2ZVwiOlwiZGVmYXVsdFwifSxlLmdldEluZXhhY3RMb2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCItXCIpP2Uuc3Vic3RyKDAsZS5pbmRleE9mKFwiLVwiKSk6ZX0sZS5nZXRMb2NhbGlzZWRWYWx1ZT1mdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2lmKHQ9PT1yW1wiQGxhbmd1YWdlXCJdKXJldHVybiByW1wiQHZhbHVlXCJdfXZhciBpPXQuc3Vic3RyKDAsdC5pbmRleE9mKFwiLVwiKSk7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtpZihvW1wiQGxhbmd1YWdlXCJdPT09aSlyZXR1cm4gb1tcIkB2YWx1ZVwiXX1yZXR1cm4gbnVsbH0sZS5nZW5lcmF0ZVRyZWVOb2RlSWRzPWZ1bmN0aW9uKHQsbil7dmFyIHI7dm9pZCAwPT09biYmKG49MCkscj10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmlkK1wiLVwiK246XCIwXCIsdC5pZD1yO2Zvcih2YXIgaT0wO2k8dC5ub2Rlcy5sZW5ndGg7aSsrKXt2YXIgbz10Lm5vZGVzW2ldO2UuZ2VuZXJhdGVUcmVlTm9kZUlkcyhvLGkpfX0sZS5ub3JtYWxpc2VUeXBlPWZ1bmN0aW9uKGUpe3JldHVybi0xIT09KGU9ZS50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKFwiOlwiKT9lLnNwbGl0KFwiOlwiKVsxXTplfSxlLm5vcm1hbGlzZVVybD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PShlPWUuc3Vic3RyKGUuaW5kZXhPZihcIjovL1wiKSkpLmluZGV4T2YoXCIjXCIpJiYoZT1lLnNwbGl0KFwiI1wiKVswXSksZX0sZS5ub3JtYWxpc2VkVXJsc01hdGNoPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUubm9ybWFsaXNlVXJsKHQpPT09ZS5ub3JtYWxpc2VVcmwobil9LGUuaXNJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT01QTElBTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09NUExJQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMF9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTkZPUk1BTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LGUuaXNMZXZlbDBJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMCl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8wKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzApfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8wKSl9LGUuaXNMZXZlbDFJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMSl8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8xKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzEpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8xKSl9LGUuaXNMZXZlbDJJbWFnZVByb2ZpbGU9ZnVuY3Rpb24odCl7cmV0dXJuISEoZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8wX0NPTVBMSUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT01QTElBTkNFX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzBfQ09ORk9STUFOQ0VfTEVWRUxfMil8fGUubm9ybWFsaXNlZFVybHNNYXRjaCh0LHMuU2VydmljZVByb2ZpbGUuSU1BR0VfMV9DT05GT1JNQU5DRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8xX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzFfUFJPRklMRV9MRVZFTF8yKXx8ZS5ub3JtYWxpc2VkVXJsc01hdGNoKHQscy5TZXJ2aWNlUHJvZmlsZS5JTUFHRV8yX0xFVkVMXzIpfHxlLm5vcm1hbGlzZWRVcmxzTWF0Y2godCxzLlNlcnZpY2VQcm9maWxlLklNQUdFXzJfUFJPRklMRV9MRVZFTF8yKSl9LGUucGFyc2VNYW5pZmVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBvLkRlc2VyaWFsaXNlci5wYXJzZShlLHQpfSxlLmNoZWNrU3RhdHVzPWZ1bmN0aW9uKGUpe2lmKGUub2spcmV0dXJuIGU7dmFyIHQ9bmV3IEVycm9yKGUuc3RhdHVzVGV4dCk7cmV0dXJuIHQucmVzcG9uc2U9ZSxQcm9taXNlLnJlamVjdCh0KX0sZS5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtmZXRjaCh0KS50aGVuKGUuY2hlY2tTdGF0dXMpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pKS50aGVuKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlc0F1dGgxPWZ1bmN0aW9uKHQsbixyLGksbyxzLGEsdSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihjLGwpe3ZhciBwPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgxKHQsbixyLGksbyxzLGEsdSl9KSk7UHJvbWlzZS5hbGwocCkudGhlbigoZnVuY3Rpb24oKXtjKHQpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtsKGUpfSkpfSkpfSxlLmxvYWRFeHRlcm5hbFJlc291cmNlQXV0aDE9ZnVuY3Rpb24odCxuLG8scyx1LGMsbCxwKXtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIGkodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzKHQpXTtjYXNlIDE6cmV0dXJuKHI9aS5zZW50KCkpP1s0LHQuZ2V0RGF0YShyKV06WzMsNl07Y2FzZSAyOnJldHVybiBpLnNlbnQoKSx0LnN0YXR1cyE9PWEuT0s/WzMsM106WzIsdF07Y2FzZSAzOnJldHVybls0LGUuZG9BdXRoQ2hhaW4odCxuLG8sdSxjLGwscCldO2Nhc2UgNDppLnNlbnQoKSxpLmxhYmVsPTU7Y2FzZSA1OmlmKHQuc3RhdHVzPT09YS5PS3x8dC5zdGF0dXM9PT1hLk1PVkVEX1RFTVBPUkFSSUxZKXJldHVyblsyLHRdO3Rocm93IGUuY3JlYXRlQXV0aG9yaXphdGlvbkZhaWxlZEVycm9yKCk7Y2FzZSA2OnJldHVybls0LHQuZ2V0RGF0YSgpXTtjYXNlIDc6cmV0dXJuIGkuc2VudCgpLHQuc3RhdHVzIT09YS5NT1ZFRF9URU1QT1JBUklMWSYmdC5zdGF0dXMhPT1hLlVOQVVUSE9SSVpFRD9bMyw5XTpbNCxlLmRvQXV0aENoYWluKHQsbixvLHUsYyxsLHApXTtjYXNlIDg6aS5zZW50KCksaS5sYWJlbD05O2Nhc2UgOTppZih0LnN0YXR1cz09PWEuT0t8fHQuc3RhdHVzPT09YS5NT1ZFRF9URU1QT1JBUklMWSlyZXR1cm5bMix0XTt0aHJvdyBlLmNyZWF0ZUF1dGhvcml6YXRpb25GYWlsZWRFcnJvcigpfX0pKX0pKX0sZS5kb0F1dGhDaGFpbj1mdW5jdGlvbih0LG4sbyxzLHUsYyxsKXtyZXR1cm4gcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIscCxmLGgsXyxnLGQsRTtyZXR1cm4gaSh0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LmlzQWNjZXNzQ29udHJvbGxlZCgpPygocj10LmV4dGVybmFsU2VydmljZSkmJihyLm9wdGlvbnM9dC5vcHRpb25zKSwocD10Lmtpb3NrU2VydmljZSkmJihwLm9wdGlvbnM9dC5vcHRpb25zKSwoZj10LmNsaWNrVGhyb3VnaFNlcnZpY2UpJiYoZi5vcHRpb25zPXQub3B0aW9ucyksKGg9dC5sb2dpblNlcnZpY2UpJiYoaC5vcHRpb25zPXQub3B0aW9ucyksdC5pc1Jlc3BvbnNlSGFuZGxlZHx8dC5zdGF0dXMhPT1hLk1PVkVEX1RFTVBPUkFSSUxZP1szLDJdOls0LGModCldKTpbMix0XTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpLFsyLHRdO2Nhc2UgMjpyZXR1cm4gXz1udWxsLGc9bnVsbCwoXz1yKT8oZz1fLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxfKV0pOlszLDRdO2Nhc2UgMzpyZXR1cm4gaS5zZW50KCksWzIsdF07Y2FzZSA0OnJldHVybihfPXApPyhnPV8sKGQ9bihfKSk/WzQscyhkKV06WzMsN10pOlszLDddO2Nhc2UgNTpyZXR1cm4gaS5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLF8pXTtjYXNlIDY6cmV0dXJuIGkuc2VudCgpLFsyLHRdO2Nhc2UgNzpyZXR1cm4oXz1mKT8oZz1fLFs0LHUodCxfKV0pOlszLDExXTtjYXNlIDg6cmV0dXJuKEU9aS5zZW50KCkpP1s0LHMoRSldOlszLDExXTtjYXNlIDk6cmV0dXJuIGkuc2VudCgpLFs0LGUuYXR0ZW1wdFJlc291cmNlV2l0aFRva2VuKHQsbyxfKV07Y2FzZSAxMDpyZXR1cm4gaS5zZW50KCksWzIsdF07Y2FzZSAxMTpyZXR1cm4oXz1oKT8oZz1fLFs0LHUodCxfKV0pOlszLDE1XTtjYXNlIDEyOnJldHVybihFPWkuc2VudCgpKT9bNCxzKEUpXTpbMywxNV07Y2FzZSAxMzpyZXR1cm4gaS5zZW50KCksWzQsZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW4odCxvLF8pXTtjYXNlIDE0OnJldHVybiBpLnNlbnQoKSxbMix0XTtjYXNlIDE1OnJldHVybiBnJiZsKHQsZyksWzJdfX0pKX0pKX0sZS5hdHRlbXB0UmVzb3VyY2VXaXRoVG9rZW49ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixvO3JldHVybiBpKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuKHI9bi5nZXRTZXJ2aWNlKHMuU2VydmljZVByb2ZpbGUuQVVUSF8xX1RPS0VOKSk/WzQsdChlLHIpXTpbMywzXTtjYXNlIDE6cmV0dXJuKG89aS5zZW50KCkpJiZvLmFjY2Vzc1Rva2VuP1s0LGUuZ2V0RGF0YShvKV06WzMsM107Y2FzZSAyOnJldHVybiBpLnNlbnQoKSxbMixlXTtjYXNlIDM6cmV0dXJuWzJdfX0pKX0pKX0sZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZXNBdXRoMDk9ZnVuY3Rpb24odCxuLHIsaSxvLHMsYSx1LGMsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihwLGYpe3ZhciBoPXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5sb2FkRXh0ZXJuYWxSZXNvdXJjZUF1dGgwOSh0LG4scixpLG8scyxhLHUsYyxsKX0pKTtQcm9taXNlLmFsbChoKS50aGVuKChmdW5jdGlvbigpe3AodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2YoZSl9KSl9KSl9LGUubG9hZEV4dGVybmFsUmVzb3VyY2VBdXRoMDk9ZnVuY3Rpb24odCxuLHIsaSxvLHMsdSxjLGwscCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihmLGgpe3AmJnAucGVzc2ltaXN0aWNBY2Nlc3NDb250cm9sP3QuZ2V0RGF0YSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5pc0FjY2Vzc0NvbnRyb2xsZWQoKT90LmNsaWNrVGhyb3VnaFNlcnZpY2U/KGYocih0KSksZihpKHQpKSk6byh0KS50aGVuKChmdW5jdGlvbigpe3ModCwhMCkudGhlbigoZnVuY3Rpb24obil7dC5nZXREYXRhKG4pLnRoZW4oKGZ1bmN0aW9uKCl7ZihsKHQpKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7aChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpmKHQpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtoKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSk6Yyh0LG4pLnRoZW4oKGZ1bmN0aW9uKHApe3A/dC5nZXREYXRhKHApLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1hLk9LP2YobCh0KSk6ZS5hdXRob3JpemUodCxuLHIsaSxvLHMsdSxjKS50aGVuKChmdW5jdGlvbigpe2YobCh0KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSk6ZS5hdXRob3JpemUodCxuLHIsaSxvLHMsdSxjKS50aGVuKChmdW5jdGlvbigpe2YobCh0KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2goZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3IoKSl9KSl9KSl9LGUuY3JlYXRlRXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRXJyb3I7cmV0dXJuIG4ubWVzc2FnZT10LG4ubmFtZT1TdHJpbmcoZSksbn0sZS5jcmVhdGVBdXRob3JpemF0aW9uRmFpbGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuQVVUSE9SSVpBVElPTl9GQUlMRUQsXCJBdXRob3JpemF0aW9uIGZhaWxlZFwiKX0sZS5jcmVhdGVSZXN0cmljdGVkRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuUkVTVFJJQ1RFRCxcIlJlc3RyaWN0ZWRcIil9LGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVFcnJvcihvLlN0YXR1c0NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLHQpfSxlLmF1dGhvcml6ZT1mdW5jdGlvbih0LG4scixpLG8scyx1LGMpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obCxwKXt0LmdldERhdGEoKS50aGVuKChmdW5jdGlvbigpe3QuaXNBY2Nlc3NDb250cm9sbGVkKCk/Yyh0LG4pLnRoZW4oKGZ1bmN0aW9uKGMpe2M/dC5nZXREYXRhKGMpLnRoZW4oKGZ1bmN0aW9uKCl7dC5zdGF0dXM9PT1hLk9LP2wodCk6ZS5zaG93QXV0aEludGVyYWN0aW9uKHQsbixyLGksbyxzLHUsbCxwKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOnModCwhMSkudGhlbigoZnVuY3Rpb24oYyl7Yz91KHQsYyxuKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0RGF0YShjKS50aGVuKChmdW5jdGlvbigpe3Quc3RhdHVzPT09YS5PSz9sKHQpOmUuc2hvd0F1dGhJbnRlcmFjdGlvbih0LG4scixpLG8scyx1LGwscCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7cChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpOmUuc2hvd0F1dGhJbnRlcmFjdGlvbih0LG4scixpLG8scyx1LGwscCl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3AoZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKTpsKHQpfSkpfSkpfSxlLnNob3dBdXRoSW50ZXJhY3Rpb249ZnVuY3Rpb24odCxuLHIsaSxvLHMsdSxjLGwpe3Quc3RhdHVzIT09YS5NT1ZFRF9URU1QT1JBUklMWXx8dC5pc1Jlc3BvbnNlSGFuZGxlZD90LmNsaWNrVGhyb3VnaFNlcnZpY2UmJiF0LmlzUmVzcG9uc2VIYW5kbGVkP3IodCkudGhlbigoZnVuY3Rpb24oKXtzKHQsITApLnRoZW4oKGZ1bmN0aW9uKHIpe3UodCxyLG4pLnRoZW4oKGZ1bmN0aW9uKCl7dC5nZXREYXRhKHIpLnRoZW4oKGZ1bmN0aW9uKCl7Yyh0KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtsKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2woZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKTpvKHQpLnRoZW4oKGZ1bmN0aW9uKCl7cyh0LCEwKS50aGVuKChmdW5jdGlvbihyKXt1KHQscixuKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0RGF0YShyKS50aGVuKChmdW5jdGlvbigpe2ModCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2woZS5jcmVhdGVJbnRlcm5hbFNlcnZlckVycm9yKHQpKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7bChlLmNyZWF0ZUludGVybmFsU2VydmVyRXJyb3IodCkpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtsKGUuY3JlYXRlSW50ZXJuYWxTZXJ2ZXJFcnJvcih0KSl9KSl9KSk6Yyh0KX0sZS5nZXRTZXJ2aWNlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuZ2V0U2VydmljZXMoZSkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdO2lmKGkuZ2V0UHJvZmlsZSgpPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5nZXRSZXNvdXJjZUJ5SWQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZS50cmF2ZXJzZUFuZEZpbmQodC5fX2pzb25sZCxcIkBpZFwiLG4pfSxlLnRyYXZlcnNlQW5kRmluZD1mdW5jdGlvbih0LG4scil7aWYodC5oYXNPd25Qcm9wZXJ0eShuKSYmdFtuXT09PXIpcmV0dXJuIHQ7Zm9yKHZhciBpPTA7aTxPYmplY3Qua2V5cyh0KS5sZW5ndGg7aSsrKWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0W09iamVjdC5rZXlzKHQpW2ldXSl7dmFyIG89ZS50cmF2ZXJzZUFuZEZpbmQodFtPYmplY3Qua2V5cyh0KVtpXV0sbixyKTtpZihudWxsIT1vKXJldHVybiBvfX0sZS5nZXRTZXJ2aWNlcz1mdW5jdGlvbihlKXt2YXIgdCxuPVtdO2lmKCEodD1lLl9fanNvbmxkP2UuX19qc29ubGQuc2VydmljZTplLnNlcnZpY2UpKXJldHVybiBuO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpe3ZhciBzPXRoaXMuZ2V0UmVzb3VyY2VCeUlkKGUub3B0aW9ucy5yZXNvdXJjZSxpKTtzJiZuLnB1c2gobmV3IG8uU2VydmljZShzLl9fanNvbmxkfHxzLGUub3B0aW9ucykpfWVsc2Ugbi5wdXNoKG5ldyBvLlNlcnZpY2UoaSxlLm9wdGlvbnMpKX1yZXR1cm4gbn0sZS5nZXRUZW1wb3JhbENvbXBvbmVudD1mdW5jdGlvbihlKXt2YXIgdD0vdD0oW14mXSspL2cuZXhlYyhlKSxuPW51bGw7cmV0dXJuIHQmJnRbMV0mJihuPXRbMV0uc3BsaXQoXCIsXCIpKSxufSxlfSgpO3QuVXRpbHM9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHx7fSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Qsbz1bXSxzPVtdLGE9e30sdT1mdW5jdGlvbigpe3JldHVybntvazoyPT0oaS5zdGF0dXMvMTAwfDApLHN0YXR1c1RleHQ6aS5zdGF0dXNUZXh0LHN0YXR1czppLnN0YXR1cyx1cmw6aS5yZXNwb25zZVVSTCx0ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShpLnJlc3BvbnNlVGV4dCl9LGpzb246ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UoaS5yZXNwb25zZVRleHQpKX0sYmxvYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW2kucmVzcG9uc2VdKSl9LGNsb25lOnUsaGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBvfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gYVtlLnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIGF9fX19O2Zvcih2YXIgYyBpbiBpLm9wZW4odC5tZXRob2R8fFwiZ2V0XCIsZSwhMCksaS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSwoZnVuY3Rpb24oZSx0LG4pe28ucHVzaCh0PXQudG9Mb3dlckNhc2UoKSkscy5wdXNoKFt0LG5dKSxhW3RdPWFbdF0/YVt0XStcIixcIituOm59KSksbih1KCkpfSxpLm9uZXJyb3I9cixpLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09dC5jcmVkZW50aWFscyx0LmhlYWRlcnMpaS5zZXRSZXF1ZXN0SGVhZGVyKGMsdC5oZWFkZXJzW2NdKTtpLnNlbmQodC5ib2R5fHxudWxsKX0pKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXQuaGFzT3duUHJvcGVydHkobil8fCh0W25dPWVbbl0pfShuKDApKTt2YXIgcj1uKDIpO3QubG9hZE1hbmlmZXN0PWZ1bmN0aW9uKGUpe3JldHVybiByLlV0aWxzLmxvYWRNYW5pZmVzdChlKX0sdC5wYXJzZU1hbmlmZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuVXRpbHMucGFyc2VNYW5pZmVzdChlLHQpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9fanNvbmxkPWUsdGhpcy5jb250ZXh0PXRoaXMuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLHRoaXMuaWQ9dGhpcy5nZXRQcm9wZXJ0eShcImlkXCIpfXJldHVybiBlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3JldHVybiB0aGlzLl9fanNvbmxkJiYoKHQ9dGhpcy5fX2pzb25sZFtlXSl8fCh0PXRoaXMuX19qc29ubGRbXCJAXCIrZV0pKSx0fSxlfSgpO3QuSlNPTkxEUmVzb3VyY2U9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1uKDEpLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLm9wdGlvbnM9bixyfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJsYWJlbFwiKTtyZXR1cm4gZT9vLkxhbmd1YWdlTWFwLnBhcnNlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LHQucHJvdG90eXBlLmdldERlZmF1bHRMYWJlbD1mdW5jdGlvbigpe3JldHVybiBvLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMuZ2V0TGFiZWwoKSl9LHQucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcIm1ldGFkYXRhXCIpLHQ9W107aWYoIWUpcmV0dXJuIHQ7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0saT1uZXcgby5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKTtpLnBhcnNlKHIpLHQucHVzaChpKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0UmVuZGVyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldFJlbmRlcmluZ3MoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07aWYoci5nZXRGb3JtYXQoKT09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFJlbmRlcmluZ3M9ZnVuY3Rpb24oKXt2YXIgZSx0PVtdO2lmKCEoZT10aGlzLl9fanNvbmxkP3RoaXMuX19qc29ubGQucmVuZGVyaW5nOnRoaXMucmVuZGVyaW5nKSlyZXR1cm4gdDtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3QucHVzaChuZXcgby5SZW5kZXJpbmcocix0aGlzLm9wdGlvbnMpKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZ2V0U2VydmljZT1mdW5jdGlvbihlKXtyZXR1cm4gby5VdGlscy5nZXRTZXJ2aWNlKHRoaXMsZSl9LHQucHJvdG90eXBlLmdldFNlcnZpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0U2VydmljZXModGhpcyl9LHQucHJvdG90eXBlLmdldFRodW1ibmFpbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJ0aHVtYm5haWxcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGU/bmV3IG8uVGh1bWJuYWlsKGUsdGhpcy5vcHRpb25zKTpudWxsfSx0LnByb3RvdHlwZS5pc0Fubm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLklJSUZSZXNvdXJjZVR5cGUuQU5OT1RBVElPTn0sdC5wcm90b3R5cGUuaXNDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLklJSUZSZXNvdXJjZVR5cGUuQ0FOVkFTfSx0LnByb3RvdHlwZS5pc0NvbGxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLklJSUZSZXNvdXJjZVR5cGUuQ09MTEVDVElPTn0sdC5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5NQU5JRkVTVH0sdC5wcm90b3R5cGUuaXNSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5SQU5HRX0sdC5wcm90b3R5cGUuaXNTZXF1ZW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElJSUZSZXNvdXJjZVR5cGUoKT09PXMuSUlJRlJlc291cmNlVHlwZS5TRVFVRU5DRX0sdH0oby5KU09OTERSZXNvdXJjZSk7dC5NYW5pZmVzdFJlc291cmNlPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gZT9lLnRvTG93ZXJDYXNlKCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoIXRoaXMuX19qc29ubGQucmVzb3VyY2VzKXJldHVybiBlO2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5yZXNvdXJjZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5fX2pzb25sZC5yZXNvdXJjZXNbdF0scj1uZXcgby5Bbm5vdGF0aW9uKG4sdGhpcy5vcHRpb25zKTtlLnB1c2gocil9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKTtyZXR1cm4gZT9vLlV0aWxzLm5vcm1hbGlzZVR5cGUoZSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdC5wcm90b3R5cGUuZ2V0TWF4V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heFdpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRNYXhIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm1heEhlaWdodFwiKT9udWxsOnRoaXMuZ2V0TWF4V2lkdGgoKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlJlc291cmNlPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9bigxKSxhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3IuaW5kZXg9LTEsci5pc0xvYWRlZD0hMTt2YXIgaT17ZGVmYXVsdExhYmVsOlwiLVwiLGxvY2FsZTpcImVuLUdCXCIscmVzb3VyY2U6cixwZXNzaW1pc3RpY0FjY2Vzc0NvbnRyb2w6ITF9O3JldHVybiByLm9wdGlvbnM9T2JqZWN0LmFzc2lnbihpLG4pLHJ9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJhdHRyaWJ1dGlvblwiKTtyZXR1cm4gZT9vLkxhbmd1YWdlTWFwLnBhcnNlKGUsdGhpcy5vcHRpb25zLmxvY2FsZSk6W119LHQucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpO3JldHVybiBlP28uTGFuZ3VhZ2VNYXAucGFyc2UoZSx0aGlzLm9wdGlvbnMubG9jYWxlKTpbXX0sdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMb2dvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImxvZ29cIik7cmV0dXJuIGU/XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTooQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGgmJihlPWVbMF0pLGVbXCJAaWRcIl18fGUuaWQpOm51bGx9LHQucHJvdG90eXBlLmdldExpY2Vuc2U9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwibGljZW5zZVwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0TmF2RGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLmdldFByb3BlcnR5KFwibmF2RGF0ZVwiKSl9LHQucHJvdG90eXBlLmdldFJlbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInJlbGF0ZWRcIil9LHQucHJvdG90eXBlLmdldFNlZUFsc289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInNlZUFsc29cIil9LHQucHJvdG90eXBlLmdldFRyYWNraW5nTGFiZWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlcnZpY2Uocy5TZXJ2aWNlUHJvZmlsZS5UUkFDS0lOR19FWFRFTlNJT05TKTtyZXR1cm4gZT9lLmdldFByb3BlcnR5KFwidHJhY2tpbmdMYWJlbFwiKTpcIlwifSx0LnByb3RvdHlwZS5nZXREZWZhdWx0VHJlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHRUcmVlPW5ldyBvLlRyZWVOb2RlKFwicm9vdFwiKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGE9dGhpcyx0aGlzLmRlZmF1bHRUcmVlfSx0LnByb3RvdHlwZS5nZXRSZXF1aXJlZFN0YXRlbWVudD1mdW5jdGlvbigpe3ZhciBlPW51bGwsdD10aGlzLmdldFByb3BlcnR5KFwicmVxdWlyZWRTdGF0ZW1lbnRcIik7aWYodCkoZT1uZXcgby5MYWJlbFZhbHVlUGFpcih0aGlzLm9wdGlvbnMubG9jYWxlKSkucGFyc2UodCk7ZWxzZXt2YXIgbj10aGlzLmdldEF0dHJpYnV0aW9uKCk7biYmKChlPW5ldyBvLkxhYmVsVmFsdWVQYWlyKHRoaXMub3B0aW9ucy5sb2NhbGUpKS52YWx1ZT1uKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SUlJRlJlc291cmNlVHlwZSgpPT09cy5JSUlGUmVzb3VyY2VUeXBlLkNPTExFQ1RJT059LHQucHJvdG90eXBlLmlzTWFuaWZlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJSUlGUmVzb3VyY2VUeXBlKCk9PT1zLklJSUZSZXNvdXJjZVR5cGUuTUFOSUZFU1R9LHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7aWYoZS5pc0xvYWRlZCl0KGUpO2Vsc2V7dmFyIG49ZS5vcHRpb25zO24ubmF2RGF0ZT1lLmdldE5hdkRhdGUoKTt2YXIgcj1lLl9fanNvbmxkLmlkO3J8fChyPWUuX19qc29ubGRbXCJAaWRcIl0pLG8uVXRpbHMubG9hZE1hbmlmZXN0KHIpLnRoZW4oKGZ1bmN0aW9uKHIpe2UucGFyZW50TGFiZWw9by5MYW5ndWFnZU1hcC5nZXRWYWx1ZShlLmdldExhYmVsKCksbi5sb2NhbGUpO3ZhciBpPW8uRGVzZXJpYWxpc2VyLnBhcnNlKHIsbik7KGU9T2JqZWN0LmFzc2lnbihlLGkpKS5pbmRleD1uLmluZGV4LHQoZSl9KSl9fSkpfSx0fShvLk1hbmlmZXN0UmVzb3VyY2UpO3QuSUlJRlJlc291cmNlPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Qm9keT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5nZXRQcm9wZXJ0eShcImJvZHlcIik7aWYodClpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXtpZigocz10W25dKS5pdGVtcylmb3IodmFyIHI9MDtyPHMuaXRlbXMubGVuZ3RoO3IrKyl7dmFyIGk9cy5pdGVtc1tyXTtlLnB1c2gobmV3IG8uQW5ub3RhdGlvbkJvZHkoaSx0aGlzLm9wdGlvbnMpKX1lbHNlIGUucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShzLHRoaXMub3B0aW9ucykpfWVsc2UgaWYodC5pdGVtcylmb3Iobj0wO248dC5pdGVtcy5sZW5ndGg7bisrKXt2YXIgcz10Lml0ZW1zW25dO2UucHVzaChuZXcgby5Bbm5vdGF0aW9uQm9keShzLHRoaXMub3B0aW9ucykpfWVsc2UgZS5wdXNoKG5ldyBvLkFubm90YXRpb25Cb2R5KHQsdGhpcy5vcHRpb25zKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldE1vdGl2YXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwibW90aXZhdGlvblwiKTtyZXR1cm4gZXx8bnVsbH0sdC5wcm90b3R5cGUuZ2V0T249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIm9uXCIpfSx0LnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInRhcmdldFwiKX0sdC5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uUmVzb3VyY2UodGhpcy5nZXRQcm9wZXJ0eShcInJlc291cmNlXCIpLHRoaXMub3B0aW9ucyl9LHR9KG8uTWFuaWZlc3RSZXNvdXJjZSk7dC5Bbm5vdGF0aW9uPXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKTtyZXR1cm4gZT9vLlV0aWxzLmdldE1lZGlhVHlwZShlKTpudWxsfSx0LnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ0eXBlXCIpP28uVXRpbHMubm9ybWFsaXNlVHlwZSh0aGlzLmdldFByb3BlcnR5KFwidHlwZVwiKSk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb25Cb2R5PXN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIGk9ZS5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIGkubGFiZWw9dCxpLm9wdGlvbnM9cixpfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0SUlJRlJlc291cmNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLm5vcm1hbGlzZVR5cGUodGhpcy5nZXRQcm9wZXJ0eShcInR5cGVcIikpfSx0LnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSx0LnByb3RvdHlwZS5nZXRSZXNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwicmVzb3VyY2VzXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkFubm90YXRpb24odCxlLm9wdGlvbnMpfSkpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7aWYoZS5pc0xvYWRlZCl0KGUpO2Vsc2V7dmFyIHI9ZS5fX2pzb25sZC5pZDtyfHwocj1lLl9fanNvbmxkW1wiQGlkXCJdKSxvLlV0aWxzLmxvYWRNYW5pZmVzdChyKS50aGVuKChmdW5jdGlvbihuKXtlLl9fanNvbmxkPW4sZS5jb250ZXh0PWUuZ2V0UHJvcGVydHkoXCJjb250ZXh0XCIpLGUuaWQ9ZS5nZXRQcm9wZXJ0eShcImlkXCIpLGUuaXNMb2FkZWQ9ITAsdChlKX0pKS5jYXRjaChuKX19KSl9LHR9KG8uSlNPTkxEUmVzb3VyY2UpO3QuQW5ub3RhdGlvbkxpc3Q9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJpdGVtc1wiKX0sdH0obigwKS5NYW5pZmVzdFJlc291cmNlKTt0LkFubm90YXRpb25QYWdlPW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0Q2Fub25pY2FsSW1hZ2VVcmk9ZnVuY3Rpb24oZSl7dmFyIHQsbj1udWxsLHI9XCJkZWZhdWx0XCIsaT1lO2lmKHRoaXMuZXh0ZXJuYWxSZXNvdXJjZSYmdGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGlkXCJdKW49dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAaWRcIl0saXx8KGk9dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGEud2lkdGgpLHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0mJih0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YVtcIkBjb250ZXh0XCJdLmluZGV4T2YoXCIvMS4wL2NvbnRleHQuanNvblwiKT4tMXx8dGhpcy5leHRlcm5hbFJlc291cmNlLmRhdGFbXCJAY29udGV4dFwiXS5pbmRleE9mKFwiLzEuMS9jb250ZXh0Lmpzb25cIik+LTF8fHRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhW1wiQGNvbnRleHRcIl0uaW5kZXhPZihcIi8xL2NvbnRleHQuanNvblwiKT4tMSkmJihyPVwibmF0aXZlXCIpO2Vsc2V7dmFyIHM9dGhpcy5nZXRJbWFnZXMoKTtpZihzJiZzLmxlbmd0aCl7dmFyIGE9c1swXS5nZXRSZXNvdXJjZSgpLHU9YS5nZXRTZXJ2aWNlcygpO2lmKGl8fChpPWEuZ2V0V2lkdGgoKSksdS5sZW5ndGgpe3ZhciBjPXVbMF07bj1jLmlkLHI9by5VdGlscy5nZXRJbWFnZVF1YWxpdHkoYy5nZXRQcm9maWxlKCkpfWVsc2UgaWYoaT09PWEuZ2V0V2lkdGgoKSlyZXR1cm4gYS5pZH1pZighbil7dmFyIGw9dGhpcy5nZXRQcm9wZXJ0eShcInRodW1ibmFpbFwiKTtpZihsKXtpZihcInN0cmluZ1wiPT10eXBlb2YgbClyZXR1cm4gbDtpZihsW1wiQGlkXCJdKXJldHVybiBsW1wiQGlkXCJdO2lmKGwubGVuZ3RoKXJldHVybiBsWzBdLmlkfX19cmV0dXJuIHQ9aStcIixcIixuJiZuLmVuZHNXaXRoKFwiL1wiKSYmKG49bi5zdWJzdHIoMCxuLmxlbmd0aC0xKSksW24sXCJmdWxsXCIsdCwwLHIrXCIuanBnXCJdLmpvaW4oXCIvXCIpfSx0LnByb3RvdHlwZS5nZXRNYXhEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdD1udWxsO3JldHVybiB0aGlzLmV4dGVybmFsUmVzb3VyY2UmJnRoaXMuZXh0ZXJuYWxSZXNvdXJjZS5kYXRhJiZ0aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlJiYoZT10aGlzLmV4dGVybmFsUmVzb3VyY2UuZGF0YS5wcm9maWxlLEFycmF5LmlzQXJyYXkoZSkmJihlPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXhXaWR0aH0pKVswXSkmJih0PW5ldyBvLlNpemUoZS5tYXhXaWR0aCxlLm1heEhlaWdodD9lLm1heEhlaWdodDplLm1heFdpZHRoKSkpLHR9LHQucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMuX19qc29ubGQuaXRlbXN8fHRoaXMuX19qc29ubGQuY29udGVudDtpZighdClyZXR1cm4gZTt2YXIgbj1udWxsO2lmKHQubGVuZ3RoJiYobj1uZXcgby5Bbm5vdGF0aW9uUGFnZSh0WzBdLHRoaXMub3B0aW9ucykpLCFuKXJldHVybiBlO2Zvcih2YXIgcj1uLmdldEl0ZW1zKCksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcz1yW2ldLGE9bmV3IG8uQW5ub3RhdGlvbihzLHRoaXMub3B0aW9ucyk7ZS5wdXNoKGEpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiZHVyYXRpb25cIil9LHQucHJvdG90eXBlLmdldEltYWdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0aGlzLl9fanNvbmxkLmltYWdlcylyZXR1cm4gZTtmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQuaW1hZ2VzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuaW1hZ2VzW3RdLHI9bmV3IG8uQW5ub3RhdGlvbihuLHRoaXMub3B0aW9ucyk7ZS5wdXNoKHIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFByb3BlcnR5KFwiaW5kZXhcIil9LHQucHJvdG90eXBlLmdldE90aGVyQ29udGVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1BcnJheS5pc0FycmF5KHRoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIikpP3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIik6W3RoaXMuZ2V0UHJvcGVydHkoXCJvdGhlckNvbnRlbnRcIildLG49dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYodD1lW1wiQHR5cGVcIl0sbj1cInNjOkFubm90YXRpb25MaXN0XCIsXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiBuJiZ0LnRvTG93ZXJDYXNlKCk9PXQudG9Mb3dlckNhc2UoKSk7dmFyIHQsbn0pKS5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBvLkFubm90YXRpb25MaXN0KHQubGFiZWx8fFwiQW5ub3RhdGlvbiBsaXN0IFwiK24sdCxlLm9wdGlvbnMpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9hZCgpfSkpO3JldHVybiBQcm9taXNlLmFsbChuKX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcIndpZHRoXCIpfSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImhlaWdodFwiKX0sdH0oby5SZXNvdXJjZSk7dC5DYW52YXM9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscz1uKDApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIHIuaXRlbXM9W10sci5fY29sbGVjdGlvbnM9bnVsbCxyLl9tYW5pZmVzdHM9bnVsbCx0Ll9fY29sbGVjdGlvbj1yLHJ9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsZWN0aW9ucz90aGlzLl9jb2xsZWN0aW9uczp0aGlzLl9jb2xsZWN0aW9ucz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNDb2xsZWN0aW9uKCl9KSl9LHQucHJvdG90eXBlLmdldE1hbmlmZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYW5pZmVzdHM/dGhpcy5fbWFuaWZlc3RzOnRoaXMuX21hbmlmZXN0cz10aGlzLml0ZW1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNNYW5pZmVzdCgpfSkpfSx0LnByb3RvdHlwZS5nZXRDb2xsZWN0aW9uQnlJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj10aGlzLmdldENvbGxlY3Rpb25zKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdO2kuaW5kZXg9PT1lJiYodD1pKX1pZih0KXJldHVybiB0Lm9wdGlvbnMuaW5kZXg9ZSx0LmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJDb2xsZWN0aW9uIGluZGV4IG5vdCBmb3VuZFwiKX0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUluZGV4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMuZ2V0TWFuaWZlc3RzKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdO2kuaW5kZXg9PT1lJiYodD1pKX1pZih0KXJldHVybiB0Lm9wdGlvbnMuaW5kZXg9ZSx0LmxvYWQoKTt0aHJvdyBuZXcgRXJyb3IoXCJNYW5pZmVzdCBpbmRleCBub3QgZm91bmRcIil9LHQucHJvdG90eXBlLmdldFRvdGFsQ29sbGVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0VG90YWxNYW5pZmVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNYW5pZmVzdHMoKS5sZW5ndGh9LHQucHJvdG90eXBlLmdldFRvdGFsSXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGh9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik/dGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIik6by5WaWV3aW5nRGlyZWN0aW9uLkxFRlRfVE9fUklHSFR9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIGUucHJvdG90eXBlLmdldERlZmF1bHRUcmVlLmNhbGwodGhpcyksdGhpcy5kZWZhdWx0VHJlZS5kYXRhLnR5cGU9cy5VdGlscy5ub3JtYWxpc2VUeXBlKHMuVHJlZU5vZGVUeXBlLkNPTExFQ1RJT04pLHRoaXMuX3BhcnNlTWFuaWZlc3RzKHRoaXMpLHRoaXMuX3BhcnNlQ29sbGVjdGlvbnModGhpcykscy5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLl9wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbihlKXtpZihlLmdldE1hbmlmZXN0cygpJiZlLmdldE1hbmlmZXN0cygpLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUuZ2V0TWFuaWZlc3RzKCkubGVuZ3RoO3QrKyl7dmFyIG49ZS5nZXRNYW5pZmVzdHMoKVt0XSxyPW4uZ2V0RGVmYXVsdFRyZWUoKTtyLmxhYmVsPW4ucGFyZW50TGFiZWx8fHMuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpfHxcIm1hbmlmZXN0IFwiKyh0KzEpLHIubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxyLmRhdGEuaWQ9bi5pZCxyLmRhdGEudHlwZT1zLlV0aWxzLm5vcm1hbGlzZVR5cGUocy5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLGUuZGVmYXVsdFRyZWUuYWRkTm9kZShyKX19LHQucHJvdG90eXBlLl9wYXJzZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKGUpe2lmKGUuZ2V0Q29sbGVjdGlvbnMoKSYmZS5nZXRDb2xsZWN0aW9ucygpLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUuZ2V0Q29sbGVjdGlvbnMoKS5sZW5ndGg7dCsrKXt2YXIgbj1lLmdldENvbGxlY3Rpb25zKClbdF0scj1uLmdldERlZmF1bHRUcmVlKCk7ci5sYWJlbD1uLnBhcmVudExhYmVsfHxzLkxhbmd1YWdlTWFwLmdldFZhbHVlKG4uZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKXx8XCJjb2xsZWN0aW9uIFwiKyh0KzEpLHIubmF2RGF0ZT1uLmdldE5hdkRhdGUoKSxyLmRhdGEuaWQ9bi5pZCxyLmRhdGEudHlwZT1zLlV0aWxzLm5vcm1hbGlzZVR5cGUocy5UcmVlTm9kZVR5cGUuQ09MTEVDVElPTiksZS5kZWZhdWx0VHJlZS5hZGROb2RlKHIpfX0sdH0ocy5JSUlGUmVzb3VyY2UpO3QuQ29sbGVjdGlvbj1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdGFydD1lLHRoaXMuZW5kPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC10aGlzLnN0YXJ0fSxlfSgpO3QuRHVyYXRpb249cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kZWZhdWx0TG9jYWxlPWV9cmV0dXJuIGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUpe3RoaXMucmVzb3VyY2U9ZSx0aGlzLmxhYmVsPXIuTGFuZ3VhZ2VNYXAucGFyc2UodGhpcy5yZXNvdXJjZS5sYWJlbCx0aGlzLmRlZmF1bHRMb2NhbGUpLHRoaXMudmFsdWU9ci5MYW5ndWFnZU1hcC5wYXJzZSh0aGlzLnJlc291cmNlLnZhbHVlLHRoaXMuZGVmYXVsdExvY2FsZSl9LGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWw/ci5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0aGlzLmxhYmVsLHRoaXMuZGVmYXVsdExvY2FsZSk6bnVsbH0sZS5wcm90b3R5cGUuc2V0TGFiZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCl7dmFyIG49dGhpcy5sYWJlbC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2FsZT09PXQuZGVmYXVsdExvY2FsZXx8ZS5sb2NhbGU9PT1yLlV0aWxzLmdldEluZXhhY3RMb2NhbGUodC5kZWZhdWx0TG9jYWxlKX0pKVswXTtuJiYobi52YWx1ZT1lKX19LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7aWYodGhpcy52YWx1ZSl7dmFyIGU9dGhpcy5kZWZhdWx0TG9jYWxlO3JldHVybiB0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLmxlbmd0aCYmdGhpcy5sYWJlbFswXS5sb2NhbGUmJihlPXRoaXMubGFiZWxbMF0ubG9jYWxlKSxyLkxhbmd1YWdlTWFwLmdldFZhbHVlKHRoaXMudmFsdWUsZSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy52YWx1ZSYmdGhpcy52YWx1ZS5sZW5ndGgpe3ZhciBuPXRoaXMudmFsdWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5sb2NhbGU9PT10LmRlZmF1bHRMb2NhbGV8fGUubG9jYWxlPT09ci5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKHQuZGVmYXVsdExvY2FsZSl9KSlbMF07biYmKG4udmFsdWU9ZSl9fSxlfSgpO3QuTGFiZWxWYWx1ZVBhaXI9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKGUsdCl7QXJyYXkuaXNBcnJheShlKT8xPT09ZS5sZW5ndGg/dGhpcy52YWx1ZT1lWzBdOnRoaXMudmFsdWU9ZS5qb2luKFwiPGJyLz5cIik6dGhpcy52YWx1ZT1lLHRoaXMubG9jYWxlPXR9O3QuTGFuZ3VhZ2U9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdO2lmKCFlKXJldHVybiByO2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPWVbaV07bj1cInN0cmluZ1wiPT10eXBlb2Ygcz9uZXcgby5MYW5ndWFnZShzLHQpOm5ldyBvLkxhbmd1YWdlKHNbXCJAdmFsdWVcIl0sc1tcIkBsYW5ndWFnZVwiXXx8dCksci5wdXNoKG4pfWVsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIG49bmV3IG8uTGFuZ3VhZ2UoZSx0KSxyLnB1c2gobikscjtlW1wiQHZhbHVlXCJdPyhuPW5ldyBvLkxhbmd1YWdlKGVbXCJAdmFsdWVcIl0sZVtcIkBsYW5ndWFnZVwiXXx8dCksci5wdXNoKG4pKTpPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighZVt0XS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibGFuZ3VhZ2UgbXVzdCBoYXZlIGEgdmFsdWVcIik7bj1uZXcgby5MYW5ndWFnZShlW3RdLHQpLHIucHVzaChuKX0pKX1yZXR1cm4gcn0sdC5nZXRWYWx1ZT1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoKXtpZih0KXt2YXIgbj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYWxlPT09dHx8by5VdGlscy5nZXRJbmV4YWN0TG9jYWxlKGUubG9jYWxlKT09PW8uVXRpbHMuZ2V0SW5leGFjdExvY2FsZSh0KX0pKVswXTtpZihuKXJldHVybiBuLnZhbHVlfXJldHVybiBlWzBdLnZhbHVlfXJldHVybiBudWxsfSx0fShBcnJheSk7dC5MYW5ndWFnZU1hcD1zfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxzPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztpZihyLmluZGV4PTAsci5fYWxsUmFuZ2VzPW51bGwsci5pdGVtcz1bXSxyLl90b3BSYW5nZXM9W10sci5fX2pzb25sZC5zdHJ1Y3R1cmVzJiZyLl9fanNvbmxkLnN0cnVjdHVyZXMubGVuZ3RoKWZvcih2YXIgaT1yLl9nZXRUb3BSYW5nZXMoKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb107ci5fcGFyc2VSYW5nZXMocyxTdHJpbmcobykpfXJldHVybiByfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0UG9zdGVyQ2FudmFzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRQcm9wZXJ0eShcInBvc3RlckNhbnZhc1wiKTtyZXR1cm4gZSYmKGU9bmV3IHMuQ2FudmFzKGUsdGhpcy5vcHRpb25zKSksZX0sdC5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGV8fG51bGx9LHQucHJvdG90eXBlLmdldERlZmF1bHRUcmVlPWZ1bmN0aW9uKCl7aWYoZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFRyZWUuY2FsbCh0aGlzKSx0aGlzLmRlZmF1bHRUcmVlLmRhdGEudHlwZT1zLlV0aWxzLm5vcm1hbGlzZVR5cGUocy5UcmVlTm9kZVR5cGUuTUFOSUZFU1QpLCF0aGlzLmlzTG9hZGVkKXJldHVybiB0aGlzLmRlZmF1bHRUcmVlO3ZhciB0PXRoaXMuZ2V0VG9wUmFuZ2VzKCk7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmdldFRyZWUodGhpcy5kZWZhdWx0VHJlZSkscy5VdGlscy5nZW5lcmF0ZVRyZWVOb2RlSWRzKHRoaXMuZGVmYXVsdFRyZWUpLHRoaXMuZGVmYXVsdFRyZWV9LHQucHJvdG90eXBlLl9nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZih0aGlzLl9fanNvbmxkLnN0cnVjdHVyZXMmJnRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGgpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX19qc29ubGQuc3RydWN0dXJlc1t0XTtuLnZpZXdpbmdIaW50PT09by5WaWV3aW5nSGludC5UT1AmJmUucHVzaChuKX1pZighZS5sZW5ndGgpe3ZhciByPXt9O3IucmFuZ2VzPXRoaXMuX19qc29ubGQuc3RydWN0dXJlcyxlLnB1c2gocil9fXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRUb3BSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG9wUmFuZ2VzfSx0LnByb3RvdHlwZS5fZ2V0UmFuZ2VCeUlkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX19qc29ubGQuc3RydWN0dXJlcyYmdGhpcy5fX2pzb25sZC5zdHJ1Y3R1cmVzLmxlbmd0aClmb3IodmFyIHQ9MDt0PHRoaXMuX19qc29ubGQuc3RydWN0dXJlcy5sZW5ndGg7dCsrKXt2YXIgbj10aGlzLl9fanNvbmxkLnN0cnVjdHVyZXNbdF07aWYobltcIkBpZFwiXT09PWV8fG4uaWQ9PT1lKXJldHVybiBufXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fcGFyc2VSYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGk9ZSxlPXRoaXMuX2dldFJhbmdlQnlJZChpKSksZSl7KHI9bmV3IHMuUmFuZ2UoZSx0aGlzLm9wdGlvbnMpKS5wYXJlbnRSYW5nZT1uLHIucGF0aD10LG4/bi5pdGVtcy5wdXNoKHIpOnRoaXMuX3RvcFJhbmdlcy5wdXNoKHIpO3ZhciBvPWUuaXRlbXN8fGUubWVtYmVycztpZihvKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgdT1vW2FdO2lmKHVbXCJAdHlwZVwiXSYmXCJzYzpyYW5nZVwiPT09dVtcIkB0eXBlXCJdLnRvTG93ZXJDYXNlKCl8fHUudHlwZSYmXCJyYW5nZVwiPT09dS50eXBlLnRvTG93ZXJDYXNlKCkpdGhpcy5fcGFyc2VSYW5nZXModSx0K1wiL1wiK2Escik7ZWxzZSBpZih1W1wiQHR5cGVcIl0mJlwic2M6Y2FudmFzXCI9PT11W1wiQHR5cGVcIl0udG9Mb3dlckNhc2UoKXx8dS50eXBlJiZcImNhbnZhc1wiPT09dS50eXBlLnRvTG93ZXJDYXNlKCkpe3IuY2FudmFzZXN8fChyLmNhbnZhc2VzPVtdKTt2YXIgYz11LmlkfHx1W1wiQGlkXCJdO3IuY2FudmFzZXMucHVzaChjKX19ZWxzZSBpZihlLnJhbmdlcylmb3IoYT0wO2E8ZS5yYW5nZXMubGVuZ3RoO2ErKyl0aGlzLl9wYXJzZVJhbmdlcyhlLnJhbmdlc1thXSx0K1wiL1wiK2Escil9ZWxzZSBjb25zb2xlLndhcm4oXCJSYW5nZTpcIixpLFwiZG9lcyBub3QgZXhpc3RcIil9LHQucHJvdG90eXBlLmdldEFsbFJhbmdlcz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX2FsbFJhbmdlcylyZXR1cm4gdGhpcy5fYWxsUmFuZ2VzO3RoaXMuX2FsbFJhbmdlcz1bXTtmb3IodmFyIGU9dGhpcy5nZXRUb3BSYW5nZXMoKSx0PWZ1bmN0aW9uKHQpe3ZhciByPWVbdF07ci5pZCYmbi5fYWxsUmFuZ2VzLnB1c2gocik7dmFyIGk9ZnVuY3Rpb24oZSx0KXtlLmFkZCh0KTt2YXIgbj10LmdldFJhbmdlcygpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShpLGUpOmV9LG89QXJyYXkuZnJvbShyLmdldFJhbmdlcygpLnJlZHVjZShpLG5ldyBTZXQpKTtuLl9hbGxSYW5nZXM9bi5fYWxsUmFuZ2VzLmNvbmNhdChvKX0sbj10aGlzLHI9MDtyPGUubGVuZ3RoO3IrKyl0KHIpO3JldHVybiB0aGlzLl9hbGxSYW5nZXN9LHQucHJvdG90eXBlLmdldFJhbmdlQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRBbGxSYW5nZXMoKSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07aWYoci5pZD09PWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFJhbmdlQnlQYXRoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmdldEFsbFJhbmdlcygpLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihyLnBhdGg9PT1lKXJldHVybiByfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5nZXRTZXF1ZW5jZXM9ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zLmxlbmd0aClyZXR1cm4gdGhpcy5pdGVtczt2YXIgZT10aGlzLl9fanNvbmxkLm1lZGlhU2VxdWVuY2VzfHx0aGlzLl9fanNvbmxkLnNlcXVlbmNlcztpZihlKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9bmV3IHMuU2VxdWVuY2Uobix0aGlzLm9wdGlvbnMpO3RoaXMuaXRlbXMucHVzaChyKX1lbHNlIGlmKHRoaXMuX19qc29ubGQuaXRlbXMpe3I9bmV3IHMuU2VxdWVuY2UodGhpcy5fX2pzb25sZC5pdGVtcyx0aGlzLm9wdGlvbnMpO3RoaXMuaXRlbXMucHVzaChyKX1yZXR1cm4gdGhpcy5pdGVtc30sdC5wcm90b3R5cGUuZ2V0U2VxdWVuY2VCeUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpW2VdfSx0LnByb3RvdHlwZS5nZXRUb3RhbFNlcXVlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlcXVlbmNlcygpLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZXJ2aWNlKG8uU2VydmljZVByb2ZpbGUuVUlfRVhURU5TSU9OUyk7cmV0dXJuIGU/ZS5nZXRQcm9wZXJ0eShcIm1hbmlmZXN0VHlwZVwiKTpzLk1hbmlmZXN0VHlwZS5FTVBUWX0sdC5wcm90b3R5cGUuaXNNdWx0aVNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG90YWxTZXF1ZW5jZXMoKT4xfSx0LnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7aWYoZSlyZXR1cm4gZT09PW8uVmlld2luZ0hpbnQuUEFHRUQ7dmFyIHQ9dGhpcy5nZXRCZWhhdmlvcigpO3JldHVybiEhdCYmdD09PW8uQmVoYXZpb3IuUEFHRUR9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LHQucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sdH0ocy5JSUlGUmVzb3VyY2UpO3QuTWFuaWZlc3Q9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuRU1QVFk9XCJcIixlLk1BTlVTQ1JJUFQ9XCJtYW51c2NyaXB0XCIsZS5NT05PR1JBUEg9XCJtb25vZ3JhcGhcIn0odC5NYW5pZmVzdFR5cGV8fCh0Lk1hbmlmZXN0VHlwZT17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxzPW4oMSksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gci5fcmFuZ2VzPW51bGwsci5jYW52YXNlcz1udWxsLHIuaXRlbXM9W10scn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldENhbnZhc0lkcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fanNvbmxkLmNhbnZhc2VzP3RoaXMuX19qc29ubGQuY2FudmFzZXM6dGhpcy5jYW52YXNlcz90aGlzLmNhbnZhc2VzOltdfSx0LnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5jYW52YXNlcyYmdGhpcy5jYW52YXNlcy5sZW5ndGgpZm9yKHZhciBuPTA7bjx0aGlzLmNhbnZhc2VzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuY2FudmFzZXNbbl0saT1vLlV0aWxzLmdldFRlbXBvcmFsQ29tcG9uZW50KHIpO2kmJmkubGVuZ3RoPjEmJigwPT09biYmKGU9TnVtYmVyKGlbMF0pKSxuPT09dGhpcy5jYW52YXNlcy5sZW5ndGgtMSYmKHQ9TnVtYmVyKGlbMV0pKSl9ZWxzZXt2YXIgcz10aGlzLmdldFJhbmdlcygpO2ZvcihuPTA7bjxzLmxlbmd0aDtuKyspe3ZhciBhPXNbbl0uZ2V0RHVyYXRpb24oKTthJiYoMD09PW4mJihlPWEuc3RhcnQpLG49PT1zLmxlbmd0aC0xJiYodD1hLmVuZCkpfX1pZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT10KXJldHVybiBuZXcgby5EdXJhdGlvbihlLHQpfSx0LnByb3RvdHlwZS5nZXRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzP3RoaXMuX3Jhbmdlczp0aGlzLl9yYW5nZXM9dGhpcy5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzUmFuZ2UoKX0pKX0sdC5wcm90b3R5cGUuZ2V0QmVoYXZpb3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFByb3BlcnR5KFwiYmVoYXZpb3JcIik7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pLGV8fG51bGx9LHQucHJvdG90eXBlLmdldFZpZXdpbmdEaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdEaXJlY3Rpb25cIil9LHQucHJvdG90eXBlLmdldFZpZXdpbmdIaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nSGludFwiKX0sdC5wcm90b3R5cGUuZ2V0VHJlZT1mdW5jdGlvbihlKXtlLmRhdGE9dGhpcyx0aGlzLnRyZWVOb2RlPWU7dmFyIHQ9dGhpcy5nZXRSYW5nZXMoKTtpZih0JiZ0Lmxlbmd0aClmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPW5ldyBvLlRyZWVOb2RlO2UuYWRkTm9kZShpKSx0aGlzLl9wYXJzZVRyZWVOb2RlKGkscil9cmV0dXJuIG8uVXRpbHMuZ2VuZXJhdGVUcmVlTm9kZUlkcyhlKSxlfSx0LnByb3RvdHlwZS5zcGFuc1RpbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXREdXJhdGlvbigpO3JldHVybiEhKHQmJmU+PXQuc3RhcnQmJmU8PXQuZW5kKX0sdC5wcm90b3R5cGUuX3BhcnNlVHJlZU5vZGU9ZnVuY3Rpb24oZSx0KXtlLmxhYmVsPW8uTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUodC5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpLGUuZGF0YT10LGUuZGF0YS50eXBlPW8uVXRpbHMubm9ybWFsaXNlVHlwZShvLlRyZWVOb2RlVHlwZS5SQU5HRSksdC50cmVlTm9kZT1lO3ZhciBuPXQuZ2V0UmFuZ2VzKCk7aWYobiYmbi5sZW5ndGgpZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07aWYoaS5nZXRCZWhhdmlvcigpIT09cy5CZWhhdmlvci5OT19OQVYpe3ZhciBhPW5ldyBvLlRyZWVOb2RlO2UuYWRkTm9kZShhKSx0aGlzLl9wYXJzZVRyZWVOb2RlKGEsaSl9fX0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlJhbmdlPWF9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5nZXRGb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcImZvcm1hdFwiKX0sdH0obigwKS5NYW5pZmVzdFJlc291cmNlKTt0LlJlbmRlcmluZz1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxzPW4oMCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gci5pdGVtcz1bXSxyLl90aHVtYm5haWxzPW51bGwscn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldENhbnZhc2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGgpcmV0dXJuIHRoaXMuaXRlbXM7dmFyIGU9dGhpcy5fX2pzb25sZC5jYW52YXNlc3x8dGhpcy5fX2pzb25sZC5lbGVtZW50cztpZihlKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdOyhyPW5ldyBzLkNhbnZhcyhuLHRoaXMub3B0aW9ucykpLmluZGV4PXQsdGhpcy5pdGVtcy5wdXNoKHIpfWVsc2UgaWYodGhpcy5fX2pzb25sZClmb3IodD0wO3Q8dGhpcy5fX2pzb25sZC5sZW5ndGg7dCsrKXt2YXIgcjtuPXRoaXMuX19qc29ubGRbdF07KHI9bmV3IHMuQ2FudmFzKG4sdGhpcy5vcHRpb25zKSkuaW5kZXg9dCx0aGlzLml0ZW1zLnB1c2gocil9cmV0dXJuIHRoaXMuaXRlbXN9LHQucHJvdG90eXBlLmdldENhbnZhc0J5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0Kyspe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KSxyPXMuVXRpbHMubm9ybWFsaXNlVXJsKG4uaWQpO2lmKHMuVXRpbHMubm9ybWFsaXNlVXJsKGUpPT09cilyZXR1cm4gbn1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2FudmFzQnlJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDYW52YXNlcygpW2VdfSx0LnByb3RvdHlwZS5nZXRDYW52YXNJbmRleEJ5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0Kyspe2lmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KS5pZD09PWUpcmV0dXJuIHR9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldENhbnZhc0luZGV4QnlMYWJlbD1mdW5jdGlvbihlLHQpe2U9ZS50cmltKCksaXNOYU4oZSl8fChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKCksdCYmKGUrPVwiclwiKSk7Zm9yKHZhciBuLHIsaSxvPS8oXFxkKilcXEQrKFxcZCopLyxhPTA7YTx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTthKyspe3ZhciB1PXRoaXMuZ2V0Q2FudmFzQnlJbmRleChhKTtpZihzLkxhbmd1YWdlTWFwLmdldFZhbHVlKHUuZ2V0TGFiZWwoKSx0aGlzLm9wdGlvbnMubG9jYWxlKT09PWUpcmV0dXJuIGE7aWYoKG49by5leGVjKGUpKSYmKHI9blsxXSwoaT1uWzJdKSYmbmV3IFJlZ0V4cChcIl5cIityK1wiXFxcXEQrXCIraStcIiRcIikudGVzdCh1LmdldExhYmVsKCkudG9TdHJpbmcoKSkpKXJldHVybiBhfXJldHVybi0xfSx0LnByb3RvdHlwZS5nZXRMYXN0Q2FudmFzTGFiZWw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLTE7dD49MDt0LS0pe3ZhciBuPXRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KSxyPXMuTGFuZ3VhZ2VNYXAuZ2V0VmFsdWUobi5nZXRMYWJlbCgpLHRoaXMub3B0aW9ucy5sb2NhbGUpO2lmKGUpe2lmKC9eW2EtekEtWjAtOV0qJC8udGVzdChyKSlyZXR1cm4gcn1lbHNlIGlmKHIpcmV0dXJuIHJ9cmV0dXJuIHRoaXMub3B0aW9ucy5kZWZhdWx0TGFiZWx9LHQucHJvdG90eXBlLmdldExhc3RQYWdlSW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sdC5wcm90b3R5cGUuZ2V0TmV4dFBhZ2VJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQpe3ZhciByPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKGUpLGk9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1pJiZpPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/clswXSsxOnJbci5sZW5ndGgtMV0rMX1lbHNlIG49ZSsxO3JldHVybiBuPnRoaXMuZ2V0TGFzdFBhZ2VJbmRleCgpPy0xOm59LHQucHJvdG90eXBlLmdldFBhZ2VkSW5kaWNlcz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKHQpe249dGhpcy5pc0ZpcnN0Q2FudmFzKGUpfHx0aGlzLmlzTGFzdENhbnZhcyhlKT9bZV06ZSUyP1tlLGUrMV06W2UtMSxlXTt2YXIgcj10aGlzLmdldFZpZXdpbmdEaXJlY3Rpb24oKTtyJiZyPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQmJihuPW4ucmV2ZXJzZSgpKX1lbHNlIG4ucHVzaChlKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0UHJldlBhZ2VJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQpe3ZhciByPXRoaXMuZ2V0UGFnZWRJbmRpY2VzKGUpLGk9dGhpcy5nZXRWaWV3aW5nRGlyZWN0aW9uKCk7bj1pJiZpPT09by5WaWV3aW5nRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ/cltyLmxlbmd0aC0xXS0xOnJbMF0tMX1lbHNlIG49ZS0xO3JldHVybiBufSx0LnByb3RvdHlwZS5nZXRTdGFydENhbnZhc0luZGV4PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTdGFydENhbnZhcygpO2lmKGUpZm9yKHZhciB0PTA7dDx0aGlzLmdldFRvdGFsQ2FudmFzZXMoKTt0Kyspe2lmKHRoaXMuZ2V0Q2FudmFzQnlJbmRleCh0KS5pZD09PWUpcmV0dXJuIHR9cmV0dXJuIDB9LHQucHJvdG90eXBlLmdldFRodW1icz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPXRoaXMuZ2V0VG90YWxDYW52YXNlcygpLGk9MDtpPHI7aSsrKXt2YXIgbz10aGlzLmdldENhbnZhc0J5SW5kZXgoaSksYT1uZXcgcy5UaHVtYihlLG8pO24ucHVzaChhKX1yZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0VGh1bWJuYWlscz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3RodW1ibmFpbHMpcmV0dXJuIHRoaXMuX3RodW1ibmFpbHM7dGhpcy5fdGh1bWJuYWlscz1bXTtmb3IodmFyIGU9dGhpcy5nZXRDYW52YXNlcygpLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XS5nZXRUaHVtYm5haWwoKTtuJiZ0aGlzLl90aHVtYm5haWxzLnB1c2gobil9cmV0dXJuIHRoaXMuX3RodW1ibmFpbHN9LHQucHJvdG90eXBlLmdldFN0YXJ0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJzdGFydENhbnZhc1wiKX0sdC5wcm90b3R5cGUuZ2V0VG90YWxDYW52YXNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENhbnZhc2VzKCkubGVuZ3RofSx0LnByb3RvdHlwZS5nZXRWaWV3aW5nRGlyZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpP3RoaXMuZ2V0UHJvcGVydHkoXCJ2aWV3aW5nRGlyZWN0aW9uXCIpOnRoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uP3RoaXMub3B0aW9ucy5yZXNvdXJjZS5nZXRWaWV3aW5nRGlyZWN0aW9uKCk6bnVsbH0sdC5wcm90b3R5cGUuZ2V0Vmlld2luZ0hpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShcInZpZXdpbmdIaW50XCIpfSx0LnByb3RvdHlwZS5pc0NhbnZhc0luZGV4T3V0T2ZSYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gZT50aGlzLmdldFRvdGFsQ2FudmFzZXMoKS0xfSx0LnByb3RvdHlwZS5pc0ZpcnN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZX0sdC5wcm90b3R5cGUuaXNMYXN0Q2FudmFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5nZXRUb3RhbENhbnZhc2VzKCktMX0sdC5wcm90b3R5cGUuaXNNdWx0aUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKT4xfSx0LnByb3RvdHlwZS5pc1BhZ2luZ0VuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZpZXdpbmdIaW50KCk7cmV0dXJuISFlJiZlPT09by5WaWV3aW5nSGludC5QQUdFRH0sdC5wcm90b3R5cGUuaXNUb3RhbENhbnZhc2VzRXZlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRvdGFsQ2FudmFzZXMoKSUyPT0wfSx0fShzLk1hbmlmZXN0UmVzb3VyY2UpO3QuU2VxdWVuY2U9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9SlNPTi5wYXJzZShlKSksdGhpcy5wYXJzZUpzb24oZSx0KX0sZS5wYXJzZUpzb249ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0JiZ0Lm5hdkRhdGUmJiFpc05hTih0Lm5hdkRhdGUuZ2V0VGltZSgpKSYmKGUubmF2RGF0ZT10Lm5hdkRhdGUudG9TdHJpbmcoKSksZVtcIkB0eXBlXCJdKXN3aXRjaChlW1wiQHR5cGVcIl0pe2Nhc2VcInNjOkNvbGxlY3Rpb25cIjpuPXRoaXMucGFyc2VDb2xsZWN0aW9uKGUsdCk7YnJlYWs7Y2FzZVwic2M6TWFuaWZlc3RcIjpuPXRoaXMucGFyc2VNYW5pZmVzdChlLHQpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9ZWxzZSBzd2l0Y2goZS50eXBlKXtjYXNlXCJDb2xsZWN0aW9uXCI6bj10aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpO2JyZWFrO2Nhc2VcIk1hbmlmZXN0XCI6bj10aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiBuLmlzTG9hZGVkPSEwLG59LGUucGFyc2VDb2xsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHIuQ29sbGVjdGlvbihlLHQpO3JldHVybiB0PyhuLmluZGV4PXQuaW5kZXh8fDAsdC5yZXNvdXJjZSYmKG4ucGFyZW50Q29sbGVjdGlvbj10LnJlc291cmNlLnBhcmVudENvbGxlY3Rpb24pKTpuLmluZGV4PTAsdGhpcy5wYXJzZUNvbGxlY3Rpb25zKG4sdCksdGhpcy5wYXJzZU1hbmlmZXN0cyhuLHQpLHRoaXMucGFyc2VJdGVtcyhuLHQpLG59LGUucGFyc2VDb2xsZWN0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuX19qc29ubGQuY29sbGVjdGlvbnM/bj1lLl9fanNvbmxkLmNvbGxlY3Rpb25zOmUuX19qc29ubGQuaXRlbXMmJihuPWUuX19qc29ubGQuaXRlbXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cImNvbGxlY3Rpb25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt0JiYodC5pbmRleD1yKTt2YXIgaT10aGlzLnBhcnNlQ29sbGVjdGlvbihuW3JdLHQpO2kuaW5kZXg9cixpLnBhcmVudENvbGxlY3Rpb249ZSxlLml0ZW1zLnB1c2goaSl9fSxlLnBhcnNlTWFuaWZlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHIuTWFuaWZlc3QoZSx0KX0sZS5wYXJzZU1hbmlmZXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuX19qc29ubGQubWFuaWZlc3RzP249ZS5fX2pzb25sZC5tYW5pZmVzdHM6ZS5fX2pzb25sZC5pdGVtcyYmKG49ZS5fX2pzb25sZC5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwibWFuaWZlc3RcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpfSkpKSxuKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT10aGlzLnBhcnNlTWFuaWZlc3QobltyXSx0KTtpLmluZGV4PXIsaS5wYXJlbnRDb2xsZWN0aW9uPWUsZS5pdGVtcy5wdXNoKGkpfX0sZS5wYXJzZUl0ZW09ZnVuY3Rpb24oZSx0KXtpZihlW1wiQHR5cGVcIl0pe2lmKFwic2M6bWFuaWZlc3RcIj09PWVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlTWFuaWZlc3QoZSx0KTtpZihcInNjOmNvbGxlY3Rpb25cIj09PWVbXCJAdHlwZVwiXS50b0xvd2VyQ2FzZSgpKXJldHVybiB0aGlzLnBhcnNlQ29sbGVjdGlvbihlLHQpfWVsc2UgaWYoZS50eXBlKXtpZihcIm1hbmlmZXN0XCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZU1hbmlmZXN0KGUsdCk7aWYoXCJjb2xsZWN0aW9uXCI9PT1lLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdGhpcy5wYXJzZUNvbGxlY3Rpb24oZSx0KX1yZXR1cm4gbnVsbH0sZS5wYXJzZUl0ZW1zPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fX2pzb25sZC5tZW1iZXJzfHxlLl9fanNvbmxkLml0ZW1zO2lmKG4pZm9yKHZhciByPWZ1bmN0aW9uKHIpe3QmJih0LmluZGV4PXIpO3ZhciBvPWkucGFyc2VJdGVtKG5bcl0sdCk7cmV0dXJuIG8/ZS5pdGVtcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09by5pZH0pKVswXT9cImNvbnRpbnVlXCI6KG8uaW5kZXg9cixvLnBhcmVudENvbGxlY3Rpb249ZSx2b2lkIGUuaXRlbXMucHVzaChvKSk6e3ZhbHVlOnZvaWQgMH19LGk9dGhpcyxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBzPXIobyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHMpcmV0dXJuIHMudmFsdWV9fSxlfSgpO3QuRGVzZXJpYWxpc2VyPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiBlLmNhbGwodGhpcyx0LG4pfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0UHJvZmlsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UHJvcGVydHkoXCJwcm9maWxlXCIpO3JldHVybiBlfHwoZT10aGlzLmdldFByb3BlcnR5KFwiZGN0ZXJtczpjb25mb3Jtc1RvXCIpKSxBcnJheS5pc0FycmF5KGUpP2VbMF06ZX0sdC5wcm90b3R5cGUuZ2V0Q29uZmlybUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImNvbmZpcm1MYWJlbFwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEZhaWx1cmVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBvLlV0aWxzLmdldExvY2FsaXNlZFZhbHVlKHRoaXMuZ2V0UHJvcGVydHkoXCJmYWlsdXJlRGVzY3JpcHRpb25cIiksdGhpcy5vcHRpb25zLmxvY2FsZSl9LHQucHJvdG90eXBlLmdldEZhaWx1cmVIZWFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gby5VdGlscy5nZXRMb2NhbGlzZWRWYWx1ZSh0aGlzLmdldFByb3BlcnR5KFwiZmFpbHVyZUhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0SGVhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImhlYWRlclwiKSx0aGlzLm9wdGlvbnMubG9jYWxlKX0sdC5wcm90b3R5cGUuZ2V0U2VydmljZUxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIG8uVXRpbHMuZ2V0TG9jYWxpc2VkVmFsdWUodGhpcy5nZXRQcm9wZXJ0eShcImxhYmVsXCIpLHRoaXMub3B0aW9ucy5sb2NhbGUpfSx0LnByb3RvdHlwZS5nZXRJbmZvVXJpPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pZDtyZXR1cm4gZS5lbmRzV2l0aChcIi9cIil8fChlKz1cIi9cIiksZSs9XCJpbmZvLmpzb25cIn0sdH0oby5NYW5pZmVzdFJlc291cmNlKTt0LlNlcnZpY2U9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXR9O3QuU2l6ZT1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7ZVtlLkFVVEhPUklaQVRJT05fRkFJTEVEPTFdPVwiQVVUSE9SSVpBVElPTl9GQUlMRURcIixlW2UuRk9SQklEREVOPTJdPVwiRk9SQklEREVOXCIsZVtlLklOVEVSTkFMX1NFUlZFUl9FUlJPUj0zXT1cIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGVbZS5SRVNUUklDVEVEPTRdPVwiUkVTVFJJQ1RFRFwifSh0LlN0YXR1c0NvZGV8fCh0LlN0YXR1c0NvZGU9e30pKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMCksaT1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YT10LHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLndpZHRoPWU7dmFyIG49dC5nZXRIZWlnaHQoKS90LmdldFdpZHRoKCk7dGhpcy5oZWlnaHQ9bj9NYXRoLmZsb29yKHRoaXMud2lkdGgqbik6ZSx0aGlzLnVyaT10LmdldENhbm9uaWNhbEltYWdlVXJpKGUpLHRoaXMubGFiZWw9ci5MYW5ndWFnZU1hcC5nZXRWYWx1ZSh0LmdldExhYmVsKCkpfTt0LlRodW1iPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPXRoaXMmJnRoaXMuX19leHRlbmRzfHwocj1mdW5jdGlvbihlLHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXIoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihuLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgbil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbil8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShuKDApLlJlc291cmNlKTt0LlRodW1ibmFpbD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigwKSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubGFiZWw9ZSx0aGlzLmRhdGE9dHx8e30sdGhpcy5ub2Rlcz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbihlKXt0aGlzLm5vZGVzLnB1c2goZSksZS5wYXJlbnROb2RlPXRoaXN9LGUucHJvdG90eXBlLmlzQ29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PXIuVXRpbHMubm9ybWFsaXNlVHlwZShyLlRyZWVOb2RlVHlwZS5DT0xMRUNUSU9OKX0sZS5wcm90b3R5cGUuaXNNYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEudHlwZT09PXIuVXRpbHMubm9ybWFsaXNlVHlwZShyLlRyZWVOb2RlVHlwZS5NQU5JRkVTVCl9LGUucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1yLlV0aWxzLm5vcm1hbGlzZVR5cGUoci5UcmVlTm9kZVR5cGUuUkFOR0UpfSxlfSgpO3QuVHJlZU5vZGU9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe2UuQ09MTEVDVElPTj1cImNvbGxlY3Rpb25cIixlLk1BTklGRVNUPVwibWFuaWZlc3RcIixlLlJBTkdFPVwicmFuZ2VcIn0odC5UcmVlTm9kZVR5cGV8fCh0LlRyZWVOb2RlVHlwZT17fSkpfSxmdW5jdGlvbihlLHQsbil7d2luZG93LGUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpbi5kKHIsaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDEpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DT05USU5VRT0xMDAsdC5TV0lUQ0hJTkdfUFJPVE9DT0xTPTEwMSx0LlBST0NFU1NJTkc9MTAyLHQuT0s9MjAwLHQuQ1JFQVRFRD0yMDEsdC5BQ0NFUFRFRD0yMDIsdC5OT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTj0yMDMsdC5OT19DT05URU5UPTIwNCx0LlJFU0VUX0NPTlRFTlQ9MjA1LHQuUEFSVElBTF9DT05URU5UPTIwNix0Lk1VTFRJX1NUQVRVUz0yMDcsdC5NVUxUSVBMRV9DSE9JQ0VTPTMwMCx0Lk1PVkVEX1BFUk1BTkVOVExZPTMwMSx0Lk1PVkVEX1RFTVBPUkFSSUxZPTMwMix0LlNFRV9PVEhFUj0zMDMsdC5OT1RfTU9ESUZJRUQ9MzA0LHQuVVNFX1BST1hZPTMwNSx0LlRFTVBPUkFSWV9SRURJUkVDVD0zMDcsdC5CQURfUkVRVUVTVD00MDAsdC5VTkFVVEhPUklaRUQ9NDAxLHQuUEFZTUVOVF9SRVFVSVJFRD00MDIsdC5GT1JCSURERU49NDAzLHQuTk9UX0ZPVU5EPTQwNCx0Lk1FVEhPRF9OT1RfQUxMT1dFRD00MDUsdC5OT1RfQUNDRVBUQUJMRT00MDYsdC5QUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRD00MDcsdC5SRVFVRVNUX1RJTUVfT1VUPTQwOCx0LkNPTkZMSUNUPTQwOSx0LkdPTkU9NDEwLHQuTEVOR1RIX1JFUVVJUkVEPTQxMSx0LlBSRUNPTkRJVElPTl9GQUlMRUQ9NDEyLHQuUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFPTQxMyx0LlJFUVVFU1RfVVJJX1RPT19MQVJHRT00MTQsdC5VTlNVUFBPUlRFRF9NRURJQV9UWVBFPTQxNSx0LlJFUVVFU1RFRF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU9NDE2LHQuRVhQRUNUQVRJT05fRkFJTEVEPTQxNyx0LklNX0FfVEVBUE9UPTQxOCx0LlVOUFJPQ0VTU0FCTEVfRU5USVRZPTQyMix0LkxPQ0tFRD00MjMsdC5GQUlMRURfREVQRU5ERU5DWT00MjQsdC5VTk9SREVSRURfQ09MTEVDVElPTj00MjUsdC5VUEdSQURFX1JFUVVJUkVEPTQyNix0LlBSRUNPTkRJVElPTl9SRVFVSVJFRD00MjgsdC5UT09fTUFOWV9SRVFVRVNUUz00MjksdC5SRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFPTQzMSx0LklOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDAsdC5OT1RfSU1QTEVNRU5URUQ9NTAxLHQuQkFEX0dBVEVXQVk9NTAyLHQuU0VSVklDRV9VTkFWQUlMQUJMRT01MDMsdC5HQVRFV0FZX1RJTUVfT1VUPTUwNCx0LkhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEPTUwNSx0LlZBUklBTlRfQUxTT19ORUdPVElBVEVTPTUwNix0LklOU1VGRklDSUVOVF9TVE9SQUdFPTUwNyx0LkJBTkRXSURUSF9MSU1JVF9FWENFRURFRD01MDksdC5OT1RfRVhURU5ERUQ9NTEwLHQuTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRD01MTF9XSl9LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9d2luZG93LmZldGNofHwod2luZG93LmZldGNoPW4oMykuZGVmYXVsdHx8bigzKSl9XSl9KSk7IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwicmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtYmxpbmQnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LWJvdW5jZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtY2xpcCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZHJvcCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZXhwbG9kZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZmFkZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtZm9sZCcpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3QtaGlnaGxpZ2h0Jyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1wdWZmJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1wdWxzYXRlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC1zY2FsZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdWkvZWZmZWN0cy9lZmZlY3Qtc2hha2UnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNpemUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2VmZmVjdHMvZWZmZWN0LXNsaWRlJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS91aS9lZmZlY3RzL2VmZmVjdC10cmFuc2ZlcicpOyIsInJlcXVpcmUoJ2pxdWVyeS11aS91aS93aWRnZXQnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL2tleWNvZGUnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL3dpZGdldHMvbW91c2UnKTtcclxucmVxdWlyZSgnanF1ZXJ5LXVpL3VpL3dpZGdldHMvc2xpZGVyJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS11aS90aGVtZXMvYmFzZS9jb3JlLmNzcycpO1xyXG5yZXF1aXJlKCdqcXVlcnktdWkvdGhlbWVzL2Jhc2Uvc2xpZGVyLmNzcycpOyIsImV4cG9ydCBkZWZhdWx0IHtcbiAgbG9jYWxlczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICfQkdGK0LvQs9Cw0YDRgdC60LgnLFxuICAgICAgY29kZTogJ2JnJyxcbiAgICAgIGlzbzogJ2JnLUJHJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ8SMZcWhdGluYScsXG4gICAgICBjb2RlOiAnY3MnLFxuICAgICAgaXNvOiAnY3MtQ1onXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRGFuc2snLFxuICAgICAgY29kZTogJ2RhJyxcbiAgICAgIGlzbzogJ2RhLURLJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0RldXRzY2gnLFxuICAgICAgY29kZTogJ2RlJyxcbiAgICAgIGlzbzogJ2RlLURFJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ86VzrvOu863zr3Ouc66zqwnLFxuICAgICAgY29kZTogJ2VsJyxcbiAgICAgIGlzbzogJ2VsLUdSJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0VuZ2xpc2gnLFxuICAgICAgY29kZTogJ2VuJyxcbiAgICAgIGlzbzogJ2VuLUdCJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0VzcGHDsW9sJyxcbiAgICAgIGNvZGU6ICdlcycsXG4gICAgICBpc286ICdlcy1FUydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdFZXN0aScsXG4gICAgICBjb2RlOiAnZXQnLFxuICAgICAgaXNvOiAnZXQtRUUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnRXVza2FyYScsXG4gICAgICBjb2RlOiAnZXUnLFxuICAgICAgaXNvOiAnZXUtRVMnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU3VvbWknLFxuICAgICAgY29kZTogJ2ZpJyxcbiAgICAgIGlzbzogJ2ZpLUZJJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0ZyYW7Dp2FpcycsXG4gICAgICBjb2RlOiAnZnInLFxuICAgICAgaXNvOiAnZnItRlInXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnR2FlaWxnZScsXG4gICAgICBjb2RlOiAnZ2EnLFxuICAgICAgaXNvOiAnZ2EtSUUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnSHJ2YXRza2knLFxuICAgICAgY29kZTogJ2hyJyxcbiAgICAgIGlzbzogJ2hyLUhSJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ01hZ3lhcicsXG4gICAgICBjb2RlOiAnaHUnLFxuICAgICAgaXNvOiAnaHUtSFUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnSXRhbGlhbm8nLFxuICAgICAgY29kZTogJ2l0JyxcbiAgICAgIGlzbzogJ2l0LUlUJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ0xpZXR1dmnFsycsXG4gICAgICBjb2RlOiAnbHQnLFxuICAgICAgaXNvOiAnbHQtTFQnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTGF0dmllxaF1JyxcbiAgICAgIGNvZGU6ICdsdicsXG4gICAgICBpc286ICdsdi1MVidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdNYWx0aScsXG4gICAgICBjb2RlOiAnbXQnLFxuICAgICAgaXNvOiAnbXQtTVQnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnTmVkZXJsYW5kcycsXG4gICAgICBjb2RlOiAnbmwnLFxuICAgICAgaXNvOiAnbmwtTkwnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnUG9sc2tpJyxcbiAgICAgIGNvZGU6ICdwbCcsXG4gICAgICBpc286ICdwbC1QTCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdQb3J0dWd1w6pzJyxcbiAgICAgIGNvZGU6ICdwdCcsXG4gICAgICBpc286ICdwdC1QVCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdSb23Dom7EgycsXG4gICAgICBjb2RlOiAncm8nLFxuICAgICAgaXNvOiAncm8tUk8nXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2xvdmVuxI1pbmEnLFxuICAgICAgY29kZTogJ3NrJyxcbiAgICAgIGlzbzogJ3NrLVNLJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1Nsb3ZlbsWhxI1pbmEnLFxuICAgICAgY29kZTogJ3NsJyxcbiAgICAgIGlzbzogJ3NsLVNJJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N2ZW5za2EnLFxuICAgICAgY29kZTogJ3N2JyxcbiAgICAgIGlzbzogJ3N2LVNFJ1xuICAgIH1cbiAgXVxufTtcbiIsIi8qIGdsb2JhbCAkICovXG5cbmNvbnN0IGlkUGFydCA9ICc/aWQ9JztcblxuZnVuY3Rpb24gaGFuZGxlRVVzY3JlZW5JdGVtKHBsYXllciwgaGVscGVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBjYW52YXMgPSBoZWxwZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF07XG4gICAgbGV0IEVVc2NyZWVuaXRlbXBhZ2UgPSAgY2FudmFzLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkuaWQ7XG4gICAgbGV0IEVVc2NyZWVuSWQgPSBFVXNjcmVlbml0ZW1wYWdlLnN1YnN0cmluZyhFVXNjcmVlbml0ZW1wYWdlLmluZGV4T2YoaWRQYXJ0KStpZFBhcnQubGVuZ3RoKTtcblxuICAgICQuZ2V0KCdodHRwczovL2V1c2NyZWVuLmVtYmQuZXUvJytFVXNjcmVlbklkLCAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNhbnZhcy5pZCA9IGhlbHBlci5tYW5pZmVzdC5fX2pzb25sZC5pZC5zdWJzdHJpbmcoMCwgaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLmlkLmxhc3RJbmRleE9mKCcvJykpKycvY2FudmFzL3AxJztcbiAgICAgIGNhbnZhcy50eXBlID0gJ0NhbnZhcyc7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gcmVzcG9uc2UuaGVpZ2h0O1xuICAgICAgY2FudmFzLndpZHRoID0gcmVzcG9uc2Uud2lkdGg7XG4gICAgICBjYW52YXMuZHVyYXRpb24gPSByZXNwb25zZS5kdXJhdGlvbjtcblxuICAgICAgY2FudmFzLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkuaWQgPSByZXNwb25zZS5sb2NhdGlvbjtcbiAgICAgIGNhbnZhcy5pdGVtc1swXS5pdGVtc1swXS5ib2R5LmZvcm1hdCA9IHJlc3BvbnNlLmZvcm1hdDtcbiAgICAgIGNhbnZhcy5pdGVtc1swXS5pdGVtc1swXS5ib2R5LnR5cGUgPSByZXNwb25zZS50eXBlO1xuXG4gICAgICByZXNvbHZlKGhlbHBlcik7XG4gICAgfSlcbiAgICAgIC5mYWlsKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IHJlY2VpdmUgcmVxdWlyZWQgaWVtIGluZm9ybWF0aW9uIGZvciAnK0VVc2NyZWVuSWQpO1xuICAgICAgICByZWplY3QoaGVscGVyKTtcbiAgICAgIH0pO1xuICB9KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoYW5kbGVFVXNjcmVlbkl0ZW1cbn07XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKiBnbG9iYWwgJCBpbml0Q2FudmFzTmF2aWdhdGlvbiAqL1xuXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxucmVxdWlyZSgnQGlpaWYvaWlpZi10cmVlLWNvbXBvbmVudCcpO1xucmVxdWlyZSgnQGlpaWYvYmFzZS1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ21hbmlmZXN0by5qcycpO1xuY29uc3QgTWFuaWZvbGQgPSByZXF1aXJlKCdAaWlpZi9tYW5pZm9sZCcpO1xuY29uc3QgSUlJRkFWQ29tcG9uZW50ID0gcmVxdWlyZSgnQGlpaWYvaWlpZi1hdi1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ2Rhc2hqcycpO1xuXG5yZXF1aXJlKCd3ZWJwYWNrLWpxdWVyeS11aS9zbGlkZXInKTtcbnJlcXVpcmUoJ3dlYnBhY2stanF1ZXJ5LXVpL2VmZmVjdHMnKTtcblxuaW1wb3J0IEJhbmFuYSBmcm9tICdiYW5hbmEtaTE4bic7XG5cbmNvbnN0IHsgcGxheUV2ZW50SGFuZGxlciwgcGF1c2VFdmVudEhhbmRsZXIsIHZvbHVtZUNoYW5nZWRFdmVudEhhbmRsZXIsIGtleUV2ZW50SGFuZGxlciwgcGxheVBhdXNlRXZlbnRIYW5kbGVyLCBmdWxsU2NyZWVuRXZlbnRIYW5kbGVyLCBlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIsIHRvZ2dsZVN1YnRpdGxlc0V2ZW50SGFuZGxlciwgc3VidGl0bGVNZW51RXZlbnRIYW5kbGVyLCBvcGVuRWRpdG9yVHlwZUV2ZW50SGFuZGxlciwgbWVkaWFFcnJvckhhbmRsZXIgfSA9IHJlcXVpcmUoJy4vcGxheWVyRXZlbnRIYW5kbGVycycpO1xuXG5jb25zdCB7IGhhbmRsZUVVc2NyZWVuSXRlbSB9ID0gcmVxdWlyZSgnLi9FVXNjcmVlbicpO1xuXG5jb25zdCB7IGhhbmRsZVRyYW5zY3JpcHRpb25Bbm5vdGF0aW9ucyB9ID0gcmVxdWlyZSgnLi90cmFuc2NyaXB0aW9uQW5ub3RhdGlvbnMnKTtcblxuY29uc3QgbGFuZ3VhZ2VzID0gcmVxdWlyZSgnLi4vbGFuZ3VhZ2VzL2xhbmcuanMnKS5kZWZhdWx0LmxvY2FsZXM7XG5jb25zdCBpMThuID0gcmVxdWlyZSgnLi9pMThuL2xhbmd1YWdlcy5qc29uJyk7XG5cbmxldCBoZWxwZXI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yKGVsZW0pIHtcbiAgICBpZiAoIWVsZW0pIHJldHVybjtcbiAgICB0aGlzLmVsZW0gPSBlbGVtO1xuXG4gICAgdGhpcy52aWRlb0lkID0gJyc7XG4gICAgdGhpcy5hdmNvbXBvbmVudDtcbiAgICB0aGlzLnRpbWV1cGRhdGU7XG4gICAgdGhpcy5tYW5pZmVzdDtcbiAgICB0aGlzLm1hbmlmZXN0dXJsO1xuICAgIHRoaXMuZWRpdG9ydXJsO1xuICAgIHRoaXMuYmFuYW5hO1xuICB9XG5cbiAgaW5pdCh2aWRlb09iaiwgZWRpdG9ydXJsLCBsYW5ndWFnZSkge1xuICAgIHRoaXMuY3JlYXRlQVZDb21wb25lbnQoKTtcbiAgICB0aGlzLmNyZWF0ZU1hbmlmZXN0KHZpZGVvT2JqKTtcbiAgICB0aGlzLmVkaXRvcnVybCA9IGVkaXRvcnVybDtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsaW1pdFRvUmFuZ2U6IGZhbHNlLFxuICAgICAgYXV0b1NlbGVjdFJhbmdlOiB0cnVlLFxuICAgICAgY29uc3RyYWluTmF2aWdhdGlvblRvUmFuZ2U6IHRydWUsXG4gICAgICB2aXJ0dWFsQ2FudmFzRW5hYmxlZDogdHJ1ZVxuICAgIH07XG5cbiAgICAvL0NoZWNrIGlmIHRoZSBsYW5ndWFnZSBpcyBzZXQsIGFuZCBpZiB3ZSBoYXZlIHRoaXMgcHJlc2VudCwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gRW5nbGlzaFxuICAgIGlmIChsYW5ndWFnZS5sZW5ndGggPT09IDAgfHwgbGFuZ3VhZ2VzLmZpbmQobGFuZyA9PiBsYW5nLmNvZGUgPT09IGxhbmd1YWdlKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsYW5ndWFnZSA9ICdlbic7XG4gICAgfVxuXG4gICAgY29uc3QgYmFuYW5hID0gbmV3IEJhbmFuYShsYW5ndWFnZSk7XG4gICAgYmFuYW5hLmxvYWQoaTE4bltsYW5ndWFnZV0sIGxhbmd1YWdlKTtcbiAgICB0aGlzLmJhbmFuYSA9IGJhbmFuYTtcbiAgfVxuXG4gIGNyZWF0ZUFWQ29tcG9uZW50KCkge1xuICAgIHRoaXMuJGF2Y29tcG9uZW50ID0gJCgnPGRpdiBjbGFzcz1cImlpaWYtYXYtY29tcG9uZW50XCIgdGFiaW5kZXg9XCIwXCI+PC9kaXY+Jyk7XG4gICAgJCh0aGlzLmVsZW0pLmFwcGVuZCh0aGlzLiRhdmNvbXBvbmVudCk7XG5cbiAgICBsZXQgcGxheWVyID0gdGhpcztcblxuICAgIHRoaXMuYXZjb21wb25lbnQgPSBuZXcgSUlJRkFWQ29tcG9uZW50LkFWQ29tcG9uZW50KHsgdGFyZ2V0OiB0aGlzLiRhdmNvbXBvbmVudFswXSB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ21lZGlhZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgIG1lZGlhRXJyb3JIYW5kbGVyKHBsYXllciwgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdmNvbXBvbmVudC5vbignbG9nJywgKG1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hdmNvbXBvbmVudC5vbigncGxheScsICgpID0+IHtcbiAgICAgIHBsYXlFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ3BhdXNlJywgKCkgPT4ge1xuICAgICAgcGF1c2VFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ21lZGlhcmVhZHknLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZU1lZGlhUmVhZHkocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYXZjb21wb25lbnQub24oJ2Z1bGxzY3JlZW4nLCAoKSA9PiB7XG4gICAgICBmdWxsU2NyZWVuRXZlbnRIYW5kbGVyKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmF2Y29tcG9uZW50Lm9uKCd2b2x1bWVjaGFuZ2VkJywgKHZhbHVlKSA9PiB7XG4gICAgICB2b2x1bWVDaGFuZ2VkRXZlbnRIYW5kbGVyKHBsYXllciwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kYXZjb21wb25lbnQub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAga2V5RXZlbnRIYW5kbGVyKHBsYXllciwgZSk7XG4gICAgfSk7XG4gIH1cblxuICBpdGVtU2VsZWN0TGlzdGVuZXIoZGF0YSkge1xuICAgIGlmICh0aGlzLmhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oYW5kbGVyID0gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmhhbmRsZXIudmlkZW9JZCA9IGRhdGE7XG5cbiAgICBsZXQgcGxheWVyID0gdGhpcztcblxuICAgIHRoaXMuaGFuZGxlci5sZE1hbmlmZXN0KGRhdGEsIChoZWxwZXIpID0+IHtcbiAgICAgIHBsYXllci5tYW5pZmVzdCA9IGhlbHBlci5tYW5pZmVzdDtcblxuICAgICAgbGV0IGNhbnZhc2VzID0gaGVscGVyLmdldENhbnZhc2VzKCk7XG4gICAgICBpZiAoY2FudmFzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBpbml0Q2FudmFzTmF2aWdhdGlvbihjYW52YXNlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuY2FudmFzTmF2aWdhdGlvbkNvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SOiBDb3VsZCBub3QgbG9hZCBtYW5pZmVzdCBkYXRhLicsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxkTWFuaWZlc3QobWFuaWZlc3QsIHN1Y2Nlc3NjYiwgZXJyb3JjYikge1xuICAgIGxldCBwbGF5ZXIgPSB0aGlzO1xuXG4gICAgTWFuaWZvbGQubG9hZE1hbmlmZXN0KHtcbiAgICAgIG1hbmlmZXN0VXJpOiBtYW5pZmVzdCxcbiAgICAgIGNvbGxlY3Rpb25JbmRleDogMCxcbiAgICAgIG1hbmlmZXN0SW5kZXg6IDAsXG4gICAgICBzZXF1ZW5jZUluZGV4OiAwLFxuICAgICAgY2FudmFzSW5kZXg6IDBcbiAgICB9KS50aGVuKChoKSA9PiB7XG4gICAgICBoZWxwZXIgPSBoO1xuXG4gICAgICBpZiAoaGVscGVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkuaWQuaW5kZXhPZignaHR0cDovL3d3dy5ldXNjcmVlbi5ldS9pdGVtLmh0bWw/aWQ9JykgPiAtMSkge1xuICAgICAgICBoYW5kbGVFVXNjcmVlbkl0ZW0ocGxheWVyLCBoZWxwZXIpXG4gICAgICAgICAgLnRoZW4oKGgpID0+IHtcbiAgICAgICAgICAgIGhlbHBlciA9IGg7XG4gICAgICAgICAgICBwbGF5ZXIuc2V0QXZDb21wb25lbnQocGxheWVyLCBzdWNjZXNzY2IpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGxheWVyLnNldEF2Q29tcG9uZW50KHBsYXllciwgc3VjY2Vzc2NiKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgZXJyb3JjYihlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEF2Q29tcG9uZW50KHBsYXllciwgc3VjY2Vzc2NiKSB7XG4gICAgcGxheWVyLmF2Y29tcG9uZW50LnNldCh7XG4gICAgICBoZWxwZXIsXG4gICAgICBsaW1pdFRvUmFuZ2U6IHBsYXllci5zdGF0ZS5saW1pdFRvUmFuZ2UsXG4gICAgICBhdXRvU2VsZWN0UmFuZ2U6IHBsYXllci5zdGF0ZS5hdXRvU2VsZWN0UmFuZ2UsXG4gICAgICBjb25zdHJhaW5OYXZpZ2F0aW9uVG9SYW5nZTogcGxheWVyLnN0YXRlLmNvbnN0cmFpbk5hdmlnYXRpb25Ub1JhbmdlLFxuICAgICAgdmlydHVhbENhbnZhc0VuYWJsZWQ6IHBsYXllci5zdGF0ZS52aXJ0dWFsQ2FudmFzRW5hYmxlZFxuICAgIH0pO1xuICAgIHN1Y2Nlc3NjYihoZWxwZXIpO1xuICAgIHBsYXllci5yZXNpemUoKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBsZXQgJHBsYXllckNvbnRhaW5lciA9ICQoJyMnK3RoaXMuZWxlbS5pZCsnIC5wbGF5ZXJDb250YWluZXInKTtcbiAgICAkcGxheWVyQ29udGFpbmVyLmhlaWdodCgkcGxheWVyQ29udGFpbmVyLndpZHRoKCkgKiAwLjc1KTtcbiAgICB0aGlzLmF2Y29tcG9uZW50LnJlc2l6ZSgpO1xuICB9XG5cbiAgY3JlYXRlTWFuaWZlc3Qodk9iaikge1xuICAgIGlmICghdk9iai5tYW5pZmVzdCAmJiB2T2JqLnNvdXJjZS5zdGFydHNXaXRoKCdFVVNfJykpIHtcbiAgICAgIHZPYmoubWFuaWZlc3QgPSAnaHR0cHM6Ly92aWRlb2VkaXRvci5ub3RlcmlrLmNvbS9tYW5pZmVzdC9ldXNjcmVlbm1hbmlmZXN0LnBocD9pZD0nK3ZPYmouc291cmNlO1xuICAgIH1cblxuICAgIHRoaXMubWFuaWZlc3R1cmwgPSB2T2JqLm1hbmlmZXN0O1xuICAgIHRoaXMuaXRlbVNlbGVjdExpc3RlbmVyKHZPYmoubWFuaWZlc3QpO1xuICB9XG5cbiAgaW5pdExhbmd1YWdlcygpIHtcbiAgICBsZXQgdGV4dFRyYWNrcyA9ICQoJyMnK3RoaXMuZWxlbS5pZCsnIHZpZGVvJylbMF0udGV4dFRyYWNrcztcblxuICAgIC8vY2hlY2sgaWYgd2UgaGF2ZSBhbnkgdGV4dHRyYWNrc1xuICAgIGlmICh0ZXh0VHJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vc2hvdyBidXR0b24gb25seSBpZiB3ZSBoYXZlIGF0IGxlYXN0IG9uZSBsYW5ndWFnZSBzZXRcbiAgICAkKCcuYnRuW2RhdGEtbmFtZT1TdWJ0aXRsZXNdJykuc2hvdygpO1xuXG4gICAgbGV0IG1lbnUgPSAnPGRpdiBjbGFzcz1cXCdhbm5vIHN1YnRpdGxlbWVudVxcJz4nO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVudSArPSAnPGRpdiBjbGFzcz1cXCdzdWJ0aXRsZW1lbnUtb3B0aW9uXFwnIGRhdGEtbGFuZ3VhZ2U9XFwnJyt0ZXh0VHJhY2tzW2ldLmxhbmd1YWdlKydcXCc+JytsYW5ndWFnZXMuZmluZChsYW5nID0+IGxhbmcuaXNvID09PSB0ZXh0VHJhY2tzW2ldLmxhbmd1YWdlKS5uYW1lKyc8L2Rpdj4nO1xuICAgIH1cbiAgICBtZW51ICs9ICc8L2Rpdj4nO1xuXG4gICAgJCgnIycrdGhpcy5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hcHBlbmQobWVudSk7XG5cbiAgICAkKCdidXR0b25bZGF0YS1uYW1lPVwiU3VidGl0bGVzXCJdJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgdG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyKHRoaXMsIGUpO1xuICAgIH0pO1xuXG4gICAgbGV0IHBsYXllciA9IHRoaXM7XG5cbiAgICAkKCcuc3VidGl0bGVtZW51LW9wdGlvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIocGxheWVyLCBlKTtcbiAgICB9KTtcbiAgICB0aGlzLmF2Y29tcG9uZW50LmZpcmUoJ2xhbmd1YWdlc2luaXRpYWxpemVkJyk7XG4gIH1cblxuICAvL3RvZG86IGFkZHJlc3MgYXVkaW8gYXMgd2VsbFxuICBoYXNFbmRlZCgpIHtcbiAgICBpZiAoJCgnIycrdGhpcy5lbGVtLmlkKycgdmlkZW8nKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAkKCcjJyt0aGlzLmVsZW0uaWQrJyB2aWRlbycpWzBdLmVuZGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTWVkaWFSZWFkeShwbGF5ZXIpIHtcbiAgICBpZiAocGxheWVyLmF2Y29tcG9uZW50LmNhbnZhc0luc3RhbmNlc1swXS5fY2FudmFzV2lkdGggPCA0MDApIHtcbiAgICAgIHRoaXMub3B0aW1pemVGb3JTbWFsbGVyU2NyZWVucygpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQVZDb21wb25lbnRMYW5ndWFnZShwbGF5ZXIpO1xuXG4gICAgbGV0IHN1YnRpdGxlcyA9IHRoaXMuY3JlYXRlQnV0dG9uKCdTdWJ0aXRsZXMnLCB0aGlzLmJhbmFuYS5pMThuKCdwbGF5ZXItc3VidGl0bGVzJyksICdhdi1pY29uLXN1YnRpdGxlcycpO1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNvbnRyb2xzLWNvbnRhaW5lcicpLmFwcGVuZChzdWJ0aXRsZXMpO1xuXG4gICAgaWYgKHBsYXllci5lZGl0b3J1cmwgJiYgcGxheWVyLmVkaXRvcnVybC5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgc2hvd01lbnUgPSBwbGF5ZXIubmVlZFRvU2hvd01lbnUocGxheWVyKTtcblxuICAgICAgaWYgKHNob3dNZW51KSB7XG4gICAgICAgIHRoaXMuYWRkRWRpdG9yT3B0aW9uKHBsYXllcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cXCdhbm5vIHBsYXl3cmFwcGVyXFwnPjxzcGFuIGNsYXNzPVxcJ3BsYXljaXJjbGVcXCc+PC9zcGFuPjwvZGl2PicpO1xuXG4gICAgdGhpcy5oYW5kbGVNZWRpYVR5cGUocGxheWVyKTtcbiAgICBoYW5kbGVUcmFuc2NyaXB0aW9uQW5ub3RhdGlvbnMocGxheWVyKTtcblxuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBwbGF5UGF1c2VFdmVudEhhbmRsZXIocGxheWVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9wdGltaXplRm9yU21hbGxlclNjcmVlbnMoKSB7XG4gICAgJCgnLmlpaWYtYXYtY29tcG9uZW50IC5jb250cm9scy1jb250YWluZXIgLnZvbHVtZScpLmNzcyh7ICd3aWR0aCc6IDgwIH0pO1xuICAgICQoJy5paWlmLWF2LWNvbXBvbmVudCAuY29udHJvbHMtY29udGFpbmVyIC52b2x1bWUgLnZvbHVtZS1zbGlkZXInKS5jc3MoeyAnd2lkdGgnOiA0MiB9KTtcbiAgfVxuXG4gIGFkZEVkaXRvck9wdGlvbihwbGF5ZXIpIHtcbiAgICBsZXQgbW9yZSA9IHRoaXMuY3JlYXRlQnV0dG9uKCdNb3JlJywgdGhpcy5iYW5hbmEuaTE4bigncGxheWVyLW1vcmUnKSwgJ2F2LWljb24tbW9yZScpO1xuICAgIG1vcmVbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZWRpdG9yQnV0dG9uRXZlbnRIYW5kbGVyKHBsYXllciwgZSk7XG4gICAgfSk7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY29udHJvbHMtY29udGFpbmVyJykuYXBwZW5kKG1vcmUpO1xuXG4gICAgdGhpcy5oYW5kbGVNZW51T3B0aW9ucyhwbGF5ZXIpO1xuICB9XG5cbiAgdXBkYXRlQVZDb21wb25lbnRMYW5ndWFnZShwbGF5ZXIpIHtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC52b2x1bWUtbXV0ZScpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItbXV0ZScpKTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idXR0b24tZnVsbHNjcmVlbicpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZnVsbHNjcmVlbicpKTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idXR0b24tcGxheScpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItcGxheScpKTtcbiAgfVxuXG4gIGNyZWF0ZUJ1dHRvbihuYW1lLCB0ZXh0LCBjbGFzc25hbWUpIHtcbiAgICBsZXQgYnV0dG9uID0gJCgnPGJ1dHRvbiBjbGFzcz1cImJ0blwiIGRhdGEtbmFtZT1cIicrbmFtZSsnXCIgdGl0bGU9XCInK3RleHQrJ1wiPjxpIGNsYXNzPVwiYXYtaWNvbiAnK2NsYXNzbmFtZSsnXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicrdGV4dCsnPC9idXR0b24+Jyk7XG4gICAgcmV0dXJuIGJ1dHRvbjtcbiAgfVxuXG4gIGhhbmRsZU1lbnVPcHRpb25zKHBsYXllcikge1xuICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmNhbnZhcy1jb250YWluZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XFwnYW5ubyBtb3JlbWVudVxcJz48L2Rpdj4nKTtcblxuICAgIGxldCBvcHRpb25zID0geyBlbWJlZDogdHJ1ZSwgYW5ub3RhdGlvbjogZmFsc2UsIHBsYXlsaXN0OiBmYWxzZSwgc3VidGl0bGVzOiBmYWxzZSB9O1xuICAgIG9wdGlvbnMgPSBwbGF5ZXIuZGV0ZXJtaW5lT3B0aW9uRGlzcGxheShwbGF5ZXIsIG9wdGlvbnMpO1xuXG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAubW9yZW1lbnUnKS5hcHBlbmQoJzxkaXYgaWQ9XFwnY3JlYXRlLScra2V5KyctbGlua1xcJyBjbGFzcz1cXCdtb3JlbWVudS1vcHRpb25cXCc+Jyt0aGlzLmJhbmFuYS5pMThuKCdwbGF5ZXItY3JlYXRlLScra2V5KSsnPC9kaXY+Jyk7XG5cbiAgICAgICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAjY3JlYXRlLScra2V5KyctbGluaycpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgb3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIocGxheWVyLCBlLCBrZXkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuZWVkVG9TaG93TWVudShwbGF5ZXIpIHtcbiAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLnJpZ2h0cykpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ2FsbG93ZWQnICYmIChrZXkgPT09ICdlbWJlZCcgfHwga2V5ID09PSAnYW5ub3RhdGlvbicgfHwga2V5ID09PSAncGxheWxpc3QnIHx8IGtleSA9PT0gJ3N1YnRpdGxlcycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZXRlcm1pbmVPcHRpb25EaXNwbGF5KHBsYXllciwgb3B0aW9ucykge1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQucmlnaHRzKSkge1xuICAgICAgaWYgKHZhbHVlID09PSAnYWxsb3dlZCcpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICBoYW5kbGVNZWRpYVR5cGUocGxheWVyKSB7XG4gICAgbGV0IHcsIGg7XG4gICAgdyA9IGggPSA0MDA7XG4gICAgc3dpdGNoICh0aGlzLmdldE1lZGlhVHlwZShwbGF5ZXIpKSB7XG4gICAgICBjYXNlICdBdWRpbyc6XG4gICAgICAgIHRoaXMuc2V0SW1hZ2UocGxheWVyLCBwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQudGh1bWJuYWlsWzBdLmlkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdWaWRlbyc6XG4gICAgICAgIHcgPSBwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLl9jYW52YXNXaWR0aDtcbiAgICAgICAgaCA9IHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0uX2NhbnZhc0hlaWdodDtcbiAgICB9XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQpLmNzcyh7IHdpZHRoIDogdywgaGVpZ2h0IDogaCB9KTtcbiAgfVxuXG4gIGdldE1lZGlhVHlwZShwbGF5ZXIpIHtcbiAgICByZXR1cm4gcGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHkudHlwZTtcbiAgfVxuXG4gIHNldEltYWdlKHBsYXllciwgaW1hZ2UpIHtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykuY3NzKHsgJ2JhY2tncm91bmQtaW1hZ2UnIDogJ3VybCgnICsgaW1hZ2UgKycpJyB9KTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5jYW52YXMtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2F1ZGlvLWJhY2tncm91bmQnKTtcbiAgfVxufVxuIiwiLyogZ2xvYmFsICQgKi9cblxuZnVuY3Rpb24gcGxheUV2ZW50SGFuZGxlcihwbGF5ZXIpIHtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAucGxheXdyYXBwZXInKS5oaWRlKCk7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ1dHRvbi1wbGF5JykuYXR0cigndGl0bGUnLCBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1wYXVzZScpKTtcbn1cblxuZnVuY3Rpb24gcGF1c2VFdmVudEhhbmRsZXIocGxheWVyKSB7XG4gIGNsZWFySW50ZXJ2YWwocGxheWVyLnRpbWV1cGRhdGUpO1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idXR0b24tcGxheScpLmF0dHIoJ3RpdGxlJywgcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItcGxheScpKTtcbn1cblxuZnVuY3Rpb24gdm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlcihwbGF5ZXIsIHZhbHVlKSB7XG4gIGxldCBtdXRlVHlwZSA9IHZhbHVlICE9PSAwID8gJ3BsYXllci1tdXRlJyA6ICdwbGF5ZXItdW5tdXRlJztcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAudm9sdW1lLW11dGUnKS5hdHRyKCd0aXRsZScsIHBsYXllci5iYW5hbmEuaTE4bihtdXRlVHlwZSkpO1xufVxuXG5mdW5jdGlvbiBrZXlFdmVudEhhbmRsZXIocGxheWVyLCBlKSB7XG4gIGlmIChlLmtleUNvZGUgPT09IDMyIHx8IGUua2V5Q29kZSA9PT0gNzUpIHsgIC8vc3BhY2UgYmFyLCBrIGJ1dHRvblxuICAgIHBsYXlQYXVzZUV2ZW50SGFuZGxlcihwbGF5ZXIpO1xuICB9XG4gIGlmIChlLmtleUNvZGUgPT09IDcwKSB7IC8vZiBidXR0b25cbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5idXR0b24tZnVsbHNjcmVlbicpLmNsaWNrKCk7XG4gIH1cbiAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIHsgLy92b2x1bWUgdXAgYnkgMTAlXG4gICAgaGFuZGxlVm9sdW1lQ2hhbmdlKHBsYXllciwgMC4xKTtcbiAgfVxuICBpZiAoZS5rZXlDb2RlID09PSA0MCkgeyAvL3ZvbHVtZSBkb3duIGJ5IDEwJVxuICAgIGhhbmRsZVZvbHVtZUNoYW5nZShwbGF5ZXIsIC0wLjEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBsYXlQYXVzZUV2ZW50SGFuZGxlcihwbGF5ZXIpIHtcbiAgaWYgKHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0uX2lzUGxheWluZykge1xuICAgIHBsYXllci5hdmNvbXBvbmVudC5jYW52YXNJbnN0YW5jZXNbMF0ucGF1c2UoKTtcbiAgfSBlbHNlIHtcbiAgICAvL2hpZGUgcGxheWNpcmNsZSBpZiBzaG93aW5nXG4gICAgaWYgKCQoJyMnK3BsYXllci5lbGVtLmlkKycgLnBsYXl3cmFwcGVyJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnBsYXl3cmFwcGVyJykuaGlkZSgpO1xuICAgIH1cbiAgICBwbGF5ZXIuYXZjb21wb25lbnQuY2FudmFzSW5zdGFuY2VzWzBdLnBsYXkoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmdWxsU2NyZWVuRXZlbnRIYW5kbGVyKHBsYXllcikge1xuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5tb3JlbWVudScpLmhpZGUoKTtcbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuc3VidGl0bGVtZW51JykuaGlkZSgpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVWb2x1bWVDaGFuZ2UocGxheWVyLCByYXRlKSB7XG4gIGxldCB2YWwgPSAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC52b2x1bWUtc2xpZGVyJykuc2xpZGVyKCdvcHRpb24nLCAndmFsdWUnKTtcbiAgdmFsID0gZGV0ZXJtaW5lTmV3Vm9sdW1lKHZhbCwgcmF0ZSk7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnZvbHVtZS1zbGlkZXInKS5zbGlkZXIoJ3ZhbHVlJywgdmFsKTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lTmV3Vm9sdW1lKHZhbCwgcmF0ZSkge1xuICBpZiAocmF0ZSA8IDApIHtcbiAgICByZXR1cm4gZGVjcmVhc2VWb2x1bWUodmFsLCByYXRlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5jcmVhc2VWb2x1bWUodmFsLCByYXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWNyZWFzZVZvbHVtZSh2YWwsIHJhdGUpIHtcbiAgcmV0dXJuIHZhbCA8IHJhdGUgPyAwIDogdmFsICsgcmF0ZTtcbn1cblxuZnVuY3Rpb24gaW5jcmVhc2VWb2x1bWUodmFsLCByYXRlKSB7XG4gIHJldHVybiB2YWwgPiByYXRlICsgdmFsID4gMSA/IDEgOiB2YWwgKyByYXRlO1xufVxuXG5mdW5jdGlvbiBlZGl0b3JCdXR0b25FdmVudEhhbmRsZXIocGxheWVyLCBlKSB7XG4gIHRvZ2dsZU1lbnVPcHRpb24ocGxheWVyLCBlLCAnbW9yZW1lbnUnLCAnTW9yZScpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVTdWJ0aXRsZXNFdmVudEhhbmRsZXIocGxheWVyLCBlKSB7XG4gIHRvZ2dsZU1lbnVPcHRpb24ocGxheWVyLCBlLCAnc3VidGl0bGVtZW51JywgJ1N1YnRpdGxlcycpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZW51T3B0aW9uKHBsYXllciwgZSwgY2xzLCBuYW1lKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBpZiAoJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuJytjbHMpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuJytjbHMpLmhpZGUoKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC4nK2NscykuY3NzKHsgYm90dG9tOiAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5vcHRpb25zLWNvbnRhaW5lcicpLmhlaWdodCgpLCBsZWZ0OiAoKCQoJyMnK3BsYXllci5lbGVtLmlkKycgLmJ0bltkYXRhLW5hbWU9XCInK25hbWUrJ1wiXScpLm9mZnNldCgpLmxlZnQgLSAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5ZXInKS5vZmZzZXQoKS5sZWZ0KSAtICgkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC4nK2Nscykud2lkdGgoKSAvIDIpKSB9KTtcbiAgICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC4nK2Nscykuc2hvdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN1YnRpdGxlTWVudUV2ZW50SGFuZGxlcihwbGF5ZXIsICBlKSB7XG4gICQoJyMnK3BsYXllci5lbGVtLmlkKycgLnN1YnRpdGxlbWVudScpLmhpZGUoKTtcbiAgbGV0IHRleHRUcmFja3MgPSAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIHZpZGVvJylbMF0udGV4dFRyYWNrcztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoJChlLnRhcmdldCkuZGF0YSgnbGFuZ3VhZ2UnKSA9PT0gdGV4dFRyYWNrc1tpXS5sYW5ndWFnZSkge1xuICAgICAgdGV4dFRyYWNrc1tpXS5tb2RlID0gJ3Nob3dpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0VHJhY2tzW2ldLm1vZGUgPSAnaGlkZGVuJztcbiAgICB9XG4gIH1cbiAgLy9wcmV2ZW50IHRoZSBwbGF5L3BhdXNlIGhhbmRsZXIgdG8gcmVhY3RcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuZnVuY3Rpb24gb3BlbkVkaXRvclR5cGVFdmVudEhhbmRsZXIocGxheWVyLCBlLCB0eXBlKSB7XG4gIC8vcHJldmVudCB0aGUgcGxheS9wYXVzZSBoYW5kbGVyIHRvIHJlYWN0XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgd2luZG93Lm9wZW4ocGxheWVyLmVkaXRvcnVybCsnP21hbmlmZXN0PScrZW5jb2RlVVJJQ29tcG9uZW50KHBsYXllci5tYW5pZmVzdHVybCkrJyMnK3R5cGUsICdfYmxhbmsnKTtcbn1cblxuZnVuY3Rpb24gbWVkaWFFcnJvckhhbmRsZXIocGxheWVyLCBlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCdtZWRpYSBlcnJvcicsIGVycm9yKTtcblxuICAkKCcjJytwbGF5ZXIuZWxlbS5pZCsnIC5wbGF5ZXInKS5yZW1vdmVDbGFzcygncGxheWVyLS1sb2FkaW5nJyk7XG4gIGxldCBlcnJvcm1lc3NhZ2UgPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvcicpKyc6ICc7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgMTpcbiAgICAgIGVycm9ybWVzc2FnZSArPSBwbGF5ZXIuYmFuYW5hLmkxOG4oJ3BsYXllci1lcnJvci1sb2FkaW5nJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlcnJvcm1lc3NhZ2UgKz0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3ItbmV0d29yaycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLWRlY29kaW5nJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBlcnJvcm1lc3NhZ2UgKz0gcGxheWVyLmJhbmFuYS5pMThuKCdwbGF5ZXItZXJyb3ItZm9ybWF0Jyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZXJyb3JtZXNzYWdlICs9IHBsYXllci5iYW5hbmEuaTE4bigncGxheWVyLWVycm9yLXVua25vd24nKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgJCgnIycrcGxheWVyLmVsZW0uaWQrJyAuY2FudmFzLWNvbnRhaW5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cXCdhbm5vIGVycm9ybWVzc2FnZVxcJz4nK2Vycm9ybWVzc2FnZSsnPC9kaXY+Jyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwbGF5RXZlbnRIYW5kbGVyLCBwYXVzZUV2ZW50SGFuZGxlciwgdm9sdW1lQ2hhbmdlZEV2ZW50SGFuZGxlciwga2V5RXZlbnRIYW5kbGVyLCBwbGF5UGF1c2VFdmVudEhhbmRsZXIsIGZ1bGxTY3JlZW5FdmVudEhhbmRsZXIsIGVkaXRvckJ1dHRvbkV2ZW50SGFuZGxlciwgdG9nZ2xlU3VidGl0bGVzRXZlbnRIYW5kbGVyLCBzdWJ0aXRsZU1lbnVFdmVudEhhbmRsZXIsIG9wZW5FZGl0b3JUeXBlRXZlbnRIYW5kbGVyLCBtZWRpYUVycm9ySGFuZGxlclxufTtcbiIsIi8qIGdsb2JhbCAkICovXG5cbmNvbnN0IGxhbmd1YWdlcyA9IHJlcXVpcmUoJy4uL2xhbmd1YWdlcy9sYW5nLmpzJykuZGVmYXVsdC5sb2NhbGVzO1xuXG5mdW5jdGlvbiBoYW5kbGVUcmFuc2NyaXB0aW9uQW5ub3RhdGlvbnMocGxheWVyKSB7XG4gIGlmIChwbGF5ZXIubWFuaWZlc3QuX19qc29ubGQuaXRlbXNbMF0uYW5ub3RhdGlvbnMgJiYgcGxheWVyLm1hbmlmZXN0Ll9fanNvbmxkLml0ZW1zWzBdLmFubm90YXRpb25zWzBdKSB7XG4gICAgZmV0Y2hBbm5vdGF0aW9ucyhwbGF5ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoQW5ub3RhdGlvbnMocGxheWVyKSB7XG4gICQuZ2V0KHBsYXllci5tYW5pZmVzdC5fX2pzb25sZC5pdGVtc1swXS5hbm5vdGF0aW9uc1swXS5pZCwgKHJlc3BvbnNlKSA9PiB7XG4gICAgbGV0IHRleHRSZXNvdXJjZSA9IHJlc3BvbnNlLnJlc291cmNlcy5maW5kKChyZXNvdXJjZSkgPT4ge1xuICAgICAgcmV0dXJuIHJlc291cmNlLmRjVHlwZSA9PT0gJ01lZGlhJztcbiAgICB9KTtcblxuICAgIGZldGNoVGV4dFJlc291cmNlKHBsYXllciwgcmVzcG9uc2UsIHRleHRSZXNvdXJjZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmZXRjaFRleHRSZXNvdXJjZShwbGF5ZXIsIGFubm90YXRpb25SZXNvdXJjZSwgdGV4dFJlc291cmNlKSB7XG4gIC8vZGV0ZXJtaW5lIHRleHQsIGZldGNoLCB0aGVuIGxvb3Agb3ZlciBhbGwgZW50cmllcyBhbmQgYWRkIHRoZW0gdG8gYSB0ZXh0IHRyYWNrXG4gICQuYWpheCh7XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgdXJsOiB0ZXh0UmVzb3VyY2UucmVzb3VyY2VbJ0BpZCddLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnLFxuICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgc3VjY2VzczogKChmdWxsVGV4dCkgPT4ge1xuICAgICAgbGV0IHRyYWNrID0gJCgnIycrcGxheWVyLmVsZW0uaWQrJyB2aWRlbycpWzBdLmFkZFRleHRUcmFjaygnc3VidGl0bGVzJywgJ3N1Yml0bGVzJywgbGFuZ3VhZ2VzLmZpbmQobGFuZyA9PiBsYW5nLmNvZGUgPT09IGZ1bGxUZXh0Lmxhbmd1YWdlKS5pc28pO1xuXG4gICAgICBhbm5vdGF0aW9uUmVzb3VyY2UucmVzb3VyY2VzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmRjVHlwZSA9PT0gJ0NhcHRpb24nKSB7XG4gICAgICAgICAgdHJhY2suYWRkQ3VlKGhhbmRsZUNhcHRpb24oZWxlbWVudCwgZnVsbFRleHQpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwbGF5ZXIuaW5pdExhbmd1YWdlcygpO1xuICAgIH0pXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDYXB0aW9uKGVsZW1lbnQsIGZ1bGxUZXh0KSB7XG4gIGxldCBjaGFyYWN0ZXJSYW5nZSA9IGVsZW1lbnQucmVzb3VyY2VbJ0BpZCddLnN1YnN0cmluZyhlbGVtZW50LnJlc291cmNlWydAaWQnXS5sYXN0SW5kZXhPZignPScpKzEpO1xuICBsZXQgY2hhclJhbmdlID0gY2hhcmFjdGVyUmFuZ2Uuc3BsaXQoJywnKTtcbiAgbGV0IHN1YnRpdGxlU3RyaW5nID0gZnVsbFRleHQudmFsdWUuc3Vic3RyaW5nKGNoYXJSYW5nZVswXSwgY2hhclJhbmdlWzFdKTtcbiAgbGV0IHRpbWVSYW5nZSA9IGVsZW1lbnQub25bMF0uc3Vic3RyaW5nKGVsZW1lbnQub25bMF0ubGFzdEluZGV4T2YoJz0nKSsxKTtcbiAgbGV0IHRSYW5nZSA9IHRpbWVSYW5nZS5zcGxpdCgnLCcpO1xuXG4gIGxldCBjdWUgPSBuZXcgVlRUQ3VlKHRpbWVUb1NlY29uZHModFJhbmdlWzBdKSwgdGltZVRvU2Vjb25kcyh0UmFuZ2VbMV0pLCBzdWJ0aXRsZVN0cmluZyk7XG4gIGN1ZS5pZCA9IGVsZW1lbnQucmVzb3VyY2VbJ0BpZCddO1xuICBjdWUubGluZSA9IC00O1xuICBjdWUuc2l6ZSA9IDkwO1xuXG4gIHJldHVybiBjdWU7XG59XG5cbmZ1bmN0aW9uIHRpbWVUb1NlY29uZHModGltZSkge1xuICBsZXQgW2hvdXJzLCBtaW51dGVzLCBzZWNvbmRzXSA9IHRpbWUuc3BsaXQoJzonKTtcbiAgaG91cnMgPSBwYXJzZUludChob3Vycyk7XG4gIG1pbnV0ZXMgPSBwYXJzZUludChtaW51dGVzKTtcbiAgbGV0IG1pbGxpc2Vjb25kcztcblxuICBsZXQgcGFydHMgPSBzZWNvbmRzLmxhc3RJbmRleE9mKCcuJykgPiAtMSA/IHNlY29uZHMuc3BsaXQoJy4nKSA6IFtzZWNvbmRzLCAwXTtcbiAgc2Vjb25kcyA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblxuICBtaWxsaXNlY29uZHMgPSBwYXJ0c1sxXS5sZW5ndGggPT09IDIgPyBwYXJzZUludChwYXJ0c1sxXSkgKiAxMCA6IHBhcnNlSW50KHBhcnRzWzFdKTtcblxuICByZXR1cm4gKGhvdXJzICogMzYwMCArIG1pbnV0ZXMgKiA2MCArIHNlY29uZHMpICsnLicrIG1pbGxpc2Vjb25kcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhhbmRsZVRyYW5zY3JpcHRpb25Bbm5vdGF0aW9uc1xufTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIGdsb2JhbCAkICovXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IFBsYXllciBmcm9tICcuL2NvbXBvbmVudHMvcGxheWVyJztcblxubGV0IGVkaXRvcnVybCA9ICcnO1xubGV0IHBsYXllcjtcbmxldCBsYW5ndWFnZSA9ICcnO1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IChjb250YWluZXIsIHZpZGVvT2JqLCBvcHRpb25zKSA9PiB7XG4gIC8vQ3JlYXRlIHVuaXF1ZSBwbGF5ZXIgaWRcbiAgbGV0IHBsYXllcklkID0gdXVpZHY0KCk7XG5cbiAgLy9BcHBlbmQgcGxheWVyIHRvIGNvbnRhaW5lciB3aXRoIHRoZSB1bmlxdWUgaWRcbiAgJChjb250YWluZXIpLmFwcGVuZCgnPGRpdiBpZD1cImV1cHMtcGxheWVyLScrcGxheWVySWQrJ1wiIGNsYXNzPVwiZXVwcy1wbGF5ZXJcIj48L2Rpdj4nKTtcblxuICAvL1NldCBvcHRpb25zXG4gIGVkaXRvcnVybCA9IG9wdGlvbnMuZWRpdG9yIHx8IGVkaXRvcnVybDtcbiAgbGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlIHx8IGxhbmd1YWdlO1xuXG4gIC8vQ3JlYXRlIHBsYXllclxuICBwbGF5ZXIgPSBuZXcgUGxheWVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldXBzLXBsYXllci0nK3BsYXllcklkKSk7XG5cbiAgLy9Jbml0aWFsaXplIHBsYXllclxuICBwbGF5ZXIuaW5pdCh2aWRlb09iaiwgZWRpdG9ydXJsLCBsYW5ndWFnZSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXVpZHY0ID0gKCkgPT4ge1xuICByZXR1cm4gKFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+XG4gICAgKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNilcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV1cm9wZWFuYU1lZGlhUGxheWVyIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB2aWRlb09iaiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IG9wdGlvbnMgOiB7fTtcbiAgICBpbml0KGNvbnRhaW5lciwgdmlkZW9PYmosIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IHBsYXllcigpIHtcbiAgICByZXR1cm4gcGxheWVyO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZGFzaGpzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2pxdWVyeV9fOyJdLCJzb3VyY2VSb290IjoiIn0=